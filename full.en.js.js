/*! Bundled by webpack from entry point: ./_Scripts/PartialJS/full/index.ts */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./Content/Js/third-party/event-emitter.js":
/*!*************************************************!*\
  !*** ./Content/Js/third-party/event-emitter.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;﻿
/**
 * EventEmitter v4.0.1 - git.io/gTW-jg
 * Oliver Caldwell
 * MIT license
 */

;
(function (exports) {
    // JSHint config - http://www.jshint.com/
    /*jshint laxcomma:true*/
    /*global define:true*/

    // Place the script in strict mode
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class Manages event registering and emitting.
     */

    function EventEmitter() { }

    // Shortcuts to improve speed and size
    // Easy access to the prototype
    var proto = EventEmitter.prototype

    // Blank array used when no arguments are passed to emitEvent
    ,
        argumentsPlaceholder = []

        // Existence of a native index
        ,
        nativeIndexOf = argumentsPlaceholder.indexOf ? true : false;

    /**
     * Finds the index of the listener for the event in it's storage array
     *
     * @param {Function} listener Method to look for.
     * @param {Function[]} listeners Array of listeners to search through.
     * @return {Number} Index of the specified listener, -1 if not found
     */

    function indexOfListener(listener, listeners) {
        // Return the index via the native method if possible
        if (nativeIndexOf) {
            return listeners.indexOf(listener);
        }

        // There is no native method
        // Use a manual loop to find the index
        var i = listeners.length;
        while (i--) {
            // If the listener matches, return it's index
            if (listeners[i] === listener) {
                return i;
            }
        }

        // Default to returning -1
        return -1;
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     *
     * @param {String} evt Name of the event to return the listeners from.
     * @return {Function[]} All listener functions for the event.
     * @doc
     */
    proto.getListeners = function (evt) {
        // Create a shortcut to the storage object
        // Initialise it if it does not exists yet
        var events = this._events || (this._events = {});

        // Return the listener array
        // Initialise it if it does not exist
        return events[evt] || (events[evt] = []);
    };

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     *
     * @param {String} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.addListener = function (evt, listener) {
        // Fetch the listeners
        var listeners = this.getListeners(evt);

        // Push the listener into the array if it is not already there
        if (indexOfListener(listener, listeners) === -1) {
            listeners.push(listener);
        }

        // Return the instance of EventEmitter to allow chaining
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     *
     * @param {String} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.removeListener = function (evt, listener) {
        // Fetch the listeners
        // And get the index of the listener in the array
        var listeners = this.getListeners(evt),
            index = indexOfListener(listener, listeners);

        // If the listener was found then remove it
        if (index !== -1) {
            listeners.splice(index, 1);

            // If there are no more listeners in this array then remove it
            if (listeners.length === 0) {
                this._events[evt] = null;
            }
        }

        // Return the instance of EventEmitter to allow chaining
        return this;
    };

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added.
     *
     * @param {String|Object} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.addListeners = function (evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     *
     * @param {String|Object} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.removeListeners = function (evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.manipulateListeners = function (remove, evt, listeners) {
        // Initialise any required variables
        var i, value, single = remove ? this.removeListener : this.addListener,
            multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of it's properties to this method
        if (typeof evt === 'object') {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    } else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        } else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        // Return the instance of EventEmitter to allow chaining
        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     *
     * @param {String} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.removeEvent = function (evt) {
        // Remove different things depending on the state of evt
        if (evt) {
            // Remove all listeners for the specified event
            this._events[evt] = null;
        } else {
            // Remove all listeners in all events
            this._events = null;
        }

        // Return the instance of EventEmitter to allow chaining
        return this;
    };

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     *
     * @param {String} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each argument.
     * @return {Object} Current instance of EventEmitter for chaining.
     * @doc
     */
    proto.emitEvent = function (evt, args) {
        // Get the listeners for the event
        // Also initialise any other required variables
        var listeners = this.getListeners(evt),
            i = listeners.length;

        // Loop over all listeners assigned to the event
        // Apply the arguments array to each listener function
        while (i--) {
            // If the listener returns true then it shall be removed from the event
            if (listeners[i].apply(null, args || argumentsPlaceholder) === true) {
                this.removeListener(evt, listeners[i]);
            }
        }

        // Return the instance of EventEmitter to allow chaining
        return this;
    };

    // Expose the class either via AMD or the global object
    if (true) {
        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
            return EventEmitter;
        }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this));

/***/ }),

/***/ "./_Scripts/LegacyJS/constants.mod.js":
/*!********************************************!*\
  !*** ./_Scripts/LegacyJS/constants.mod.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KEY_CODE: () => (/* binding */ KEY_CODE)
/* harmony export */ });
﻿const KEY_CODE = {
    LEFT_MOUSE: 1,
    MIDDLE_MOUSE: 2,
    BACKSPACE: 8,
    TAB: 9,
    ENTER: 13,
    ESC: 27,
    SPACE: 32,
    PAGEUP: 33,
    PAGEDOWN: 34,
    END: 35,
    HOME: 36,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    DEL: 46,
    0: 48,
    1: 49,
    2: 50,
    3: 51,
    4: 52,
    5: 53,
    6: 54,
    7: 55,
    8: 56,
    9: 57,
    A: 65,
    B: 66,
    C: 67,
    D: 68,
    E: 69,
    F: 70,
    G: 71,
    H: 72,
    I: 73,
    J: 74,
    K: 75,
    L: 76,
    M: 77,
    N: 78,
    O: 79,
    P: 80,
    Q: 81,
    R: 82,
    S: 83,
    T: 84,
    U: 85,
    V: 86,
    W: 87,
    X: 88,
    Y: 89,
    Z: 90,
    F4: 115,
    COMMA: 188,
};

/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/05_StyleCode.mod.js":
/*!***********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/05_StyleCode.mod.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _05_StyleCode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./05_StyleCode */ "./_Scripts/LegacyJS/full-common/05_StyleCode.js");
/* harmony import */ var _05_StyleCode__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_05_StyleCode__WEBPACK_IMPORTED_MODULE_0__);


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (window.styleCode);


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/11_Question.mod.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/11_Question.mod.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addAnswerIvcObservers: () => (/* binding */ addAnswerIvcObservers),
/* harmony export */   bindAnonymousVoteDisclaimers: () => (/* binding */ bindAnonymousVoteDisclaimers),
/* harmony export */   bindFetchAcceptedAnswerDates: () => (/* binding */ bindFetchAcceptedAnswerDates),
/* harmony export */   canViewVoteCounts: () => (/* binding */ canViewVoteCounts),
/* harmony export */   getQuestionId: () => (/* binding */ getQuestionId),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   initShareLinks: () => (/* binding */ initShareLinks),
/* harmony export */   initTitleSearch: () => (/* binding */ initTitleSearch),
/* harmony export */   instrumentVotingForVotePromptExperiment: () => (/* binding */ instrumentVotingForVotePromptExperiment),
/* harmony export */   scrollToComment: () => (/* binding */ scrollToComment),
/* harmony export */   scrollToPost: () => (/* binding */ scrollToPost)
/* harmony export */ });
/* harmony import */ var _11_Question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./11_Question */ "./_Scripts/LegacyJS/full-common/11_Question.js");


const initTitleSearch = StackExchange.question.initTitleSearch;
const getQuestionId = StackExchange.question.getQuestionId;
const initShareLinks = StackExchange.question.initShareLinks;
const canViewVoteCounts = StackExchange.question.canViewVoteCounts;
const scrollToPost = StackExchange.question.scrollToPost;
const scrollToComment = StackExchange.question.scrollToComment;
const instrumentVotingForVotePromptExperiment = StackExchange.question.instrumentVotingForVotePromptExperiment;
const init = StackExchange.question.init;
const bindAnonymousVoteDisclaimers = StackExchange.question.bindAnonymousVoteDisclaimers;
const bindFetchAcceptedAnswerDates = StackExchange.question.bindFetchAcceptedAnswerDates;
const addAnswerIvcObservers = StackExchange.question.addAnswerIvcObservers;

/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/12_Comments.mod.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/12_Comments.mod.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extendPostUi: () => (/* binding */ extendPostUi),
/* harmony export */   flashHighlight: () => (/* binding */ flashHighlight),
/* harmony export */   highlight: () => (/* binding */ highlight),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   loadAll: () => (/* binding */ loadAll),
/* harmony export */   realtimeMessage: () => (/* binding */ realtimeMessage),
/* harmony export */   replaceAll: () => (/* binding */ replaceAll),
/* harmony export */   uiForPost: () => (/* binding */ uiForPost)
/* harmony export */ });
/* harmony import */ var _12_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./12_Comments */ "./_Scripts/LegacyJS/full-common/12_Comments.js");
/* harmony import */ var _12_Comments__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_12_Comments__WEBPACK_IMPORTED_MODULE_0__);


const init = StackExchange.comments.init;
const loadAll = StackExchange.comments.loadAll;
const replaceAll = StackExchange.comments.replaceAll;
const realtimeMessage = StackExchange.comments.realtimeMessage;
const flashHighlight = StackExchange.comments.flashHighlight;
const highlight = StackExchange.comments.highlight;
const extendPostUi = StackExchange.comments.extendPostUi;
const uiForPost = StackExchange.comments.uiForPost;


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/20_Analytics.mod.js":
/*!***********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/20_Analytics.mod.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bindTrackClicks: () => (/* binding */ bindTrackClicks),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   sendPending: () => (/* binding */ sendPending),
/* harmony export */   track: () => (/* binding */ track),
/* harmony export */   trackOutboundClicks: () => (/* binding */ trackOutboundClicks)
/* harmony export */ });
/* harmony import */ var _20_Analytics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./20_Analytics */ "./_Scripts/LegacyJS/full-common/20_Analytics.js");
/* harmony import */ var _20_Analytics__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_20_Analytics__WEBPACK_IMPORTED_MODULE_0__);


function init(...args) {
    return StackExchange.gps.init(...args);
}
function bindTrackClicks(...args) {
    StackExchange.gps.bindTrackClicks(...args);
}
function track(...args) {
    return StackExchange.gps.track(...args);
}
function sendPending(...args) {
    return StackExchange.gps.sendPending(...args);
}
function trackOutboundClicks(...args) {
    return StackExchange.gps.trackOutboundClicks(...args);
}


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/21_OpenID.mod.js":
/*!********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/21_OpenID.mod.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initPostLogin: () => (/* binding */ initPostLogin),
/* harmony export */   showLoginModal: () => (/* binding */ showLoginModal)
/* harmony export */ });
/* harmony import */ var _21_OpenID__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./21_OpenID */ "./_Scripts/LegacyJS/full-common/21_OpenID.js");
/* harmony import */ var _21_OpenID__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_21_OpenID__WEBPACK_IMPORTED_MODULE_0__);


const initPostLogin = StackExchange.openid.initPostLogin;
const showLoginModal = StackExchange.openid.showLoginModal;


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/controllers sync (?<%21\\.mod)\\.js$":
/*!****************************************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/controllers/ sync nonrecursive (?<%21\.mod)\.js$ ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./se-char-counter.js": "./_Scripts/LegacyJS/full-common/controllers/se-char-counter.js",
	"./se-draggable.js": "./_Scripts/LegacyJS/full-common/controllers/se-draggable.js",
	"./se-share-sheet.js": "./_Scripts/LegacyJS/full-common/controllers/se-share-sheet.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./_Scripts/LegacyJS/full-common/controllers sync (?<%21\\.mod)\\.js$";

/***/ }),

/***/ "./_Scripts/LegacyJS/full-common sync (?<%21\\.mod)\\.js$":
/*!****************************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/ sync nonrecursive (?<%21\.mod)\.js$ ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./00_Header.js": "./_Scripts/LegacyJS/full-common/00_Header.js",
	"./02_TopBar.js": "./_Scripts/LegacyJS/full-common/02_TopBar.js",
	"./03_Notify.js": "./_Scripts/LegacyJS/full-common/03_Notify.js",
	"./04_MoveScroller.js": "./_Scripts/LegacyJS/full-common/04_MoveScroller.js",
	"./05_StyleCode.js": "./_Scripts/LegacyJS/full-common/05_StyleCode.js",
	"./07_TagMenu.js": "./_Scripts/LegacyJS/full-common/07_TagMenu.js",
	"./08_UserMenu.js": "./_Scripts/LegacyJS/full-common/08_UserMenu.js",
	"./09_ChatAd.js": "./_Scripts/LegacyJS/full-common/09_ChatAd.js",
	"./10_TagSanitizer.js": "./_Scripts/LegacyJS/full-common/10_TagSanitizer.js",
	"./11_Question.js": "./_Scripts/LegacyJS/full-common/11_Question.js",
	"./12_Comments.js": "./_Scripts/LegacyJS/full-common/12_Comments.js",
	"./14_TagRenderer.js": "./_Scripts/LegacyJS/full-common/14_TagRenderer.js",
	"./15_FadingHelpText.js": "./_Scripts/LegacyJS/full-common/15_FadingHelpText.js",
	"./18_jQueryCaretPlugin.js": "./_Scripts/LegacyJS/full-common/18_jQueryCaretPlugin.js",
	"./19_NoCaptcha.js": "./_Scripts/LegacyJS/full-common/19_NoCaptcha.js",
	"./20_Analytics.js": "./_Scripts/LegacyJS/full-common/20_Analytics.js",
	"./21_OpenID.js": "./_Scripts/LegacyJS/full-common/21_OpenID.js",
	"./22_UniversalAuth.js": "./_Scripts/LegacyJS/full-common/22_UniversalAuth.js",
	"./33_AnonFkeyCookie.js": "./_Scripts/LegacyJS/full-common/33_AnonFkeyCookie.js",
	"./34_jqueryUiLoader.js": "./_Scripts/LegacyJS/full-common/34_jqueryUiLoader.js",
	"./36_FlashMessage.js": "./_Scripts/LegacyJS/full-common/36_FlashMessage.js",
	"./37_PrepareEditor.js": "./_Scripts/LegacyJS/full-common/37_PrepareEditor.js",
	"./39_Auth.js": "./_Scripts/LegacyJS/full-common/39_Auth.js",
	"./40_Hero.js": "./_Scripts/LegacyJS/full-common/40_Hero.js",
	"./41_Checklist.js": "./_Scripts/LegacyJS/full-common/41_Checklist.js",
	"./44_StacksValidation.js": "./_Scripts/LegacyJS/full-common/44_StacksValidation.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./_Scripts/LegacyJS/full-common sync (?<%21\\.mod)\\.js$";

/***/ }),

/***/ "./_Scripts/LegacyJS/full sync (?<%21\\.mod)\\.js$":
/*!*********************************************************************!*\
  !*** ./_Scripts/LegacyJS/full/ sync nonrecursive (?<%21\.mod)\.js$ ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./00_Header.js": "./_Scripts/LegacyJS/full/00_Header.js",
	"./03_QuestionFullInit.js": "./_Scripts/LegacyJS/full/03_QuestionFullInit.js",
	"./04_Vote.js": "./_Scripts/LegacyJS/full/04_Vote.js",
	"./05_VoteToCloseAndFlag.js": "./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.js",
	"./06_CommentsActive.js": "./_Scripts/LegacyJS/full/06_CommentsActive.js",
	"./07_CommentTabCompleter.js": "./_Scripts/LegacyJS/full/07_CommentTabCompleter.js",
	"./08_InlineEditing.js": "./_Scripts/LegacyJS/full/08_InlineEditing.js",
	"./saves.js": "./_Scripts/LegacyJS/full/saves.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./_Scripts/LegacyJS/full sync (?<%21\\.mod)\\.js$";

/***/ }),

/***/ "./_Scripts/LegacyJS/realtime-se.mod.js":
/*!**********************************************!*\
  !*** ./_Scripts/LegacyJS/realtime-se.mod.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debug: () => (/* binding */ debug),
/* harmony export */   expandActiveQuestions: () => (/* binding */ expandActiveQuestions),
/* harmony export */   expandAnswers: () => (/* binding */ expandAnswers),
/* harmony export */   genericSubscribe: () => (/* binding */ genericSubscribe),
/* harmony export */   genericUnsubscribe: () => (/* binding */ genericUnsubscribe),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   log: () => (/* binding */ log),
/* harmony export */   pauseQuestionNotifications: () => (/* binding */ pauseQuestionNotifications),
/* harmony export */   reloadPosts: () => (/* binding */ reloadPosts),
/* harmony export */   simulate: () => (/* binding */ simulate),
/* harmony export */   subscribeToActiveQuestions: () => (/* binding */ subscribeToActiveQuestions),
/* harmony export */   subscribeToCounts: () => (/* binding */ subscribeToCounts),
/* harmony export */   subscribeToQuestion: () => (/* binding */ subscribeToQuestion),
/* harmony export */   subscribeToReputationNotifications: () => (/* binding */ subscribeToReputationNotifications),
/* harmony export */   subscribeToReviewDashboard: () => (/* binding */ subscribeToReviewDashboard),
/* harmony export */   subscribeToStagingGroundQuestion: () => (/* binding */ subscribeToStagingGroundQuestion),
/* harmony export */   subscribeToTopBarNotifications: () => (/* binding */ subscribeToTopBarNotifications),
/* harmony export */   subscribeToUQL: () => (/* binding */ subscribeToUQL),
/* harmony export */   unsubscribeToQuestion: () => (/* binding */ unsubscribeToQuestion),
/* harmony export */   updateRelativeDates: () => (/* binding */ updateRelativeDates)
/* harmony export */ });
/* harmony import */ var _realtime_se__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./realtime-se */ "./_Scripts/LegacyJS/realtime-se.js");
/* harmony import */ var _realtime_se__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_realtime_se__WEBPACK_IMPORTED_MODULE_0__);


const init = StackExchange.realtime.init;
const log = StackExchange.realtime.log;
const simulate = StackExchange.realtime.simulate;
const expandActiveQuestions = StackExchange.realtime.expandActiveQuestions;
const expandAnswers = StackExchange.realtime.expandAnswers;
const subscribeToActiveQuestions = StackExchange.realtime.subscribeToActiveQuestions;
const subscribeToUQL = StackExchange.realtime.subscribeToUQL;

const subscribeToQuestion = StackExchange.realtime.subscribeToQuestion;
const unsubscribeToQuestion = StackExchange.realtime.unsubscribeToQuestion;
const pauseQuestionNotifications = StackExchange.realtime.pauseQuestionNotifications;

const subscribeToStagingGroundQuestion = StackExchange.realtime.subscribeToStagingGroundQuestion;

const subscribeToReputationNotifications = StackExchange.realtime.subscribeToReputationNotifications;
const updateRelativeDates = StackExchange.realtime.updateRelativeDates;
const subscribeToReviewDashboard = StackExchange.realtime.subscribeToReviewDashboard;
const subscribeToTopBarNotifications = StackExchange.realtime.subscribeToTopBarNotifications;
const subscribeToCounts = StackExchange.realtime.subscribeToCounts;
const genericSubscribe = StackExchange.realtime.genericSubscribe;
const genericUnsubscribe = StackExchange.realtime.genericUnsubscribe;

const reloadPosts = StackExchange.realtime.reloadPosts;
const debug = StackExchange.realtime.debug;


/***/ }),

/***/ "./_Scripts/LegacyJS/stub.mod.js":
/*!***************************************!*\
  !*** ./_Scripts/LegacyJS/stub.mod.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debug: () => (/* binding */ debug),
/* harmony export */   setTooltipHtml: () => (/* binding */ setTooltipHtml),
/* harmony export */   setTooltipText: () => (/* binding */ setTooltipText)
/* harmony export */ });
const debug = StackExchange.debug;

function setTooltipHtml(jqueryObj, html, options) {
    jqueryObj.each(function () {
        Stacks.setTooltipHtml(this, html, options);
    });
}

function setTooltipText(jqueryObj, text, options) {
    jqueryObj.each(function () {
        Stacks.setTooltipText(this, text, options);
    });
}

/***/ }),

/***/ "./_Scripts/site-includes lazy recursive ^\\.\\/.*\\.mod$ exclude: index":
/*!************************************************************************************!*\
  !*** ./_Scripts/site-includes/ lazy ^\.\/.*\.mod$ exclude: index namespace object ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./chess.mod": [
		"./_Scripts/site-includes/chess.mod.ts",
		"_Scripts_site-includes_chess_mod_ts"
	],
	"./mathHideUserRep.mod": [
		"./_Scripts/site-includes/mathHideUserRep.mod.ts",
		"_Scripts_site-includes_mathHideUserRep_mod_ts"
	],
	"./poker.mod": [
		"./_Scripts/site-includes/poker.mod.ts",
		"_Scripts_site-includes_poker_mod_ts"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(() => {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "./_Scripts/site-includes lazy recursive ^\\.\\/.*\\.mod$ exclude: index";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/exports-loader/dist/cjs.js?exports=Svg!./node_modules/imports-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!./node_modules/ts-loader/index.js??ruleSet[1].rules[2].use[0]!./_Scripts/PartialJS/full-common/99_svg.ts":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/exports-loader/dist/cjs.js?exports=Svg!./node_modules/imports-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!./node_modules/ts-loader/index.js??ruleSet[1].rules[2].use[0]!./_Scripts/PartialJS/full-common/99_svg.ts ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Svg: () => (/* binding */ Svg)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
/** NOTE: When this file is removed, also remove the svg loading functionality in webpack.common.ts **/
/**
 * DO NOT USE THIS; use `createSvgElement` from `Shared/svg-utils.mod.ts` like so:
 * ```
 * import { IconClearSm } from "@stackoverflow/stacks-icons/icon";
 * import { createSvgElement } from "./path/to/Shared/svg-utils.mod";
 * const icon = createSvgElement(IconClearSm);
 * ```
 * @deprecated
 */
class Svg {
    static getSvg(svg) {
        const $svg = $(svg);
        const ret = () => $svg;
        ret.With = function (classes) {
            return $svg.clone().addClass(classes);
        };
        ret.WithAttr = function (args) {
            const clone = $svg.clone();
            clone.attr(args);
            return clone;
        };
        return ret;
    }
}
Svg.AchievementsSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/AchievementsSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AchievementsSm.svg"));
Svg.Alert = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Alert.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Alert.svg"));
Svg.AlertCircle = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/AlertCircle.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertCircle.svg"));
Svg.AlertSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/AlertSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertSm.svg"));
Svg.Checkmark = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Checkmark.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Checkmark.svg"));
Svg.Clear = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Clear.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Clear.svg"));
Svg.ClearSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/ClearSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ClearSm.svg"));
Svg.DevTo = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/DevTo.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/DevTo.svg"));
Svg.Facebook = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Facebook.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Facebook.svg"));
Svg.HelpSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/HelpSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/HelpSm.svg"));
Svg.Link = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Link.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Link.svg"));
Svg.People = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/People.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/People.svg"));
Svg.ShareSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/ShareSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ShareSm.svg"));
Svg.TrendingDown = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/TrendingDown.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingDown.svg"));
Svg.TrendingNone = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/TrendingNone.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingNone.svg"));
Svg.TrendingUp = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/TrendingUp.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingUp.svg"));
Svg.Twitter = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/Twitter.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Twitter.svg"));
Svg.UndoSm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/UndoSm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/UndoSm.svg"));
Svg.IndustrySm = Svg.getSvg(__webpack_require__(/*! @stackoverflow/stacks-icons/dist/Icon/IndustrySm.svg */ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/IndustrySm.svg"));

/*** EXPORTS FROM exports-loader ***/



/***/ }),

/***/ "./node_modules/expose-loader/dist/cjs.js?exposes=EventEmitter!./Content/Js/third-party/event-emitter-exposed.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/expose-loader/dist/cjs.js?exposes=EventEmitter!./Content/Js/third-party/event-emitter-exposed.js ***!
  \***********************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var ___EXPOSE_LOADER_IMPORT___ = __webpack_require__(/*! -!./event-emitter.js */ "./Content/Js/third-party/event-emitter.js");
var ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = __webpack_require__(/*! ../../../node_modules/expose-loader/dist/runtime/getGlobalThis.js */ "./node_modules/expose-loader/dist/runtime/getGlobalThis.js");
var ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;
if (typeof ___EXPOSE_LOADER_GLOBAL_THIS___["EventEmitter"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___["EventEmitter"] = ___EXPOSE_LOADER_IMPORT___;
else throw new Error('[exposes-loader] The "EventEmitter" value exists in the global scope, it may not be safe to overwrite it, use the "override" option')
module.exports = ___EXPOSE_LOADER_IMPORT___;


/***/ }),

/***/ "./node_modules/expose-loader/dist/cjs.js?exposes=Svg|Svg!./node_modules/exports-loader/dist/cjs.js?exports=Svg!./_Scripts/PartialJS/full-common/99_svg-exposed.ts":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/expose-loader/dist/cjs.js?exposes=Svg|Svg!./node_modules/exports-loader/dist/cjs.js?exports=Svg!./_Scripts/PartialJS/full-common/99_svg-exposed.ts ***!
  \*************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var ___EXPOSE_LOADER_IMPORT___ = __webpack_require__(/*! -!../../../node_modules/exports-loader/dist/cjs.js?exports=Svg!../../../node_modules/imports-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!../../../node_modules/ts-loader/index.js??ruleSet[1].rules[2].use[0]!./99_svg.ts */ "./node_modules/exports-loader/dist/cjs.js?exports=Svg!./node_modules/imports-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!./node_modules/ts-loader/index.js??ruleSet[1].rules[2].use[0]!./_Scripts/PartialJS/full-common/99_svg.ts");
var ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = __webpack_require__(/*! ../../../node_modules/expose-loader/dist/runtime/getGlobalThis.js */ "./node_modules/expose-loader/dist/runtime/getGlobalThis.js");
var ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;
var ___EXPOSE_LOADER_IMPORT_MODULE_LOCAL_NAME___ = ___EXPOSE_LOADER_IMPORT___.Svg
if (typeof ___EXPOSE_LOADER_GLOBAL_THIS___["Svg"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___["Svg"] = ___EXPOSE_LOADER_IMPORT_MODULE_LOCAL_NAME___;
else throw new Error('[exposes-loader] The "Svg" value exists in the global scope, it may not be safe to overwrite it, use the "override" option')
module.exports = ___EXPOSE_LOADER_IMPORT___;


/***/ }),

/***/ "./node_modules/expose-loader/dist/runtime/getGlobalThis.js":
/*!******************************************************************!*\
  !*** ./node_modules/expose-loader/dist/runtime/getGlobalThis.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


// eslint-disable-next-line func-names
module.exports = function () {
  if (typeof globalThis === "object") {
    return globalThis;
  }
  var g;
  try {
    // This works if eval is allowed (see CSP)
    // eslint-disable-next-line no-new-func
    g = this || new Function("return this")();
  } catch (e) {
    // This works if the window reference is available
    if (typeof window === "object") {
      return window;
    }

    // This works if the self reference is available
    if (typeof self === "object") {
      return self;
    }

    // This works if the global reference is available
    if (typeof __webpack_require__.g !== "undefined") {
      return __webpack_require__.g;
    }
  }
  return g;
}();

/***/ }),

/***/ "./_Scripts/LegacyJS/bounty.js":
/*!*************************************!*\
  !*** ./_Scripts/LegacyJS/bounty.js ***!
  \*************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.vote_bounty = (function () {

    function bountyClose_callback($button, postId, data) {

        if (data.Success) {

            // We used to update user's reputation, but that functionality has been broken for a while due to shifting page layouts.  We could bring that back in the future if desired.

            var newValue = $button.data('award-if-applied');

            $button
                .closest('.js-bounty-award-container')
                .find('.js-bounty-award')
                .removeClass('d-none')
                .text('+' + newValue)
                .setTooltipText(__tr(["This answer has been awarded bounties worth $bountyAmount$ reputation"], {bountyAmount: newValue}, "en", []), { placement: 'right' });

            // Remove the post notice, any bounty voting buttons, any bounty award container that does not have a visible award.
            $('.js-bounty-notification, .js-bounty-vote, .js-bounty-award-container:not(:has(.js-bounty-award:not(.d-none)))').remove();

        } else {
            toggleBountyButtonEnabled(true);
            StackExchange.helpers.showToast(data.Message, { type: 'danger' });
        }
    }

    function toggleBountyButtonEnabled(enabled) {
        $('.js-bounty-vote').prop('disabled', !enabled).find('.s-badge').toggleClass('bg-black-400');
    }

    function bountyClose($button) {

        if (!confirm(__tr(["Are you sure you want to award your bounty to this answer? You can’t undo this!"], undefined, "en", []))) { return; }

        var postId = StackExchange.vote.getPostId($button);

        toggleBountyButtonEnabled(false);

        // Hide the tooltip since disabled elements don't receive mouse event.
        $button.dispatchEvent('mouseout');

        StackExchange.vote.submit({
            $target: $button,
            postId: postId,
            voteTypeId: StackExchange.vote.voteTypeIds.bountyClose,
            success: bountyClose_callback
        });
    };

    var bountyClose_init = function () {
        $(document).on('click', '.js-bounty-vote', function () { bountyClose($(this)); });
    };

    var bountyOpen_initLink = function (attachHandler, link) {
        link = $(link || $(".bounty-link"));
        link = link.off('click', bountyOpen_loadPopup);
        if (attachHandler) link.on('click', bountyOpen_loadPopup);
        return link;
    }

    var bountyOpen_loadPopup = function () {
        var link = bountyOpen_initLink(false, this);
        var postId = $(link).closest(".question").data("questionid")

        link.loadPopup({
            url: '/posts/bounty/' + postId,
        }).always(function () {
            bountyOpen_initLink(true, link);
        });
    };

    var bountyOpen_init = function () {
        bountyOpen_initLink(true);
    };

    return {
        init: function (options) {
            if (options.canOpenBounty)
                bountyOpen_init();
            if (options.hasOpenBounty)
                bountyClose_init();
        }
    };
})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/00_Header.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/00_Header.js ***!
  \****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";

// This file contains the functionality that even anonymous users need.
// During the build process, this file will also be prepended to full.part.js
// to form full.js

StackExchange.anonymous = {};




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/02_TopBar.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/02_TopBar.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _constants_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/* harmony import */ var _TopBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../TopBar */ "./_Scripts/TopBar.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// trying out this inheritance helper - https://github.com/ded/klass



/*!
  * klass: a classical JS OOP façade
  * https://github.com/ded/klass
  * License MIT (c) Dustin Diaz & Jacob Thornton 2012
  */
window.klass = (function (context) {
    context = context || this;
    var old = context.klass
      , f = 'function'
      , fnTest =  false ? 0 : /.*/
      , proto = 'prototype'

    function klass(o) {
        return extend.call(isFn(o) ? o : function () { }, o, 1)
    }

    function isFn(o) {
        return typeof o === f
    }

    function wrap(k, fn, supr) {
        return function () {
            var tmp = this.supr
            this.supr = supr[proto][k]
            var undef = {}.fabricatedUndefined
            var ret = undef
            try {
                ret = fn.apply(this, arguments)
            } finally {
                this.supr = tmp
            }
            return ret
        }
    }

    function process(what, o, supr) {
        for (var k in o) {
            if (o.hasOwnProperty(k)) {
                what[k] = isFn(o[k])
                  && isFn(supr[proto][k])
                  && fnTest.test(o[k])
                  ? wrap(k, o[k], supr) : o[k]
            }
        }
    }

    function extend(o, fromSub) {
        // must redefine noop each time so it doesn't inherit from previous arbitrary classes
        function noop() { }
        noop[proto] = this[proto]
        var supr = this
          , prototype = new noop()
          , isFunction = isFn(o)
          , _constructor = isFunction ? o : this
          , _methods = isFunction ? {} : o
        function fn() {
            if (this.initialize) this.initialize.apply(this, arguments)
            else {
                fromSub || isFunction && supr.apply(this, arguments)
                _constructor.apply(this, arguments)
            }
        }

        fn.methods = function (o) {
            process(prototype, o, supr)
            fn[proto] = prototype
            return this
        }

        fn.methods.call(fn, _methods).prototype.constructor = fn

        fn.extend = extend;
        fn[proto].implement = fn.statics = function (o, optFn) {
            o = typeof o == 'string' ? (function () {
                var obj = {}
                obj[o] = optFn
                return obj
            }()) : o
            process(this, o, supr)
            return this
        }

        return fn
    }

    klass.noConflict = function () {
        context.klass = old
        return this
    }

    return klass
})(window);

const UNREAD_MESSAGE_ICON_EVENT_SOURCE = 2;
const INBOX_POPUP_ITEM_EVENT_SOURCE = 3;

StackExchange.topbar = (function () {
    
    /*
        Base class of any dialog to be displayed when clicking a topbar button.
    */
    var Dialog = klass({ // declare instance variables
        name: '',
        url: '',
        cssClass: '', // needed for $loadingPlaceholders
        
        button: null,
        
        $dialog: null,        
        $loadingPlaceholder: null,
        $preloadedDialog: null,
        $parent: null,

        alignment: null,

        hasRead: false
    })
    .methods({
        
        isLoading: function () {
            return this.$loadingPlaceholder != null;
        },

        isLoaded: function () {
            return this.$dialog != null;
        },
        
        isVisible: function() {
            var $div = this.$dialog || this.$loadingPlaceholder;
            return $div != null && $div.is(':visible');
        },

        toggle: function (showOrHide, preventMarkAsRead) {
            if (typeof showOrHide != 'boolean') {
                throw new Error('showOrHide is a required parameter');
            }

            if (!showOrHide) { // hide
                
                // someone got impatient with a long-running request
                if (this.isLoading()) {
                    // so hide the placeholder
                    this.showOrHide(false);
                    return;
                }

                // never clicked this dialog? no work to be done! (this happens when calling hideAll)
                if (!this.isLoaded()) {
                    return;
                }
            }

            if (this.isLoaded() || this.isLoading()) {

                // toggle the already-loaded dialog or the loading placeholder
                this.showOrHide(showOrHide);  

                // only clear the unread indicators (icon count + item highlighting) when closing content we've seen
                if (!showOrHide && !preventMarkAsRead && this.hasRead) {
                    this.markAsRead();
                }              
            }
            else if (this.$preloadedDialog) {
                // sometimes we want a dialog to be extra responsive, so we'll preload most of it..
                // then, we'll load its extraneous content when clicked, e.g. the "all sites" list in the site switcher
                // note: this.$dialog will be set to this.$preloadedDialog on the first click
                this.loadChildContent();
            }
            else {
                this.loadDialog();
            }
            
            // when showing this dialog, others should be hidden
            if (showOrHide) {
                for (var i = 0; i < buttons.length; i++) {
                    if (this.button != buttons[i]) {
                        buttons[i].toggle(false, preventMarkAsRead);
                    }
                }

                // hide search popover, too
                $(".js-top-search-popover").removeClass("is-visible");
            }
        },
        
        showOrHide: function (showOrHide) {
            var $div = this.$dialog || this.$loadingPlaceholder || $();
            var $button = this.button.$button;

            if (showOrHide) {
                var $li = $button.closest('li');
                if (!this.$parent) {
                    if ($li.length > 0) {
                        this.$parent = $('<li role="presentation" />').insertAfter($li);
                    }
                }

                if (this.$parent) {
                    this.$parent.append($div);
                } else {
                    $div.insertAfter(this.button.$button);
                }

                if (!this._bound_pdub) {
                    this._bound_pdub = this.positionDialogUnderButton.bind(this);
                }
                this.positionDialogUnderButton();
                if (StackExchange.responsive) {
                    StackExchange.responsive.addBreakpointListener(this._bound_pdub);
                }
            } else {
                if (StackExchange.responsive && this._bound_pdub) {
                    StackExchange.responsive.removeBreakpointListener(this._bound_pdub);
                }
            }

            $div.toggle(showOrHide);

            if (showOrHide && this.isLoaded()) { // assume user will now have viewed the real dialog
                this.hasRead = true;
            }
        },
        
        loadChildContent: function () {
            var $childContent = this.$preloadedDialog.find('.child-content');
            this.$dialog = this.$preloadedDialog;
            
            this.showOrHide(true);

            if (!this.url) return;

            $('<div>', { 'class': 'child-content-loading' }).addSpinner().appendTo($childContent);

            var thisDialog = this;
            
            this.fetchUrl().done(function (html) {
                $childContent.html(html);
                thisDialog.afterLoad();
            });
        },

        loadDialog: function () {
            if (this.isLoading()) return;
            
            this.$loadingPlaceholder = this.getLoadingPlaceholder();
            this.showOrHide(true);
            
            var thisDialog = this;

            this.fetchUrl()
                .done(function (html) {
                    thisDialog.$dialog = $(html);
                    thisDialog.afterLoad();
                    
                    // because the user could toggle the placeholder, its visibilty takes precedence over the original intent
                    var showOrHide = thisDialog.$loadingPlaceholder.is(':visible');

                    thisDialog.showOrHide(showOrHide);
                })
                .always(function() {
                    thisDialog.$loadingPlaceholder.remove();
                    thisDialog.$loadingPlaceholder = null;
                });
        },
        
        afterLoad: function () {
            // inheritors may override, but should call this.supr()

            // hooks up events for close buttons inside the async loaded dialogs (used on mobile)
            this.$dialog.find('.js-close-button').click(function() {
                StackExchange.topbar.hideAll();
            });

            // TRACK ALL THE THINGS
            StackExchange.gps.bindTrackClicks(this.$dialog);
        },

        getLoadingPlaceholder: function () {
            var imgHtml = $('<div/>').append(StackExchange.helpers.getSpinnerImg()).html();
            var cssClasses = this.cssClass + (StackExchange.options.user.isAnonymousNetworkWide ? ' anon' : '');
            var html = [
                '<div class="topbar-dialog ', cssClasses, ' dno">',
                    '<div class="header">', imgHtml, '</div>',
                    '<div class="modal-content"/>',
                '</div>'
            ];
            return $(html.join(''));
        },

        positionDialogUnderButton: function() {
            // because the mod inbox button isn't with all the rest (and is in a different, absolutely-positioned container), 
            // we have to take measurements from the first button on the page and move the others over
            var alignment = this.alignment || "right",
                top = this.button.$button.outerHeight(),
                elem = this.$dialog || this.$loadingPlaceholder,
                positioningParent = elem.parent();
            
            // make sure to start with a clean slate by undoing the previous positioning
            ["top", "left", "right", "max-width"].forEach(function (prop) {
                elem[0].style.removeProperty(prop);
            });

            // can't use jquery's offsetParent() because it relies on the browser's Element.offsetParent which
            // returns null for display:none elements
            while (positioningParent.not("body").length && positioningParent.css("position") === "static")
                positioningParent = positioningParent.parent();
            
            positioningParent = positioningParent.length ? positioningParent : $("body");
                
            var y = this.button.$button.offset().left - positioningParent.offset().left;
            var maxwidth;
        
            if (alignment === "right") {
                y = positioningParent.outerWidth() - y - this.button.$button.outerWidth();

                // If the page is fairly narrow, the mod messages dialog (which sits far left) may end up extending to the left outside the viewport
                // at its normal width. This maxwidth ensures that the dialog goes no further then the left edge. While the dialog's responsiveness is
                // implemented mainly to support *wider*-than default, it handles shrinking by a couple pixels just fine.
                maxwidth = positioningParent.offset().left + positioningParent.outerWidth() - y;
            }
            var css = { 'top': top };

            if (!StackExchange.responsive || StackExchange.responsive.currentRange() !== "sm") { // below the small breakpoint, the CSS takes care of this.
                css[alignment] = y;
                if (maxwidth) {
                    css.maxWidth = maxwidth;
                }
            }
            
            (this.$dialog || this.$loadingPlaceholder).css(css);
        },

        fetchUrl: function () {
            log('fetching ' + this.url);
            
            var result = $.ajax({
                type: 'GET',
                url: this.url,
                dataType: 'html',
                error: function () {
                    StackExchange.helpers.showToast(__tr(["Something went wrong. Please try again."], undefined, "en", []), { type: 'danger' });
                }
            });

            return result;
        },

        markAsRead: function () {
            this.button.markAsRead();
            if (this.isLoaded()) {
                this.$dialog.find('.unread-item').removeClass('unread-item');
            }
        },

        handleRealtimeMessage: function (json) {
            // inheritors may override, but by default, just make the next click fetch fresh
            this.clearLoadedDialog();
        },
        
        clearLoadedDialog: function () {
            if (this.isLoaded()) {
                this.$dialog.remove();
                this.$dialog = null;
                this.hasRead = false;
            }
        },

        hasFocus: function () {
            return this.contains(document.activeElement);
        },

        contains: function (el) {
            var $scope = this.$dialog || this.$loadingPlaceholder;
            return $scope && $scope.length && el && $.contains($scope.get(0), el);
        }

    });
    
    /*
        Base class of icon buttons in the topbar, e.g. the Inbox button,
        that allows loading and displaying its associated Dialog.
    */
    var Button = klass({ // declare instance variables

        // these will be set in inheritors' declarations
        name: '',
        selector: '',
        dialog: null,

        // these will be set during initialize
        $button: null,
        onClass: '',
        unreadCountPrefix: '',
        queuedUnreadCount: 0,
        showsOnMouseOver: false,
        pendingUnread: {}
    })
    .methods({
        initialize: function () { // automatically called by klass during construction

            this.dialog.name = name;
            this.dialog.button = this;
            dialogs.push(this.dialog);

            // "this" inside the jquery click event is the clicked element
            var thisButton = this;
            this.$button = $(this.selector);
            this.$button.click(function () { thisButton.toggle(); return false; /* prevent navigation */ });

            // if any of the network-level dialogs are visible, mousing over another network button will show it
            if (this.showsOnMouseOver) {
                this.$button.mouseover(function (e) {
                    thisButton.showOnMouseOver();
                });
            }
            
            this.onClass = 'is-selected' + (this.onClass ? ' ' : '') + this.onClass;
        },

        toggle: function (showOrHide, preventMarkAsRead) {
            showOrHide = typeof showOrHide === 'boolean' ? showOrHide : !this.$button.hasClass(this.onClass);
            this.$button.toggleClass(this.onClass, showOrHide);
            this.$button.attr('aria-expanded', showOrHide);
            this.dialog.toggle(showOrHide, preventMarkAsRead);
            if (!showOrHide && this.dialog.hasFocus()) { this.$button.focus(); }
        },
        
        showOnMouseOver: function () {
            // https://meta.stackexchange.com/questions/210177/dont-require-a-click-to-switch-between-sites-inbox-and-achievements-on-the-ne
            var shouldShow = false;
            
            // find out if any buttons/dialogs are visible
            for (var i = 0; i < buttons.length; i++) {
                var b = buttons[i];
                if (b != this && b.showsOnMouseOver && b.isOn()) {
                    shouldShow = true;
                    break;
                }
            }
            
            if (shouldShow) {
                // quickly moving between button/dialog pairs shouldn't clear unread indicators
                this.toggle(true, /*preventMarkAsRead*/true);
            }
        },

        isOn: function() {
            return this.$button.hasClass(this.onClass);
        },

        markAsRead: function () {
            this.setUnread($.extend({ count: 0, litUp: false }, this.pendingUnread));
        },
        
        setUnread: function (status) {
            if (this.isOn()) {
                $.extend(this.pendingUnread, status);
                return;
            }

            this.pendingUnread = {};
            this.applyUnreadCount(status.count, status.litUp);
            if (status.count > 0 || status.litUp) {
                this.dialog.clearLoadedDialog();
            }
        },

        applyUnreadCount: function (unreadCount, litUp) {
            var $button = this.$button;
            var $count = $button.find('.unread-count, .js-unread-count');
            var unreadClass = $button.data('unread-class');

            if (litUp !== undefined && unreadClass) {
                $button.toggleClass(unreadClass, litUp).data('lit-up', litUp);
            }

            if (unreadCount !== undefined) {
                $button.data('unread-count', unreadCount);
                if (unreadCount > 0) {
                    $count.text(this.unreadCountPrefix + unreadCount).fadeIn().removeClass('d-none');
                } else {
                    $count.text(0).fadeOut();
                }
            }

            var newValues = this.getButtonLabelAndTitle($button.data('unread-count') || 0, !!$button.data('lit-up'));
            if (newValues) {
                $button.attr('aria-label', newValues.label);
                $button.attr('title', newValues.title);
            }
        },

        handleRealtimeMessage: function (json) {
            // inheritors may override
        },

        getButtonLabelAndTitle: function (unreadCount, litUp) {
            // inheritors may override
            return null;
        },
    });


    // subclasses of the above, organized by dialog/button pairing (i had to declare dialogs first, so buttons could instantiate them)
    
    var SiteSwitcherDialog = Dialog.extend({
        url: '/topbar/site-switcher/site-list', // returns content not already preloaded
        cssClass: 'siteSwitcher-dialog',

        $searchItems: null,
        $pinnedSiteSearchItems: null,
        isPreloaded: true,
        $preloadedDialog: $('.siteSwitcher-dialog')
    })
    .methods({
        afterLoad: function () {
            // NOTE: this is after the child content (i.e. the filterable site list) is loaded
            
            // allow filtering of sites
            this.$dialog.find('.js-site-filter-txt').typeWatch({ highlight: false, wait: 250, captureLength: -1, callback: $.proxy(this.filterSites, this) });
            this.$searchItems = this.$dialog.find('.js-other-sites li').clone().map(function () {
                return { title: $('.site-icon', this).attr('title').toLowerCase(), description: $('.site-desc', this).text().toLowerCase(), hostname: $('a', this).first().attr('href'), li: this };
            });

            // set up scrolling to the bottom of the 2nd site in the full list on search box focus
            var dialog = this.$dialog;
            this.$dialog.find('.js-site-filter-txt').focus(function () {
                var dialogBottom = dialog.offset().top + dialog.height();
                var secondSite = dialog.find('.other-sites li:nth-child(2)');
                var secondSiteBottom = secondSite.offset().top + secondSite.height();

                if (secondSiteBottom > dialogBottom) {
                    dialog.animate({
                        scrollTop: dialog.scrollTop() + secondSiteBottom - dialogBottom
                    }, 750);
                }
            });

            if (!(StackExchange.options.user.isAnonymous && !StackExchange.options.user.isAnonymousOnThisSite) && $('.pinned-site-editor-container').length) {
                $('.js-found-sites').hide();

                // wire up site search for pinning
                this.$dialog.find('#js-site-search-txt').typeWatch({ highlight: false, wait: 100, captureLength: -1, callback: $.proxy(this.findSitesToPin, this) });

                this.$dialog.find('#edit-pinned-sites').click($.proxy(this.editPinnedSites, this));
                this.$dialog.find('#cancel-pinned-sites').click({ forceListRefresh: $('#save-pinned-sites-btn').is(':enabled') }, this.cancelSiteListEdits);
                this.$dialog.find('#pin-site-btn').click($.proxy(this.pinSite, this));
                this.$dialog.on('click', '.js-remove-pinned-site-link', function() {
                    $(this).parent().remove();
                    $('#save-pinned-sites-btn').enable();
                    $('.js-reset-pinned-sites').show();
                    return false;
                });

                this.$dialog.find('#save-pinned-sites-btn').click($.proxy(this.savePinnedSites, this));
                
                this.$dialog.find('.js-reset-pinned-sites').click($.proxy(this.resetPinnedSites, this));
            }

            this.supr();
        },

        showOrHide: function (showOrHide) {
            this.supr(showOrHide);
        },

        pinSite: function () {
            $('#pin-site-btn').disable();

            var sitename = $('#js-site-search-txt').val();

            var matchingSites = $.grep(this.$pinnedSiteSearchItems, function (elem, idx) {
                return elem.sitename === sitename;
            });

            if (!matchingSites.length) {
                $('#pin-site-btn').enable();
                return;
            }

            var site = matchingSites[0];
            var alreadyPinnedSites = $('.pinned-site-link').map(function (i, s) { return $(s).data('id'); }).toArray();
            if (alreadyPinnedSites.indexOf(site.siteid) > -1) {
                $('#pin-site-btn').enable();
                return;
            }

            var dialog = this;
            $.ajax({
                type: 'GET',
                url: '/topbar/site-switcher/pin-site',
                data: { siteId: site.siteid },
                dataType: 'html'
            }).done(function (data) {
                var $data = $(data);
                $data.hide();
                $('.pinned-site-list').append($data);
                $data.fadeIn("slow");
                $('#js-site-search-txt').val('');
                $('#save-pinned-sites-btn').enable();
                dialog.toggleSiteListResetLink(true);
            }).fail(function() {
                $('#pin-site-btn').parent().showErrorMessage(__tr(["Something bad happened; please try again"], undefined, "en", []));
                $('#pin-site-btn').enable();
            });
        },
        
        savePinnedSites: function() {
            var sites = $('.pinned-site-list li .pinned-site-link').map(function(idx, site) {
                return $(site).data('id');
            }).toArray();

            var isDefault = !$('.js-reset-pinned-sites').is(':visible') || !sites.length;
            this.toggleSiteListResetLink(!isDefault);

            // get the normalized fkey from the template
            var fkey = $('.js-reset-pinned-sites').siblings('input[name=fkey]').val();

            $.ajax({
                type: 'POST',
                url: '/topbar/site-switcher/save-pinned-sites',
                data: {
                    siteIds: isDefault ? [] : sites,
                    fkey: fkey || StackExchange.options.user.fkey
                },
                dataType: 'html',
                traditional: true
            }).done($.proxy(function(data) {
                $('.my-sites').html(data);
                this.cancelSiteListEdits(false);
                $('.pinned-site-list').data('custom-list', !isDefault);
                StackExchange.using("gps", function () {
                    StackExchange.gps.track("site_switcher.edit", {});
                });
            }, this)).fail(function() {
                $('#save-pinned-sites-btn').parent().showErrorMessage(__tr(["Something bad happened; please try again"], undefined, "en", []));
            });

            return false;
        },
        
        resetPinnedSites: function () {
            var dialog = this;
            $.ajax({
                type: 'GET',
                url: '/topbar/site-switcher/default-active-sites',
                dataType: 'html'
            }).done(function(data) {
                $('.pinned-site-list').html(data);
                $('#save-pinned-sites-btn').enable();
                dialog.toggleSiteListResetLink(false);
            }).error(function() {
                $('.js-reset-pinned-sites').parent().showErrorMessage(__tr(["Something bad happened; please try again"], undefined, "en", []));
            });

            return false;
        },

        doSearch: function(items, text, track) {
            var results;
            text = text.toLowerCase();
            var matches = [];
            $.each(items, function(i, elem) {
                var result = { index: i, li: elem.li, item: elem },
                    titleIndex = elem.title.indexOf(text);

                if (elem.title == text) // exact title match
                    result.priority = 1;
                else if (titleIndex == 0) // begins-with title match
                    result.priority = 2;
                else if (titleIndex > -1) // in-title match
                    result.priority = 3;
                else if (elem.description.indexOf(text) > -1) // in-description match
                    result.priority = 4;
                else if (elem.hostname.indexOf(text) > -1) // in hostname match
                    result.priority = 5;

                if (result.priority)
                    matches.push(result);
            });
            results = matches.sort(function(a, b) {
                return a.priority - b.priority || a.index - b.index;
            });

            if(track) {
                StackExchange.using("gps", function() {
                    StackExchange.gps.track('sitesearch.submit', { term: text, numresults: matches.length }, false);
                });
            }

            return results;
        },

        _findSitesToPin: function(text) {
            var $container = $('.js-found-sites'),
                $items = this.$pinnedSiteSearchItems;

            $container.empty();

            if (text === '') {
                $container.hide();
                $('#pin-site-btn').disable();
                return;
            }

            $items = this.doSearch($items, text, false);

            if (!$items.length) return;

            $container.show();
            $('#pin-site-btn').enable();

            var alreadyPinnedSites = $('.pinned-site-link').map(function (i, site) { return $(site).data('id'); }).toArray();
            $.each($items, function(idx, elem) {
                var $li = $('<li class="pinned-site-candidate">' + elem.item.sitename + '</li>');

                if (alreadyPinnedSites.indexOf(elem.item.siteid) > -1) {
                    $li.addClass('already-pinned-site');
                }
                else {
                    $li.click(function () {
                        var sitename = $(this).text();
                        $('#js-site-search-txt').val(sitename);
                        $('.js-found-sites').hide();

                        return false;
                    });
                }
                $li.appendTo($container);
            });
        },

        findSitesToPin: function (text) {
            if (this.$pinnedSiteSearchItems) {
                this._findSitesToPin(text);
                return;
            }

            var siteSwitcher = this;
            $.ajax({
                type: 'GET',
                url: '/topbar/site-switcher/all-pinnable-sites',
                dataType: 'json'
            }).done(function (sites) {
                siteSwitcher.$pinnedSiteSearchItems = sites;
                siteSwitcher._findSitesToPin(text);
            });
        },

        filterSites: function (text) {
            var $container = $('.js-other-sites'),
                $items = this.$searchItems;

            $container.empty();
            
            if (text != '') {
                $items = this.doSearch($items, text, true);
            }
            
            $container.append($items.map(function (elem) { return this && this.li || elem.li; }));
        },

        editPinnedSites: function() {
            $('.siteSwitcher-dialog .header').not('#your-communities-header').css('opacity', 0.2);
            $('.siteSwitcher-dialog .modal-content').not('#your-communities-section').css('opacity', 0.2);

            $('.my-sites').hide();
            $('.pinned-site-editor-container').show();
            $('#edit-pinned-sites').hide();
            $('#cancel-pinned-sites').show();

            var $pinnedSiteList = $('.pinned-site-list');

            // if the list is empty, fetch it
            if ($pinnedSiteList.html().trim() === "") {
                var spinner = $('<div/>').append(StackExchange.helpers.getSpinnerImg()).html();

                $pinnedSiteList.append('<li style="text-align:center;">' + spinner + '</li>');
                $.ajax({
                    type: 'GET',
                    url: '/topbar/site-switcher/current-pinned-sites',
                    dataType: 'html'
                }).done(function(data) {
                    $pinnedSiteList.html(data);
                }).fail(function() {
                    $pinnedSiteList.showErrorMessage(__tr(["Something bad happened; please try again"], undefined, "en", []));
                }).always(function() {
                    $pinnedSiteList.find('.ajax-loader').remove();
                });
            } 
                
            this.toggleSiteListResetLink($pinnedSiteList.data('custom-list').toString().toLowerCase() === "true");

            var $sortable = $('.sortable'),
                dialog = this;

            if (!$sortable.data('isSortable')) {
                StackExchange.loadJqueryUi().done(function() {
                    $sortable
                        .sortable({
                            axis: "y",
                            update: function() {
                                $('#save-pinned-sites-btn').enable();
                                dialog.toggleSiteListResetLink(true);
                            }
                        })
                        .disableSelection()
                        .data('isSortable', true);
                });
            }

            return false;
        },

        toggleSiteListResetLink: function(showOrHide) {
            $('.js-reset-pinned-sites').toggle(showOrHide);
        },

        cancelSiteListEdits: function(forceListRefresh) {
            $('.header').not('#your-communities-header').css('opacity', 1);
            $('.modal-content').not('#your-communities-section').css('opacity', 1);

            $('.my-sites').show();
            $('#edit-pinned-sites').show();
            $('.pinned-site-editor-container').hide();
            $('#cancel-pinned-sites').hide();
            $('#save-pinned-sites-btn').disable();

            if (forceListRefresh) {
                $('.pinned-site-list').empty();
                $('.js-found-sites').hide();
                $('#js-site-search-txt').val('');
                $('#pin-site-btn').disable();
            }

            return false;
        }
    });
    var SiteSwitcherButton = Button.extend({
        name: 'SiteSwitcher',
        selector: '.js-site-switcher-button',
        dialog: new SiteSwitcherDialog(),
        showsOnMouseOver: false,
        onClass: 'icon-site-switcher-on',
    });

    var FeatureNoticeDialog = Dialog.extend({
        cssClass: 'feature-notice-dialog',
        alignment: 'left'
    })
    .methods({
        loadDialog: function () {
            // our content is already in the page, just move it to the corral so it can be styled properly
            // note: this loadDialog only gets called once; then, $dialog isn't null and can be toggled
            this.$dialog = $('.js-feature-notice-dialog');
            var button = this.button;
            var $button = button.$button;

            this.$dialog.find('.js-close-button').click(function () {

                // Remove the button completely.
                button.mark(1 << 2 /* dismissed */);
                $button.hide();
                button.toggle(false);
                return false;
            });
            this.$dialog.find('.js-cta-button').click(function () {
                button.didClickCTA = true;
                button.mark(1 << 1 /* clicked */);
                return true;
            });
            this.showOrHide(true);
        },
    });

    function updateFeatureCookie($button, fun) {
        var key = $button.data('cookie');
        if (key) {
            var newValue = fun($.cookie(key));
            if (newValue) {
                $.cookie(key, newValue, {
                    expires: (new Date($button.data('expire-date'))),
                    path: '/'
                });
            }
        }
    }

    var FeatureNoticeButton = Button.extend({
        name: 'FeatureNotice',
        selector: '.-feature-notice',
        dialog: new FeatureNoticeDialog(),
    })
    .methods({
        initialize: function () {

            Button.prototype.initialize.apply(this, arguments);

            var $button = this.$button;

            /*
            The cookie stores two different values.  Before the dialog is shown, the cookie stores the number
            of times it has been seen (counted as initializations, here).  This is used for determining when
            to auto-popup.  After the notice has been shown, it stores interaction flags and the initial
            interaction date as updated in `mark`, below.

            If the cookie exists and is not prefixed with "!", we assume it has already been marked and do
            nothing.
             */
            updateFeatureCookie($button, function (existing) {
                if (!existing)
                    return '!1';
                if (existing.substring(0, 1) == '!')
                    return '!' + (1 + parseInt(existing.substring(1)));
                return null;
            });

            if ($button.data('autopopup')) {
                this.toggle(true, false, true);
            }
        },
        mark: function (state) {
            updateFeatureCookie(this.$button, function (existing) {
                if (existing) {
                    var parts = existing.split(';');
                    if (parts.length == 2 && !isNaN(parts[0]) && !isNaN(parts[1])) {
                        return (parts[0] | state) + ';' + parts[1];
                    }
                }
                return state + ';' + Date.now();
            });
        },

        markAsRead: function () {
            if (this.didClickCTA) {
                Button.prototype.markAsRead.apply(this, arguments);
            }
        },
        toggle: function (showOrHide, preventMarkAsRead, isAutoPopup) {
            showOrHide = typeof showOrHide == 'boolean' ? showOrHide : !this.$button.hasClass(this.onClass);
            isAutoPopup = !!isAutoPopup;

            Button.prototype.toggle.apply(this, arguments);

            var $button = this.$button;
            var $dialog = this.dialog.$dialog;

            if (showOrHide) {
                this.mark(1 /* seen */);
                if (!isAutoPopup) {
                    this.mark(1 << 3 /* intentionally_seen */);
                }

                if ($button.hasClass('js-sample')) {
                    StackExchange.using('gps', function () {
                        StackExchange.gps.track('new_feature.show', {
                            campaign: $button.data('campaign'),
                            location: $button.data('location'),
                            auto_popup: isAutoPopup
                        });
                    });
                }

            }
        }
    });

    var InboxDialog = Dialog.extend({
        url: '/topbar/inbox',
        cssClass: 'inbox-dialog',
        viewUnreadOnly: false,
        ignoreRealtimeMessageDuringUserOperation: false
    })
        .methods({
            afterLoad: function () {
                this.supr();
                this.hookupMarkAllAsRead(this);
                this.hookupSwitchBetweenAllAndOnlyRead(this);
                this.hookupMarkAsReadOnClick(this);
                this.hookupReadUnreadToggles(this);
                this.hookupRefreshButton(this);
                this.enableOrDisableMarkAllAsRead(this);
            },

            // we need to get stripped fkey to explicitly say we want to call post on SO
            // otherwise we'll be marked for cross-site posting
            getStrippedFkey: function () {
                var fkey = StackExchange.options.user.fkey;
                var idx = fkey.lastIndexOf('/');
                if (idx >= 0) fkey = fkey.substr(idx + 1);
                return fkey;
            },

            hookupRefreshButton: function (context) {
                const self = context; 
                const $refreshButton = context.$dialog.find('.js-refresh-inbox');
                $refreshButton.click(function () {
                    let $topBar = $('.inbox-top-bar-readonly');
                    $topBar.prepend(StackExchange.helpers.getSpinnerImg().addClass('ta-center'));
                    $refreshButton.addClass('d-none');
                    $.ajax({
                        type: "GET",
                        url: "/topbar/notifications",
                    }).success(function (html) {
                        $('.js-inbox-notifications').html(html);
                        self.hookupMarkAsReadOnClick(self);
                        self.hookupReadUnreadToggles(self);
                        self.enableOrDisableMarkAllAsRead(self);
                    }).fail(function () {
                        $refreshButton.removeClass('d-none');
                        StackExchange.helpers.showToast(__tr(["An error occurred while reloading notifications. Please try again."], undefined, "en", []), { type: 'danger' });
                    }).always(function () {
                        $topBar.find('.ajax-loader').remove();
                    });
                });
            },

            hookupSwitchBetweenAllAndOnlyRead: function (context) {
                const self = context;
                const dialog = context.$dialog;
                dialog.find('.js-view-unread-only').click(function () {
                    dialog.find('.inbox-item').not('.unread-item').not('.js-see-all-inbox-items').addClass('d-none');
                    dialog.find('.js-inbox-header-unread').removeClass('d-none');
                    dialog.find('.js-inbox-header-all').addClass('d-none');
                    dialog.find('.js-checkmark-all').addClass('v-hidden');
                    dialog.find('.js-checkmark-unread').removeClass('v-hidden');
                    self.viewUnreadOnly = true;
                    Stacks.hidePopover($('.js-open-context-menu')[0]);
                });
                dialog.find('.js-view-read-and-unread').click(function () {
                    dialog.find('.inbox-item').not('.unread-item').not('.js-see-all-inbox-items').removeClass('d-none');
                    dialog.find('.js-inbox-header-unread').addClass('d-none');
                    dialog.find('.js-inbox-header-all').removeClass('d-none');
                    dialog.find('.js-checkmark-all').removeClass('v-hidden');
                    dialog.find('.js-checkmark-unread').addClass('v-hidden');
                    self.viewUnreadOnly = false;
                    Stacks.hidePopover($('.js-open-context-menu')[0]);
                });
            },

            hookupMarkAsReadOnClick: function (context) {
                const self = context;
                const dialog = context.$dialog;

                // hooks up events for items in the list
                dialog.find('.js-readable-inbox-item').mousedown(function (e) {
                    if (e.which != _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.LEFT_MOUSE && e.which != _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.MIDDLE_MOUSE)
                        return;
                    const $target = $(e.currentTarget);
                    if (!$target.hasClass('unread-item')) {
                        return;
                    }
                    self.clickMarkAsRead($target, self, INBOX_POPUP_ITEM_EVENT_SOURCE);
                });
                dialog.find('.js-readable-inbox-item').keyup(function (e) {
                    if (e.which != _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ENTER)
                        return;
                    const $target = $(e.currentTarget);
                    if (!$target.hasClass('unread-item')) {
                        return;
                    }
                    self.clickMarkAsRead($target, self, INBOX_POPUP_ITEM_EVENT_SOURCE);
                });
            },

            hookupReadUnreadToggles: function (context) {
                const self = context;
                const dialog = context.$dialog;

                dialog.find('.js-toggle-read').mousedown(function (e) {
                    if (e.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.LEFT_MOUSE) {
                        const $element = $(this).closest('.js-readable-inbox-item');
                        self.clickMarkAsRead($element, self, UNREAD_MESSAGE_ICON_EVENT_SOURCE);
                    }
                    e.stopImmediatePropagation();
                });

                dialog.find('.js-toggle-unread').mousedown(function (e) {
                    if (e.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.LEFT_MOUSE) {
                        const $element = $(this).closest('.js-readable-inbox-item');
                        self.clickMarkAsUnread($element, self);
                    }
                    e.stopImmediatePropagation();
                });

                dialog.find('.js-toggle-read').keyup(function (e) {
                    if (e.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ENTER) {
                        const $element = $(this).closest('.js-readable-inbox-item');
                        self.clickMarkAsRead($element, self, UNREAD_MESSAGE_ICON_EVENT_SOURCE);
                    }
                    e.stopImmediatePropagation();
                });

                dialog.find('.js-toggle-unread').keyup(function (e) {
                    if (e.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ENTER) {
                        const $element = $(this).closest('.js-readable-inbox-item');
                        self.clickMarkAsUnread($element, self);
                    }
                    e.stopImmediatePropagation();
                });
            },

            hookupMarkAllAsRead: function (context) {
                const self = context;
                const dialog = context.$dialog;
                // hooks up events for mark as read button
                dialog.find('.js-mark-all-as-read').click(function () {
                    self.ignoreRealtimeMessageDuringUserOperation = true;
                    $.ajax({
                        type: 'POST',
                        url: '/topbar/mark-all-as-read',
                        data: { fkey: self.getStrippedFkey() },
                        dataType: 'json'
                    }).done(function (result) {
                        context.button.setUnread({ count: result.UnreadMessagesCount });
                        if (context.isLoaded()) {
                            self.markMessageAsRead(dialog.find('.unread-item'));
                        }
                        self.enableOrDisableMarkAllAsRead(self);
                    }).fail(function () {
                        StackExchange.helpers.showToast(__tr(["An error occurred while updating notification status. Please try again."], undefined, "en", []), { type: 'danger' });
                    }).always(function () {
                        self.ignoreRealtimeMessageDuringUserOperation = false;
                    });
                    Stacks.hidePopover($('.js-open-context-menu')[0]);
                });
            },

            enableOrDisableMarkAllAsRead: function (context) {
                const $markAllAsReadButton = context.$dialog.find('.js-mark-all-as-read');
                var count = context.button.$button.find('.js-unread-count').text();
                $markAllAsReadButton.prop('disabled', count == 0); 
            },

            markAsRead: function () {
                if (StackExchange.settings.topBar != null && StackExchange.settings.topBar.enableInboxManagement) {
                    this.button.markAsRead();
                } else {
                    Dialog.prototype.markAsRead.apply(this);
                }
            },

            markMessageAsUnread: function ($messageLiElement) {
                $messageLiElement.addClass('unread-item').removeClass('read-item');
                $messageLiElement.find('.js-toggle-read').removeClass('d-none');
                $messageLiElement.find('.js-toggle-unread').addClass('d-none');
            },

            markMessageAsRead: function ($messageLiElement) {
                $messageLiElement.addClass('read-item').removeClass('unread-item');
                $messageLiElement.find('.js-toggle-unread').removeClass('d-none');
                $messageLiElement.find('.js-toggle-read').addClass('d-none');
            },

            clickMarkAsRead: function ($element, self, source) {
                self.ignoreRealtimeMessageDuringUserOperation = true;
                $.ajax({
                    type: 'POST',
                    url: '/topbar/mark-inbox-as-read',
                    data: { inboxId: $element.attr('id'), relatedPostId: $element.attr('relatedPostId'), source: source, fkey: self.getStrippedFkey() },
                    dataType: 'json'
                }).done(function (result) {
                    self.button.setUnread({ count: result.UnreadMessagesCount });
                    self.markMessageAsRead($element);
                    if (self.viewUnreadOnly) {
                        $element.addClass('d-none');
                    }
                    self.enableOrDisableMarkAllAsRead(self);
                }).fail(function (jqXHR) {
                    if (jqXHR.status == 0 || !jqXHR.getAllResponseHeaders()) {
                        // these are all signs that the request was aborted due to the page being unloaded,
                        // and the fail branch is hit in response to this, and not in response to an actual failure.
                        // therefore in this case, but out early, and dont show an error toast.
                        return;
                    }
                    StackExchange.helpers.showToast(__tr(["An error occurred while updating the status of the notification. Please try again."], undefined, "en", []), { type: 'danger' });
                }).always(function () {
                    self.ignoreRealtimeMessageDuringUserOperation = false;
                });
            },

            clickMarkAsUnread: function ($element, self) {
                self.ignoreRealtimeMessageDuringUserOperation = true;
                $.ajax({
                    type: 'POST',
                    url: '/topbar/mark-inbox-as-unread',
                    data: { inboxId: $element.attr('id'), relatedPostId: $element.attr('relatedPostId'), fkey: self.getStrippedFkey() },
                    dataType: 'json'
                }).done(function (result) {
                    self.button.setUnread({ count: result.UnreadMessagesCount });
                    self.markMessageAsUnread($element);
                    self.enableOrDisableMarkAllAsRead(self);
                }).fail(function () {
                    StackExchange.helpers.showToast(__tr(["An error occurred while updating the status of the notification. Please try again."], undefined, "en", []), { type: 'danger' });
                }).always(function () {
                    self.ignoreRealtimeMessageDuringUserOperation = false;
                });
            }
        });
    var InboxButton = Button.extend({
        name: 'Inbox', 
        selector: '.js-inbox-button', 
        dialog: new InboxDialog(),
        showsOnMouseOver: false
    })
    .methods({
        handleRealtimeMessage: function (json) {
            this.setUnread({ count: json.UnreadInboxCount });
            if (StackExchange.settings.topBar != null && StackExchange.settings.topBar.enableInboxManagement && !this.dialog.ignoreRealtimeMessageDuringUserOperation) {
                let refreshButton = $('.js-refresh-inbox');
                refreshButton.html(__tr(["Refresh ($count$)","Refresh ($count$)"], {count: json.UnreadInboxCount}, "en", ["count"]));
                refreshButton.removeClass('d-none');
            }
        },

        getButtonLabelAndTitle: function (unreadCount) {
            var label, title;
            if (unreadCount > 0) {
                label = __tr(["Inbox ($__count$ unread message)","Inbox ($__count$ unread messages)"], {__count: unreadCount}, "en", ["__count"]);
                title = __tr(["You have unread inbox messages"], undefined, "en", []);
            }
            else {
                label = __tr(["Inbox"], undefined, "en", []);
                title = __tr(["Recent inbox messages"], undefined, "en", []);
            }
            return { label: label, title: title };
        },

        markAsRead: function () {
            if (StackExchange.settings.topBar != null && StackExchange.settings.topBar.enableInboxManagement) {
                return;
            }
            Button.prototype.markAsRead.apply(this);
        },

        setUnread: function (status) {
            if (StackExchange.settings.topBar != null && StackExchange.settings.topBar.enableInboxManagement) {
                this.pendingUnread = {};
                this.applyUnreadCount(status.count, status.litUp);
            } else {
                Button.prototype.setUnread.apply(this, arguments);
            }
        },
    });

    
    var AchievementsDialog = Dialog.extend({
        url: (StackExchange.options.site.routePrefix || '') + '/topbar/achievements',
        cssClass: 'achievements-dialog'
    })
    .methods({
        afterLoad: function () {
            this.alignRep();
            this.bindDateGroupToggles();
            this.displayUtcTime();
            this.bindGpsTracker();
            this.supr();
        },
        
        alignRep: function() {
            // HACK: everyone be hatin' on <table>, so we need to ensure the rep "column" is the same width all the way down
            var $cols = this.$dialog.find('.js-items .js-faux-column'),
                maxChars = 0;

            $cols.filter('.js-rep-change').each(function () {
                var chars = $.trim($(this).text()).length;
                if (chars > maxChars) {
                    maxChars = chars;
                }
            });

            if (maxChars > 0) {
                $cols.width((maxChars + 1) * 6); // TODO: actually measure what we really need, but this works from 2 chars up to 4 chars
            }
        },
        
        bindDateGroupToggles: function () {
            this.$dialog.find('.js-date-group-toggle').click(function () {
                var $toggle = $(this),
                    $group = $toggle.closest('.js-date-group'),
                    $items = $group.find('.js-items'),
                    $summation = $group.find('.rep-site-container');

                $toggle.find('.date-group-toggle').toggleClass('toggle-hidden');
                $items.add($summation).fadeToggle('fast');
            });
            this.$dialog.find('.rep-site-container').on('click', function (e) {
                e.stopImmediatePropagation();
            });
        },
        
        displayUtcTime: function () {
            var $dialog = this.$dialog,
                setTime = function () {
                    var now = new Date();
                    now.setTime(now.getTime() + StackExchange.options.serverTimeOffsetSec * 1000);
                    var h = now.getUTCHours(),
                        m = now.getUTCMinutes();
                    if (h < 10) h = "0" + h;
                    if (m < 10) m = "0" + m;
                    $dialog.find('.js-utc-time').text(h + ":" + m);
                };

            setTime();
            setInterval(setTime, 1000 * 60); // TODO: could unbind this when the dialog is hidden
        },

        bindGpsTracker: function() {
            // https://trello.com/c/D7xXfTPP
            var container = $('#js-gps-container.js-empty-achiev');
            container.find('a:first').addClass('js-gps-track').data('gps-track', 'achievements_popup.click({ item_type:6 })');
            container.find('a:last').addClass('js-gps-track').data('gps-track', 'achievements_popup.click({ item_type:7 })');
            StackExchange.gps.bindTrackClicks(container);
        }
    });
    var AchievementsButton = Button.extend({
        name: 'Achievements', 
        selector: '.js-achievements-button', 
        dialog: new AchievementsDialog(),
        unreadCountPrefix: '+',
        showsOnMouseOver: false
    })
    .methods({
        handleRealtimeMessage: function (json) {
            var status = { count: json.UnreadRepCount };
            if (json.UnreadNonRepCount !== undefined) { status.litUp = json.UnreadNonRepCount > 0; }
            this.setUnread(status);
        },
        getButtonLabelAndTitle: function (unreadCount, hasUnreadAchievements) {
            var label, title;
            if (unreadCount > 0) {
                label = __tr(["Achievements ($__count$ new reputation)","Achievements ($__count$ new reputation)"], {__count: unreadCount}, "en", ["__count"]);
                title = __tr(["You have new reputation changes"], undefined, "en", []);
            }
            else if (hasUnreadAchievements) {
                label = __tr(["Achievements (unread)"], undefined, "en", []);
                title = __tr(["You have new achievements"], undefined, "en", []);
            }
            else {
                label = __tr(["Achievements"], undefined, "en", []);
                title = __tr(["Recent achievements: reputation, badges, and privileges earned"], undefined, "en", []);
            }
            return { label: label, title: title };
        },
    });
    
    var HelpDialog = Dialog.extend({
        cssClass: 'help-dialog'
    })
    .methods({
        loadDialog: function () {
            // our content is already in the page, just move it to the corral so it can be styled properly
            // note: this loadDialog only gets called once; then, $dialog isn't null and can be toggled
            this.$dialog = $('.js-help-dialog');
            this.showOrHide(true);
        }
    });
    var HelpButton = Button.extend({
        name: 'Help', 
        selector: '.js-help-button', 
        dialog: new HelpDialog()
    });

    var NetworkLogoDialog = Dialog.extend({
        cssClass: 'network-logo-dialog',
        alignment: 'left'
    })
    .methods({
        loadDialog: function () {
            // our content is already in the page, just move it to the corral so it can be styled properly
            // note: this loadDialog only gets called once; then, $dialog isn't null and can be toggled
            this.$dialog = $('.js-network-logo-dialog');
            this.showOrHide(true);

            var button = this.button;
            this.$dialog.find('.js-close-button').click(function () {
                button.toggle(false);
                return false;
            });
        },
    });
    var NetworkLogoButton = Button.extend({
        name: 'NetworkLogo',
        selector: '.js-network-logo',
        dialog: new NetworkLogoDialog()
    });

    var ReviewDialog = Dialog.extend({
        url: '/topbar/review',
        cssClass: 'review-dialog'
    });

    var ReviewButton = Button.extend({
        name: 'Review',
        selector: '.js-review-button',
        dialog: new ReviewDialog()
    });

    var ModInboxDialog = Dialog.extend({
        url: '/topbar/mod-inbox',
        cssClass: 'modInbox-dialog'
    })
    .methods({
        
    });
    var ModInboxButton = Button.extend({
        name: 'ModInbox', 
        selector: '.js-mod-inbox-button', 
        dialog: new ModInboxDialog()
    });
    var LeftNavHamburgerDialog = Dialog.extend({
        cssClass: 'js-leftnav-dialog',
        alignment: 'left'
    })
    .methods({
        loadDialog: function () {
            this.$dialog = $('.js-leftnav-dialog');
            this.showOrHide(true);
            var that = this;
            if (StackExchange.responsive) {
                StackExchange.responsive.addBreakpointListener(function (newRange, oldRange) {
                    if ($("html").hasClass("html__unpinned-leftnav")) {
                        return;
                    }
                    // close the dialog if left nav is pinned and we're moving from small to medium
                    // (in the small range it's always unpinned)
                    if (oldRange === "sm") {
                        that.button.toggle(false);
                    }
                });
            }
        }
    });

    var LeftNavHamburgerButton = Button.extend({
        name: 'LeftNav',
        selector: '.js-left-sidebar-toggle',
        dialog: new LeftNavHamburgerDialog()
    });

    

    function log(message) {
        if (!StackExchange.options.enableLogging) return;
        console.log('topbar: ' + message);
    };

    function isButtonOrDialogClick(clickedElement) {
        for (var i = 0; i < buttons.length; i++) {
            var button = buttons[i];

            if ((button.$button || $()).get(0) === clickedElement) {
                return true;
            }

            if (button.dialog && button.dialog.contains(clickedElement)) {
                return true;
            }
        }
        return false;
    };
    
    function hideAll() {
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].toggle(false);
        }
    };

    function handleRealtimeMessage(data) {
        var json;
        if (!data || !(json = JSON.parse(data))) return;

        log('realtime message - ' + data);
        
        // each top-level property on the json corresponds to a button name
        for (var prop in json) {
            for (var i = 0; i < buttons.length; i++) {
                if (prop == buttons[i].name) {
                    buttons[i].handleRealtimeMessage(json[prop]);
                    break;
                }
            }
        }
    };


    /**
     * @typedef SearchAutoCompleteConstructorOptions
     * @type {object}
     * @property {boolean} enableHints - should search hints be fetched and used?  if false, popover will be hidden when no query
     * @property {boolean} enablePrizm - should GPS events be fired?
     * @property {boolean} isTopbarAware - should this autocomplete be hidden if a topbar popup is shown or vice-versa?
     * @property {SearchAutoCompleteConstructorOptions~onChoiceCallback} onChoice
     * @property {string} searchUrl - where to send queries to; should return an AutoCompleteResult.cshtml
     * @property {SearchAutoCompleteConstructorOptions~transformResultsHtmlCallback} transformResultsHtml
     */

    /**
     * @callback SearchAutoCompleteConstructorOptions~onChoiceCallback
     * @param {JQuery} $chosenItem - the .js-ac-result that was mouse-clicked/keyboard-entered
     */

    /**
     * @callback SearchAutoCompleteConstructorOptions~transformResultsHtmlCallback
     * @param {string} html - the list of results we fetched for a given search
     * @returns {JQuery} what will be inserted into the results container
     */

    /**
     * Search help and autocomplete
     * 
     *   - used on channels/enterprise topbar search
     *   - used on PostCollections Show Page's Edit path
     *   
     * @param $searchBox {jQuery} inside of a .js-search--outer-container
     * @param options {SearchAutoCompleteConstructorOptions}
     * @constructor
     */ 
    function SearchAutoComplete($searchBox, options) {
        
        var self = this;

        /** @type {SearchAutoCompleteConstructorOptions} */
        var defaults = {
            enableHints: true,
            enablePrizm: true,
            isTopbarAware: true,
            onChoice: null,
            searchUrl: '/search/ac?q=',
            transformResultsHtml: null
        };
        this.settings = $.extend({}, defaults, options);
        
        this.resultsCache = {};
        this.searchHintsLoaded = false;
        
        // when true, showing the popup (usually after clicking somewhere else to close it) will re-render the results 
        this.refreshResultsOnNextShow = false;
        $searchBox.on('s-popover:show', function() {
            if (self.refreshResultsOnNextShow) {
                self.suggest.call(self);
                self.refreshResultsOnNextShow = false;
            }
        });
        
        var $searchPopover = $('#' + $searchBox.attr('aria-controls')); // usually .js-top-search-popover
        var $resultsDiv = $searchPopover.find('.js-ac-results');

        this.$searchPopover = $searchPopover;
        this.$searchBox = $searchBox; // textbox
        this.$resultsDiv = $resultsDiv;
        this.$screenReaderInfo = $searchPopover.find('.js-screen-reader-info');
        this.$loadingIndicator = $searchPopover.find('.js-spinner');
        this.$searchHintsContainer = $searchPopover.find('.js-search-hints');

        if (this.settings.enableHints) {
            $searchBox.on('s-popover:show', this.fetchSearchHints.bind(this)); // fetch search hints via AJAX
        }
        else {
            this.searchHintsLoaded = true;
        }
        
        if (this.settings.isTopbarAware) {
            $('.js-products-menu').on('s-popover:show', this.hidePopover.bind(this)); // hide when opening "products" popover
            $searchBox.on('s-popover:show', StackExchange.topbar.hideAll); // hide all topbar dialogs when showing search popover
        }

        // only trigger autocomplete searches and keyboard navigation if feature is enabled
        if ($searchBox.hasClass('js-search-autocomplete')) {
            
            var delayedSuggest = StackExchange.helpers.DelayedReaction(this.suggest.bind(this), 500, {sliding: true});
            
            var inputEventName = /Trident/.test(navigator.userAgent) ? 'textinput' : 'input';
            $searchBox.on(inputEventName, this.onInput.bind(this));
            $searchBox.on(inputEventName, delayedSuggest.trigger);
            $searchBox.on('keydown', this.searchBoxOnKeyDown.bind(this));
            
            $searchPopover.on('keydown', this.searchPopoverOnKeyDown.bind(this));
            
            $resultsDiv.on('click', '.js-ac-result', this.choose.bind(this)); // note this handles Enter press, too
            
            if (this.settings.isTopbarAware) {
                $('.js-top-bar').focusin(this.hideWhenFocusLost.bind(this)); // hide when selecting anything else in the topbar
            }
        }
    }

    SearchAutoComplete.prototype = {
        query: function () {
            return this.$searchBox.val().trim();
        },
        
        hasQuery: function() {
            return !!this.query();
        },
        
        fetchSearchHints: function () {
            var self = this;
            
            if (this.searchHintsLoaded) {
                return;
            }
            
            $.ajax({
                type: "GET",
                url: "/search/hints",
            }).success(function (results) {
                self.$searchHintsContainer.append(results);
                self.searchHintsLoaded = true;
            }).fail(function (jqxhr, textStatus, error) {
                StackExchange.debug.log('Autocomplete Error: ' + error.toString());
            });
        },

        hasResults: function () { return this.$resultsDiv[0].childElementCount > 0; },
        
        hideResults: function () { 
            this.showResults('');
        },
        
        hidePopover: function () {
            this.$searchPopover.removeClass('is-visible');
        },
        
        hideWhenFocusLost: function(e) {
            if (!$(e.target).is(this.$searchBox) && $(e.target).parents('.js-top-search-popover').length === 0) {
                this.hidePopover();
            }
        },
        
        onInput: function() {
            
            var hasQuery = this.hasQuery();
            this.toggleSpinner(hasQuery);
            
            // there's no hints to show, so hide the entire thing
            if (!hasQuery && !this.settings.enableHints) {
                this.hidePopover();
            }
        },

        showResults: function (results) {
            var noResults = $.trim(results).length === 0;
            this.$searchHintsContainer.find('.js-search-hints-text').toggleClass('d-none', !noResults);
            this.toggleSpinner(false);
            
            var transformer = this.settings.transformResultsHtml || function(s) { return $(s); };
            var $results = transformer(results);
            
            this.$resultsDiv
                .empty()
                .append($results)
                .toggleClass('d-none', noResults);
            
            var resultCount = this.$resultsDiv.find(".js-ac-result").length;
            this.$screenReaderInfo.text(resultCount === 0 ? "No results" : __tr(["$__results$ result found","$__results$ results found"], {__results: resultCount}, "en", ["__results"]));
        },
        
        toggleSpinner: function (show) {
            this.$loadingIndicator.toggleClass('d-none', !show);
        },

        suggest: function () {
            var self = this;
            var query = self.query();

            if (!self.hasQuery()) {
                self.hideResults();
                return;
            }
 
            // cached results
            var cached = self.resultsCache[query];
            if (cached !== undefined) {
                self.showResults(cached);
            } else {
                var acURL = new URL(this.settings.searchUrl + encodeURIComponent(query), location.href);
                
                $.get(acURL.href).done(function (results) {
                    self.resultsCache[query] = results;
                    self.showResults(results);
                }).fail(function (jqxhr, textStatus, error) {
                    StackExchange.debug.log('Autocomplete Error: ' + error.toString());
                    self.toggleSpinner(false);
                });
            }
        },

        selected: function (element) {
            if (arguments.length === 0) {
                return this.$resultsDiv.find('.js-ac-result:focus');
            }

            if (element) {
                element = $(element);
                if (!element.hasClass('js-ac-result')) return; // nope

                element.siblings().blur();
                element.focus();
            } else {
                this.$resultsDiv.children().blur();
            }
        },

        selectNext: function () {
            if (!this.hasResults())
                return;

            var $current = this.selected();
            var $next = $current.next('.js-ac-result');
            
            if ($current.length === 0) {
                this.$resultsDiv.children('.js-ac-result').first().focus();
                return;
            }
            
            if ($next.length > 0) {
                this.selected($next);
                $next[0].scrollIntoView({behavior: "smooth", block: "nearest"});
            }
        },

        selectPrev: function () {
            if (!this.hasResults())
                return;

            var $current = this.selected();
            var $prev = $current.prev('.js-ac-result');
            if ($prev.length > 0) {
                this.selected($prev);
                $prev[0].scrollIntoView({behavior: "smooth", block: "nearest"});
            } else {
                this.$searchBox.focus();
            }
        },

        searchBoxOnKeyDown: function (e) {
            switch (e.key) {
                case 'ArrowDown':
                    if (this.hasResults()) {
                        this.selectNext();
                    }
                    e.preventDefault();
                    break;
                case 'Escape':
                    this.hidePopover();
                    break;
            }
        },
        
        searchPopoverOnKeyDown: function (e) {
            switch (e.key) {
                case 'ArrowDown':
                    if (this.hasResults()) {
                        this.selectNext();
                    }
                    e.preventDefault();
                    break;
                case 'ArrowUp':
                    if (this.hasResults()) {
                        this.selectPrev();
                    }
                    e.preventDefault();
                    break;
                case 'Escape':
                    this.hidePopover();
                    this.$searchBox.focus();
                    break;
            }
        },

        choose: function (e) {
            var $selected = $(e.target).closest('.js-ac-result');
            var selectedIndex = this.$resultsDiv.find(".js-ac-result").index($selected);
            $selected.find('.js-ac-enter-hint').addClass('d-none');

            if (this.settings.enablePrizm) {
                StackExchange.using("gps", function() {
                    StackExchange.gps.track(
                        'sitesearch.autocomplete.click', { completion_index: selectedIndex });
                });
            }
            
            if (this.settings.onChoice) {
                // we want to do something other than pure navigation
                e.preventDefault();
                
                this.settings.onChoice($selected);
                
                return false;
            }
        }
    };


    // new SO top nav only
    function initSearchInteractions() {

        var $input = $('.js-search-field');

        $('.js-search-channel-selector').change(function () {
            var selected = $(this).find('option:selected');
            if (selected && selected.length === 1) {
                var url = selected.data('url');
                if (url) {
                    $('#search').attr('action', url);
                }

                var searchOn = selected.data('search-on');
                if (searchOn) {
                    $('.js-search-on').val(searchOn);
                }
            }
        }).trigger('change'); // Kick off the first one, so it's in sync

        if (!StackExchange.settings.search.enableNewQuickSearch) {
            // Init legacy autocomplete search component
            new SearchAutoComplete($input);
        }
        
        (0,_TopBar__WEBPACK_IMPORTED_MODULE_1__.attachInQuestionUrlRewriter)($input[0]);
    }

    function initSearchInteractionsForNarrowView() {
        var $searchbar = $('.js-searchbar'),
            $searchbarTrigger = $('.js-searchbar-trigger'),
            $searchField = $('.js-search-field'),
            triggerOpenClass = 'is-selected',
            searchbarOpenClass = 's-topbar--searchbar__open';

        function toggleSearch(yesno) {
            $searchbarTrigger.toggleClass(triggerOpenClass, yesno);
            $searchbar.toggleClass(searchbarOpenClass, yesno);
        }
        
        $searchbarTrigger.on('click', function (e) {
            e.preventDefault();
            toggleSearch();
            // we need to delay the focus event so stimulus can pick it up and show the popup correctly
            StackExchange.helpers.DelayedReaction(function () {
                $searchField.focus();
            }, 0).trigger();
        });
    }

    function toggleUnpinnedLeftNav(unpin) {
        var isunpinned = $("html").hasClass("html__unpinned-leftnav"); 
        if (!arguments.length)
            unpin = !isunpinned;
        if (isunpinned === !!unpin)
            return;

        var unpinnedRanges, pinnedRanges;

        if (unpin) {
            $("html").addClass("html__unpinned-leftnav"); 
            unpinnedRanges = "sm md lg";
            pinnedRanges = "";
        } else {
            $("html").removeClass("html__unpinned-leftnav"); 
            unpinnedRanges = "sm";
            pinnedRanges = "md lg";
        }
        $(".js-pinned-left-sidebar").attr("data-is-here-when", pinnedRanges);
        $(".js-unpinned-left-sidebar").attr("data-is-here-when", unpinnedRanges);
        StackExchange.responsive.forceCheck();
    }

    // reconsider moving left nav stuff out of 02_topbar.js? It's sort of related/intertwined. not sure
    function stickyLeftnavForLegacyBrowsers() {
        var brokenBrowser = false;
        var medge /* match edge */ = (navigator.userAgent || "").match(/\bEdge\/(\d+)/);
        if (medge) {
            if (parseInt(medge[1], 10) < 17) {
                // position: sticky has issues in Edge 16 (https://chat.meta.stackexchange.com/transcript/message/7081732#7081732)
                brokenBrowser = true;
            }
        }

        if (!brokenBrowser && window.CSS && CSS.supports && CSS.supports("(position: sticky) or (position: -webkit-sticky)")) {
            return;
        }
        var sticky = $(".js-sticky-leftnav");
        if (!sticky.length) {
            return;
        }
        if (brokenBrowser) {
            sticky.addClass("left-sidebar__fake-sticky");
        }
        var leftnav = $(".js-pinned-left-sidebar");
        var leftNavTopPadding = parseInt(leftnav.css("padding-top"), 10);
        var win = $(window);
        function reposition() {
            if (!leftnav.is(":visible")) {
                return;
            }
            var pos = leftnav.offset();
            var top = pos.top - win.scrollTop() + StackExchange.scrollPadding.getPaddingTop();
            var stickyTop = Math.max(StackExchange.scrollPadding.getPaddingTopMinimal(), top) + leftNavTopPadding;
            var stickyHeight = sticky.height();
            var bottomOverflow = stickyTop + stickyHeight - top - leftnav.height();
            stickyTop -= Math.max(0, bottomOverflow);
            sticky.css("top", stickyTop);
            leftnav.css("min-height", stickyHeight + leftNavTopPadding);
        }
        // We reposition the sticky left nav 1) when the window is scrolled; 2) when we cross a breakpoint; 3) once right now.
        // That won't catch *all* cases, but almost all of them. Since this is just for IE11, that's completely fine.
        win.on("scroll", reposition);
        StackExchange.responsive.addBreakpointListener(reposition);
        reposition();
    }

    function initGdprBanner() {
        // cookie is set server-side
        var $banner = $('#js-gdpr-consent-banner');
        var $btn = $banner.find('.js-notice-close');
        $btn.click(function () {
            $btn.prop('disabled', true);
            $.ajax({
                method: 'POST',
                url: '/accounts/accept-gdpr-consent-banner',
                data: { fkey: StackExchange.options.user.fkey },
                dataType: "json",
                success: function (success) {
                    if (success) {
                        $banner.remove();
                    }
                },
                complete: function () { $btn.prop('disabled', false); }
            });

        });
    }

    function initSearchPulsingAnimation() {
        var $searchBar = $(".s-topbar--searchbar--input-group.js-search-pulsing input");

        var style = ".js-alpha-search-label { color: hsl(210, 8%, 75%); }" + ".js-search-pulsing { border-radius: 8px; border: 2px solid transparent; -webkit-animation: pulse 5s infinite; animation: pulse 5s infinite; outline: 0 }" + "@-webkit-keyframes pulse { from { border-color: transparent; } 50% { border-color: hsl(206, 93%, 83.5%); } to { border-color: transparent }}" + "@keyframes pulse { from { border-color: transparent; } 50% { border-color: hsl(206, 93%, 83.5%); } to { border-color: transparent }}" + ".js-input-border-pulsing { animation: blink 5s infinite; outline: 0; -webkit-animation: blink 5s infinite; outline: 0 }" + "@-webkit-keyframes blink { from { border-color: hsl(210, 8%, 75%); } 50% { border-color: hsl(206, 93%, 83.5%); } to { border-color: hsl(210, 8%, 75%); }}" + "@keyframes blink { from { border-color: hsl(210, 8%, 75%); } 50% { border-color: hsl(206, 93%, 83.5%); } to { border-color: hsl(210, 8%, 75%); }}" + ".js-text-pulsing { color: hsl(210, 8%, 75%); animation: color-change 5s infinite; -webkit-animation: color-change 5s infinite; }" + "@-webkit-keyframes color-change { from { color: hsl(210, 8%, 75%); } 50% { color: hsl(210, 77%, 36%); } to { color: hsl(210, 8%, 75%); }}" + "@keyframes color-change { from { color: hsl(210, 8%, 75%); } 50% { color: hsl(210, 77%, 36%); } to { color: hsl(210, 8%, 75%); }}";
        $("<style type='text/css' />").text(style).appendTo("head");

        $searchBar.on("focus", function () {
            dismissPulsingAnimation();
        });

        setTimeout(function () {
            dismissPulsingAnimation();
        }, 2 * 60 * 1000); // minutes * seconds * milliseconds
    }

    function dismissPulsingAnimation() {
        $.cookie('notice-apa', '1', { path: '/', expires: 180 });
        var $searchBar = $(".s-topbar--searchbar--input-group.js-search-pulsing");
        var $input = $searchBar.find("input");
        var $label = $(".js-text-pulsing");
        $.post("/ai-search-alpha-launch-items/dismiss", {
            fkey: StackExchange.options.user.fkey,
            itemToDismiss: "PulsingAnimation"
        });

        $searchBar.removeClass("js-search-pulsing");
        $input.removeClass("js-input-border-pulsing");
        $label.removeClass("js-text-pulsing");
    }

    // so we can iterate over the above klasses
    var buttons = [],
        dialogs = [];

    return {
        init: function (options) {

            options = options || {};

            if (window.devicePixelRatio >= 1.5) {
                $('.js-avatar-me').attr('src', function (i, a) {
                    return a.replace('?s=24', '?s=48');
                });
            }

            // these string names, e.g. 'Inbox', will be used in realtime messages
            buttons.push(new SiteSwitcherButton());
            buttons.push(new NetworkLogoButton());

            if ($('.js-left-sidebar-toggle').length) {
                buttons.push(new LeftNavHamburgerButton());
            }

            // StackExchange.settings.topBar is not available on insights.stackoverflow.com
            if (StackExchange.settings.userMessaging && StackExchange.settings.userMessaging.showNewFeatureNotice) {
                buttons.push(new FeatureNoticeButton());
            }
            buttons.push(new InboxButton());
            buttons.push(new AchievementsButton());
            buttons.push(new HelpButton());
            buttons.push(new ReviewButton());
            
            if (StackExchange.options.user.isModerator) {
                buttons.push(new ModInboxButton());
            }

            // clicking anywhere else closes dialogs
            $(document).click(function (e) {
                if (!isButtonOrDialogClick(e.target)) {
                    hideAll();
                }
            });
            
            /* Cheap hack to make the top bar not completely unusable in browsers that don't support flexbox.
                * All browsers that we support *do* have flexbox, so this is just a case of being nice to people
                * stuck on old browsers. We won't spend any significant time making this better.
                */
            var bs = document.body.style;
            if (!("justifyContent" in bs || "WebkitJustifyContent" in bs)) {
                $(".js-top-bar *:visible").css({"display": "inline-block", "white-space": "nowrap", "vertical-align": "middle"}).not(".-logo, .-logo *, svg, .-badges *").css("width", "auto");
            }

            initSearchInteractions();
            initSearchInteractionsForNarrowView();
            stickyLeftnavForLegacyBrowsers();
            initGdprBanner();

            // search bar pulsing animation for OverflowAI Search
            var $pulsingSearchBar = $(".s-topbar--searchbar--input-group.js-search-pulsing input");
            if ($pulsingSearchBar.length > 0) {
                initSearchPulsingAnimation();
            }

            if ($("#js-ai-search-alpha-popover").length > 0) {
                initAISearchAlphaPopover();
            }

            $(".js-products-menu").click(function () { return false; /* prevent navigation on the products menu */ });

            if ($('#popover-review-queue').length) {

                var $reviewButton = $('.js-review-button');

                $reviewButton.on('s-popover:hide', function (e) {
                    var dispatcher = e.originalEvent.detail.dispatcher;
                    if (dispatcher && $(dispatcher).closest('.js-top-bar').length === 0) {
                        e.preventDefault();
                    }
                });

                $reviewButton.attr({
                    'data-controller': 's-popover',
                    'aria-controls': 'popover-review-queue'
                });

                StackExchange.helpers.toggleStacksPopover($reviewButton, true);

                $(".js-review-queue-popover-learn-more, .js-review-queue-popover-close-button, .js-review-button").click(
                    function () {
                        StackExchange.helpers.toggleStacksPopover($reviewButton, false);
                        StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.ShowReviewQueueNotice | StackOverflow.Models.UserFlags.ReviewQueueNoticeIsForCampaign, false);
                        StackExchange.helpers.toggleAccountPreferenceFlags(StackOverflow.Models.AccountPreferenceFlags.DismissReviewQueueNoticeCampaign, true);
                    }
                )
            }
        },
        
        hideAll: hideAll,
        handleRealtimeMessage: handleRealtimeMessage,
        toggleUnpinnedLeftNav: toggleUnpinnedLeftNav,
        
        SearchAutoComplete: SearchAutoComplete
    };
})();




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/03_Notify.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/03_Notify.js ***!
  \****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// Used to display messages at the top of the page..
StackExchange.notify = (function () {
    var numMsgs = 0;

    // remember the dismissed messages in a hidden <input> (the browser will remember
    // contents of <input>s when navigating back to the page; thus this is a way to
    // remember the already-dismissed messages when going back)
    // TODO: Is #dismissed-messages ever in the DOM? Looks like not. Consider nuking.
    function setDismissed(messageTypeId, id) {
        var container = $("#dismissed-messages");
        container.val(container.val() + "~" + messageTypeId + (id ? " " + id : "") + "~");
    }

    function isDismissed(messageTypeId, id) {
        var dismissed = $("#dismissed-messages").val();
        if (!dismissed)
            return false;
        return new RegExp("~" + messageTypeId + (id ? " " + id : "") + "~").test(dismissed);
    }

    function adjustTopMargin(oldNumber, newNumber, animate) {
        var oldMargin = parseInt($("body").css("margin-top").match(/\d+/));
        var newMargin = newNumber * oldMargin / oldNumber;
        if (animate) {
            $("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({ marginTop: newMargin + "px" }, 'fast', 'linear');
        } else {
            $("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").css("marginTop", newMargin + "px");
        }
    }

    var close = function (messageTypeId, id) {
        var jHide = $("#notify-" + messageTypeId + (id ? "-" + id : ""));
        if (!jHide.length)
            return;

        if (messageTypeId >= 0) { // client-side only messages will have negative type ids
            $.post("/messages/mark-as-read", { "messagetypeid": messageTypeId, "id": (id ? id : null) });
        }

        setDismissed(messageTypeId, id);
        numMsgs--;
        jHide.fadeOut("fast", function () {
            adjustTopMargin(numMsgs + 1, numMsgs, true);
            jHide.remove();
            if ($('#notify-container div').length === 0) {
                $('#notify-container').hide();
            }
        });
    };

    // returns true if the message was actually added; false if not (because it was already dismissed in a "previous visit" to this page)
    var appendMsg = function (json) {
        numMsgs++;

        if (isDismissed(json.messageTypeId, json.id))
            return false;

        var id = '';
        if (json.messageTypeId) {
            id = ' id="notify-' + json.messageTypeId + (json.id ? "-" + json.id : "") + '"';
        }

        var html =
        '<div' + id + ' style="display:none">' +
            '<span class="notify-close">' +
                $('<a>&times;</a>').attr('title', __tr(["dismiss this notification"], undefined, "en", [])).outerHTML() +
            '</span>' +
            '<span class="notify-text">' + json.text + '</span>';

        if (json.showProfile) {
            var userUrl = encodeURIComponent("/users/" + json.userId + "?tab=badges&sort=recent");
            html += ' ' + __tr(["See your <a href=\"$url$\">profile</a>."], {url: '/messages/mark-as-read?messagetypeid=' + json.messageTypeId + '&returnurl=' + userUrl}, "en", []);
        }

        html += '</div>';
        var jDiv = $(html);

        if (json.cssClass) {
            jDiv.addClass(json.cssClass);
        }

        jDiv.find('.notify-close').click(function () {
            if (json.close) {
                json.close();
            }
            close(json.messageTypeId, json.id);
        });

        $("#notify-container").append(jDiv);
        $('#notify-container').show();
        return true;
    };

    var show = function () {
        $('#notify-container div').fadeIn('slow');
    };

    var lowerBody = function () {
        $("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({ marginTop: "2.5em" }, 'fast', 'linear');
    };

    var addShowMoreLink = function (count, otherMessages) {
        var link = $('<div class="link-more">').append($('<a>').text(__tr(["view $numNotifications$ more notification","view $numNotifications$ more notifications"], {numNotifications: count}, "en", ["numNotifications"])));
        $('#notify-container').append(link);

        link.click(
            function () {
                link.detach();
                for (var i = 0; i < otherMessages.length; i++) {
                    appendMsg(otherMessages[i]);
                }

                show();
            }
        );
    };

    return {
        showMessages: function (jsonMsgArray) {
            var numAdded = 0;
            var oldCount = numMsgs;

            var maxShowCount = jsonMsgArray.length;

            for (var i = 0; i < maxShowCount && i < jsonMsgArray.length; i++) {
                if (appendMsg(jsonMsgArray[i]))
                    numAdded++;
            }
            adjustTopMargin(oldCount, numAdded, false); // the view set the margin for numMsgs messages, but we (only) added numAdded
            show();
        },

        show: function (html, messageTypeId, cssClass) {
            lowerBody();
            appendMsg({ text: html, messageTypeId: messageTypeId, cssClass: cssClass });
            show();
        },

        close: close,

        getMessageText: function (notifyMessageTypeId) {
            return $('#notify-' + notifyMessageTypeId + ' .notify-text').text();
        }
    };
})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/04_MoveScroller.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/04_MoveScroller.js ***!
  \**********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// assumes a <div id="scroller-anchor"> and <div id="scroller"> exist
// should be called on document ready
window.moveScroller = function moveScroller() {

    var width = $('#scroller').width();

    var move = function () {
        var enabled = StackExchange.responsive.currentRange() === "lg"; // the sidebar is no longer a sidebar at smaller widths
        var st = $(window).scrollTop();
        var ot = $('#scroller-anchor').offset().top;
        var s = $('#scroller');
        var topOffset = StackExchange.scrollPadding.getPaddingTop();
        var cssTop = topOffset + "px";
        if (enabled && st > ot) { 
            if (s.height() > $(window).height()) {
                s.css({ 'position': 'fixed', 'top': '', 'bottom': '0', 'width': width, 'z-index': 3 });
            } else {
                s.css({ 'position': 'fixed', 'top': cssTop, 'bottom': '', 'width': width, 'z-index': 3 });
            }
        }
        else {
            s.css({ 'position': 'relative', 'top': '', 'bottom': '', width: '' });
        }
    };
    StackExchange.responsive.addBreakpointListener(function () {
        // when crossing breakpoints, remeasure the natural width of the scroller (e.g. on the ask page, the sidebar is
        // wider when it's an actual sidebar vs. when it drops to the bottom)
        var s = $('#scroller');
        var inlineWidth = s[0].style.width; // jQuery's .css() doesn't necessarily give you the inline style
        var inlinePosition = s[0].style.position;
        s.css({position: 'relative', width: ''});
        width = s.width();
        s.css({position: inlinePosition, width: inlineWidth});
        
        move();
    });

    $(window).scroll(move).resize(move);
    move();
}




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/05_StyleCode.js":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/05_StyleCode.js ***!
  \*******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// In the long run, we probably want this to more explicitly know whether the current site has syntax
// highlighting or not. It does, however, do the right thing at the moment: If the hidden codeblockLang div
// isn't present, nor is the class "prettyprint-override", then hljs is never loaded.
window.styleCode = (function () {

    /**
     * Gets the default language for code blocks via the HtmlUtil.CodeblockLangDiv that is set
     * based on whether the post has a default language override, from either:
     * a tag (e.g. python, language set to "py") OR the Site.StyleCodeDefaultLang setting
     */
    function getDefaultCodeblockLanguageOverride() {
        // pull lang from hidden div rendered server side via @HtmlUtil.CodeblockLangDiv call
        return $('#js-codeblock-lang').text() || null;
    }

    /**
     * Styles all `pre code` code blocks using the default syntax highlighter
     */
    function styleCodeBlocks() {
        // if jtab is present (guitar tab support), don't color any code blocks
        if (typeof jtab !== "undefined") {
            jtab.renderimplicit();
            return;
        }

        // keep track of if we need to even need to load the syntaxhighlighter
        var detectedCodeBlock = false;

        // check every `pre code` block (in a post or editor preview) and set the language classes as needed
        $(".js-post-body pre code, .js-wmd-preview pre code, .js-md-preview pre code, .js-style-code pre code").parent().each(function () {

            // explicitly specify the classes we're using in one spot for reuse
            var highlightClass = "s-code-block";
            // TODO can't change to `codeblock-override` without rebaking posts...
            var overrideClass = "prettyprint-override";

            // if this block has a specifically overridden language, use it
            if ($(this).hasClass(overrideClass)) {
                $(this).removeClass(overrideClass).addClass(highlightClass);
                detectedCodeBlock = true;
            }

            // if there is no specific language set, try to use the set default class
            if (!$(this).hasClass(highlightClass)) {
                var defaultLang = getDefaultCodeblockLanguageOverride();
                if (defaultLang) {
                    $(this)
                        .addClass(defaultLang)
                        .addClass(highlightClass);
                    detectedCodeBlock = true;
                }
            }
        });

        
        // if we detected any code blocks that need styling, init our highlighter
        if (detectedCodeBlock) {
            StackExchange.using("highlightjs", function () {
                // highlightjs.initHighlighting highlights all `pre code`s by default and requires the lang class to be on the `code` block.
                // We only want to highlight our `pre.s-code-block`s specifically and our lang class is on the `pre` block.
                // Highlight each of these manually while skipping already highlighted blocks with the added hljs class
                $("pre.s-code-block code:not(.hljs)").each(function () {

                    // Exclude code blocks that are direct descendents of the stacks editor contenteditable div
                    if ($(this).parents('.js-editor').length != 0) {
                        return;
                    }
                    StackExchange.highlightjs.instance.highlightElement(this);
                });
            });
        }
    }

    return function () {
        if (typeof MathJax != 'undefined') MathJax.Hub.Queue(["Typeset", MathJax.Hub]);

        // Snippet redraw
        StackExchange.ifUsing("snippets", function () {
            if (StackExchange.snippets.redraw) {
                StackExchange.snippets.redraw();
            }
        });

        // style all `pre code` blocks
        styleCodeBlocks();

        // HACK: i put this here because styleCode is already called everywhere this spoiler click would need to be, too
        // if only there was an "on post body shown" event that we could all tie into

        // allow apple tablets to touch a spoiler to show

        styleCode.initializeSpoilers();
    };
})();
/**
 * Initializes all spoilers on a page by adding the translated `Reveal spoiler` badge, along with visual unveiling click events;
 * This does *not* need to be called anywhere that `styleCode()` is already called
 * NOTE: This is safe to call repeatedly (for e.g. refreshing post previews) - multiple click handlers are not rebound
 */
styleCode.initializeSpoilers = function () {
    $("body")
        .off("click.spoilers", ".spoiler")
        .on("click.spoilers", ".spoiler", function (e) {
            // only intercept the click if:
            // * the target is the spoiler itself (not a link or other child element)
            // * the spoiler is not already shown (will not re-hide on click)
            if (e.target.classList.contains("spoiler") && !e.target.classList.contains("is-visible")) {
                e.preventDefault();

                e.target.classList.add("is-visible");

                return false;
            }
        });

    $(".spoiler:not([data-spoiler])").attr("data-spoiler", __tr(["Reveal spoiler"], undefined, "en", []));
};

/**
 * Adds an `onPreviewRefresh` hook to the markdown editor to initialize spoilers on preview refresh
 * This needs to be called *before* editor.init/.initIfShown
 * NOTE: this is *not* needed if there is already a hook to call styleCode on refresh
 */
styleCode.updateSpoilersOnPreviewRefresh = function () {
    if (!StackExchange.MarkdownEditor) {
        return;
    }

    // hook into the editor preview renderer so we can initialize newly created spoilers on refresh
    StackExchange.MarkdownEditor.creationCallbacks.add(function (editor) {
        editor.hooks.chain("onPreviewRefresh", function () {
            styleCode.initializeSpoilers();
        });
    });
};

styleCode.updateLangdivDelayed = StackExchange.helpers.DelayedReaction(function (tags) {
    var langdiv = $('#js-codeblock-lang');
    if (!langdiv.length)
        return;

    $.get("/api/tags/langdiv", { tags: tags.join(" ") })
        .done(function (result) {
            if (result)
                langdiv.replaceWith(result)
            else
                langdiv.empty();
            StackExchange.MarkdownEditor.refreshAllPreviews();
            styleCode();
        });
}, 1500, { sliding: true });



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/07_TagMenu.js":
/*!*****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/07_TagMenu.js ***!
  \*****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// StackExchange.tagmenu.init can safely be called multiple times. If an argument is given, it
// should be a function taking two arguments; a jQuery object (the actual tag menu) and the
// name of the tag. This function is then called on load. Calling init again overwrites the
// previously given callback.
StackExchange.tagmenu = (function () {

    var initialized = false;

    var init = function () {
        if (initialized) {
            return;
        }

        initialized = true;

        var options = {
            selector: ".post-tag:not(.user-tag,.no-tag-menu,.invalid-tag,.job-link), .js-hoverable-post-tag",
            className: 'tag-popup',
            getUrl: suffixedGetUrl('/popup'),
            showing: showingPopup,
            fade: true,
            unclipped: true,
            renderInline: true,
        };

        StackExchange.helpers.MagicPopup(options); //TODO: MagicPopup now has a module 
    };
    return {
        init: init,
    };

    function suffixedGetUrl(suffix) {
        return function(elem) {
            var url = getUrl(elem);
            return url !== null ? url + suffix : url;
        }
    }

    function getUrl(elem) {
        var $tag = $(elem);
        if ($tag.closest('.mixed-site-content, .js-post-body, .js-tag-preferences-container').length) return null; // not for mixed-mode channels content, post bodies or sidebar
        var tagurl = $tag.attr("href");
        var forcedTagName = $tag.data("tag-menu-tagname");
        if (forcedTagName) forcedTagName = forcedTagName.toString(); // can be an integer (channels)

        // no link, or not a tag on *this* site (probably a parent-site tag posted on a meta)
        if (!forcedTagName && (!tagurl || tagurl.charAt(0) !== "/")) {
            return null;
        }

        var tagName = forcedTagName || $tag.text();

        if (tagName.indexOf("*") > -1) {
            return null;
        }

        $tag.attr("title", "");

        // On channels pages, '/' resolves to the channel root in ajax.
        return '/tags/' + encodeURIComponent(tagName);
    }

    function showingPopup(elem, $popup) {

        var $tag = $(elem),
            $window = $(window),
            $arrow = $popup.find('.js-source-arrow'),
            $leftSidebar = $('.left-sidebar:visible'),
            tagOffset = $tag.position(),
            tagHeight = $tag.outerHeight(),
            tagCenter = tagOffset.left + ($tag.outerWidth() / 2),
            width = $popup.outerWidth(),
            height = $popup.outerHeight(),
            result = { left: tagCenter - (width / 2) },
            top = tagOffset.top + tagHeight,
            onScreenTop = $window.scrollTop(),
            onScreenBottom = onScreenTop + $window.height() + - StackExchange.scrollPadding.getPaddingTop(),
            tagParentAbsoluteOffset = $tag.offsetParent().offset();

        if (
            tagParentAbsoluteOffset.top + top + height > onScreenBottom // When placed below, the popup will extend past the bottom of the screen
            && tagParentAbsoluteOffset.top + tagOffset.top - (height + 8) > onScreenTop // And when placed above, the popup doesn't extend past the top edge of the screen
        ) {
            // Show above
            result.bottom = $tag.offsetParent().outerHeight(true) - tagOffset.top - (tagHeight / 2); 
            $arrow.addClass('-bottom');
        } else {
            // Show below
            result.top = top;
            $arrow.addClass('-top');
        }

        var minLeftEdge = $leftSidebar.length > 0 ? $leftSidebar.offset().left + $leftSidebar.outerWidth() : 0;
        var maxRightEdge = $window.width();

        if (tagParentAbsoluteOffset.left + result.left + width > maxRightEdge) { // minimum supported screen width
            result.left -= (tagParentAbsoluteOffset.left + result.left + width) - maxRightEdge;
        }

        if (tagParentAbsoluteOffset.left + result.left < minLeftEdge) { // max supported screen width
            result.left = minLeftEdge - tagParentAbsoluteOffset.left;
        }

        var arrowOffset = tagCenter - (result.left + (width / 2));
        $arrow.css('margin-left', arrowOffset + 'px');

        return result;
    }
})();



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/08_UserMenu.js":
/*!******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/08_UserMenu.js ***!
  \******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.usermenu = (function () {

    var initialized,
        gravatarClone,
        visible,
        isOwn;

    var init = function () {

        if (initialized)
            return;
        initialized = true;

        //TODO: MagicPopup now has a module 
        StackExchange.helpers.MagicPopup({
            selector: ".user-hover .user-gravatar48, .user-hover .user-gravatar32, .js-user-hover-target",
            predicate: function (el) { return !$(el).closest('.mixed-site-content').length;},
            getUrl: getUrl,
            cache: true,
            id: "user-menu",
            showing: showing,
            shown: shown,
            removed: removed,
            renderInline: true
        })
        
        function getUrl(elem) {
            var jElem = $(elem);
            var userId;

            if (jElem.is(".js-user-hover-target")) {
                userId = parseInt(jElem.data("userId"), 10);
            }
            else {
                var container = jElem.closest(".user-hover"),
                    userUrl = container.find(".user-details a").attr("href"),
                    userReg = new RegExp("/users/([^/]+).*$"),
                    match = userReg.exec(userUrl);

                if (!match)
                    return null;

                userId = parseInt(match[1]);
            }
            
            if (StackExchange.options.user.isAnonymous) {
                isOwn = false;
            } else {
                isOwn = userId === StackExchange.options.user.userId;
            }

            return "/users/user-info/" + userId;
        }

    };
    
    return {
        init: init
    };
    
    function showing(elem, jMenu) {
        let jElem = $(elem),
            jGravatar = jElem.find("img:last"),
            elementPosition = jElem.position(),
            gravatarOffset = jGravatar.offset(),
            gravatarHeight = jGravatar.height(), // stupid non-square avatars
            gravatarWidth = jGravatar.width(),
            maxDimension = Math.max(gravatarWidth, gravatarHeight),
            largeHeight = 64 * gravatarHeight / maxDimension,
            largeWidth =  64 * gravatarWidth / maxDimension,
            largeGravatar = jMenu.find("img:first").css({width: largeWidth , height: largeHeight}),
            anonymousGravatar = jMenu.find(".anonymous-gravatar");

        let largeGravatarOffset = largeGravatar.offset() ?? anonymousGravatar.offset();
        let largeGravatarPosition = largeGravatar.position() ?? anonymousGravatar.position();

        largeGravatar.css("visibility", "hidden");
        largeGravatar.attr("aria-hidden", "true");

        let overflow = 0;
        if (largeGravatar.length) {
            gravatarClone = jGravatar.clone().css({
                position: "absolute",
                zIndex: 1003,
                left: largeGravatarPosition.left,
                top: largeGravatarPosition.top,
                width: gravatarWidth,
                height: gravatarHeight
            }).appendTo(jMenu.offsetParent());

            let check = function () {
                if (!largeGravatar[0].complete) { // only fade after the 64x64 has loaded
                    setTimeout(check, 100);
                    return;
                }
                largeGravatar.css("visibility", "visible");
                gravatarClone?.fadeOutAndRemove();
            }

            overflow = Math.max(0, gravatarOffset.left - largeGravatarOffset.left + jMenu.outerWidth() - $(window).width() + 8);

            gravatarClone.animate({
                    width: largeWidth,
                    height: largeHeight,
                    top: largeGravatarPosition.top,
                    left: largeGravatarPosition.left
                },
                200, check);
        }
        jMenu.trigger("userhovershowing", elem); // for winterbash; we can't make this prettier with dashes, because jQuery replaces \bhover\b with... something

        visible = true;

        let hasLinks = jMenu.find(".um-header-info a:not(.um-user-link), .um-about-me a, .um-links a").length > 0;

        StackExchange.gps.track('user_popup.show', { "is_own": isOwn, "has_links": hasLinks });
        setTimeout(function () {
            if (visible) StackExchange.gps.track('user_popup.read', { "is_own": isOwn, "has_links": hasLinks });
        }, 2000);

        jMenu.on('click', '.um-gravatar a, a.um-user-link', function () {
            StackExchange.gps.track('user_popup.click', { "clicked_link": 0, "is_own": isOwn });
        });
        jMenu.on('click', '.um-header-info a:not(.um-user-link)', function () {
            StackExchange.gps.track('user_popup.click', { "clicked_link": 1, "is_own": isOwn });
        });
        jMenu.on('click', '.um-about-me a', function () {
            StackExchange.gps.track('user_popup.click', { "clicked_link": 2, "is_own": isOwn });
        });
        jMenu.on('click', '.um-links a', function () {
            StackExchange.gps.track('user_popup.click', { "clicked_link": 3, "is_own": isOwn });
        });


        return {
            top: elementPosition.top,
            left: elementPosition.left - overflow,
            additional : gravatarClone
        };
    }
    
    function shown(element, jMenu) {
        jMenu.trigger("userhovershown"); // for winterbash; we can't make this prettier with dashes, because jQuery replaces \bhover\b with... something
    }
    
    function removed(elem, jMenu) {
        $(elem).trigger("userhoverremoved"); // for winterbash; we can't make this prettier with dashes, because jQuery replaces \bhover\b with... something
        gravatarClone?.remove();

        visible = false;
    }
    
})();




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/09_ChatAd.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/09_ChatAd.js ***!
  \****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// Javascript need to support the chat ad (zone 502)
//    We're putting it in so many places that it really needs to be properly minified
//    thus the pull into full-anon.js
StackExchange.chatAd = (function () {
    var chatUrl, reloadUrl; // the two are set by init()
    var reloadInterval = 180; // how many seconds before the first refresh
    var reloadFrequencyThrottle = 30; // increase reloadInterval by this value on every refresh
    var reloadStopInterval = 480; // stop reloading altogehter when reloadInterval is over this value (happens after ~1 hour)
    var months = [__tr(["Jan"], undefined, "en", []), __tr(["Feb"], undefined, "en", []), __tr(["Mar"], undefined, "en", []), __tr(["Apr"], undefined, "en", []), __tr(["May"], undefined, "en", []), __tr(["Jun"], undefined, "en", []), __tr(["Jul"], undefined, "en", []), __tr(["Aug"], undefined, "en", []), __tr(["Sep"], undefined, "en", []), __tr(["Oct"], undefined, "en", []), __tr(["Nov"], undefined, "en", []), __tr(["Dec"], undefined, "en", [])];
        
    function init(options) {

        if (/^\/questions\/\d+/i.test(window.location.pathname)) {
            reloadStopInterval = 0; // never reload on a single-question page
        }

        chatUrl = options.chatUrl;
        reloadUrl = options.reloadUrl;

        if (options.tagBased) {
            var tags = getTags();
            if (!tags)
                return; // no ad if we coouldn't infer tags

            if (reloadUrl)
                reloadUrl += (/\?/.test(reloadUrl) ? "&" : "?") + "tags=" + encodeURIComponent(tags);
        }

        if (options.preloadedData === null) {
            loadAd();
        } else {
            displayRooms(options.preloadedData, null, null);
        }
    }

    function getTags() {
        var tags = $(".question .post-taglist .post-tag");
        if (!tags.length)
            return null;
        return tags.map(function (i, elem) { return $(elem).text() }).get().join(" ");
    }

    function pad(n) {
        return n < 10 ? "0" + n : n;
    }
    function absoluteTime(ut) {
        var date = new Date();
        date.setTime(ut * 1000);

        return [
            date.getUTCFullYear(),
            "-", pad(date.getUTCMonth() + 1),
            "-", pad(date.getUTCDate()),
            " ", pad(date.getUTCHours()),
            ":", pad(date.getUTCMinutes()),
            ":", pad(date.getUTCSeconds()),
            "Z"
        ].join("");
    }
    function friendlyTime(dt) {
        var utcNow = Math.floor((new Date()).getTime() / 1000);

        var delta = utcNow - dt;
        var seconds = delta % 60;
        var minutes = Math.floor(delta / 60);
        var hours = Math.floor(delta / 3600);
        if (delta < 1) {
            return __tr(["just now"], undefined, "en", []);
        }
        if (delta < 60) {
            return __tr(["$seconds$ sec ago","$seconds$ secs ago"], {seconds: seconds}, "en", ["seconds"]);
        }
        if (delta < 3600) // 60 mins * 60 sec
        {
            return __tr(["$minutes$ min ago","$minutes$ mins ago"], {minutes: minutes}, "en", ["minutes"]);
        }
        if (delta < 86400)  // 24 hrs * 60 mins * 60 sec
        {
            return __tr(["$hours$ hour ago","$hours$ hours ago"], {hours: hours}, "en", ["hours"]);
        }

        var days = Math.floor(delta / 86400);

        if (days == 1) {
            return __tr(["yesterday"], undefined, "en", []);
        }
        else if (days <= 2) {
            return __tr(["$__count$ day ago","$__count$ days ago"], {__count: days}, "en", ["__count"]);
        }

        var date = new Date(dt * 1000);
        return __tr(["$month$ $date$ at $hours$:$minutes$"], {month: months[date.getMonth()],date: date.getDate(),hours: date.getHours(),minutes: pad(date.getMinutes())}, "en", []);
    }

    function loadAd() {
        if (reloadUrl) {
            $.get(reloadUrl, null, displayRooms);
        }
    }

    function avatarUrl(emailHash) {
        if (emailHash.charAt(0) === '!') {
            var result = emailHash.substr(1);
            if (/^https?:\/\/i.stack.imgur.com\//.test(result)) {
                var sep = /\?/.test(result) ? "&" : "?";
                result += sep + "g&s=32";
            }
            return result;
        }

        return "https://www.gravatar.com/avatar/" + emailHash + "?s=23&d=identicon&r=PG";
    }

    // Build a summary line of the last 5 users to talk, in order
    function userBox(users) {
        var $box = $('<div class="d-flex gs4 ai-center fw-wrap" />');

        for (var i = 0; i < users.length && i < 7; i++) {
            var user = users[i];

            var toolTip = user.name;
            if (user.lastPost) {
                toolTip += ": " + friendlyTime(user.lastPost);
            }

            var $icon = $('<img class="bar-sm">').attr({
                title: toolTip,
                src: avatarUrl(user.emailhash),
                width: 23,
                height: 23
            });
            var $user = $('<a class="flex--item">').attr('href', chatUrl + '/users/' + user.id).append($icon);
            $box.append($user);
        }

        return $box;
    }

    function singleImageOfAllUsers(roomId) {
        return $('<div class="flex--item"><img src="' + chatUrl + '/rooms/users/' + roomId + '.jpeg" /></div>');
    }

    // Link to the user responsible for the message
    function userLink(msg) {
        var name = msg.user;
        var id = msg.userid;

        if (id) {
            return $('<a>').attr('href', chatUrl + '/users/' + id).text(name);
        } else {
            return $('<span>').text(name);
        }
    }

    function setupNextRefresh() {
        if (!reloadUrl) return;

        if (reloadInterval <= reloadStopInterval) // stop refreshing after an hour -- the user probably just left the page open overnight
            window.setTimeout(loadAd, reloadInterval * 1000);
        reloadInterval += reloadFrequencyThrottle; // the longer the user has the page open, the higher the chance that they're not even looking at it -- throttle back
    }

    // Callback to build the room list
    function displayRooms(data, textStatus, req) {
        var $roomContainer = $('.js-chat-ad-rooms');
        if (data.error) {
            setupNextRefresh();
            return;
        }

        $roomContainer.empty();

        var roomData = data.rooms;

        for (var i = 0; i < roomData.length && i < 2; i++) {
            var room = roomData[i];

            var roomLink = chatUrl + '/rooms/' + room.id;

            var lastMessage = (room.messages || []).length > 0 ? room.messages[0] : null;

            var $room = $('<div class="d-flex fd-column gs2" />');
            $('<a class="flex--item" />').attr('href', roomLink).text(room.name).appendTo($room);

            if (lastMessage) {
                $('<div class="flex--item fs-fine fc-black-350 mb4" />')
                    .attr('title', absoluteTime(room.lastPost))
                    .html(friendlyTime(room.lastPost) + ' - ')
                    .append(userLink(lastMessage))
                    .appendTo($room);
            }

            if (room.singleImage)
                $room.append(singleImageOfAllUsers(room.id));
            else
                $room.append(userBox(room.users));
            
            $roomContainer.append($('<div class="s-sidebarwidget--item" />').append($room));
        }

        $roomContainer.toggleClass('d-none', roomData.length === 0);

        var $link = $('.js-chat-ad-link');

        if (data.activeUsers > 1) {
            $link.text(__tr(["$num$ person chatting","$num$ people chatting"], {num: data.activeUsers}, "en", ["num"]));
        } else {
            $link.text(__tr(["Visit chat"], undefined, "en", []));
        }

        $link.attr('title', __tr(["$users$ user active in $rooms$ room the last 60 minutes","$users$ user active in $rooms$ rooms the last 60 minutes","$users$ users active in $rooms$ room the last 60 minutes","$users$ users active in $rooms$ rooms the last 60 minutes"], {users: data.activeUsers,rooms: data.activeRooms}, "en", ["users","rooms"]));

        setupNextRefresh();
    }

    return { init: init };
})();




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/10_TagSanitizer.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/10_TagSanitizer.js ***!
  \**********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// note that this only works on lowercase
$.extend(StackExchange.helpers, (function () {
    var diacSubstitutions = {
        "àåáâäãåąɐᵄᶛ": "a",
        "æǣǽᴂᵆ": "ae",
        "çćčĉ": "c",
        "đƍðÐ": "d",
        "èéêëęǝᴈᵌ": "e",
        "ⅎ": "f",
        "ğĝᵷ": "g",
        "ĥɥʮᶣ": "h",
        "ìíîïıᴉᵎ": "i",
        "ĵ": "j",
        "ʞ": "k",
        "ł": "l",
        "ɯɰᵚᶭᴟ": "m",
        "ñń": "n",
        "òóôõöøő": "o",
        "œɶᴔ": "oe",
        "řɹɺɻʴʵ": "r",
        "śşšŝ": "s",
        "ß": "ss",
        "ʇ": "t",
        "Þ": "th",
        "ùúûüŭů": "u",
        "ʌᶺ": "v",
        "ʍ": "w",
        "ýŸÿʎ": "y",
        "żźž": "z"
    };

    function noDiacritics(s) {
        for (var orig in diacSubstitutions) {
            if (diacSubstitutions.hasOwnProperty(orig)) {
                s = s.replace(new RegExp("[" + orig + "]", "g"), diacSubstitutions[orig]);
            }
        }
        return s;
    }

    // the following is courtesy balpha, ala https://chat.meta.stackexchange.com/transcript/message/1025265#1025265
    var allowedNonAsciiCharacters =
        '\\u0030-\\u0039\\u0041-\\u005a\\u005f\\u0061-\\u007a\\u00aa\\u00b5\\u00ba\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02c1\\u02c6-\\u02d1' +
        '\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376-\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5' +
        '\\u03f7-\\u0481\\u048a-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0621-\\u064a\\u0660-\\u0669' +
        '\\u066e-\\u066f\\u0671-\\u06d3\\u06d5\\u06e5-\\u06e6\\u06ee-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07c0-\\u07ea' +
        '\\u07f4-\\u07f5\\u07fa\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0966-\\u096f\\u0971-\\u0972\\u097b-\\u097f\\u0985-\\u098c' +
        '\\u098f-\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc-\\u09dd\\u09df-\\u09e1\\u09e6-\\u09f1' +
        '\\u0a05-\\u0a0a\\u0a0f-\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32-\\u0a33\\u0a35-\\u0a36\\u0a38-\\u0a39\\u0a59-\\u0a5c\\u0a5e' +
        '\\u0a66-\\u0a6f\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2-\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0' +
        '\\u0ae0-\\u0ae1\\u0ae6-\\u0aef\\u0b05-\\u0b0c\\u0b0f-\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32-\\u0b33\\u0b35-\\u0b39\\u0b3d' +
        '\\u0b5c-\\u0b5d\\u0b5f-\\u0b61\\u0b66-\\u0b6f\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99-\\u0b9a\\u0b9c' +
        '\\u0b9e-\\u0b9f\\u0ba3-\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0be6-\\u0bef\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28' +
        '\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58-\\u0c59\\u0c60-\\u0c61\\u0c66-\\u0c6f\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8' +
        '\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0-\\u0ce1\\u0ce6-\\u0cef\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d28\\u0d2a-\\u0d39' +
        '\\u0d3d\\u0d60-\\u0d61\\u0d66-\\u0d6f\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30' +
        '\\u0e32-\\u0e33\\u0e40-\\u0e46\\u0e50-\\u0e59\\u0e81-\\u0e82\\u0e84\\u0e87-\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f' +
        '\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa-\\u0eab\\u0ead-\\u0eb0\\u0eb2-\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ed0-\\u0ed9\\u0edc-\\u0edd' +
        '\\u0f00\\u0f20-\\u0f29\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8b\\u1000-\\u102a\\u103f-\\u1049\\u1050-\\u1055\\u105a-\\u105d\\u1061' +
        '\\u1065-\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u1090-\\u1099\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1159\\u115f-\\u11a2' +
        '\\u11a8-\\u11f9\\u1200-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0' +
        '\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f' +
        '\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u1676\\u1681-\\u169a\\u16a0-\\u16ea\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731' +
        '\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u17e0-\\u17e9\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18a8' +
        '\\u18aa\\u1900-\\u191c\\u1946-\\u196d\\u1970-\\u1974\\u1980-\\u19a9\\u19c1-\\u19c7\\u19d0-\\u19d9\\u1a00-\\u1a16\\u1b05-\\u1b33' +
        '\\u1b45-\\u1b4b\\u1b50-\\u1b59\\u1b83-\\u1ba0\\u1bae-\\u1bb9\\u1c00-\\u1c23\\u1c40-\\u1c49\\u1c4d-\\u1c7d\\u1d00-\\u1dbf' +
        '\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4' +
        '\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc' +
        '\\u203f-\\u2040\\u2054\\u2071\\u207f\\u2090-\\u2094\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128' +
        '\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2183-\\u2184\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2c6f' +
        '\\u2c71-\\u2c7d\\u2c80-\\u2ce4\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6' +
        '\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3006\\u3031-\\u3035\\u303b-\\u303c' +
        '\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31b7\\u31f0-\\u31ff' +
        '\\u3400-\\u4db5\\u4e00-\\u9fc3\\ua000-\\ua48c\\ua500-\\ua60c\\ua610-\\ua62b\\ua640-\\ua65f\\ua662-\\ua66e\\ua67f-\\ua697' +
        '\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78c\\ua7fb-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873' +
        '\\ua882-\\ua8b3\\ua8d0-\\ua8d9\\ua900-\\ua925\\ua930-\\ua946\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa50-\\uaa59' +
        '\\uac00-\\ud7a3\\uf900-\\ufa2d\\ufa30-\\ufa6a\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36' +
        '\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb' +
        '\\ufe33-\\ufe34\\ufe4d-\\ufe4f\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff10-\\uff19\\uff21-\\uff3a\\uff3f\\uff41-\\uff5a\\uff66-\\uffbe' +
        '\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc';

    // See Tag.ToArray
    function tagSeparator(tags) {

        tags = $.trim(tags);

        if (/^\|.*\|$/.test(tags)) {
            return "|";
        }

        // See Tag.IsPlusDelimited
        var extraLetters = StackExchange.settings.tags.allowNonAsciiTags ? allowedNonAsciiCharacters : "";
        if (!/\s/.test(tags) && RegExp('[A-Za-z' + extraLetters + '0-9#\\-.*]\\+[A-za-z' + extraLetters + '0-9#\\-.]').test(tags)) {
            return "+";
        }

        return /[\s|,;]+/;
    };

    // takes the user entered tag string and splits it into a list of "nice" tags
    function sanitizeAndSplitTags(tags, allowWildcards, allowOperators, allowUpperCase) {

        var splitted = $.trim(tags).split(StackExchange.helpers.tagSeparator(tags));

        var result = [];
        for (var i = 0; i < splitted.length; i++) {
            // remove all characters that aren't allowed in tags
            var tag = splitted[i];

            if (!allowUpperCase) { // HACK: to support display names in question mention notifications ONLY!
                tag = tag.toLowerCase();
            }

            if (!StackExchange.settings.tags.allowNonAsciiTags) {
                tag = StackExchange.helpers.noDiacritics(tag); // replace diacritics and similar characters by their plain ascii brothers
            }
            tag = tag.replace(/_/g, "-"); // turn underscore into dash
            var illegalChars = (allowUpperCase ? "[^A-Za-z0-9.#+" : "[^a-z0-9.#+")
                + (allowWildcards ? "*" : "")
                + (StackExchange.settings.tags.allowNonAsciiTags ? allowedNonAsciiCharacters : "")
                + "-]";
            tag = tag.replace(new RegExp(illegalChars, "g"), "");

            // # + - aren't allowed in the first position
            tag = tag.replace(/^[#+-]+/, "");

            // . - aren't allowed at the end
            tag = tag.replace(/[.-]+$/, "");

            var operators = ["or", "and", "not"];
            var isOperator = operators.indexOf(tag) !== -1;
            var alreadyExists = result.indexOf(tag) !== -1;

            // 1. Don't add empty strings
            // 2. Don't add existing tags or operators unless we're allowing operators, in which case both operators and duplicates are allowed.
            if (tag.length > 0 && ((!isOperator && !alreadyExists) || allowOperators))
                result.push(tag);
        }
        return result;
    }

    return {
        noDiacritics: noDiacritics,
        tagSeparator: tagSeparator,
        sanitizeAndSplitTags: sanitizeAndSplitTags
    };

})());



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/11_Question.js":
/*!******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/11_Question.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _citation_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../citation.mod */ "./_Scripts/LegacyJS/citation.mod.ts");
/* harmony import */ var _saves_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../saves.mod */ "./_Scripts/LegacyJS/saves.mod.ts");
/* harmony import */ var _constants_mod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});






// options to StackExchange.questions.init:
//   questionId            the number of microseconds since the big bang (No, not really. Guess what this is).
//   hasOpenBounty         true if the current user has an open bounty on this question
//   canOpenBounty         true if the current user can open a bounty on this question
//   votesCast             array of objects of the kind {"PostId":38292,"VoteTypeId":2}, denoting on what posts and how the current user has voted on this page
//   canViewVoteCounts     true if the user has the privilege to view the vote split on posts
//   autoShowCommentHelp   true if the comment help div should automatically be shown when the user starts to write a comment

//   totalCommentCount     number of comments on the question, total
//   shownCommentCount     number of comments shown on the question

//   focusPostEditor       focuses the "post an answer"-editor, and scrolls until it is visible

StackExchange.question = (function () {

    function showAnswerHelp() {
        $(".js-answer-help").removeClass("d-none").attr("aria-hidden", "false");
    };

    function hideAnswerHelp(e) {
        e.preventDefault();
        $(".js-answer-help").addClass("d-none").attr("aria-hidden", "true");
    }

    function showAnswerBanWarning() {
        $('#qualityBanWarningShown').val('true');
        $(".js-answer-ban").removeClass("d-none").attr("aria-hidden", "false");
    };

    function hideAnswerBanWarning(e) {
        e.preventDefault();
        $(".js-answer-ban").addClass("d-none").attr("aria-hidden", "true");
    }

    var getQuestionId = function (context) {
        // context allows passing in an element that should have a question its ancestry (or be the question)
        var q = context ? context.closest('.question') : $('.question'),
            result = q.data('questionid');

        if (!result) throw new Error('getQuestionId could not find an id');

        return result;
    };

    var canViewVoteCounts;

    function getPost(postId) {
        return $('.question[data-questionid=' + postId + '], .answer[data-answerid=' + postId + ']');
    }

    function scrollToPost(postId) {
        var $post = getPost(postId);
        if ($post.length === 0) {
            return false;
        }

        var hash = $post.hasClass('question') ? '#question' : '#' + postId;

        if (location.hash !== hash) {
            location.hash = hash;
        } else {
            $post.scrollIntoView();
        }
        doHighlight($post);
        return true;
    }

    function scrollToComment(commentId, postId) {
        var $post = getPost(postId);
        if ($post.length === 0) {
            return false;
        }

        var hash = '#comment' + commentId + '_' + postId;
        if (location.hash !== hash) {
            location.hash = hash;
        } else {
            StackExchange.comments.highlight(commentId, postId);
        }
        return true;
    }

    var doHighlight = function (jEle) {
        jEle.addClass("highlighted-post");
    };


    var initShareLinks = function () {
        var clickEventName = 'click.shareLinks';

        // bind post menu's "link" to toggle the share popup
        $(document)
            .off(clickEventName)
            .on(clickEventName, ".bottom-share-links a", function (event) {
            var href = $(this).attr('href');
            var svc = null;
            if (href && href.length)
            {
                if (href.indexOf('%3fsgp%3d') >= 0) svc = 1;
                else if (href.indexOf('%3fsfb%3d') >= 0) svc = 2;
                else if (href.indexOf('%3fstw%3d') >= 0) svc = 3;
                else if (href.indexOf('%3fsem%3d') >= 0) svc = 4;
            }
            if (svc) {
                StackExchange.gps.track('share.click', {
                    location: 3,
                    service: svc
                }, true);
            }
            });

        var bn = $('.bottom-notice');
        if (bn && bn.length && bn.data('loc'))
        {
            bn.off(clickEventName).on(clickEventName, "a", function () {
                var type = 0, loc = bn.data('loc');
                var href = $(this).attr('href');

                if ($(this).hasClass('post-tag')) type = 1;
                else if (/\/ask$/.test(href)) type = 2;
                else if (/\/tags$/.test(href)) type = 4;
                else if (/\/unanswered$/.test(href)) type = 5;
                else if (/\/questions$/.test(href) || /\/questions[?\/]/.test(href)) type = 3;
                StackExchange.gps.track("next_action.click", { type: type, location: loc }, true);
            });
        }
    };

    var currentlySelectedTitleLink = null;
    var moveSelection = function (jSearch, options, dir) {
        // nothing to move around in, ignore the event
        if (!currentlySelectedTitleLink && !jSearch.is(":focus")) return true;

        var canBeSelected = options.find('.title-float-option');

        var curIndex = currentlySelectedTitleLink ? canBeSelected.index(currentlySelectedTitleLink) : -1;

        curIndex += dir;

        if (curIndex < -1 || curIndex >= canBeSelected.length) return true;

        options.find('.title-float-selected').removeClass('title-float-selected');

        if (curIndex == -1) {
            currentlySelectedTitleLink = null;
            jSearch.focus();
            return false;
        }

        currentlySelectedTitleLink = canBeSelected.eq(curIndex);

        currentlySelectedTitleLink.addClass('title-float-selected');

        return false;
    };

    // Puts resultHtml into a box floating under jSearch if appropriate
    var floatTitleSearchResults = function (jSearch, resultHtml) {
        // Don't show this popup box if the user has moved on
        if (!jSearch.is(':focus')) return;

        var pos = jSearch.offset();
        var jResults = $(resultHtml);
        jResults.find('.answer-summary').addClass('title-float-option');

        jResults.find('.answer-link a').attr('target', '_blank');

        var jFloat = $('.title-search-float');
        // first run!
        if (jFloat.length == 0) {
            jSearch.focus(function () {
                if (jFloat.children().length > 0) {
                    setTimeout(function () { jFloat.show(); }, 0);
                }
            });

            jFloat = $('<div class="title-search-float"></div>');
            jSearch.parent().append(jFloat);

            // keydown so we can prevent default
            $(document).keydown(
                function (e) {
                    // if you ESC or TAB out, hide the floater
                    if (e.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.ESC || e.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.TAB) {
                        jFloat.hide();
                        $('.title-float-selected').removeClass('title-float-selected');
                        currentlySelectedTitleLink = null;
                    }

                    // down key
                    if (e.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.DOWN) {
                        return moveSelection(jSearch, jFloat, -1);
                    }

                    // up key
                    if (e.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.UP) {
                        return moveSelection(jSearch, jFloat, 1);
                    }

                    // enter
                    if (e.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.ENTER) {
                        var selected = jFloat.find('.title-float-selected:visible');
                        if (selected.length != 0) {
                            var link = selected.find('a').attr('href');
                            window.open(link, '_blank');
                            return false;
                        }
                    }
                }
            );
            $(document).click(
                function (e) {
                    var isClickedOnSearch = $(e.target)[0] == jSearch[0];

                    if ($(e.target).parents('.title-search-float').length == 0 && !isClickedOnSearch) {
                        jFloat.hide();
                    }
                }
            );

            $(window).resize(
                function (e) {
                    if (!jFloat.is(":visible")) return;

                    var pos = jSearch.offset();

                    var top = pos.top + jSearch.outerHeight();
                    // -2 because "internet"
                    jFloat.width((jSearch.outerWidth() - 2) + "px");
                    jFloat.offset({ top: top, left: pos.left });
                }
            );
        } else {
            jFloat.show();
        }

        jFloat.empty();

        var top = pos.top + jSearch.outerHeight();

        jFloat.append(jResults);
        jFloat.css({ position: "absolute" });

        // -2 because "internet"
        jFloat.width((jSearch.outerWidth() - 2) + "px");
        jFloat.offset({ top: top, left: pos.left });
    };

    // returns a function that can let you "force" an update
    // options:
    //  siteName - site name to append to the end of the question title in search results e.g. How do I frob the widget? - Stack Overflow
    //  onResults - function to be run that does something for every question link in the result set
    //  searchRouteOverride - specify a different route to use for searching. by default, /search/titles
    var initTitleSearch = function (jTitleBox, jIntoBox, options) {
        var originalTitle = document.title;

        var searchRoute = options.searchRouteOverride || '/search/titles';
        var onResults = options.onResults || function() {};

        var lastRefreshed = 0,
            lastTitle,
            popup;

        // disable autocomplete
        jTitleBox.attr('autocomplete', 'off');

        var doUpdate = function (bypassChecks) {
            var s = jTitleBox.val();

            if (s == '' || (s == lastTitle && bypassChecks !== true)) return;

            // Don't do an update once somebodies tabbing down.
            if (StackExchange.settings.site.newTitleSearchBoxEnabled) {
                if ($('.title-float-selected:visible').length > 0) return;
            }

            var parts = s.split(' ');
            var wordCount = 0;
            for (var i = 0; i < parts.length; i++) {
                if ($.trim(parts[i]).length > 0) wordCount++;
            }

            var now = (new Date()).getTime();

            var sinceLast = (now - lastRefreshed) / 1000;

            if (bypassChecks !== true && (wordCount < 3 || sinceLast < 5) && !jTitleBox.hasClass('edit-field-overlayed')) return;

            lastRefreshed = now;
            lastTitle = s;

            // If we don't want this title updating behavior, just don't pass a sitename
            if (options.siteName) {
                if (s) {
                    document.title = s + ' - ' + options.siteName;
                } else {
                    document.title = originalTitle;
                }
            }

            if (!$('.js-similar-questions-loader').length) {
                jIntoBox.empty();
                StackExchange.helpers.addSpinner(jIntoBox);
            } else {
                jIntoBox.empty();
                StackExchange.helpers.addStacksSpinner(jIntoBox, "lg", "fc-orange-400 ml16 mt12");
            }

            if (popup)
                popup.fadeOutAndRemove();

            $.ajax({
                url: searchRoute,
                dataType: 'json',
                data: { title: s },
                success: function (data) {
                    if (data && data.content) {
                        jIntoBox.html(data.content);
                        setTimeout(function () {
                            onResults(jIntoBox.find('.answer-link a').attr('target', '_blank'));
                        }, 1);
                        $(".js-link").attr('target', '_blank');
                        $('.js-verify-not-duplicate').removeClass("d-none");
                        $('.js-next-title').prop('disabled', true);
                        if ($('.js-similar-questions-outer-div').length) {
                            $('.js-similar-questions-outer-div').removeClass('d-none');
                            $('.js-question-summary-scroll').one('scroll', function () {
                                StackExchange.using("gps", function () { StackExchange.gps.track("similarquestions.title_scroll"); });
                            })
                        }
                    } else {
                        $('.js-similar-questions-outer-div').toggleClass('d-none', true);
                        onResults(null);
                    }
                },
                complete: function (data) {
                    if (data.responseJSON.content.length > 0) StackExchange.helpers.removeSpinner(jIntoBox);
                    $('.js-next-title').prop('disabled', false);
                }
            });
        };

        var overResults = false;
        jIntoBox.mouseenter(
            function () {
                overResults = true;
            }
        ).mouseleave(
            function() {
                overResults = false;
            }
        );

        jTitleBox.keyup(doUpdate).blur(
            function () {
                var blurUpdate =
                    function () {
                        lastRefreshed = 0;
                        doUpdate();
                    };

                // If the user is currently trying to *click* the search results, don't move the targets just
                //   because focus left the title box
                if (overResults) {
                    jIntoBox.one('mouseleave', blurUpdate);
                } else {
                    blurUpdate();
                }
            }
        );

        if (jTitleBox.val()) {
            doUpdate();
        }

        //setInterval(doUpdate, 100);

        return function (bypassChecks) { lastRefreshed = 0; doUpdate(bypassChecks); };
    };

    // this is needed to reclaim a bunch of localStorage crap from the next/previous button experiment
    var cleanupNextAndPreviousButtonState = function () {
        try {
            localStorage.removeItem('nextPrevTrackState');
            localStorage.removeItem('nextPrevTrackState2');
            localStorage.removeItem('nextPrevState');
        } catch (e) { }
    };

    var bindNewContributorIndicators = function () {

        var current, canceller;

        $(document).on({
            mouseenter: function () {

                var $this = $(this);
                var $label = $this.find('.js-new-contributor-label');
                var $popover = $this.find('.js-new-contributor-popover');

                if (canceller && this === current) {
                    canceller.cancel();
                } else {
                    $popover.addClass('is-visible').css({
                        top: $this.height() + 4,
                        left: $label.position().left + $label.width() / 2 - $this.width() / 2,
                        width: $this.width()
                    });

                    current = this;

                    canceller = StackExchange.helpers.DelayedReaction(function () {
                        $popover.removeClass('is-visible');
                        canceller = null;
                    }, 100);
                }
            },
            mouseleave: function () {
                if (canceller) {
                    canceller.trigger();
                }
            }
        },
        '.js-new-contributor-indicator');
    };

    /**
     * Handles focusing the targets indicated by the location hash (eg the add comment editor, add answer editor, etc)
     */
    var handleHashFocusTarget = function () {
        // gather and normalize the hash
        var hash = window.location.hash.replace('#', '').toLowerCase();

        // check if the hash has a value
        if (!hash) {
            return;
        }

        var commandSegments = hash.split('_'),
            command = commandSegments[0],
            postId = commandSegments[1];

        var handled = true;

        // focus the appropriate editor
        switch (command) {
            case 'answer':
                // ensure that the editor is loaded before attempting to focus answer input
                StackExchange.using('editor', function () {
                    var answerInput = $('#wmd-input');
                    if (answerInput.is(':visible')) {
                        answerInput.focus();
                    }
                    else {
                        // ensure that the editor init has happened (async race conditions w/ editor callback)
                        window.setTimeout(function () {
                            $('.js-add-another-answer').click();
                        }, 10);
                    }
                });
                break;
            case 'addcomment':
                if (postId) {
                    $('#comments-link-' + postId).find('.js-add-link').click();
                }
                break;
            case 'notify':
                $('.js-inline-mentions-edit-link').click();
                break;
            default:
                handled = false;
        }

        if (handled) {
            //remove the #
            window.history.replaceState(null, null, window.location.href.split('#')[0]);
        }
    };

    function initEndorsementLinks() {
        var setSelected = function ($el, value) {
            $el
                .attr('aria-pressed', value ? 'true' : 'false')
                .each(function () {
                    var selectedClasses = $(this).data('selected-classes');
                    if (selectedClasses) {
                        $(this).toggleClass(selectedClasses, value);
                    }
                });

            var newTitle = !isSelected($el)
                ? $el.data('add-endorsement-title')
                : $el.data('remove-endorsement-title');

            $el.each(function() {
                Stacks.setTooltipHtml($(this)[0],
                    newTitle,
                    {
                        placement: "right"
                    });
            });
        };

        var isSelected = function ($el) {
            return $el.attr('aria-pressed') === 'true';
        };

        var endorseAnswerSingleCommunity_click = function () {
            var $clicked = $(this);

            if ($clicked.is(':working')) return;

            $clicked.working(true);
            var endorsed = isSelected($clicked);

            var url = $clicked.data('action-edit-endorsement-url');

            var xhr = $.ajax({
                type: "POST",
                url: url,
                content: "application/json; charset=utf-8",
                dataType: "json",
                data: {
                    fkey: StackExchange.options.user.fkey,
                    'EndorseActions': [
                        { 'perform': endorsed ? 'Remove' : 'Add', 'slug': singleCommunitySlug }
                    ]
                }
            });

            xhr.success(function (data, _, ___) {
                if (data.Success) {
                    updateEndorsements(data);
                } else {
                    StackExchange.helpers.showToast(data.Message.message, { type: 'danger' });
                }
            })
            .error(function () {
                StackExchange.helpers.showToast(__tr(["Error updating recommendation"], undefined, "en", []), { type: 'danger' });
            })
            .always(function (data, _, ___) {
                $clicked.working(false).trigger('update');
            });
        };

        var endorseAnswerManyCommunities_click = function (evt) {
            var $clicked = $(this);

            if ($clicked.is(':working')) return;

            $clicked.working(true);

            var endorseModalUrl = $clicked.data('action-endorse-modal-url');

            StackExchange.helpers.loadModal(endorseModalUrl)
                .done(function () {
                    const $dlg = $('.js-stacks-managed-popup');

                    const closeDialog = function () {
                        $dlg.remove();
                    };

                    var $recommendationForm = $('.js-change-recommendation');
                    var $communitySelections = $('input.js-community-selection');
                    var $submitRecommendation = $('.js-submit-recommendation');

                    $communitySelections.change(function () {
                        $submitRecommendation.prop('disabled', !hasChanges());
                    });

                    function hasChanges() {
                        for (var i = 0; i < $communitySelections.length; i++) {
                            var $communitySelection = $($communitySelections[i]);
                            var originalState = !!$communitySelection.data('original-state');
                            var newState = !!$communitySelection.is(':checked');

                            if (originalState !== newState) {
                                return true;
                            }
                        }

                        return false;
                    }

                    function submitUpdate(e, overrideEndorseActions) {
                        e.preventDefault();

                        // Just in case, change validation should already handle this.
                        if (!hasChanges()) {
                            StackExchange.helpers.showToast(__tr(["No changes to save"], {transient: true}, "en", []));
                            return;
                        }

                        var endorseActions = [];

                        if (overrideEndorseActions && overrideEndorseActions.length > 0) {
                            endorseActions = overrideEndorseActions;
                        } else {
                            for (var i = 0; i < $communitySelections.length; i++) {
                                var $communitySelection = $($communitySelections[i]);
                                var originalState = !!$communitySelection.data('original-state');
                                var newState = !!$communitySelection.is(':checked');

                                if (originalState !== newState) {
                                    endorseActions.push({
                                        slug: $communitySelection.data('slug'),
                                        perform: newState ? 'add' : 'remove'
                                    });
                                }
                            }
                        }

                        var url = $recommendationForm.prop('action');
                        $.post(url, {
                            fkey: StackExchange.options.user.fkey,
                            endorseActions: endorseActions
                        })
                            .success(function (data, _, ___) {
                                if (data.Success) {
                                    updateEndorsements(data);

                                    // reverse the action for undo
                                    for (var i = 0; i < endorseActions.length; i++) {
                                        var added = endorseActions[i].perform === 'add';

                                        endorseActions[i].perform = (added ? 'remove' : 'add');
                                    }

                                    StackExchange.helpers.showToast(data.Message.message, {
                                        type: 'success', actions: [{
                                            labelContents: 'Undo',
                                            click: function () {
                                                submitUpdate(e, endorseActions);
                                            }
                                        }]
                                    });
                                    closeDialog();
                                } else {
                                    // the server sent back a reason that it blocked this vote - inform the user
                                    // if the message is that it's too early to accept to the answer, fade it away automatically.
                                    StackExchange.helpers.showToast(data.Message.message, { type: 'danger' });
                                }
                            })
                            .error(function () {
                                StackExchange.helpers.showToast('Error updating recommendations', { type: 'danger' });
                            })
                            .always(function (data, _, ___) {
                                $clicked.working(false).trigger('update');
                            });
                    }

                    $recommendationForm.submit(submitUpdate);

                    $communitySelections.change();

                    $clicked.working(false).trigger('update');
                }).always(function () {
                    $clicked.working(false).trigger('update');
            });

            $clicked.working(false).trigger('update');

            evt.preventDefault();
            return false;
        }

        var updateEndorsements = function (data) {
            // reset all icons
            var $links = $('.js-endorse-link');
            setSelected($links, false);

            var $oldEndorsements = $('.js-endorsements');
            $oldEndorsements.empty();

            for (var i = 0; i < data.ExplicitEndorsements.length; i++) {
                var endorsementData = data.ExplicitEndorsements[i];
                var id = endorsementData.PostId;
                var hasEndorsements = endorsementData.HasEndorsements;
                var $newEndorsement = $(endorsementData.EndorsementContent);

                if (id && $newEndorsement) {
                    var $answer = $('#answer-' + id)
                    var $oldEndorsement = $answer.find('.js-endorsements');

                    // Update endorsement text above answer text
                    if ($oldEndorsement.length > 0) {
                        $oldEndorsement.replaceWith($newEndorsement);
                    } else {
                        var $answerCell = $('#answer-' + id).find('.answercell');
                        $answerCell.prepend($newEndorsement);
                    }

                    // Update button
                    var $postLayout = $newEndorsement.parents('.answer');
                    var $endorsementButton = $postLayout.find('.js-endorse-link');

                    setSelected($endorsementButton, hasEndorsements);
                }
            };
        };

        var $endorseLink = $('.js-endorse-link');
        var singleCommunitySlug = $endorseLink.data('single-community-slug');

        if (singleCommunitySlug) {
            $endorseLink.click(endorseAnswerSingleCommunity_click);
        } else {
            $endorseLink.click(endorseAnswerManyCommunities_click);
        }

        $('.js-endorse-link').each(function () {
            var $this = $(this);

            setSelected($this, isSelected($this));
        });
    }

    function changeSortPreference(preference) {
        let currentUrl = window.location.href;
        $.ajax({
            type: "POST",
            url: currentUrl,
            data: {
                fkey: StackExchange.options.user.fkey,
                sortOrderPreference: preference
            }
        });
    }
    
    function changeSortPreferenceAndRefresh(preference) {
        const currentUrl = new URL(window.location.href);
        if (currentUrl) {
            currentUrl.searchParams.set('answertab', preference);
            currentUrl.searchParams.delete('page');
            currentUrl.searchParams.delete('tab');

            // remove #tab-top anchor
            const urlString = currentUrl.toString().replace(/#.*$/, '');
            window.location.href = urlString + '#tab-top';
        }
        changeSortPreference(preference);
    }

    function dismissTrendingSortLaunchPopover(showTrendingSortLaunchPopover) {
        if (!showTrendingSortLaunchPopover) {
            // we only track the first 30 days popover,
            // not the 90 days post-launch popover
            return;
        }
        
        $.cookie('notice-tsl', '1', { path: '/', expires: 30 });

        if (!StackExchange.options.user.isAnonymous) {
            $.post("/trending-launch-popover/dismiss", {
                fkey: StackExchange.options.user.fkey
            });
        }
    }
    
    return {
        initTitleSearch: initTitleSearch,
        getQuestionId: getQuestionId,
        initShareLinks: initShareLinks,
        canViewVoteCounts: function () { return canViewVoteCounts; },
        scrollToPost: scrollToPost,
        scrollToComment: scrollToComment,
        instrumentVotingForVotePromptExperiment: function () {
            $('.js-voting-container').each(function (ix, e) {
                var $e = $(e);
                var pid = +$e.data('post-id');
                var $upVote = $e.find('.js-vote-up-btn');
                var $downVote = $e.find('.js-vote-down-btn');

                $upVote.attr('data-gps-track', 'post.prompted_vote({post_id:' + pid + ', vote_type: 2})').addClass('js-gps-track');
                $downVote.attr('data-gps-track', 'post.prompted_vote({post_id:' + pid + ', vote_type: 3})').addClass('js-gps-track');

                // there's a chance GPS hasn't been loaded yet
                StackExchange.using("gps", function () {
                    StackExchange.gps.bindTrackClicks($e);
                });
            });
        },
        init: function (options) {

            if (StackExchange.settings.questions.enableSavesFeature) {
                (0,_saves_mod__WEBPACK_IMPORTED_MODULE_1__.initSaves)();
            }
            
            canViewVoteCounts = options.canViewVoteCounts;
            if (StackExchange.question.fullInit)   // this function is set in full.part.js, so it's only available for logged in users
                StackExchange.question.fullInit(options);
            else {
                StackExchange.question.bindAnonymousVoteDisclaimers();
                StackExchange.OutdatedAnswers.initAnon(true);
            }

            StackExchange.comments.init({
                autoShowCommentHelp: options.autoShowCommentHelp,
                commentHighlightFocus: options.commentHighlightFocus
            });

            initShareLinks();

            if (options.showAnswerBanWarning)
                $('#wmd-input').one("focus", showAnswerBanWarning);
                $(".js-answer-ban-close-btn").on("click", hideAnswerBanWarning);

            if (options.showAnswerHelp && !options.showAnswerBanWarning)
                $("#wmd-input").one("focus", showAnswerHelp);
                $(".js-answer-help-close-btn").on("click", hideAnswerHelp);

            if (options.focusPostEditor) {
                $("#wmd-input").focus();

                $('#post-form')[0].scrollIntoView(true);
            }

            initEndorsementLinks();

            // bind citation menu if it is enabled
            if (options.showCitation) {
                $(document).on("click", ".js-post-menu .js-cite-link", function (evt) {
                    evt.preventDefault();
                    (0,_citation_mod__WEBPACK_IMPORTED_MODULE_0__.showCitation)($(this));
                });
            }

            StackExchange.helpers.bindOnHashChange_HighlightDestination(
                function (commentId, postId) {
                    StackExchange.comments.highlight(commentId, postId);
                },
                function (postId) {
                    var $post = getPost(postId);
                    doHighlight($post);
                }
            );

            cleanupNextAndPreviousButtonState();

            bindNewContributorIndicators();

            $('.downvoted-answer').on('click', function (e) {
                // One click removes the opacity-50% that is in css (setting it explicitly to 100%
                // The next click removes the forced o100 and returns it to 50%, see https://meta.stackexchange.com/q/355103/51
                var $downvotedAnswer = $(e.target).parents('.downvoted-answer');
                $downvotedAnswer.find('.s-prose, .comment-body, .post-signature, .vote > *').toggleClass('o100');
            });

            // post request to change answer sort order preference for reset to default
            $(document).on('click', '.js-sort-preference-change', function () {
                const $this = $(this);
                const preference = $this.attr('data-value');
                changeSortPreference(preference);
            })

            // post request to change answer sort order preference for sort dropdown
            $(document).on('change', '#answer-sort-dropdown-select-menu', function (e) {
                const preference = e.target.value;
                changeSortPreferenceAndRefresh(preference);
            })

            var showEitherTrendingSortLaunchPopover = options.showTrendingSortLaunchPopover || options.showTrendingSortPostLaunchPopover;
            
            if (showEitherTrendingSortLaunchPopover) {
                $('.js-try-trending-sort').on('click', function() {
                    dismissTrendingSortLaunchPopover(options.showTrendingSortLaunchPopover);
                    changeSortPreferenceAndRefresh("trending");
                });
                
                $('.js-launch-popover-toggle').on('s-popover:shown', function() {
                    $.post('/trending-launch-popover/track', {
                        fkey: StackExchange.options.user.fkey,
                        type: options.showTrendingSortLaunchPopover ? "First30Days" : "After30Days"
                    });
                });

                $('.js-launch-popover-toggle').on('s-popover:hidden', function() {
                    dismissTrendingSortLaunchPopover(options.showTrendingSortLaunchPopover);
                });
            }

            //HACK move the call to the end of the execution queue so all controls are init'd first
            window.setTimeout(handleHashFocusTarget, 0);
        }
    };

})();

StackExchange.question.bindAnonymousVoteDisclaimers = function () {
    function handler(e) {
        var $clicked = $(this);
        var $container = $clicked.closest('.js-voting-container');
        var isUpVote = $clicked.hasClass('js-vote-up-btn');
        var isDownVote = $clicked.hasClass('js-vote-down-btn');
        var isBookmark = $clicked.hasClass('js-bookmark-btn');
        var isFollow = $clicked.hasClass('js-follow-post');
        var isAnswer = $clicked.closest(".answer").length;
        e.preventDefault();

        if (isUpVote || isDownVote || isFollow) {
            if (StackExchange.options.inReadOnly) {
                $container.showErrorMessage(__tr(["Voting isn't available in read-only mode."], undefined, "en", []), { "transient": true });
                return;
            }

            var postId = $container.data('post-id');
            if (isFollow) {
                var isQuestion = $clicked.closest('.question').length > 0;
                isAnswer = !isQuestion;
                // this logic is only ever shown on page if is question or answer
                postId = parseInt(isQuestion ? $clicked.closest('.question').data('questionid') : $clicked.closest('.answer').data('answerid'));
            }
            var voteTypeId = isFollow ? 21 : (isUpVote ? 2 : 3);

            if ($container.is(':working')) { return; }
            $container.working(true);

            StackExchange.helpers.removeMessages();

            $.ajax({
                type: 'POST',
                url: '/posts/popup/anon-vote/{postId}?voteTypeId={voteTypeId}'.formatUnicorn({ postId: postId, voteTypeId: voteTypeId }),
                data: { fkey: StackExchange.options.user.fkey },
                dataType: 'html',
                success: function (html) {
                    if (html.indexOf('js-research-toast') !== -1) {
                        StackExchange.helpers.showToast(html, { transient: false, useRawHtml: true });
                    } else {
                        StackExchange.openid.showLoginModal(html, { returnElements: $clicked });

                        if (isUpVote || isDownVote) {
                            StackExchange.using("gps", function () {
                                StackExchange.gps.track("vote_popup.show", { type: isAnswer ? 2 : 1 });
                            });
                        }
                    }
                },
                complete: function () {
                    $container.working(false);
                }
            });
        }
        else if (isBookmark) {
            if (StackExchange.options.inReadOnly) {
                $container.showErrorMessage(__tr(["Bookmarking is disabled while the site is in read-only mode."], undefined, "en", []), { "transient": true });
                return;
            }

            var message =
                __tr(["Please $startAnchor$log in or register$endAnchor$ to bookmark this question."], {startAnchor: '<a href="/users/login?ssrc=bookmark_question&returnurl=' + escape(document.location) + '">',endAnchor: '</a>'}, "en", []);
            StackExchange.using("gps", function () {
                StackExchange.gps.track('favorite_popup.show', {});
            });
            StackExchange.helpers.showMessage($clicked, message, { type: 'info', position: { my: 'left top', at: 'right center' }, css: { 'margin-left': '-10px' } });
        }
    }

    $('.js-vote-down-btn, .js-vote-up-btn, .js-bookmark-btn:not(.disabled), .js-follow-post:not(.disabled)').each(function () {
        var $this = $(this);
        if (!$this.data('bound-anonymous')) {
            $this.data('bound-anonymous', true);
            $this.click(handler);
        }
    });

    StackExchange.question.bindFetchAcceptedAnswerDates();
};

StackExchange.question.bindFetchAcceptedAnswerDates = function () {

    // for users that aren't the question owner, only fetch when the accepted answer occurred if they hover over the checkmark
    $('.js-accepted-answer-indicator').on('mouseenter mouseleave focus', function () {
        var $a = $(this);
        if ($a.is(':working')) { return; }

        $a.working(true);

        var answerId = $a.closest('.answer').data('answerid');
        if (!answerId) {
            $a.removeAttr('title data-controller');
            return;
        }

        var url = '/posts/' + answerId + '/accepted-answer-date';
        $.get(url, function(text) {
            $a.setTooltipHtml(text);
        });
    });

};

/*
 *  This depends on answers having a data-ivc and data-answerid attribute
 */
StackExchange.question.addAnswerIvcObservers = function () {
    var intersectionObserverViewedAnswers = new Set();
    var scrollEventViewedAnswers = new Set();
    var observer = new IntersectionObserver(intersectionCallback);
    var answerVoteCounts = document.querySelectorAll('.js-answer .js-vote-count');

    // Observe using intersection observer
    answerVoteCounts.forEach(function (target) {
        observer.observe(target);
    });

    function intersectionCallback(entries, observer) {
        /*
         *  From MDN: (https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)
         *  > Be aware that your callback is executed on the main thread. It should operate as quickly as possible;
         *  > if anything time-consuming needs to be done, use Window.requestIdleCallback()
         */
        entries.forEach(function (entry) {
            if (entry.isIntersecting) {
                var answer = entry.target.closest('.js-answer');
                var id = answer.dataset.answerid;
                if (!intersectionObserverViewedAnswers.has(id)) {
                    intersectionObserverViewedAnswers.add(id);
                    sendAnswerIvc(answer, 'intersection');
                    observer.unobserve(entry.target);
                }
            }
        });
    }

    function sendAnswerIvc(answerElement, type) {
        var contentPosition = answerElement.querySelector('.js-post-body').getBoundingClientRect();
        var clientParams = {
            v: '1', // version string to support data team analysis, update when something significant changes with collection
            contentHeight: contentPosition.height.toFixed(1),
            contentY: (contentPosition.y + window.scrollY).toFixed(1),
            scrollY: window.scrollY.toFixed(1),
            pageHeight: document.body.scrollHeight.toFixed(1),
            viewportHeight: window.innerHeight.toFixed(1),
            viewportWidth: window.innerWidth.toFixed(1),
            trigger: type,
        }
        var endpoint = answerElement.dataset.ivc + '&' + new URLSearchParams(clientParams).toString();
        $.get(endpoint);
    }
}


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/12_Comments.js":
/*!******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/12_Comments.js ***!
  \******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// passive functionality, i.e. for *displaying* comments only.
// In full.js (i.e. when full.part.js is appended to this file),
// this will be extended to also include active functionality.
//
// StackExchange.comments.loadAll(elem) can be called to fetch missing comments
// from the server. elem should be a jQuery object or anything that can be passed
// to $(...), and should be something (anything, really) within a question or answer.
// Could be the "show more" link, or a comment, or whatever -- just so we know
// for which post you want to load the comments. It returns a deferred object promise.

StackExchange.comments = (function () {
    var commentHighlightFocus;
    var postUiCache = {};

    function PostUi(postId, jCommentsDiv, context) {
        this.postId = postId;
        // Location is used for prizm events
        this.location = jCommentsDiv.closest('.answer').length ? 'answer' : jCommentsDiv.closest('.question').length ? 'question' : 'other';
        this.jDiv = jCommentsDiv;
        this.jCommentsList = jCommentsDiv.find('.js-comments-list');
        this.jCommentsLinkContainer = $("#comments-link-" + postId);
        this.context = context;
    }

    var noop = function () { };

    PostUi.prototype = {

        // these five will be replaced with actual functionality if we have a non-anon user
        checkDiscussion: noop,
        ensureInput: noop,
        renderTextInput: noop,
        alterAddEditDataBeforeSubmit: noop,
        saveEditingComments: noop,
        restoreEditingComments: noop,

        isInputShown: function () {
            var form = this.jDiv.find('form[id^="add-comment-"]');
            return form.children().length && form.is(":visible");
        },

        commentsShown: function () {
            this.remainingCommentsCount(0);
        },

        remainingCommentsCount: function (valueOrNothing) { // getter if called without argument
            if (typeof valueOrNothing === "undefined") {
                return parseInt(this.jCommentsList.data('remaining-comments-count')) || 0;
            }
            this.jCommentsList.data('remaining-comments-count', valueOrNothing);
        },

        addShow: function (noFocus, shouldRenderAddForm) {
            var that = this;
            var loadAllDone = this.loadAllComments().done(function () { that.checkDiscussion(); });
            if (shouldRenderAddForm) {
                var input = this.ensureInput();
                if (input && !noFocus)
                    input.focus();
            }

            loadAllDone.done(function() { if (input && input.length > 0) that.jCommentsLinkContainer.hide(); });
        },

        ajax: function (options, errorDescription, jContainer, noLoaderAnimation) {
            if (jContainer && !noLoaderAnimation)
                StackExchange.helpers.addSpinner(jContainer, { 'margin-left': '10px' });
            var that = this;
            return $.ajax(options).fail(function (res) {
                var error = res.responseText;
                if (!error || error.indexOf("<html") >= 0) // <- YSOD?
                    error = errorDescription || __tr(["An error occurred"], undefined, "en", []);

                StackExchange.helpers.showErrorMessage(jContainer || that.jDiv, error, { transient: res.status == 409 }); // fade away throttle errors

                if (jContainer && !noLoaderAnimation)
                    StackExchange.helpers.removeSpinner();
            }).done(StackExchange.helpers.removeSpinner).promise();
        },

        setCommentsMenu: function(commentsCount) {
            var encodedAddLinkHtml = "";
            var encodedShowLinkHtml = "";


            if (commentsCount > 0) {
                encodedShowLinkHtml = __tr(["Show <strong>$count$</strong> more comment","Show <strong>$count$</strong> more comments"], {count: commentsCount}, "en", ["count"]);
            }

            if (!this.isInputShown() && (this.jCommentsList.data('cansee') || this.jCommentsList.data('canpost'))) {
                if (StackExchange.settings.comments.addButtonSaysSuggestImprovements) {
                    encodedAddLinkHtml = __tr(["Suggest improvements"], undefined, "en", []);
                }
                else {
                    encodedAddLinkHtml = __tr(["Add a comment"], undefined, "en", []);
                }
            }

            // if there is no other label, and comments unavailable is set, then add a comments disabled link
            // (otherwise not because mods can add comments on all posts)
            if (!encodedAddLinkHtml.length && !encodedShowLinkHtml && this.jCommentsList.data('comments-unavailable')) {
                encodedAddLinkHtml = __tr(["Comments disabled on deleted / locked posts / reviews"], undefined, "en", []);
            }

            if (StackExchange.options.inReadOnly) {
                encodedAddLinkHtml = "";
            }

            var addLink = this.jCommentsLinkContainer.find('.js-add-link');
            var showLink = this.jCommentsLinkContainer.find('.js-show-link');

            addLink.html(encodedAddLinkHtml);
            showLink.html(encodedShowLinkHtml);

            // if either of the two links is empty, hide it
            if (encodedAddLinkHtml.length) {
                addLink.removeClass("dno");
            } else {
                addLink.addClass("dno");
            }

            if (encodedShowLinkHtml.length) {
                showLink.removeClass("dno");
            } else {
                showLink.addClass("dno");
            }

            // remove the | separator if only one of the two links is visible
            if (encodedAddLinkHtml.length && encodedShowLinkHtml.length) {
                this.jCommentsLinkContainer.find('.js-link-separator').removeClass('dno');
            } else {
                this.jCommentsLinkContainer.find('.js-link-separator').addClass('dno');
            }

            if (this.jCommentsList.data('addlink-disabled')) {
                addLink.addClass('disabled-link');
            }
        },
        clearHighlights: function() {
             this.jCommentsList.find('.js-comment').removeClass('new_comment').css('background-color', '');
        },
        showComments: function (htmlOrJQuery, submittedEditCommentId, noHighlighting, noScrolling) {
            this.saveEditingComments(submittedEditCommentId);
            var highlight = !noHighlighting;
            var existing = {};
            this.clearHighlights();
            if (highlight)
            {
                this.jCommentsList.find('.js-comment').each(function (index, tr) {
                    if (tr.id && tr.id.length) existing[tr.id] = true;
                });
            }
            this.jCommentsList.empty().append(htmlOrJQuery);
            if (highlight)
            {
                var first = null;
                this.jCommentsList.find('.js-comment').each(function (index, jComment) {
                    if (jComment.id && jComment.id.length && !existing[jComment.id]) {
                        if (!first) first = jComment;
                        $(jComment).addClass('new_comment');
                    }
                });
                var found = this.jCommentsList.find('.new_comment');
                flashHighlight(found);

                if (commentHighlightFocus && found.length && !noScrolling) found[0].scrollIntoView(true);
            }

            this.restoreEditingComments();
            this.setCommentsMenu(0);

            if (typeof MathJax != 'undefined')
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);

            deepLink();
            this.commentsShown();
        },

        loadAllComments: function (force, additionalQueryParams, noHighlighting, noScrolling) {

            this.jDiv.removeClass("dno");
            var allCommentsShown = this.remainingCommentsCount() === 0;
            if (!force && allCommentsShown) {
                return $.Deferred().resolve().promise();
            }

            const isStagingGround = location.href.indexOf('/staging-ground/') > 0;
            const url = isStagingGround
                ? "/staging-ground/" + this.postId + "/comments" + (additionalQueryParams || '')
                : "/posts/" + this.postId + "/comments" + (additionalQueryParams || '');

            var that = this;
            return this.ajax({
                type: "GET",
                url: url,
                dataType: "html"
            }, __tr(["An error occurred while fetching comments"], undefined, "en", [])).done(function (html) { that.showComments(html, null, noHighlighting, noScrolling); }).promise();
        }
    };

    function flashHighlight(jCommentsOrId) {
        if (typeof jCommentsOrId === "string") {
            jCommentsOrId = $('#comment-' + jCommentsOrId);
        }
        jCommentsOrId.addClass("comment__highlight");
        setTimeout(function () {
            jCommentsOrId.removeClass("comment__highlight new_comment");
        }, 0);
    }

    function realtimeMessage(postId) {
        var container = $('#comments-' + postId);
        if (!container.length) // the realtime message may be for comments on an answer that's not shown on the page (yet)
            return;
        var ui = uiForPost(container);

        var commentLink = ui.jCommentsLinkContainer;
        var ctBody = ui.jCommentsList;
        var commentsCount = ui.remainingCommentsCount();

        commentsCount++;
        commentLink.data('comments-count', commentsCount);
        commentLink.attr('title', __tr(["Expand to show all comments on this post, or add one of your own"], undefined, "en", []));

        ui.setCommentsMenu(commentsCount);

        commentLink.removeClass('disabled-link');
        ui.remainingCommentsCount(commentsCount);

        commentLink.show().fadeTo('fast', 0.7).fadeTo('fast', 1);
    };


    function uiForPost(elOrJQueryOrSelector) {
        var $el = elOrJQueryOrSelector.constructor === $ ? elOrJQueryOrSelector : $(elOrJQueryOrSelector);
        var $container = $el.closest('.js-comments-container');
        if ($container.length === 0) {
            $container = $el.closest(".js-post-comments-component, .question, .answer, div[id^='post-'], .js-article, .js-collective-collection").find(".js-comments-container");
        }
        if ($container.length === 0) {
            $container = $(".js-staging-ground-comments-container");
        }
        var postId = $container.data('post-id');
        var commentContext = $container.data('comment-context') || 'none';
        var key = postId + '-' + commentContext;

        if (postUiCache[key]) {
            return postUiCache[key];
        }

        var ui = new PostUi(postId, $container, commentContext);
        postUiCache[key] = ui;
        return ui;
    }

    // This is used for "comment_popup.show" tracking only, which is limited for questions/answer on the question page - all others should be "unknown"
    function getPostTypeIdForTracking(commentLink) {

        //exclude review
        if (window.location.pathname.indexOf('/review') === 0)
            return 0; // unknown

        if (commentLink.closest('.question').length)
            return 1;

        if (commentLink.closest('.answer').length)
            return 2;

        return 0;
    }

    function commentsLinkClicked(e) {
        e.preventDefault();
        var commentLink = $(this);
        var ui = uiForPost(commentLink);
        var allCommentsShown = ui.remainingCommentsCount() === 0;
        var disabled = commentLink.hasClass("disabled-link");
        var repRequired = ui.jCommentsLinkContainer.data("rep");

        if (allCommentsShown && ui.jCommentsLinkContainer.data("anon")) {
            loadAnonCommentPopup(ui.postId, commentLink);
        }

        if (allCommentsShown && ui.jCommentsLinkContainer.data("reg")) {
            StackExchange.helpers.showMessage(commentLink,
                __tr(["You must have $linkStart$$rep$ reputation$linkEnd$ to comment","You must have $linkStart$$rep$ reputation$linkEnd$ to comment"], {rep: repRequired,linkStart: "<a href='/help/privileges/comment'>",linkEnd: "</a>"}, "en", ["rep"]),
                { type: "info", position: { my: "left top", at: "right center" }, relativeToBody: true });
            $.ajax({
                type: 'POST',
                url: '/posts/popup/attempted-comment/{postId}'.formatUnicorn({ postId: ui.postId }),
                data: { fkey: StackExchange.options.user.fkey },
                dataType: 'html',
            });
        }

        if (commentLink.hasClass('js-show-link')) {
            StackExchange.using("gps", function () { StackExchange.gps.track("comment.show"); });
        }

        var shouldRenderAddForm = false;

        if (commentLink.hasClass('js-add-link')) {
            shouldRenderAddForm = true;

            var location = ui.location || 'other';
            var type = allCommentsShown ? "all_shown" : "hidden";
            StackExchange.using("gps", function () { StackExchange.gps.track("comment.add", { location: location, type: type }); });
        }

        if (disabled)
            return;

        e.preventDefault();
        ui.addShow(false, shouldRenderAddForm);
    }

    function loadAnonCommentPopup(postId, $link) {

        if ($link.is(':working')) { return; }
        $link.working(true);

        StackExchange.helpers.removeMessages();

        StackExchange.using("gps", function () {
            StackExchange.gps.track("comment_popup.show", { type: getPostTypeIdForTracking($link) });
        });

        $.ajax({
            type: 'POST',
            url: '/posts/popup/anon-comment/{postId}'.formatUnicorn({ postId: postId }),
            data: { fkey: StackExchange.options.user.fkey },
            dataType: 'html',
            success: function (html) {
                StackExchange.openid.showLoginModal(html, { returnElements: $link });
            },
            complete: function () {
                $link.working(false);
            }
        });
    }

    function init(options) {
        options = options || {};
        var context = options.post || document;

        // init is sometimes called multiple times, which screws stuff up
        postUiCache = {}; // post cache stores stuff removed from the DOM tree ...
        $(context)
            .off("click", "a.js-add-link", commentsLinkClicked) // do not delegate multiple times
            .on("click", "a.js-add-link", commentsLinkClicked);
        $(context)
            .off("click", "a.js-show-link", commentsLinkClicked) // do not delegate multiple times
            .on("click", "a.js-show-link", commentsLinkClicked);
        // only deep link to comments on question/show
        if (context == document) {
            deepLink(options.hashPrefix);
        }

        extendPostUi(null, true); // we need to re-apply the default behavior on init because of review audits
        if (options.commentHighlightFocus) commentHighlightFocus = options.commentHighlightFocus;
    }

    var extendPostUiObj;
    function extendPostUi(obj, isTemp) {
        if (!isTemp) {
            extendPostUiObj = obj;
        }
        obj = obj || extendPostUiObj || {};
        for (var k in obj) {
            if (obj.hasOwnProperty(k))
                PostUi.prototype[k] = obj[k];
        }
    }

    // turns timestamps into anchors that allow direct linking
    function deepLink(hashPrefix) {
        var isQuestionPage = location.href.indexOf('/questions/') > 0;
        var isStagingGround = location.href.indexOf('/staging-ground/') > 0;
        var isElectionPage = !isQuestionPage && (location.href.endsWith('/election') || location.href.indexOf('/election/') > 0);
        var isCollectiveArticlePage = /\/collectives\/.+\/articles\//.test(location.href);
        var isCollectiveCollectionPage = /\/collectives\/.+\/collections\//.test(location.href);

        // only question/show, moderator election, Collective Article, and Collective Collecton pages are supported
        if (!isElectionPage && !isStagingGround && !isQuestionPage && !isCollectiveArticlePage && !isCollectiveCollectionPage) return;

        if (isQuestionPage && $('.question[data-questionid]').length == 0) return;

        // .comment-date has an inner span for UTC tooltip - we'll wrap an anchor around this tooltip span
        // note when using "Show More" comments, this will only find those freshly pulled comments
        $('.js-comment .comment-date > span').each(function () {

            var me = $(this);
            var cid = me.closest('.js-comment').attr('id').substr('comment-'.length);

            var pid = 0;
            if (isQuestionPage) {
                var $answer = me.closest('.answer');
                var answerId = $answer && $answer.length ? $answer.data('answerid') : 0;

                pid = (answerId ? answerId : StackExchange.question.getQuestionId());
            } else if (isCollectiveArticlePage || isStagingGround || isCollectiveCollectionPage) {
                pid = me.closest(".js-comments-container").data("post-id");
            } else {
                pid = me.closest('.js-nomination').data('postid');
            }

            var hash = (hashPrefix ? hashPrefix : '') + '#comment' + cid + '_' + pid;

            if (isQuestionPage || isStagingGround || isElectionPage || isCollectiveArticlePage || isCollectiveCollectionPage) {
                me.wrap('<a class="comment-link" href="{hash}" aria-label="Link to comment"></a>'.formatUnicorn({ hash: hash }));
            } else {
                me.wrap('<a class="comment-link" href="/q/{pid}/{hash}" aria-label="Link to comment"></a>'.formatUnicorn({ hash: hash, pid: pid }));
            }
        });
    }

    function highlight(commentId, postId) {
        var selector = '#comment-' + commentId,
            c = $(selector);

        if (c.length) { // comment is on the screen
            StackExchange.comments.flashHighlight(c);
            c[0].scrollIntoView(true);
        }
        else { // we need to fetch all comments
            var commentContainer = $('#comments-link-' + postId);

            if (commentContainer.length) {

                // If the user is a moderator, loads all comments, including deleted ones
                // that way we can highlight deleted comments from e.g.: the timeline
                var additionalQueryParams = null;
                if (StackExchange.options.user.isModerator) {
                    additionalQueryParams = '?includeDeleted=true';
                }

                StackExchange.comments.loadAll(commentContainer, additionalQueryParams).done(function () {
                    StackExchange.comments.flashHighlight(commentId);
                    ($(selector)[0] || commentContainer.closest(".question, .answer")[0]).scrollIntoView(true);
                });
            }

            // if we got here, the post (answer?) was probably deleted. do nothing.
        }
    };

    return {
        init: init,
        loadAll: function (where, additionalQueryParams) { return uiForPost(where).loadAllComments(true, additionalQueryParams, true, true); },
        replaceAll: function (where, htmlOrJQuery) {
            uiForPost(where).showComments(htmlOrJQuery, null, true, true);
        },
        realtimeMessage: realtimeMessage,
        flashHighlight: flashHighlight,
        highlight: highlight,

        // the following two are intended only for adding active functionality
        // (in full.part.js)
        // the passed in handler must execute on each call since review audits need to override some functionality
        extendPostUi: extendPostUi,
        uiForPost: uiForPost
    };
})();          // end of StackExchange.comments




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/14_TagRenderer.js":
/*!*********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/14_TagRenderer.js ***!
  \*********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// required and moderator_only are string arrays
window.initTagRenderer = function initTagRenderer(required, moderator_only, channelOptions) {
    if (window.tagRenderer)
        return;

    channelOptions = channelOptions || {
        tags: [],
        id: "",
    };

    // if link_root is given, the resulting URL is absolute, and required/moderator_only are ignored (because those are about *this* site)
    window.tagRendererRaw = function (tag, link_root, tagName, useStacksClasses) {
        link_root = link_root || "";
        tagName = tagName || "a";
        var extra_class = "";
        var base_class = useStacksClasses ? "s-tag" : "post-tag";
        var tagNameHtmlEntityEncoded = StackExchange.helpers.encodeHexHtmlEntities(tag);

        if (!link_root) {
            if (required && $.inArray(tagNameHtmlEntityEncoded, required) > -1)
                extra_class = useStacksClasses ? "s-tag__required" : "required-tag";
            else if (moderator_only && $.inArray(tagNameHtmlEntityEncoded, moderator_only) > -1)
                extra_class = useStacksClasses ? "s-tag__moderator" : "moderator-tag";
        }

        var result = $("<" + tagName + ">")
            .addClass(base_class)
            .addClass(extra_class)
            .addClass($.inArray(tag, channelOptions.tags) > -1 ? "site" + channelOptions.id + " themed channel" + channelOptions.id + "-tag" : "")
            .text(tag);
        if (tagName.toLowerCase() === "a") {
            result.attr({
                rel: 'tag',
                href: link_root + "/questions/tagged/" + encodeURIComponent(tag),
                title: __tr(["show questions tagged '$tag$'"], {tag: tag}, "en", []),
            });
        }
        return result.outerHTML();
    };
    window.tagRenderer = function (tag, link_root, tagName, useStacksClasses) {
        return $(tagRendererRaw(tag, link_root, tagName, useStacksClasses));
    };

    window.tagRenderer.requiredTags = required;
    window.tagRenderer.moderatorOnlyTags = moderator_only;
    window.tagRenderer.channelOptions = channelOptions;
    window.tagRenderer.markDivergedTag = (tagName) => {
        if (!channelOptions.tags.includes(tagName)) {
            channelOptions.tags.push(tagName)
        }
    }
}




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/15_FadingHelpText.js":
/*!************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/15_FadingHelpText.js ***!
  \************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


function showFadingHelpText(elem) {
    // to accommodate special css files, wrap the help in another div and animate that - remove wrapper when complete                
    elem.wrap('<div class="dno" />').show().parent().fadeIn('slow', function () { $(this).children().unwrap(); });
}

window.initFadingHelpText = function initFadingHelpText() {
    var map = {
        'wmd-input': '#how-to-format',
        'tagnames': '#how-to-tag',
        'tag-editor': '#how-to-tag',
        'title': '#how-to-title',
        'wmd-input-42': '#how-to-format',
        'edit-comment': '#how-to-comment',
        'js-stacks-editor-container': '#how-to-format'
    };
    var jInputs = $('.wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42, .edit-comment, .js-stacks-editor-container');
    var getHelpSelector = function (i) {
        var jI = $(i);
        if (jI.parent().hasClass("tag-editor") && !jI.closest('.js-mentions-input').length)
            return map["tag-editor"];
        if (jI.hasClass("wmd-input"))
            return map["wmd-input"];
        if (jI.hasClass("edit-comment"))
            return map["edit-comment"];
        if (jI.hasClass("js-stacks-editor-container"))
            return map["js-stacks-editor-container"];
        return map[$(i).attr('id')];
    };
    jInputs.focusin(function () {
        var newSelector = getHelpSelector(this);
        jInputs.each(function () {
            var thisSelector = getHelpSelector(this);            
            if (thisSelector != newSelector) {
                $(thisSelector).hide();                
            }
        });
        var newHelp = $(newSelector);
        if (!newHelp.is(":visible")) {
            showFadingHelpText(newHelp);
        }
    });
}




/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/18_jQueryCaretPlugin.js":
/*!***************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/18_jQueryCaretPlugin.js ***!
  \***************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


/*
 *
 * Copyright (c) 2010 C. F., Wong (<a href="http://cloudgen.w0ng.hk">Cloudgen Examplet Store</a>)
 * Licensed under the MIT License:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
(function($,len,createRange,duplicate){
    var browser= !("selectionStart" in $("<input type='text' />")[0]);
	$.fn.caret=function(options,opt2){
		var start,end,t=this[0];
		if(typeof options==="object" && typeof options.start==="number" && typeof options.end==="number") {
			start=options.start;
			end=options.end;
		} else if(typeof options==="number" && typeof opt2==="number"){
			start=options;
			end=opt2;
		} else if(typeof options==="string"){
			if((start=t.value.indexOf(options))>-1) end=start+options[len];
			else start=null;
		} else if(Object.prototype.toString.call(options)==="[object RegExp]"){
			var re=options.exec(t.value);
			if(re != null) {
				start=re.index;
				end=start+re[0][len];
			}
		}
		if(typeof start!="undefined"){
			if(browser){
				var selRange = this[0].createTextRange();
				selRange.collapse(true);
				selRange.moveStart('character', start);
				selRange.moveEnd('character', end-start);
				selRange.select();
			} else {
				this[0].selectionStart=start;
				this[0].selectionEnd=end;
			}
			this[0].focus();
			return this
		} else {
			// Modification as suggested by Андрей Юткин
           if(browser){
				var selection=document.selection;
                if (this[0].tagName.toLowerCase() != "textarea") {
                    var val = this.val(),
                    range = selection[createRange]()[duplicate]();
                    range.moveEnd("character", val[len]);
                    var s = (range.text == "" ? val[len]:val.lastIndexOf(range.text));
                    range = selection[createRange]()[duplicate]();
                    range.moveStart("character", -val[len]);
                    var e = range.text[len];
                } else {
                    var range = selection[createRange](),
                    stored_range = range[duplicate]();
                    stored_range.moveToElementText(this[0]);
                    stored_range.setEndPoint('EndToEnd', range);
                    var s = stored_range.text[len] - range.text[len],
                    e = s + range.text[len]
                }
			// End of Modification
            } else {
				var s=t.selectionStart,
					e=t.selectionEnd;
			}
			var te=t.value.substring(s,e);
			return {start:s,end:e,text:te,replace:function(st){
				return t.value.substring(0,s)+st+t.value.substring(e,t.value[len])
			}}
		}
	}
})(jQuery,"length","createRange","duplicate");


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/19_NoCaptcha.js":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/19_NoCaptcha.js ***!
  \*******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.nocaptcha = (function () {
    function init(html, callback) {
        var popupHtml = [
            '<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">',
                '<div class="popup-close">',
                $('<a>', { title: __tr(["close this popup (or hit Esc)"], undefined, "en", []), text: '×' }).prop('outerHTML'),
                '</div>',
                html,
            '</div>'].join('');

        $('body').loadPopup({
            target: $('body'),
            html: popupHtml,
            lightbox: true,
            loaded: function (popup) { popupLoaded(popup, callback); }
        });
    }

    function popupLoaded($popup, callback) {
        var $form = $popup.find('form:first');

        StackExchange.helpers.enableSubmitButton($form);

        $form.submit(function () {
            StackExchange.helpers.disableSubmitButton($form);
            $form.find('input[type="submit"]').addSpinnerAfter();

            $.ajax({
                url: '/nocaptcha',
                type: 'POST',
                dataType: 'json',
                data: $form.serialize(),
                success: function (data) {
                    if (data.captchaError) {
                        StackExchange.helpers.removeSpinner();
                        StackExchange.helpers.enableSubmitButton($form);
                        $form.find('.form-error').html(data.captchaError);
                        Recaptcha.reload();
                    }
                    else {
                        $popup.find('.popup-close a').click();
                        callback(data);
                    }
                },
                error: function () {
                    StackExchange.helpers.removeSpinner();
                    StackExchange.helpers.enableSubmitButton($form);
                    StackExchange.helpers.showErrorMessage($form, __tr(["An error occurred submitting the CAPTCHA"], undefined, "en", []));
                }
            });

            return false;
        });
    }

    return {
        init: init
    };
})();



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/20_Analytics.js":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/20_Analytics.js ***!
  \*******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// Begin 20_Analytics.js
StackExchange.gps = (function () {
    if (StackExchange.gps && StackExchange.gps.inited) {
        return StackExchange.gps;
    }
    var inFlight = {};

    function getRoutePrefix() {
        if (StackExchange && StackExchange.options && StackExchange.options.site
            && StackExchange.options.site.routePrefix && StackExchange.options.site.routePrefix.length) {
            return StackExchange.options.site.routePrefix;
        } else {
            return "";
        }
    }

    // use the pre init track and sending until init is actually called
    var preInitTrack = StackExchange.gps.track;
    var preInitSendPending = StackExchange.gps.sendPending;

    // Initialize; takes no options, returns true if tracking will proceed and false if we have to bail
    function init(enabled) {
        if (StackExchange.gps.inited) {
            return true;
        }
        StackExchange.gps.inited = true;

        if (!enabled || !localStorageWorks()) {
            // we can't function, so ditch tracking (no reason to hit the server or spam client side errors)
            StackExchange.gps.track = function (evt, props, postponeSending, callback) {
                if (callback) callback();
            };
            delete StackExchange._gps_track;
            return false;
        }

        // only set those once we're sure we have localStorage
        StackExchange.gps.sendPending = sendPending;
        StackExchange.gps.track = track;

        slurpPreInit();
        sendPending();

        // https://trello.com/c/qYdHIGnN/1030-new-event-related-tags-click
        bindPositionalEventClicks('.tagged-questions-page, .questions-page, .tags-page', '.js-gps-related-tags .post-tag', 'related_tags.click', ', item_type:1');
        
        // https://trello.com/c/dqlHk3FJ
        bindPositionalEventClicks('.question-page .post-taglist', '.post-tag', 'question_tags.click', ', location:1'); //question
        bindPositionalEventClicks('.question-page #sidebar .tagged', '.post-tag', 'question_tags.click', ', location:2'); //sidebar

        bindTrackClicks();
        return true;
    }

    function localStorageWorks() {
        try {
            if (!window.localStorage) return false;
            window.localStorage['gps-probe'] = '1';
            if (window.localStorage['gps-probe'] != '1') return false;

            window.localStorage.removeItem('gps-probe');
        } catch (e) { return false; }

        return true;
    }
    
    // calls to this must occur before bindTrackClicks
    function bindPositionalEventClicks(bodySelector, anchorSelector, eventName, extraEventParameters) {
        $(bodySelector).find(anchorSelector).each(function (i) {
            $(this).addClass('js-gps-track').data('gps-track', eventName + '({ position:' + (i + 1) + extraEventParameters + ' })');
        });
    };
    
    function bindTrackClicks(optionalContainer) {
        /// <summary>
        /// Binds ONE INVOCATION of gps.track per anchor (or any clickable element) having class "js-gps-track" 
        /// and a data attribute with one or more events to be tracked.
        /// </summary>
        /*
            Examples where each anchor translates to the subsequent javascript calls: 
            
                <a href="#" class="js-gps-track" data-gps-track="site.switch({ item_type: 8, target_site:2 })">test</a>
                StackExchange.gps.track('site.switch', { "item_type":8, "target_site":2 });

                <a href="#" class="js-gps-track" data-gps-track="site_switcher.show;">test</a>
                StackExchange.gps.track('site_switcher.show', {});

                <a href="#" class="js-gps-track" data-gps-track="site.switch({ item_type: 8, target_site:2 }); site_switcher.show()">test</a>
                StackExchange.gps.track('site.switch', { "item_type":8, "target_site":2 });
                StackExchange.gps.track('site_switcher.show', {});
        */
        
        var $bound = $(optionalContainer || document).find('.js-gps-track').off('click.gps').one('click.gps', function () {
            var data = $.trim($(this).data('gps-track'));
            if (data) {
                var arrayOfPairs = bindTrackClicks_parseData(data);

                for (var i = 0; i < arrayOfPairs.length; i++) {
                    var pair = arrayOfPairs[i];
                    // queue up, so we don't send duplicates due to navigation killing an immediate ajax call    
                    StackExchange.gps.track(pair[0], pair[1], /*postponeSending*/ true);
                }
                
            }
        });
        
        log('bindTrackClicks bound {0} elements in {1}', $bound.length, optionalContainer || 'document');
    };

    function bindTrackClicks_parseData(data) {
        /// <summary>
        /// Returns an array of arrays parsed from the parameter data, where each 
        /// inner array is a pairing of an event name and its event data object.
        ///
        /// Example: 
        ///     data   = "site.switch();site_switcher.click({ item_type:3 })"
        ///     result = [ ["site.switch", { }], ["site_switcher.click", ["item_type":3] ]
        /// </summary>

        var result = [];

        // first, get each event name and its optional parameters as a whole string
        // e.g. "site.switch();site_switcher.click({ item_type:3 })" => ["site.switch", "site_switcher.click({ item_type:3 })"]
        var events = data.match(/([a-z._-]+)(\([^)]+\))?/ig);

        // we should consider refactoring this
        for (var i = 0; i < events.length; i++) {
            // now parse out the name and the parameters
            var event = events[i];
            if (event.indexOf('{') < 0) {
                // no parameters
                result.push([event, {}]);
            }
            else {
                // e.g. ["inbox_popup.click({ item_type:3, something: 4 })", "inbox_popup.click", " item_type:3, something:4 "]
                var nameAndAllParams = event.match(/([a-z._-]+)\s*\(\s*\{([^}]+)\}\s*\)/i) || [],
                    name = nameAndAllParams[1],
                    allParamsStr = $.trim(nameAndAllParams[2]) || "",
                    allParams = allParamsStr.match(/[^,]+/ig) || [],
                    params = {};
                
                // e.g. [" item_type:3 ", "something:4"]
                
                for (var j = 0; j < allParams.length; j++) {
                    var p = allParams[j],
                        colonIndex = p.indexOf(':'),
                        pName = $.trim(p.substr(0, colonIndex)),
                        pValue = $.trim(p.substr(colonIndex + 1)),
                        pValueParsed = parseString(pValue);
                    
                    params[pName] = pValueParsed;
                }
                result.push([name, params]);
            }
        }

        return result;

        function parseString(value) {
            if (value === "true")
                return true;
            if (value === "false")
                return false;

            if (value[0] === "'" || value[0] === '"')
                return value.substring(1, value.length - 1);

            var parsed = parseFloat(value);
            return isNaN(parsed) ? value : parsed;
        }
    }

    function trackOutboundClicks(contentContainerSelector, contentSelector) {
        /// <summary>
        /// Clicks to locations outside our network will have Google Analytics events logged.
        /// </summary>
        /// <param name="contentContainerSelector">
        /// A container element that should always exist in the DOM, even if parameter 'contentSelector' is dynamically added.
        /// </param>
        /// <param name="contentSelector">
        /// An element that can contain external links, e.g. a post's body.
        /// </param>

        $(contentContainerSelector).on("click", contentSelector + " a[href]:not(.question-hyperlink, .answer-hyperlink)", function () {
            var $a = $(this),
                href = $a.attr('href');

            if (!StackExchange.helpers.isInNetwork(href)) {
                if (typeof ga === "undefined") {
                    // local and dev builds don't include google analytics
                    log('outbound link clicked ' + href);
                }
                else {
                    // Google Analytics track outbound links https://support.google.com/analytics/answer/1136920?hl=en-GB
                    // beacon info https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced#useBeacon
                    ga('send', 'event', 'outbound', 'click', href, { useBeacon: true });
                }
            }
        });
    }

    function sendPending(callback) {
        var pending = getPending();
        if (pending.length > 0) {
            var now = (new Date()).getTime();

            // batch these up to keep Haproxy from getting angry
            var keep = [];
            for (var i = 0; i < pending.length && keep.length < 20; i++) {
                var toSend = pending[i];

                var elapsed = now - toSend.now;
                if (elapsed < 0 || elapsed > (3600 * 1000)) {
                    removeFromPending(toSend);
                } else {
                    keep.push(toSend);
                }
            }

            if (keep.length > 0)
            {
                send(keep, callback);
            }
            else
            {
                if (callback) callback();
            }
        }
        
    }
    
    // Record some event given the event name (as evt) and some optional properties
    function track(evt, props, postponeSending, callback) {
        var pl = { evt: evt, properties: props || {}, now: (new Date()).getTime() };
        addToPending(pl);
        if (navigator && navigator.sendBeacon) { postponeSending = false; }
        if (postponeSending) {
            if (callback) callback();
            window.setTimeout(sendPending, 10000);
        }
        else {
            sendPending(callback);
        }
    }
    
    function addState(e)
    {
        if (e && StackExchange.options && StackExchange.options.user) {
            if (e.properties && !e.properties.user_type) e.properties.user_type = StackExchange.options.user.user_type;
            if (!e.ab && StackExchange.options.user.ab) e.ab = StackExchange.options.user.ab;
        }
    }
    
    // suck down anything from _gps_track (.track() calls before init()) into localStorage
    function slurpPreInit() {
        if (StackExchange._gps_track) {
            $.each(StackExchange._gps_track, function (i, e) { addToPending(e); });
            delete StackExchange._gps_track;
        }
    }

    function getPendingKey() {
        return "gps-pending" + getRoutePrefix();
    }

    function getPending() {
        var pendingKey = getPendingKey();
        var pending = localStorage[pendingKey];

        if (!pending) return [];

        return JSON.parse(pending);
    }

    function addToPending(obj) {
        addState(obj);

        var pendingKey = getPendingKey();
        var pending = localStorage[pendingKey],
            json;

        if (pending) {
            var arr = JSON.parse(pending);
            arr.push(obj);
            json = JSON.stringify(arr);
        }
        else {
            json = JSON.stringify([obj]);
        }
        
        log('addToPending ' + JSON.stringify(obj));
        localStorage[pendingKey] = json;
    }

    function removeFromPending(obj) {
        var pendingKey = getPendingKey();
        var pending = localStorage[pendingKey];

        if (!pending) return;

        var arr = JSON.parse(pending);
        var cur = JSON.stringify(obj);

        var ix = -1;
        for (var i = 0; i < arr.length; i++) {
            var other = JSON.stringify(arr[i]);

            if (cur == other) {
                ix = i;
                break;
            }
        }
        
        if (ix == -1) return;

        arr.splice(ix, 1);

        if (arr.length == 0) {
            localStorage.removeItem(pendingKey);
            return;
        }

        localStorage[pendingKey] = JSON.stringify(arr);
    }

    function send(obj, callback) {
        if (!$.isArray(obj)) {
            obj = [obj];
        }
        
        // filter out anything that's still "in flight"
        for (var i = 0; i < obj.length; i++) {
            var mark = JSON.stringify(obj[i]);
            if(inFlight[mark])
            {
                obj.splice(i, 1);
                i--;
            }
        }

        // now we're sending these, so mark them as "in flight"
        for (var i = 0; i < obj.length; i++) {
            var mark = JSON.stringify(obj[i]);
            inFlight[mark] = true;
        }

        var data = JSON.stringify(obj);
        
        if (navigator && navigator.sendBeacon)
        {
            try {
                log('sending (beacon): ' + data);
                // Current.Site.urlRelative
                var url = getRoutePrefix() + '/gps/event';
                if (navigator && navigator.sendBeacon(url, data)) {
                    for (var i = 0; i < obj.length; i++) {
                        removeFromPending(obj[i]);
                        var mark = JSON.stringify(obj[i]);
                        delete inFlight[mark];
                    }
                    if (callback) callback();

                    return;
                }
            } catch (err) { log(err); }
        }
        log('sending (AJAX): ' + data);
        $.ajax({
            type: 'POST',
            url: '/gps/event',
            data: { data: data },
            success: function (data, status, xhr) {
                for (var i = 0; i < obj.length; i++) {
                    removeFromPending(obj[i]);
                }
            },
            complete: function () {
                for (var i = 0; i < obj.length; i++) {
                    var mark = JSON.stringify(obj[i]);
                    delete inFlight[mark];
                }

                if (callback) callback();
            }
        });
    }
    
    function log(message) { 
        if (!((StackExchange.options && StackExchange.options.enableLogging) || $.cookie('devlog')) || typeof message !== "string") return;

        // can take optional arguments for string formatting
        if (arguments.length > 1) {
            var args = Array.prototype.slice.call(arguments, 1);
            message = String.prototype.formatUnicorn.apply(message, args);
        }
        
        console.log('gps: ' + message);
    }

    return {
        inited: false,
        init: init,
        bindTrackClicks: bindTrackClicks,
        track: preInitTrack,
        sendPending: preInitSendPending,
        trackOutboundClicks: trackOutboundClicks
    };
}());


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/21_OpenID.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/21_OpenID.js ***!
  \****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// Finally, replacing our crazy 3rd party openid

StackExchange.openid = (function () {
    "use strict";

    var gpsLoc = "unknown";

    function gpsLocation(parent, value)
    {
        if (parent) 
        {
            // if a value is supplied: assign
            if (value) $(parent).data('ssrc', value);
            return $(parent).data('ssrc');
        }
        // fallback return
        return gpsLoc;
    }
    function track(name, parent) {
        var ssrc = gpsLocation(parent);
        if (name) {
            StackExchange.gps.track("openid.click", { openid_provider: name, location: ssrc }, /*postponeSending=*/ true);
            StackExchange.gps.track("signup.openid.click", { openid_provider: name, location: ssrc }, /*postponeSending=*/ true);
        }
        StackExchange.gps.track("signup.start", { openid_provider: name, location: ssrc, tid: StackExchange.options.user.tid }, /*postponeSending=*/ true);
    }
    
    function initPostLogin(formSelector, rU, explicitLocation) {
        var returnUrl = decodeURIComponent(rU);
        var loc = 'unknown';
        if (explicitLocation && explicitLocation.length) {
            loc = explicitLocation;
        }
        else {
            if (returnUrl.indexOf("/questions/") === 0)
                loc = "question_page";

            if (returnUrl === "/questions/ask")
                loc = "question_ask";
        }
        var form = $(formSelector);
        gpsLocation(form, loc);
        form.removeClass('dno');

        var google = form.find('.google-login');
        google.click(function () {
            track("Google", form);
            googleChosen(form);
        });
        
        var facebook = form.find('.facebook-login');
        facebook.click(function () { track("Facebook", form); facebookChosen(form); });

        var github = form.find('.github-login');
        github.click(function () { track("GitHub", form); githubChosen(form); });

        var se = form.find('.stackexchange-login');
        se.click(draftSaveAnd(function () {
            track("Stack Exchange", form);
            StackExchange.navPrevention.stop();
            window.location = "/users/signup?ssrc=" + encodeURIComponent(loc) + "&returnUrl=" + encodeURIComponent(returnUrl);
        }));
        
        form.find('.js-submit-openid').click(function () {
            doRegister(form, returnUrl);
        });
    }

    var controllersBound = false;
    function bindControllers() {
        if (controllersBound) { return; }
        controllersBound = true;

        Stacks.addController('signup-modal', {
            targets: ['form', 'oauthVersion', 'oauthServer'],

            connect: function () {
                var $scope = $(this.element);
                StackExchange.gps.bindTrackClicks($scope);
                StackExchange.ga.bindHandlers($scope);
            },

            /**
             * Updates the login form to use the current 
             * @param {any} event A button click event
             */
            signUp: function (event) {
                event.preventDefault();
                this.oauthServerTarget.value = event.currentTarget.getAttribute('data-oauthserver');
                this.oauthVersionTarget.value = event.currentTarget.getAttribute('data-oauthversion') || '2.0';
                draftSaveAnd(function () {
                    this.formTarget.submit();
                }.bind(this))();
            },

            /**
             * Prevent navigation to the link until the draft is saved.
             * @param {any} event A link click event
             */
            linkClick: function (event) {
                event.preventDefault();
                var location = event.currentTarget.href;
                draftSaveAnd(function () {
                    StackExchange.navPrevention.stop();
                    window.location = location;
                })();
            }
        });
    }

    function showLoginModal() {
        bindControllers();
        return StackExchange.helpers.showModal.apply(StackExchange.helpers, arguments);
    }

    function facebookChosen(form) {
        form.find('.ssrc').val(gpsLocation(form));
        form.find('.use-facebook').val('true');
        form.find('.use-google').val('');
        form.find('.use-github').val('');
        form.find('.js-submit-openid').click();
    }

    function googleChosen(form) {
        form.find('.ssrc').val(gpsLocation(form));
        form.find('.use-google').val('true');
        form.find('.use-facebook').val('');
        form.find('.use-github').val('');
        form.find('.js-submit-openid').click();
    }

    function githubChosen(form) {
        form.find('.ssrc').val(gpsLocation(form));
        form.find('.use-google').val('');
        form.find('.use-facebook').val('');
        form.find('.use-github').val('true');
        form.find('.js-submit-openid').click();
    }
    
    // Note: this doesn't *do* anything by itself; you still have to *call* the result
    function draftSaveAnd(func) {
        return function () {
            // We have to demand this, in case someone tries to login before focusing the editor
            StackExchange.using('editor', function () { StackExchange.cardiologist.ensureDraftSaved(func); });
        }
    }

    function doRegister($container, returnUrl) {
        var useFacebook = $container.find('.use-facebook').val();
        var useGoogle = $container.find('.use-google').val();
        var useGitHub = $container.find('.use-github').val();
        
        draftSaveAnd(function () {

            var isChildMeta = !!StackExchange.options.site.isChildMeta;
            var formAction = (isChildMeta ? StackExchange.options.site.parentUrl : '') + '/users/signup?returnurl=' + encodeURIComponent(returnUrl);

            var $form = $('<form method="post" action="' + formAction + '"></form>');

            var oauthVersion = $('<input type="hidden" name="oauth_version" />');
            var oauthServer = $('<input type="hidden" name="oauth_server" />');

            $form.append(oauthVersion);
            $form.append(oauthServer);

            oauthVersion.val('2.0');

            if (useFacebook) {
                oauthServer.val('https://www.facebook.com/v2.0/dialog/oauth');
            }
            else if (useGoogle) {
                oauthServer.val('https://accounts.google.com/o/oauth2/auth');
            } else if (useGitHub) {
                oauthServer.val('https://github.com/login/oauth/authorize');
            }

            $form.append("<input type='hidden' name='fkey' value='" + StackExchange.options.user.fkey + "' />");
            $('<input type="hidden" name="ssrc" />').val(gpsLocation($container)).appendTo($form);

            StackExchange.navPrevention.stop();

            $form.hide().appendTo("body").submit();
        })();
    }

    return {
        initPostLogin: initPostLogin,
        showLoginModal: showLoginModal
    };
}());


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/22_UniversalAuth.js":
/*!***********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/22_UniversalAuth.js ***!
  \***********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// The javascript bits of Universal Auth
window.UniversalAuth = function () {
    // Because of races around joining a Team, a universl auth session can be interrupted
    //   by the user now needing to delegate their session creation to the CFZ
    // 
    // The server will notice and indicate this with a special pixel response
    //   at which point the script should re-run from the start (making a new request, 
    //   etc.).
    //
    // This controls the maximum number of times, for a single page load, we will try and
    //   restart universal auth.  In theory, 1 is sufficient for all purposes... but we'll
    //   see.
    var RETRIES_REMAINING = 1;

    var CHECK_REDIRECT_EVERY_MS = 200;
    var MAYBE_FAIL_AFTER_MS = 10000;
    var ABANDON_AFTER_MS = MAYBE_FAIL_AFTER_MS * 5;

    // is updated to TRUE once every pixel we pulled has loaded and we have no re-auth requests
    //   in flight
    var COMPLETED = false;

    return {
        // redirects this page to the given url once universal auth has done it's bit
        //
        // will invoke the given callback if an "unusual" amount of time has passed w/o
        //   universal auth completing
        redirectOnCompletion: function (redirectTo, maybeFailingCallback) {
            if (COMPLETED) {
                window.location.replace(redirectTo);        // replace instead of = or assign() to keep page out of the user's history
                return;
            }

            var handle;
            var elapsedTime = 0;
            var callback = function () {
                if (COMPLETED) {
                    window.location.replace(redirectTo);    // replace instead of = or assign() to keep page out of the user's history

                    clearInterval(handle);
                    return;
                }

                var hasntTriggered = elapsedTime < MAYBE_FAIL_AFTER_MS;
                var hasntBeenAbandoned = elapsedTime < ABANDON_AFTER_MS;

                elapsedTime += CHECK_REDIRECT_EVERY_MS;

                var shouldHaveTriggered = elapsedTime >= MAYBE_FAIL_AFTER_MS;
                var shouldHaveBeenAbandoned = elapsedTime >= ABANDON_AFTER_MS;

                // we cross the line into "we might be failing"-here
                var needsTrigger = hasntTriggered && shouldHaveTriggered;
                if (needsTrigger && maybeFailingCallback) {
                    maybeFailingCallback();
                }

                // ok, just give up
                var needsAbandon = hasntBeenAbandoned && shouldHaveBeenAbandoned;
                if (needsAbandon) {
                    clearInterval(handle);
                }
            };

            handle = setInterval(callback, CHECK_REDIRECT_EVERY_MS);
        },

        performAuth: function () {
            if (!UniversalAuth.enabled()) return;

            var icLoggedOut = $.cookie('clear-ic');
            if (icLoggedOut) {
                $(document).ready(function () {
                    if (StackExchange.settings.intercom.enableJavascriptImplementationFor !== true) {
                        var $img = $('<img/>').attr({
                            style: 'display:none',
                            src: StackExchange.settings.intercom.hostBaseUrl + '/intercom/logout.gif?appId=' + StackExchange.settings.intercom.appId,
                            'crossOrigin': 'use-credentials'  // needed for CORS
                        });

                        $('#footer').append($img);
                    }
                    // remove this cookie            
                    $.cookie('clear-ic', null, { path: '/' });
                });
            }

            var hasAuthed = $.cookie('uauth');
            if (hasAuthed === null) return;

            $.post(
                '/users/login/universal/request',
                function (data, text, req) {
                    var pixels = [];

                    var checkCompleted = function () {
                        var reauthRequested = $.cookie('uauth') !== null;
                        if (reauthRequested) return;

                        if (pixels) {
                            for (var i = 0; i < pixels.length; i++) {
                                var $img = pixels[i];
                                var img = $img[0];
                                if (!img.complete) {         // technically IE doesn't handle this attribute correctly, but a) to hell with IE and b) we timeout when dealing with COMPLETE anyway, so it's fine
                                    return;
                                }
                            }

                            COMPLETED = true;
                        }
                    };

                    if (data.length == 0) {
                        // we don't need to log in to places
                        COMPLETED = true;
                    }

                    $.each(data, function (arrayId, group) {
                        var url = '//' + group.Host + '/users/login/universal.gif?authToken=' + encodeURIComponent(group.Token) + '&nonce=' + encodeURIComponent(group.Nonce);
                        $(document).ready(function () {
                            var $img = $('<img/>').attr({
                                style: 'display:none',
                                src: url,
                                'crossOrigin': 'use-credentials'  // needed for CORS
                            });

                            pixels.push($img);

                            $img.one('load', function () {
                                var w = $img[0].width;
                                var h = $img[0].height;

                                // signals that we should retry
                                if (w === 2 && h === 2 && RETRIES_REMAINING > 0) {
                                    RETRIES_REMAINING--;

                                    var existingCookie = $.cookie('uauth');

                                    // if we've already requested a retry, don't re-reset the cookie
                                    if (!existingCookie) {
                                        var now = new Date();
                                        var expiration = new Date(now.getTime() + 5 * 60 * 1000);
                                        $.cookie('uauth', 'true', { path: '/', domain: document.domain, expires: expiration });
                                        pixels = null;
                                        setTimeout(
                                            function () { UniversalAuth.performAuth(); },
                                            10
                                        );
                                    }
                                }

                                checkCompleted();
                            });

                            $('#footer').append($img);
                        });
                    });
                },
                'json');

            // remove this cookie            
            $.cookie('uauth', null, { path: '/', domain: document.domain });
        },

        enabled: function () {
            return true;
        }
    };
}();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/33_AnonFkeyCookie.js":
/*!************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/33_AnonFkeyCookie.js ***!
  \************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.ready(function () {
    if (!StackExchange.options.user.isAnonymous)
        return;
    
    var hasFkey = /\bfkey=/i;
    
    $(document).ajaxSend(function (evt, jqxhr, options) {
        if (options.type.toLowerCase() !== "post")
            return;
        if (hasFkey.test(options.url) || hasFkey.test(options.data)) {
            addFkeyCookie();
        }
    });
    
    $(document).on("submit", "form", function (evt) {
        var jthis = $(this);
        if ((jthis.attr("method") || "").toLowerCase() !== "post")
            return;
        if (jthis.find("input[name='fkey']").length)
            addFkeyCookie();
    });

    function addFkeyCookie() {
        try {
            $.cookie("fkey", StackExchange.options.user.fkey, { path: "/", expires: 1 / (24 * 6) /* ten minutes */ });
        } catch (ex) { }
    }
});


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/34_jqueryUiLoader.js":
/*!************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/34_jqueryUiLoader.js ***!
  \************************************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// loads jquery ui, its css, and any needed i18n files - returns a promise that will be resolved when jquery-ui is available
//
// e.g. StackExchange.loadJqueryUi().done(function() { console.log($.ui); });
StackExchange.loadJqueryUi = function () {
    // Can this be done with StackExchange.using?

    var cssLink = StackExchange.settings.paths.jQueryUICSSPath;
    var jsLink = StackExchange.settings.paths.jQueryUIJSPath;

    if ($.ui) return $.Deferred().resolve();

    // this doesn't matter when it completes; styling should still happen
    $('<link>').attr({
        href: cssLink,
        rel: 'stylesheet',
        type: 'text/css',
        media: 'all'
    }).appendTo('head');

    var result = $.Deferred(),
        locale = StackExchange.options.locale,
        datepickerLanguageGetter,
        datepickerLanguageScript;

    // jquery will append cache breakers when getting scripts; prevent this
    $.ajaxSetup({ cache: true });

    if (locale !== 'en') {
        datepickerLanguageGetter = $.ajax({
            url: '/Content/Js/third-party/jquery-ui/datepicker-' + locale + '.js',
            dataType: 'text',
            type: 'GET'
        }).done(function(js) {
            datepickerLanguageScript = js;
        });
    }

    // allows both scripts to be simultaneously fetched, but we do have to use eval
    $.when(
        datepickerLanguageGetter || $.Deferred().resolve(),
        $.getScript(jsLink))
    .done(function() {
        // in order for this language script to work, jquery-ui *must* have been loaded already
        eval(datepickerLanguageScript);
        result.resolve();
    });

    $.ajaxSetup({ cache: false });
    
    return result.promise();
};

/**
 * Should be called after we load jQuery UI, especially if using the above promise.
 * 
 * https://github.com/RWAP/jquery-ui-touch-punch
 * 
 * From https://raw.githubusercontent.com/RWAP/jquery-ui-touch-punch/master/jquery.ui.touch-punch.js
 */
StackExchange.patchJqueryUiForTouch = function() {
    
/*!
 * jQuery UI Touch Punch 1.0.7 as modified by RWAP Software
 * based on original touchpunch v0.2.3 which has not been updated since 2014
 *
 * Updates by RWAP Software to take account of various suggested changes on the original code issues
 *
 * Original: https://github.com/furf/jquery-ui-touch-punch
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Fork: https://github.com/RWAP/jquery-ui-touch-punch
 *
 * Depends:
 * jquery.ui.widget.js
 * jquery.ui.mouse.js
 */

    (function( factory ) {
        if ( true ) {

            // AMD. Register as an anonymous module.
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! jquery.ui */ "jquery") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    }(function ($) {

        // Detect touch support
        $.support.touch = ( 'ontouchstart' in document
            || 'ontouchstart' in window
            || window.TouchEvent
            || (window.DocumentTouch && document instanceof DocumentTouch)
            || navigator.maxTouchPoints > 0
            || navigator.msMaxTouchPoints > 0
        );

        // Ignore browsers without touch or mouse support
        if (!$.support.touch || !$.ui.mouse) {
            return;
        }

        var mouseProto = $.ui.mouse.prototype,
            _mouseInit = mouseProto._mouseInit,
            _mouseDestroy = mouseProto._mouseDestroy,
            touchHandled;

        /**
         * Get the x,y position of a touch event
         * @param {Object} event A touch event
         */
        function getTouchCoords (event) {
            return {
                x: event.originalEvent.changedTouches[0].pageX,
                y: event.originalEvent.changedTouches[0].pageY
            };
        }

        /**
         * Simulate a mouse event based on a corresponding touch event
         * @param {Object} event A touch event
         * @param {String} simulatedType The corresponding mouse event
         */
        function simulateMouseEvent (event, simulatedType) {

            // Ignore multi-touch events
            if (event.originalEvent.touches.length > 1) {
                return;
            }

            // Prevent "Ignored attempt to cancel a touchmove event with cancelable=false" errors
            if (event.cancelable) {
                event.preventDefault();
            }

            var touch = event.originalEvent.changedTouches[0],
                simulatedEvent = document.createEvent('MouseEvents');

            // Initialize the simulated mouse event using the touch event's coordinates
            simulatedEvent.initMouseEvent(
                simulatedType,    // type
                true,             // bubbles
                true,             // cancelable
                window,           // view
                1,                // detail
                touch.screenX,    // screenX
                touch.screenY,    // screenY
                touch.clientX,    // clientX
                touch.clientY,    // clientY
                false,            // ctrlKey
                false,            // altKey
                false,            // shiftKey
                false,            // metaKey
                0,                // button
                null              // relatedTarget
            );

            // Dispatch the simulated event to the target element
            event.target.dispatchEvent(simulatedEvent);
        }

        /**
         * Handle the jQuery UI widget's touchstart events
         * @param {Object} event The widget element's touchstart event
         */
        mouseProto._touchStart = function (event) {

            var self = this;

            // Interaction time
            this._startedMove = event.timeStamp;

            // Track movement to determine if interaction was a click
            self._startPos = getTouchCoords(event);

            // Ignore the event if another widget is already being handled
            if (touchHandled || !self._mouseCapture(event.originalEvent.changedTouches[0])) {
                return;
            }

            // Set the flag to prevent other widgets from inheriting the touch event
            touchHandled = true;

            // Track movement to determine if interaction was a click
            self._touchMoved = false;

            // Simulate the mouseover event
            simulateMouseEvent(event, 'mouseover');

            // Simulate the mousemove event
            simulateMouseEvent(event, 'mousemove');

            // Simulate the mousedown event
            simulateMouseEvent(event, 'mousedown');
        };

        /**
         * Handle the jQuery UI widget's touchmove events
         * @param {Object} event The document's touchmove event
         */
        mouseProto._touchMove = function (event) {

            // Ignore event if not handled
            if (!touchHandled) {
                return;
            }

            // Interaction was moved
            this._touchMoved = true;

            // Simulate the mousemove event
            simulateMouseEvent(event, 'mousemove');
        };

        /**
         * Handle the jQuery UI widget's touchend events
         * @param {Object} event The document's touchend event
         */
        mouseProto._touchEnd = function (event) {

            // Ignore event if not handled
            if (!touchHandled) {
                return;
            }

            // Simulate the mouseup event
            simulateMouseEvent(event, 'mouseup');

            // Simulate the mouseout event
            simulateMouseEvent(event, 'mouseout');

            // If the touch interaction did not move, it should trigger a click
            // Check for this in two ways - length of time of simulation and distance moved
            // Allow for Apple Stylus to be used also
            var timeMoving = event.timeStamp - this._startedMove;
            if (!this._touchMoved || timeMoving < 500) {
                // Simulate the click event
                simulateMouseEvent(event, 'click');
            } else {
                var endPos = getTouchCoords(event);
                if ((Math.abs(endPos.x - this._startPos.x) < 10) && (Math.abs(endPos.y - this._startPos.y) < 10)) {

                    // If the touch interaction did not move, it should trigger a click
                    if (!this._touchMoved || event.originalEvent.changedTouches[0].touchType === 'stylus') {
                        // Simulate the click event
                        simulateMouseEvent(event, 'click');
                    }
                }
            }

            // Unset the flag to determine the touch movement stopped
            this._touchMoved = false;

            // Unset the flag to allow other widgets to inherit the touch event
            touchHandled = false;
        };

        /**
         * A duck punch of the $.ui.mouse _mouseInit method to support touch events.
         * This method extends the widget with bound touch event handlers that
         * translate touch events to mouse events and pass them to the widget's
         * original mouse event handling methods.
         */
        mouseProto._mouseInit = function () {

            var self = this;

            // Delegate the touch handlers to the widget's element
            self.element.on({
                touchstart: $.proxy(self, '_touchStart'),
                touchmove: $.proxy(self, '_touchMove'),
                touchend: $.proxy(self, '_touchEnd')
            });

            // Call the original $.ui.mouse init method
            _mouseInit.call(self);
        };

        /**
         * Remove the touch event handlers
         */
        mouseProto._mouseDestroy = function () {

            var self = this;

            // Delegate the touch handlers to the widget's element
            self.element.off({
                touchstart: $.proxy(self, '_touchStart'),
                touchmove: $.proxy(self, '_touchMove'),
                touchend: $.proxy(self, '_touchEnd')
            });

            // Call the original $.ui.mouse destroy method
            _mouseDestroy.call(self);
        };

    }));
};


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/36_FlashMessage.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/36_FlashMessage.js ***!
  \**********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


/**
 * Flash messages are shown only once:
 * they are displayed then immediately deleted.
 */
StackExchange.showFlashMessageIfAny = function() {
    var cookieName = 'flash-message-json';
    var urlEncodedJson = $.cookie(cookieName);
    if (!urlEncodedJson)
        return;

    try {
        $.cookie(cookieName, null, { path: '/', domain: document.domain }); // expire

        // https://stackoverflow.com/questions/1969232/allowed-characters-in-cookies
        // replace the + first, as decode won't convert to spaces and there could be actual + in the message (as %3a)
        var flashJson = decodeURIComponent(urlEncodedJson.replace(/[+]/g, ' '));
        var flash = JSON.parse(flashJson);

        if (StackExchange.options.enableLogging) {
            console.log('flash message: showing ' + flashJson);
        }

        switch (flash.position) {
            case 'toast':
                StackExchange.helpers.showToast(flash.message, {
                    type: flash.type,
                    transient: flash.transient,
                    transientTimeout: flash.transientTimeout,
                    useRawHtml: flash.useRawHtml
                });
                break;

            case 'notice':
                StackExchange.helpers.showStacksNotice(flash.message, flash.type);
                break;

            default:
                StackExchange.helpers.showBannerMessage(flash.message, flash.type);
                break;
        }

    } catch(e) { }
}



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/37_PrepareEditor.js":
/*!***********************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/37_PrepareEditor.js ***!
  \***********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// options:
// - useStacksEditor (use Stacks-Editor over wmd)
// - heartbeatType (for editor.init)
// - autoActivateHeartbeat (for editor.init)
// - bindNavPrevention (for editor.init)
// - mutateConverter (a function that gets a chance to modify the markdown converter before it's put into use; must return a valid converter)
// - onDemand (if the editor JS isn't available yet, wait until textbox focus before loading it)
// - autoShowMarkdownHelp (for editor.init -- automatically shows the Markdown help (duh) when the editor is focused)
// - postfix -- appended to the HTML element ids, to support multiple editors
// - convertImagesToLinks -- if an image is uploaded, convert it to a link and popup an informative messages to inform the user what happened
// - reputationToPostImages -- if convertImagesToLinks is true, this is the amount of rep a user needs to *not* have their images converted to links
// - resize - if false, do not configure TextAreaResizer
// - onDraftDiscarded (for editor.init)
// - onCreated - callback to execute after the editor is created
// - oneboxEnabled - enables post/onebox dynamic rendering in preview
// - enableTables - enables markdown table support
// - enableSnippets - enables stack snippets support (stacks-editor only)
// - defaultView - Preference.StacksEditorPreferredEditMode (stacks-editor only)
StackExchange.prepareEditor = (function () {
    /**
     * Initializes the editor immediately; can init "wmd" vs "stacks-editor" based on the passed options
     */
    var initEditorImmediately = function (options) {
        // do this asynchronously, because with inline editing, prepareEditor is called
        // when the code comes back from the server but before everything is available
        // (in particular: visible); this is relied upon in a few places.
        setTimeout(function () {
            var editor = options.useStacksEditor ? "stacksEditor" : "editor";
            if(!options.useStacksEditor) {
                // pre-hookup spoiler events so we don't have to wait until the `styleCode` call on first preview render
                styleCode.initializeSpoilers();
            }
            StackExchange[editor].initIfShown(options);
        }, 1);
    };

    /**
     * Sets up the editor onDemand functionality where the editor isn't loaded until the user interacts with a related input
     * @param {any} callback The function to call when any of the delayed load inputs are interacted with
     */
    var setupInitEditorOnDemand = function (callback) {
        var loadingStarted = false; // even though we bind via .one(), this can be called more often than once (because, e.g., the click also causes a focus event)
        $("#wmd-input, #title, #tagnames, #edit-comment, #m-address, #display-name, .js-fake-stacks-editor").one("focus click keydown", function () {
            if (loadingStarted)
                return;
            loadingStarted = true;

            callback();
        });
    };

    /**
     * Prepares the wmd editor for initialization
     */
    var prepareWmdEditor = function (options) {
        var postfix = options.postfix || "";

        // create a row of disabled buttons; this will be removed before the real editor creates its own buttons
        var buttons = "bold-button italic-button spacer1 link-button quote-button code-button image-button spacer2 olist-button ulist-button heading-button hr-button spacer3 undo-button redo-button"
            .split(" ");
        var row = $("<ul id=\"wmd-button-row" + postfix + "\" class=\"wmd-button-row\" />").appendTo(".wmd-button-bar");
        var spriteX = 0;
        for (var i = 0; i < buttons.length; i++) {
            var b = buttons[i];
            var isSpacer = /spacer/.test(b);
            var button = $("<li id='wmd-" + b + postfix + "' />").prop("className", "wmd-" + (isSpacer ? "spacer" : "button")).css("left", i * 25).appendTo(row);
            $("<span />").css("background-position", (spriteX) + "px -20px").appendTo(button);
            if (!isSpacer)
                spriteX -= 20;
        }

        // Max Spacer: not a 1980s crime-drama antihero
        // in the real button bar, this forces the help button right while keeping the rest of the buttons left.
        // here, it just ensures that the buttons don't start out right-aligned and jump left when loading
        var maxSpacer = document.createElement("li");
        maxSpacer.className = "wmd-spacer wmd-spacer-max";
        row.append(maxSpacer);

        setupInitEditorOnDemand(function () {
            row.addSpinner({ "float": "right" });
            StackExchange.using("editor", function () {
                row.remove(); // also removes spinner

                if (options.autoShowMarkdownHelp)
                    options.immediatelyShowMarkdownHelp = true;

                initEditorImmediately(options);
            });
        });
    };

    // wrapper function to init either the stacks-editor or the wmd editor based on the passed options
    return function (options) {
        // if we're not init'ing "onDemand" (e.g. on input focus), just init the editor immediately
        if (!options.onDemand) {
            if (options.useStacksEditor) {
                $.when(StackExchange.using("highlightjs", $.noop), StackExchange.using("stacksEditor", $.noop))
                    .then(function () { initEditorImmediately(options); });
            }
            else {
                StackExchange.using("editor", function () { initEditorImmediately(options); });
            }

            return;
        }

        if (options.useStacksEditor) {
            setupInitEditorOnDemand(function () {
                $.when(StackExchange.using("highlightjs", $.noop), StackExchange.using("stacksEditor", $.noop))
                    .then(function () { initEditorImmediately(options); });
            });
        }
        else {
            prepareWmdEditor(options);
        }
    };
}());



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/39_Auth.js":
/*!**************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/39_Auth.js ***!
  \**************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


/* 39_Auth.js

This partial contains all the shared JavaScript methods and helpers used in authentication on the client side.
Authentication in this context includes login, signup, password changing, and provider management across anonymous
and logged in users. Many of the methods contained here are shared between mostly `auth.js` and `full-anon-only/00_InlineAuth.js`.

auth.js is the original client-side code where all the authentication methods live. Methods that are shared between
other files and auth.js have been moved here to de-duplicate code and make maintenance easier.

*/

StackExchange.Auth = (function () {

    var addOrUpdateError = function (errorArray, validationError) {
        var found = false;
        for (var i = 0; i < errorArray.length; i++) {
            if (errorArray[i].id == validationError.id) {
                validationError.changed = errorArray[i].message == validationError.message;
                errorArray[i].message = validationError.message;
                found = true;
                break;
            }
        }

        if (!found) {
            validationError.changed = true;
            if (validationError.index >= errorArray.length) {
                errorArray.push(validationError);
            } else {
                errorArray.splice(validationError.index, 0, validationError);
            }
        }
    };

    var passwordStrengthValidation = function ($password, errorArray, removeError) {
        var estimatedMinimumLengthForGoodEntropy = 15,
            minPasswordLength = 8;

        var pw = $password.val(),
            hasLower = /[a-z]/.test(pw),
            hasUpper = /[A-Z]/.test(pw),
            hasDigit = /\d/.test(pw),
            hasNonWord = /(_|[^\w\d])/.test(pw),
            charClassCount = 0;

        if (hasLower) charClassCount++;
        if (hasUpper) charClassCount++;
        if (hasDigit) charClassCount++;
        if (hasNonWord) charClassCount++;

        if (charClassCount === 2 && pw.length >= estimatedMinimumLengthForGoodEntropy) {
            removeError(errorArray, 'pw-weak', $password);
            removeError(errorArray, 'pw-short', $password);
            return;
        }

        var charClassErrors = $('<span><p>' + __tr(["Please add one of the following things to make your password stronger:$pEnd$ $listStart$ $char$ letters $itemEnd$ $num$ numbers $itemEnd$ $listEnd$"], {pEnd: '</p>',listStart: '<ul>',listEnd: '</ul>',itemEnd: '</li>',char: '<li id="ch">',num: '<li id="num">'}, "en", []) + '</span>');

        if ((hasLower || hasUpper) && hasDigit) {
            removeError(errorArray, 'pw-weak', $password);
        }
        else if (charClassCount < 3) {
            if (hasLower || hasUpper) {
                charClassErrors.find('#ch').remove();
            }
            if (hasDigit) {
                charClassErrors.find('#num').remove();
            }
            addOrUpdateError(errorArray, { id: 'pw-weak', index: 1, attachTo: $password, message: charClassErrors });
        } else {
            removeError(errorArray, 'pw-weak', $password);
        }

        var uniqueChars = $password.val().length;

        if (uniqueChars < minPasswordLength) {
            var remaining = minPasswordLength - uniqueChars;

            addOrUpdateError(errorArray, { id: 'pw-short', index: 2, attachTo: $password, message: __tr(["Must contain at least $remaining$ more character.","Must contain at least $remaining$ more characters."], {remaining: remaining}, "en", ["remaining"]) });
        } else {
            removeError(errorArray, 'pw-short', $password);
        }
    };

    return {
        addOrUpdateError: addOrUpdateError,
        passwordStrengthValidation: passwordStrengthValidation
    };
})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/40_Hero.js":
/*!**************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/40_Hero.js ***!
  \**************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.Hero = (function () {

    var hero = {
        name: null,
        version: null
    };

    var dismiss = function () {
        var heroKey = "hero-dismissed";

        // Matches AnonymousCookieModel
        var model = {
            ld: "",
            d: []
        };

        var cookie = $.cookie(heroKey);
        if (cookie) {
            var dismissed = cookie.split("!");
            dismissed.shift();
            model.d = dismissed;
        }
        model.ld = (new Date).getTime();

        var heroId = hero.name + "_" + hero.version;
        var newHero = true;

        // Check for previous version of the same hero, replace with new version if found
        for (var key in model.d) {
            if (model.d.hasOwnProperty(key)) {
                var id = model.d[key];
                var campaign = id.split("_");
                if (campaign === hero.name) {
                    model.d[key] = heroId;
                    newHero = false;
                    break;
                }
            }
        }

        // If no previous version of hero, add to array
        if (newHero) {
            model.d.push(heroId);
        } 

        $.cookie(heroKey, encodeModel(model), { path: '/', expires: 365 });
    }

    var encodeModel = function (model) {
        return [model.ld].concat(model.d).join("!");
    }

    var init = function(name, version) {
        hero.name = name;
        hero.version = version;
    }

    return {
        init: init,
        dismiss: dismiss,
    };
})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/41_Checklist.js":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/41_Checklist.js ***!
  \*******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


/*
Used to toggle completed requirements in checklists as well as dismiss checklists
Toggle states are stored in User.Preferences
Currently used in Channels (StackOverflow\Views\Channels\Onboarding\ChecklistSidebar.cshtml:102)

Requires:
    .js-checklist container class
    .js-requirement and .is-finished class on each requirement
    .js-toggle-completed-requirements link that has: 
        data-preference for the User.Preference enum to toggle
        data-url for post route 
        .is-visible or .is-hidden class to track the state
        ex: <a class="js-toggle-completed-requirements @(hideCompleted ? "is-hidden" : "is-visible")" data-preference="@pref" data-url="@url"> 
                @(hideCompleted ? @_s("Show all items") : @_s("Hide completed items"))</a>
*/

StackExchange.checklist = (function () {

    function toggleContent(url, preference, hideCompletedOrDismiss) {
        return $.post(url,
            {
                fkey: StackExchange.options.user.fkey,
                preference: preference,
                hideCompletedOrDismiss: hideCompletedOrDismiss
            });
    }

    $(document).on("click", ".js-toggle-completed-requirements", function (e) {
        var $this = $(e.target);
        var $container = $this.closest(".js-checklist");
        var hideCompleted = $this.hasClass('is-visible');
        var preference = $this.data("preference");
        var url = $this.data("url");

        toggleContent(url, preference, hideCompleted)
            .always(function() {
                $container.find('.js-requirement.is-finished').closest('li').toggleClass('dno');
                $this.toggleClass('is-visible is-hidden')
                    .text(hideCompleted ? __tr(["Show all items"], undefined, "en", []) : __tr(["Hide completed items"], undefined, "en", []));
            });
    });
})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/44_StacksValidation.js":
/*!**************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/44_StacksValidation.js ***!
  \**************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



// Call StackExchange.stacksValidation.handlerFor($input) to get a handler. Will return null if not available.
//
// Expects the following:
// - The input element is the only child of a positioned container (this is a Stacks requirement in order to correctly position the icon)
// - The input element has an ancestor of class js-stacks-validation
// - This ancestor has a descendant of class js-stacks-validation-message (which should be a Stacks .s-input-message, and also .d-none)
// - The js-stacks-validation-message element has an id attribute with a unique value (used to connect the validation message with the input field for accessibility purposes)
// Call handler.add("warning", "This password is <b>very insecure</b>."). Note that this EXPECTS HTML, BE SURE TO ENCODE THINGS. The first argument is the
// type, one of "success", "warning", or "error".
//
// Call handler.clear() to remove all validation messages or e.g. handler.clear("success") to only remove messages of a certain type.

StackExchange.stacksValidation = (function () {

    function handlerFor($input) {
        var result = $input.data("stacks-validation-handler");
        if (!result) {
            result = new Handler($input);
            $input.data("stacks-validation-handler", result);
        }
        return result.invalid ? null : result;
    }

    function Handler($input) {
        this.hideIcons = false;
        this.$input = $input;
        this.$container = $input.closest(".js-stacks-validation");
        if (!this.$container.length) {
            this.invalid = true;
            return;
        }
        this.$message = this.$container.find(".js-stacks-validation-message");
        this.messages = [];
    }

    function getHtml(msg) {
        return msg.html;
    }
    function getType(msg) {
        return msg.type;
    }

    Handler.prototype = {
        _updateMessages: function () {
            this.$message.empty().toggleClass("d-none", !this.messages.length);
            if (!this.messages.length) {
                return;
            }
            var html;
            if (this.messages.length === 1) {
                html = this.messages[0].html;
            } else {
                html = "<ul><li>" + this.messages.map(getHtml).join("</li><li class='mt8'>") + "</li></ul>";
            }
            this.$message.html(html).find('a').attr('target', '_blank');
        },
        _updateIcon: function () {
            this.$container.find(".js-stacks-validation-icon").remove();
            if (!this.messages.length || this.hideIcons)
                return;
            var type = this.highestType();
            Svg[ICONS[type]].With("s-input-icon js-stacks-validation-icon").insertAfter(this.$input);

        },
        _updateClass: function () {
            this.$container.removeClass("has-error has-warning has-success");
            if (!this.messages.length)
                return;
            this.$container.addClass("has-" + this.highestType());
        },
        _updateAriaAttributes: function () {
            // this.$input isn't necessarily a form field (e.g. when dealing with tagEditor or stacks-editor)
            // so let's make sure we find the right elements to slap aria attributes onto.
            // this approach is trying to be as defensive as possible and doesn't try to find inputs like selects, radio buttons,
            // or password fields. Ideally, we pass the correct <input> element to the stacks handler (as this.$input)
            // and don't have to search for other form-like elements. input[type='text'], textarea, and contenteditable
            // solve the exception for both, tag-editor and stacks-editor, explicitly.
            const additionalFormElements = this.$container.find("input[type='text'], textarea, [contenteditable='true']")
            const formFields = this.$input.add(additionalFormElements);

            formFields.removeAttr("aria-invalid");
            formFields.removeAttr("aria-describedby");
            if (!this.messages.length) {
                return;
            }

            formFields.attr("aria-invalid", true);
            
            const messageId = this.$message.attr("id");
            if (messageId) {
                formFields.attr("aria-describedby", messageId);
            }
        },
        _update: function () {
            this._updateMessages();
            this._updateIcon();
            this._updateClass();
            this._updateAriaAttributes();
        },
        highestType: function() {
            return this.messages.map(getType).reduce(function (a, b) {
                if (a === "error" || b === "error") {
                    return "error";
                }
                if (a === "warning" || b === "warning") {
                    return "warning";
                }
                return "success";
            });
        },
        hasType: function(type) {
            return this.messages.some(function (msg) { return msg.type === type });
        },
        add: function(type, html) {
            if (this.messages.some(function (msg) { return msg.type === type && msg.html === html})) {
                return;
            }
            this.messages.push({type: type, html: html});
            this._update();
        },
        addText: function (type, text) {
            this.add(type, $('<span>').text(text).html());
        },
        clear: function(type) {
            if (type) {
                this.messages = this.messages.filter(function (m) { return m.type !== type });
            } else {
                this.messages = [];
            }
            this._update();
        }
    };

    // FIXME: We need some way to get the @Svg icons into JS without breaking single-source-of-truth like this
    var ICONS = {
        error: 'AlertCircle',
        warning: 'Alert',
        success: 'Checkmark'
    };

    return {
        handlerFor: handlerFor
    };
})();



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/controllers/se-char-counter.js":
/*!**********************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/controllers/se-char-counter.js ***!
  \**********************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


(function () {
    Stacks.addController('se-char-counter', {
        targets: ['field', 'output'],

        connect: function () {
            $(this.fieldTarget).charCounter({
                min: +(this.data.get('min') || '0'),
                max: +(this.data.get('max') || '0'),
                target: $(this.outputTarget),
                setIsValid: this.setIsValid.bind(this)
            });
        },

        setIsValid: function (value) {
            var attr = 'data-is-valid-length';
            var $field = $(this.fieldTarget);

            if (this.data.get('allow-empty') === 'true' && !$field.val()) {
                value = true;
            }

            var strValue = value.toString();
            if ($field.attr(attr) !== strValue) {
                $field.attr(attr, strValue);
                this.triggerEvent('validated');
            }
        }
    });
})();



/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/controllers/se-draggable.js":
/*!*******************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/controllers/se-draggable.js ***!
  \*******************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


(function () {

    var draggingPopup;
    var draggingOffset;
    var draggingDocumentHooked;
    var stopDragging = function () {
        draggingPopup = draggingOffset = null;
        $('body').removeClass('c-move');
    };

    Stacks.addController("se-draggable", {

        targets: ["handle"],

        connect: function () {
            if (!this.hasHandleTarget) {
                return;
            }

            var $e = $(this.element);
            var handle = $(this.handleTarget);

            // TODO: eventually, fingers crossed, we'll only have Stacks-style modals
            // that will have .c-move specified on the handles in the markup
            if(!handle.hasClass('c-move'))
                handle.addClass('c-move');

            handle
                .unbind('mousedown')
                .bind(
                    'mousedown',
                    function (evt) {
                        $e.css({ minWidth: $e.outerWidth() });

                        var eOffset = $e.offset();

                        draggingOffset = {
                            x: eOffset.left - evt.pageX,
                            y: eOffset.top - evt.pageY
                        };

                        draggingPopup = $e;

                        var def = draggingPopup.offset();

                        // for some reason, we get a jitter if we just do this once; so double down dog
                        draggingPopup.offset(def).offset(def);

                        $('body').addClass('c-move');

                        evt.preventDefault(); // prevent selection
                    }
                );

            if (!draggingDocumentHooked) {
                draggingDocumentHooked = true;

                $(document).on(
                    'mousemove',
                    function (e) {
                        if (draggingPopup) {
                            draggingPopup.removeClass("responsively-horizontally-centered-legacy-popup"); // if you can drag, you can handle it
                            var top = e.pageY + draggingOffset.y;
                            var left = e.pageX + draggingOffset.x;

                            draggingPopup.offset({
                                top: top,
                                left: left
                            });
                        }
                    }
                ).on(
                    'keypress',
                    stopDragging
                ).on(
                    'mouseup',
                    stopDragging
                );
            }

        }

    });

})();


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/controllers/se-share-sheet.js":
/*!*********************************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/controllers/se-share-sheet.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _13_Share_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../13_Share.mod */ "./_Scripts/LegacyJS/full-common/13_Share.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});




// USAGE: <a href="..." data-controller="se-share-sheet">Share</a>
// Optional attributes:
//     data-se-share-sheet-title:      A title to use for the dialog (e.g., "Share this question")
//     data-se-share-sheet-subtitle:   Unbolded text next to the title, used on question pages to indicate a user ID is in the URL.
//     data-se-share-sheet-post-type:  The type of post, or omitted, must be question, answer, or article for social links to appear.
//     data-se-share-sheet-social:     A list of social providers to show.  Accepts twitter and facebook.
//     data-se-share-sheet-location:   Number corresponding to a `share.show` location.
//     data-se-share-sheet-message:    The Message that the socials use for the link, must be provided for non question or answer post types
//
// Additionally, any properties from s-popover for customization, e.g. data-s-popover-placement="bottom-start".
// See https://stackoverflow.design/product/components/popovers#attributes
//
// Events:
//     se-share-sheet:update:  Before showing, the dialog will emit a `se-share-sheet:update` event and then update the contents
//                             of the popover. This provides an opportunity to update any of the properties used by the popover.
//
(function () {

    var _sheetIndex = 0;
    var _copying = false;

    function generateSheetId() {
        return 'se-share-sheet-' + (_sheetIndex++);
    }

    Stacks.addController('se-share-sheet', {

        get $el() { return $(this.element); },

        get controlId() {
            var id = this.$el.attr('aria-controls');
            if (!id) {
                id = generateSheetId();
                this.$el.attr('aria-controls', id);
            }
            return id;
        },

        get $sheet() {
            var id = this.controlId;
            var $sheet = $('#' + id);
            if ($sheet.length === 0) {
                $sheet = this.generateSheet(id);
                this.$el.after($sheet);
                if (StackExchange.gps && StackExchange.gps.bindTrackClicks) {
                    StackExchange.gps.bindTrackClicks($sheet);
                }
            }
            return $sheet;
        },

        get location() {
            return +this.data.get('location') || 0;
        },

        get copyLinkGpsTrackAction() {
            return this.data.get('gps-track-action') || '';
        },

        initialize: function () {

            var $el = this.$el;
            function addIfNeeded(attribute, text) {
                var value = $el.attr(attribute) || '';
                if (value.indexOf(text) === -1) {
                    $el.attr(attribute, value + ' ' + text);
                }
            }

            this.updateSheet(false);
            addIfNeeded('data-action', 's-popover#toggle');
            addIfNeeded('data-action', this.identifier + '#preventNavigation');
            addIfNeeded('data-action', 's-popover:show->' + this.identifier + '#willShow');
            addIfNeeded('data-action', 's-popover:shown->' + this.identifier + '#didShow');
            addIfNeeded('data-controller', 's-popover');
        },

        generateSheet: function (id) {
            var $sheet = $('<div class="s-popover z-dropdown s-anchors s-anchors__default" style="width: unset; max-width: 28em;"><div class="s-popover--arrow"></div></div>')
                .attr('id', id)
                .append('<div><label for="share-sheet-input-' + this.controlId + '"><span class="js-title fw-bold"></span> <span class="js-subtitle"></span></label></div>')
                .append('<div class="my8"><input type="text" id="share-sheet-input-' + this.controlId + '" class="js-input s-input wmn3 sm:wmn-initial bc-black-300 bg-white fc-black-600" readonly /></div>')
                .append('<div class="d-flex jc-space-between ai-center mbn4"><button class="js-copy-link-btn s-btn s-btn__link js-gps-track" data-gps-track="' + this.copyLinkGpsTrackAction + '"></button><a href="#" rel="license" class="js-license s-block-link w-auto d-none" target="_blank"></a><div class="js-social-container d-none"></div></div>')
                .insertAfter($(this.element));
            $sheet.find('.js-copy-link-btn').text(__tr(["Copy link"], undefined, "en", [])).click(this.copy.bind(this));
            $sheet.find('.js-input').on('copy', this.didCopy.bind(this));
            return $sheet;
        },

        willShow: function () {
            this.updateSheet(true);
        },

        didShow: function () {
            var $input = this.$sheet.find('.js-input');
            setTimeout(function () {
               $input.focus().select();
            });

            var location = this.location;
            if (location) {
                StackExchange.gps.track('share.show', {
                    location: location
                });
            }
        },

        copy: function () {
            var that = this;
            this.tryCopy().then(function () {
                StackExchange.helpers.showToast(__tr(["Link copied to clipboard."], undefined, "en", []), { transientTimeout: 3000, type: 'success' });
                that.didCopy();
            }, function () {
                StackExchange.helpers.showToast(__tr(["Could not copy link to clipboard."], undefined, "en", []), { transientTimeout: 5000, type: 'danger' });
            });
        },

        didCopy: function () {
            // Ignore copy events triggered by document.execCommand('copy').
            if (_copying) { return; }

            var location = this.location;
            if (location) {
                StackExchange.gps.track('share.click', {
                    location: location,
                    service: 6
                });
            }
        },

        // https://stackoverflow.com/a/30810322/860000
        tryCopy: function () {
            var $input = this.$sheet.find('.js-input');
            if (navigator.clipboard) {
                return navigator.clipboard.writeText($input.val());
            } else {
                $input.focus().select();

                var copied;

                _copying = true;
                try {
                    copied = document.execCommand('copy');
                } catch (_) {
                    copied = false;
                }
                _copying = false;

                var deferred = $.Deferred();

                if (copied) {
                    deferred.resolve();
                } else {
                    deferred.reject();
                }

                return deferred.promise();
            }
        },

        // TODO: This could go upstream to Stacks to also prevent toggling on meta navigation.
        preventNavigation: function (evt) {
            if (!evt.ctrlKey && !evt.metaKey) {
                evt.preventDefault();
            }
        },

        updateSheet: function (includeSocial) {
            this.triggerEvent('update');
            var $sheet = this.$sheet;
            $sheet.find('.js-title').text(this.data.get('title') || __tr(["Copy and share this link:"], undefined, "en", []));
            $sheet.find('.js-subtitle').text(this.data.get('subtitle') || '');
            $sheet.find('.js-input').val(this.element.href);

            var licenseUrl = this.data.get('license-url');
            var license = $sheet.find('.js-license').toggleClass('d-none', !licenseUrl);
            if (licenseUrl) {
                license.attr("href", decodeURIComponent(this.data.get('license-url')));
                var licenseName = this.data.get('license-name');
                license.text(licenseName);
                license.attr("title",
                    __tr(["The current license for this post: $licenseName$"], {licenseName: licenseName}, "en", []));
            }

            $sheet.find('.js-social-container').addClass('d-none').empty();

            var postType = this.data.get('post-type');

            var messageOverride = this.data.get('message');
            if (includeSocial && (postType === 'question' || postType === 'answer' || postType ===  'announcement' || postType === 'article' || postType === 'discussion')) {

                var socialComponents = (this.data.get('social') || '').split(/\s+/);

                if (socialComponents.indexOf('facebook') !== -1) {
                    this.addSocialComponent(postType, 'Facebook', Svg.Facebook.With('native'), __tr(["Share on Facebook"], undefined, "en", []), 2, _13_Share_mod__WEBPACK_IMPORTED_MODULE_0__.share.facebook, messageOverride);
                }

                if (socialComponents.indexOf('twitter') !== -1) {
                    this.addSocialComponent(postType, 'Twitter', Svg.Twitter.With('native'), __tr(["Share on Twitter"], undefined, "en", []), 3, _13_Share_mod__WEBPACK_IMPORTED_MODULE_0__.share.twitter, messageOverride);
                }

                if (socialComponents.indexOf('devto') !== -1) {
                    this.addSocialComponent(postType, 'DEV', Svg.DevTo.With('native'), __tr(["Share on DEV"], undefined, "en", []), 5, _13_Share_mod__WEBPACK_IMPORTED_MODULE_0__.share.devTo, messageOverride);
                }
            }
        },

        // This method assumes social components will only be shown on questions and answers or bulletins.
        addSocialComponent: function (postType, socialNetworkName, $image, ariaLabel, service, configure, messageOverride) {

            var title = __tr(["Share link to this $postType$ on $socialNetwork$"], {socialNetwork: socialNetworkName,postType: postType}, "en", [])

            var $button = $('<button>', {
                'class': 's-btn p4',
                'role': 'button',
                title: title,
                'aria-label': ariaLabel
            }).append($image);

            var message = '';
            switch (postType) {
                case 'question':
                    message = messageOverride ? messageOverride : $("#question-header a.question-hyperlink").text();
                    break;
                case 'answer':
                    message = messageOverride ? messageOverride : __tr(["Answer: $title$"], {title: $("#question-header a.question-hyperlink").text()}, "en", []);
                    break;
                case 'announcement':
                    message = messageOverride ? messageOverride : '';
                    break;
                case 'discussion':
                    message = messageOverride ? messageOverride : '';
                    break;
            }

            configure($button, this.element.href, message, '2');

            var location = this.location;
            $button
                .click(function () {
                    if (location) {
                        StackExchange.gps.track('share.click', {
                            location: location,
                            service: service
                        });
                    }
                })
                .appendTo(this.$sheet.find('.js-social-container').removeClass('d-none'));
        }
    });
})();



/***/ }),

/***/ "./_Scripts/LegacyJS/full/00_Header.js":
/*!*********************************************!*\
  !*** ./_Scripts/LegacyJS/full/00_Header.js ***!
  \*********************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


StackExchange.loggedIn = {};




/***/ }),

/***/ "./_Scripts/LegacyJS/full/03_QuestionFullInit.js":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full/03_QuestionFullInit.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _post_PostMenu_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../post/PostMenu.mod */ "./_Scripts/post/PostMenu.mod.ts");
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});





// If available, this is called from question.init(); it activates the question functionality that anons don't need
StackExchange.question.fullInit = function (options) {
    StackExchange.vote.init(options.votesCast);
    StackExchange.question.bindSuggestedEditPopupLinks();
    StackExchange.vote_bounty.init(options); //TODO: This has a TS module at _Scripts/Votes/bounty.mod.ts

    // displays error reasons when users can't edit a post
    (0,_post_PostMenu_mod__WEBPACK_IMPORTED_MODULE_0__.initPostMenu)();

    StackExchange.rollback.bindButtons();

    // handles the "we converted your answer to a comment" jump on page load
    if (/^#autocomment/.test(window.location.hash)) {
        var link = $('.comments-link:first');
        var commentId = "#comment-" + window.location.hash.substring(12);

        var showNotice =
            function () {
                let targetComment = $(commentId);
                StackExchange.helpers.showToast(__tr(["Your answer has been automatically converted to a comment."], undefined, "en", []), {
                    useRawHtml: true,
                    actions: [{
                        labelContents: $('<span>').text(__tr(["Learn more"], undefined, "en", [])).html(),
                        click: function () {
                            window.location.href="/help/deleted-answers";
                        }
                }]});
                StackExchange.comments.flashHighlight(targetComment);
                targetComment[0].scrollIntoView(true);
            };

        if (!!options.totalCommentCount && !!options.shownCommentCount && options.totalCommentCount != options.shownCommentCount) {
            StackExchange.comments.loadAll(link).done(showNotice);
        } else {
            showNotice();
        }
    }

    StackExchange.question.initInlineNewFeaturePopovers();
    StackExchange.question.initQuestionPinFeaturePopover();
};

StackExchange.question.initInlineNewFeaturePopovers = function() {
    // can never be both at the same time
    if (!StackExchange.question.initAndShowCloseReopenNotificationPopover()) {
        StackExchange.question.initQuestionFollowFeaturePopover();
    }
}

StackExchange.question.initQuestionFollowFeaturePopover = function() {
    var $btnFollowQuestion = $('.js-follow-question');
    var $introPopover = $('.js-question-follow-feature-popover');

    function popoverExists() { return $introPopover.parent().length > 0; }

    if ($btnFollowQuestion.length == 0 || !popoverExists()) {
        return false;
    }

    StackExchange.helpers.queueStacksPopover($btnFollowQuestion, 60);

    // Destroy the popover if the user clicks the button itself or the dismiss button.
    $introPopover.find('.js-dismiss').add($btnFollowQuestion)
        .click(function () {
            if (popoverExists()) {
                $btnFollowQuestion.removeAttr("aria-controls");
                $btnFollowQuestion.attr("data-controller", "s-tooltip");
                $introPopover.remove();
                StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissFollowQuestionIntroPopover, true);
            }
        });

    // Never hide this popover, let the dismiss clicks above completely destroy it.
    $btnFollowQuestion.on('s-popover:hide', function (e) {
        if (popoverExists()) { e.preventDefault(); }
    });
    return true;
}

StackExchange.question.initQuestionPinFeaturePopover = function () {
    var $pinLink = $('.js-pin-question-link');
    var singleCollectiveSlug = $pinLink.data('single-collective-slug');
    var collectiveSlug = '';

    if (singleCollectiveSlug) {
        collectiveSlug = singleCollectiveSlug;
    }

    var pinQuestionToCollective_click = function (evt) {
        var $clicked = $(this);

        if ($clicked.is(':working')) return;

        $clicked.working(true);

        var postId = $clicked.data('post-id');
        var pinModalUrl = $clicked.data('action-pin-modal-url');
        var updatePinUrl = $clicked.data('action-update-pin-url');

        StackExchange.helpers.loadModal(pinModalUrl)
            .done(function () {
                var $chooseSection = $('.js-choose-collective');
                var $collectiveSelection = $('.js-collective-selection');
                var $selectedCollectiveRadio = $('.js-collective-selection:checked');
                var $continueButton = $('.js-choose-collective-continue');
                var $backToCollectivesButton = $('.js-back-to-collective-selection');
                var $pinnedPostCount = $('.js-pinned-post-count');
                const $pinUnpinDescription = $('.js-pin-unpin-description');

                var $pinUnpinTitle = $('.js-pin-unpin-title');
                var $pinConfirmationSection = $('.js-pin-confirmation');
                var $form = $('.js-change-pin-form');

                singleCollectiveSlug = $form.data('single-collective');
                var isPinned = !!$form.data('is-pinned');
                var undoActionUrl = $form.data('undo-action-url');
                var questionIdsToReplace;

                var $postButton = $('.js-submit-pin');

                function submitUpdate(collectiveSlug, postId, pinAction, questionIdsToReplace) {
                    var postData = {
                        fkey: StackExchange.options.user.fkey,
                        slug: collectiveSlug,
                        postId: postId,
                        pin: pinAction,
                    }

                    if (questionIdsToReplace)
                        postData.replacePostIds = questionIdsToReplace;

                    $.post(updatePinUrl, postData)
                        .success(function (data, _, ___) {
                            if (data.success) {
                                // Flip the current selection
                                if (singleCollectiveSlug) {
                                    isPinned = !isPinned;
                                } else {
                                    $selectedCollectiveRadio.data('is-pinned', isPinned ? 0 : 1);

                                    // Are any still pinned?
                                    isPinned = $collectiveSelection.toArray().some(function (el) {
                                        return $(el).data('is-pinned');
                                    });
                                }

                                var $dlg = $('.js-stacks-managed-popup');
                                $dlg.remove();

                                if (isPinned) {
                                    $pinLink.text(__tr(["Pinned"], undefined, "en", []));
                                } else {
                                    $pinLink.text(__tr(["Pin"], undefined, "en", []));
                                }

                                StackExchange.helpers.showToast(data.message, {
                                    type: 'success',
                                    transient: true,
                                    transientTimeout: 15000000,
                                    actions: [{
                                        labelContents: $('<span>Undo</span>'),
                                        click: function () {
                                            $.ajax({
                                                type: "POST",
                                                url: undoActionUrl,
                                                data: {
                                                    fkey: StackExchange.options.user.fkey,
                                                    undoToken: data.undoToken
                                                },
                                                success: function () {
                                                    window.location.reload();
                                                },
                                                error: function () {
                                                    StackExchange.helpers.showToast("Error undoing pin change", { type: 'danger', dismissable: true });
                                                }
                                            });
                                        }
                                    }]
                                });
                            } else {
                                StackExchange.helpers.showToast(data.message, { type: 'danger' });
                            }
                        })
                        .error(function (data) {
                            StackExchange.helpers.showToast('Error updating pin', { type: 'danger' });
                        })
                        .always(function (data, _, ___) {
                            $clicked.working(false).trigger('update');
                        });
                }

                function updateQuestionToReplace() {
                    var $questions = $('.js-replace-existing-pin-' + collectiveSlug);

                    $questions.change(function () {
                        var $selectedQuestion = $questions.filter(':checked');

                        if ($selectedQuestion) {
                            questionIdsToReplace = $selectedQuestion.map(function () { return $(this).data("post-id"); }).get().join();
                        } else {
                            questionIdsToReplace = 0;
                        }

                        if (questionIdsToReplace) {
                            $postButton.prop('disabled', false);
                        } else {
                            $postButton.prop('disabled', true);
                        }
                    });

                    $questions.change();
                }

                if (singleCollectiveSlug) {
                    collectiveSlug = singleCollectiveSlug;

                    if (!isPinned)
                        updateQuestionToReplace();

                    $pinUnpinTitle.text(!isPinned ? __tr(["Pin this post?"], undefined, "en", []) : __tr(["Unpin this post?"], undefined, "en", []));
                    $postButton.text(!isPinned ? __tr(["Pin post"], undefined, "en", []) : __tr(["Unpin post"], undefined, "en", []));
                    $pinUnpinDescription.text(!isPinned
                        ? __tr(["This will appear at the top of the question list for the collective."], undefined, "en", [])
                        : __tr(["This post will no longer appear at the top of the question list for your collective."], undefined, "en", []));
                } else {
                    $collectiveSelection.change(function () {
                        var selectionCount = 1;
                        $selectedCollectiveRadio = $('input[name=collectiveSelection]:checked', '.js-change-pin-form');

                        if (selectionCount > 0) {
                            $continueButton.removeAttr('disabled');
                            collectiveSlug = $selectedCollectiveRadio.data('slug');
                            isPinned = !!$selectedCollectiveRadio.data('is-pinned');
                            $pinnedPostCount.text($selectedCollectiveRadio.data('pinned-count'));
                        } else {
                            $continueButton.setAttr('disabled', 'disabled');
                        }
                    });

                    $continueButton.click(function () {
                        // Update text for the applicable action
                        $pinUnpinTitle.text(!isPinned ? __tr(["Pin this post?"], undefined, "en", []) : __tr(["Unpin this post?"], undefined, "en", []));
                        $postButton.text(!isPinned ? __tr(["Pin post"], undefined, "en", []) : __tr(["Unpin post"], undefined, "en", []));
                        $pinUnpinDescription.text(!isPinned
                            ? __tr(["This will appear at the top of the question list for the collective."], undefined, "en", [])
                            : __tr(["This post will no longer appear at the top of the question list for your collective."], undefined, "en", []));

                        // Show the next section, confirming or choosing which pin to replace
                        $pinConfirmationSection.removeClass('d-none');
                        $chooseSection.addClass('d-none');

                        // Show replacement section if needed
                        $('.js-replace-question-section-' + collectiveSlug).removeClass('d-none');
                        $('.js-pin-breadcrumbs').removeClass('d-none');

                        // Wire up handler for selecting which pin to replace
                        updateQuestionToReplace();
                    });

                    $backToCollectivesButton.click(function () {
                        $pinConfirmationSection.addClass('d-none');
                        $chooseSection.removeClass('d-none');
                        $('.js-replace-question-section-' + collectiveSlug).addClass('d-none');
                        $('.js-pin-breadcrumbs').addClass('d-none');
                    });
                }

                $postButton.on('click', function () {
                    submitUpdate(collectiveSlug, postId, !isPinned, questionIdsToReplace);
                });

                $clicked.working(false).trigger('update');
            }).always(function () {
                $clicked.working(false).trigger('update');
        });

        $clicked.working(false).trigger('update');

        evt.preventDefault();
        return false;
    }

    $pinLink.click(pinQuestionToCollective_click);
}

StackExchange.question.initAndShowCloseReopenNotificationPopover = function () {
    var $closeLink = $('.js-close-question-link');
    var $popover = $('.js-close-reopen-popover');
    if ($closeLink.length && $popover.length) {
        // wire stimulus controller
        $closeLink.attr({
            'aria-controls': 'close-reopen-popover',
            'data-controller': 's-popover',
            'data-s-popover-placement': 'bottom'
        });
        $closeLink.after($popover);

        $popover.find('.js-learn-more').on('click', function () {
            StackExchange.helpers.loadModal('/questions/close-reopen-explanation-modal')
                .done(function () {
                    $closeLink.data('show-interstitial', false);
                })
                .fail(function (error) {
                    StackExchange.helpers.showToast(error, { type: 'danger' });
                });
        });
        $popover.find('.js-dismiss').on('click', function () {
            StackExchange.helpers.toggleStacksPopover($closeLink, false);
        });
        $closeLink.on('s-popover:hidden', function () {
            StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissCloseReopenPrivilegePopover, true);
            $popover.remove();
        });

        StackExchange.helpers.queueStacksPopover($closeLink, 150);

        StackExchange.using("gps", function () {
            StackExchange.gps.track("close_popover.view");
        });
        return true;
    }
    return false;
};

StackExchange.question.bindSuggestedEditPopupLinks = function () {
    $('.js-post-menu .js-edit-pending').each(function () {
        $(this).unbind('click').click(function () {
            loadSuggestedEditPopup($(this));
            return false;
        });
    });

    function loadSuggestedEditPopup($editLink) {
        var $menu = $editLink.closest('.js-post-menu');
        var postId = $menu.attr('data-post-id');
        var $container = $menu.find('.js-menu-popup-container');

        if ($editLink.data('working')) {
            return;
        }

        $editLink
            .data('working', true)
            .loadPopup({
                url: '/review/suggested-edit-popup/' + postId,
                lightbox: true,
                dontShow: true,
                target: $container,
                defaultErrorMessage: __tr(["Unable to load suggested edit - please try again"], undefined, "en", []),
            })
            .done(function ($popup, $lightbox) {
                $lightbox.fadeIn('fast');

                $popup
                    .css('height', '600px') // since the contents of the popup are ajax loaded, give it a fake height while
                    .center()
                    .css('height', '') // now that we've centered it, remove the fake height we just gave it
                    .fadeIn('fast');
            })
            .always(function () {
                $editLink.removeData('working');
            });
    }
}



/***/ }),

/***/ "./_Scripts/LegacyJS/full/04_Vote.js":
/*!*******************************************!*\
  !*** ./_Scripts/LegacyJS/full/04_Vote.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./04_Vote.mod */ "./_Scripts/LegacyJS/full/04_Vote.mod.ts");
/* harmony import */ var _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_Declarations/TypeIdEnums */ "./_Scripts/_Declarations/TypeIdEnums.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});





StackExchange.vote = {
    init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.init,
    election_init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.election_init,
    vote_up: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.vote_up,
    vote_down: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.vote_down,
    follow_init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.follow_init,
    bookmark_init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.bookmark_init,
    vote_init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.vote_init,
    delete_init: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.delete_init,
    bindFetchVoteCounts: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.bindFetchVoteCounts,
    highlightExistingVotes: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.highlightExistingVotes,
    normalizePostScore: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.normalizePostScore,
    submit: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.submit,
    voteTypeIds: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_1__.VoteTypeId,
    getPostId: _04_Vote_mod__WEBPACK_IMPORTED_MODULE_0__.getPostId,
};



/***/ }),

/***/ "./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.js":
/*!*********************************************************!*\
  !*** ./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./05_VoteToCloseAndFlag.mod */ "./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});





// TODO once all references to `vote_closingAndFlagging` have been converted to modules
/** @type {import("../../_Declarations/StackExchange").StackExchangeVoteClosingAndFlagging} */
StackExchange.vote_closingAndFlagging = {
    close_afterLoadListOriginals: _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__.closeAfterLoadListOriginals,
    close_initDuplicateSubPane: _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__.closeInitDuplicateSubPane,
    updateCloseLinkCount: _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__.close_updateCloseLinkCount,
    showReopenConfirmation: _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__.showFancyReopenConfirmation,
    init: _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_0__.initVoteToCloseAndFlag
}



/***/ }),

/***/ "./_Scripts/LegacyJS/full/06_CommentsActive.js":
/*!*****************************************************!*\
  !*** ./_Scripts/LegacyJS/full/06_CommentsActive.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _comments_comments_active_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../comments/comments-active.mod */ "./_Scripts/comments/comments-active.mod.ts");
/* harmony import */ var _comments_comments_tab_completer_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../comments/comments-tab-completer.mod */ "./_Scripts/comments/comments-tab-completer.mod.ts");
/* harmony import */ var _constants_mod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});






// add active functionality to StackExchange.comments
(function () {

    var autoShowCommentHelp,
        stackExchangeComments = StackExchange.comments,
        uiForPost = stackExchangeComments.uiForPost;

    stackExchangeComments.extendPostUi({

        ensureInput: function () {
            var jForm = this.jDiv.find('form[id^="add-comment-"]'),
                that = this;

            if (jForm.children().length && (jForm.data('template-included') !== true || jForm.data('initialized') != null)) {
                jForm.add(jForm.prev()).removeClass("d-none");// prev() is the "discussion" stuff
                return jForm.find('.js-comment-text-input');
            } else {
                var params = {
                    postUi: that,
                    jForm: jForm,
                    buttonText: __tr(["Add comment"], undefined, "en", []),
                    showCancel: false,
                    extraMessageHtml: this.jDiv.find('.js-add-comment-message').html(),
                    onSubmit: function () { that.submitNewComment(); }
                };
                return renderCommentForm(params);
            }
        },

        /**
         * @param $jForm {JQuery} the form the result text input will be appended to
         * @returns jQuery with textarea
         */
        renderTextInput: function ($jForm) {
            var $jText = $('<textarea name="comment" class="s-textarea js-comment-text-input"></textarea>');
            $jText.attr('rows', 3).attr('cols', 68);
            return $jText;
        },

        saveEditingComments: function (skipId) {
            var editing = this.editingComments = [];
            this.jDiv.find(".js-edit-comment-form:visible").each(function () {
                var ui = uiForComment(this);
                if (ui.commentId === skipId)
                    return;
                var input = $(this).find("textarea");
                editing.push([ui.commentId, input.val()]);
            });
        },

        restoreEditingComments: function () {
            if (!this.editingComments) {
                return;
            }

            var $div = this.jDiv;
            $.each(this.editingComments, function (ind, val) {
                var commentId = val[0];
                var text = val[1];
                var jComment = $div.find("#comment-" + commentId);
                if (jComment.length) {
                    uiForComment(jComment).edit(text, true);
                }
            });
            delete this.editingComments;
        },

        commentsShown: function () {
            try {
                var input = this.jDiv.find("form[id^='add-comment-'] .js-comment-text-input:focus");
                if (input.length)
                    StackExchange.comments.tabCompleter.init(input);
                this.remainingCommentsCount(0);
            } catch (ex) {
                // stop using IE7, for heaven's sake!
                // (no :focus)
            }
        },

        submitNewComment: function () {
            var jForm = this.jDiv.find('form[id^="add-comment-"]'),
                jTxt = jForm.find('.js-comment-text-input'),
                that = this;

            if (jForm.is(':working')) return;
            jForm.working(true);

            var shouldPersistForm = jForm.data("persist-form");

            var data = {
                'comment': getOrSetInputValue(jTxt),
                'fkey': StackExchange.options.user.fkey,
            };
            this.alterAddEditDataBeforeSubmit(data);

            var templateInput = jForm.find('#js-selected-template-id');
            if (templateInput.length) {
                data['hasUserEditedTemplate'] = $(".comment-form-expanded").data("has-user-edited-template");
                data['commentTemplateId'] = templateInput.val();
            }

            this.ajax({
                type: 'POST',
                url: '/posts/' + this.postId + '/comments',
                dataType: 'html',
                data: data
            }, __tr(["An error occurred while adding this comment"], undefined, "en", []), jForm)
                .done(function (html) {
                    getOrSetInputValue(jTxt, '');
                    jTxt.keyup().blur(); // resets the counter
                    StackExchange.helpers.enableSubmitButton(jForm);
                    if (!shouldPersistForm) {
                        jForm.add(jForm.prev()).addClass("d-none");
                    }
                    jForm.find('.message-dismissable').fadeOutAndRemove();
                    that.showComments(html, null, false, true);
                    that.jCommentsLinkContainer.show();
                    $(document).trigger('comment', that.postId);
                }).fail(function () {
                    StackExchange.helpers.enableSubmitButton(jForm);
                }).always(function () {
                    jForm.working(false);
                });
        },

        checkDiscussion: function () {
            var jTrigger = this.jDiv.find(".is-comment-discussion"),
                that = this;

            if (!jTrigger.length)
                return;

            jTrigger.remove();

            var jFormContainer = this.jDiv.find(".comment-form");
            if (jFormContainer.find(".discussion-info").length)
                return;

            var discussioninfo = $("<div style='margin:12px 0 3px; font-weight:bold' class='discussion-info'>" +
                __tr(["Please avoid extended discussions in comments. Would you like to $aStart$automatically move this discussion to chat?"], {aStart: "<a href='#'>"}, "en", []) + "</a></div>")
                .find("a").click(function (evt) {
                    $(this).unbind("click");
                    evt.preventDefault();

                    that.ajax({
                        url: "/posts/" + that.postId + "/move-discussion-to-chat",
                        data: { fkey: StackExchange.options.user.fkey },
                        type: "POST"
                    }, __tr(["An error occurred when trying to move the discussion to chat"], undefined, "en", []), jFormContainer)
                        .done(function (data) {
                            if (data.success)
                                window.location.href = data.message;
                            else
                                StackExchange.helpers.showErrorMessage(jFormContainer, data.message);
                        });
                }).end().prependTo(jFormContainer);
            jTrigger.remove();
        }
    });

    function CommentUi(commentId, jComment) {
        this.commentId = commentId;
        this.jComment = jComment;
        this.postUi = uiForPost(jComment);
    }

    var noop = function () { };

    // HACK: these will all get immediately extended (and the extensions saved), so that review/mod tools can add custom functionality
    CommentUi.prototype = {
        undoVoteUp: noop,
        voteUp: noop,
        "delete": noop,
        undelete: noop,
        flag: noop,
        submitFlag: noop,
        edit: noop,
        cancelEdit: noop,
        submitEdit: noop,
        submitVote: noop,
        renderScore: noop,
        showEdits: noop
    };

    var extendCommentUiObj;
    function extendCommentUi(obj, isTemp) {
        if (!isTemp) {
            extendCommentUiObj = obj;
        }
        obj = obj || extendCommentUiObj || {};
        for (var k in obj) {
            if (obj.hasOwnProperty(k))
                CommentUi.prototype[k] = obj[k];
        }
    }

    extendCommentUi({

        undoVoteUp: function () {

            if (StackExchange.options.inReadOnly) {
                return;
            }

            if (!confirm(__tr(["Are you sure you want to undo your upvote on this comment? You will not be able to upvote it again."], undefined, "en", []))) {
                return;
            }

            var arrow = this.jComment.find(".comment-up-on")
                .addClass("js-comment-up comment-up-off")
                .removeClass("comment-up-on js-comment-up-undo"),
                that = this;

            /* zero is undomod*/
            this.submitVote(0).done(function (json) {
                if (!json.Success) {
                    arrow.removeClass("js-comment-up comment-up-off").addClass("comment-up-on");
                    return;
                }
                that.renderScore(json.NewScore);
                arrow.prop('title', __tr(["This comment adds something useful to the post"], undefined, "en", [])).attr('aria-label', __tr(["Upvote comment"], undefined, "en", []));
                $(document).trigger('undoUpVoteComment', that.postUi.postId);
            }).fail(function (jqXHR) {
                if (jqXHR.status === 409) // the user was throttled because they un-voted too fast; allow retry
                    arrow.addClass("js-comment-up-undo");

                arrow.removeClass("js-comment-up").addClass("comment-up-on");
            });

        },

        voteUp: function () {
            if (StackExchange.options.inReadOnly) {
                return;
            }

            var arrow = this.jComment.find(".js-comment-up").addClass("comment-up-on").removeClass("js-comment-up"),
                that = this;

            this.submitVote(2).done(function (json) {
                if (!json.Success) {
                    arrow.removeClass("comment-up-on").addClass("js-comment-up");
                    return;
                }
                arrow.removeClass("comment-up-off");
                arrow.addClass("js-comment-up-undo");
                that.renderScore(json.NewScore);
                var title = __tr(["You’ve voted for this as a useful comment (click again to undo)"], undefined, "en", []);
                arrow.prop('title', title).attr('aria-label', title);
                $(document).trigger('upVoteComment', that.postUi.postId);
            }).fail(function () {
                arrow.removeClass("comment-up-on").addClass("js-comment-up");
            });
        },

        "delete": function () {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            var $comment = this.jComment;
            var $commentContainer = this.postUi.jDiv;
            var commentId = this.commentId;
            if (confirm(__tr(["Really delete this comment?"], undefined, "en", []))) {
                this.submitVote(10).done(function (json) {
                    if (json.Success) {
                        $comment.remove();

                        if ($commentContainer.find('.js-comment, textarea:visible').length === 0) {
                            $commentContainer.addClass("dno");
                        }

                        $commentContainer.trigger('comment:deleted', [+commentId]);
                    }
                });
            }
        },

        undelete: function () {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            var $comment = this.jComment;
            var commentId = this.commentId;
            var postId = this.postUi.postId;

            if (confirm(__tr(["Really undelete this comment?"], undefined, "en", []))) {
                (0,_comments_comments_active_mod__WEBPACK_IMPORTED_MODULE_0__.postUndeleteComment)(postId, commentId)
                    .done((singleCommentHtml) => $comment.replaceWith(singleCommentHtml))
                    .fail(() => StackExchange.helpers.showToast(__tr(["An error occurred while trying to undelete"], undefined, "en", []), { type: 'danger' }));
            }
        },

        flag: function (e) {
            return (0,_comments_comments_active_mod__WEBPACK_IMPORTED_MODULE_0__.CommentUiFlag)(this.jComment, this.commentId, this.postUi);
        },

        edit: function (textOverride, noFocus) {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            var $comment = this.jComment;
            var $form = $comment.findExclude('.js-edit-comment-form', '.js-child-comments-container')
            var $text = $form.find('.js-comment-text-input');
            var commentUi = this;
            var postUi = commentUi.postUi;

            // If edit was called with an event, ignore the first argument.
            if (typeof textOverride !== 'string') {
                textOverride = null;
            }

            // this may happen if edit is called from restoreEditingComments
            // if the comment editing time is over
            if (!$form.length)
                return;

            $comment.findExclude('.js-comment-edit-hide', '.js-child-comments-container').addClass('d-none');
            $comment.findExclude('.js-comment-text-and-form', '.js-child-comments-container').addClass('comment-form');
            $form.removeClass('d-none');

            // Only configure the editor if it's not present (in case `edit` is called multiple times)
            if (!$text.length) {
                var params = {
                    postUi: postUi,
                    jForm: $form,
                    buttonText: __tr(["Save edits"], undefined, "en", []),
                    showCancel: true,
                    onSubmit: function () { commentUi.submitEdit(); }
                };
                $text = renderCommentForm(params);
                getOrSetInputValue($text, textOverride || $form.data('markdown') || '');
            }

            $text.trigger('charCounterUpdate').trigger('editReady');

            if (!noFocus) {
                $text.focus();
                if (StackExchange.helpers.hasContentEditable($text)) {
                    StackExchange.helpers.placeCaretAtEnd($text[0]);
                }
            }
        },

        cancelEdit: function () {
            var $comment = this.jComment;
            // handle both comments and replies
            var $form = $comment.findExclude('.js-edit-comment-form,.js-reply-comment-form', '.js-child-comments-container')
            
            $comment.findExclude('.js-comment-edit-hide', '.js-child-comments-container').removeClass('d-none');
            $comment.findExclude('.js-comment-text-and-form', '.js-child-comments-container').removeClass('comment-form');
            $comment.find('.js-comment-reply').removeClass('d-none');
            $form.addClass('d-none');
            $form.children().remove();
            $form.unbind('submit');
            $comment.findExclude('.js-comment-edit.js-return-focus', '.js-child-comments-container').removeClass('js-return-focus').focus();
        },

        submitEdit: function () {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            var $comment = this.jComment;
            var $form = $comment.findExclude('.js-edit-comment-form', '.js-child-comments-container');
            var $text = $form.find('.js-comment-text-input');
            var text = getOrSetInputValue($text);
            var commentId = this.commentId;
            var postUi = this.postUi;
            var returnFocus = $comment.findExclude('.js-comment-edit.js-return-focus', '.js-child-comments-container').length > 0;
            var data = { 'comment': text, 'fkey': StackExchange.options.user.fkey };

            postUi.alterAddEditDataBeforeSubmit(data);

            postUi.ajax({
                type: 'POST',
                url: '/posts/comments/' + commentId + '/edit',
                dataType: 'html',
                data: data
            }, __tr(["An error occurred while editing this comment"], undefined, "en", []), $form)
                .done(function (html) {
                    $text.val('').keyup().blur(); // resets the counter
                    StackExchange.helpers.enableSubmitButton($form);
                    postUi.showComments(html, commentId, false, true); // note that this also removes the edit form

                    // inform the moderator bar, if present
                    postUi.jDiv.trigger('comment:edited', [+commentId, html]);

                    var $editedComment = postUi.jDiv.find('.js-comment[data-comment-id=' + commentId + ']');
                    if (returnFocus) {
                        $editedComment.find('.js-comment-edit').focus();
                    }
                }).fail(function () {
                    StackExchange.helpers.enableSubmitButton($form);
                });
        },
        
        // loads the reply form
        loadReply: function (textOverride, noFocus) {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            // determine where we were called from
            var $btn = $(this.jComment.context)
            // true if reply will be made to the parent of current comment and be created as a sibling, to be used when at bottom comment depth
            var replyToParent = $btn.data("reply-to-parent")
            var replyToThread = $btn.data("reply-to-thread")
            var replyToUser = String($btn.data("reply-to-user"))
            var insertCommentOnTop = $btn.data("insert-comment-on-top")

            if (replyToParent) {
                this.jComment = this.jComment.parent().closest(".js-comment")
            }
            if (replyToThread) {
                this.jComment = $btn.closest(".js-comment")
            }

            var $comment = this.jComment;
            var $form = $comment.findExclude('.js-reply-comment-form', '.js-child-comments-container')
            var $children = $comment.findExclude(".js-child-comments-container",".js-child-comments-container")
            var $text = $form.find('.js-comment-text-input');
            var commentUi = this;
            var postUi = commentUi.postUi;

            if (replyToUser) {
                textOverride = `@${(0,_comments_comments_tab_completer_mod__WEBPACK_IMPORTED_MODULE_1__.normalizeName)(replyToUser)} `
            }

            // this may happen if reply is called from restoreEditingComments
            // if the comment editing time is over
            if (!$form.length)
                return;
            
            // hide all child reply buttons so they don't get clicked multiple times
            $comment.find('.js-comment-reply').addClass('d-none');

            if (insertCommentOnTop) {
                $form.insertBefore($children)
            } else {
                $form.insertAfter($children)
            }

            $form.removeClass('d-none');

            // Only configure the editor if it's not present (in case `reply` is called multiple times)
            if (!$text.length) {
                var params = {
                    postUi: postUi,
                    jForm: $form,
                    buttonText: __tr(["Reply"], undefined, "en", []),
                    showCancel: true,
                    onSubmit: function () { commentUi.submitReply(); }
                };
                $text = renderCommentForm(params);
                getOrSetInputValue($text, textOverride || $form.data('markdown') || '');
            }

            $text.trigger('charCounterUpdate').trigger('editReady');

            if (!noFocus) {
                $text.focus();
                if (StackExchange.helpers.hasContentEditable($text)) {
                    StackExchange.helpers.placeCaretAtEnd($text[0]);
                }
            }
        },

        submitReply: function () {
            if (StackExchange.options.inReadOnly) {
                return;
            }
            var $comment = this.jComment;
            var $form = $comment.findExclude('.js-reply-comment-form', '.js-child-comments-container');
            var $text = $form.find('.js-comment-text-input');
            var text = getOrSetInputValue($text);
            var parentCommentId = $form.data("parent-comment-id")
            var postUi = this.postUi;
            var postId = postUi.postId

            var data = {
                'comment': text,
                'fkey': StackExchange.options.user.fkey,
                parentCommentId: parentCommentId
            };

            postUi.alterAddEditDataBeforeSubmit(data);

            
            postUi.ajax({
                type: 'POST',
                url: `/posts/${postId}/comments`,
                dataType: 'html',
                data: data
            }, __tr(["An error occurred while adding this comment"], undefined, "en", []), $form)
                .done(function (html) {
                    $text.val('').keyup().blur(); // resets the counter
                    StackExchange.helpers.enableSubmitButton($form);
                    $form.addClass("d-none")
                    postUi.showComments(html, null, false, true);
                }).fail(function () {
                    StackExchange.helpers.enableSubmitButton($form);
                }).always(function () {
                    $form.working(false);
                });
        },

        submitVote: function (voteTypeId, additionalFormParams) {
            const actions = this.jComment.find(".js-comment-actions");

            return (0,_comments_comments_active_mod__WEBPACK_IMPORTED_MODULE_0__.submitCommentVote)(
                this.commentId,
                voteTypeId,
                additionalFormParams,
                (options) => {
                    options = {
                        ...options,
                        success(resp) {
                            if (!resp.Success && resp.Message)
                                StackExchange.helpers.showErrorMessage(actions, resp.Message);
                        }
                    };
                    return this.postUi.ajax(options, __tr(["An error occurred during voting"], undefined, "en", []), actions, /*noLoaderAnimation=*/ true);
                }
            );
        },

        renderScore: function (score) {
            var result = "";
            if (score && score > 0) {
                var css = score < 5 ? '' : score <= 15 ? 'warm' : score <= 30 ? 'hot' : 'supernova';
                result += '<span title="' + __tr(["number of 'useful comment' votes received"], undefined, "en", []) + '" class="' + css + '">' + score + '</span>';
            }
            this.jComment.find(".js-comment-score").html(result);
        },

        showEdits: function () {
            var $comment = this.jComment,
                $pencil = $('#comment-' + this.commentId + ' .js-show-edits'),
                ajaxOptions = {
                    type: 'GET',
                    url: '/posts/comments/{commentId}/edit-history'.formatUnicorn({ commentId: this.commentId }),
                    dataType: 'html'
                };

            this.postUi.ajax(ajaxOptions, null, /* spinner target */ $pencil.parent()).done(function (html) {
                // show the diff table centered right below the comment
                StackExchange.helpers.showMessage($comment.findExclude(".js-comment-text-and-form", '.js-child-comments-container'), null, {
                    messageElement: html,
                    type: 'config',
                    relativeToBody: true,
                    position: { my: 'top center', at: 'bottom center', offsetTop: -10, offsetLeft: 60 },
                    fixedTo$elem: true
                });
            });
        }
    });

    // TODO: move this to stub.js/somewhere shared, once we start using contenteditable more
    /**
     * When supplied with one argument, returns the current value of $txt; when supplied with two, sets
     * $txt's value to the second arg.
     *
     * @param {jQuery|Element|string} $txt jquery wrapping input[type="text"], a textarea, or a div[contenteditable="true"]
     * @param {any} optionalSetValue when supplied, string value to set $txt to
     */
    function getOrSetInputValue($txt, optionalSetValue) {
        if (!$txt)
            throw new Error('$txt is required');

        if (!($txt instanceof $))
            $txt = $($txt);

        var hasContentEditable = StackExchange.helpers.hasContentEditable($txt);

        // get
        if (arguments.length === 1) {
            // for <div>, send back html, so we can parse mentions
            return hasContentEditable ? $txt.html() : $txt.val();
        }

        // set
        if (hasContentEditable) {
            // html encode
            $txt.html($('<div/>').text(optionalSetValue).html());
        } else {
            $txt.val(optionalSetValue);
        }
    }

    /**
     * @typedef {{ buttonText: string?, jForm: jQuery, postUi: any, extraMessageHtml: string?, showCancel: boolean?, onSubmit: (jForm: jQuery?) => {} }} renderCommentFormParams
     * @param {renderCommentFormParams} params
     */
    function renderCommentForm(params) {

        const $jForm = params.jForm;
        // if data-template-included is not true, we'll use default template
        const useDefaultTemplate = $jForm.data("template-included") !== true;

        if (useDefaultTemplate) {

            var publicCommentTemplate = /*html*/ 
                `<div class="js-comment-form-layout d-flex fw-wrap jc-end mt8">
                    <div class="w75 fl-grow1">
                        <div class="js-comment-text-input-container"/>
                        <span class="text-counter"></span>
                        <span class="form-error"></span>
                    </div>
                    <div class="d-flex fd-column jc-space-between pb4 mb16 ml8">
                    <div class="d-flex fd-column">
                        <button type="submit" class="s-btn s-btn__filled"></button>
                        <button type="button" class="js-edit-comment-cancel s-btn s-btn__link ta-left px2 mt6 d-none"></button>
                    </div>
                    <button type="button" class="js-comment-help-link s-btn s-btn__link ta-left px2"></button>
                    </div>
                </div>`;

            var stagingGroundCommentTemplate = /*html*/ 
                `<div class="ba bc-black-225">
                    <div class="js-comment-form-layout d-flex fw-wrap jc-end pl1">
                        <div class="w100 js-comment-text-input-container"></div>
                    </div>
                    <div class="bt bg-black-100 bc-black-225 p8 g8 ai-center d-flex ml1">
                        <button type="submit" class="s-btn s-btn__filled"></button>
                        <button type="button" class="js-edit-comment-cancel s-btn"></button>
                        <span class="ml-auto text-counter"></span>
                    </div>
                </div>`;

            // sg uses different comment template than main site
            const isStagingGround = location.href.includes('/staging-ground/');
            $jForm.append(isStagingGround ? stagingGroundCommentTemplate : publicCommentTemplate);
        } else {
            // in the case where we are not adding the template (ie: template is included) the form will be used
            // as it is there but the logic will still proceed here to bind up
            $jForm.removeClass('d-none');
        }
        $jForm.data('initialized', 'true');
        $jForm.find('[type=submit]').text(params.buttonText);

        var $jText = params.postUi.renderTextInput($jForm);

        const textAreaId = $jForm.data('textarea-id');
        if (textAreaId) {
            $jText.attr('id', textAreaId);
        }

        const textAreaClass = $jForm.data('textarea-class');
        if (textAreaClass) {
            $jText.toggleClass(textAreaClass, true);
        }

        var $jInputContainer = $jForm.find('.js-comment-text-input-container');
        if (useDefaultTemplate && params.extraMessageHtml) {
            $jInputContainer.append('<div class="new-contributor-indicator fc-black py12 btr-sm ta-center">' + params.extraMessageHtml + '</div>');
            $jText.addClass('btr0');
        }
        $jInputContainer.append($jText);

        if (params.showCancel) {
            // bind comment cancelling
            $jForm.find('.js-edit-comment-cancel')
                .text(__tr(["Cancel"], undefined, "en", []))
                .removeClass('d-none')
                .click(function () { uiForComment($jForm).cancelEdit(); });

            // bind escape key to cancel commenting
            $jForm.keyup(function (event) {
                if (event.which === _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.ESC
                    && $jForm.find("#tabcomplete > li:visible").length === 0
                    && !$jForm.hasClass('js-prevent-submit-form-on-enter-press')) {
                    uiForComment($jForm).cancelEdit();
                }
            });
        }

        var isValid = false;
        var setIsValid = function (bool) { isValid = bool; };
        var minLength = $(".js-comments-container").data("min-length");

        // set up text input bindings
        $jText
            .attr('placeholder', $jForm.data("placeholdertext")) // IE 10 issue - https://stackoverflow.com/q/13764607
            .charCounter({ min: minLength, max: 600, setIsValid: setIsValid })
            .focus(function () { StackExchange.comments.tabCompleter.init($(this)); });

        var showAbridgedCommentsHelp = $jForm.hasClass('js-abridged-help');

        if (autoShowCommentHelp) {
            $jText.one("focus", { abridged: showAbridgedCommentsHelp }, toggleCommentHelp);
        }

        // bind help link
        const $helpLink = $jForm.find('.js-comment-help-link');
        if ($helpLink) {
            var showText = $helpLink.data("text-show") || __tr(["Help"], undefined, "en", []);
            $helpLink.text(showText);
            $helpLink.click({ abridged: showAbridgedCommentsHelp }, toggleCommentHelp);
            $helpLink.attr('aria-expanded', !!autoShowCommentHelp);

            // if a help icon exists, clicking it should trigger a click on the help link
            var $helpIcon = $jForm.find('.js-help-icon');
            if ($helpIcon) {
                $helpIcon.click(function () { $helpLink.click(); });
            }
        }

        $jForm.submit(function () {
            if (isValid) {
                StackExchange.helpers.disableSubmitButton($jForm);
                params.onSubmit($jForm);
            }
            else {
                $jForm.find('span.text-counter').animate({ opacity: 0 }, 100, function () { $(this).animate({ opacity: 1 }, 100); });
            }
            return false;
        });

        if (!StackExchange.settings.comments.doNotSubmitOnEnter) {
            StackExchange.helpers.submitFormOnEnterPress($jForm);
        }

        return $jText;
    };

    // Event handler for click on the "help" link as well as (possibly) focus on the comment text box
    var toggleCommentHelp = function (evt) {

        var $btn = $(this);
        var containerClass = $btn.data("help-container");
        var containerSelector = containerClass ? "." + containerClass : ".js-comment-form-layout"
        var $container = $btn.closest(containerSelector);
        var $helpLink = $container.find(".comment-help-link");
        var $oldHelp = $(".comment-help", $container);

        var doShow;
        if (evt.type == "click") {
            doShow = $oldHelp.length == 0 || !$oldHelp.is(":visible");
            if (!doShow) {
                // the user has explicitly hidden the comment help -- don't show it automatically again on this page
                toggleCommentHelp.manualOnly = true;
            }
        }
        else if (toggleCommentHelp.manualOnly)
            return;
        else
            doShow = true; // focus event

        $('.js-comment-help-link').attr('aria-expanded', doShow);

        var showText = $btn.data("text-show") || __tr(["Help"], undefined, "en", []);
        var hideText = $btn.data("text-hide") || __tr(["Hide help"], undefined, "en", []);

        var setHelpLinkText = function () {
            $helpLink.text(doShow ? hideText : showText);
        };

        if ($oldHelp.length > 0) {
            if (doShow)
                $oldHelp.slideDown(setHelpLinkText);
            else
                $oldHelp.slideUp(setHelpLinkText);
            return;
        }

        if (!doShow)
            return;

        var $helpContainer = $("<div class='w100' />").appendTo($container);

        if (toggleCommentHelp.helpText) {
            $helpContainer.html(toggleCommentHelp.helpText);
            $(".comment-help", $helpContainer).slideDown(setHelpLinkText);
        }
        else {
            if (toggleCommentHelp.inProgress) {
                return;
            }
            toggleCommentHelp.inProgress = true;
            StackExchange.helpers.addSpinner($helpLink);
            var abridged = evt.data.abridged;
            $helpContainer.load("/posts/comment-help?abridged=" + abridged, function (responseText) {
                toggleCommentHelp.helpText = responseText;
                StackExchange.helpers.removeSpinner();
                $(".comment-help", this).slideDown(setHelpLinkText);
                toggleCommentHelp.inProgress = false;
            });
        }
    };

    function uiForComment(elOrJQueryOrSelector) {
        var $comment = $(elOrJQueryOrSelector).closest('.js-comment');
        var commentId = ($comment.data('comment-id') || '').toString();
        return new CommentUi(commentId, $comment);
    }

    // Several of the comment controls are very close to each other and to other links. When the
    // Android browser thinks element A is clickable (because it's a link or has an onclick handler),
    // and it thinks element B is not, and A is close to B, and you tap on B, the browser thinks you have
    // fat fingers and pretends you tapped on A. Since event delegation doesn't create click handlers
    // on the particular element, the Android browser doesn't know it should consider it a hit area.
    //
    // To work around this, we do the following: If the element is *touched* (the touchstart event sends the
    // *correct* target element), we add a dummy click handler to it and add a dummy attribute. The latter
    // DOM change is necessary for Android to reconsider its hit areas. This adds a few unnecessary click handlers
    // on touch-enabled devices, but is otherwise free of side-effects. And at most one handler will be
    // added per element.
    function heyAndroidThisIsClickable(context, ancestor, targetSelector) {
        if (!/Android/.test(navigator.userAgent))
            return;

        $(ancestor, context).bind("touchstart", function (evt) {
            var jTarget = $(evt.target);

            if (!jTarget.is(targetSelector))
                return true;
            var events = jTarget.length ? $._data(jTarget[0], "events") : null;
            if (events && events.click && events.click.length)
                return true; // there's already a (jQuery-bound; we may not see others, but that's not a big ussue) click handler here; no need to do anything
            jTarget.click(function () { }).attr("data-nothing-to-see-here", "X"); // this dom-change is necessary for the android browser to pick up the change
            return true;
        });
    }

    function commentUiDelegate(context, selector, methodName) {
        var onClick = function (e) {
            e.preventDefault();
            var ui = uiForComment(this);
            var mtd = ui[methodName];
            mtd.apply(ui);
        };

        $(".js-comments-container", context).delegate(selector, "click", onClick);
        heyAndroidThisIsClickable(context, ".js-comments-container", selector);
    }

    var passiveInit = stackExchangeComments.init;

    stackExchangeComments.init = function (options) {
        passiveInit(options);
        autoShowCommentHelp = options && options.autoShowCommentHelp;
        var context = (options && options.post) || document;
        commentUiDelegate(context, ".js-comment-up", "voteUp");
        commentUiDelegate(context, ".js-comment-delete", "delete");
        commentUiDelegate(context, ".js-comment-undelete", "undelete");
        
        // for Collectives Discussions, the comment flag icon doesn't hook into the moderation system,
        // rather we just send the user to the contact us page so the CMs will moderate.
        // if this ever need to hook back into the moderation system, take a look at commit 22de59962c76602d5a5d636bb764492405479bca
        // that was part of PR#15971
        if (options && options.isCollectivesDiscussion === true) {
            var commentsContainer = $(".js-comments-container", context);
            var postId = commentsContainer.data("post-id");
            commentsContainer.delegate(".js-comment-flag", "click", function (e) { window.open("/contact?topic=15&postId=" + postId, '_blank') });
        } else {
            commentUiDelegate(context, ".js-comment-flag", "flag");
        }

        commentUiDelegate(context, ".js-comment-edit", "edit");
        commentUiDelegate(context, ".js-comment-reply", "loadReply");
        commentUiDelegate(context, ".js-comment-up-undo", "undoVoteUp");
        commentUiDelegate(context, ".js-show-edits", "showEdits");

        $(".js-comments-container", context).on("keypress", ".js-comment-edit", function (e) {
            if (e.keyCode === _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.SPACE || e.keyCode === _constants_mod__WEBPACK_IMPORTED_MODULE_2__.KEY_CODE.ENTER) {
                $(this).addClass('js-return-focus');
            }
        });

        // any answer forms with class "comment-form-expanded" should be expanded
        $('form.comment-form-expanded', context).each(function () {
            uiForPost(this).addShow(true, true);
        });

        extendCommentUi(null, true); // we need to re-apply the default behavior on init because of review audits
    };

    // allow overriding of comment actions; e.g. see moderator.js -> fastCommentDeletion()
    stackExchangeComments.extendCommentUi = extendCommentUi;

})(); // end of extending StackExchange.comments with active functionality



/***/ }),

/***/ "./_Scripts/LegacyJS/full/07_CommentTabCompleter.js":
/*!**********************************************************!*\
  !*** ./_Scripts/LegacyJS/full/07_CommentTabCompleter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _constants_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/* harmony import */ var _comments_comments_tab_completer_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../comments/comments-tab-completer.mod */ "./_Scripts/comments/comments-tab-completer.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});





StackExchange.comments.tabCompleter = (function () {
    
    var _candidates, // an array of users that can be replied to, in reverse chronological order
        _currentTextarea;
    
    var _lastRead = null; // contains the @username that was last read
                          // when the user pressed any key except TAB. In other words:
                          // This contains the @username that the cursor is currently on in the
                          // input box, *unless* a tab completion was made -- in that case, it still
                          // contains the original @username

    /**
     * matches user url on both public and channels
     */
    var _matchUserId = /^(?:\/c\/[^\/]+)?\/users\/(\d+)/i;
    
    function showRecipients(recipients) {
        var tc = $("#tabcomplete");
        tc.empty();
        if (recipients.length > 5 || !recipients.length) // too many or not enough
            return;
        $.each(recipients, function (i, name) {
            var li = $("<li/>").text(name).appendTo(tc);
            if (name.toLowerCase() == _lastRead.toLowerCase())
                li.addClass("chosen");
        });
    }

    function currentAtName() {
        var pos = _currentTextarea.caret().start;
        var val = _currentTextarea.val();
        var moreThanOneAt = false;
        if (/@[^\s!?();:+"].*@/.test(val)) {
            if (!/`/.test(val)) // if the text contains more than one @, but does not contain a backtick, the server will reject
                return null;
            moreThanOneAt = true;
        }
        
        var toWordEnd = val.substring(pos).search(/[\s!?();:+"\[\]\\]/);
        if (toWordEnd == -1)
            toWordEnd = val.length - pos;

        // if are inserting an extra space at the end of the name, we should ignore it before checking for a current name match
        if (StackExchange.options.site.insertSpaceAfterNameTabCompletion && toWordEnd === 0 && val.substring(pos - 1, pos) === " ")
            toWordEnd = -1;

        var match = val.substring(0, pos + toWordEnd).match(/@[^\s!?();:+"\[\]\\]*$/);
        if (!match)
            return null;
        
        var atname = match[0].substr(1);
        var end = pos + toWordEnd;
        var start = end - atname.length;
        // if there's more than one at, only be helpful if this is the first one
        if (moreThanOneAt && /@[^\s!?();:+"]/.test(val.substr(0, start - 1)))
            return null;
        
        return { start: start, // the start of the username part of "@username"
                 pos: pos,                   // the cursor position
                 end: end,                   // the end of the username part
                 name: atname };             // the "username" part itself
    }

    function doReplace(replacement) {
        var current = currentAtName();
        if (current.name === replacement) {// we're not changing anything, so in particular, there's no need to move the cursor
            if (!_currentTextarea.is(":focus"))
                _currentTextarea.focus(); // but still make sure the cursor is in the input box (in case a click has pulled the focus from it)
            return;
        }

        if (StackExchange.options.site.insertSpaceAfterNameTabCompletion) {
            replacement += " ";
        }

        var oldval = _currentTextarea.val();
        _currentTextarea.val(oldval.substring(0, current.start) + replacement + oldval.substring(current.end));
        var newpos = current.start + replacement.length;
        _currentTextarea.caret(newpos, newpos);
    }

    // We're using mousedown (not click) and cancel the event for the following reason:
    // A click will pull the focus away from the input box in IE, causing actual
    // problems (because of the whole "cursor position in unfocused textbox" issue).
    // In all browsers, it will make us lose the single (clicked) auto-complete choice, so the
    // behavior would be incosistent with the TAB key behavior.
    $("body").on("mousedown", "#tabcomplete > li", function (evt) {
        var jThis = $(this);
        jThis.parent().find("li.chosen").removeClass("chosen");
        doReplace(jThis.addClass("chosen").text());
        return false;
    });

    function downHandler (evt) {
        var replacement, choices;
        if (evt.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.TAB) {
            choices = $("#tabcomplete li");
            if (!choices.length)
                return;
            var oldchoice = choices.filter(".chosen").removeClass("chosen");
            var newchoice = evt.shiftKey ? oldchoice.prev() : oldchoice.next();
            if (!newchoice.length) // this covers both cases where a) nothing was chosen yet or b) the *last* one was chosen
                newchoice = evt.shiftKey ? choices.last() : choices.first();
            replacement = newchoice.addClass("chosen").text();
            
        } else if (evt.which == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ESC) { // when username choices are displayed go back to displaying what the user originally typed
            choices = $("#tabcomplete li");
            if (!choices.length)
                return;
            replacement = _lastRead;
            _lastRead = null; // to force re-evaluation in the keyup/click handler
        } else {// neither tab nor esc
            return;
        }
        
        evt.preventDefault();
        doReplace(replacement);
    }

    function upHandler (evt) {
        if (evt.which) {
            switch (evt.which) {
                case 9: // tabs get handled above
                case 16: // shift
                case 17: // ctrl
                case 18: // alt
                case 220: // caps
                    return;
            }
        }
        var current = currentAtName();
        if (!current) {
            _lastRead = null;
            showRecipients([]);
            return;
        }
        if (_lastRead == current.name) // the entered name (part) is the same as the last time we checked
            return;

        var recipients = [];
        _lastRead = current.name;
        var re;
        if (!current.name)
            re = /^\W/; // if there's only the "@" character without anything else, show all candidates with crazy moon characters at the start
        else
            re = new RegExp("^" + (0,_comments_comments_tab_completer_mod__WEBPACK_IMPORTED_MODULE_1__.normalizeName)(current.name).replace(/\./g, "\\."), "i");
        var len = _candidates.length;
        for (var i = 0; i < len; i++) {
            var user = _candidates[i];
            var realName = user.name;
            // if there's only the "@", match against the actual name; if they actually typed something, match against the normalized name
            var normalized = current.name ? (0,_comments_comments_tab_completer_mod__WEBPACK_IMPORTED_MODULE_1__.normalizeName)(realName) : realName;
            if (normalized.match(re)) {
                recipients.push(realName.replace(/ /g, ""));
            }
        }
        showRecipients(recipients);
    }
    
    function userIdFromLink(href) {
        if (!href)
            return null;

        var match = href.match(_matchUserId);
        if (!match)
            return null;

        return parseInt(match[1], 10) || null;
    }

    function findOwnerLink($commentsDiv) {
        return $commentsDiv
            .closest(".question, .answer")
            .find(".post-signature:last .user-details a[href^='/']")
            .filter(function () {
                // access href through jquery, as this.href return full url, not the relative
                return _matchUserId.test($(this).attr('href'));
            });
    }

    /**
     * If there are existing comments above parameter textarea '$txt', adds a small popup with candidates for "@ replying" that may
     * be auto-completed via tabbing.
     * @param {jQuery} $txt - textarea below a bunch of comments - either for adding or editing comments
     * @param {jQuery} $commentsOptional - allows comments to be specified (re: docs); when null, assumed to be used on a Post
     * @param {jQuery} $ownerLinkOptional - allows content owner (e.g. post owner) to be specified; when null, 
     *                                      assumed to be used on a Post
     * @param {jQuery} $whereToInsertTabCompleteOptional - #tabcomplete will be inserted here; when null, it's inserted before $txt
     */
    function init($txt, $commentsOptional, $ownerLinkOptional, $whereToInsertTabCompleteOptional) {
        
        if (StackExchange.helpers.hasContentEditable($txt))
            return;
        
        var commentsDiv = $commentsOptional || $txt.closest("div.comments");
        var ownerLink = $ownerLinkOptional || findOwnerLink(commentsDiv);
        var ownerId = userIdFromLink(ownerLink.attr("href"));
        var commentersChronological = [];
            
        commentsDiv.find("a.comment-user").each(function (index, elem) { // note that this excludes deleted users; they are span.comment-user
            var node = elem.firstChild;
            if (node.nodeType !== 3) {
                StackExchange.debug.log("unexpected structure in comment owner link");
                return;
            }
            var username = node.nodeValue; // we're doing it this way to exclude diamonds (which are in a span.mod-flair)
            var userid = userIdFromLink($(elem).attr("href"));
            if (userid === StackExchange.options.user.userId)
                return;
            commentersChronological.push({ id: userid, name: username});
        });
        
        _candidates = [];
        var found = {};
        for (var i = commentersChronological.length - 1; i >= 0; i--) {
            var candidate = commentersChronological[i];
            if (!found[candidate.id]) {
                _candidates.push(candidate);
                found[candidate.id] = true;
            }
        }

        $("#tabcomplete").remove();
        if (_currentTextarea) {
            _currentTextarea
                .unbind($.browser.opera ? "keypress" : "keydown", downHandler)
                .unbind("keyup click", upHandler);
        }
        
        // except for maybe the current user or the owner, nobody has commented here yet;
        // do not offer tab completion.
        if (_candidates.length === 0 || (_candidates.length === 1 && _candidates[0].id === ownerId)) {
            _currentTextarea = null;
            return;
        }
        
        _currentTextarea = $txt;
        _lastRead = null;
        
        var $tabcomplete = $("<ul id='tabcomplete' />");
        if ($whereToInsertTabCompleteOptional) {
            $whereToInsertTabCompleteOptional.append($tabcomplete);
        }
        else {
            $tabcomplete.insertBefore($txt);
        }
        
        $txt.bind("keydown", downHandler)
            .bind("keyup click", upHandler);
    }
    
    
    return { init: init };
    
})();




/***/ }),

/***/ "./_Scripts/LegacyJS/full/08_InlineEditing.js":
/*!****************************************************!*\
  !*** ./_Scripts/LegacyJS/full/08_InlineEditing.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _constants_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});




StackExchange.inlineEditing = {
    init: function () {
        function crossFade(outElem, inElem, duration, callback) {
            inElem.fadeIn(duration, callback);
            outElem.hide();
            return;
        }
        function smartyPantsMini(s) {
            if (typeof s === 'string' && StackExchange.settings.questions.applyFancyEncodingToQuestionTitles)
            {
                s = s.replace(/\.{3,}/g, "\u2026"); // ... (or more) becomes &hellip;
                s = s.replace(/---?(\s)/g, "\u2014$1"); // --- or -- becomes &mdash;
                s = s.replace(/"(.*?)"/g, "\u201c$1\u201d"); // "foo" becomes &ldquo;foo&rdquo;
                // s.replace(/(?<![A-Za-z])'(.*?)'(?![A-Za-z])/g, "\u2018$1\u2019"); // 'foo' becomes &lsquo;foo&rsquo;
                // s.replace(/(?<=[A-Za-z0-9])'([A-Za-z]+)/g, "\u2019$1"); // A's and O'Malley becomes &rsquo;s
            }
            return s;
        }

        if (document.referrer) {
            $("#post-form input[name='referrer']").val(document.referrer);
        }

        $(document).on("click", ".js-post-menu .js-edit-post", function (evt) {
            if (evt.ctrlKey || evt.altKey || evt.metaKey || evt.shiftKey) return; // allow open new window etc
            var e = $(this), root = e.closest(".question, .answer");

            if (e.data('handling-event') == 1) return false;
            e.data('handling-event', 1);

            if (StackExchange.inlineTagEditing) {
                StackExchange.inlineTagEditing.cancelForFullEditor(root);
            }

            var showEditorButton = $("#show-editor-button");
            var showEditorButtonWasHidden = showEditorButton.is(':visible');
            if (showEditorButtonWasHidden) {
                showEditorButton.hide();
            }
            e.addSpinner();

            var answer = "";
            var isAnswer = root.hasClass("answer");
            if (isAnswer) {
                answer = " class='answer'";
            }

            var existing = root.find('.postcell,.answercell');
            var toBeHidden = existing.find('> *');
            
            var div = $('<div class="inline-editor"/>').hide().appendTo(existing);

            // PostsController.InlineEdit: posts/{id:INT}/edit-inline
            div.load(e.attr('href') + '-inline', function (r, status, xhr) {

                var originalTitle;

                div.find("[tabindex]").each(function () {
                    var tabindex = parseInt($(this).attr("tabindex"), 10);

                    // skip any unset tabindex or tabindex set to -1
                    if (isNaN(tabindex) || tabindex <= 0) {
                        return true;
                    }

                    $(this).attr("tabindex", tabindex - 20);
                });
                StackExchange.helpers.removeSpinner();

                if (root.offset().top < $(window).scrollTop()) // don't scroll if the top of the post is visible
                    $('html, body').animate({ scrollTop: $(root).offset().top - 55 }, 200);

                if (status == 'error') {
                    div.remove();
                    e.data('handling-event', 0);

                    if (xhr.status == 403) {
                        StackExchange.helpers.showErrorMessage(existing, __tr(["Editing is currently forbidden."], undefined, "en", []))
                    }
                    // if this failed because there's a pending suggested edit, rewrite the link and bind for async review
                    else if (/\/review\/suggested-edits\/\d+/.test(r)) {
                        e
                            .removeClass('js-edit-post')
                            .addClass('js-edit-pending')
                            .attr({ href: r, title: __tr(["1 edit to this post is pending, please review it"], undefined, "en", []) })
                            .text(e.text() + " (1)");
                        StackExchange.question.bindSuggestedEditPopupLinks();
                        e.click();
                    }
                    else {
                        StackExchange.helpers.showErrorMessage(existing, __tr(["The post could not be loaded"], undefined, "en", []));
                    }
                }
                else {

                    crossFade(toBeHidden, div, 300);

                    var cancelEdit = function (elem) {
                        if (StackExchange.navPrevention) {
                            if (!StackExchange.navPrevention.confirm(__tr(["You have started editing this post. Abandon this edit?"], undefined, "en", [])))
                                return false;
                            StackExchange.navPrevention.stop();
                        }

                        StackExchange.using("beginEditEvent", function () {
                            StackExchange.beginEditEvent.cancel();
                        });

                        if (showEditorButtonWasHidden) {
                            showEditorButton.show();
                        }
                        e.data('handling-event', 0);
                        crossFade(div, elem, 300, function () { div.remove(); });
                        if (elem.offset().top < $(window).scrollTop()) // don't scroll if the top of the post is visible
                            $('html, body').animate({ scrollTop: $(root).offset().top - 55 }, 200);
                        return false;
                    };

                    var updateTitleEvent = "input keyup";
                    var resetTitle = function () {
                        title.unbind(updateTitleEvent, updateTitle);
                        setTitleDelayed.trigger(originalTitle);
                    };

                    var updateTitle = function (evt) {
                        setTitleDelayed.trigger(title[0].value);
                        return true;
                    };

                    div.find('.cancel-edit').click(function () { resetTitle(); cancelEdit(toBeHidden); });

                    var saveNewDefaultDelayed = StackExchange.helpers.DelayedReaction(function (hide) {
                        $.ajax({
                            type: "POST",
                            data: { fkey: StackExchange.options.user.fkey, hide: hide },
                            url: "/user/save-pref/hide-preview-for-inline-editing"
                        });
                    }, 1000, { sliding: true });

                    var hidePreview = div.find('.hide-preview');
                    hidePreview.click(function () {
                        var preview = div.find(".js-wmd-preview");
                        var visible = preview.is(":visible");
                        if (visible) {
                            preview.slideUp();
                            hidePreview.text(__tr(["show preview"], undefined, "en", []));
                        } else {
                            preview.slideDown();
                            hidePreview.text(__tr(["hide preview"], undefined, "en", []));
                        }

                        saveNewDefaultDelayed.trigger(visible);

                        return false;
                    });

                    var form = div.find('form');

                    var title = div.find('#title');
                    var header = $("#question-header a.question-hyperlink");
                    var originalTitleSuffix = title.data('question-state-suffix');
                    originalTitleSuffix = originalTitleSuffix ? ' ' + originalTitleSuffix : '';
                    originalTitle = title.val();

                    var setTitleDelayed = StackExchange.helpers.DelayedReaction(function (text) {
                        if (typeof text != 'undefined') {
                            header.text(smartyPantsMini(text) + originalTitleSuffix);
                            if (typeof MathJax != 'undefined')
                                MathJax.Hub.Queue(["Typeset", MathJax.Hub, header[0]]);
                        }
                    }, { sliding: true });

                    title.bind(updateTitleEvent, updateTitle);

                    div.find('#title,.wmd-input,#tagnames,.edit-comment').keydown(function (evt) {
                        if (evt.ctrlKey === true && evt.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ENTER) {
                            form.submit();
                            return false;
                        }
                        if (evt.keyCode == _constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.ESC) {
                            resetTitle();
                            cancelEdit(toBeHidden);
                            return false;
                        }
                    });

                    StackExchange.using("postValidation", function () {
                        StackExchange.postValidation.initOnBlurAndSubmit(form, isAnswer ? 2 : 1, 'edit', false, function (json) {
                            var html = json.html;
                            var elem = $(html).hide();
                            existing.replaceWith(elem);

                            if (!isAnswer) {
                                $("#question-header a.question-hyperlink").text(smartyPantsMini(json.title));
                            }

                            $('html').trigger('inline-edit-complete', [elem, json.title]);

                            styleCode();

                            cancelEdit(elem); // reverts the UI
                        });
                    });

                    StackExchange.using("beginEditEvent", function () {
                        StackExchange.beginEditEvent.init();
                    });
                }
            });
            return false;
        });
    }
};



/***/ }),

/***/ "./_Scripts/LegacyJS/full/saves.js":
/*!*****************************************!*\
  !*** ./_Scripts/LegacyJS/full/saves.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _saves_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../saves.mod */ "./_Scripts/LegacyJS/saves.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});




StackExchange.saves = {
    initSaves: _saves_mod__WEBPACK_IMPORTED_MODULE_0__.initSaves,
    initUserSaves: _saves_mod__WEBPACK_IMPORTED_MODULE_0__.initUserSaves,
};



/***/ }),

/***/ "./_Scripts/LegacyJS/realtime-se.js":
/*!******************************************!*\
  !*** ./_Scripts/LegacyJS/realtime-se.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


var EventEmitter = __webpack_require__(/*! ./../../Content/Js/third-party/event-emitter.js */ "./Content/Js/third-party/event-emitter.js");

var StackExchange = StackExchange || {};

StackExchange.realtime = (function () {
    var socket = null;
    var activeToShow = {};
    var answersToShow = [];
    var connectRetries = 0;
    var channelBuffer = [];
    var connectRetryMax = 10;    
    var connected = false;
    var formatShortDates = false;
    var suppressedTagHighlights;
    var killed = false;

    var pauseNotifications = false;

    var ee = new EventEmitter();

    function WebSocketEvents() {
        return {
            creationfailed: null,
            onopen: null,
            onmessage: null,
            onclose: null,
            onerror: null
        };
    }

    function WebSocketDirectWrapper(endpointUrl) {
        var webSocket;

        return {
            on: WebSocketEvents(),

            isOpen: function () {
                return webSocket && webSocket.readyState === 1;
            },

            readyState: function() {
                return webSocket ? webSocket.readyState : null;
            },

            start: function () {
                if (webSocket) {
                    return;
                }
                var on = this.on;
                try {
                    webSocket = new WebSocket(endpointUrl);
                } catch (ex) {
                    if (on.creationfailed) {
                        on.creationfailed(ex.message);
                    }
                    return;
                }
                webSocket.onopen = function () { if (on.open) on.open(); }
                webSocket.onclose = function () { if (on.close) { on.close(); } webSocket = null; }
                webSocket.onmessage = function (msg) { if (on.message) on.message(msg); }
                webSocket.onerror = function () { if (on.error) { on.error(); } webSocket = null; }
            },

            close: function() {
                if (webSocket) {
                    webSocket.close();
                    webSocket = null;
                }
            },

            dispose: function () {
                this.close();
            },

            send: function (data) {
                if (webSocket) webSocket.send(data);
            },
            
            open: function () {
                //A web socket is open as soon as it is instantiated
            }
        }
    }

    function socketDispose() {
        if (socket) {
            socket.dispose();
            socket = null;
        }
    }

    function init(endpoint) {
        var endpointSplit = endpoint.split(",");
        var endpointCount = endpointSplit.length;
        var endpointIndex = connectRetries % (endpointCount);
        var endpointUrl = endpointSplit[endpointIndex];
        var staleDisconnectIntervalInHours = StackExchange.options.realtime.staleDisconnectIntervalInHours;

        if ("WebSocket" in window) {
            if (socket)
                return;

            socket = WebSocketDirectWrapper(endpointUrl);
            if (socket === null)
                return;

            socket.on.open = function () {
                if (!connected) {
                    connected = true;
                }
                connectRetries = 0;
                log('WebSocket opened');
                if (socket && (socket.readyState() === 1)) {
                    var msg = '';
                    var opt = StackExchange.options;
                    if (opt) {
                        // any additions here should also be reflected in ListActiveSockets (column headers)
                        var msg = '|';
                        if(opt.routeName) msg = msg + opt.routeName.toString();
                        msg = msg + '|';
                        if (opt.user && opt.user.userId) msg = msg + opt.user.userId.toString();
                        msg = msg + '|';
                        if (opt.user && opt.user.accountId) msg = msg + opt.user.accountId.toString();
                        msg = msg + '|';
                        if (opt.user && opt.user.rep) msg = msg + opt.user.rep.toString();
                        msg = msg + '|' + window.location.host + '|';
                        if (opt.serverTime) msg = msg + opt.serverTime.toString();
                        msg = msg + '|';
                        log('analytic: ' + msg); // note: these values are **never** to be used for identification (trusted)
                                                                // purposes; they are for analytic only
                        socket.send(msg);
                    }
                }
                sendChannelBuffer();
                processHeartbeats();
                setInterval(updateRelativeDates, 60000);

                if (staleDisconnectIntervalInHours > 0) {
                    setTimeout(disconnectStaleConnection, staleDisconnectIntervalInHours * 1000 * 60 * 60 /* hours */);
                }
            };

            socket.on.message = function (msg) {
                var message = $.parseJSON(msg.data || msg);
                if (message.action === "realtime-broadcast") {
                    log("broadcast message - " + message.data);
                    var broadcastAction = $.parseJSON(message.data).a;
                    if (broadcastAction === "killWebSocket" || broadcastAction === "restartWebSocket") {
                        log("Applying action: " + broadcastAction);
                        killed = (broadcastAction === "killWebSocket");
                        if (killed) {
                            socketDispose();
                        } else {
                            socket.close();
                        }
                    }
                } else if (message.action == "debug-info") {
                    log(message.data);
                }
                else {
                    ee.emitEvent(message.action, [message.data]);
                }
            };

            socket.on.close = function () {
                socket = null;
                log('WebSocket closed');
                if (!killed && connectRetries < 5 && connectRetryMax > 0) {
                    connectRetries++;
                    connectRetryMax--;
                    log('reconnect attempt:' + connectRetries + ' max retries:' + connectRetryMax);
                    setTimeout(function () { StackExchange.realtime.init(endpoint) }, Math.random() * 5 * 60 * 1000); // Space reconnects across 5 minutes
                }
            };

            socket.on.error = function () {
                log('WebSocket failed');
                socketDispose();
            };

            socket.on.creationfailed = function(errorMessage) {
                log('Sockets disabled - ' + errorMessage);
                socketDispose();
            };

            socket.start();

            if(channelBuffer.length > 0 && socket) {
                socket.open();
            }
        }
    }

    function sendChannelBuffer() {
        if (socket == null || !socket.isOpen()) return;

        for (var i = 0, l = channelBuffer.length; i < l; i++) {
            log("sending " + channelBuffer[i]);
            socket.send(channelBuffer[i]);
        }
    }

    function simulate(message) {
        ee.emitEvent(message.action, [message.data]);
        console.dir(ee);
    }

    function log(message) {
        if (!((StackExchange && StackExchange.options && StackExchange.options.enableLogging) || ($ && $.cookie && $.cookie('devlog')))) return;
        console.log('realtime: ' + message);
    }

    function processHeartbeats() {
        ee.addListener('hb', function (data) {
            log('heartbeat received; responding');
            socket.send(data);
        });
    }

    function subscribe(data, flush) {
        channelBuffer.push(data);
        flush = flush === false ? false : true;
        if (flush) sendChannelBuffer();
    }

    function genericUnsubscribe(subscriptionName, callback) {
        ee.removeListener(subscriptionName, callback);
        unsubscribe(subscriptionName);
    }
    function genericSubscribe(subscriptionName, callback) {
        ee.addListener(subscriptionName, callback);
        subscribe(subscriptionName);
    }

    function unsubscribe(data) {
        log("unsubscribing " + data);

        var index = $.inArray(data, channelBuffer);
        if (index == -1) return;

        channelBuffer.splice(index, 1);

        // unsubscribe happens immediately and is sent directly
        if (socket == null || !socket.isOpen()) return;
        socket.send("-" + data);
    }

    function debug(section) {
        if (socket) socket.send('debug-' + section);
        else log('not connected');
    }

    function unsubscribeToQuestion(sid, qid) {
        var subscriptionName = sid + '-question-' + qid;
        unsubscribe(subscriptionName);
    }

    function subscribeToStagingGroundQuestion(sid, qid, commentAddCallback, reviewActionCallback, postEditCallback, postDeletedCallback) {
        var subscriptionName = sid + '-question-' + qid;
        subscribe(subscriptionName);

        ee.addListener(subscriptionName, function (data) {
            // TODO: does this actually work or is it getting captured?
            if (pauseNotifications) return;

            var payload = $.parseJSON(data);

            // NOTE: some events don't pass the account id, e.g. post-deleted, as this can leak privileged info to all listeners
            if (payload.acctid == StackExchange.options.user.accountId) return;

            log(subscriptionName + ' ' + data);

            switch (payload.a) {              
                case "comment-add":
                    commentAddCallback(payload);
                    break;
                case "review-action":
                    reviewActionCallback(payload);
                    break;
                case "post-edit":
                    postEditCallback(payload);
                    break;
                case "post-deleted":
                    postDeletedCallback(payload);
                    break;
            }
        });
    }

    function subscribeToQuestion(sid, qid) {
        var subscriptionName = sid + '-question-' + qid;
        subscribe(subscriptionName);

        ee.addListener(subscriptionName, function (data) {

            // TODO: does this actually work or is it getting captured?
            if (pauseNotifications) return;

            var payload = $.parseJSON(data);

            // NOTE: some events don't pass the account id, e.g. post-deleted, as this can leak privileged info to all listeners
            if (payload.acctid == StackExchange.options.user.accountId) return;

            log(subscriptionName + ' ' + data);

            switch (payload.a) {
                case "score":
                    postScoreUpdate(payload);
                    break;
                case "comment-add":
                    postCommentAdd(payload);
                    break;
                case "answer-add":
                    postAnswerAdd(payload);
                    break;
                case "accept":
                    postAnswerAccept(payload);
                    break;
                case "unaccept":
                    postAnswerAccept(payload, true);
                    break;
                case "post-edit":
                    postEdit(payload);
                    break;
                case "post-deleted":
                    postDeleted(payload);
                    break;
            }
        });
    }

    function pauseQuestionNotifications(val) {
        pauseNotifications = val;
    }

    /**
     * Informs viewer that a post has been deleted.
     * @param {object} payload - e.g. {"a":"post-deleted","qId":237835,"aId":248567,"acctid":3}
     */
    function postDeleted(payload) {

        var postId = payload.aId || payload.qId,
            isAnswer = !!payload.aId,
            $post = isAnswer ? $('#answer-' + payload.aId) : $('#question');

        // fade out the post and put a notification of deletion on top of it
        $post.css('opacity', 0.1);
        
        var $covering = $('<div class="realtime-post-deleted-notification" />');

        $covering.insertBefore($post);

        var msg = !!StackExchange.options.user['canSeeDeletedPosts']
                ? __tr(["This post has been deleted - click to refresh the page"], undefined, "en", [])
                : __tr(["This post has been deleted and is no longer viewable"], undefined, "en", []);

        var $msg = $('<p>')
                    .text(msg)
                    .appendTo($covering);

        $msg.click(function () {
            window.location.reload(true);
        });

        // clear out any flagging/closure popups, too
        $('.popup[data-postid=' + postId + ']').fadeOutAndRemove();
    }

    function postAnswerAccept(data, unaccept) {
        $('.js-accepted-answer-indicator').each(function () {
            var isAccepted = !unaccept && $(this).closest('.js-voting-container').data('post-id') === data.answerid;
            $(this).toggleClass('d-none', !isAccepted);
        });
    }

    function postCommentAdd(data) {
        // this one will issue a get since comments are rendered based on user

        if ($('#comment-' + data.commentid).length != 0) return;

        StackExchange.comments.realtimeMessage(data.id);
    }

    function subscribeDirectlyToQuestions(sid, channel, test, callback) {
        var subscriptionName = sid + '-' + channel;

        subscribe(subscriptionName);

        ee.addListener(subscriptionName, function (data) {
            log('received (active) on ' + subscriptionName);
            var post = $.parseJSON(data);

            if (test && !test(post)) { return; }
            activeQuestionsUpdate(post, channel);
            if (callback) { callback(post); }
        });
    }

    function subscribeToActiveQuestions(sid, channel, noHighlightTags, requiredTags, formatDateShort, callback) {
        suppressedTagHighlights = noHighlightTags;
        formatShortDates = formatDateShort;

        subscribeDirectlyToQuestions(sid, channel, function (post) {

            // must contain the required tags
            if (requiredTags) {
                for (var i = 0; i < requiredTags.length; i++) {
                    if ($.inArray(requiredTags[i], post.tags) == -1)
                        return false;
                }
            }
            return true;

        }, callback);
    }

    // Splits a query into a group of queries based on "or" tags.
    // e.g. ['a', 'and', 'b', 'or', 'c', 'd'] -> [['a', 'b'], ['c', 'd']]
    function parseTagQuery(tagQuery) {
        var queries = [];
        var currentQuery = [];

        tagQuery.forEach(function (tag) {
            if (tag === 'or') {
                if (currentQuery.length > 0) {
                    queries.push(currentQuery);
                    currentQuery = [];
                }
            } else if (tag.length > 0 && tag !== 'and') {
                currentQuery.push(tag);
            }
        });

        if (currentQuery.length > 0) {
            queries.push(currentQuery);
        }
        return queries;
    }

    function subscribeToUQL(sid, sort, tagQuery, filters, suppressedTags) {

        var matchesFilters = function (post) {
            if (filters.noAnswers && !post.noAnswers) {
                log("ignoring because has answers");
                return false;
            }

            if (filters.hasBounty && !post.hasBounty) {
                log("ignoring because no bounty");
                return false;
            }
            return true;
        };
        var lastNonNegativeTag = function (subquery) {
            for (var i = subquery.length - 1; i >= 0; i--) {
                if (subquery[i][0] !== '-') {
                    return subquery[i];
                }
            }
            return null;
        };

        suppressedTagHighlights = suppressedTags;

        if (tagQuery.length === 0) {
            subscribeDirectlyToQuestions(sid, 'questions-' + sort, false, matchesFilters);
        } else {
            parseTagQuery(tagQuery).forEach(function (subquery) {
                var tag = lastNonNegativeTag(subquery);
                if (tag === null) { return; }

                var channel = 'questions-' + sort + '-tag-' + tag;

                subscribeDirectlyToQuestions(sid, channel, false, function (post) {
                    if (!matchesFilters(post)) { return false; }

                    // Check each tag in the subquery
                    for (var i = 0; i < subquery.length; i++) {
                        var tag = subquery[i];

                        if (tag[0] !== '-') {
                            // If positive, bail if it isn't in the tag.
                            if ($.inArray(tag, post.tags) === -1) {
                                log('ignoring because post does not contain ' + tag + ' in ' + channel);
                                return false;
                            }
                        } else {
                            var negativeTag = tag.substr(1);
                            // If negative, bail if it is in the tag.
                            if ($.inArray(negativeTag, post.tags) !== -1) {
                                log('ignoring because post contains ' + negativeTag + ' in ' + channel);
                                return false;
                            }
                        }
                    }

                    return true;
                });
            });
        }
    }

    function subscribeToCounts(sid) {
        subscribe(sid + '-qcnt-feed');
        ee.addListener(sid + '-qcnt-feed', function (data) {
            $('div#q-cnt').html(data);
        });

        subscribe(sid + '-evc-feed');
        ee.addListener(sid + '-evc-feed', function (data) {
            $('div#evc-cnt').html(data);
        });

        subscribe(sid + '-acnt-feed');
        ee.addListener(sid + '-acnt-feed', function (data) {
            $('div#a-cnt').html(data);
        });
    }

    function subscribeToReviewDashboard(sid) {
        var subscriptionName = sid + '-review-dashboard-update';
        subscribe(subscriptionName);

        ee.addListener(subscriptionName, function (data) {
            var reviewData = $.parseJSON(data);
            var dashboardRow = $('.dashboard-activity[data-review-task="' + reviewData.i + '"]');
            if (dashboardRow.find('.dashboard-user[data-user="' + reviewData.u + '"]').length == 0) {
                dashboardRow.find('.dashboard-user:nth-child(6)').remove();
                dashboardRow.css("overflow", "hidden")
                dashboardRow.children().css({ left: '-44px' });
                dashboardRow.prepend(reviewData.html).children().animate({ left: 0 }, function () { dashboardRow.css("overflow", "visible"); });
            }
        });
    }

    function subscribeToTopBarNotifications(sid) {
        if (StackExchange.options.user.accountId != null) {
            var subscriptionName = StackExchange.options.user.accountId + '-topbar';
            subscribe(subscriptionName);

            ee.addListener(subscriptionName, function (data) {
                StackExchange.topbar.handleRealtimeMessage(data);
            });
        }
    }

    function subscribeToReputationNotifications(sid) {
        if (StackExchange.options.user.accountId != null) {
            var subscriptionName = sid + '-' + StackExchange.options.user.userId + '-reputation';
            subscribe(subscriptionName);

            ee.addListener(subscriptionName, function (data) {
                updateReputation(data);
            });
        }
    }

    function postScoreUpdate(data) {
        var scoreToUpdate = $('.js-voting-container').filter(function () { return $(this).data('post-id') === data.id }).find('.js-vote-count');

        if (scoreToUpdate.data('value') === data.score) return;

        var normalized = StackExchange.vote.normalizePostScore(data.score);

        scoreToUpdate.data('value', data.score).text(normalized);

        if ($(':animated').length === 0) {
            scoreToUpdate.fadeTo('fast', 0.7)
                .fadeTo('fast', 1);
        }

        if (StackExchange.question.canViewVoteCounts()) {
            StackExchange.vote.bindFetchVoteCounts();
        }
    }

    function updateReputation(data) {

        var reputation = $('#hlinks .reputation-score, .links-container .reputation, .js-header-rep');

        if (reputation.text() == data.score) return;

        if ($(':animated').length == 0) {
            reputation.fadeTo('fast', 0.8)
                .fadeTo('fast', 1);
        }

        reputation.text(data).attr('title', __tr(["your reputation: $reputation$"], {reputation: data}, "en", []));
        reputation.trigger("reputationchange");
    }

    var newAnswerTab = function () {
        var acount = Object.keys(answersToShow).length;

        if (acount == 0) {
            $('.js-new-answer-activity').remove();
        }

        var div = $('<div class="new-answer-activity ta-center bar-sm mb16 js-new-answer-activity">').append($('<a class="d-block py8" href="#">').text(__tr(["$count$ new answer to this question","$count$ new answers to this question"], {count: acount}, "en", ["count"])));
        div.click(function () { StackExchange.realtime.expandAnswers(); });
        div.find('a').click(function (e) { e.stopPropagation(); StackExchange.realtime.expandAnswers(); return false;});
        return div;
    };

    function postAnswerAdd(post) {
        if ($('#answer-' + post.answerid).length != 0) return;

        answersToShow.push(post.answerid);

        if (StackExchange.cardiologist) {
            if (StackExchange.cardiologist.isHeartBeating()) {
                var newAnswers = StackExchange.helpers.DelayedReaction(showNewAnswerNotification, 5000);
                newAnswers.trigger();
            } else {
                showNewAnswerNotification();
            }
            StackExchange.cardiologist.notifiedOfNewAnswer();
        }
    }

    function showNewAnswerNotification() {
        $('.js-new-answer-activity').remove();
        $('#answers-header').prepend(newAnswerTab);
    }

    var reloadPosts = function (postIds, includeComments) {

        var foundPostIds = [];
        var existingPosts = {};

        $(postIds).each(function (_, postId) {

            var $element = $('.question[data-questionid=' + postId + '], .answer[data-answerid=' + postId + ']');

            if ($element.length > 0) {
                foundPostIds.push(+postId);
                existingPosts[+postId] = $element;
            }
        });

        if (foundPostIds.length === 0) {
            return $.Deferred().resolve(existingPosts);
        }

        var url = '/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true&includeComments={includeComments}'.formatUnicorn({
            postIdsSemiColonDelimited: foundPostIds.join(';'),
            includeComments: !!includeComments
        });
        return $.ajax({ type: 'GET', url: url, dataType: 'json' })
            .then(function (json) {
                var $html = $(json.Html);
                var tasks = $html.filter('.question, .answer').map(function () {
                    var $post = $(this);
                    var postId = +($post.data('questionid') || $post.data('answerid') || 0);
                    var $oldPost = existingPosts[postId];
                    return replaceIndividualPostContents($oldPost, $post, postId, includeComments);
                }).get();

                return $.when.apply($, tasks);
            })
            .then(function () {
                return existingPosts;
            });
    };

    var replaceIndividualPostContents = function ($oldPost, $newPost, postId, includeComments) {

        // html sent down is rendering of either ~/Views/Shared/ShowQuestion.cshtml or ~/Views/Shared/ShowAnswer.cshtml
        // note this means several top-level elements, e.g. <div class="question"> ... </div> <div class="question-status"> ... </div>

        var $oldBodyCell = $oldPost.find('.postcell, .answercell'),
            $newBodyCell = $newPost.find('.postcell, .answercell').css({ opacity: 0 }),
            isQuestion = $oldPost.hasClass('question'),
            isOnQuestionPage = $('body').hasClass('question-page'),
            $title = $('h1 a.question-hyperlink'),
            newTitle = $newPost.data('title'),
            hasTitleChanges = isQuestion && isOnQuestionPage && $.trim($title.text()) !== newTitle,
            $commentsList = $oldPost.find('.js-comments-list'),
            animationSpeed = 150;

        // we want to fade out all changing parts at the same time
        var fadeOut = function ($el) {
            return $el.animate({ opacity: 0 }, animationSpeed);
        };

        var fadeIn = function ($el) {
            return $el.animate({ opacity: 1 }, animationSpeed);
        };

        if (window.history && isOnQuestionPage) {
            var documentTitle = hasTitleChanges
                ? __tr(["$pageTitle$ - $siteName$"], {pageTitle: newTitle,siteName: StackExchange.options.site.name}, "en", [])
                : document.title;
            window.history.replaceState(window.history.state, documentTitle, '#' + postId);
        }

        // Fade out elements that will change
        return $.when(
            hasTitleChanges ? fadeOut($title) : true,
            includeComments ? fadeOut($commentsList) : true,
            fadeOut($oldBodyCell)
        ).then(function () {

            // Swap out elements that are changing

            $oldPost.prop('classList', $newPost.prop('classList'));

            if (hasTitleChanges) {
                $title.text(newTitle);
            }

            if (includeComments) {
                StackExchange.comments.replaceAll($oldPost, $newPost.find('.js-comment'));
            }

            $oldBodyCell.replaceWith($newBodyCell);

            styleCode();

            // Fade in elements that changed

            return $.when(
                hasTitleChanges ? fadeIn($title) : true,
                includeComments ? fadeIn($commentsList) : true,
                fadeIn($newBodyCell)
            );
        });
    };

    function postEdit(post) {
        // If there's already a "click to load edits" bar, don't show another one
        var div = $('.question[data-questionid=' + post.id + '], .answer[data-answerid=' + post.id + ']');
        if (div.find('.js-new-post-activity[data-postid=' + post.id + ']').length > 0) return;

        var notificationDiv = $('<div class="new-post-activity bar-sm ta-center mb16 js-new-post-activity" data-postid="' + post.id + '">').append($('<a class="d-block py8" href="#">').text(__tr(["An edit has been made to this post"], undefined, "en", [])));

        // If the Inline Editor is open, don't make the whole div clickable (only the "an edit has been made" part)
        var clickDivShouldReload = div.find('.inline-editor').length === 0;
        var func = function () {
            $('.js-new-post-activity[data-postid=' + post.id + ']').remove();
            if (clickDivShouldReload) {
                div.off('click', func);
            }
            if ($('#review-content').length === 0) {
                reloadPosts([post.id]);
            }
            $(document).trigger('refreshEdit', post.id);
        };
        if (clickDivShouldReload) { div.click(func); }
        notificationDiv.prependTo(div).find('a').click(function (e) {
            e.stopPropagation();
            func();
            return false;
        });
    }

    function expandAnswers() {

        $('#tabs').show();
        $('.js-new-answer-activity').remove();

        var $answersHeader = $('#answers #answers-header'),
            $answersText = $answersHeader.find('.answers-subheader h2'),
            answerCount = parseInt($answersText.text()) + answersToShow.length;

        if (isNaN(answerCount)) {
            answerCount = answersToShow.length;
        }

        $answersText.text(__tr(["$answerCount$ Answer","$answerCount$ Answers"], {answerCount: answerCount}, "en", ["answerCount"]));

        // fetch all posts at once
        $.ajax({
            url: '/posts/ajax-load-realtime/{postIdsSemiColonDelimited}'.formatUnicorn({ postIdsSemiColonDelimited: answersToShow.join(';') })
        }).done(function (data) {
            // we get lots of top-level elements down from the server - wrap so we can better operate on them
            var $answers = $('<div class="dno" />').append(data.Html);

            $answers.insertAfter($answersHeader).fadeIn(400, function () {
                $answers.removeClass("dno"); // now that it is visible, remove the contradictory "dno"
                styleCode();
                StackExchange.vote.init(data.VotesCastJson);

                $answers.find('.answer').each(function () {
                    StackExchange.comments.init({ post: $(this) });
                });
            });
        });

        StackExchange.question.bindSuggestedEditPopupLinks();
        updateRelativeDates();
        answersToShow = [];
    }

    var activeTab = function () {
        var qcount = Object.keys(activeToShow).length;
        updateTitle(qcount);
        var div = $('<div class="js-new-post-activity bg-black-150 bar-sm ta-center my8">').append($('<a class="s-btn d-block" href="#">').text(__tr(["$count$ question with new activity","$count$ questions with new activity"], {count: qcount}, "en", ["count"])));
        div.click(function () { StackExchange.realtime.expandActiveQuestions(); });
        div.find('a').click(function (e) { e.stopPropagation(); StackExchange.realtime.expandActiveQuestions(); return false; });
        return div;
    };

    function activeQuestionsUpdate(post, channel) {
        // don't update if there are matching ignored tags
        if (StackExchange.options.user.accountId != null && StackExchange.tagPreferences.isIgnored(post.tags))
            return;

        // The body will be fetched when we click to actually show them
        activeToShow[post.id] = { id: post.id, fetch: true, index: new Date().getTime(), siteid: post.siteid, channel: channel };

        $('.js-new-post-activity').remove();

        $('#question-mini-list, #questions')
            .prepend(activeTab);

        // tag-sponsorship fix
        if ($('.tag-sponsorship').length > 0) {
            $('#question-mini-list, #questions').css('margin-top', '0px');
        }
    }

    function sortedActiveQuestions(a, b) {
        if (a.index < b.index)
            return -1;
        if (a.index > b.index)
            return 1;
        return 0;
    }

    function expandActiveQuestions() {
        // copy the { id : question } object to an array for sorting
        var toSort = [];
        for (var active in activeToShow)
            if (activeToShow.hasOwnProperty(active))
                toSort.push(activeToShow[active]);

        if (toSort.length === 0) {
            return;
        }

        // Get only the last 50
        var sortedActiveToShow = toSort.sort(sortedActiveQuestions).slice(0, 50);

        // A single page will only have 1 of the active channels, so use the one from the first entry
        $.post('/posts/ajax-load-realtime-list/', { postIdsSemiColonDelimited: sortedActiveToShow.map(function (i) { return i.id; }).join(';'), channel: sortedActiveToShow[0].channel })
            .done(function (postDictionary) {
                // JavaScript is { "id" = "html", "id2": "html" }
                for (var q = 0; q < sortedActiveToShow.length; q++) {
                    var activeq = sortedActiveToShow[q];
                    activeq.body = postDictionary[activeq.id];
                    if (activeq.body) {
                        $('#question-summary-' + activeq.id).remove();
                        $(activeq.body).prependTo('#question-mini-list, #questions').hide().fadeIn();
                    }
                }

                updateTitle(0);

                // don't update if there are matching ignored tags
                if (StackExchange.options.user.accountId != null) {
                    StackExchange.tagPreferences.applyPrefs(true, suppressedTagHighlights);
                }

                updateRelativeDates();

                $('.js-new-post-activity').remove();
            });

        activeToShow = {};
    }

    function updateTitle(newcount) {
        var newtitle = document.title.replace(/^\(\d*\*?\) /, "");
        if (newcount > 0) {
            newtitle = "(" + newcount + ") " + newtitle;
        }
        // There is a bug in Chrome that causes the tab title not to be updated if it
        // changes at the same time the tab gains focus.
        // That's my interpretation of the behavior, anyway. And since 0.2 seconds
        // later it works, we'll just wait for a moment. Who cares, right?
        window.setTimeout(function () { $(document).attr("title", newtitle); }, 200);
    }

    function disconnectStaleConnection() {
        killed = true;
        StackExchange.notify.show(__tr(["Instant updates have been disabled due to inactivity "], undefined, "en", []) + '<a href=".">' + __tr(["refresh"], undefined, "en", []) + '</a>' + __tr([" to reconnect"], undefined, "en", []), 312);
        socket.dispose();
    }

    function updateRelativeDates() {
        var spans = $('span.relativetime, span.relativetime-clean');

        for (var i = 0; i < spans.length; i++) {
            if (spans[i].title) {
                var date = prettyDate(spans[i].title);
                if (date)
                    spans[i].innerHTML = date;
            }
        }
    }

    function prettyDate(rawTitle) {
        if (!rawTitle) return;

        // Extract the date and time from the front of the string.
        var match = rawTitle.match(/^(\d{4}-\d\d-\d\d) (\d\d:\d\d:\d\dZ)/);
        if (!match) return;

        // firefox requires ISO 8601 formatted dates
        var time = match[1] + "T" + match[2];

        var date = new Date(time),
            diff = (((new Date()).getTime() - date.getTime()) / 1000) + StackExchange.options.serverTimeOffsetSec,
            day_diff = Math.floor(diff / 86400);

        if (isNaN(day_diff) || day_diff < 0 || day_diff >= 31)
            return;

        return day_diff == 0 && (
            diff < 2 && __tr(["just now"], undefined, "en", []) ||
            diff < 60 && (formatShortDates ?
                __tr(["$seconds$s ago","$seconds$s ago"], {seconds: Math.floor(diff)}, "en", ["seconds"]) :
                __tr(["$seconds$ sec ago","$seconds$ secs ago"], {seconds: Math.floor(diff)}, "en", ["seconds"])) ||
            diff < 120 && (formatShortDates ? __tr(["1m ago"], undefined, "en", []) : __tr(["1 min ago"], undefined, "en", [])) ||
            diff < 3600 && (formatShortDates ?
                __tr(["$minutes$m ago","$minutes$m ago"], {minutes: Math.floor(diff / 60)}, "en", ["minutes"]) :
                __tr(["$minutes$ min ago","$minutes$ mins ago"], {minutes: Math.floor(diff / 60)}, "en", ["minutes"])) ||
            diff < 7200 && (formatShortDates ? __tr(["1h ago"], undefined, "en", []) : __tr(["1 hour ago"], undefined, "en", [])) ||
            diff < 86400 && (formatShortDates ?
                __tr(["$hours$h ago","$hours$h ago"], {hours: Math.floor(diff / 3600)}, "en", ["hours"]) :
                __tr(["$hours$ hour ago","$hours$ hours ago"], {hours: Math.floor(diff / 3600)}, "en", ["hours"])));
    }

    return {
        init: init,
        log: log,
        simulate: simulate,
        expandActiveQuestions: expandActiveQuestions,
        expandAnswers: expandAnswers,
        subscribeToActiveQuestions: subscribeToActiveQuestions,
        subscribeToUQL: subscribeToUQL,

        subscribeToQuestion: subscribeToQuestion,
        unsubscribeToQuestion: unsubscribeToQuestion,
        pauseQuestionNotifications: pauseQuestionNotifications,

        subscribeToStagingGroundQuestion: subscribeToStagingGroundQuestion,

        subscribeToReputationNotifications: subscribeToReputationNotifications,
        updateRelativeDates: updateRelativeDates,
        subscribeToReviewDashboard: subscribeToReviewDashboard,
        subscribeToTopBarNotifications: subscribeToTopBarNotifications,
        subscribeToCounts: subscribeToCounts,
        genericSubscribe: genericSubscribe,
        genericUnsubscribe: genericUnsubscribe,

        reloadPosts: reloadPosts,
        debug: debug
        // NOTE helper for repeating realtime frames when testing realtime locally:
        //    Chrome Console> StackExchange.realtime.simulate(/*copy of body from chrome f12 tools > network > WS frame*/);
        // Example for questions/active view:
        // StackExchange.realtime.simulate({action:"4-questions-active",data:'{"id":"3435","siteid":4}'});
    };
})();



/***/ }),

/***/ "./_Scripts/PartialJS/full-common/00_import-js.ts":
/*!********************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/00_import-js.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ "./_Scripts/PartialJS/util.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



// this file is imported first by index.ts,
// so the JS files run before all the typescript files
// require.context is webpack magic. It means "please include this whole folder in the bundle"
(0,_util__WEBPACK_IMPORTED_MODULE_0__.importAll)(__webpack_require__("./_Scripts/LegacyJS/full-common sync (?<%21\\.mod)\\.js$"));
(0,_util__WEBPACK_IMPORTED_MODULE_0__.importAll)(__webpack_require__("./_Scripts/LegacyJS/full-common/controllers sync (?<%21\\.mod)\\.js$"));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/06_MagicPopup.ts":
/*!*********************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/06_MagicPopup.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



// http://www.youtube.com/watch?v=0p_1QSUsbsM
//
// options
//   .selector:     hovering elements matching this selector will trigger the popup
//   .getUrl:       a function that receives a single argument; a dom element. It's the element
//                  that was hovered. Should return the URL from where the popup content is AJAXed in.
//                  If it returns null, no popup will be shown
//   .id:           optional; the HTML element ID of the div in which the HTML will be wrapped
//   .className:    optional; the class names to add to the div in which the HTML will be wrapped
//   .cache:        optional; if true, contents from the same URL will only be loaded once; additional
//                  hovers will display this cached content.
//   .fade:         optional; if true, the popup fades in rather than expanding
//   .unclipped:    optional; if true, the popup will be allowed to overflow its container
//   .dismissDelay: optional; the number of milliseconds to wait before hiding the popup on mouse leave;
//                  defaults to 5ms
//   .renderInline: optional; if true, the popup will be added as a sibling to the triggering element in the DOM instead of adding it to the document body.
//                  This is useful for allowing keyboard navigation into the popup from the triggering element.
//                  defaults to true
//
// The following three functions (showing, shown, removed) get two arguments passed in:
// The original element, and a jQuery object containing the the menu element.
// In showing(), the menu will be in the top left of the page (IOW, calling .offset() on any child returns the child's
// position relative to the popup), so you can measure before returning the actual to-be-used position. In
// shown(), the menu is in its final position. In removed(), it's not attached to the DOM anymore.
///
//   .showing:   a function that will be called before the popup will be animated in. Should return
//               an object { left: pageX, top: pageY, additional: elements } saying where the popup should be shown,
//               and what additional dom elements (if any) should be considered part of the popup with regard to hovering.
//               Instead of `top`, you can pass `bottom` (with the obvious consequences)
//   .shown:     optional; a function that will be called when the popup is fully visible
//   .removed:   optional; a function that will be called when the popup has been removed. Guaranteed to be called between
//               two calls to showing()
StackExchange.helpers.MagicPopup = function MagicPopup(options) {
    var cancel, current, canceller, cancelled, cache = {};
    function appearMagically(element, html) {
        // don't show the popup if the target element has been removed from the DOM
        // https://stackoverflow.com/questions/3086068/how-do-i-check-whether-a-jquery-element-is-in-the-dom
        if (!$.contains(document.documentElement, element))
            return;
        if (options.predicate && !options.predicate(element))
            return;
        var jMenu = $("<div />").attr('id', options.id).addClass(options.className).html(html);
        var $lightbox = $('.lightbox, .lightbox-panel');
        var baselineZ = $lightbox.length > 0 ? +$lightbox.css('z-index') : 1000; // See https://meta.stackexchange.com/q/129465 and https://meta.stackoverflow.com/q/371275
        var jWrapper = $("<div />").css({
            position: "absolute",
            'z-index': baselineZ + 2,
            width: 1, height: 1,
            top: 0, left: 0
        });
        if (!options.unclipped) {
            jWrapper.css({ overflow: "hidden" });
        }
        if (options.renderInline || !options.hasOwnProperty('renderInline')) {
            //Ideally, all callers should switch to inline rendering for accessibility support (i.e. keyboard navigation)
            jWrapper.append(jMenu).insertAfter(element);
        }
        else {
            jWrapper.append(jMenu).appendTo("body");
        }
        // Unable to import MathJax. See:https://stackoverflow.com/a/71090542
        if (window.MathJax) {
            window.MathJax.Hub.Typeset(jMenu[0]);
        }
        var data = options.showing(element, jMenu);
        if (data) {
            var position = { left: data.left };
            if (data.hasOwnProperty("bottom")) {
                position.bottom = data.bottom;
                position.top = "auto";
            }
            else {
                position.top = data.top || 0;
            }
            var callback;
            if (options.shown) {
                callback = function () { options.shown(element, jMenu); };
            }
            jWrapper.css(position);
            var size = { height: jMenu.outerHeight() + 8, width: jMenu.outerWidth() + 8 };
            if (options.fade) {
                jWrapper.css(size).css('display', 'none').fadeIn(300, callback);
            }
            else {
                jWrapper.animate(size, 300, callback);
            }
            //make dismissable via 'esc'
            jWrapper.addClass("esc-remove magic-popup").on("popupClosing", e => {
                // preventDefault() tells the ESC handling code in bind_hidePopupsOnEscPressOrBgClick
                // that we'll remove it ourselves
                e.preventDefault();
                closePopup();
            });
        }
        cancel = function () {
            jWrapper.stop().remove();
            if (options.removed) {
                options.removed(element, jMenu);
            }
            canceller = null;
            cancel = null;
        };
        canceller = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.DelayedReaction)(cancel, options.dismissDelay || 5);
        var hoverElements = jWrapper;
        if (data && data.additional)
            hoverElements = hoverElements.add(...data.additional);
        //make sure we don't close the popup if the user moves their mouse over it
        //and make sure we close the popup if they hover out of the popup.
        hoverElements.hover(canceller.cancel, canceller.trigger);
        //do the same for keyboard navigation
        hoverElements.focusin(canceller.cancel);
        hoverElements.focusout(canceller.trigger);
    }
    var showDelayed = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.DelayedReaction)(function (url, element) {
        if (cancelled || !url)
            return;
        var def;
        if (options.cache && ("c_" + url in cache)) {
            def = $.Deferred().resolve(cache["c_" + url]);
        }
        else {
            def = $.ajax({
                type: 'GET',
                url: url,
                dataType: 'html'
            });
            if (options.cache)
                def.done(function (result) { cache["c_" + url] = result; });
        }
        def.done(function (result) {
            if (cancel)
                cancel();
            if (result == "")
                return;
            appearMagically(element, result);
        });
    }, 500);
    var openPopup = function () {
        if (canceller && this === current) {
            canceller.cancel();
            return;
        }
        current = this;
        showDelayed.trigger(options.getUrl(this), this);
        cancelled = false;
        return false;
    };
    var closePopup = function () {
        cancelled = true;
        showDelayed.cancel();
        if (canceller) {
            canceller.trigger();
        }
    };
    $(document).delegate(options.selector, {
        //handle mouse hover
        mouseenter: openPopup,
        mouseleave: closePopup,
        //handle keyboard navigation
        focusin: openPopup,
        focusout: closePopup
    });
};


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/38_MoreHotNetworkQuestions.ts":
/*!**********************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/38_MoreHotNetworkQuestions.ts ***!
  \**********************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
StackExchange.bindShowMoreHotNetworkQuestions = function () {
    let $hnq = $('#hot-network-questions');
    let $more = $hnq.find('.js-show-more');
    let $hidden = $hnq.find('.js-hidden');
    // nothing to do
    if (!$hnq.length || !$more.length || !$hidden.length) {
        return;
    }
    let mHeight = $('#mainbar').height();
    let sHeight = $('#sidebar').height() + 550; // allowance for optional ads in the sidebar
    // figure out how tall these links are
    $hidden.attr('style', 'visibility:hidden').removeClass('dno');
    let totalHeightHidden = 0;
    let hiddenHeights = [];
    $hidden.each((_, e) => {
        let h = $(e).height();
        hiddenHeights.push(h);
        totalHeightHidden += h;
    });
    let sHeightIfAllVisible = sHeight + totalHeightHidden;
    // everything fits!
    if (mHeight >= sHeightIfAllVisible) {
        // remove the more link
        $more.remove();
        // make everything actually visible
        $hidden.attr('style', '').show();
        return;
    }
    // determine what needs to be left hidden
    let makeVisible = [];
    let newSidebarHeight = sHeight;
    $hidden.each((i, e) => {
        let $e = $(e);
        let h = hiddenHeights[i];
        if (newSidebarHeight + h <= mHeight) {
            makeVisible.push($e);
            newSidebarHeight += h;
        }
    });
    // do all the updates at once, so we only thrash a little bit
    // re-hide everything
    $hidden.attr('style', '').addClass('dno');
    // show the ones we want to make visible now
    makeVisible.forEach(e => e.show());
    // bind the show more link
    $more.click(() => {
        $hidden.show();
        $more.remove();
        return false;
    });
};


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/46_ExternalEditor.ts":
/*!*************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/46_ExternalEditor.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _LegacyJS_constants_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LegacyJS/constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



StackExchange.mockups = (function () {
    return { init: init };
    function init() {
        StackExchange.externalEditor.init({
            thingName: "mockup",
            getIframeUrl: function (oldImage) {
                let result = "/plugins/mockups/editor";
                if (oldImage)
                    result += "?edit=" + encodeURIComponent(oldImage);
                return result;
            },
            buttonTooltip: "UI wireframe",
            onShow: function (editorClosed) {
                window.addMockupToEditor = editorClosed;
            },
            onRemove: function () {
                window.addMockupToEditor = null;
            }
        });
    }
})();
StackExchange.schematics = (function () {
    ;
    return { init: init };
    function supportConfidence() {
        if (!window.postMessage)
            return 0 /* ConfidenceResult.NO */;
        // SVG check from Modernizer, https://github.com/Modernizr/Modernizr/blob/master/feature-detects/svg/inline.js
        const div = document.createElement('div');
        div.innerHTML = '<svg/>';
        const svgSupport = (div.firstChild && div.firstChild.namespaceURI) === 'http://www.w3.org/2000/svg';
        if (!svgSupport)
            return 0 /* ConfidenceResult.NO */;
        const UA = navigator.userAgent;
        if (/Firefox|Chrome/.test(UA))
            return 3 /* ConfidenceResult.YES */;
        if (/Apple/.test(navigator.vendor) || /Opera/.test(UA))
            return 2 /* ConfidenceResult.PROBABLY */;
        return 1 /* ConfidenceResult.MAYBE */;
    }
    function init() {
        let messageHandler;
        StackExchange.externalEditor.init({
            thingName: "schematic",
            getIframeUrl: function (oldImage) {
                let result = "/plugins/schematics/editor";
                if (oldImage)
                    result += "?edit=" + encodeURIComponent(oldImage);
                return result;
            },
            buttonTooltip: "Schematic",
            checkSupport: function () {
                const confidenceLevel = supportConfidence();
                switch (confidenceLevel) {
                    case 3 /* ConfidenceResult.YES */: return true;
                    case 2 /* ConfidenceResult.PROBABLY */: return confirm("Your browser is not officially supported by the schematics editor; however it has been reported to work. Launch the editor?");
                    case 1 /* ConfidenceResult.MAYBE */: return confirm("Your browser is not officially supported by the schematics editor; it may or may not work. Launch the editor anyway?");
                    default:
                    case 0 /* ConfidenceResult.NO */:
                        alert("Sorry, your browser does not support all the necessary features for the schematics editor.");
                        return false;
                }
            },
            onShow: function (editorClosed) {
                const loadingPopup = $("<div class='popup'>").css("z-index", 1111).text("Loading editor").appendTo("body").show().addSpinner({ marginLeft: 5 }).center({ dy: -200 });
                $("<div style='text-align:right;margin-top: 10px'>").append($("<button>cancel</button>").click(function () { loadingPopup.remove(); editorClosed(); })).appendTo(loadingPopup);
                messageHandler = function (evt) {
                    evt = evt.originalEvent;
                    if (evt.origin !== "https://www.circuitlab.com")
                        return;
                    if (!evt.data)
                        editorClosed(); // editor sends an empty message when the user cancels
                    const data = $.parseJSON(evt.data);
                    if (data && data.load === "success") {
                        loadingPopup.remove();
                        return;
                    }
                    if (!data || !(data.edit_url && data.image_url)) {
                        return; // whatever this message was, it was not for use
                    }
                    else {
                        data.fkey = StackExchange.options.user.fkey;
                        const popup = $("<div class='popup'>").css("z-index", 1111).appendTo("body").show();
                        const save = function () {
                            popup.text("Storing image").addSpinner({ marginLeft: 5 }).center();
                            $.post("/plugins/schematics/save", data).done(function (response) {
                                popup.remove();
                                editorClosed(response.img);
                            }).fail(function (response) {
                                if (response.status === 409) {
                                    let msg = "Storing aborted";
                                    if (response.responseText.length < 200)
                                        msg = response.responseText;
                                    popup.text(msg + ", will retry shortly").addSpinner({ marginLeft: 5 }).center();
                                    setTimeout(save, 10000);
                                }
                                else {
                                    popup.remove();
                                    alert("Failed to upload the schematic image.");
                                }
                            });
                        };
                        save();
                    }
                };
                $(window).on("message", messageHandler);
            },
            onRemove: function () {
                $(window).off("message", messageHandler);
            }
        });
    }
})();
StackExchange.externalEditor = (function () {
    return {
        init: init
    };
    // there's a lot of commonality between "things", so this will helpfully just look for the common HTML comment
    //   if just a string is passed - otherwise it'll just return the provide function
    function makeThingFinder(nameOrFunc) {
        if (typeof nameOrFunc === "function") {
            return nameOrFunc;
        }
        // from: https://stackoverflow.com/a/6969486/80572
        const cleanName = nameOrFunc.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        const regex = "<!-- Begin " + cleanName + "[^>]*? -->\\s*!\\[[^\\]]*\\]\\((https?://[^ )]+)[^)]*\\)\\s*<!-- End " + cleanName + " -->";
        return function thingFinder(markdown, textareaContent, sentinel, thingName, things) {
            return markdown.replace(new RegExp(regex, "g"), function (wholematch, thingPayload, offset) {
                const thing = {
                    payload: thingPayload.replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]/g, ""),
                    pos: findThing(wholematch, textareaContent, offset),
                    len: wholematch.length
                };
                if (thing.pos === -1) { // this would be very weird -- probably a preConversion plugin that changed the relevant content
                    return wholematch;
                }
                things.push(thing);
                return wholematch + "\n\n" + sentinel + thingName + "-" + (things.length - 1) + "%";
            });
            function findThing(needle, haystack, posHint) {
                let found = -1, index = -1;
                while (true) {
                    index = haystack.indexOf(needle, index + 1);
                    if (index === -1)
                        break;
                    // It is entirely possible (though unlikely) that the same thing appears twice. Pick the
                    // one whose position is closer to the position that was passed to the preConversion hook,
                    // that should be a good enough guess except for pathological cases.
                    if (found < 0 || Math.abs(index - posHint) < Math.abs(index - found))
                        found = index;
                }
                return found;
            }
        };
    }
    function init(options) {
        // thingName is used in a regex, in a CSS class, in helptext, etc. In particular it has to be a single word.
        let thingName = options.thingName, thingFinder = makeThingFinder(options.thingFinder || options.thingName), // a function used to find and store the thing in markdown (for editing)
        getIframeUrl = options.getIframeUrl, getDivContent = options.getDivContent, buttonTooltip = options.buttonTooltip, onShow = options.onShow, // called with a editorClosed callback, which should be called with the URL of the new image, or nothing if the editor was cancelled
        onRemove = options.onRemove || function () { }, editLabel = options.editLabel || ("edit the above " + thingName), checkSupport = options.checkSupport; // a function; optional
        StackExchange.MarkdownEditor.creationCallbacks.add(prepareWmd);
        function prepareWmd(editor, postfix) {
            $('<style type="text/css"> .wmd-' + thingName + '-button span { background-position: 0 0; } .wmd-' + thingName + '-button:hover span { background-position: 0 -40px; }</style>)')
                .appendTo("head");
            let sentinel, things, ieSelection, hooks = editor.getConverter().hooks, jTextArea = $("#wmd-input" + postfix);
            // Update cursor so start and end are same when selected text is deleted.
            // This prevents cursor `removeCount` miscalculation in `showEditor()`.
            // see https://meta.stackoverflow.com/questions/350210/snippet-insertion-corrupts-content
            jTextArea.on('keyup', function (e) {
                const key = e.keyCode || e.charCode;
                if (key === 8 || key === 46) {
                    const start = jTextArea.caret().start;
                    jTextArea.caret(start, start);
                }
            });
            hooks.chain("preConversion", function (markdown) {
                const percentCount = (markdown.match(/%/g) || []).length;
                // this may be different from markdown if we're not the first plugin in the preConversion chain
                // see https://electronics.meta.stackexchange.com/q/2988
                const textareaContent = jTextArea.length ? jTextArea[0].value || "" : "";
                // One percent character more than the whole markdown source contains,
                // so we don't have collisions.
                sentinel = new Array(percentCount + 2).join("%");
                things = [];
                return thingFinder(markdown, textareaContent, sentinel, thingName, things);
            });
            hooks.chain("postConversion", function (html) {
                return html.replace(new RegExp(sentinel + thingName + "-(\\d+)%", "g"), function (_, id) {
                    return "<sup><a href='#' class='edit-" + thingName + "' data-id='" + id + "'>" + editLabel + "</a></sup>";
                });
            });
            function showEditor(oldThing) {
                let cursor = ieSelection || jTextArea.caret(), markdown = jTextArea[0].value || "", // note we're not using jQuery's .val() here -- it removes the \r (from IE's \r\n), which causes the selection to point to the wrong part of the string
                lightbox, insertAt = oldThing ? oldThing.pos : cursor.start, removeCount = oldThing ? oldThing.len : cursor.end - cursor.start, preMarkdown = markdown.substring(0, insertAt), postMarkdown = markdown.substring(insertAt + removeCount);
                ieSelection = null;
                let iframeOrDiv = null;
                // This will be called in a zero-timeout, since it's called from within the IFRAME,
                // thus calling it immediately (and hence removing the IFRAME) causes an ugly
                // "request cancelled" in the console.
                function removeEditor() {
                    StackExchange.helpers.closePopups(iframeOrDiv.add(lightbox));
                    onRemove();
                }
                const editorClosed = function (newImageUrl, customRenderCode) {
                    if (!newImageUrl) {
                        setTimeout(removeEditor, 0);
                        jTextArea.focus();
                        return;
                    }
                    StackExchange.navPrevention.start();
                    let thing = customRenderCode === undefined ? makeThingMarkdown(newImageUrl) : customRenderCode, preTrimmed = preMarkdown.replace(/(?:\r\n|\r|\n){1,2}$/, ""), newMarkdown = preTrimmed + thing + postMarkdown.replace(/^(?:\r\n|\r|\n){1,2}/, ""), newCursorPos = cursor.start + thing.length - preMarkdown.length + preTrimmed.length;
                    setTimeout(function () {
                        editor.textOperation(function () {
                            jTextArea.val(newMarkdown).focus().caret(newCursorPos, newCursorPos);
                        });
                        removeEditor();
                    }, 0);
                };
                // URL or Content
                if (getIframeUrl) {
                    const iframeUrl = getIframeUrl(oldThing ? oldThing.payload : null);
                    iframeOrDiv = $('<iframe>', { src: iframeUrl });
                }
                else if (getDivContent) {
                    const divContent = getDivContent(oldThing ? oldThing.payload : null);
                    iframeOrDiv = $(divContent);
                }
                iframeOrDiv.addClass("esc-remove").css({ position: 'fixed', top: '2.5%', left: '2.5%', width: '95%', height: '95%', background: 'white', 'z-index': 1001 });
                $('body').loadPopup({
                    html: iframeOrDiv,
                    target: $('body'),
                    lightbox: true
                }).done(function () {
                    // Allows the resize event for various integrations to fire
                    $(window).resize();
                    onShow(editorClosed);
                });
            }
            const NOTOUCH = "The " + thingName + " editor does not support touch devices.";
            let touched = false;
            $("#wmd-preview" + postfix).on("touchend", function () { touched = true; }).on("click", "a.edit-" + thingName, function (evt) {
                if (touched) {
                    alert(NOTOUCH);
                    touched = false;
                    return false;
                }
                touched = false;
                if (!checkSupport || checkSupport()) {
                    showEditor(things[$(evt.target).attr("data-id")]);
                }
                return false;
            });
            $("#wmd-input" + postfix).keyup(function (evt) {
                if (evt.shiftKey || evt.altKey || evt.metaKey || !evt.ctrlKey || evt.which !== _LegacyJS_constants_mod__WEBPACK_IMPORTED_MODULE_0__.KEY_CODE.M) // Ctrl-M
                    return;
                if (!checkSupport || checkSupport())
                    showEditor();
            });
            // this has to be in nextTick, since the buttons are only created in editor.run(), which is called *after* the creation callbacks
            setTimeout(function () {
                const imageButton = $("#wmd-image-button" + postfix);
                const li = $("<li class='wmd-button wmd-" + thingName + "-button' id='wmd-" + thingName + "-button" + postfix + "' title='" + buttonTooltip + " Ctrl-M'>")
                    .insertAfter(imageButton);
                let touched = false;
                $("<span>").appendTo(li).on("touchend", function () { touched = true; }).click(function () {
                    if (touched) {
                        alert(NOTOUCH);
                        touched = false;
                        return;
                    }
                    touched = false;
                    if (!checkSupport || checkSupport())
                        showEditor();
                });
            }, 0);
        } // end prepareWmd
        function makeThingMarkdown(imageUrl) {
            return ("\n\n<!-- Begin {THING}: In order to preserve an editable {THING}, please\n     don't edit this section directly.\n     Click the \"edit\" link below the image in the preview instead. -->\n\n" +
                "![{THING}](" + imageUrl + ")\n\n<!-- End {THING} -->\n\n").replace(/{THING}/g, thingName);
        }
    } // end init
})();


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/47_SnippetJavascript.ts":
/*!****************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/47_SnippetJavascript.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _stackoverflow_stacks_icons_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackoverflow/stacks-icons/icons */ "./node_modules/@stackoverflow/stacks-icons/dist/icons.js");
/* harmony import */ var _Shared_svg_utils_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Shared/svg-utils.mod */ "./_Scripts/Shared/svg-utils.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});




(function ($, window) {
    if (!StackExchange.settings || !StackExchange.settings.snippets) {
        return;
    }
    let codeHasChanged = false;
    const _renderDomain = StackExchange.settings.snippets.renderDomain;
    let editorInnerHtml = null;
    const loadEditorInnerHtml = function () {
        if (!editorInnerHtml) {
            return $.ajax("/snippets/editor-ui", {
                success: function (data) {
                    editorInnerHtml = data;
                }
            });
        }
        else {
            return $.when();
        }
    };
    function makeDiv(clazz) {
        return $('<div>').addClass(clazz);
    }
    let lastId = 1;
    function nextId() {
        const name = "sif" + lastId;
        lastId++;
        return name;
    }
    function makeIFrame() {
        return $('<iframe>').attr({
            name: nextId(),
            sandbox: "allow-forms allow-modals allow-scripts",
            class: "snippet-box-edit snippet-box-result",
            frameBorder: 0
        });
    }
    function makeCodeblockOverridePre(l) {
        return $('<pre>').addClass("prettyprint-override lang-" + l + " snippet-code-" + l);
    }
    function makeAnchor(text) {
        return $('<a>').text(text);
    }
    function makeTextArea(name, val) {
        return $('<textarea>').attr("name", name).val(val);
    }
    function makeForm(action, method, target) {
        return $('<form>').css("display", "none").attr({
            action: action,
            method: method,
            target: target
        });
    }
    function makeTextInput(name, val) {
        return $('<input>').attr({
            type: "text",
            name: name,
            value: val
        });
    }
    function makeButton() {
        return $('<button type="button" class="s-btn">');
    }
    function makeCode(text) {
        return $('<code>').text(text);
    }
    function makeSnippet($container, options) {
        options = options || {};
        $container.each(function () {
            const elem = $(this);
            // Check if exists
            let snippet = elem.data('_snippet');
            if (!snippet) {
                const isEditor = options.markdownPluginMode;
                snippet = isEditor ? SnippetEditor() : Snippet();
                if (isEditor) {
                    const initEditor = function () {
                        if (!snippet)
                            return;
                        // known type now
                        snippet.setUIInnerHtml(editorInnerHtml);
                        // Generate and append to elem
                        snippet.generate(elem);
                        // Always initially resize
                        snippet.resize();
                        // Resize when the window resizes
                        $(window).resize(function () {
                            if (!snippet)
                                return;
                            snippet.resize();
                        });
                        // Store
                        elem.data('_snippet', snippet);
                        // state
                        if (options.state) {
                            snippet.load(options.state);
                        }
                    };
                    // Lazy load the code mirror stuff
                    StackExchange.using("snippetsJsCodeMirror", function () {
                        // this has to be called in the next tick (even if the code mirror stuff is already loaded)
                        // otherwise we screw up the order in which event handlers are attached and stuff from loadPopup overrides custom ones
                        setTimeout(function () {
                            loadEditorInnerHtml().then(initEditor);
                        }, 1);
                    });
                }
                else {
                    // Generate and append to elem
                    snippet.generate(elem);
                    // Store
                    elem.data('_snippet', snippet);
                    // state
                    if (options.state) {
                        snippet.load(options.state);
                    }
                }
            }
        });
    }
    function SnippetEditor() {
        const _state = {
            html: null,
            css: null,
            js: null,
            console: true,
            hide: false,
            babel: null
        };
        let _snip = null;
        let _jQuerySelect = null;
        let _d3Select = null;
        let _knockoutSelect = null;
        let _angularJSSelect = null;
        let _vueJSSelect = null;
        let _reactJSSelect = null;
        let _reactDomJSSelect = null;
        let _hide = false;
        let _console = true;
        let _babel = null;
        let _boxHtml = null;
        let _boxCss = null;
        let _boxJs = null;
        let _boxResultTemplate = null;
        let _boxResult = null;
        let _codeMirrorHtml = null;
        let _codeMirrorCss = null;
        let _codeMirrorJs = null;
        let _uiInnerHtml = null;
        function setUIInnerHtml(uiInnerHtml) {
            _uiInnerHtml = uiInnerHtml;
        }
        function registerExternalLibChange(select, inclusionCodeOrFn, codeMirrorTarget) {
            const replaceFn = typeof inclusionCodeOrFn === "function"
                ? inclusionCodeOrFn
                : function (version, file) { return inclusionCodeOrFn.replace(/\*version\*/g, version).replace(/\*file\*/g, file); };
            // good ol' bobince: https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript/3561711#3561711
            const libraryMatchPattern = replaceFn("##version##", "##file##")
                .replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&')
                .replace("cdnjs\\.cloudflare\\.com", "(?:cdnjs\\.cloudflare\\.com|ajax\\.googleapis\\.com)") // recognize google CDN paths
                .replace(/##version##/g, "(.*?)").replace(/##file##/g, "(.*?)");
            select.change(function () {
                let version = $(this).val().split(":"), file = version.length > 1 ? version[1] : "";
                version = version[0];
                let current = codeMirrorTarget.getValue();
                // First see if current line exists
                let found = false;
                const selectedVersion = version === "" ? "" : replaceFn(version, file);
                current = current.replace(new RegExp(libraryMatchPattern, "g"), function () {
                    found = true;
                    return selectedVersion;
                });
                current = current.trim();
                // Exists, replace
                if (found) {
                    codeMirrorTarget.setValue(current);
                    return;
                }
                if (version !== "") {
                    // New, add to top
                    codeMirrorTarget.setValue(selectedVersion + "\n" + current);
                    codeMirrorTarget.save();
                }
            });
            let updateTimer;
            codeMirrorTarget.on('change', function () {
                window.clearTimeout(updateTimer);
                updateTimer = window.setTimeout(UpdateSelectedLibrary, 1000);
            });
            function UpdateSelectedLibrary() {
                const current = codeMirrorTarget.getValue();
                const matches = current.match(libraryMatchPattern);
                if (matches && matches.length > 2) {
                    select.val(matches[1] + ":" + matches[2]);
                }
                else {
                    select.val("");
                }
            }
        }
        function generate(target) {
            if (_snip) {
                return _snip;
            }
            _snip = $(_uiInnerHtml);
            //Close button
            $(_snip).find("#snpte-close-button").click(function (e) {
                StackExchange.helpers.closePopups($(this).closest('.snippet-modal'), 'esc'); // same as Esc key handling, we want a confirmation
                e.preventDefault();
                return false;
            });
            //External library selectors
            _jQuerySelect = _snip.find("#snpte-jquery-select");
            _d3Select = _snip.find("#snpte-d3-select");
            _knockoutSelect = _snip.find("#snpte-knockout-select");
            _angularJSSelect = _snip.find("#snpte-angular-select");
            _vueJSSelect = _snip.find("#snpte-vue-select");
            _reactJSSelect = _snip.find("#snpte-react-select");
            _reactDomJSSelect = _snip.find("#snpte-react-dom-select");
            //Show console and hide by default checkboxes
            _hide = _snip.find("#snpte-hide-snippet");
            _console = _snip.find("#snpte-show-console");
            _babel = _snip.find("#snpte-use-babel");
            //Run, Tidy, Insert, Reset buttons
            _snip.find("#snpte-button-run").click(function () {
                run();
            });
            _snip.find("#snpte-button-tidy").click(function () {
                _codeMirrorHtml.beautify();
                _codeMirrorCss.beautify();
                _codeMirrorJs.beautify();
            });
            _snip.find("#snpte-button-insert").click(function () {
                StackExchange.helpers.closePopups($('.snippet-modal')); // triggers popupClose, which saves stuff
            });
            _snip.find("#snpte-button-reset").click(function () {
                clear();
            });
            // Add to target
            target.empty().append(_snip);
            // Code mirror the text areas
            _boxHtml = _snip.find("#snpte-box-edit-html");
            _boxCss = _snip.find("#snpte-box-edit-css");
            _boxJs = _snip.find("#snpte-box-edit-js");
            _boxResult = _snip.find("#snpte-box-edit-result");
            _boxResultTemplate = _boxResult.clone(); // keep a pristine result box around for reseting
            // Make sure indentation shortcuts work as expected
            CodeMirror.commands.insertTab = CodeMirror.commands.insertSoftTab; // we want spaces instead of tabs...
            CodeMirror.keyMap.default["Shift-Tab"] = "indentLess";
            CodeMirror.commands.indentAuto = function (cm) { cm.beautify(); }; // just in case any weird/custom keyboard shortcut ever calls this, make it behave like the tidy button
            function setupCodeMirror(element, mode, beautifier) {
                const cm = CodeMirror.fromTextArea(element, {
                    electricChars: false,
                    smartIndent: false,
                    lineNumbers: true,
                    lineWrapping: true,
                    mode: mode,
                    tabSize: 2,
                    indentWithTabs: false,
                    readOnly: false
                });
                // Wire up change-save to keep textarea in sync
                // this will fire on EVERY KEYSTROKE - that makes typing pretty jerky if there's a lot of text to sync
                // so delay sync until there's a short break in typing
                let codeSyncTimer;
                cm.on('change', function () {
                    codeHasChanged = true;
                    window.clearTimeout(codeSyncTimer);
                    codeSyncTimer = window.setTimeout(function () {
                        cm.save();
                    }, 500);
                });
                cm.beautify = function () {
                    // gotta trim to fix CSS spacing bug
                    cm.setValue(beautifier(cm.getValue().trim(), {
                        'indent_size': cm.options.tabSize,
                        'indent_char': ' ',
                        'unformatted': [
                            // js-beautify doesn't format select tags by default. https://github.com/beautify-web/js-beautify/issues/1097
                            'a', 'abbr', 'area', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas', 'cite',
                            'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',
                            'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'math', 'meter', 'noscript',
                            'object', 'output', 'progress', 'q', 'ruby', 's', 'samp', 'small',
                            'span', 'strong', 'sub', 'sup', 'svg', 'template', 'textarea', 'time', 'u', 'var',
                            'video', 'wbr', 'text', 'acronym', 'address', 'big', 'dt', 'ins', 'strike', 'tt',
                        ],
                    }));
                };
                return cm;
            }
            function makeScriptTag(libName) {
                return '<script src="https://cdnjs.cloudflare.com/ajax/libs/' + libName + '/*version*/*file*"></script>';
            }
            _codeMirrorHtml = setupCodeMirror(_boxHtml[0], "htmlmixed", html_beautify);
            _codeMirrorCss = setupCodeMirror(_boxCss[0], "css", css_beautify);
            _codeMirrorJs = setupCodeMirror(_boxJs[0], "javascript", js_beautify);
            /*********************************
             * BEGIN EXTERNAL LIBRARY INSERTS
             *********************************/
            // jQuery
            registerExternalLibChange(_jQuerySelect, makeScriptTag('jquery'), _codeMirrorHtml);
            // d3
            registerExternalLibChange(_d3Select, makeScriptTag('d3'), _codeMirrorHtml);
            // Knockout
            registerExternalLibChange(_knockoutSelect, makeScriptTag('knockout'), _codeMirrorHtml);
            // AngularJS
            registerExternalLibChange(_angularJSSelect, makeScriptTag('angular.js'), _codeMirrorHtml);
            // VueJS
            registerExternalLibChange(_vueJSSelect, makeScriptTag('vue'), _codeMirrorHtml);
            // ReactJS
            registerExternalLibChange(_reactJSSelect, function (version, file) {
                const domVer = (_reactDomJSSelect.find("option[value^='" + version + "']").attr("value") || "").split(":");
                const domFile = domVer[1] || file;
                return '<script src="https://cdnjs.cloudflare.com/ajax/libs/react/' + version + '/' + file + '"></script>\n' +
                    '<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/' + version + '/' + domFile + '"></script>';
            }, _codeMirrorHtml);
            // External Library
            _snip.find("#snpte-button-extlib").click(function () {
                const url = prompt(__tr(["Please enter the URL of an external JS or CSS file"], undefined, "en", []));
                if (url == null || url == "" || url.trim() == "") {
                    return;
                }
                const current = _codeMirrorHtml.getValue();
                if (validate(url, ".css")) {
                    const link = '<link href="' + url + '" rel="stylesheet"/>';
                    _codeMirrorHtml.setValue(link + "\n" + current);
                }
                else if (validate(url, ".js")) {
                    const link = '<script src="' + url + '"></script>';
                    _codeMirrorHtml.setValue(link + "\n" + current);
                }
                else {
                    alert(__tr(["Sorry, but that resource is invalid. Resources must begin with http:// or https:// and allowed extensions are: .css, .js"], undefined, "en", []));
                }
                function validate(fileName, extension) {
                    if (fileName.length < extension.length) {
                        return false;
                    }
                    fileName = fileName.toLowerCase();
                    if (fileName.indexOf("https://") != 0 && fileName.indexOf("http://") != 0 && fileName.indexOf("//") != 0) {
                        return false;
                    }
                    if (fileName.substr(fileName.length - extension.length, extension.length).toLowerCase() == extension.toLowerCase()) {
                        return true;
                    }
                    return false;
                }
            });
            /*********************************
             * END EXTERNAL LIBRARY INSERTS
             *********************************/
            // Focus and blur effects
            $.each([_codeMirrorHtml, _codeMirrorCss, _codeMirrorJs], function (_, item) {
                item.on("focus", function () { $(item.getInputField()).parent().parent().parent().children(".js-name").hide(); });
                item.on("blur", function () { $(item.getInputField()).parent().parent().parent().children(".js-name").show(); });
            });
        }
        function run() {
            // Sync boxes
            save();
            // Using sandboxed iframe
            writeResult();
        }
        function load(state) {
            // Update displays
            const html = state.html;
            const css = state.css;
            const js = state.js;
            const console = state.console;
            const hide = state.hide;
            const babel = state.babel;
            if (html != null) {
                _state.html = html;
                _boxHtml.val(html);
            }
            if (css != null) {
                _state.css = css;
                _boxCss.val(css);
            }
            if (js != null) {
                _state.js = js;
                _boxJs.val(js);
            }
            if (console != null) {
                _state.console = console;
                if (console === false) {
                    _console.prop("checked", console);
                }
            }
            if (hide) {
                _state.hide = hide;
                _hide.prop("checked", true);
            }
            if (babel) {
                _state.babel = babel;
                _babel.prop("checked", true);
            }
            // Update code mirrors
            _codeMirrorHtml.setValue(html);
            _codeMirrorCss.setValue(css);
            _codeMirrorJs.setValue(js);
            codeHasChanged = false;
        }
        function clear() {
            _boxHtml.val('');
            _boxCss.val('');
            _boxJs.val('');
            _jQuerySelect.val('');
            _d3Select.val('');
            _knockoutSelect.val('');
            _angularJSSelect.val('');
            _vueJSSelect.val('');
            _reactJSSelect.val('');
            _console.prop("checked", true);
            _hide.prop("checked", false);
            _babel.prop("checked", false);
            // Clear the iframe
            let prepend = "";
            if (_renderDomain) {
                prepend = "//" + _renderDomain;
            }
            resetBoxResult();
            const action = prepend + "/js";
            const form = makeForm(action, "GET", _boxResult.attr("name"))
                .appendTo('body');
            form.submit();
            // Clear
            _codeMirrorHtml.setValue('');
            _codeMirrorCss.setValue('');
            _codeMirrorJs.setValue('');
        }
        function save() {
            _state.html = _boxHtml.val();
            _state.css = _boxCss.val();
            _state.js = _boxJs.val();
            _state.console = _console.prop("checked");
            _state.hide = _hide.prop("checked");
            _state.babel = _babel.prop("checked");
            return _state;
        }
        function writeResult() {
            const css = _state.css;
            const js = _state.js;
            const html = _state.html;
            const console = _state.console;
            const babel = _state.babel;
            if (css == '' && js == '' && html == '') {
                return;
            }
            let prepend = "";
            if (_renderDomain) {
                prepend = "//" + _renderDomain;
            }
            // we need a fresh iframe each time
            resetBoxResult();
            const action = prepend + "/js";
            const form = makeForm(action, "POST", _boxResult.attr("name"));
            makeTextArea("js", js).appendTo(form);
            makeTextArea("css", css).appendTo(form);
            makeTextArea("html", html).appendTo(form);
            makeTextInput("console", "" + (console === true)).appendTo(form);
            makeTextInput("babel", "" + (babel === true)).appendTo(form);
            form.appendTo('body');
            form.submit().remove();
        }
        function resetBoxResult() {
            if (!_boxResultTemplate) {
                throw "No template available for result destination";
            }
            if (!_boxResult) {
                throw "Cannot insert new result destination";
            }
            const $newBoxResult = _boxResultTemplate.clone();
            _boxResult.replaceWith($newBoxResult);
            _boxResult = $newBoxResult;
        }
        function resize() {
            const valueOfCodeHasChanged = codeHasChanged;
            _codeMirrorHtml.refresh();
            _codeMirrorCss.refresh();
            _codeMirrorJs.refresh();
            codeHasChanged = valueOfCodeHasChanged;
        }
        return {
            setUIInnerHtml: setUIInnerHtml,
            resize: resize,
            writeResult: writeResult,
            save: save,
            clear: clear,
            load: load,
            run: run,
            generate: generate,
            registerExternalLibChange: registerExternalLibChange
        };
    }
    function Snippet() {
        const _state = {
            html: null,
            css: null,
            js: null,
            console: false,
            hide: false,
            babel: null
        };
        let _snip = null;
        let _results = null;
        let _boxResult = null;
        let _expandedSnippet = null;
        function generate(target) {
            let buttonExpand = null;
            if (_snip) {
                return _snip;
            }
            _expandedSnippet = null;
            _boxResult = makeIFrame();
            _snip = true;
            // Add run, hidden, copy results to target
            const buttonRun = makeButton().addClass('s-btn__filled').append((0,_Shared_svg_utils_mod__WEBPACK_IMPORTED_MODULE_0__.createSvgElement)(_stackoverflow_stacks_icons_icons__WEBPACK_IMPORTED_MODULE_1__.IconPlay), $('<span>').text(" " + __tr(["Run code snippet"], undefined, "en", []))).click(function () {
                run();
                buttonExpand.hide();
            });
            const buttonHide = makeButton().addClass('hideResults').text(__tr(["Hide results"], undefined, "en", [])).click(function () {
                hide();
                buttonExpand.show();
            });
            buttonHide.hide();
            buttonExpand = makeDiv("popout-code").append(makeAnchor(__tr(["Expand snippet"], undefined, "en", [])).addClass("snippet-expand-link"))
                .click(function () {
                const expandedSnippet = _expandedSnippet;
                if (expandedSnippet) {
                    const snippetContainer = expandedSnippet.element;
                    snippetContainer.removeClass("expanded-snippet");
                    snippetContainer.find(".snippet-expand-link").text(__tr(["Expand snippet"], undefined, "en", []));
                    snippetContainer.find(".snippet-show-link, .snippet-show-link-chevron").show();
                    const expandedSnippetParent = expandedSnippet.parent;
                    const expandedSnippetParentChildren = expandedSnippetParent.children();
                    if (expandedSnippetParentChildren.length) {
                        $(expandedSnippetParentChildren[expandedSnippet.indexWithinParent])
                            .before(snippetContainer);
                    }
                    else {
                        $(expandedSnippetParent).append(snippetContainer);
                    }
                    _expandedSnippet = null;
                    $(".topbar, .container, .js-top-bar, #footer").show();
                    buttonCopy.show();
                    $(window).scrollTop(pageOffset);
                }
                else {
                    pageOffset = $(window).scrollTop();
                    const snippetContainer = $(this).closest(".snippet");
                    _expandedSnippet = {
                        element: snippetContainer,
                        indexWithinParent: snippetContainer.index(),
                        parent: snippetContainer.parent()
                    };
                    snippetContainer.addClass("expanded-snippet");
                    snippetContainer.find(".snippet-expand-link").text(__tr(["Return to post"], undefined, "en", []));
                    snippetContainer.find(".snippet-show-link, .snippet-show-link-chevron").hide();
                    $(".topbar, .container, .js-top-bar, #footer").hide();
                    $("body").append(snippetContainer);
                    buttonCopy.hide();
                }
            });
            const buttonCopy = $('<input class="copySnippet s-btn s-btn__outlined" type="button">').click(function () {
                // Click the "Add Another Answer" or "Answer Your Own Question" button
                const showEditorButton = $("#show-editor-button");
                const markdownTextarea = $("#post-editor").find("textarea.wmd-input");
                if (showEditorButton.is(":visible")) {
                    const showEditorButtonTop = showEditorButton.offset().top;
                    $("html").animate({ scrollTop: showEditorButtonTop - 60 });
                    $("body").animate({ scrollTop: showEditorButtonTop - 60 }, {
                        complete: function () {
                            showEditorButton.children("input").click();
                        }
                    });
                }
                else {
                    // Scroll to editor
                    const editorTop = markdownTextarea.offset().top;
                    $("html, body").animate({ scrollTop: editorTop - 60 });
                }
                const markdown = markdownGenerator(_state);
                markdownTextarea.val(markdownTextarea.val() + "\n\n" + markdown);
                // Refresh preview with new code
                StackExchange.MarkdownEditor.refreshAllPreviews();
            });
            buttonCopy.val(__tr(["Copy snippet to answer"], undefined, "en", []));
            const runDiv = makeDiv("snippet-ctas").append(buttonRun, buttonCopy, buttonHide);
            runDiv.append(buttonExpand);
            _results = makeDiv("snippet-result-code")
                .append(_boxResult)
                .hide();
            const resultsWrapperDiv = makeDiv("snippet-result").append(runDiv, _results);
            target.append(resultsWrapperDiv);
            return _snip;
        }
        function run() {
            // always start fresh
            if (_boxResult) {
                _boxResult.remove();
            }
            _boxResult = makeIFrame();
            _results.append(_boxResult);
            if (_boxResult.parent().is(":hidden")) {
                _boxResult.closest(".snippet-result").find(".hideResults").css("display", "");
                _boxResult.parent().slideDown(200, function () {
                    if (_expandedSnippet)
                        return;
                    const popout = makeDiv("popout").append(makeAnchor(__tr(["Full page"], undefined, "en", [])));
                    const popin = makeDiv("popin").append(makeAnchor(__tr(["Close"], undefined, "en", []))).hide();
                    popout.click(function () {
                        _boxResult.data("_style", _boxResult.attr("style"));
                        _boxResult.css({ position: "fixed", top: 0, left: 0, width: "100%", height: "100%", "background-color": "#FFFFFF", "z-index": 9000 });
                        _boxResult.parent().css("position", "");
                        $(this).hide();
                        popin.show();
                        $("body").css("overflow", "hidden");
                    });
                    popin.click(function () {
                        _boxResult.removeAttr("style");
                        _boxResult.attr("style", _boxResult.data("_style"));
                        _boxResult.parent().css("position", "relative");
                        $(this).hide();
                        popout.show();
                        $("body").css("overflow", "");
                    });
                    $(this).append(popout, popin);
                });
            }
            // Using sandboxed iframe
            writeResult();
        }
        function hide() {
            const boxResultParent = _boxResult.parent();
            if (boxResultParent.is(":visible")) {
                _boxResult.closest(".snippet-result").find(".hideResults").hide();
                boxResultParent.children(".popout, .popin").remove();
                boxResultParent.slideUp(200, function () {
                    $(this).hide();
                    // Delete it
                    _boxResult.remove();
                    _boxResult = null;
                });
            }
        }
        function load(state) {
            const css = state.css;
            const js = state.js;
            const html = state.html;
            const console = state.console;
            const hide = state.hide;
            const babel = state.babel;
            if (css != null) {
                _state.css = css;
            }
            if (js != null) {
                _state.js = js;
            }
            if (html != null) {
                _state.html = html;
            }
            if (console) {
                _state.console = console;
            }
            if (hide) {
                _state.hide = hide;
            }
            if (babel) {
                _state.babel = babel;
            }
        }
        function writeResult() {
            const css = _state.css;
            const js = _state.js;
            const html = _state.html;
            const console = _state.console;
            const babel = _state.babel;
            if (css == '' && js == '' && html == '') {
                return;
            }
            var prepend = "";
            if (_renderDomain) {
                prepend = "//" + _renderDomain;
            }
            const action = prepend + "/js";
            const form = makeForm(action, "POST", _boxResult.attr("name")).append(makeTextArea("js", js), makeTextArea("css", css), makeTextArea("html", html), makeTextInput("console", "" + (console === true)), makeTextInput("babel", "" + (babel === true)));
            form.appendTo('body').submit().remove();
        }
        function resize() {
        }
        return {
            resize: resize,
            writeResult: writeResult,
            load: load,
            hide: hide,
            run: run,
            generate: generate
        };
    }
    /**************************************
     ** BEGIN MARKDOWN CODE              **
     **************************************/
    function indent(str, numOfIndents, spacesPerIndent) {
        return str.replace(/^(?=.)/gm, new Array((numOfIndents * spacesPerIndent) + 1).join(' '));
    }
    function markdownGenerator(state) {
        let result = "\n\n<!-- begin snippet: js" +
            " hide: " + state.hide +
            " console: " + state.console +
            " babel: " + state.babel +
            " -->\n\n";
        const js = state.js;
        const css = state.css;
        const html = state.html;
        if (js != '') {
            result += "<!-- language: lang-js -->\n\n\
" + indent(js, 1, 4) + "\n\n";
        }
        if (css != '') {
            result += "<!-- language: lang-css -->\n\n\
" + indent(css, 1, 4) + "\n\n";
        }
        if (html != '') {
            result += "<!-- language: lang-html -->\n\n\
" + indent(html, 1, 4) + "\n\n";
        }
        result += "<!-- end snippet -->\n\n";
        return result;
    }
    function stateGenerator(snippetCode, hide, console, babel) {
        // Get the snippet code
        const jsRegex = /<!--\s+language:\s*lang-js\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;
        const cssRegex = /<!--\s+language:\s*lang-css\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;
        const htmlRegex = /<!--\s+language:\s*lang-html\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;
        try {
            const jsResult = jsRegex.exec(snippetCode);
            const cssResult = cssRegex.exec(snippetCode);
            const htmlResult = htmlRegex.exec(snippetCode);
            let js = '', css = '', html = '';
            // Trim <pre> block markdown indentation and leading/trailing white space
            if (jsResult) {
                js = jsResult[1].trim().replace(/^    /gm, "");
            }
            if (cssResult) {
                css = cssResult[1].trim().replace(/^    /gm, "");
            }
            if (htmlResult) {
                html = htmlResult[1].trim().replace(/^    /gm, "");
            }
            // needs to be SOMETHING to render
            if (js == '' && css == '' && html == '') {
                return null;
            }
            const state = {
                js: js,
                css: css,
                html: html,
                console: console,
                hide: hide,
                babel: babel
            };
            return state;
        }
        catch (e) {
            // No state
            return null;
        }
    }
    const _snippetCache = {};
    let pageOffset;
    // This is called by the promise JS system
    StackExchange.snippets = (function () {
        let externalEditorInit = true;
        return {
            init: init,
            initSnippetRenderer: initSnippetRenderer,
            makeSnippets: makeSnippets
        };
        function thingFinder(markdown, textareaContent, sentinel, thingName, things) {
            return markdown.replace(/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi, function (wholematch, hide, console, babel, thingPayload, offset) {
                const thing = {
                    payload: {
                        code: thingPayload,
                        hide: (hide || "").toLowerCase() === "true",
                        console: (console || "").toLowerCase() === "true",
                        babel: (babel || "").toLowerCase() === "true"
                    },
                    pos: findThing(wholematch, textareaContent, offset),
                    len: wholematch.length
                };
                if (thing.pos === -1) { // this would be very weird -- probably a preConversion plugin that changed the relevant content
                    return wholematch;
                }
                things.push(thing);
                return wholematch + "\n\n" + sentinel + thingName + "-" + (things.length - 1) + "%";
            });
            function findThing(needle, haystack, posHint) {
                let found = -1, index = -1;
                while (true) {
                    index = haystack.indexOf(needle, index + 1);
                    if (index == -1)
                        break;
                    // It is entirely possible (though unlikely) that the same thing appears twice. Pick the
                    // one whose position is closer to the position that was passed to the preConversion hook,
                    // that should be a good enough guess except for pathological cases.
                    if (found < 0 || Math.abs(index - posHint) < Math.abs(index - found))
                        found = index;
                }
                return found;
            }
        }
        function init() {
            // init snippet renderer
            initSnippetRenderer();
            // init external editor only if it exists
            const externalEditorsAvailable = window.StackExchange.MarkdownEditor && window.StackExchange.externalEditor;
            if (externalEditorsAvailable && externalEditorInit) {
                externalEditorInit = false;
                StackExchange.externalEditor.init({
                    thingName: "snippet",
                    thingFinder: thingFinder,
                    editLabel: __tr(["edit the above snippet"], undefined, "en", []),
                    getDivContent: function (oldThing) {
                        const state = oldThing ? stateGenerator(oldThing.code, oldThing.hide, oldThing.console, oldThing.babel) : null;
                        var div = makeDiv("modal auto-center snippet-modal");
                        makeSnippet(div, {
                            markdownPluginMode: true,
                            state: state
                        });
                        return div;
                    },
                    buttonTooltip: __tr(["JavaScript/HTML/CSS snippet"], undefined, "en", []),
                    buttonImageUrl: "/Content/Shared/balsamiq/wmd-mockup-button.png",
                    onShow: function (editorClosed) {
                        const snippetPopup = $('.snippet-modal');
                        const save = function (isEscape) {
                            const state = snippetPopup.data('_snippet').save();
                            // Check if we have anything to do
                            if (isEscape || (state.html == '' && state.css == '' && state.js == '')) {
                                editorClosed(null);
                            }
                            else {
                                const result = markdownGenerator(state);
                                editorClosed(result, result);
                            }
                        };
                        snippetPopup.on('popupClosing', function (e) {
                            const isEscape = e.closeTrigger == 'esc';
                            if (isEscape && !codeHasChanged) {
                                return;
                            }
                            if (isEscape && !confirm(__tr(["Are you sure you want to abandon any changes?"], undefined, "en", []))) {
                                // cancel the closing of the suggested edit popup
                                e.preventDefault();
                                return;
                            }
                            save(isEscape);
                        });
                    }
                });
            }
            // Wire into editor creation only if it exists
            if (StackExchange.MarkdownEditor) {
                StackExchange.MarkdownEditor.creationCallbacks.add(function (editor, postfix) {
                    const hooks = editor.getConverter().hooks;
                    hooks.chain("preConversion", makeSnippets);
                    // Triggered by changes to live markdown preview
                    const jPreview = $("#wmd-preview" + postfix);
                    jPreview.on("wmdrefresh", function () {
                        jPreview.find("pre").each(function () {
                            const elem = $(this);
                            const guid = elem.text();
                            if (_snippetCache[guid]) {
                                const div = _snippetCache[guid];
                                // Clean up the cache
                                delete _snippetCache[guid];
                                drawSnippet(div);
                                elem.replaceWith($("<p>").append(div));
                            }
                        });
                    });
                });
            }
        }
    })();
    function makeSnippets(text) {
        let renderer = StackExchange.snippets.renderer;
        if (!renderer) {
            // we have nobody to do the rendering for us
            return text;
        }
        // type guard above changes this value... so a no-op, but it
        // helps TS realize this is safe
        let nonNullRenderer = renderer;
        // IMPORTANT: WE *ONLY* SUPPORT SANDBOXED IFRAMES FOR NOW
        // So, if sandboxing isn't available, don't render the snippet (graceful failover to code/pre display)
        // Most browsers will be just fine: http://caniuse.com/iframe-sandbox
        const sandboxSupported = "sandbox" in document.createElement("iframe");
        if (!sandboxSupported) {
            return text;
        }
        // Looking for snippets
        const snippetRegex = /<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi;
        text = text.replace(snippetRegex, function (_, hide, console, babel, snippetCode) {
            return nonNullRenderer(snippetCode, hide, console, babel);
        });
        return text;
    }
    function initSnippetRenderer() {
        if (StackExchange.snippets.renderer && StackExchange.snippets.redraw) {
            return;
        }
        StackExchange.snippets.redraw = function () {
            $("div.snippet").each(function () {
                const div = $(this);
                // Don't render for downvoted answers
                if (div.closest(".downvoted-answer").length > 0) {
                    // Equivalent of continue
                    return true;
                }
                drawSnippet(div);
            });
        };
        StackExchange.snippets.renderer = function (snippetCode, hide, console, babel) {
            // javascript types are garbage
            hide = hide === true || (hide || "").toLowerCase() === "true";
            console = console === true || (console || "").toLowerCase() === "true";
            babel = babel === true || (babel || "").toLowerCase() === "true";
            const state = stateGenerator(snippetCode, hide, console, babel);
            if (!state) {
                // Nothing to render
                return snippetCode;
            }
            const div = makeDiv("snippet").data({ lang: "js", hide: hide, "console": console });
            const divCode = makeDiv("snippet-code");
            if (hide) {
                divCode.addClass("snippet-currently-hidden");
            }
            div.append(divCode);
            const js = state.js;
            const css = state.css;
            const html = state.html;
            if (js) {
                divCode.append(makeCodeblockOverridePre('js')
                    .append(makeCode(js)));
            }
            if (css) {
                divCode.append(makeCodeblockOverridePre('css')
                    .append(makeCode(css)));
            }
            if (html) {
                divCode.append(makeCodeblockOverridePre('html')
                    .append(makeCode(html)));
            }
            // Assign an ID
            const id = nextId();
            makeSnippet(divCode, {
                state: state
            });
            // Cache
            _snippetCache[id] = div;
            return '<pre>' + id + '</pre>';
        };
        // Do a redraw initially
        StackExchange.snippets.redraw();
    }
    function drawSnippet(div) {
        let divCode = div.find(".snippet-code");
        // Backwards compatability to before we had the snippet-code div
        if (divCode.length == 0) {
            divCode = div;
        }
        const js = divCode.find("pre.snippet-code-js").text();
        const css = divCode.find("pre.snippet-code-css").text();
        const html = divCode.find("pre.snippet-code-html").text();
        const state = {
            js: js,
            css: css,
            html: html,
            console: div.data("console") === true,
            hide: div.data("hide") === true,
            babel: div.data("babel") === true
        };
        makeSnippet(divCode, {
            state: state
        });
        // Only show copy button when logged in and not a preview (not yet attached to DOM) and when the markdown editor is defined
        if (StackExchange.options.user.isAnonymous || div.parent().length == 0 || $("textarea#wmd-input").length == 0 || $('.js-popup-suggested-edit').length) {
            div.find(".copySnippet").hide();
        }
        // Show/hide check
        if (div.data("hide") === true) {
            divCode.hide();
            divCode.addClass("snippet-currently-hidden");
            // Remove old show link always to keep things in sync
            div.find(".snippet-display").remove();
            const divShow = makeDiv("snippet-display").attr("style", "vertical-align: center")
                .append($('<p>')
                .append($('<a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle"></span></a>')));
            divShow.find('span.show-hide').text(__tr(["Show code snippet"], undefined, "en", []));
            divShow.click(function () {
                divCode.toggle();
                const $this = $(this);
                const elem = $this.find(".show-hide");
                if (elem.data("ishidden") === true) {
                    elem.text(__tr(["Hide code snippet"], undefined, "en", []));
                    $this.find(".expander-arrow-hide").removeClass("expander-arrow-hide").addClass("expander-arrow-show");
                    elem.data("ishidden", false);
                }
                else {
                    elem.text(__tr(["Show code snippet"], undefined, "en", []));
                    $this.find(".expander-arrow-show").removeClass("expander-arrow-show").addClass("expander-arrow-hide");
                    elem.data("ishidden", true);
                }
            });
            div.prepend(divShow);
        }
        else {
            divCode.show().removeClass("snippet-currently-hidden");
            div.find(".snippet-display").remove();
        }
    }
})(jQuery, window);


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/48_PostSidebar.ts":
/*!**********************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/48_PostSidebar.ts ***!
  \**********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
StackExchange.sidebar = (function () {
    /**
     * When Post Collections are enabled on the current site, the sidebar will render
     * StackOverflow/Views/PostCollections/Partials/SidebarWidget.cshtml and it will call this.
     */
    function initCollectionWidget(postId) {
        // on successful add, we replace the entire widget, so bind to the parent
        var $sidebar = $('.js-in-these-collections-widget').parent();
        // load modal with editable collections
        $sidebar.on('click', '.js-fetch-add-to-collection-modal', function (e) {
            var $btn = $(e.target);
            if ($btn.hasClass('is-loading')) {
                return;
            }
            $btn.addClass('is-loading');
            StackExchange.helpers.loadModal('/collections/modal-add-to-collection?postId=' + postId).always(function () {
                $btn.removeClass('is-loading');
            });
        });
        // we only show 10 collections max, so allow showing them all
        $sidebar.on('click', '.js-collections-widget--show-all', function (e) {
            $(e.target).add('.js-widget-collection.d-none').toggleClass('d-none');
        });
    }
    return {
        initCollectionWidget: initCollectionWidget
    };
})();


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/49_ExpandableOverflow.ts":
/*!*****************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/49_ExpandableOverflow.ts ***!
  \*****************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
StackExchange.expandableOverflow = (function () {
    /**
     * Checks if containerEl is scrollable, visually truncating the content and showing the moreBtnEl if so
     * @param containerEl The target element whose contents to check
     * @param moreBtnEl The element to toggle containerEl's content's full visibility on click
     */
    function init(containerEl, moreBtnEl) {
        if (!containerEl || !moreBtnEl) {
            return;
        }
        const heightObserver = new ResizeObserver(element => {
            const target = element[0].target;
            // the height of the inner content
            const contentHeight = target.scrollHeight;
            // the height on the container itself
            const containerHeight = target.clientHeight;
            // if the content is causing the container to scroll, fade it out and show the "Read more" button
            if (contentHeight > containerHeight) {
                target.classList.add("v-truncate-fade");
                moreBtnEl === null || moreBtnEl === void 0 ? void 0 : moreBtnEl.classList.remove("v-hidden");
            }
            else {
                target.classList.remove("v-truncate-fade");
                moreBtnEl === null || moreBtnEl === void 0 ? void 0 : moreBtnEl.classList.add("v-hidden");
            }
        });
        moreBtnEl.addEventListener('click', () => {
            heightObserver.disconnect();
            containerEl.classList.remove("v-truncate-fade");
            containerEl.classList.add("h-auto", "hmx-initial");
            moreBtnEl.classList.add("v-hidden");
        }, false);
        heightObserver.observe(containerEl);
    }
    return { init: init };
})();


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_CommunityWiki.ts":
/*!************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_CommunityWiki.ts ***!
  \************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    function bindCommunityWikiConfirmation($scope) {
        $scope
            .find('input[type=checkbox][name=communitymode]')
            .off('click')
            .one('click', () => confirm(__tr(["Are you sure you want to make this post Community Wiki?$blankLine$Doing so will remove explicit ownership and you will no longer earn reputation for upvotes on it. Once saved, this option cannot be unchecked without moderator assistance."], {blankLine: '\n\n'}, "en", [])));
    }
    StackExchange.bindCommunityWikiConfirmation = bindCommunityWikiConfirmation;
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_FeedLink.ts":
/*!*******************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_FeedLink.ts ***!
  \*******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
$(document).on('click', '.js-feed-link', function (e) {
    const $link = $(this);
    const $modal = $link.siblings(".js-feed-link-modal").clone();
    if ($modal.length > 0) {
        e.preventDefault();
        StackExchange.helpers.showModal($modal, {
            returnElements: $link,
            shown: function () {
                $modal.find(".s-input").focus().select();
            }
        });
    }
});


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_GoogleAnalytics.ts":
/*!**************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_GoogleAnalytics.ts ***!
  \**************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
StackExchange.ga = (function () {
    if (StackExchange.ga && StackExchange.ga.inited) {
        return StackExchange.ga;
    }
    var _ga3;
    var _ga4;
    var _incrementingFormId = 0;
    var _ga3ClientId = null;
    var _ga4ClientId = null;
    const _formInputChanges = {};
    var bindHandlers = function (el) {
        // Track element clicks and form submits
        el.find("[data-ga]").each(function () {
            const $this = $(this);
            const isForm = $this.is("form");
            const event = isForm ? "submit" : "click";
            $this.on(event, (e) => {
                const args = getTrackArgs($this);
                if (args === null)
                    return;
                // track click/submit
                trackElement($this, args);
                // optionally track form input changes
                if (isForm) {
                    trackFormInputs($this, args);
                }
            });
        });
        // Track form input changes
        // Changes are submitted to GA on form submit, or when
        // `trackFormInputs` is called.
        el.find("[data-ga-action]").each(function () {
            const $input = $(this);
            $input.on('change', () => recordInputChange($input));
        });
    };
    var setCampaign = function (medium, name, source) {
        if (!_ga3) {
            return;
        }
        if (medium) {
            setDimension("campaignMedium", medium);
        }
        if (name) {
            setDimension("campaignName", name);
        }
        if (source) {
            setDimension("campaignSource", source);
        }
    };
    var setDimension = function (name, value) {
        const handleTracker = function (name, value) {
            try {
                log(`set: name: '${name}', value: '${value}'`);
                if (!_ga3) {
                    return;
                }
                for (var i = 0; i < _ga3.trackingCodes.length; i++) {
                    // GA3
                    if (_ga3.tracker) {
                        _ga3.tracker(formatCommand(i, "set"), name, value);
                    }
                }
            }
            catch (e) {
                logError(`set: name: '${name}', value: '${value}'`, e);
            }
        };
        setTimeout(() => handleTracker(name, value), 0);
    };
    var setUrl = function (url) {
        if (!_ga3) {
            return;
        }
        if (url) {
            setDimension("page", url);
        }
    };
    var setTitle = function (title) {
        if (!_ga3) {
            return;
        }
        if (title) {
            setDimension("title", title);
        }
    };
    var track = function (category, action, label, fields) {
        const handleTracker = function (category, action, label, fields) {
            try {
                log(`track: category: '${category}', action: '${action}', label: '${label}'`);
                if (!_ga3 && !_ga4) {
                    return;
                }
                if (category == null || action == null) {
                    return;
                }
                addExtraDimensions();
                // GA3
                if (_ga3 && _ga3.tracker) {
                    for (var i = 0; i < _ga3.trackingCodes.length; i++) {
                        _ga3.tracker(formatCommand(i, "send"), "event", category, action, label, undefined, fields);
                    }
                }
                // GA4
                if (_ga4 && _ga4.tracker) {
                    _ga4.tracker("event", category, { category: category, action: action, label: label, fields: fields });
                }
            }
            catch (e) {
                logError(`track: category: '${category}', action: '${action}', label: '${label}'`, e);
            }
        };
        setTimeout(() => handleTracker(category, action, label, fields), 0);
    };
    var trackElement = function ($el, args) {
        if (!_ga3 && !_ga4) {
            return;
        }
        if (args === undefined) {
            args = getTrackArgs($el);
        }
        if (args === null) {
            return;
        }
        track(args.category, args.action, args.label, args.fields);
    };
    var trackPageView = function () {
        const handleTracker = function () {
            try {
                log(`send: pageview: '${getSanitizedUrl().relativePath}'`);
                if (!_ga3) {
                    return;
                }
                addExtraDimensions();
                for (var i = 0; i < _ga3.trackingCodes.length; i++) {
                    // GA3
                    if (_ga3.tracker) {
                        _ga3.tracker(formatCommand(i, "send"), "pageview", getSanitizedUrl().relativePath);
                    }
                }
            }
            catch (e) {
                logError(`send: pageview: '${getSanitizedUrl().relativePath}'`, e);
            }
        };
        setTimeout(() => handleTracker(), 0);
    };
    var trackFormInputs = function ($form, args) {
        if (!_ga3 && !_ga4) {
            return;
        }
        if (args === undefined) {
            args = getTrackArgs($form);
        }
        if (args === null) {
            return;
        }
        const formId = $form.attr('id');
        const changes = _formInputChanges[formId];
        if (changes === undefined) {
            return; // no changes to track
        }
        for (var inputName in changes) {
            const action = `${args.inputActionPrefix} | ${inputName}`;
            const label = changes[inputName];
            track(args.category, action, label, { nonInteraction: false });
        }
        _formInputChanges[formId] = {}; // reset
    };
    var recordInputChange = function ($input) {
        if (!_ga3 && !_ga4) {
            return;
        }
        var val;
        if ($input.is(':checkbox')) {
            val = $input.is(':checked');
        }
        else if ($input.is('select')) {
            val = $input.find(':selected')
                .toArray()
                .map(el => $(el).data('ga-value') || $(el).val())
                .join(' ');
        }
        else {
            val = $input.data('ga-value') || $input.val();
        }
        const $form = $input.closest('form');
        if ($form.length === 0 || val === null) {
            return;
        }
        var formId = $form.attr('id');
        // if the form has no "id" attribute, create one
        if (formId === undefined) {
            formId = "ga-form-" + _incrementingFormId++;
            $form.attr('id', formId);
        }
        let interactions = _formInputChanges[formId];
        if (interactions === undefined) {
            interactions = _formInputChanges[formId] = {};
        }
        const action = $input.attr('data-ga-action');
        const isPII = $input.attr('data-ga-is-pii') === 'false' ? false : true;
        const label = isPII ? "PII Omitted" : val;
        interactions[action] = label;
    };
    var getTrackArgs = function ($el) {
        const data = $el.data("ga");
        if (data === undefined)
            return null;
        return {
            category: data[0],
            action: data[1],
            label: data[2],
            inputActionPrefix: data[3],
            fields: data[4]
        };
    };
    var getTrackerName = function (index) {
        return `tracker_${index}`;
    };
    var formatCommand = function (index, command) {
        if (index == 0) {
            return command;
        }
        const trackerName = getTrackerName(index);
        return `${trackerName}.${command}`;
    };
    var getClientId = function () {
        if (!_ga3) {
            return;
        }
        return _ga3ClientId;
    };
    var getGA4ClientId = function () {
        if (!_ga4) {
            return;
        }
        return _ga4ClientId;
    };
    function log(msg) {
        try {
            if (!StackExchange.options.enableLogging)
                return;
            console.log('StackExchange.ga: ' + msg);
        }
        catch (e) { }
    }
    function logError(msg, err) {
        try {
            if (!StackExchange.options.enableLogging)
                return;
            console.error(`StackExchange.ga: ${msg}`, err);
        }
        catch (e) { }
    }
    // Returns an object with sensitive PII data removed
    function getSanitizedUrl() {
        var origin = window.location.origin;
        var url = new URL(window.location.href);
        url.searchParams.delete('email'); // email/confirm route uses ?e=<email>
        url.searchParams.delete('auth');
        url.searchParams.delete('e');
        // Our href with offending params removed
        var href = url.href;
        // Remove the origin from the href to give us the relative path w/ query string
        var relativePath = href.replace(origin, '');
        return { href, relativePath };
    }
    /** Get local time as ISO string with offset at the end, e.g. 2021-09-27T15:30:34.159-04:00 */
    function getTimestamp() {
        var now = new Date();
        var tzo = -now.getTimezoneOffset();
        var dif = tzo >= 0 ? '+' : '';
        // get the iso string, but slice off the trailing Z character
        var isoString = now.toISOString().slice(0, -1);
        return isoString
            + dif + padTime(tzo / 60)
            + ':' + padTime(tzo % 60);
    }
    function padTime(int) {
        var i = int.toFixed(0).toString();
        return i.length < 2 ? '0' + i : i;
    }
    function addExtraDimensions() {
        if (!_ga3) {
            return;
        }
        if (!_ga3.sendTitles) {
            setDimension("title", "Channel Page");
        }
        // EventFields.Dimensions.ClientId
        if (_ga3ClientId) {
            setDimension("dimension6", _ga3ClientId);
        }
        // EventFields.Dimensions.Timestamp
        setDimension("dimension8", getTimestamp());
        // EventFields.Dimensions.FullUrl
        setDimension("dimension11", getSanitizedUrl().href);
    }
    function initGA3(ga3Settings) {
        const createArgs = {
            allowLinker: true
        };
        let cookieDomain = "auto";
        if (window.location.host.indexOf("stackexchange.com") >= 0) {
            cookieDomain = "stackexchange.com";
        }
        if (StackExchange.options.user.accountId) {
            createArgs.userId = StackExchange.options.user.accountId.toString();
        }
        ga3Settings.tracker("create", ga3Settings.trackingCodes[0], cookieDomain, createArgs);
        if (ga3Settings.autoLink && ga3Settings.autoLink.length > 0) {
            ga3Settings.tracker("require", "linker");
            ga3Settings.tracker("linker:autoLink", ga3Settings.autoLink);
        }
        setDimension("transport", "beacon");
        for (var i = 1; i < ga3Settings.trackingCodes.length; i++) {
            ga3Settings.tracker("create", ga3Settings.trackingCodes[i], cookieDomain, getTrackerName(i), createArgs);
        }
        if (ga3Settings.checkDimension) {
            var adBlockEnabled = adBlockChecker();
            StackExchange.ga.setDimension(ga3Settings.checkDimension, (adBlockEnabled ? '1' : '0'));
        }
    }
    function initGA4(ga4Settings) {
        // Always defaults to denied for cookieless pings
        ga4Settings.tracker('consent', 'default', {
            'ad_storage': 'denied',
            'analytics_storage': 'denied'
        });
        // Updates the consent to whatever the user has currently set on page loaded
        updateGA4Consent(ga4Settings.consentsToPerformanceCookies, ga4Settings.consentsToTargetingCookies);
        if (ga4Settings.checkForAdBlock) {
            var adBlockEnabled = adBlockChecker();
            ga4Settings.eventParameters["ads_blocked"] = adBlockEnabled;
        }
        ga4Settings.tracker('js', new Date());
        if (!ga4Settings.sendTitles) {
            ga4Settings.eventParameters["page_title"] = 'Channel Page';
        }
        //Custom event parameters that we set with 'config' below weren't flowing properly.
        //So trying out this fix to see if it helps: https://ithoughthecamewithyou.com/post/send-event-parameters-with-every-event-and-multiple-tags-in-google-analytics-4
        ga4Settings.tracker('set', ga4Settings.eventParameters);
        ga4Settings.tracker('config', ga4Settings.trackingCodes[0], ga4Settings.eventParameters);
        if (ga4Settings.trackClicks) {
            trackGA4Clicks();
        }
    }
    function adBlockChecker() {
        let adBlockEnabled = false;
        let ad = document.createElement('ins');
        ad.className = 'AdSense';
        ad.style.display = 'block';
        ad.style.position = 'absolute';
        ad.style.top = '-1px';
        ad.style.height = '1px';
        document.body.appendChild(ad);
        adBlockEnabled = !ad.clientHeight;
        document.body.removeChild(ad);
        return adBlockEnabled;
    }
    function updateGA4Consent(performanceCookies, targetingCookies) {
        _ga4.tracker('consent', 'update', {
            'analytics_storage': performanceCookies,
            'ad_storage': targetingCookies
        });
    }
    function trackGA4(eventName, eventParams) {
        try {
            log(`trackGA4: eventName: '${eventName}'`);
            // https://developers.google.com/analytics/devguides/collection/gtagjs/sending-data#know_when_an_event_has_been_sent
            if (navigator && navigator.sendBeacon) {
                eventParams = $.extend(eventParams, { transport_type: 'beacon' });
            }
            // pushing to the dataLayer makes sure it gets picked up after GA init runs, without the need for funky timeouts etc
            if (_ga4 === null || _ga4 === void 0 ? void 0 : _ga4.tracker) {
                _ga4 === null || _ga4 === void 0 ? void 0 : _ga4.tracker("event", eventName, eventParams);
            }
        }
        catch (e) {
            logError(`trackGA4: eventName: '${eventName}'`, e);
        }
    }
    function trackGA4Clicks() {
        // shamelessly copied from https://github.com/StackEng/Marketing/blob/d9d05cc8ae835591476cef3d1c0b3320ef9c25ec/plugins/trackingEvents.client.ts
        // Bind click handler
        window.addEventListener('click', (e) => {
            const el = getClosestAnchorTag(e.target);
            if (el && 'getAttribute' in el) {
                // Returns an object if this url is
                let externalUrl = parseUrl(el.getAttribute('href') || '');
                StackExchange.gaReady(() => trackGA4('click', {
                    outbound: externalUrl.outbound,
                    link_text: el.innerText,
                    link_classes: el.getAttribute('class'),
                    link_id: el.getAttribute('id'),
                    link_url: el.getAttribute('href'),
                }));
            }
            // Return true because otherwise the event might be cancelled
            return true;
        }, { capture: true, passive: true });
        function parseUrl(urlRaw) {
            let url;
            // Returns an error if it's a relative url
            // Therefore, we can assume it's absolute if it returns
            try {
                url = new URL(urlRaw);
            }
            catch (_err) {
                // Swallow the error
                return {
                    href: urlRaw,
                    outbound: false,
                };
            }
            return {
                ...url,
                outbound: !(url.host === window.location.host),
            };
        }
        function getClosestAnchorTag(currentNode) {
            var _a;
            while (currentNode) {
                if (currentNode.nodeName === 'A') {
                    return currentNode;
                }
                // m0sa: added since the spec requests to track all button clicks, too
                if (currentNode.nodeName === 'BUTTON') {
                    return currentNode;
                }
                if (currentNode.nodeName === 'INPUT') {
                    var type = (_a = currentNode.getAttribute("type")) === null || _a === void 0 ? void 0 : _a.toUpperCase();
                    if (type === 'BUTTON' || type === 'SUBMIT') {
                        return currentNode;
                    }
                }
                currentNode = currentNode.parentNode;
            }
            return null;
        }
    }
    return {
        inited: false,
        init: function (settings) {
            if (!settings) {
                return;
            }
            const ga3 = settings.GA3;
            const ga4 = settings.GA4;
            if (ga3 && ga3.tracker && ga3.trackingCodes && ga3.trackingCodes.length > 0) {
                _ga3 = ga3;
                initGA3(_ga3);
                _ga3.tracker((t) => {
                    if (t) {
                        _ga3ClientId = t.get("clientId");
                    }
                    // everything is initialized, let observers know we're done
                    StackExchange.gaInitialized.resolve();
                });
            }
            if (ga4 && ga4.tracker && ga4.trackingCodes && ga4.trackingCodes.length > 0) {
                _ga4 = ga4;
                initGA4(_ga4);
                // TODO Test this
                _ga4.tracker("get", ga4.trackingCodes[0], "client_id", (t) => {
                    if (t) {
                        _ga4ClientId = t;
                    }
                });
                // everything is initialized, let observers know we're done
                StackExchange.gaInitialized.resolve();
            }
            bindHandlers($(document));
            StackExchange.ga.inited = true;
        },
        bindHandlers: bindHandlers,
        setCampaign: setCampaign,
        setDimension: setDimension,
        setTitle: setTitle,
        setUrl: setUrl,
        track: track,
        trackElement: trackElement,
        trackFormInputs: trackFormInputs,
        trackGA4: trackGA4,
        trackPageView: trackPageView,
        recordInputChange: recordInputChange,
        getClientId: getClientId,
        getGA4ClientId: getGA4ClientId,
        updateGA4Consent: updateGA4Consent
    };
})();


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_Notice.ts":
/*!*****************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_Notice.ts ***!
  \*****************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    var Notice;
    (function (Notice) {
        class NoticeState {
            constructor($notice) {
                this.cookieId = $notice.attr('data-cookie');
                this.expireDate = new Date(+$notice.attr('data-expire-date'));
            }
            setCookie(value) {
                $.cookie(this.cookieId, value, {
                    expires: this.expireDate,
                    path: "/",
                });
            }
            ctaClicked() { this.setCookie(`2;${Date.now()}`); }
            dismissed() { this.setCookie(`4;${Date.now()}`); }
        }
        function bindStandardLinkAndDismissButtons($banner, hideNotice, ctaLinkUrl) {
            const noticeState = new NoticeState($banner);
            $banner.find(".js-link").click(() => {
                noticeState.ctaClicked();
                if (ctaLinkUrl) {
                    window.open(ctaLinkUrl, '_blank');
                }
                hideNotice();
            });
            $banner.find(".js-dismiss").click(event => {
                event.preventDefault();
                noticeState.dismissed();
                hideNotice();
                // if is in satisfaction survey banner, then also send ajax notification to dismiss route
                if ($banner.attr('data-is-site-sat') === 'true') {
                    $.post("/survey/site-satisfaction/dismiss", { fkey: StackExchange.options.user.fkey });
                }
                else if ($banner.attr('data-is-coso-survey') === 'true') {
                    $.post("/survey/collectives/dismiss", { fkey: StackExchange.options.user.fkey, slug: $banner.data("coso-slug") });
                }
            });
            return noticeState;
        }
        // It assumed that if the announcement banner and sidebar popover both exist on a page,
        // they are representing the same campaign and can be hidden together.  This makes sense
        // with the current understanding that we'll only ever show one in-your-face message per
        // page load.  If this assumption breaks in the future, we will need to be able to validate
        // that the two are linked.
        function hideAnnoucementBannerAndSidebarPopover() {
            const $popoverReference = $('.js-popover-reference');
            $(".js-announcement-banner").animate({ height: "0", opacity: 0 }, "fast", "linear", function () { $(this).remove(); });
            if ($popoverReference.length) {
                Stacks.hidePopover($popoverReference[0]);
            }
        }
        function announcementBannerInit() {
            const $banner = $(".js-announcement-banner");
            bindStandardLinkAndDismissButtons($banner, hideAnnoucementBannerAndSidebarPopover);
        }
        Notice.announcementBannerInit = announcementBannerInit;
        function sidebarPopoverInit() {
            const $popover = $(".js-notice-sidebar-popover");
            const $popoverReference = $('.js-popover-reference');
            bindStandardLinkAndDismissButtons($popover, hideAnnoucementBannerAndSidebarPopover);
            if ($popover.length && $popoverReference.length) {
                setTimeout(() => {
                    Stacks.showPopover($popoverReference[0]);
                }, 1000);
            }
        }
        Notice.sidebarPopoverInit = sidebarPopoverInit;
        function researchBannerInit() {
            var $researchBanner = $(".js-research-banner");
            var noticeState = new NoticeState($researchBanner);
            // show the next research banner state
            var showNextState = function () {
                var state = $(this).closest(".research-banner__state");
                if (!state) {
                    return false;
                }
                var banner = $(".js-research-banner");
                var states = banner.find(".research-banner__state");
                states.hide();
                var stateIndex = states.index(state);
                var nextState = $(states.get(stateIndex + 1));
                banner.removeClass(state.data("propagateClass"));
                banner.addClass(nextState.data("propagateClass"));
                nextState.show();
            };
            var alertOnFailure = function (message) {
                StackExchange.helpers.showToast(message, { type: "danger", transientTimeout: 3000 });
            };
            // send an ajax call on opt-in
            $researchBanner.find("form.js-submit").submit(function (e) {
                e.preventDefault();
                $.ajax({
                    type: "POST",
                    url: $researchBanner.data("cta-url"),
                    data: {
                        fkey: StackExchange.options.user.fkey
                    }
                }).done(function (response) {
                    if (!response.success) {
                        alertOnFailure(response.message);
                    }
                    else {
                        noticeState.ctaClicked();
                    }
                }).fail(alertOnFailure);
                showNextState.call(this);
                return false;
            });
            // dismiss notice
            $researchBanner.find(".js-research-dismiss").click(() => {
                noticeState.dismissed();
                $researchBanner.remove();
                return false;
            });
            // proceed to the next state on confirmation
            $researchBanner.find(".js-research-banner-state .js-research-confirm").click(showNextState);
        }
        Notice.researchBannerInit = researchBannerInit;
        function researchToastInit(ctaLinkUrl) {
            const $toast = $(".js-research-toast");
            const campaign = $toast.attr('data-campaign');
            const state = bindStandardLinkAndDismissButtons($toast, () => StackExchange.helpers.hideToasts(), ctaLinkUrl);
            $toast.find(".js-link").click(() => StackExchange.gps.track("research_toast.click", { campaign }));
            // This finds both the "no thanks" button and toast's dismiss button,
            // causing both to log the dismissal and advance the cookie's state.
            $toast.closest('.js-toast').find(".js-dismiss").click(() => {
                StackExchange.gps.track("research_toast.dismiss", { campaign });
                state.dismissed();
            });
            StackExchange.gps.track("research_toast.show", { campaign });
        }
        Notice.researchToastInit = researchToastInit;
    })(Notice = StackExchange.Notice || (StackExchange.Notice = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_OutdatedAnswers.ts":
/*!**************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_OutdatedAnswers.ts ***!
  \**************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    var OutdatedAnswers;
    (function (OutdatedAnswers) {
        function initAnon(isAnonymous) {
            if (isAnonymous) {
                $('.js-outdated-yes').on('click', function (e) {
                    const elem = this;
                    let postId = $(elem).data('post-id');
                    openModal($(elem));
                    userVoted(postId);
                });
                $('.js-outdated-no').on('click', function () {
                    let postId = $(this).data('post-id');
                    userVoted(postId);
                });
            }
        }
        OutdatedAnswers.initAnon = initAnon;
        function openModal($elem) {
            const $container = $elem.closest('.js-outdated-answers').find('.js-modal-container');
            let postId = $elem.data('post-id');
            $.ajax({
                url: '/posts/outdated/modal/' + postId,
                dataType: 'html',
                type: 'GET',
                success: function (data) {
                    $container.html(data);
                    setTimeout(() => Stacks.showModal($container.find("#js-outdated-answers-modal")[0]), 50);
                    $('.js-submit-outdated-answer').on('click', function (e) {
                        submitOutdatedAnswerResult(postId);
                    });
                }
            });
        }
        OutdatedAnswers.openModal = openModal;
        function submitOutdatedAnswerResult(postId) {
            let checkedOptions = 0;
            let $outdatedOptions = $('.js-outdated-options');
            let $container = $outdatedOptions.closest('.js-outdated-answers');
            let answerType = $container.data('answer-type');
            let positionOnPage = $container.data('position-on-page');
            let score = $container.data('score');
            $outdatedOptions.find(".s-checkbox:checked").each(function (i, elem) {
                let checkedFlag = $(elem).data('answer-flag-value');
                checkedOptions = checkedOptions | checkedFlag;
            });
            StackExchange.using("gps", function () {
                StackExchange.gps.track("outdated_prompt.yes_detail", { OutdatedAnswerOptions: checkedOptions, AnswerType: answerType, PositionOnPage: positionOnPage, AnswerId: postId, Score: score });
            });
        }
        function userVoted(postId) {
            let $outdatedContainer = $(`.js-outdated-answers[data-post-id=${postId}]`);
            $outdatedContainer.find(".js-outdated-interactions").addClass("d-none");
            $outdatedContainer.find('.js-outdated-svg').removeClass("native");
            $outdatedContainer.find('.js-outdated-answer-prompt').text(__tr(["Thanks for your feedback on this answer."], undefined, "en", []));
        }
        OutdatedAnswers.userVoted = userVoted;
    })(OutdatedAnswers = StackExchange.OutdatedAnswers || (StackExchange.OutdatedAnswers = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_PostTypeId.ts":
/*!*********************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_PostTypeId.ts ***!
  \*********************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
// StackOverflow.Models.PostTypeId
//
// If we were in the good universe, this would be an enum in C#.
// 
// Modulifying note: intentionally not deleting this file since legacy code may reference it directly
//
var StackOverflow;
(function (StackOverflow) {
    var Models;
    (function (Models) {
        let PostTypeId;
        (function (PostTypeId) {
            PostTypeId[PostTypeId["Question"] = 1] = "Question";
            PostTypeId[PostTypeId["Answer"] = 2] = "Answer";
            PostTypeId[PostTypeId["Wiki"] = 3] = "Wiki";
            PostTypeId[PostTypeId["TagWikiExcerpt"] = 4] = "TagWikiExcerpt";
            PostTypeId[PostTypeId["TagWiki"] = 5] = "TagWiki";
            PostTypeId[PostTypeId["ModeratorNomination"] = 6] = "ModeratorNomination";
            PostTypeId[PostTypeId["WikiPlaceholder"] = 7] = "WikiPlaceholder";
            PostTypeId[PostTypeId["PrivilegeWiki"] = 8] = "PrivilegeWiki";
            PostTypeId[PostTypeId["Article"] = 9] = "Article";
            PostTypeId[PostTypeId["HelpArticle"] = 10] = "HelpArticle";
            PostTypeId[PostTypeId["Collection"] = 12] = "Collection";
            PostTypeId[PostTypeId["ModeratorQuestionnaireResponse"] = 13] = "ModeratorQuestionnaireResponse";
            PostTypeId[PostTypeId["Announcement"] = 14] = "Announcement";
            PostTypeId[PostTypeId["CollectiveDiscussion"] = 15] = "CollectiveDiscussion";
            PostTypeId[PostTypeId["CollectiveCollection"] = 17] = "CollectiveCollection";
        })(PostTypeId = Models.PostTypeId || (Models.PostTypeId = {}));
    })(Models = StackOverflow.Models || (StackOverflow.Models = {}));
})(StackOverflow || (StackOverflow = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_ads.ts":
/*!**************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_ads.ts ***!
  \**************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    var ads;
    (function (ads) {
        const modalClass = '.js-ad-report';
        let adReports;
        class AdReports {
            constructor(googletag, adReportUrl, adReportText) {
                var _a;
                this.googletag = googletag;
                this.adReportUrl = adReportUrl;
                this.adReportText = adReportText;
                this.handleSlotRendered = (event) => {
                    // Add the button
                    if (!event || !event.slot || event.isEmpty)
                        return;
                    var adUnitElementId = event.slot.getSlotElementId();
                    if (!adUnitElementId)
                        return;
                    var $adUnit = $('#' + adUnitElementId);
                    var $adUnitButtonPlaceholder = $adUnit.parent('.js-zone-container').find('.js-report-ad-button-container');
                    if (!event.creativeId && !event.lineItemId && event.isEmpty)
                        return;
                    // Ignore the Talent Placeholder Line Items (Double Height Anchor)
                    if (clc.options.dh && clc.options.dh.indexOf(event.lineItemId) !== -1)
                        return;
                    var $adReportButton = $(`<button class="js-report-ad s-btn s-btn__link fs-fine mt2 float-right">${this.adReportText}</button>`);
                    $adUnitButtonPlaceholder.append($adReportButton);
                    $adReportButton.data('modal-url', this.adReportUrl);
                    $adReportButton.data('ad-unit', event.slot.getSlotElementId());
                    // Store the data
                    var jsonEventData = JSON.stringify(event);
                    $adReportButton.data('google-event-data', jsonEventData);
                    this.initButton($adReportButton);
                };
                // Watch for when slots are rendered, save their info and add the report button
                this.googletag.pubads().addEventListener('slotRenderEnded', this.handleSlotRendered);
                // Handle slots that have already been rendered
                if (Array.isArray((_a = clc === null || clc === void 0 ? void 0 : clc.dfp) === null || _a === void 0 ? void 0 : _a.slotsRenderedEvents)) {
                    for (var i = 0; i < clc.dfp.slotsRenderedEvents.length; i++) {
                        this.handleSlotRendered(clc.dfp.slotsRenderedEvents[i]);
                    }
                }
            }
            initButton($adReportButton) {
                $adReportButton.off().on("click", (e) => {
                    e.preventDefault();
                    const url = $adReportButton.data("modal-url");
                    const googleEventData = $adReportButton.data("google-event-data");
                    this.loadModal(url, $adReportButton, googleEventData);
                    return false;
                });
            }
            ;
            loadModal(url, $link, googleEventData) {
                StackExchange.helpers.loadModal(url, { returnElements: $link })
                    .then(() => {
                    this.initForm(googleEventData);
                })
                    .fail((responseText) => {
                    var message = "";
                    var response = eval("(" + responseText + ")");
                    if (response && response.isLoggedOut) {
                        message = __tr(["Your login session has expired, please login and try again."], undefined, "en", []);
                    }
                    else {
                        message = __tr(["An error occurred when loading the report form - please try again"], undefined, "en", []);
                    }
                    StackExchange.helpers.showToast(message, { type: 'danger' });
                });
            }
            ;
            removeModal() {
                StackExchange.helpers.closePopups($(modalClass), 'dismiss');
            }
            initForm(googleEventData) {
                const $form = $(".js-ad-report-form");
                const $googleEventData = $form.find('.js-json-data');
                const $adReportReason = $form.find(".js-ad-report-reason");
                const $adReportReasonOther = $form.find(".js-ad-report-reason-other");
                const $fileUploaderInput = $form.find(".js-file-uploader-input");
                const $imageUploader = $form.find(".js-image-uploader");
                const $clearImageUpload = $form.find(".js-clear-image-upload");
                const $imageUploaderText = $form.find(".js-image-uploader-text");
                const $imageUploaderPreview = $form.find(".js-image-uploader-preview");
                const $imageUploaderLink = $form.find(".js-image-uploader-link");
                const $fileErrorMessage = $form.find(".js-file-error");
                const allowedFileTypes = ['image/png', 'image/jpg', 'image/jpeg'];
                const $dragDropEnabledSection = $form.find('.js-drag-drop-enabled');
                const $dragDropDisabledSection = $form.find('.js-drag-drop-disabled');
                $imageUploaderLink.on('click', function (e) {
                    e.preventDefault();
                    $fileUploaderInput.trigger('click');
                });
                $googleEventData.val(googleEventData);
                $adReportReason.on("change", (e) => {
                    $adReportReasonOther.toggleClass('d-none', $(e.target).val() !== '3');
                });
                var preventDefaults = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                };
                var handleDragStart = function (e) {
                    $imageUploader.removeClass("bas-dashed");
                    $imageUploader.addClass("bas-solid bc-black-225");
                };
                var handleDragEnd = function (e) {
                    $imageUploader.removeClass("bas-solid bc-black-225");
                    $imageUploader.addClass("bas-dashed");
                };
                var handleDrop = function (e) {
                    var files = e.originalEvent.dataTransfer.files;
                    if (FileReader && files && files.length === 1) {
                        // Update file picker
                        var fileInput = $fileUploaderInput[0];
                        fileInput.files = files;
                        if (validateFileInput())
                            updateImagePreview(files);
                    }
                };
                $fileUploaderInput.change(function () {
                    var fileInput = $fileUploaderInput[0];
                    if (validateFileInput())
                        updateImagePreview(fileInput.files);
                });
                var validateFileInput = function () {
                    const fileTypeErrorMessage = __tr(["Please select a PNG or JPG file"], undefined, "en", []);
                    const fileSizeErrorMessage = __tr(["The file must be under 2 MiB"], undefined, "en", []);
                    var fileInput = $fileUploaderInput[0];
                    if (fileInput.files == null)
                        return false;
                    var file = fileInput.files[0];
                    if (file == null) {
                        setError(true);
                        return false;
                    }
                    if (allowedFileTypes.indexOf(file.type) < 0) {
                        $fileErrorMessage.text(fileTypeErrorMessage);
                        $fileErrorMessage.removeClass('d-none');
                        setError(true);
                        return false;
                    }
                    if (file.size > 2097152) {
                        $fileErrorMessage.text(fileSizeErrorMessage);
                        $fileErrorMessage.removeClass('d-none');
                        setError(true);
                        return false;
                    }
                    $fileErrorMessage.addClass('d-none');
                    setError(false);
                    return true;
                };
                var setError = function (hasError) {
                    $fileErrorMessage.parent().toggleClass('has-error', hasError);
                };
                var updateImagePreview = function (files) {
                    // Update styling
                    $imageUploader.removeClass('p16 ba bas-dashed bc-black-225');
                    // Update visibility
                    $clearImageUpload.removeClass("d-none");
                    $imageUploaderText.addClass("d-none");
                    // Update the image preview
                    var fr = new FileReader();
                    fr.onload = function (e) {
                        if (e.target != null) {
                            $imageUploaderPreview.prop("src", e.target.result);
                            $imageUploaderPreview.removeClass("d-none");
                        }
                    };
                    fr.readAsDataURL(files[0]);
                };
                $clearImageUpload.on("click", (e) => {
                    e.preventDefault();
                    // Reset file picker
                    $fileUploaderInput.val("");
                    // Remove image
                    $imageUploaderPreview.prop("src", "");
                    $imageUploaderPreview.addClass("d-none");
                    // Reset visibility
                    $clearImageUpload.addClass("d-none");
                    $imageUploaderText.removeClass("d-none");
                    // Reset styling
                    $imageUploader.addClass('p16 ba bas-dashed bc-black-225');
                });
                // Edge blocks setting file inputs in strict mode,
                // Test for the ability to use drag / drop, which relies on that
                try {
                    var fileInput = $fileUploaderInput[0];
                    // This is the line that will fail on Edge
                    fileInput.files = null;
                    $imageUploader.on('dragenter dragover dragleave drop', preventDefaults);
                    $imageUploader.on('dragenter dragover', handleDragStart);
                    $imageUploader.on('dragleave drop', handleDragEnd);
                    $imageUploader.on("drop", handleDrop);
                }
                catch (e) {
                    $dragDropEnabledSection.addClass('d-none');
                    $dragDropDisabledSection.removeClass('d-none');
                }
                $form.off().on("submit", (e) => {
                    e.preventDefault();
                    if (!validateFileInput())
                        return false;
                    $form.find("[type=submit]").prop("disabled", true);
                    var existingData = JSON.parse($googleEventData.val() || "{}");
                    existingData.Reason = parseInt($form.find(".js-ad-report-reason:checked").val(), 10);
                    existingData.Description = $adReportReasonOther.val();
                    $googleEventData.val(JSON.stringify(existingData));
                    // We're using FormData here to include the File Input
                    var formData = new FormData($form[0]);
                    $.ajax({
                        type: $form.prop("method"),
                        url: $form.prop("action"),
                        data: formData,
                        cache: false,
                        contentType: false,
                        processData: false
                    }).then((response, textStatus, xhr) => {
                        const contentType = xhr.getResponseHeader("content-type") || "";
                        if (typeof response === "string" && contentType.indexOf("text/html") == 0) {
                            // replace the existing popup
                            const $popupContent = $(response).find(".js-modal-content");
                            if ($popupContent.length > 0) {
                                $(".js-modal-content").replaceWith($popupContent);
                            }
                        }
                        else {
                            this.removeModal();
                            StackExchange.helpers.showToast(__tr(["Thanks for your feedback. We’ll review this against our code of conduct and take action if necessary."], undefined, "en", []), { type: 'success' });
                        }
                    }, function () {
                        StackExchange.helpers.showToast(__tr(["Error uploading ad report."], undefined, "en", []), { type: 'danger' });
                    }).always(function () {
                        $form.find("[type=submit]").prop("disabled", false);
                    });
                    return false;
                });
            }
        }
        function init(googletag, adReportUrl, adReportText) {
            if (adReports)
                return;
            adReports = new AdReports(googletag, adReportUrl, adReportText);
        }
        ads.init = init;
    })(ads = StackExchange.ads || (StackExchange.ads = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_helpers.ts":
/*!******************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_helpers.ts ***!
  \******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    var helpers;
    (function (helpers) {
        function showConfirmModal(options) {
            var $modal = $(`
<aside class="s-modal" role="dialog" aria-labelledby="confirm-modal-title" aria-describedby="confirm-modal-body" aria-hidden="true">
    <div class="s-modal--dialog ps-relative" data-controller="se-draggable" role="document">
        <h1 class="s-modal--header fw-bold" id="confirm-modal-title" data-se-draggable-target="handle"></h1>
        <div class="s-modal--body fs-body2" id="confirm-modal-body"></div>
        <div class="d-flex gs8 gsx s-modal--footer">
            <button class="flex--item s-btn js-ok-button s-btn__filled" type="button"></button>
            <button class="flex--item s-btn js-cancel-button js-modal-close js-modal-initial-focus" type="button"></button>
        </div>
    </div>
</aside>
`);
            const setContent = (selector, html, text) => {
                const $target = $modal.find(selector);
                if (html) {
                    $target.append(html);
                }
                else if (text) {
                    $target.text(text);
                }
            };
            setContent('#confirm-modal-title', options.titleHtml, options.title);
            setContent('#confirm-modal-body', options.bodyHtml, options.body);
            setContent('.js-ok-button', options.buttonLabelHtml, options.buttonLabel || __tr(["OK"], undefined, "en", []));
            setContent('.js-cancel-button', undefined, __tr(["Cancel"], undefined, "en", []));
            return new Promise((resolve, _) => {
                helpers.showModal($modal, options);
                $modal.find('.js-ok-button').click(e => {
                    e.preventDefault();
                    resolve(true);
                    StackExchange.helpers.closePopups($modal, 'dismiss');
                });
                $modal.on('popupClose', _ => resolve(false));
            });
        }
        helpers.showConfirmModal = showConfirmModal;
    })(helpers = StackExchange.helpers || (StackExchange.helpers = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/index.ts":
/*!*************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _realtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../realtime */ "./_Scripts/PartialJS/realtime.ts");
/* harmony import */ var _00_import_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./00_import-js */ "./_Scripts/PartialJS/full-common/00_import-js.ts");
/* harmony import */ var _06_MagicPopup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./06_MagicPopup */ "./_Scripts/PartialJS/full-common/06_MagicPopup.ts");
/* harmony import */ var _38_MoreHotNetworkQuestions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./38_MoreHotNetworkQuestions */ "./_Scripts/PartialJS/full-common/38_MoreHotNetworkQuestions.ts");
/* harmony import */ var _38_MoreHotNetworkQuestions__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_38_MoreHotNetworkQuestions__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _46_ExternalEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./46_ExternalEditor */ "./_Scripts/PartialJS/full-common/46_ExternalEditor.ts");
/* harmony import */ var _47_SnippetJavascript__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./47_SnippetJavascript */ "./_Scripts/PartialJS/full-common/47_SnippetJavascript.ts");
/* harmony import */ var _48_PostSidebar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./48_PostSidebar */ "./_Scripts/PartialJS/full-common/48_PostSidebar.ts");
/* harmony import */ var _48_PostSidebar__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_48_PostSidebar__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _49_ExpandableOverflow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./49_ExpandableOverflow */ "./_Scripts/PartialJS/full-common/49_ExpandableOverflow.ts");
/* harmony import */ var _49_ExpandableOverflow__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_49_ExpandableOverflow__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _99_ads__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./99_ads */ "./_Scripts/PartialJS/full-common/99_ads.ts");
/* harmony import */ var _99_ads__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_99_ads__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _99_CommunityWiki__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./99_CommunityWiki */ "./_Scripts/PartialJS/full-common/99_CommunityWiki.ts");
/* harmony import */ var _99_CommunityWiki__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_99_CommunityWiki__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _99_FeedLink__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./99_FeedLink */ "./_Scripts/PartialJS/full-common/99_FeedLink.ts");
/* harmony import */ var _99_FeedLink__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_99_FeedLink__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _99_GoogleAnalytics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./99_GoogleAnalytics */ "./_Scripts/PartialJS/full-common/99_GoogleAnalytics.ts");
/* harmony import */ var _99_GoogleAnalytics__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_99_GoogleAnalytics__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _99_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./99_helpers */ "./_Scripts/PartialJS/full-common/99_helpers.ts");
/* harmony import */ var _99_helpers__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_99_helpers__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _99_Notice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./99_Notice */ "./_Scripts/PartialJS/full-common/99_Notice.ts");
/* harmony import */ var _99_Notice__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_99_Notice__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./99_OutdatedAnswers */ "./_Scripts/PartialJS/full-common/99_OutdatedAnswers.ts");
/* harmony import */ var _99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _99_PostTypeId__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./99_PostTypeId */ "./_Scripts/PartialJS/full-common/99_PostTypeId.ts");
/* harmony import */ var _99_PostTypeId__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_99_PostTypeId__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var expose_loader_exposes_Svg_Svg_exports_loader_exports_Svg_99_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! expose-loader?exposes=Svg|Svg!exports-loader?exports=Svg!./99_svg */ "./node_modules/expose-loader/dist/cjs.js?exposes=Svg|Svg!./node_modules/exports-loader/dist/cjs.js?exports=Svg!./_Scripts/PartialJS/full-common/99_svg-exposed.ts");
/* harmony import */ var expose_loader_exposes_Svg_Svg_exports_loader_exports_Svg_99_svg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(expose_loader_exposes_Svg_Svg_exports_loader_exports_Svg_99_svg__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _modules_general_index_mod__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../modules/general/index.mod */ "./_Scripts/modules/general/index.mod.ts");
/* harmony import */ var _site_includes_index_mod__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../site-includes/index.mod */ "./_Scripts/site-includes/index.mod.ts");
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});






















(0,_modules_general_index_mod__WEBPACK_IMPORTED_MODULE_17__.registerAllGeneralControllers)();
_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_19__.seReady.then(async () => {
    await (0,_site_includes_index_mod__WEBPACK_IMPORTED_MODULE_18__["default"])();
});


/***/ }),

/***/ "./_Scripts/PartialJS/full/00_import-js.ts":
/*!*************************************************!*\
  !*** ./_Scripts/PartialJS/full/00_import-js.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ "./_Scripts/PartialJS/util.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// this file is imported first by index.ts,
// so full-common and the JS files run before
// all the typescript files in this folder

// require.context is webpack magic. It means "please include this whole folder in the bundle"
(0,_util__WEBPACK_IMPORTED_MODULE_0__.importAll)(__webpack_require__("./_Scripts/LegacyJS/full sync (?<%21\\.mod)\\.js$"));


/***/ }),

/***/ "./_Scripts/PartialJS/full/99_TagPreferences.ts":
/*!******************************************************!*\
  !*** ./_Scripts/PartialJS/full/99_TagPreferences.ts ***!
  \******************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
StackExchange.tagPreferences = (function () {
    let EditMode;
    (function (EditMode) {
        EditMode[EditMode["Full"] = 0] = "Full";
        EditMode[EditMode["Watching"] = 1] = "Watching";
        EditMode[EditMode["Ignored"] = 2] = "Ignored";
        EditMode[EditMode["None"] = 3] = "None";
    })(EditMode || (EditMode = {}));
    function find(selector) {
        return $('.js-tag-preferences-container').find(selector);
    }
    var currentMode = EditMode.None;
    var $lastErrorPopup = null;
    function showEditor(mode) {
        if (currentMode === EditMode.Full || currentMode === mode) {
            return;
        }
        currentMode = currentMode === EditMode.None ? mode : EditMode.Full;
        updateVisualState();
    }
    function hideEditor() {
        if (currentMode === EditMode.None) {
            return;
        }
        currentMode = EditMode.None;
        updateVisualState();
        hideErrorPopup();
    }
    function hideErrorPopup() {
        if ($lastErrorPopup) {
            $lastErrorPopup.remove();
            $lastErrorPopup = null;
        }
    }
    function updateVisualState() {
        function showIff(selector, condition) {
            if (condition) {
                find(selector).removeClass('d-none');
            }
            else {
                find(selector).addClass('d-none');
            }
        }
        const editingAll = currentMode == EditMode.Full;
        const editingWatched = editingAll || currentMode == EditMode.Watching;
        const editingIgnored = editingAll || currentMode == EditMode.Ignored;
        const hasWatchedTags = find('.js-watched-tag-list .post-tag').length > 0;
        const hasIgnoredTags = find('.js-ignored-tag-list .post-tag').length > 0;
        // Only show the lists if they have content
        showIff('.js-watched-tag-list', hasWatchedTags);
        showIff('.js-ignored-tag-list', hasIgnoredTags);
        // Show or hide editing elements
        if (editingWatched) {
            addDeleteButtons('.js-watched-tag-list');
            insertFormIfMissing('.js-add-watched-container', "js-add-watched-label", ($input) => {
                removeTags('.js-ignored-tag-list', $input);
                saveTags($input, '.js-watched-tag-list', 20, true, false, true);
            });
            find('.js-watched-tag-list.js-has-subscriptions').addClass('fd-column');
        }
        else {
            find('.js-add-watched-container form, .js-watched-tag-list .delete-tag').remove();
            find('.js-watched-tag-list.js-has-subscriptions').removeClass('fd-column');
            find('.js-watched-tag-list .dropdown').addClass('d-none');
        }
        if (editingIgnored) {
            showIgnoredTags();
            addDeleteButtons('.js-ignored-tag-list');
            insertFormIfMissing('.js-add-ignored-container', "js-add-ignored-label", ($input) => {
                showRemainingIgnored();
                removeTags('.js-watched-tag-list', $input);
                saveTags($input, '.js-ignored-tag-list', 25, true, false, true);
            });
        }
        else {
            find('.js-add-ignored-container form, .js-ignored-tag-list .delete-tag').remove();
        }
        // Show relevant "edit" prompts when not editing.
        showIff('.js-edit-all-tags', !editingAll);
        showIff('.js-edit-watched-tags', (!editingWatched && hasWatchedTags));
        showIff('.js-show-add-watched, .js-show-add-watched-container', !editingWatched && !hasWatchedTags);
        showIff('.js-edit-ignored-tags', !editingIgnored && hasIgnoredTags);
        showIff('.js-show-add-ignored, .js-show-add-ignored-container', !editingIgnored && !hasIgnoredTags);
        showIff('.js-full-edit-visible', editingAll);
        showIff('.js-watched-edit-visible', editingWatched);
        showIff('.js-ignored-edit-visible', editingIgnored);
        find('.post-tag').addClass('user-tag');
        $(document).off('click', hideEditorOnOutsideClicks);
        if (currentMode != EditMode.None) {
            $(document).on('click', hideEditorOnOutsideClicks);
        }
    }
    function insertFormIfMissing(inputContainerSelector, labelElementId, callback) {
        var $inputContainer = find(inputContainerSelector);
        if ($inputContainer.children('form').length > 0) {
            return;
        }
        var $form = $(`
            <form class="mt8 d-flex">
                <input type="text" class="flex--item fl1 m0 mrn1 s-input s-input__sm brr0" aria-labelledby="${labelElementId}">
                <button type="submit" class="flex--item s-btn s-btn__filled blr0 m0"></button>
            </form>`);
        $form.find('button').text(__tr(["Add"], undefined, "en", []));
        var $input = $form.find('input[type=text]');
        StackExchange.using("tagAutocomplete", function () {
            bindTagFilterAutoComplete($input);
        });
        $form.on('submit', function (e) {
            e.preventDefault();
            callback($input);
        });
        $inputContainer.append($form);
    }
    function addDeleteButtons(listSelector) {
        find(listSelector).find('.post-tag').each(function () {
            var $tag = $(this);
            if ($tag.children('.delete-tag').length === 0) {
                $('<span>').addClass('delete-tag').attr('title', __tr(["Remove tag"], undefined, "en", [])).appendTo($tag).click((e) => { removeTagPreference($tag); e.preventDefault(); });
            }
        });
    }
    function removeTagPreference($tag) {
        var $wrapper = $tag.closest('.js-tag');
        var $list = $tag.closest('.js-ignored-tag-list, .js-watched-tag-list');
        if ($list.length === 0) {
            return;
        }
        $wrapper.remove();
        let preferenceId = $list.is('.js-ignored-tag-list') ? 25 : 20;
        let preferenceValue = getTagNamesFromContainer($list).join(" ");
        savePreference(preferenceId, preferenceValue);
        applyPrefs();
        updateVisualState();
    }
    // If we have just one edit button, we only want hide it when showing everything.
    function hasSingleEditButton() {
        return find('.js-edit-ignored-tags').length === 0;
    }
    // In some cases, the ignored section may initially be hidden.  It never returns to this state.
    function showIgnoredTags() {
        find('.js-ignored-section').removeClass('d-none');
    }
    const showRemainingIgnored = function () {
        $(".js-show-remaining-ignored").addClass("d-none");
        $(".js-ignored-tag-list .js-tag").removeClass("d-none");
    };
    let previouslyDontApply = [];
    // see also: StackOverflow.Common > Tags.cs > RenderJQueryHighlightSelectorHelperClass
    function getSingleTagSelector(tagname) {
        // css class names can contain unicode, but not raw: . # +
        tagname = tagname.replace(/#/g, "ñ").replace(/\+/g, "ç").replace(/\./g, "û");
        if (/\*/.test(tagname)) {
            if (tagname.indexOf('*') == (tagname.length - 1)) {
                // optimized starts-with
                // tag* > [class*=' t-tag']
                return "[class*=' t-" + tagname.substr(0, tagname.length - 1) + "']";
            }
            // generic regex solution
            // t*name > :regex(class, t-t[^\s]*name)
            return ":regex(class, t-" + tagname.replace(/\*/g, "[^\s]*") + ")";
        }
        else {
            // exact class match
            // tagname > .t-tagname
            return ".t-" + tagname;
        }
    }
    const getTagsSelector = function (jPrefs, dontAffect) {
        return jPrefs
            .map(function (i, elem) { return $(elem).text(); })
            .filter(function (i, prefTag) {
            if (!dontAffect) // nothing to filter
                return true;
            var prefTagRegex;
            if (/\*/.test(prefTag))
                prefTagRegex = new RegExp(prefTag.replace(/([.+])/g, "\\$1").replace(/\*/g, ".*"));
            for (let i = 0; i < dontAffect.length; i++) {
                var unaffectedTag = dontAffect[i];
                // the preference is precisely the unaffected tag (e.g. user is ignoring [iphone], but has searched for [iphone]). Don't apply.
                if (prefTag === unaffectedTag)
                    return false;
                // there's a wildcard, and the preference matches the unaffected tag (e.g.
                // the user is ignoring [jquery*], but has searched for [jquery-ui]). Don't apply.
                if (prefTagRegex && prefTagRegex.test(unaffectedTag)) {
                    return false;
                }
            }
            // found no reason not to apply the preference
            return true;
        })
            .map(function (i, text) { return getSingleTagSelector(text); })
            .get().join(",");
    };
    let savePreferenceForUserId = undefined;
    function savePreference(prefId, value, callback, render) {
        var uid = '';
        if (typeof savePreferenceForUserId != 'undefined') { // moderators will have this variable set
            uid = String(savePreferenceForUserId);
        }
        var args = { "fkey": StackExchange.options.user.fkey, "key": prefId, "value": value, "forUserId": uid };
        if (render)
            args.render = 1;
        return $.post("/users/save-preference", args, callback);
    }
    var registeredTemplatePostTags = {};
    function registerTemplatePostTag($postTags) {
        $postTags.each((_, el) => {
            var $postTag = $(el);
            if ($postTag.is('.post-tag')) {
                registeredTemplatePostTags[$postTag.text()] = $postTag;
            }
        });
    }
    const saveTags = function (tagSelector, spanSelector, preferenceId, focus = false, clientOnly = false, render = false) {
        let $input = $(tagSelector);
        let $span = $(spanSelector);
        let tags = $input.val();
        // tagsSplit = newly added tags in an array, e.g., ["C#", "html"]
        let tagsSplit = StackExchange.helpers.sanitizeAndSplitTags(tags, /* allowWildcards = */ true, /* allowOperators = */ false);
        let duplicate = false;
        hideErrorPopup();
        for (let tagToCheck of tagsSplit) {
            if ($.trim(tagToCheck).length == 0) {
                continue;
            }
            // Check if a tag already exists...
            let existing = $span.find('.post-tag');
            existing.each(function () {
                if ($(this).text() == tagToCheck) {
                    $(this).fadeTo(500, 0.1).fadeTo(500, 1);
                    duplicate = true;
                    return;
                }
            });
            // ...and if not, add it to the DOM
            if (!duplicate) {
                var encodedTag = encodeURIComponent(tagToCheck);
                var $tag = $($span.find('.js-tag-template').html());
                var $postTagTemplate = registeredTemplatePostTags[tagToCheck];
                if ($postTagTemplate) {
                    $tag.find('.post-tag').replaceWith($postTagTemplate);
                }
                else {
                    $tag.find('.post-tag').attr({
                        href: (StackExchange.options.site.routePrefix || '') + '/questions/tagged/' + encodedTag,
                        title: __tr(["show questions tagged '$tag$'"], {tag: tagToCheck}, "en", []),
                    }).text(tagToCheck);
                }
                if (/~\*/.test(tagToCheck)) {
                    $tag.find('.js-tag-frequency-menu-toggle').remove();
                }
                var $nextSibling = $span.children('.js-tag').filter(function (_, el) {
                    var tag = $(el).find('.post-tag').text();
                    return tag && tagToCheck.localeCompare(tag) < 0;
                }).first();
                if ($nextSibling.length > 0) {
                    $tag.insertBefore($nextSibling);
                }
                else {
                    $span.append($tag);
                }
            }
            duplicate = false;
        }
        $input.val("");
        if (focus)
            $input.focus();
        var allTags = getTagNamesFromContainer($span);
        var allTagNames = allTags.join(" ");
        if (!clientOnly) {
            savePreference(preferenceId, allTagNames, function (o) {
                if (o && render) {
                    if (o.html) {
                        $span.find('.js-tag').remove();
                        $span.append(o.html);
                        applyPrefs();
                        updateVisualState();
                    }
                    if (o.error) {
                        showErrorIfInputVisible($input, o.error);
                    }
                }
            }, render).fail(function () {
                showErrorIfInputVisible($input, __tr(["An error occurred; please try again"], undefined, "en", []));
            });
        }
        applyPrefs();
        updateVisualState();
    };
    const showErrorIfInputVisible = function ($input, message) {
        if (currentMode !== EditMode.None && $input.parents('html').length > 0) {
            $lastErrorPopup = StackExchange.helpers.showErrorMessage($input, message, {
                position: {
                    my: 'top left',
                    at: 'bottom left',
                    offsetLeft: 10
                }
            });
        }
    };
    const getTagNamesFromContainer = function (container) {
        let newTagValue = Array();
        container.find(".post-tag").each(function (index, value) {
            let tagName = $(value).text().trim();
            if (tagName) {
                newTagValue.push(tagName);
            }
        });
        return newTagValue;
    };
    const hideIgnored = function () {
        return find('.js-hide-ignored').is(':checked');
    };
    const isIgnored = function (tags) {
        if (!hideIgnored()) {
            return false;
        }
        var $ignoredTags = find('.js-ignored-tag-list .post-tag');
        var ignoredSelector = getTagsSelector($ignoredTags, true);
        // translate return value (jquery specific selectors) of getSingleTagSelector to a regex we can test against a string
        var ignoredTagExpressions = ignoredSelector.split(/,(?!\s)/).map((s) => {
            const selectorStartsWith = /^\[class\*=' t-(.+?)'\]$/;
            const selectorRegex = /^:regex\(class, t-(.+?)\)$/;
            let regexStr;
            if (selectorStartsWith.test(s)) {
                // [class*=' t-tag'] > tag.*
                regexStr = s.match(selectorStartsWith)[1] + '.*';
            }
            else if (selectorRegex.test(s)) {
                // :regex(class, t-t.*name) > t.*name
                regexStr = s.match(selectorRegex)[1];
            }
            else {
                // .t-tagname > tagname
                regexStr = s.replace(/^\.t-/, '');
            }
            // put the className reserved characters back, but escaped so they aren't mistaken for regex reserved characters
            regexStr = regexStr.replace('ñ', '#').replace('ç', String.raw `\+`).replace('û', String.raw `\.`);
            return new RegExp(regexStr);
        });
        return ignoredTagExpressions.length > 0 && tags.some((t) => ignoredTagExpressions.some((s) => s.test(t)));
    };
    function withTiming(label, callback, millis, info) {
        if (window.performance && window.performance.now) {
            var start = window.performance.now();
            callback();
            var time = window.performance.now() - start;
            var isDev = StackExchange.options && StackExchange.options.user && StackExchange.options.user.isDeveloper;
            if (isDev || (time > millis)) {
                console.log('\'' + label + '\' took ' + time.toString() + 'ms');
                if (isDev && info && (time > millis))
                    console.log(info);
            }
        }
        else // timing not available
         {
            callback();
        }
    }
    let ApplyState;
    (function (ApplyState) {
        ApplyState[ApplyState["Ignored"] = 0] = "Ignored";
        ApplyState[ApplyState["Hidden"] = 1] = "Hidden";
        ApplyState[ApplyState["Watched"] = 2] = "Watched";
    })(ApplyState || (ApplyState = {}));
    function applyToSummary(selector, $containerEl, state) {
        const isStacksPostSummary = $containerEl.is('.js-post-summary');
        let cssClass;
        let tagClass;
        switch (state) {
            case ApplyState.Ignored:
                cssClass = isStacksPostSummary ? 's-post-summary__ignored' : 'tagged-ignored';
                tagClass = isStacksPostSummary ? 's-tag__ignored' : null;
                break;
            case ApplyState.Hidden:
                cssClass = isStacksPostSummary ? 'd-none' : 'tagged-ignored-hidden';
                tagClass = isStacksPostSummary ? 's-tag__ignored' : null;
                break;
            case ApplyState.Watched:
                cssClass = isStacksPostSummary ? 's-post-summary__watched' : 'tagged-interesting';
                tagClass = isStacksPostSummary ? 's-tag__watched' : null;
                break;
        }
        $containerEl.addClass(cssClass);
        if (tagClass) {
            // see: Tag.RenderLink
            const tagSelector = selector.replace(/([.\s])t-/g, '$1js-tagname-');
            $containerEl.find(tagSelector).addClass(tagClass);
        }
    }
    function applyPrefs(isInitialLoad, dontAffect, forUserId) {
        savePreferenceForUserId = forUserId;
        // save our dontAffect list
        if (dontAffect) {
            for (var i = 0; i < dontAffect.length; i++) {
                if (previouslyDontApply.indexOf(dontAffect[i]) == -1) {
                    previouslyDontApply.push(dontAffect[i]);
                }
            }
        }
        dontAffect = previouslyDontApply;
        var $ignoredTags = find('.js-ignored-tag-list .post-tag');
        var $watchedTags = find('.js-watched-tag-list .post-tag');
        if (isInitialLoad && $ignoredTags.length == 0 && $watchedTags.length == 0)
            return;
        const summarySelector = "div.question-summary, .js-post-summary";
        // reset classes..
        $(summarySelector)
            .removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting")
            .removeClass("d-none s-post-summary__ignored s-post-summary__watched");
        $('div.tags').find(".s-tag__ignored, .s-tag__watched").removeClass(".s-tag__ignored, .s-tag__watched");
        // create selectors for interesting/ignored/inferred tags..
        var ignoredSelector = getTagsSelector($ignoredTags, dontAffect);
        var interestedSelector = getTagsSelector($watchedTags, dontAffect);
        if (ignoredSelector.length > 0) {
            var ignoredClass = hideIgnored() ? ApplyState.Hidden : ApplyState.Ignored;
            withTiming('ignored', function () {
                const container = $('div.tags').filter(ignoredSelector).closest(summarySelector);
                applyToSummary(ignoredSelector, container, ignoredClass);
            }, 1500, ignoredSelector);
        }
        if (interestedSelector.length > 0) {
            withTiming('interesting', function () {
                const container = $('div.tags').filter(interestedSelector).closest(summarySelector);
                applyToSummary(interestedSelector, container, ApplyState.Watched);
            }, 1500, interestedSelector);
        }
    }
    ;
    const removeTags = function (tagListSelector, inputSelector) {
        var tags = StackExchange.helpers.sanitizeAndSplitTags($(inputSelector).val(), /* allowWildcards = */ true, /* allowOperators = */ false);
        find(tagListSelector).find('.js-tag').filter(function () { return tags.indexOf($(this).data('tag-name') || $(this).find('.post-tag').text()) !== -1; }).remove();
    };
    const updateVisibleTagPrefs = function (tagName, action) {
        var input = $('<input>').val(tagName);
        if (action == 'favorite') {
            removeTags('.js-ignored-tag-list', input);
            saveTags(input, '.js-watched-tag-list', 20, false, /* clientOnly = */ true);
        }
        if (action == 'ignore') {
            removeTags('.js-watched-tag-list', input);
            showIgnoredTags();
            showRemainingIgnored();
            saveTags(input, '.js-ignored-tag-list', 25, false, /* clientOnly = */ true);
        }
        if (action == 'clear') {
            StackExchange.helpers.hideToasts();
            removeTags('.js-watched-tag-list, .js-ignored-tag-list', input);
            applyPrefs();
            updateVisualState();
        }
    };
    function hideEditorOnOutsideClicks(evt) {
        if (!$.contains(document.documentElement, evt.target) ||
            $(evt.target).closest('.js-tag-preferences-container, .js-edit-interesting, .s-modal, .message').length > 0) {
            return;
        }
        hideEditor();
    }
    const initTagFormHandlers = function () {
        var $container = $(".js-tag-preferences-container");
        $container.on('click', '.js-show-add-ignored, .js-edit-ignored-tags', (e) => {
            e.preventDefault();
            showEditor(EditMode.Ignored);
            $container.find('.js-add-ignored-container input[type=text]').focus();
        });
        $container.on('click', '.js-show-add-watched, .js-edit-watched-tags', (e) => {
            e.preventDefault();
            showEditor(EditMode.Watching);
            $container.find('.js-add-watched-container input[type=text]').focus();
        });
        $container.on('click', '.js-edit-all-tags', (e) => { showEditor(EditMode.Full); e.preventDefault(); });
        $container.on('click', '.js-show-remaining-ignored', () => showRemainingIgnored());
        $container.on('click', '.js-hide-ignored, .js-dim-ignored', () => { savePreference(30, hideIgnored()); applyPrefs(); });
        $container.on('click', '.js-hide-editor', () => hideEditor());
        $container.on('click', '.js-tag-frequency-menu-toggle', function () {
            var $button = $(this);
            $button.find('.dropdown').toggleClass("d-none").find('a').each((_, el) => {
                var $el = $(el);
                if ($el.data('frequency') === $button.find('.js-tag-frequency-label').data('frequency')) {
                    $el.addClass('selected');
                }
                else {
                    $el.removeClass('selected');
                }
            });
        });
        $container.on('click', '.dropdown a', function () {
            let $this = $(this);
            let tagName = $this.closest('.js-tag').find('.post-tag').text();
            let frequency = $this.data('frequency');
            if (tagName) {
                changeSubscriptionFrequency(tagName, frequency, function (result) {
                    $this.closest('.dropdown').addClass('d-none');
                });
            }
            return false; // these are <a> and shouldn't affect navigation
        });
        $container.on('click', (evt) => {
            var dropdownNotToHide = $(evt.target).closest('.js-tag-frequency-menu-toggle').find('.dropdown').get(0);
            find('.dropdown').filter((_, el) => el != dropdownNotToHide).addClass('d-none');
        });
        $(".js-edit-interesting").on("click", function (e) {
            e.preventDefault();
            if ($container.length) {
                showEditor(EditMode.Watching);
                $("html, body").animate({ scrollTop: $container.offset().top }, 400, () => $container.find('.js-add-watched-container input[type=text]').focus());
            }
        });
    };
    const init = function () {
        StackExchange.tagmenu.init();
        bindTagEmbedClicks();
        initTagFormHandlers();
        updateVisualState();
    };
    const changeSubscriptionFrequency = function (tagName, frequency, callback) {
        var uid = null;
        if (typeof forUserId != 'undefined') { // moderators will have this variable set
            uid = String(forUserId);
        }
        var args = { "fkey": StackExchange.options.user.fkey, "tagName": tagName, "notificationFrequencyId": frequency, "forUserId": uid };
        $.post("/users/tags/subscribe", args, function (result, textStatus, jqXHR) {
            if (result) {
                find('.js-watched-tag-list.js-has-subscriptions .js-tag').each(function () {
                    var $tag = $(this);
                    if ($tag.find('.post-tag').text() === tagName) {
                        $tag.find('.js-tag-frequency-label').text(labelForFrequency(frequency)).data('frequency', frequency);
                    }
                });
            }
            if (callback) {
                callback(result, textStatus, jqXHR);
            }
        }).fail((response) => {
            var _a;
            var error = (_a = response.responseJSON.ErrorMessage) !== null && _a !== void 0 ? _a : response.responseJSON;
            StackExchange.helpers.showToast("Error updating notification frequency: " + error, { type: "danger" });
        });
    };
    const labelForFrequency = function (frequency) {
        /** This is mirrored in TagSetRow.cs => LabelForNotificationFrequency */
        switch (frequency) {
            case StackOverflow.Models.NotificationFrequencyTypeId.None:
                return __tr(["Never"], undefined, "en", []);
            case StackOverflow.Models.NotificationFrequencyTypeId.Daily:
                return __tr(["Daily"], undefined, "en", []);
            case StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes:
                return __tr(["As soon as possible"], undefined, "en", []);
            default:
                return __tr(["Unknown"], undefined, "en", []);
        }
    };
    const setEmbeddedTagPrefs = function ($embed, action) {
        const tagName = $embed.data('tag-name');
        const slug = $embed.data('slug').toString();
        // update interesting tags (client side)
        registerTemplatePostTag($embed.find('.js-templates .post-tag'));
        updateVisibleTagPrefs(tagName, action);
        // update update favorites (server side)
        $.ajax({
            type: 'POST',
            url: '/tags/' + encodeURIComponent(slug) + '/prefs',
            data: { 'action': action, 'fkey': StackExchange.options.user.fkey },
            dataType: 'html',
            success: function (result) {
                $('.js-embedded-tag-preferences').each((_, elem) => {
                    var _a;
                    var $embed = $(elem);
                    if (((_a = $embed.data('slug')) === null || _a === void 0 ? void 0 : _a.toString()) === slug) {
                        // The existing embed may have additional classes from the CSHTML. Copy them over.
                        var $newEmbed = $('' + result).addClass(elem.className);
                        $newEmbed.find('.js-tag-frequency-popup').remove();
                        $embed.replaceWith($newEmbed);
                    }
                });
                showWatchingToast(tagName, result);
            },
            error: function (res, textStatus, errorThrown) {
            },
            complete: function () {
                $embed.find('.is-loading').removeClass('is-loading');
            }
        });
    };
    const showWatchingToast = function (tagName, result) {
        var $result = $('' + result), $frequencyPopup = $result.find('.js-tag-frequency-popup').remove(), newFrequency = $result.data('new-frequency');
        if ($frequencyPopup.length > 0) {
            var channelTag = $("span.js-channeltag-" + tagName).clone();
            channelTag[0].classList.remove("d-none");
            var watchingMessage = __tr(["You're now watching $tag$."], {tag: channelTag[0].outerHTML}, "en", []);
            StackExchange.helpers.showToast(watchingMessage, {
                role: 'alert',
                type: 'success',
                useRawHtml: true,
                actions: [
                    {
                        labelContents: "<span class='td-underline'>Manage notification frequency</span>",
                        click: () => showFrequencyPopup(tagName, result)
                    }
                ]
            });
        }
        else {
            showFrequencyToast(tagName, newFrequency);
        }
    };
    const showFrequencyPopup = function (tagName, result) {
        var $result = $(result), $frequencyPopup = $result.find('.js-tag-frequency-popup').remove();
        StackExchange.helpers.showModal($frequencyPopup);
        $frequencyPopup.find('.js-frequency-submit').click(function () {
            const checkedFrequencyValue = $frequencyPopup.find(".js-frequency:checked").val();
            const checkedFrequency = StackOverflow.Models.NotificationFrequencyTypeId[checkedFrequencyValue];
            changeSubscriptionFrequency(tagName, checkedFrequency, () => $frequencyPopup.fadeOutAndRemove());
        });
    };
    const showFrequencyToast = function (tagName, newFrequency) {
        var frequencyMessage;
        if (newFrequency == StackOverflow.Models.NotificationFrequencyTypeId.Daily) {
            frequencyMessage = __tr(["You'll receive daily emails when there is new activity in this tag."], undefined, "en", []);
        }
        else if (newFrequency == StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes) {
            frequencyMessage = __tr(["You'll receive an email when there is new activity in this tag."], undefined, "en", []);
        }
        else {
            return;
        }
        var watchingMessage = __tr(["You're now watching $tag$."], {tag: '<span class="d-inline-block bg-green-300 px4 py2 bar-sm">' + StackExchange.helpers.htmlEncode(tagName) + '</span>'}, "en", []);
        var $message = StackExchange.helpers.showToast(watchingMessage + ' ' + frequencyMessage, {
            role: 'alert',
            type: 'success',
            actions: [
                {
                    labelContents: Svg.UndoSm().add($('<span/>').text(__tr(["Undo"], undefined, "en", []))),
                    click: () => changeSubscriptionFrequency(tagName, StackOverflow.Models.NotificationFrequencyTypeId.None, function (result) {
                        if (result) {
                            $message.fadeOutAndRemove();
                        }
                    })
                }
            ],
            useRawHtml: true
        });
    };
    const bindTagEmbedClicks = function () {
        $(document).on('click', '.js-embedded-tag-preferences button', function () {
            var $this = $(this), $embed = $this.closest('.js-embedded-tag-preferences'), action = $this.data('action');
            if (!$this.is(".is-loading")) {
                $this.addClass('is-loading');
                setEmbeddedTagPrefs($embed, action);
            }
        });
    };
    return {
        applyPrefs: applyPrefs,
        isIgnored: isIgnored,
        resetDontApplyCache: function () { previouslyDontApply = []; },
        init: init,
    };
})();


/***/ }),

/***/ "./_Scripts/PartialJS/full/99_UserFlags.ts":
/*!*************************************************!*\
  !*** ./_Scripts/PartialJS/full/99_UserFlags.ts ***!
  \*************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
//
// Modulifying note: intentionally not deleting this file since legacy code may reference it directly
//
var StackExchange;
(function (StackExchange) {
    var helpers;
    (function (helpers) {
        function toggleUserFlags(flags, value, userId) {
            const user = StackExchange.options.user;
            return $.post(`/users/toggle-flag/${flags}/${!!value}`, {
                fkey: user.fkey,
                userId: userId || user.proxiedUserId || user.userId
            }).then(response => !!response.hasFlags);
        }
        helpers.toggleUserFlags = toggleUserFlags;
        function toggleAccountPreferenceFlags(flags, value, accountId) {
            const user = StackExchange.options.user;
            return $.post(`/account/toggle-preference-flag`, {
                fkey: user.fkey,
                accountId: accountId || user.accountId,
                flag: flags,
                status: value
            }).then(response => !!response.hasFlags);
        }
        helpers.toggleAccountPreferenceFlags = toggleAccountPreferenceFlags;
        ;
    })(helpers = StackExchange.helpers || (StackExchange.helpers = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full/99_rollback.ts":
/*!************************************************!*\
  !*** ./_Scripts/PartialJS/full/99_rollback.ts ***!
  \************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
var StackExchange;
(function (StackExchange) {
    var rollback;
    (function (rollback) {
        async function rollbackRevision($button) {
            let url = $button.attr('data-url');
            let message = $button.attr('data-description');
            let confirmed = await StackExchange.helpers.showConfirmModal({
                title: __tr(["Are you sure you want to rollback?"], undefined, "en", []),
                body: message,
                buttonLabel: __tr(["Rollback"], undefined, "en", []),
                returnElements: $button,
            });
            if (!confirmed) {
                return;
            }
            let result = await $.post(url, { fkey: StackExchange.options.user.fkey });
            if (result.success) {
                window.location.reload();
            }
            else if (result.message) {
                StackExchange.helpers.showToast(result.message, { type: 'danger' });
            }
        }
        function bindButtons() {
            $(document).on('click', '.js-rollback-revision', function () { rollbackRevision($(this)); });
        }
        rollback.bindButtons = bindButtons;
    })(rollback = StackExchange.rollback || (StackExchange.rollback = {}));
})(StackExchange || (StackExchange = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full/definitions/CSharpToTypescript.ts":
/*!*******************************************************************!*\
  !*** ./_Scripts/PartialJS/full/definitions/CSharpToTypescript.ts ***!
  \*******************************************************************/
/***/ (() => {

/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


"use strict";
// ========================================================= //
// THIS FILE IS AUTOMATICALLY GENERATED                      //
//                                                           //
// Changes will be discarded on next compile                 //
//                                                           //
// To modify this file, make changes to:                     //
// _Scripts\PartialJS\full\definitions\CSharpToTypescript.cs //
// ========================================================= //
// StackOverflow.Models.NotificationFrequencyTypeId
var StackOverflow;
(function (StackOverflow) {
    var Models;
    (function (Models) {
        let NotificationFrequencyTypeId;
        (function (NotificationFrequencyTypeId) {
            NotificationFrequencyTypeId[NotificationFrequencyTypeId["None"] = 0] = "None";
            NotificationFrequencyTypeId[NotificationFrequencyTypeId["FifteenMinutes"] = 1] = "FifteenMinutes";
            NotificationFrequencyTypeId[NotificationFrequencyTypeId["Daily"] = 2] = "Daily";
        })(NotificationFrequencyTypeId = Models.NotificationFrequencyTypeId || (Models.NotificationFrequencyTypeId = {}));
    })(Models = StackOverflow.Models || (StackOverflow.Models = {}));
})(StackOverflow || (StackOverflow = {}));
// StackOverflow.Models.AccountPreferenceFlags
(function (StackOverflow) {
    var Models;
    (function (Models) {
        let AccountPreferenceFlags;
        (function (AccountPreferenceFlags) {
            AccountPreferenceFlags[AccountPreferenceFlags["None"] = 0] = "None";
            AccountPreferenceFlags[AccountPreferenceFlags["HideLeftNavigation"] = 1] = "HideLeftNavigation";
            AccountPreferenceFlags[AccountPreferenceFlags["EnableKeyboardShortcuts"] = 2] = "EnableKeyboardShortcuts";
            AccountPreferenceFlags[AccountPreferenceFlags["HideHotNetworkQuestionsSidebar"] = 8] = "HideHotNetworkQuestionsSidebar";
            AccountPreferenceFlags[AccountPreferenceFlags["DisableNewsletterPersonalization"] = 16] = "DisableNewsletterPersonalization";
            AccountPreferenceFlags[AccountPreferenceFlags["DismissFreemiumTeamsCreationCTA"] = 32] = "DismissFreemiumTeamsCreationCTA";
            AccountPreferenceFlags[AccountPreferenceFlags["UnifiedSearchActiveByDefault"] = 64] = "UnifiedSearchActiveByDefault";
            AccountPreferenceFlags[AccountPreferenceFlags["DismissReviewQueueNoticeCampaign"] = 128] = "DismissReviewQueueNoticeCampaign";
            AccountPreferenceFlags[AccountPreferenceFlags["ForYouUnreadOnlyByDefault"] = 256] = "ForYouUnreadOnlyByDefault";
            AccountPreferenceFlags[AccountPreferenceFlags["DismissCollectivesNavbarCTA"] = 512] = "DismissCollectivesNavbarCTA";
            AccountPreferenceFlags[AccountPreferenceFlags["SearchTagNamesOnly"] = 1024] = "SearchTagNamesOnly";
            AccountPreferenceFlags[AccountPreferenceFlags["HideSGPostsOutsideOfStagingGround"] = 2048] = "HideSGPostsOutsideOfStagingGround";
        })(AccountPreferenceFlags = Models.AccountPreferenceFlags || (Models.AccountPreferenceFlags = {}));
    })(Models = StackOverflow.Models || (StackOverflow.Models = {}));
})(StackOverflow || (StackOverflow = {}));
// StackOverflow.Models.UserFlags
(function (StackOverflow) {
    var Models;
    (function (Models) {
        let UserFlags;
        (function (UserFlags) {
            UserFlags[UserFlags["None"] = 0] = "None";
            UserFlags[UserFlags["DisableSideNav"] = 1073741824] = "DisableSideNav";
            UserFlags[UserFlags["TeamGuide"] = 1] = "TeamGuide";
            UserFlags[UserFlags["DismissMarkdownEditorHelp"] = 2] = "DismissMarkdownEditorHelp";
            UserFlags[UserFlags["HideLeftNavigation"] = 4] = "HideLeftNavigation";
            UserFlags[UserFlags["DismissMentionsCallout"] = 8] = "DismissMentionsCallout";
            UserFlags[UserFlags["DismissQuestionPageProductBanner"] = 16] = "DismissQuestionPageProductBanner";
            UserFlags[UserFlags["DismissWelcomeModal"] = 32] = "DismissWelcomeModal";
            UserFlags[UserFlags["DismissCloseReopenPrivilegePopover"] = 64] = "DismissCloseReopenPrivilegePopover";
            UserFlags[UserFlags["DismissCloseReopenPrivilegeExplanationModal"] = 128] = "DismissCloseReopenPrivilegeExplanationModal";
            UserFlags[UserFlags["DismissPostReactionIntroPopover"] = 256] = "DismissPostReactionIntroPopover";
            UserFlags[UserFlags["DismissFollowQuestionIntroPopover"] = 512] = "DismissFollowQuestionIntroPopover";
            UserFlags[UserFlags["DismissClosedEditModal"] = 1024] = "DismissClosedEditModal";
            UserFlags[UserFlags["DismissModalForCompletedEditOnClosedQuestion"] = 2048] = "DismissModalForCompletedEditOnClosedQuestion";
            UserFlags[UserFlags["DismissAddAdminNotice"] = 4096] = "DismissAddAdminNotice";
            UserFlags[UserFlags["ShowReviewQueueNotice"] = 8192] = "ShowReviewQueueNotice";
            UserFlags[UserFlags["ReviewQueueNoticeIsForCampaign"] = 16384] = "ReviewQueueNoticeIsForCampaign";
            UserFlags[UserFlags["DismissReviewOnboarding"] = 32768] = "DismissReviewOnboarding";
            UserFlags[UserFlags["ShowNewReviewerOnboarding"] = 65536] = "ShowNewReviewerOnboarding";
            UserFlags[UserFlags["DismissModalForFirstPostQueue"] = 131072] = "DismissModalForFirstPostQueue";
            UserFlags[UserFlags["DismissModalForLateAnswerQueue"] = 262144] = "DismissModalForLateAnswerQueue";
            UserFlags[UserFlags["DismissModalForCloseVoteQueue"] = 524288] = "DismissModalForCloseVoteQueue";
            UserFlags[UserFlags["DismissModalForReopenVoteQueue"] = 1048576] = "DismissModalForReopenVoteQueue";
            UserFlags[UserFlags["DismissModalForTriageQueue"] = 2097152] = "DismissModalForTriageQueue";
            UserFlags[UserFlags["DismissModalForHelperQueue"] = 4194304] = "DismissModalForHelperQueue";
            UserFlags[UserFlags["DismissModalForSuggestedEditQueue"] = 8388608] = "DismissModalForSuggestedEditQueue";
            UserFlags[UserFlags["DismissModalForLowQualityPostQueue"] = 16777216] = "DismissModalForLowQualityPostQueue";
            UserFlags[UserFlags["DismissModalForFirstQuestionsQueue"] = 33554432] = "DismissModalForFirstQuestionsQueue";
            UserFlags[UserFlags["DismissModalForFirstAnswersQueue"] = 67108864] = "DismissModalForFirstAnswersQueue";
            UserFlags[UserFlags["DismissModalForContentHealthQueue"] = 134217728] = "DismissModalForContentHealthQueue";
            UserFlags[UserFlags["IsShareFeedbackDefaultSelf"] = 268435456] = "IsShareFeedbackDefaultSelf";
            UserFlags[UserFlags["DismissNewStagingGroundReviewerNotice"] = 536870912] = "DismissNewStagingGroundReviewerNotice";
            UserFlags[UserFlags["DismissNewStagingGroundAuthorNotice"] = 1073741824] = "DismissNewStagingGroundAuthorNotice";
            UserFlags[UserFlags["CollectivesExploredFeatures"] = -2147483648] = "CollectivesExploredFeatures";
            UserFlags[UserFlags["CollectivesReadBulletin"] = 1] = "CollectivesReadBulletin";
            UserFlags[UserFlags["CollectivesCheckedLeaderboard"] = 2] = "CollectivesCheckedLeaderboard";
            UserFlags[UserFlags["CollectivesLearnedAboutRoles"] = 4] = "CollectivesLearnedAboutRoles";
            UserFlags[UserFlags["CollectivesDiscoveredRecAnswers"] = 8] = "CollectivesDiscoveredRecAnswers";
            UserFlags[UserFlags["CollectivesSeenAll"] = 16] = "CollectivesSeenAll";
        })(UserFlags = Models.UserFlags || (Models.UserFlags = {}));
    })(Models = StackOverflow.Models || (StackOverflow.Models = {}));
})(StackOverflow || (StackOverflow = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/realtime.ts":
/*!****************************************!*\
  !*** ./_Scripts/PartialJS/realtime.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var expose_loader_exposes_EventEmitter_Content_Js_third_party_event_emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! expose-loader?exposes=EventEmitter!../../Content/Js/third-party/event-emitter.js */ "./node_modules/expose-loader/dist/cjs.js?exposes=EventEmitter!./Content/Js/third-party/event-emitter-exposed.js");
/* harmony import */ var expose_loader_exposes_EventEmitter_Content_Js_third_party_event_emitter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(expose_loader_exposes_EventEmitter_Content_Js_third_party_event_emitter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _LegacyJS_realtime_se_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LegacyJS/realtime-se.js */ "./_Scripts/LegacyJS/realtime-se.js");
/* harmony import */ var _LegacyJS_realtime_se_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_LegacyJS_realtime_se_js__WEBPACK_IMPORTED_MODULE_1__);
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});






/***/ }),

/***/ "./_Scripts/PartialJS/util.ts":
/*!************************************!*\
  !*** ./_Scripts/PartialJS/util.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   importAll: () => (/* binding */ importAll)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


function importAll(ctx) {
    // import each file in the folder, in alphabetical order
    const files = [...ctx.keys()];
    files.sort();
    for (const file of files) {
        ctx(file);
    }
}


/***/ }),

/***/ "./_Scripts/TopBar.ts":
/*!****************************!*\
  !*** ./_Scripts/TopBar.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attachInQuestionUrlRewriter: () => (/* binding */ attachInQuestionUrlRewriter)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


const INQUESTION_KEYWORD = 'inquestion';
const INQUESTION_THIS_SEARCH_TERM = `${INQUESTION_KEYWORD}:this`;
const QUESTION_URL_REGEX = /\/questions\/(\d+)/i;
/**
 * Rewrite query parameter inquestion:this to inquestion:<question id> before submitting.
 * */
function attachInQuestionUrlRewriter(inputEl, location = document.location) {
    var _a;
    (_a = inputEl === null || inputEl === void 0 ? void 0 : inputEl.form) === null || _a === void 0 ? void 0 : _a.addEventListener("submit", () => {
        if (inputEl.value.includes(INQUESTION_THIS_SEARCH_TERM)) {
            let questionId = (location.pathname.match(QUESTION_URL_REGEX) || [])[1];
            if (!!questionId) {
                inputEl.value = inputEl.value.replace(INQUESTION_THIS_SEARCH_TERM, `${INQUESTION_KEYWORD}:${questionId}`);
            }
        }
    });
}


/***/ }),

/***/ "./_Scripts/_Declarations/TypeIdEnums.ts":
/*!***********************************************!*\
  !*** ./_Scripts/_Declarations/TypeIdEnums.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VoteTypeId: () => (/* binding */ VoteTypeId)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


// TODO - it would be really nice to generate this via _CSharpToTypeScript.cs, but not an enum, just class with static int properties
// Must match `VoteTypeId.cs`
var VoteTypeId;
(function (VoteTypeId) {
    VoteTypeId[VoteTypeId["informModerator"] = -1] = "informModerator";
    VoteTypeId[VoteTypeId["undoMod"] = 0] = "undoMod";
    VoteTypeId[VoteTypeId["acceptedByOwner"] = 1] = "acceptedByOwner";
    VoteTypeId[VoteTypeId["upMod"] = 2] = "upMod";
    VoteTypeId[VoteTypeId["downMod"] = 3] = "downMod";
    VoteTypeId[VoteTypeId["offensive"] = 4] = "offensive";
    VoteTypeId[VoteTypeId["bookmark"] = 5] = "bookmark";
    VoteTypeId[VoteTypeId["close"] = 6] = "close";
    VoteTypeId[VoteTypeId["reopen"] = 7] = "reopen";
    VoteTypeId[VoteTypeId["bountyClose"] = 9] = "bountyClose";
    VoteTypeId[VoteTypeId["deletion"] = 10] = "deletion";
    VoteTypeId[VoteTypeId["undeletion"] = 11] = "undeletion";
    VoteTypeId[VoteTypeId["spam"] = 12] = "spam";
    VoteTypeId[VoteTypeId["reaction1"] = 17] = "reaction1";
    VoteTypeId[VoteTypeId["helpful"] = 18] = "helpful";
    VoteTypeId[VoteTypeId["thankYou"] = 19] = "thankYou";
    VoteTypeId[VoteTypeId["wellWritten"] = 20] = "wellWritten";
    VoteTypeId[VoteTypeId["follow"] = 21] = "follow";
    VoteTypeId[VoteTypeId["reaction2"] = 22] = "reaction2";
    VoteTypeId[VoteTypeId["reaction3"] = 23] = "reaction3";
    VoteTypeId[VoteTypeId["reaction4"] = 24] = "reaction4";
    VoteTypeId[VoteTypeId["reaction5"] = 25] = "reaction5";
    VoteTypeId[VoteTypeId["reaction6"] = 26] = "reaction6";
    VoteTypeId[VoteTypeId["reaction7"] = 27] = "reaction7";
    VoteTypeId[VoteTypeId["reaction8"] = 28] = "reaction8";
    VoteTypeId[VoteTypeId["outdated"] = 29] = "outdated";
    VoteTypeId[VoteTypeId["notOutdated"] = 30] = "notOutdated";
    VoteTypeId[VoteTypeId["preVote"] = 31] = "preVote";
    VoteTypeId[VoteTypeId["collectiveDiscussionUpvote"] = 32] = "collectiveDiscussionUpvote";
    VoteTypeId[VoteTypeId["collectiveDiscussionDownvote"] = 33] = "collectiveDiscussionDownvote";
})(VoteTypeId || (VoteTypeId = {}));


/***/ }),

/***/ "./_Scripts/modules/general/controllers/character_counter_controller.ts":
/*!******************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/character_counter_controller.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CharacterCounterController)
/* harmony export */ });
/* harmony import */ var _utilities_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utilities/debounce */ "./_Scripts/utilities/debounce.ts");
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * The events to listen to on the target input field to update the visual
 * character counter.
 */
const msgUpdateEvents = ["blur", "focus", "keyup", "paste"];
/**
 * Events where we want to almost immediately announce to screen readers the
 * remaining character count. For example, when someone focuses on the input
 * field, we want to let them know how many characters are remaining immediately
 * so that they can keep that in mind as they start typing.
 */
const srMsgImmediateUpdateEvents = ["focus", "paste"];
/**
 * Events where we want a debounced announcement to screen readers because it
 * would not make sense to spam the user with these updates. For example, if
 * someone is typing normally we don't want to try announcing the new character
 * count after each key. Instead, we wait until they've paused in typing.
 */
const srMsgPoliteUpdateEvents = ["keyup"];
/**
 * Events where we want to stop any pending announcements to screen readers
 * because the message would no longer make sense. For example, when the user
 * has navigated to another field, we don't want to announce to them the remaining
 * count in the previous field they were in.
 */
const srMsgCancelEvents = ["blur"];
const { Base, stimulusCallback } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_1__.buildController)("se-character-counter")
    .withElementType()
    .withTargets("visibleMessage", "screenReaderMessage")
    .withValues({
    cssClasses: (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_1__.objectOfShape)(),
    ignoreWhitespace: Boolean,
    invalidState: Boolean,
    maxLength: Number,
    minLength: Number,
    messageMode: String,
    target: String,
})
    .build();
/**
 * A Stimulus controller for handling character counting (not to be confused with
 * card counting).
 *
 * ## Arguments
 *
 * Like all Stimulus controllers, the arguments are prefixed with
 * `data-se-character-counter-`.
 *
 * - `css-classes-value`: a JSON object representing CSS classes to apply to
 *   breakpoints when certain thresholds are met of the character limit. The keys
 *   should range from 0 to 1, inclusively.
 *
 *   ```js
 *   {
 *       "1.0": "fc-red-400",
 *       "0.5": "supernova",
 *       "0": "cool"
 *   }
 *   ```
 * - `ignore-whitespace-value`: when configured to true, white space at the
 *   beginning and end of the user input are ignored from calculations; also,
 *   consecutive whitespaces are calculated as one.
 * - `invalid-state-value`: a boolean value that is updated automatically on
 *   whether or not the given input meets the length criteria.
 * - `max-length-value`: the maximum number of characters that would be allowed
 *   in the target input field. Use this attribute when you **don't** use
 *   `maxlength` on the `<input />` because `maxlength` restricts input after
 *   that threshold.
 * - `message-mode-value`: either `minimal` or `descriptive`.
 *    * `minimal` looks like: `5 / 70 characters`
 *    * `descriptive` looks like:
 *      - `Enter up to 70 characters`
 *      - `20 characters left`
 *      - `Too long by 10 characters`
 * - `min-length-value`: the minimum number of characters that are required in
 *   the target input field. Use this attribute when you **don't** use
 *   `minlength` on the `<input />`.
 * - `target-value`: a valid `document.querySelector()` value for the `<input />`
 *   to watch for character counts.
 *
 *   This goes against Stimulus conventions, however, there's no controller to
 *   serve as a parent for `<input />`s right now so this will have to do as a
 *   workaround.
 *
 * ## Actions
 *
 * - `stateChange`: when the state of this counter changes from invalid to valid,
 *   based on min/max limits.
 */
class CharacterCounterController extends Base {
    constructor() {
        super(...arguments);
        this.breakPoints = [];
        this.cssClasses = {};
        this.srTimer = -1;
        this.updateVisualMessageImmediate = () => {
            const curr = this.getCurrentCount();
            const maxLength = this.getMaxLength();
            const minLength = this.getMinLength();
            if (this.messageModeValue === "minimal" /* CharacterCounterMode.Minimal */) {
                this.visibleMessageTarget.innerText = this.minimalMessage(curr, maxLength);
            }
            else if (this.messageModeValue === "descriptive" /* CharacterCounterMode.Descriptive */) {
                this.visibleMessageTarget.innerText = this.descriptiveMessage(curr, maxLength, minLength);
            }
            else {
                this.visibleMessageTarget.innerText = "";
                StackExchange.debug.log("Invalid message mode for this Character Counter controller");
                return;
            }
            this.invalidStateValue = curr < minLength || curr > maxLength;
            this.element.classList.remove(...Object.values(this.cssClasses).flat());
            const cssClass = this.getCssClass();
            if (cssClass) {
                this.element.classList.add(...cssClass);
            }
        };
        this.updateVisualMessage = (0,_utilities_debounce__WEBPACK_IMPORTED_MODULE_0__.debounce)(this.updateVisualMessageImmediate, 100, {
            sliding: true,
        }).trigger;
        /**
         * Announce the current character count remaining to the screen reader
         * immediately without respecting any debouncing.
         *
         * **NOTE**: If the previous character count is the same as the current
         * count, then nothing new will be announced to screen readers. If you need
         * to re-announce something, see {@link announceToScreenReaderForcefully}.
         *
         * Use with caution!
         */
        this.announceToScreenReaderImmediate = () => {
            const curr = this.getCurrentCount();
            const maxLength = this.getMaxLength();
            const minLength = this.getMinLength();
            this.screenReaderMessageTarget.innerText = this.screenReaderMessage(curr, maxLength, minLength);
        };
        this.debounceUpdateScreenReader = (0,_utilities_debounce__WEBPACK_IMPORTED_MODULE_0__.debounce)(this.announceToScreenReaderImmediate, 2000, // 2 seconds; we don't want to spam our announcements to SRs after every keystroke
        { sliding: true });
        this.announceToScreenReader = this.debounceUpdateScreenReader.trigger;
        /**
         * Announce the current character count remaining to the screen reader
         * immediately without respecting any debouncing. However, this will
         * re-announce any messages to screen readers if it's the same message as
         * before.
         *
         * Use with caution!
         */
        this.announceToScreenReaderForcefully = () => {
            this.screenReaderMessageTarget.innerText = "";
            this.srTimer = window.setTimeout(() => {
                this.announceToScreenReaderImmediate();
            }, 100);
        };
        this.cancelAnnounceToScreenReader = () => {
            this.debounceUpdateScreenReader.cancel();
            clearTimeout(this.srTimer);
        };
        this.cssClassesValueChanged = () => {
            this.breakPoints = [];
            this.cssClasses = {};
            Object.entries(this.cssClassesValue).forEach(([key, classes]) => {
                this.breakPoints.push(+key);
                this.cssClasses[+key] = classes.split(" ");
            });
            this.breakPoints.sort().reverse();
        };
        this.invalidStateValueChanged = () => {
            this.element.dispatchEvent(new CustomEvent("stateChange", {
                detail: {
                    invalid: this.invalidStateValue,
                },
            }));
        };
        this.targetValueChanged = (newTarget, oldTarget) => {
            if (oldTarget) {
                this.unbindEvents(document.querySelector(oldTarget));
            }
            this.loadTarget(newTarget);
            this.bindEvents(this.targetField);
        };
        this.loadTarget = (targetQuery) => {
            const target = document.querySelector(targetQuery);
            if (target === null) {
                throw new Error(`Selector did not find a DOM element matching: ${targetQuery}`);
            }
            const tag = target.tagName.toLowerCase();
            if (tag !== "input" && tag !== "textarea") {
                throw new Error(`Only inputs and text areas are supported as targets. Given: ${tag}`);
            }
            this.targetField = target;
        };
        this.bindEvents = (element) => {
            msgUpdateEvents.forEach((event) => {
                element.addEventListener(event, this.updateVisualMessage);
            });
            srMsgImmediateUpdateEvents.forEach((event) => {
                element.addEventListener(event, this.announceToScreenReaderForcefully);
            });
            srMsgPoliteUpdateEvents.forEach((event) => {
                element.addEventListener(event, this.announceToScreenReader);
            });
            srMsgCancelEvents.forEach((event) => {
                element.addEventListener(event, this.cancelAnnounceToScreenReader);
            });
        };
        this.unbindEvents = (element) => {
            if (element === null) {
                return;
            }
            msgUpdateEvents.forEach((event) => {
                element.removeEventListener(event, this.updateVisualMessage);
            });
            srMsgImmediateUpdateEvents.forEach((event) => {
                element.removeEventListener(event, this.announceToScreenReaderForcefully);
            });
            srMsgPoliteUpdateEvents.forEach((event) => {
                element.removeEventListener(event, this.announceToScreenReader);
            });
            srMsgCancelEvents.forEach((event) => {
                element.removeEventListener(event, this.cancelAnnounceToScreenReader);
            });
        };
        this.minimalMessage = (current, max) => {
            return __tr(["$current$ / $max$ characters","$current$ / $max$ characters","$current$ / $max$ characters","$current$ / $max$ characters"], {current,max}, "en", ["current","max"]);
        };
        this.descriptiveMessage = (currCount, maxLength, minLength) => {
            if (currCount === 0) {
                if (minLength === 0) {
                    return __tr(["Enter up to $max$ characters","Enter up to $max$ characters"], {max: maxLength}, "en", ["max"]);
                }
                return __tr(["Enter at least $min$ character","Enter at least $min$ characters"], {min: minLength}, "en", ["min"]);
            }
            else if (currCount < minLength) {
                return __tr(["$count$ more to go...","$count$ more to go..."], {count: minLength - currCount}, "en", ["count"]);
            }
            const diff = maxLength - currCount;
            if (diff >= 0) {
                return __tr(["$count$ character left","$count$ characters left"], {count: diff}, "en", ["count"]);
            }
            return __tr(["Too long by $count$ character","Too long by $count$ characters"], {count: Math.abs(diff)}, "en", ["count"]);
        };
        /**
         * Identical logic to {@link descriptiveMessage} except the wording returned
         * from this method is more geared towards human understandable phrasing
         * instead of shorthand.
         */
        this.screenReaderMessage = (currCount, maxLength, minLength) => {
            if (currCount === 0 && minLength === 0) {
                return __tr(["You have $max$ characters remaining","You have $max$ characters remaining"], {max: maxLength}, "en", ["max"]);
            }
            else if (currCount < minLength) {
                return __tr(["You need at least $min$ more characters","You need at least $min$ more characters"], {min: minLength}, "en", ["min"]);
            }
            const diff = maxLength - currCount;
            if (diff >= 0) {
                return __tr(["You have $count$ characters remaining","You have $count$ characters remaining"], {count: diff}, "en", ["count"]);
            }
            return __tr(["You have $count$ characters too many","You have $count$ characters too many"], {count: Math.abs(diff)}, "en", ["count"]);
        };
    }
    connect() {
        this.loadTarget(this.targetValue);
        this.bindEvents(this.targetField);
        this.updateVisualMessageImmediate();
    }
    disconnect() {
        this.unbindEvents(this.targetField);
    }
    getCssClass() {
        const currCount = this.getCurrentCount();
        const maxLength = this.getMaxLength();
        for (const breakpoint of this.breakPoints) {
            const cls = this.cssClasses[breakpoint];
            if (currCount > maxLength * breakpoint) {
                return cls;
            }
        }
        return [];
    }
    getCurrentCount() {
        const value = this.targetField.value;
        if (this.ignoreWhitespaceValue) {
            return value
                .replace(/\s+/g, " ")
                .replace(/^\s+/, "")
                .replace(/\s+$/, "").length;
        }
        // Normalize line endings for length checks, use CRLF, because that's what the server receives when we submit LFs
        return value.replace(/\r\n/g, "\n").replace(/\n/g, "\r\n").length;
    }
    getMaxLength() {
        let length;
        if ((length = this.targetField.getAttribute("maxlength")) !== null) {
            return +length;
        }
        // Compatibility with post-validation.js
        if ((length = this.targetField.getAttribute("data-max-length")) !== null) {
            return +length;
        }
        return this.maxLengthValue;
    }
    getMinLength() {
        let length;
        if ((length = this.targetField.getAttribute("minlength")) !== null) {
            return +length;
        }
        // Compatability with post-validation.js
        if ((length = this.targetField.getAttribute("data-min-length")) !== null) {
            return +length;
        }
        return this.minLengthValue;
    }
}
__decorate([
    stimulusCallback
], CharacterCounterController.prototype, "cssClassesValueChanged", void 0);
__decorate([
    stimulusCallback
], CharacterCounterController.prototype, "invalidStateValueChanged", void 0);
__decorate([
    stimulusCallback
], CharacterCounterController.prototype, "targetValueChanged", void 0);


/***/ }),

/***/ "./_Scripts/modules/general/controllers/delayed_popover_controller.ts":
/*!****************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/delayed_popover_controller.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DelayedPopoverController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-delayed-popover")
    .withTargets("controller")
    .withValues({
    delay: Number,
    afterVisible: Boolean,
})
    .build();
/**
 * This controller allows you to set a time delay to automatically show a popover
 * after the specified delay.
 *
 * - "controller" target is attached to the element that holds the s-popover controller.
 * - "delay" value should be the number of milliseconds to wait before showing the popover.
 * - "afterVisible" value should be true if you want to wait until the controller element is visible
 */
class DelayedPopoverController extends Base {
    connect() {
        if (!this.hasControllerTarget) {
            throw new Error("No popover controller element selector provided");
        }
        if (this.afterVisibleValue) {
            // Create an observer to watch for the controller element to become visible.
            // Once visible, we start the one-shot timer to show the popover, and unregister
            // the observer.
            const observer = new IntersectionObserver((entries, observer) => {
                if (entries[0].isIntersecting) {
                    this.showPopoverAfterDelay(this.delayValue);
                    observer.unobserve(this.controllerTarget);
                }
            });
            observer.observe(this.controllerTarget);
        }
        else {
            this.showPopoverAfterDelay(this.delayValue);
        }
    }
    showPopoverAfterDelay(delay) {
        setTimeout(() => {
            Stacks.showPopover(this.controllerTarget);
        }, delay);
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/controllers/dismiss_controller.ts":
/*!********************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/dismiss_controller.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DismissController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-dismiss")
    .withTargets("deletable")
    .withValues({
    endpoint: String,
    fkey: String,
})
    .build();
/**
 * This controller enables quick wire up of buttons to dismiss notifications, banners, popopvers, etc.
 * It requires the following properties to be wired up:
 *
 * - "deletable" target on the element(s) that should be deleted from the page after a successful dismiss
 * - "endpoint" value that specifies which endpoint should be hit to record the dismiss action
 * - "fkey" value used for XSRF protection
 * - A call to the performDismiss action on the controller to perform the dismiss (wire this up on the clickable element that dismisses)
 */
class DismissController extends Base {
    performDismiss() {
        if (!this.hasEndpointValue) {
            throw new Error("Dismiss endpoint required");
        }
        if (!this.hasDeletableTarget) {
            throw new Error("At least one deletable target required");
        }
        if (!this.hasFkeyValue) {
            throw new Error("fkey value required");
        }
        const formData = new FormData();
        formData.append("fkey", this.fkeyValue);
        fetch(this.endpointValue, {
            method: "POST",
            body: formData,
        }).then(() => {
            this.deletableTargets.forEach((element) => element.remove());
        });
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/controllers/draggable_sort_controller.ts":
/*!***************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/draggable_sort_controller.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DraggableSortController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/* harmony import */ var jquery_ui_ui_widgets_sortable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery-ui/ui/widgets/sortable */ "./node_modules/jquery-ui/ui/widgets/sortable.js");
/* harmony import */ var jquery_ui_ui_widgets_sortable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_widgets_sortable__WEBPACK_IMPORTED_MODULE_1__);
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});




const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-draggable-sort")
    .withValues({
    sortAxis: String,
    placeholderClass: String,
    handleSelector: String,
})
    .withTargets("sortable")
    .build();
/**
 * A StimulusJS controller that allows dragging HTML elements to sort them.
 * It requires the following properties to be wired up:
 *
 * - "sortable" target on the elements that should be drag sortable
 * - "sort-axis" value that specifies which axis the elements should be sortable on (either "x" or "y")
 * - "placeholder-class" value that specifies the class to use for the placeholder element (optional)
 * - "handle-selector" value that specifies the selector to use for the handle element. By default it uses the whole sortable element. (optional)
 */
class DraggableSortController extends Base {
    connect() {
        if (["x", "y"].indexOf(this.sortAxisValue) === -1) {
            throw new Error("The sort-axis value must be either 'x' or 'y'.");
        }
        $(this.element).sortable({
            axis: this.sortAxisValue,
            items: "[data-se-draggable-sort-target='sortable']",
            opacity: 1.0,
            placeholder: this.hasPlaceholderClassValue
                ? this.placeholderClassValue
                : undefined,
            handle: this.hasHandleSelectorValue
                ? this.handleSelectorValue
                : undefined,
        });
    }
    sortableTargetConnected() {
        if ($(this.element).sortable("instance")) {
            $(this.element).sortable("refresh");
        }
    }
    sortableTargetDisconnected() {
        if ($(this.element).sortable("instance")) {
            $(this.element).sortable("refresh");
        }
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/controllers/follow_post_controller.ts":
/*!************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/follow_post_controller.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FollowPostController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/* harmony import */ var _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../../PartialJS/full-common/99_PostTypeId.mod */ "./_Scripts/PartialJS/full-common/99_PostTypeId.mod.ts");
/* harmony import */ var _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_Declarations/TypeIdEnums */ "./_Scripts/_Declarations/TypeIdEnums.ts");
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/* harmony import */ var _LegacyJS_stub_mod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../LegacyJS/stub.mod */ "./_Scripts/LegacyJS/stub.mod.js");
/* harmony import */ var _Shared_options_mod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../Shared/options.mod */ "./_Scripts/Shared/options.mod.ts");
/* harmony import */ var _LegacyJS_full_common_21_OpenID_mod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../LegacyJS/full-common/21_OpenID.mod */ "./_Scripts/LegacyJS/full-common/21_OpenID.mod.js");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});









const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-follow-post")
    .withTargets("follow")
    .withValues({
    postId: Number,
    postTypeId: Number,
    isFollowing: Boolean,
    followSuccessToastOverride: String,
    unfollowSuccessToastOverride: String,
    showPopover: { type: Boolean, default: true },
    anonymousUrl: String,
})
    .build();
/**
 * This controller enables post follows/unfollows. Currently does not support event tracking.
 * It requires the following properties to be wired up:
 *
 * - "follow" target on the element that triggers the follow/unfollow action
 * - "postId" value that specifies the post to be followed/unfooleds
 * - "postTypeId" value used for to customize tooltips and notification message
 *.- "isFollowing" value that indicates whether the post is already being followed
 * - "followSuccessToastOverride" - optional parameter, overrides the on follow success toast message
 * - "unfollowSuccessToastOverride" - optional parameter, overrides the on unfollow success toast message
 * - "showPopover" - optional parameter, defaults to true and show a popover on follow
 * - "anonymousUrl" - optional parameter
 */
class FollowPostController extends Base {
    connect() {
        this.updateUI(this.isFollowingValue);
        this.followTarget.onclick = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_5__["default"].user.isAnonymous
            ? this.bindAnonymousPopup.bind(this)
            : this.bindFollowUnfollow.bind(this);
    }
    bindFollowUnfollow() {
        const followTarget = this.followTarget;
        const originalIsFollowing = this.followTarget.getAttribute("aria-pressed") === "true";
        const newIsFollowing = !originalIsFollowing;
        $.ajax({
            type: "POST",
            url: `/posts/${this.postIdValue}/vote/${_Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_2__.VoteTypeId.follow}`,
            data: {
                fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_5__["default"].user.fkey,
                undo: originalIsFollowing, // if it is currently following, that means that we now have to undo the vote
            },
            success: (data) => {
                if (!data.Success) {
                    this.updateUI(originalIsFollowing);
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(data.Message, {
                        useRawHtml: true,
                        dismissable: true,
                        transient: false,
                        type: "danger",
                    });
                }
                else {
                    let followPopoverExists = $("#divFollowingConfirm-" + this.postIdValue).length >
                        0;
                    if (data.Message && this.showPopoverValue) {
                        if (!followPopoverExists) {
                            $(data.Message).insertAfter(followTarget);
                            followPopoverExists = true;
                            this.bindPopoverUnfollow();
                        }
                        // always want to make sure that these are set properly, since other code below
                        // messes with this for removing the new feature popover
                        followTarget.setAttribute("aria-controls", "divFollowingConfirm-" + this.postIdValue);
                        followTarget.setAttribute("data-controller", "s-popover s-tooltip");
                    }
                    if (newIsFollowing) {
                        // just started following, show the popover
                        if (followPopoverExists && this.showPopoverValue) {
                            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.hideToasts)();
                            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.toggleStacksPopover)($(followTarget), true);
                        }
                        else {
                            // can't find the popover controller for any reason, still show a confirmation with toast message
                            this.showFollowSuccessToast();
                        }
                    }
                    else {
                        // just unfollowed, show message at top of screen confirming
                        this.showUnfollowSuccessToast();
                        if (followPopoverExists && this.showPopoverValue) {
                            // if the popover was open (for example, user clicked the popover unfollow button) then hide it
                            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.toggleStacksPopover)($(followTarget), false);
                        }
                    }
                }
                this.updateUI(newIsFollowing);
                followTarget.removeAttribute("disabled");
            },
            error: () => {
                this.updateUI(originalIsFollowing);
                followTarget.removeAttribute("disabled");
            },
        });
    }
    bindAnonymousPopup() {
        $.ajax({
            type: "POST",
            url: this.hasAnonymousUrlValue
                ? this.anonymousUrlValue
                : `/posts/popup/anon-vote/${this.postIdValue}?voteTypeId=${_Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_2__.VoteTypeId.follow}`,
            data: { fkey: StackExchange.options.user.fkey },
            success: function (html) {
                (0,_LegacyJS_full_common_21_OpenID_mod__WEBPACK_IMPORTED_MODULE_6__.showLoginModal)(html);
            },
            error: () => {
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)("An error occurred.", {
                    type: "danger",
                });
            },
        });
    }
    bindPopoverUnfollow() {
        $(".js-unfollow-post-confirm").on("click", () => {
            this.bindFollowUnfollow();
        });
    }
    updateUI(isFollowing) {
        if (!this.followTarget) {
            return;
        }
        this.followTarget.setAttribute("aria-pressed", isFollowing ? "true" : "false");
        if (this.showPopoverValue) {
            (0,_LegacyJS_stub_mod__WEBPACK_IMPORTED_MODULE_4__.setTooltipText)($(this.followTarget), this.getTooltipText(isFollowing));
        }
        this.followTarget.innerHTML = isFollowing
            ? __tr(["Following"], undefined, "en", [])
            : __tr(["Follow"], undefined, "en", []);
    }
    showFollowSuccessToast() {
        if (this.hasFollowSuccessToastOverrideValue) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(this.followSuccessToastOverrideValue, {
                transient: true,
                useRawHtml: true,
                type: "success",
            });
        }
        else {
            switch (this.postTypeIdValue) {
                case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_1__.PostTypeId.CollectiveDiscussion:
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(__tr(["You’re now following this discussion"], undefined, "en", []), {
                        transient: true,
                    });
                    break;
                default:
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(__tr(["You’re now following this post"], undefined, "en", []), {
                        transient: true,
                    });
            }
        }
    }
    showUnfollowSuccessToast() {
        if (this.hasUnfollowSuccessToastOverrideValue) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(this.unfollowSuccessToastOverrideValue, {
                transient: true,
            });
        }
        else {
            switch (this.postTypeIdValue) {
                case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_1__.PostTypeId.CollectiveDiscussion:
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(__tr(["You’re no longer following this discussion."], undefined, "en", []), { transient: true });
                    break;
                default:
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_3__.showToast)(__tr(["You’re no longer following this post"], undefined, "en", []), {
                        transient: true,
                    });
            }
        }
    }
    getTooltipText(isFollowing) {
        if (isFollowing) {
            switch (this.postTypeIdValue) {
                case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_1__.PostTypeId.CollectiveDiscussion:
                    return __tr(["Unfollow this discussion to stop receiving notifications"], undefined, "en", []);
                default:
                    return __tr(["Unfollow this post to stop receiving notifications"], undefined, "en", []);
            }
        }
        else {
            switch (this.postTypeIdValue) {
                case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_1__.PostTypeId.CollectiveDiscussion:
                    return __tr(["Follow this discussion to receive notifications"], undefined, "en", []);
                default:
                    return __tr(["Follow this post to receive notifications"], undefined, "en", []);
            }
        }
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/controllers/nav_prevention_controller.ts":
/*!***************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/nav_prevention_controller.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavPreventionController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-nav-prevention").build();
/**
 * This controller prevents navigation away from the page if the user has unsaved changes
 *
 * It uses event delegation to listen for input events on input and textarea elements that
 * are children of the controller's element. By using event delegation by listening to the
 * controller's element, we can listen for input events on elements that are added to the
 * page after the controller is initialized.
 */
class NavPreventionController extends Base {
    constructor() {
        super(...arguments);
        this._shouldInterruptNav = false;
        this._wasInterrupting = false;
    }
    connect() {
        // Ensure proper "this" binding for the handler methods
        this.windowUnloadHandler = this.windowUnloadHandler.bind(this);
        this.navPreventionInputHandler =
            this.navPreventionInputHandler.bind(this);
        this.pause = this.pause.bind(this);
        this.resume = this.resume.bind(this);
        window.addEventListener("beforeunload", this.windowUnloadHandler, {
            capture: true,
        });
        this.element.addEventListener("input", this.navPreventionInputHandler);
    }
    disconnect() {
        window.removeEventListener("beforeunload", this.windowUnloadHandler, {
            capture: true,
        });
        this.element.removeEventListener("input", this.navPreventionInputHandler);
    }
    pause() {
        this._wasInterrupting = this._shouldInterruptNav;
        this._shouldInterruptNav = false;
    }
    resume() {
        this._shouldInterruptNav = this._wasInterrupting;
    }
    windowUnloadHandler(event) {
        if (this._shouldInterruptNav) {
            // This is the standard procedure to activate nav prevention. The dialog shown to the user
            // is handled by the browser and cannot be customized. Here is the reference URL:
            // https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event#examples
            // Chrome doesn't follow standard as of the time this code was written, so it requires
            // event.returnValue to be a non-null string.
            event.preventDefault();
            event.returnValue = "";
        }
    }
    navPreventionInputHandler(event) {
        const targetElement = event.target;
        // Only listen for input events on input and textarea elements
        if (targetElement.tagName === "INPUT" ||
            targetElement.tagName === "TEXTAREA") {
            this._shouldInterruptNav = true;
        }
    }
}


/***/ }),

/***/ "./_Scripts/modules/shared/controller-builder/index.ts":
/*!*************************************************************!*\
  !*** ./_Scripts/modules/shared/controller-builder/index.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arrayOf: () => (/* reexport safe */ _lib_controller_builder_mod__WEBPACK_IMPORTED_MODULE_0__.arrayOf),
/* harmony export */   buildController: () => (/* reexport safe */ _lib_controller_builder_mod__WEBPACK_IMPORTED_MODULE_0__.buildController),
/* harmony export */   objectOfShape: () => (/* reexport safe */ _lib_controller_builder_mod__WEBPACK_IMPORTED_MODULE_0__.objectOfShape),
/* harmony export */   registerControllers: () => (/* reexport safe */ _lib_controller_registration__WEBPACK_IMPORTED_MODULE_1__.registerControllers)
/* harmony export */ });
/* harmony import */ var _lib_controller_builder_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/controller-builder.mod */ "./_Scripts/modules/shared/controller-builder/lib/controller-builder.mod.ts");
/* harmony import */ var _lib_controller_registration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/controller-registration */ "./_Scripts/modules/shared/controller-builder/lib/controller-registration.ts");
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});






/***/ }),

/***/ "./_Scripts/modules/shared/controller-builder/lib/controller-registration.ts":
/*!***********************************************************************************!*\
  !*** ./_Scripts/modules/shared/controller-builder/lib/controller-registration.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerControllers: () => (/* binding */ registerControllers)
/* harmony export */ });
/* harmony import */ var _stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackoverflow/stacks */ "@stackoverflow/stacks");
/* harmony import */ var _stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_0__);
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});



function registerControllers(controllers, namespace) {
    for (const controller of controllers) {
        if (namespace && !controller.controllerName.startsWith(namespace)) {
            throw new Error(`The provided Stimulus controllers must be namespaced with "${namespace}"`);
        }
        _stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_0__.application.register(controller.controllerName, controller);
    }
}


/***/ }),

/***/ "./_Scripts/utilities/debounce.ts":
/*!****************************************!*\
  !*** ./_Scripts/utilities/debounce.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce)
/* harmony export */ });
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});


/**
 * Create a separate version of a given callback that guarantees only to be
 * executed once every `delay` milliseconds.
 *
 * @param callback The function to throttle the number of times it's called.
 * @param delay    The number of milliseconds allowed in between calls to
 *                 `callback`.
 * @param options  Options to configure behavior, {@see DebounceOptions}.
 */
function debounce(callback, delay, options = {}) {
    let timeout, always = options.always;
    const go = (...args) => {
        timeout = null;
        callback(...args);
    };
    return {
        trigger: (...args) => {
            if (always) {
                always(args);
            }
            if (timeout) {
                if (options.sliding) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => {
                        go(...args);
                    }, delay);
                }
            }
            else {
                timeout = setTimeout(() => {
                    go(...args);
                }, delay);
            }
        },
        cancel: () => {
            if (timeout) {
                clearTimeout(timeout);
                timeout = null;
            }
        }
    };
}


/***/ }),

/***/ "./node_modules/jquery-ui/ui/data.js":
/*!*******************************************!*\
  !*** ./node_modules/jquery-ui/ui/data.js ***!
  \*******************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: :data Selector
//>>group: Core
//>>description: Selects elements which have data stored under the specified key.
//>>docs: http://api.jqueryui.com/data-selector/

( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

return $.extend( $.expr.pseudos, {
	data: $.expr.createPseudo ?
		$.expr.createPseudo( function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		} ) :

		// Support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		}
} );
} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/i18n lazy recursive ^\\.\\/datepicker\\-.*\\.js$":
/*!****************************************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/i18n/ lazy ^\.\/datepicker\-.*\.js$ namespace object ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./datepicker-af.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-af.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-af_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ar-DZ.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ar-DZ.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ar-DZ_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ar.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ar.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ar_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-az.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-az.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-az_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-be.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-be.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-be_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-bg.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-bg.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-bg_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-bs.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-bs.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-bs_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ca.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ca.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ca_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-cs.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-cs.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-cs_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-cy-GB.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-cy-GB.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-cy-GB_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-da.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-da.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-da_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-de-AT.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-de-AT.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-de-AT_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-de.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-de.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-de_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-el.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-el.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-el_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-en-AU.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-en-AU.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-en-AU_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-en-GB.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-en-GB.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-en-GB_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-en-NZ.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-en-NZ.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-en-NZ_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-eo.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-eo.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-eo_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-es.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-es.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-es_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-et.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-et.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-et_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-eu.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-eu.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-eu_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fa.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fa.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fa_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fi.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fi.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fi_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fo.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fo.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fo_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fr-CA.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fr-CA.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fr-CA_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fr-CH.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fr-CH.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fr-CH_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-fr.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-fr.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-fr_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-gl.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-gl.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-gl_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-he.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-he.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-he_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-hi.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-hi.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-hi_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-hr.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-hr.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-hr_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-hu.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-hu.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-hu_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-hy.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-hy.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-hy_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-id.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-id.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-id_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-is.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-is.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-is_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-it-CH.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-it-CH.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-it-CH_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-it.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-it.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-it_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ja.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ja.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ja_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ka.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ka.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ka_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-kk.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-kk.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-kk_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-km.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-km.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-km_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ko.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ko.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ko_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ky.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ky.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ky_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-lb.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-lb.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-lb_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-lt.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-lt.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-lt_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-lv.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-lv.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-lv_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-mk.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-mk.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-mk_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ml.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ml.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ml_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ms.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ms.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ms_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-nb.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-nb.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-nb_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-nl-BE.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-nl-BE.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-nl-BE_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-nl.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-nl.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-nl_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-nn.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-nn.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-nn_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-no.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-no.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-no_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-pl.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-pl.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-pl_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-pt-BR.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-pt-BR.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-pt-BR_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-pt.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-pt.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-pt_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-rm.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-rm.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-rm_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ro.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ro.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ro_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ru.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ru.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ru_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sk.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sk.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sk_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sl.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sl.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sl_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sq.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sq.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sq_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sr-SR.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sr-SR.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sr-SR_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sr.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sr.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sr_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-sv.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-sv.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-sv_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-ta.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-ta.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-ta_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-th.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-th.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-th_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-tj.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-tj.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-tj_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-tr.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-tr.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-tr_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-uk.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-uk.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-uk_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-vi.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-vi.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-vi_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-zh-CN.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-zh-CN.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-zh-CN_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-zh-HK.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-zh-HK.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-zh-HK_js-node_modules_jquery-ui_ui_version_js"
	],
	"./datepicker-zh-TW.js": [
		"./node_modules/jquery-ui/ui/i18n/datepicker-zh-TW.js",
		"defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js",
		"node_modules_jquery-ui_ui_i18n_datepicker-zh-TW_js-node_modules_jquery-ui_ui_version_js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {
		return __webpack_require__.t(id, 7 | 16);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "./node_modules/jquery-ui/ui/i18n lazy recursive ^\\.\\/datepicker\\-.*\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/jquery-ui/ui/ie.js":
/*!*****************************************!*\
  !*** ./node_modules/jquery-ui/ui/ie.js ***!
  \*****************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

// This file is deprecated
return $.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );
} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/scroll-parent.js":
/*!****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/scroll-parent.js ***!
  \****************************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: scrollParent
//>>group: Core
//>>description: Get the closest ancestor element that is scrollable.
//>>docs: http://api.jqueryui.com/scrollParent/

( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

return $.fn.scrollParent = function( includeHidden ) {
	var position = this.css( "position" ),
		excludeStaticParent = position === "absolute",
		overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
		scrollParent = this.parents().filter( function() {
			var parent = $( this );
			if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
				return false;
			}
			return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) +
				parent.css( "overflow-x" ) );
		} ).eq( 0 );

	return position === "fixed" || !scrollParent.length ?
		$( this[ 0 ].ownerDocument || document ) :
		scrollParent;
};

} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/version.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/version.js ***!
  \**********************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

$.ui = $.ui || {};

return $.ui.version = "1.13.2";

} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widget.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/widget.js ***!
  \*********************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Widget
//>>group: Core
//>>description: Provides a factory for creating stateful widgets with a common API.
//>>docs: http://api.jqueryui.com/jQuery.widget/
//>>demos: http://jqueryui.com/widget/

( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

var widgetUuid = 0;
var widgetHasOwnProperty = Array.prototype.hasOwnProperty;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {

			// Only trigger remove when necessary to save time
			events = $._data( elem, "events" );
			if ( events && events.remove ) {
				$( elem ).triggerHandler( "remove" );
			}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	// ProxiedPrototype allows the provided prototype to remain unmodified
	// so that it can be used as a mixin for multiple widgets (#8876)
	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( Array.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	// Create selector for plugin
	$.expr.pseudos[ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		// Allow instantiation without "new" keyword
		if ( !this || !this._createWidget ) {
			return new constructor( options, element );
		}

		// Allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	// Extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		// Copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),

		// Track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	} );

	basePrototype = new base();

	// We need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( typeof value !== "function" ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// Redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		// Remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( widgetHasOwnProperty.call( input[ inputIndex ], key ) && value !== undefined ) {

				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );

				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			// If this is an empty collection, we need to have the instance method
			// return undefined instead of the jQuery instance
			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( typeof instance[ options ] !== "function" ||
						options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		// Callbacks
		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				// Element within the document
				element.ownerDocument :

				// Element is window or document
				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		// We can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		// Clean up events and states
		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			// Don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			// Handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			// We are doing this to create a new jQuery object because the _removeClass() call
			// on the next line is going to destroy the reference to the current elements being
			// tracked. We need to save a copy of this collection so that we can add the new classes
			// below.
			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			// We don't use _addClass() here, because that uses this.options.classes
			// for generating the string of classes. We want to use the value passed in from
			// _setOption(), this is the new value of the classes option which was passed to
			// _setOption(). We pass this value directly to _classes().
			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		// If the widget is becoming disabled, then nothing is interactive
		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function bindRemoveEvent() {
			var nodesToBind = [];

			options.element.each( function( _, element ) {
				var isTracked = $.map( that.classesElementLookup, function( elements ) {
					return elements;
				} )
					.some( function( elements ) {
						return elements.is( element );
					} );

				if ( !isTracked ) {
					nodesToBind.push( element );
				}
			} );

			that._on( $( nodesToBind ), {
				remove: "_untrackClassesElement"
			} );
		}

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					bindRemoveEvent();
					current = $( $.uniqueSort( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );

		this._off( $( event.target ) );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		// No suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// No element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				// Allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// Copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		// The original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// Copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( typeof callback === "function" &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		} else if ( options === true ) {
			options = {};
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

return $.widget;

} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/mouse.js":
/*!****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/mouse.js ***!
  \****************************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Mouse
//>>group: Widgets
//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.
//>>docs: http://api.jqueryui.com/mouse/

( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../ie */ "./node_modules/jquery-ui/ui/ie.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

var mouseHandled = false;
$( document ).on( "mouseup", function() {
	mouseHandled = false;
} );

return $.widget( "ui.mouse", {
	version: "1.13.2",
	options: {
		cancel: "input, textarea, button, select, option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.on( "mousedown." + this.widgetName, function( event ) {
				return that._mouseDown( event );
			} )
			.on( "click." + this.widgetName, function( event ) {
				if ( true === $.data( event.target, that.widgetName + ".preventClickEvent" ) ) {
					$.removeData( event.target, that.widgetName + ".preventClickEvent" );
					event.stopImmediatePropagation();
					return false;
				}
			} );

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.off( "." + this.widgetName );
		if ( this._mouseMoveDelegate ) {
			this.document
				.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
				.off( "mouseup." + this.widgetName, this._mouseUpDelegate );
		}
	},

	_mouseDown: function( event ) {

		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// We may have missed mouseup (out of window)
		if ( this._mouseStarted ) {
			this._mouseUp( event );
		}

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = ( event.which === 1 ),

			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = ( typeof this.options.cancel === "string" && event.target.nodeName ?
				$( event.target ).closest( this.options.cancel ).length : false );
		if ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if ( !this.mouseDelayMet ) {
			this._mouseDelayTimer = setTimeout( function() {
				that.mouseDelayMet = true;
			}, this.options.delay );
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted = ( this._mouseStart( event ) !== false );
			if ( !this._mouseStarted ) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if ( true === $.data( event.target, this.widgetName + ".preventClickEvent" ) ) {
			$.removeData( event.target, this.widgetName + ".preventClickEvent" );
		}

		// These delegates are required to keep context
		this._mouseMoveDelegate = function( event ) {
			return that._mouseMove( event );
		};
		this._mouseUpDelegate = function( event ) {
			return that._mouseUp( event );
		};

		this.document
			.on( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.on( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function( event ) {

		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {

			// IE mouseup check - mouseup happened when mouse was out of window
			if ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&
					!event.button ) {
				return this._mouseUp( event );

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {

				// Support: Safari <=8 - 9
				// Safari sets which to 0 if you press any of the following keys
				// during a drag (#14461)
				if ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||
						event.originalEvent.metaKey || event.originalEvent.shiftKey ) {
					this.ignoreMissingWhich = true;
				} else if ( !this.ignoreMissingWhich ) {
					return this._mouseUp( event );
				}
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if ( this._mouseStarted ) {
			this._mouseDrag( event );
			return event.preventDefault();
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted =
				( this._mouseStart( this._mouseDownEvent, event ) !== false );
			if ( this._mouseStarted ) {
				this._mouseDrag( event );
			} else {
				this._mouseUp( event );
			}
		}

		return !this._mouseStarted;
	},

	_mouseUp: function( event ) {
		this.document
			.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.off( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if ( this._mouseStarted ) {
			this._mouseStarted = false;

			if ( event.target === this._mouseDownEvent.target ) {
				$.data( event.target, this.widgetName + ".preventClickEvent", true );
			}

			this._mouseStop( event );
		}

		if ( this._mouseDelayTimer ) {
			clearTimeout( this._mouseDelayTimer );
			delete this._mouseDelayTimer;
		}

		this.ignoreMissingWhich = false;
		mouseHandled = false;
		event.preventDefault();
	},

	_mouseDistanceMet: function( event ) {
		return ( Math.max(
				Math.abs( this._mouseDownEvent.pageX - event.pageX ),
				Math.abs( this._mouseDownEvent.pageY - event.pageY )
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function( /* event */ ) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function( /* event */ ) {},
	_mouseDrag: function( /* event */ ) {},
	_mouseStop: function( /* event */ ) {},
	_mouseCapture: function( /* event */ ) {
		return true;
	}
} );

} );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/sortable.js":
/*!*******************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/sortable.js ***!
  \*******************************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Sortable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Sortable
//>>group: Interactions
//>>description: Enables items in a list to be sorted using the mouse.
//>>docs: http://api.jqueryui.com/sortable/
//>>demos: http://jqueryui.com/sortable/
//>>css.structure: ../../themes/base/sortable.css

( function( factory ) {
	"use strict";

	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ./mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js"),
			__webpack_require__(/*! ../data */ "./node_modules/jquery-ui/ui/data.js"),
			__webpack_require__(/*! ../ie */ "./node_modules/jquery-ui/ui/ie.js"),
			__webpack_require__(/*! ../scroll-parent */ "./node_modules/jquery-ui/ui/scroll-parent.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} )( function( $ ) {
"use strict";

return $.widget( "ui.sortable", $.ui.mouse, {
	version: "1.13.2",
	widgetEventPrefix: "sort",
	ready: false,
	options: {
		appendTo: "parent",
		axis: false,
		connectWith: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		dropOnEmpty: true,
		forcePlaceholderSize: false,
		forceHelperSize: false,
		grid: false,
		handle: false,
		helper: "original",
		items: "> *",
		opacity: false,
		placeholder: false,
		revert: false,
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		scope: "default",
		tolerance: "intersect",
		zIndex: 1000,

		// Callbacks
		activate: null,
		beforeStop: null,
		change: null,
		deactivate: null,
		out: null,
		over: null,
		receive: null,
		remove: null,
		sort: null,
		start: null,
		stop: null,
		update: null
	},

	_isOverAxis: function( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	},

	_isFloating: function( item ) {
		return ( /left|right/ ).test( item.css( "float" ) ) ||
			( /inline|table-cell/ ).test( item.css( "display" ) );
	},

	_create: function() {
		this.containerCache = {};
		this._addClass( "ui-sortable" );

		//Get the items
		this.refresh();

		//Let's determine the parent's offset
		this.offset = this.element.offset();

		//Initialize mouse events for interaction
		this._mouseInit();

		this._setHandleClassName();

		//We're ready to go
		this.ready = true;

	},

	_setOption: function( key, value ) {
		this._super( key, value );

		if ( key === "handle" ) {
			this._setHandleClassName();
		}
	},

	_setHandleClassName: function() {
		var that = this;
		this._removeClass( this.element.find( ".ui-sortable-handle" ), "ui-sortable-handle" );
		$.each( this.items, function() {
			that._addClass(
				this.instance.options.handle ?
					this.item.find( this.instance.options.handle ) :
					this.item,
				"ui-sortable-handle"
			);
		} );
	},

	_destroy: function() {
		this._mouseDestroy();

		for ( var i = this.items.length - 1; i >= 0; i-- ) {
			this.items[ i ].item.removeData( this.widgetName + "-item" );
		}

		return this;
	},

	_mouseCapture: function( event, overrideHandle ) {
		var currentItem = null,
			validHandle = false,
			that = this;

		if ( this.reverting ) {
			return false;
		}

		if ( this.options.disabled || this.options.type === "static" ) {
			return false;
		}

		//We have to refresh the items data once first
		this._refreshItems( event );

		//Find out if the clicked node (or one of its parents) is a actual item in this.items
		$( event.target ).parents().each( function() {
			if ( $.data( this, that.widgetName + "-item" ) === that ) {
				currentItem = $( this );
				return false;
			}
		} );
		if ( $.data( event.target, that.widgetName + "-item" ) === that ) {
			currentItem = $( event.target );
		}

		if ( !currentItem ) {
			return false;
		}
		if ( this.options.handle && !overrideHandle ) {
			$( this.options.handle, currentItem ).find( "*" ).addBack().each( function() {
				if ( this === event.target ) {
					validHandle = true;
				}
			} );
			if ( !validHandle ) {
				return false;
			}
		}

		this.currentItem = currentItem;
		this._removeCurrentsFromItems();
		return true;

	},

	_mouseStart: function( event, overrideHandle, noActivation ) {

		var i, body,
			o = this.options;

		this.currentContainer = this;

		//We only need to call refreshPositions, because the refreshItems call has been moved to
		// mouseCapture
		this.refreshPositions();

		//Prepare the dragged items parent
		this.appendTo = $( o.appendTo !== "parent" ?
				o.appendTo :
				this.currentItem.parent() );

		//Create and append the visible helper
		this.helper = this._createHelper( event );

		//Cache the helper size
		this._cacheHelperProportions();

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//The element's absolute position on the page minus margins
		this.offset = this.currentItem.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		$.extend( this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},

			// This is a relative to absolute position minus the actual position calculation -
			// only used for relative positioned helper
			relative: this._getRelativeOffset()
		} );

		// After we get the helper offset, but before we get the parent offset we can
		// change the helper's position to absolute
		// TODO: Still need to figure out a way to make relative sorting possible
		this.helper.css( "position", "absolute" );
		this.cssPosition = this.helper.css( "position" );

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		if ( o.cursorAt ) {
			this._adjustOffsetFromHelper( o.cursorAt );
		}

		//Cache the former DOM position
		this.domPosition = {
			prev: this.currentItem.prev()[ 0 ],
			parent: this.currentItem.parent()[ 0 ]
		};

		// If the helper is not the original, hide the original so it's not playing any role during
		// the drag, won't cause anything bad this way
		if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
			this.currentItem.hide();
		}

		//Create the placeholder
		this._createPlaceholder();

		//Get the next scrolling parent
		this.scrollParent = this.placeholder.scrollParent();

		$.extend( this.offset, {
			parent: this._getParentOffset()
		} );

		//Set a containment if given in the options
		if ( o.containment ) {
			this._setContainment();
		}

		if ( o.cursor && o.cursor !== "auto" ) { // cursor option
			body = this.document.find( "body" );

			// Support: IE
			this.storedCursor = body.css( "cursor" );
			body.css( "cursor", o.cursor );

			this.storedStylesheet =
				$( "<style>*{ cursor: " + o.cursor + " !important; }</style>" ).appendTo( body );
		}

		// We need to make sure to grab the zIndex before setting the
		// opacity, because setting the opacity to anything lower than 1
		// causes the zIndex to change from "auto" to 0.
		if ( o.zIndex ) { // zIndex option
			if ( this.helper.css( "zIndex" ) ) {
				this._storedZIndex = this.helper.css( "zIndex" );
			}
			this.helper.css( "zIndex", o.zIndex );
		}

		if ( o.opacity ) { // opacity option
			if ( this.helper.css( "opacity" ) ) {
				this._storedOpacity = this.helper.css( "opacity" );
			}
			this.helper.css( "opacity", o.opacity );
		}

		//Prepare scrolling
		if ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				this.scrollParent[ 0 ].tagName !== "HTML" ) {
			this.overflowOffset = this.scrollParent.offset();
		}

		//Call callbacks
		this._trigger( "start", event, this._uiHash() );

		//Recache the helper size
		if ( !this._preserveHelperProportions ) {
			this._cacheHelperProportions();
		}

		//Post "activate" events to possible containers
		if ( !noActivation ) {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
			}
		}

		//Prepare possible droppables
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.current = this;
		}

		if ( $.ui.ddmanager && !o.dropBehaviour ) {
			$.ui.ddmanager.prepareOffsets( this, event );
		}

		this.dragging = true;

		this._addClass( this.helper, "ui-sortable-helper" );

		//Move the helper, if needed
		if ( !this.helper.parent().is( this.appendTo ) ) {
			this.helper.detach().appendTo( this.appendTo );

			//Update position
			this.offset.parent = this._getParentOffset();
		}

		//Generate the original position
		this.position = this.originalPosition = this._generatePosition( event );
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;
		this.lastPositionAbs = this.positionAbs = this._convertPositionTo( "absolute" );

		this._mouseDrag( event );

		return true;

	},

	_scroll: function( event ) {
		var o = this.options,
			scrolled = false;

		if ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				this.scrollParent[ 0 ].tagName !== "HTML" ) {

			if ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -
					event.pageY < o.scrollSensitivity ) {
				this.scrollParent[ 0 ].scrollTop =
					scrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;
			} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {
				this.scrollParent[ 0 ].scrollTop =
					scrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;
			}

			if ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -
					event.pageX < o.scrollSensitivity ) {
				this.scrollParent[ 0 ].scrollLeft = scrolled =
					this.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;
			} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {
				this.scrollParent[ 0 ].scrollLeft = scrolled =
					this.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;
			}

		} else {

			if ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {
				scrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );
			} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <
					o.scrollSensitivity ) {
				scrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );
			}

			if ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {
				scrolled = this.document.scrollLeft(
					this.document.scrollLeft() - o.scrollSpeed
				);
			} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <
					o.scrollSensitivity ) {
				scrolled = this.document.scrollLeft(
					this.document.scrollLeft() + o.scrollSpeed
				);
			}

		}

		return scrolled;
	},

	_mouseDrag: function( event ) {
		var i, item, itemElement, intersection,
			o = this.options;

		//Compute the helpers position
		this.position = this._generatePosition( event );
		this.positionAbs = this._convertPositionTo( "absolute" );

		//Set the helper position
		if ( !this.options.axis || this.options.axis !== "y" ) {
			this.helper[ 0 ].style.left = this.position.left + "px";
		}
		if ( !this.options.axis || this.options.axis !== "x" ) {
			this.helper[ 0 ].style.top = this.position.top + "px";
		}

		//Do scrolling
		if ( o.scroll ) {
			if ( this._scroll( event ) !== false ) {

				//Update item positions used in position checks
				this._refreshItemPositions( true );

				if ( $.ui.ddmanager && !o.dropBehaviour ) {
					$.ui.ddmanager.prepareOffsets( this, event );
				}
			}
		}

		this.dragDirection = {
			vertical: this._getDragVerticalDirection(),
			horizontal: this._getDragHorizontalDirection()
		};

		//Rearrange
		for ( i = this.items.length - 1; i >= 0; i-- ) {

			//Cache variables and intersection, continue if no intersection
			item = this.items[ i ];
			itemElement = item.item[ 0 ];
			intersection = this._intersectsWithPointer( item );
			if ( !intersection ) {
				continue;
			}

			// Only put the placeholder inside the current Container, skip all
			// items from other containers. This works because when moving
			// an item from one container to another the
			// currentContainer is switched before the placeholder is moved.
			//
			// Without this, moving items in "sub-sortables" can cause
			// the placeholder to jitter between the outer and inner container.
			if ( item.instance !== this.currentContainer ) {
				continue;
			}

			// Cannot intersect with itself
			// no useless actions that have been done before
			// no action if the item moved is the parent of the item checked
			if ( itemElement !== this.currentItem[ 0 ] &&
				this.placeholder[ intersection === 1 ?
				"next" : "prev" ]()[ 0 ] !== itemElement &&
				!$.contains( this.placeholder[ 0 ], itemElement ) &&
				( this.options.type === "semi-dynamic" ?
					!$.contains( this.element[ 0 ], itemElement ) :
					true
				)
			) {

				this.direction = intersection === 1 ? "down" : "up";

				if ( this.options.tolerance === "pointer" ||
						this._intersectsWithSides( item ) ) {
					this._rearrange( event, item );
				} else {
					break;
				}

				this._trigger( "change", event, this._uiHash() );
				break;
			}
		}

		//Post events to containers
		this._contactContainers( event );

		//Interconnect with droppables
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.drag( this, event );
		}

		//Call callbacks
		this._trigger( "sort", event, this._uiHash() );

		this.lastPositionAbs = this.positionAbs;
		return false;

	},

	_mouseStop: function( event, noPropagation ) {

		if ( !event ) {
			return;
		}

		//If we are using droppables, inform the manager about the drop
		if ( $.ui.ddmanager && !this.options.dropBehaviour ) {
			$.ui.ddmanager.drop( this, event );
		}

		if ( this.options.revert ) {
			var that = this,
				cur = this.placeholder.offset(),
				axis = this.options.axis,
				animation = {};

			if ( !axis || axis === "x" ) {
				animation.left = cur.left - this.offset.parent.left - this.margins.left +
					( this.offsetParent[ 0 ] === this.document[ 0 ].body ?
						0 :
						this.offsetParent[ 0 ].scrollLeft
					);
			}
			if ( !axis || axis === "y" ) {
				animation.top = cur.top - this.offset.parent.top - this.margins.top +
					( this.offsetParent[ 0 ] === this.document[ 0 ].body ?
						0 :
						this.offsetParent[ 0 ].scrollTop
					);
			}
			this.reverting = true;
			$( this.helper ).animate(
				animation,
				parseInt( this.options.revert, 10 ) || 500,
				function() {
					that._clear( event );
				}
			);
		} else {
			this._clear( event, noPropagation );
		}

		return false;

	},

	cancel: function() {

		if ( this.dragging ) {

			this._mouseUp( new $.Event( "mouseup", { target: null } ) );

			if ( this.options.helper === "original" ) {
				this.currentItem.css( this._storedCSS );
				this._removeClass( this.currentItem, "ui-sortable-helper" );
			} else {
				this.currentItem.show();
			}

			//Post deactivating events to containers
			for ( var i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "deactivate", null, this._uiHash( this ) );
				if ( this.containers[ i ].containerCache.over ) {
					this.containers[ i ]._trigger( "out", null, this._uiHash( this ) );
					this.containers[ i ].containerCache.over = 0;
				}
			}

		}

		if ( this.placeholder ) {

			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,
			// it unbinds ALL events from the original node!
			if ( this.placeholder[ 0 ].parentNode ) {
				this.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );
			}
			if ( this.options.helper !== "original" && this.helper &&
					this.helper[ 0 ].parentNode ) {
				this.helper.remove();
			}

			$.extend( this, {
				helper: null,
				dragging: false,
				reverting: false,
				_noFinalSort: null
			} );

			if ( this.domPosition.prev ) {
				$( this.domPosition.prev ).after( this.currentItem );
			} else {
				$( this.domPosition.parent ).prepend( this.currentItem );
			}
		}

		return this;

	},

	serialize: function( o ) {

		var items = this._getItemsAsjQuery( o && o.connected ),
			str = [];
		o = o || {};

		$( items ).each( function() {
			var res = ( $( o.item || this ).attr( o.attribute || "id" ) || "" )
				.match( o.expression || ( /(.+)[\-=_](.+)/ ) );
			if ( res ) {
				str.push(
					( o.key || res[ 1 ] + "[]" ) +
					"=" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );
			}
		} );

		if ( !str.length && o.key ) {
			str.push( o.key + "=" );
		}

		return str.join( "&" );

	},

	toArray: function( o ) {

		var items = this._getItemsAsjQuery( o && o.connected ),
			ret = [];

		o = o || {};

		items.each( function() {
			ret.push( $( o.item || this ).attr( o.attribute || "id" ) || "" );
		} );
		return ret;

	},

	/* Be careful with the following core functions */
	_intersectsWith: function( item ) {

		var x1 = this.positionAbs.left,
			x2 = x1 + this.helperProportions.width,
			y1 = this.positionAbs.top,
			y2 = y1 + this.helperProportions.height,
			l = item.left,
			r = l + item.width,
			t = item.top,
			b = t + item.height,
			dyClick = this.offset.click.top,
			dxClick = this.offset.click.left,
			isOverElementHeight = ( this.options.axis === "x" ) || ( ( y1 + dyClick ) > t &&
				( y1 + dyClick ) < b ),
			isOverElementWidth = ( this.options.axis === "y" ) || ( ( x1 + dxClick ) > l &&
				( x1 + dxClick ) < r ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( this.options.tolerance === "pointer" ||
			this.options.forcePointerForContainers ||
			( this.options.tolerance !== "pointer" &&
				this.helperProportions[ this.floating ? "width" : "height" ] >
				item[ this.floating ? "width" : "height" ] )
		) {
			return isOverElement;
		} else {

			return ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half
				x2 - ( this.helperProportions.width / 2 ) < r && // Left Half
				t < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half
				y2 - ( this.helperProportions.height / 2 ) < b ); // Top Half

		}
	},

	_intersectsWithPointer: function( item ) {
		var verticalDirection, horizontalDirection,
			isOverElementHeight = ( this.options.axis === "x" ) ||
				this._isOverAxis(
					this.positionAbs.top + this.offset.click.top, item.top, item.height ),
			isOverElementWidth = ( this.options.axis === "y" ) ||
				this._isOverAxis(
					this.positionAbs.left + this.offset.click.left, item.left, item.width ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( !isOverElement ) {
			return false;
		}

		verticalDirection = this.dragDirection.vertical;
		horizontalDirection = this.dragDirection.horizontal;

		return this.floating ?
			( ( horizontalDirection === "right" || verticalDirection === "down" ) ? 2 : 1 ) :
			( verticalDirection && ( verticalDirection === "down" ? 2 : 1 ) );

	},

	_intersectsWithSides: function( item ) {

		var isOverBottomHalf = this._isOverAxis( this.positionAbs.top +
				this.offset.click.top, item.top + ( item.height / 2 ), item.height ),
			isOverRightHalf = this._isOverAxis( this.positionAbs.left +
				this.offset.click.left, item.left + ( item.width / 2 ), item.width ),
			verticalDirection = this.dragDirection.vertical,
			horizontalDirection = this.dragDirection.horizontal;

		if ( this.floating && horizontalDirection ) {
			return ( ( horizontalDirection === "right" && isOverRightHalf ) ||
				( horizontalDirection === "left" && !isOverRightHalf ) );
		} else {
			return verticalDirection && ( ( verticalDirection === "down" && isOverBottomHalf ) ||
				( verticalDirection === "up" && !isOverBottomHalf ) );
		}

	},

	_getDragVerticalDirection: function() {
		var delta = this.positionAbs.top - this.lastPositionAbs.top;
		return delta !== 0 && ( delta > 0 ? "down" : "up" );
	},

	_getDragHorizontalDirection: function() {
		var delta = this.positionAbs.left - this.lastPositionAbs.left;
		return delta !== 0 && ( delta > 0 ? "right" : "left" );
	},

	refresh: function( event ) {
		this._refreshItems( event );
		this._setHandleClassName();
		this.refreshPositions();
		return this;
	},

	_connectWith: function() {
		var options = this.options;
		return options.connectWith.constructor === String ?
			[ options.connectWith ] :
			options.connectWith;
	},

	_getItemsAsjQuery: function( connected ) {

		var i, j, cur, inst,
			items = [],
			queries = [],
			connectWith = this._connectWith();

		if ( connectWith && connected ) {
			for ( i = connectWith.length - 1; i >= 0; i-- ) {
				cur = $( connectWith[ i ], this.document[ 0 ] );
				for ( j = cur.length - 1; j >= 0; j-- ) {
					inst = $.data( cur[ j ], this.widgetFullName );
					if ( inst && inst !== this && !inst.options.disabled ) {
						queries.push( [ typeof inst.options.items === "function" ?
							inst.options.items.call( inst.element ) :
							$( inst.options.items, inst.element )
								.not( ".ui-sortable-helper" )
								.not( ".ui-sortable-placeholder" ), inst ] );
					}
				}
			}
		}

		queries.push( [ typeof this.options.items === "function" ?
			this.options.items
				.call( this.element, null, { options: this.options, item: this.currentItem } ) :
			$( this.options.items, this.element )
				.not( ".ui-sortable-helper" )
				.not( ".ui-sortable-placeholder" ), this ] );

		function addItems() {
			items.push( this );
		}
		for ( i = queries.length - 1; i >= 0; i-- ) {
			queries[ i ][ 0 ].each( addItems );
		}

		return $( items );

	},

	_removeCurrentsFromItems: function() {

		var list = this.currentItem.find( ":data(" + this.widgetName + "-item)" );

		this.items = $.grep( this.items, function( item ) {
			for ( var j = 0; j < list.length; j++ ) {
				if ( list[ j ] === item.item[ 0 ] ) {
					return false;
				}
			}
			return true;
		} );

	},

	_refreshItems: function( event ) {

		this.items = [];
		this.containers = [ this ];

		var i, j, cur, inst, targetData, _queries, item, queriesLength,
			items = this.items,
			queries = [ [ typeof this.options.items === "function" ?
				this.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :
				$( this.options.items, this.element ), this ] ],
			connectWith = this._connectWith();

		//Shouldn't be run the first time through due to massive slow-down
		if ( connectWith && this.ready ) {
			for ( i = connectWith.length - 1; i >= 0; i-- ) {
				cur = $( connectWith[ i ], this.document[ 0 ] );
				for ( j = cur.length - 1; j >= 0; j-- ) {
					inst = $.data( cur[ j ], this.widgetFullName );
					if ( inst && inst !== this && !inst.options.disabled ) {
						queries.push( [ typeof inst.options.items === "function" ?
							inst.options.items
								.call( inst.element[ 0 ], event, { item: this.currentItem } ) :
							$( inst.options.items, inst.element ), inst ] );
						this.containers.push( inst );
					}
				}
			}
		}

		for ( i = queries.length - 1; i >= 0; i-- ) {
			targetData = queries[ i ][ 1 ];
			_queries = queries[ i ][ 0 ];

			for ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {
				item = $( _queries[ j ] );

				// Data for target checking (mouse manager)
				item.data( this.widgetName + "-item", targetData );

				items.push( {
					item: item,
					instance: targetData,
					width: 0, height: 0,
					left: 0, top: 0
				} );
			}
		}

	},

	_refreshItemPositions: function( fast ) {
		var i, item, t, p;

		for ( i = this.items.length - 1; i >= 0; i-- ) {
			item = this.items[ i ];

			//We ignore calculating positions of all connected containers when we're not over them
			if ( this.currentContainer && item.instance !== this.currentContainer &&
					item.item[ 0 ] !== this.currentItem[ 0 ] ) {
				continue;
			}

			t = this.options.toleranceElement ?
				$( this.options.toleranceElement, item.item ) :
				item.item;

			if ( !fast ) {
				item.width = t.outerWidth();
				item.height = t.outerHeight();
			}

			p = t.offset();
			item.left = p.left;
			item.top = p.top;
		}
	},

	refreshPositions: function( fast ) {

		// Determine whether items are being displayed horizontally
		this.floating = this.items.length ?
			this.options.axis === "x" || this._isFloating( this.items[ 0 ].item ) :
			false;

		// This has to be redone because due to the item being moved out/into the offsetParent,
		// the offsetParent's position will change
		if ( this.offsetParent && this.helper ) {
			this.offset.parent = this._getParentOffset();
		}

		this._refreshItemPositions( fast );

		var i, p;

		if ( this.options.custom && this.options.custom.refreshContainers ) {
			this.options.custom.refreshContainers.call( this );
		} else {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				p = this.containers[ i ].element.offset();
				this.containers[ i ].containerCache.left = p.left;
				this.containers[ i ].containerCache.top = p.top;
				this.containers[ i ].containerCache.width =
					this.containers[ i ].element.outerWidth();
				this.containers[ i ].containerCache.height =
					this.containers[ i ].element.outerHeight();
			}
		}

		return this;
	},

	_createPlaceholder: function( that ) {
		that = that || this;
		var className, nodeName,
			o = that.options;

		if ( !o.placeholder || o.placeholder.constructor === String ) {
			className = o.placeholder;
			nodeName = that.currentItem[ 0 ].nodeName.toLowerCase();
			o.placeholder = {
				element: function() {

					var element = $( "<" + nodeName + ">", that.document[ 0 ] );

					that._addClass( element, "ui-sortable-placeholder",
							className || that.currentItem[ 0 ].className )
						._removeClass( element, "ui-sortable-helper" );

					if ( nodeName === "tbody" ) {
						that._createTrPlaceholder(
							that.currentItem.find( "tr" ).eq( 0 ),
							$( "<tr>", that.document[ 0 ] ).appendTo( element )
						);
					} else if ( nodeName === "tr" ) {
						that._createTrPlaceholder( that.currentItem, element );
					} else if ( nodeName === "img" ) {
						element.attr( "src", that.currentItem.attr( "src" ) );
					}

					if ( !className ) {
						element.css( "visibility", "hidden" );
					}

					return element;
				},
				update: function( container, p ) {

					// 1. If a className is set as 'placeholder option, we don't force sizes -
					// the class is responsible for that
					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a
					// class name is specified
					if ( className && !o.forcePlaceholderSize ) {
						return;
					}

					// If the element doesn't have a actual height or width by itself (without
					// styles coming from a stylesheet), it receives the inline height and width
					// from the dragged item. Or, if it's a tbody or tr, it's going to have a height
					// anyway since we're populating them with <td>s above, but they're unlikely to
					// be the correct height on their own if the row heights are dynamic, so we'll
					// always assign the height of the dragged item given forcePlaceholderSize
					// is true.
					if ( !p.height() || ( o.forcePlaceholderSize &&
							( nodeName === "tbody" || nodeName === "tr" ) ) ) {
						p.height(
							that.currentItem.innerHeight() -
							parseInt( that.currentItem.css( "paddingTop" ) || 0, 10 ) -
							parseInt( that.currentItem.css( "paddingBottom" ) || 0, 10 ) );
					}
					if ( !p.width() ) {
						p.width(
							that.currentItem.innerWidth() -
							parseInt( that.currentItem.css( "paddingLeft" ) || 0, 10 ) -
							parseInt( that.currentItem.css( "paddingRight" ) || 0, 10 ) );
					}
				}
			};
		}

		//Create the placeholder
		that.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );

		//Append it after the actual current item
		that.currentItem.after( that.placeholder );

		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
		o.placeholder.update( that, that.placeholder );

	},

	_createTrPlaceholder: function( sourceTr, targetTr ) {
		var that = this;

		sourceTr.children().each( function() {
			$( "<td>&#160;</td>", that.document[ 0 ] )
				.attr( "colspan", $( this ).attr( "colspan" ) || 1 )
				.appendTo( targetTr );
		} );
	},

	_contactContainers: function( event ) {
		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,
			floating, axis,
			innermostContainer = null,
			innermostIndex = null;

		// Get innermost container that intersects with item
		for ( i = this.containers.length - 1; i >= 0; i-- ) {

			// Never consider a container that's located within the item itself
			if ( $.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {
				continue;
			}

			if ( this._intersectsWith( this.containers[ i ].containerCache ) ) {

				// If we've already found a container and it's more "inner" than this, then continue
				if ( innermostContainer &&
						$.contains(
							this.containers[ i ].element[ 0 ],
							innermostContainer.element[ 0 ] ) ) {
					continue;
				}

				innermostContainer = this.containers[ i ];
				innermostIndex = i;

			} else {

				// container doesn't intersect. trigger "out" event if necessary
				if ( this.containers[ i ].containerCache.over ) {
					this.containers[ i ]._trigger( "out", event, this._uiHash( this ) );
					this.containers[ i ].containerCache.over = 0;
				}
			}

		}

		// If no intersecting containers found, return
		if ( !innermostContainer ) {
			return;
		}

		// Move the item into the container if it's not there already
		if ( this.containers.length === 1 ) {
			if ( !this.containers[ innermostIndex ].containerCache.over ) {
				this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash( this ) );
				this.containers[ innermostIndex ].containerCache.over = 1;
			}
		} else {

			// When entering a new container, we will find the item with the least distance and
			// append our item near it
			dist = 10000;
			itemWithLeastDistance = null;
			floating = innermostContainer.floating || this._isFloating( this.currentItem );
			posProperty = floating ? "left" : "top";
			sizeProperty = floating ? "width" : "height";
			axis = floating ? "pageX" : "pageY";

			for ( j = this.items.length - 1; j >= 0; j-- ) {
				if ( !$.contains(
						this.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )
				) {
					continue;
				}
				if ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {
					continue;
				}

				cur = this.items[ j ].item.offset()[ posProperty ];
				nearBottom = false;
				if ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {
					nearBottom = true;
				}

				if ( Math.abs( event[ axis ] - cur ) < dist ) {
					dist = Math.abs( event[ axis ] - cur );
					itemWithLeastDistance = this.items[ j ];
					this.direction = nearBottom ? "up" : "down";
				}
			}

			//Check if dropOnEmpty is enabled
			if ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {
				return;
			}

			if ( this.currentContainer === this.containers[ innermostIndex ] ) {
				if ( !this.currentContainer.containerCache.over ) {
					this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash() );
					this.currentContainer.containerCache.over = 1;
				}
				return;
			}

			if ( itemWithLeastDistance ) {
				this._rearrange( event, itemWithLeastDistance, null, true );
			} else {
				this._rearrange( event, null, this.containers[ innermostIndex ].element, true );
			}
			this._trigger( "change", event, this._uiHash() );
			this.containers[ innermostIndex ]._trigger( "change", event, this._uiHash( this ) );
			this.currentContainer = this.containers[ innermostIndex ];

			//Update the placeholder
			this.options.placeholder.update( this.currentContainer, this.placeholder );

			//Update scrollParent
			this.scrollParent = this.placeholder.scrollParent();

			//Update overflowOffset
			if ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
					this.scrollParent[ 0 ].tagName !== "HTML" ) {
				this.overflowOffset = this.scrollParent.offset();
			}

			this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash( this ) );
			this.containers[ innermostIndex ].containerCache.over = 1;
		}

	},

	_createHelper: function( event ) {

		var o = this.options,
			helper = typeof o.helper === "function" ?
				$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :
				( o.helper === "clone" ? this.currentItem.clone() : this.currentItem );

		//Add the helper to the DOM if that didn't happen already
		if ( !helper.parents( "body" ).length ) {
			this.appendTo[ 0 ].appendChild( helper[ 0 ] );
		}

		if ( helper[ 0 ] === this.currentItem[ 0 ] ) {
			this._storedCSS = {
				width: this.currentItem[ 0 ].style.width,
				height: this.currentItem[ 0 ].style.height,
				position: this.currentItem.css( "position" ),
				top: this.currentItem.css( "top" ),
				left: this.currentItem.css( "left" )
			};
		}

		if ( !helper[ 0 ].style.width || o.forceHelperSize ) {
			helper.width( this.currentItem.width() );
		}
		if ( !helper[ 0 ].style.height || o.forceHelperSize ) {
			helper.height( this.currentItem.height() );
		}

		return helper;

	},

	_adjustOffsetFromHelper: function( obj ) {
		if ( typeof obj === "string" ) {
			obj = obj.split( " " );
		}
		if ( Array.isArray( obj ) ) {
			obj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };
		}
		if ( "left" in obj ) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ( "right" in obj ) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ( "top" in obj ) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ( "bottom" in obj ) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		this.offsetParent = this.helper.offsetParent();
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the
		// following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the
		// next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't
		// the document, which means that the scroll is included in the initial calculation of the
		// offset of the parent, and never recalculated upon drag
		if ( this.cssPosition === "absolute" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		// This needs to be actually done for all browsers, since pageX/pageY includes this
		// information with an ugly IE fix
		if ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||
				( this.offsetParent[ 0 ].tagName &&
				this.offsetParent[ 0 ].tagName.toLowerCase() === "html" && $.ui.ie ) ) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + ( parseInt( this.offsetParent.css( "borderTopWidth" ), 10 ) || 0 ),
			left: po.left + ( parseInt( this.offsetParent.css( "borderLeftWidth" ), 10 ) || 0 )
		};

	},

	_getRelativeOffset: function() {

		if ( this.cssPosition === "relative" ) {
			var p = this.currentItem.position();
			return {
				top: p.top - ( parseInt( this.helper.css( "top" ), 10 ) || 0 ) +
					this.scrollParent.scrollTop(),
				left: p.left - ( parseInt( this.helper.css( "left" ), 10 ) || 0 ) +
					this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: ( parseInt( this.currentItem.css( "marginLeft" ), 10 ) || 0 ),
			top: ( parseInt( this.currentItem.css( "marginTop" ), 10 ) || 0 )
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var ce, co, over,
			o = this.options;
		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}
		if ( o.containment === "document" || o.containment === "window" ) {
			this.containment = [
				0 - this.offset.relative.left - this.offset.parent.left,
				0 - this.offset.relative.top - this.offset.parent.top,
				o.containment === "document" ?
					this.document.width() :
					this.window.width() - this.helperProportions.width - this.margins.left,
				( o.containment === "document" ?
					( this.document.height() || document.body.parentNode.scrollHeight ) :
					this.window.height() || this.document[ 0 ].body.parentNode.scrollHeight
				) - this.helperProportions.height - this.margins.top
			];
		}

		if ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {
			ce = $( o.containment )[ 0 ];
			co = $( o.containment ).offset();
			over = ( $( ce ).css( "overflow" ) !== "hidden" );

			this.containment = [
				co.left + ( parseInt( $( ce ).css( "borderLeftWidth" ), 10 ) || 0 ) +
					( parseInt( $( ce ).css( "paddingLeft" ), 10 ) || 0 ) - this.margins.left,
				co.top + ( parseInt( $( ce ).css( "borderTopWidth" ), 10 ) || 0 ) +
					( parseInt( $( ce ).css( "paddingTop" ), 10 ) || 0 ) - this.margins.top,
				co.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
					( parseInt( $( ce ).css( "borderLeftWidth" ), 10 ) || 0 ) -
					( parseInt( $( ce ).css( "paddingRight" ), 10 ) || 0 ) -
					this.helperProportions.width - this.margins.left,
				co.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
					( parseInt( $( ce ).css( "borderTopWidth" ), 10 ) || 0 ) -
					( parseInt( $( ce ).css( "paddingBottom" ), 10 ) || 0 ) -
					this.helperProportions.height - this.margins.top
			];
		}

	},

	_convertPositionTo: function( d, pos ) {

		if ( !pos ) {
			pos = this.position;
		}
		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" &&
				!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?
					this.offsetParent :
					this.scrollParent,
			scrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );

		return {
			top: (

				// The absolute mouse position
				pos.top	+

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.top * mod +

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.top * mod -
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollTop() :
					( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )
			),
			left: (

				// The absolute mouse position
				pos.left +

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.left * mod +

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.left * mod	-
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :
					scroll.scrollLeft() ) * mod )
			)
		};

	},

	_generatePosition: function( event ) {

		var top, left,
			o = this.options,
			pageX = event.pageX,
			pageY = event.pageY,
			scroll = this.cssPosition === "absolute" &&
				!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?
					this.offsetParent :
					this.scrollParent,
				scrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );

		// This is another very weird special case that only happens for relative elements:
		// 1. If the css position is relative
		// 2. and the scroll parent is the document or similar to the offset parent
		// we have to refresh the relative offset during the scroll so there are no jumps
		if ( this.cssPosition === "relative" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				this.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {
			this.offset.relative = this._getRelativeOffset();
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		if ( this.originalPosition ) { //If we are not dragging yet, we won't check for options

			if ( this.containment ) {
				if ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {
					pageX = this.containment[ 0 ] + this.offset.click.left;
				}
				if ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {
					pageY = this.containment[ 1 ] + this.offset.click.top;
				}
				if ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {
					pageX = this.containment[ 2 ] + this.offset.click.left;
				}
				if ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {
					pageY = this.containment[ 3 ] + this.offset.click.top;
				}
			}

			if ( o.grid ) {
				top = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /
					o.grid[ 1 ] ) * o.grid[ 1 ];
				pageY = this.containment ?
					( ( top - this.offset.click.top >= this.containment[ 1 ] &&
						top - this.offset.click.top <= this.containment[ 3 ] ) ?
							top :
							( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?
								top - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :
								top;

				left = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /
					o.grid[ 0 ] ) * o.grid[ 0 ];
				pageX = this.containment ?
					( ( left - this.offset.click.left >= this.containment[ 0 ] &&
						left - this.offset.click.left <= this.containment[ 2 ] ) ?
							left :
							( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?
								left - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :
								left;
			}

		}

		return {
			top: (

				// The absolute mouse position
				pageY -

				// Click offset (relative to the element)
				this.offset.click.top -

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.top -

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.top +
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollTop() :
					( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )
			),
			left: (

				// The absolute mouse position
				pageX -

				// Click offset (relative to the element)
				this.offset.click.left -

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.left -

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.left +
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollLeft() :
					scrollIsRootNode ? 0 : scroll.scrollLeft() ) )
			)
		};

	},

	_rearrange: function( event, i, a, hardRefresh ) {

		if ( a ) {
			a[ 0 ].appendChild( this.placeholder[ 0 ] );
		} else {
			i.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],
				( this.direction === "down" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );
		}

		//Various things done here to improve the performance:
		// 1. we create a setTimeout, that calls refreshPositions
		// 2. on the instance, we have a counter variable, that get's higher after every append
		// 3. on the local scope, we copy the counter variable, and check in the timeout,
		// if it's still the same
		// 4. this lets only the last addition to the timeout stack through
		this.counter = this.counter ? ++this.counter : 1;
		var counter = this.counter;

		this._delay( function() {
			if ( counter === this.counter ) {

				//Precompute after each DOM insertion, NOT on mousemove
				this.refreshPositions( !hardRefresh );
			}
		} );

	},

	_clear: function( event, noPropagation ) {

		this.reverting = false;

		// We delay all events that have to be triggered to after the point where the placeholder
		// has been removed and everything else normalized again
		var i,
			delayedTriggers = [];

		// We first have to update the dom position of the actual currentItem
		// Note: don't do it if the current item is already removed (by a user), or it gets
		// reappended (see #4088)
		if ( !this._noFinalSort && this.currentItem.parent().length ) {
			this.placeholder.before( this.currentItem );
		}
		this._noFinalSort = null;

		if ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {
			for ( i in this._storedCSS ) {
				if ( this._storedCSS[ i ] === "auto" || this._storedCSS[ i ] === "static" ) {
					this._storedCSS[ i ] = "";
				}
			}
			this.currentItem.css( this._storedCSS );
			this._removeClass( this.currentItem, "ui-sortable-helper" );
		} else {
			this.currentItem.show();
		}

		if ( this.fromOutside && !noPropagation ) {
			delayedTriggers.push( function( event ) {
				this._trigger( "receive", event, this._uiHash( this.fromOutside ) );
			} );
		}
		if ( ( this.fromOutside ||
				this.domPosition.prev !==
				this.currentItem.prev().not( ".ui-sortable-helper" )[ 0 ] ||
				this.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {

			// Trigger update callback if the DOM position has changed
			delayedTriggers.push( function( event ) {
				this._trigger( "update", event, this._uiHash() );
			} );
		}

		// Check if the items Container has Changed and trigger appropriate
		// events.
		if ( this !== this.currentContainer ) {
			if ( !noPropagation ) {
				delayedTriggers.push( function( event ) {
					this._trigger( "remove", event, this._uiHash() );
				} );
				delayedTriggers.push( ( function( c ) {
					return function( event ) {
						c._trigger( "receive", event, this._uiHash( this ) );
					};
				} ).call( this, this.currentContainer ) );
				delayedTriggers.push( ( function( c ) {
					return function( event ) {
						c._trigger( "update", event, this._uiHash( this ) );
					};
				} ).call( this, this.currentContainer ) );
			}
		}

		//Post events to containers
		function delayEvent( type, instance, container ) {
			return function( event ) {
				container._trigger( type, event, instance._uiHash( instance ) );
			};
		}
		for ( i = this.containers.length - 1; i >= 0; i-- ) {
			if ( !noPropagation ) {
				delayedTriggers.push( delayEvent( "deactivate", this, this.containers[ i ] ) );
			}
			if ( this.containers[ i ].containerCache.over ) {
				delayedTriggers.push( delayEvent( "out", this, this.containers[ i ] ) );
				this.containers[ i ].containerCache.over = 0;
			}
		}

		//Do what was originally in plugins
		if ( this.storedCursor ) {
			this.document.find( "body" ).css( "cursor", this.storedCursor );
			this.storedStylesheet.remove();
		}
		if ( this._storedOpacity ) {
			this.helper.css( "opacity", this._storedOpacity );
		}
		if ( this._storedZIndex ) {
			this.helper.css( "zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex );
		}

		this.dragging = false;

		if ( !noPropagation ) {
			this._trigger( "beforeStop", event, this._uiHash() );
		}

		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,
		// it unbinds ALL events from the original node!
		this.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );

		if ( !this.cancelHelperRemoval ) {
			if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
				this.helper.remove();
			}
			this.helper = null;
		}

		if ( !noPropagation ) {
			for ( i = 0; i < delayedTriggers.length; i++ ) {

				// Trigger all delayed events
				delayedTriggers[ i ].call( this, event );
			}
			this._trigger( "stop", event, this._uiHash() );
		}

		this.fromOutside = false;
		return !this.cancelHelperRemoval;

	},

	_trigger: function() {
		if ( $.Widget.prototype._trigger.apply( this, arguments ) === false ) {
			this.cancel();
		}
	},

	_uiHash: function( _inst ) {
		var inst = _inst || this;
		return {
			helper: inst.helper,
			placeholder: inst.placeholder || $( [] ),
			position: inst.position,
			originalPosition: inst.originalPosition,
			offset: inst.positionAbs,
			item: inst.currentItem,
			sender: _inst ? _inst.element : null
		};
	}

} );

} );


/***/ }),

/***/ "./_Scripts/LegacyJS/citation.mod.ts":
/*!*******************************************!*\
  !*** ./_Scripts/LegacyJS/citation.mod.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   showCitation: () => (/* binding */ showCitation)
/* harmony export */ });
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");

const showCitation = function ($link) {
    const $menu = $link.closest('.js-post-menu');
    const postId = $menu.attr('data-post-id');
    const $container = $menu.find('.js-menu-popup-container');
    // If a popup is already shown, let popup code hide it and don't reshow.
    if ($container.find('.js-cite-popup').length > 0) {
        return;
    }
    const $popup = $(`
        <div class="js-cite-popup popup d-block ws6 c-auto">
            <div class="js-cite-example mb4"></div>
            <form class="d-flex gs8">
                <label class="flex--item"><input type="radio" class="s-radio js-cite-bibtex" name="reftype" checked="checked"/> BibTeX</label>
                <label class="flex--item"><input type="radio" class="s-radio js-cite-amsrefs" name="reftype" /> amsrefs</label>
            </form>
            <textarea class="js-cite-text s-textarea w100 d-block mt4" rows="9"></textarea>
            <button type="button" class="s-btn js-cite-close mt8 mbn4 p2">Close</button>
        </div>`);
    $popup.find(".js-cite-close").click(function () { $popup.fadeOutAndRemove(); });
    $popup.find('form').on('submit', function (e) { e.preventDefault(); });
    const $example = $popup.find('.js-cite-example');
    const $bibtextOption = $popup.find('.js-cite-bibtex');
    const $amssrefsOption = $popup.find('.js-cite-amsrefs');
    const $text = $popup.find('.js-cite-text');
    $container.append($popup);
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.addSpinner)($example);
    $.ajax({
        type: "GET",
        url: "/posts/" + postId + "/citation",
        dataType: "json",
        success: function (data) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.removeSpinner)();
            $example.html(data.example);
            $text.val(data.bibtex);
            $bibtextOption.click(function () { $text.val(data.bibtex); });
            $amssrefsOption.click(function () { $text.val(data.amsref); });
        }
    });
};


/***/ }),

/***/ "./_Scripts/LegacyJS/full-common/13_Share.mod.ts":
/*!*******************************************************!*\
  !*** ./_Scripts/LegacyJS/full-common/13_Share.mod.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   share: () => (/* binding */ share)
/* harmony export */ });
// taken from Portman Wills' http://scoreawin.com/scripts/master.js
function pop(uri, name, options) {
    if (!window.open(uri, name, options)) {
        window.location.href = uri;
    }
    ;
}
;
function addTracker(url, slug, slugValue) {
    slugValue = typeof slugValue !== 'undefined' ? slugValue : '1';
    slug += "=" + slugValue;
    var quote = url.indexOf('?');
    var hash = url.indexOf('#');
    if (quote == -1) {
        if (hash == -1) {
            return url + '?' + slug;
        }
        return url.substring(0, hash) + '?' + slug + url.substring(hash);
    }
    if (hash == -1) {
        return url + '&' + slug;
    }
    return url.substring(0, hash) + '&' + slug + url.substring(hash);
}
;
function shareTwitter(link, url, message, slugValue) {
    url = addTracker(url, 'stw', slugValue);
    var twitterMaxTweetLength = 280 - 23; // 22 for t.co wrapping our urls + a space
    if (message.length > twitterMaxTweetLength) {
        message = message.substring(0, twitterMaxTweetLength - 3) + "...";
    }
    link.click(function () {
        pop('https://twitter.com/share?url=' + encodeURIComponent(url) + '&ref=twitbtn&text=' + encodeURIComponent(message), 'sharetwitter', 'toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526');
    });
}
function shareFacebook(link, url, message, slugValue) {
    url = addTracker(url, 'sfb', slugValue);
    link.click(function () {
        pop('https://www.facebook.com/sharer.php?u=' + encodeURIComponent(url) + '&ref=fbshare&t=' + encodeURIComponent(message), 'sharefacebook', 'toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436');
    });
}
function shareDevTo(link, url, title, slugValue) {
    var body, match;
    if (match = url.match(/^.*:\/\/stackoverflow\.com\/[qa]\/(\d+)(?:\/\d+)?$/)) {
        // stackoverflow.com
        body = '{% stackoverflow {postId} %}'.formatUnicorn({ postId: match[1] });
    }
    else if (match = url.match(/^.*:\/\/([a-z]*(?:\.meta)?\.stackoverflow)\.com\/[qa]\/(\d+)(?:\/\d+)?$/)) {
        // ru.stackoverflow.com, ru.meta.stackoverflow.com, etc.
        body = '{% stackexchange {postId} {host} %}'.formatUnicorn({ postId: match[2], host: match[1] });
    }
    else if (match = url.match(/^.*:\/\/(([a-z0-9]*(?:\.meta)?)\.stackexchange\.com)\/[qa]\/(\d+)(?:\/\d+)?$/)) {
        // meta.stackexchange.com, diy.stackexchange.com, diy.meta.stackexchange.com, etc.
        body = '{% stackexchange {postId} {host} %}'.formatUnicorn({ postId: match[3], host: match[2] || match[1] });
    }
    else if (match = url.match(/^.*:\/\/((?:meta\.)?[a-z0-9]*)\.(?:com|net|org)\/[qa]\/(\d+)(?:\/\d+)?$/)) {
        // mathoverflow.net, meta.mathoverflow.net, etc.
        body = '{% stackexchange {postId} {host} %}'.formatUnicorn({ postId: match[2], host: match[1] });
    }
    else {
        body = addTracker(url, 'sdv', slugValue);
    }
    link.click(function () {
        pop('https://dev.to/new?prefill=---%0Atitle%3A%20{title}%0Apublished%3A%20true%0A---%0A%0A{body}'.formatUnicorn({
            title: encodeURIComponent(title),
            body: encodeURIComponent(body)
        }), 'sharedev', 'toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526');
    });
}
const share = {
    facebook: shareFacebook,
    twitter: shareTwitter,
    devTo: shareDevTo
};


/***/ }),

/***/ "./_Scripts/LegacyJS/full/04_Vote.mod.ts":
/*!***********************************************!*\
  !*** ./_Scripts/LegacyJS/full/04_Vote.mod.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bindFetchVoteCounts: () => (/* binding */ bindFetchVoteCounts),
/* harmony export */   bookmark_init: () => (/* binding */ bookmark_init),
/* harmony export */   delete_init: () => (/* binding */ delete_init),
/* harmony export */   election_init: () => (/* binding */ election_init),
/* harmony export */   follow_init: () => (/* binding */ follow_init),
/* harmony export */   getPostId: () => (/* binding */ getPostId),
/* harmony export */   getReferrer: () => (/* binding */ getReferrer),
/* harmony export */   highlightExistingVotes: () => (/* binding */ highlightExistingVotes),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   normalizePostScore: () => (/* binding */ normalizePostScore),
/* harmony export */   submit: () => (/* binding */ submit),
/* harmony export */   vote_down: () => (/* binding */ vote_down),
/* harmony export */   vote_init: () => (/* binding */ vote_init),
/* harmony export */   vote_up: () => (/* binding */ vote_up)
/* harmony export */ });
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/* harmony import */ var _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Shared/options.mod */ "./_Scripts/Shared/options.mod.ts");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _PartialJS_full_definitions_Enums_generated_mod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../PartialJS/full/definitions/Enums.generated.mod */ "./_Scripts/PartialJS/full/definitions/Enums.generated.mod.ts");
/* harmony import */ var _PartialJS_full_99_UserFlags_mod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../PartialJS/full/99_UserFlags.mod */ "./_Scripts/PartialJS/full/99_UserFlags.mod.ts");
/* harmony import */ var _full_common_11_Question_mod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../full-common/11_Question.mod */ "./_Scripts/LegacyJS/full-common/11_Question.mod.js");
/* harmony import */ var _PartialJS_full_common_99_OutdatedAnswers_mod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PartialJS/full-common/99_OutdatedAnswers.mod */ "./_Scripts/PartialJS/full-common/99_OutdatedAnswers.mod.ts");
/* harmony import */ var _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../full-common/20_Analytics.mod */ "./_Scripts/LegacyJS/full-common/20_Analytics.mod.js");
/* harmony import */ var _realtime_se_mod__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../realtime-se.mod */ "./_Scripts/LegacyJS/realtime-se.mod.js");
/* harmony import */ var _stub_mod__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../stub.mod */ "./_Scripts/LegacyJS/stub.mod.js");
/* harmony import */ var _05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./05_VoteToCloseAndFlag.mod */ "./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.mod.ts");
/* harmony import */ var _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_Declarations/TypeIdEnums */ "./_Scripts/_Declarations/TypeIdEnums.ts");
/* harmony import */ var _LegacyJS_constants_mod__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../LegacyJS/constants.mod */ "./_Scripts/LegacyJS/constants.mod.js");
/* harmony import */ var _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./../../PartialJS/full-common/99_PostTypeId.mod */ "./_Scripts/PartialJS/full-common/99_PostTypeId.mod.ts");














function init(votesCast) {
    // when voting, should the user be directed to login?
    const promptToLogin = !(_Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.isRegistered);
    if (promptToLogin) {
        (0,_full_common_11_Question_mod__WEBPACK_IMPORTED_MODULE_5__.bindAnonymousVoteDisclaimers)();
    }
    else {
        bindLoggedIn(votesCast);
    }
    getAcceptedAnswerLinks().not(':data(bound)')
        .unadornedButtonClick(acceptAnswer_click)
        .on('update', acceptAnswer_update)
        .data('bound', true) // prevent multiple duplicate events
        .trigger('update'); // ensure UI has proper text/titles
    (0,_full_common_11_Question_mod__WEBPACK_IMPORTED_MODULE_5__.bindFetchAcceptedAnswerDates)();
    if ((0,_full_common_11_Question_mod__WEBPACK_IMPORTED_MODULE_5__.canViewVoteCounts)()) {
        bindFetchVoteCounts();
    }
    delete_init();
}
function election_init(canVote, votesCast) {
    if (canVote) {
        highlightExistingVotes(votesCast);
        bindFetchVoteCounts();
    }
    bindVoteClicks();
}
function vote_up($voteButton) {
    const $jDiv = getVotingContainer($voteButton);
    const $jUp = $jDiv.find('.js-vote-up-btn');
    const $jDown = $jDiv.find('.js-vote-down-btn');
    const isSelecting = !isSelected($jUp);
    const isReversing = isSelected($jDown);
    const incrementAmount = isSelecting ? (isReversing ? 2 : 1) : -1;
    updateModScore($jDiv, incrementAmount);
    setSelected($jUp, isSelecting);
    setSelected($jDown, false);
    submitModVote($voteButton, isSelecting ? _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.upMod : _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.undoMod);
}
function vote_down($voteButton) {
    const $jDiv = getVotingContainer($voteButton);
    const $jUp = $jDiv.find('.js-vote-up-btn');
    const $jDown = $jDiv.find('.js-vote-down-btn');
    const isSelecting = !isSelected($jDown);
    const isReversing = isSelected($jUp);
    const incrementAmount = isSelecting ? (isReversing ? -2 : -1) : 1;
    updateModScore($jDiv, incrementAmount);
    setSelected($jDown, isSelecting);
    setSelected($jUp, false);
    submitModVote($voteButton, isSelecting ? _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.downMod : _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.undoMod);
}
// used by the review dashboard
function follow_init() {
    if (!_Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.isRegistered) {
        return;
    }
    jquery__WEBPACK_IMPORTED_MODULE_2__(document)
        .off('.following')
        .on('click.following', '.js-follow-post', function () { follow(jquery__WEBPACK_IMPORTED_MODULE_2__(this)); })
        .on('click.following', '.js-unfollow-post-confirm', function () {
        // in the event that user clicks on the unfollow button inside the popover that shows after you click to follow
        // at this point, the follow button itself will have been set to Following, and on click will unfollow
        // so the click on the button in the popover should really trigger the function using the main button to unfollow
        // this is needed in order that all of the text and data attributes connected to the main button will update properly
        const $btnUnfollowPostConfirm = jquery__WEBPACK_IMPORTED_MODULE_2__(this);
        const $parentDiv = $btnUnfollowPostConfirm.closest(".js-following-confirm");
        const $btnFollowPost = $parentDiv.prev(".js-follow-post");
        follow($btnFollowPost);
    });
}
// used on the user's own bookmarks page
function bookmark_init() {
    updateBookmarkButtonTitles();
    jquery__WEBPACK_IMPORTED_MODULE_2__(document).unadornedButtonClick(function () { bookmark(jquery__WEBPACK_IMPORTED_MODULE_2__(this)); }, { selector: '.js-bookmark-btn:not(.disabled)' });
}
// used by the review dashboard
function vote_init(votesCast) {
    highlightExistingVotes(votesCast);
    bindVoteClicks();
    updateVoteButtonTitles();
    reaction_init();
    outdated_init();
}
// used by suggested edits
function delete_init(optionalCallback, optionalFormData) {
    const selector = ".js-post-menu .js-delete-post";
    const $parent = jquery__WEBPACK_IMPORTED_MODULE_2__(document);
    $parent.off("click", selector);
    $parent.on("click", selector, function (e) {
        e.preventDefault();
        deletion(jquery__WEBPACK_IMPORTED_MODULE_2__(this), optionalCallback, optionalFormData);
    });
    // Enable deleting from post notices.
    // A lot of deletion behavior is baked into the actual delete button, so we will simply simulate clicking it.
    $parent
        .off("click", ".js-post-notice-delete-post")
        .on("click", ".js-post-notice-delete-post", function () {
        jquery__WEBPACK_IMPORTED_MODULE_2__(this).closest(".question, .answer, .js-sg-question")
            .find(selector)
            .first()
            .click();
    });
    jquery__WEBPACK_IMPORTED_MODULE_2__(`.js-post-menu[data-post-type-id=${_PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Article}]`).each((i, menu) => {
        const articleId = parseInt(jquery__WEBPACK_IMPORTED_MODULE_2__(menu).attr('data-post-id'));
        const $modal = jquery__WEBPACK_IMPORTED_MODULE_2__(menu).find('.js-delete-article-modal');
        $modal.find('input[type="radio"]').change((e) => {
            $modal.find('.s-label').removeClass('bg-black-200');
            jquery__WEBPACK_IMPORTED_MODULE_2__(jquery__WEBPACK_IMPORTED_MODULE_2__(e.target).parents('.s-label')[0]).addClass('bg-black-200');
            $modal.find('textarea').attr('readonly', 'true');
            jquery__WEBPACK_IMPORTED_MODULE_2__(jquery__WEBPACK_IMPORTED_MODULE_2__(e.target).parents('.s-label')[0]).find('textarea').removeAttr('readonly');
        });
        $modal.find('.js-delete-article-btn').click((e) => {
            jquery__WEBPACK_IMPORTED_MODULE_2__(e.target).disable();
            jquery__WEBPACK_IMPORTED_MODULE_2__(e.target).addClass("is-loading");
            const postUrl = `/collectives/mod/delete-article/${articleId}`;
            const deleteReason = parseInt($modal.find('input[name="deleteReason"]:checked').val());
            const deleteComment = $modal.find('textarea').val();
            jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
                type: 'POST',
                url: postUrl,
                dataType: 'json',
                data: {
                    fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.fkey,
                    deleteReason,
                    deleteComment,
                },
                success: () => {
                    location.reload();
                },
                error: () => {
                    Stacks.hideModal($modal[0]);
                    jquery__WEBPACK_IMPORTED_MODULE_2__(e.target).enable();
                    alert('There has been an error while processing your request.');
                },
            });
        });
    });
}
function bindFetchVoteCounts($optionalVoteCountPostSpans) {
    const $elems = ($optionalVoteCountPostSpans || jquery__WEBPACK_IMPORTED_MODULE_2__('.js-vote-count')).not('.mobile-vote-count').not(':data(bound)')
        .filter(function () {
        // don't bind if there is no post id (SuppressVoteArrows case in Vote.cshtml, used mainly in review)
        return getPostId(jquery__WEBPACK_IMPORTED_MODULE_2__(this)) > 0; // (min postid is 1)
    });
    $elems.attr({
        role: 'button',
        tabindex: '0'
    })
        .addClass('c-pointer')
        .unadornedButtonClick(function () { fetchVoteCounts(jquery__WEBPACK_IMPORTED_MODULE_2__(this)); })
        .data('bound', true);
    (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($elems, __tr(["View upvote and downvote totals."], undefined, "en", []), voteContainerTooltipOptions);
}
function highlightExistingVotes(votesCast) {
    const reactions = {};
    jquery__WEBPACK_IMPORTED_MODULE_2__.each(votesCast, function () {
        const postId = this.PostId;
        const $jDiv = allVotingContainers().filter(function () { return getPostId(jquery__WEBPACK_IMPORTED_MODULE_2__(this)) === postId; });
        const voteTypeId = this.VoteTypeId;
        switch (voteTypeId) {
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.upMod:
                setSelected($jDiv.find('.js-vote-up-btn'), true);
                break;
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.downMod:
                setSelected($jDiv.find('.js-vote-down-btn'), true);
                break;
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.bookmark:
                const $bookmarkBtn = $jDiv.find('.js-bookmark-btn');
                setSelected($bookmarkBtn, true);
                updateBookmarkButtonTitles($bookmarkBtn);
                break;
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.follow:
                const $followBtn = jquery__WEBPACK_IMPORTED_MODULE_2__(".js-post-menu[data-post-id=" + postId + "] .js-follow-post");
                const isQuestion = $followBtn.hasClass('js-follow-question');
                const isCollectiveCollection = $followBtn.hasClass('js-follow-collective-collection');
                if (isCollectiveCollection) {
                    updateCollectionFollowUI($followBtn, isCollectiveCollection, true);
                }
                else {
                    updateFollowUI($followBtn, isQuestion, true);
                }
                break;
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.outdated:
            case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.notOutdated:
                _PartialJS_full_common_99_OutdatedAnswers_mod__WEBPACK_IMPORTED_MODULE_6__.userVoted(postId);
                break;
            default:
                if (isReaction(voteTypeId)) {
                    if (!reactions[postId]) {
                        reactions[postId] = {
                            PostElement: $jDiv.find('.js-reactions'),
                            VotesCast: [voteTypeId]
                        };
                    }
                    else {
                        reactions[postId].VotesCast.push(voteTypeId);
                    }
                }
                else {
                    _stub_mod__WEBPACK_IMPORTED_MODULE_9__.debug.log("site.vote.js > highlightExistingVotes has no case for " + voteTypeId);
                }
                break;
        }
    });
    Object.values(reactions).forEach(function (post) {
        var _a;
        post.PostElement.attr('data-votes-cast', JSON.stringify(post.VotesCast));
        // TODO: re-implement same way the dispatchEvent extension does it in stub.js
        const event = new Event('post:reactionsInit');
        (_a = post.PostElement[0]) === null || _a === void 0 ? void 0 : _a.dispatchEvent(event);
    });
}
// TODO: This was written for an experiment that did not graduate and can be removed.
function normalizePostScore(score) {
    const negativeVoteScoreFloor = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].site.negativeVoteScoreFloor;
    return negativeVoteScoreFloor === null ? score : Math.max(negativeVoteScoreFloor, score);
}
function submit(voteOptions) {
    const jClicked = voteOptions.$target;
    const postId = voteOptions.postId;
    const referrer = voteOptions.referrer;
    const optionalFormData = voteOptions.data;
    const voteTypeId = voteOptions.voteTypeId;
    const success = function (data) {
        if (data.Warning) {
            if (confirm(data.Message)) {
                formData['ignoreWarnings'] = 'true';
                send();
            }
        }
        else {
            if (voteOptions.success)
                voteOptions.success(jClicked, postId, data);
        }
        if (voteOptions.complete)
            voteOptions.complete();
    };
    const error = function (data) {
        showGenericErrorMessage();
        if (voteOptions.error)
            voteOptions.error(jClicked, postId, data);
        if (voteOptions.complete)
            voteOptions.complete();
    };
    const stubData = jClicked.data('vote-stub');
    if (stubData) {
        setTimeout(function () { success(stubData); }, 0);
        return;
    }
    const formData = { 'fkey': _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.fkey };
    // merge call-specific form data
    if (optionalFormData) {
        for (const name in optionalFormData) {
            formData[name] = optionalFormData[name];
        }
    }
    let url = `/posts/${postId}/vote/${voteTypeId}`;
    const urlParams = new URLSearchParams();
    // putting this on the query means haproxy logs will record it
    if (voteOptions.undo) {
        urlParams.append("undo", "true");
    }
    if (referrer) {
        urlParams.append("r", referrer);
    }
    if (urlParams.size > 0) {
        url += "?" + urlParams.toString();
    }
    function send() {
        jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
            type: 'POST',
            url: url,
            data: formData,
            dataType: 'json',
            success: success,
            error: error,
        });
    }
    send();
}
function getPostId($el) {
    return +getVotingContainer($el).data('post-id');
}
function getReferrer($el) {
    return getVotingContainer($el).data('referrer');
}
function isReaction(voteTypeId) {
    switch (voteTypeId) {
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.helpful:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.thankYou:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.wellWritten:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction1:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction2:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction3:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction4:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction5:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction6:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction7:
        case _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.reaction8:
            return true;
        default:
            return false;
    }
}
const voteContainerTooltipOptions = { placement: "right" };
const reactionContainerTooltipOptions = { placement: 'top-start' };
function updateVoteButtonTitles($jDivVote) {
    // if we don't pass an element, operate on all voting divs
    const $jDiv = $jDivVote ? getVotingContainer($jDivVote) : allVotingContainers();
    const isReadOnly = jquery__WEBPACK_IMPORTED_MODULE_2__('body.read-only').length > 0;
    $jDiv.find('.js-vote-down-btn, .js-vote-up-btn').each(function () {
        const $jVote = jquery__WEBPACK_IMPORTED_MODULE_2__(this);
        let title;
        const isUpVote = $jVote.hasClass('js-vote-up-btn');
        const selected = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.isRegistered && isSelected($jVote);
        const postIsAnswer = isAnswer($jVote);
        if (isReadOnly) {
            title = __tr(["Voting is disabled while the site is in read-only mode."], undefined, "en", []);
        }
        else if ($jDiv.data('is-election')) {
            return; // static title on the election page (for now)
        }
        else {
            const suffix = selected ? ' (' + __tr(["click again to undo"], undefined, "en", []) + ')' : '';
            if (isUpVote) {
                if (postIsAnswer) {
                    title = __tr(["This answer is useful"], undefined, "en", []) + suffix;
                }
                else {
                    title = __tr(["This question shows research effort; it is useful and clear"], undefined, "en", []) + suffix;
                }
            }
            else {
                if (postIsAnswer) {
                    title = __tr(["This answer is not useful"], undefined, "en", []) + suffix;
                }
                else {
                    title = __tr(["This question does not show any research effort; it is unclear or not useful"], undefined, "en", []) + suffix;
                }
            }
        }
        // NOTE the same strings are rendered statically in Vote.cshtml
        (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($jVote, title, voteContainerTooltipOptions);
    });
}
function updateBookmarkButtonTitles($source) {
    // if we don't pass an element, operate on all voting divs
    const $containers = $source ? getVotingContainer($source) : allVotingContainers();
    $containers.find('.js-bookmark-btn').each(function () {
        const $button = jquery__WEBPACK_IMPORTED_MODULE_2__(this);
        // No localization for bookmarks copy, since it only shows up on Teams
        let postType = "post";
        switch (getPostType($button)) {
            case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Question:
                postType = "question";
                break;
            case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Article:
                postType = "article";
                break;
            case _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Collection:
                postType = "collection";
                break;
        }
        const unbookmarkText = `You have bookmarked this ${postType} (click to undo).`;
        const bookmarkText = `Bookmark this ${postType}.`;
        (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($button, isSelected($button) ? unbookmarkText : bookmarkText, voteContainerTooltipOptions);
    });
}
function bindVoteClicks(jDivVote) {
    // if we don't pass an element, operate on all voting divs
    const jDiv = jDivVote ? getVotingContainer(jDivVote) : allVotingContainers();
    unbindVoteClicks(jDivVote);
    jDiv.find('.js-vote-up-btn').unadornedButtonClick(function () { vote_up(jquery__WEBPACK_IMPORTED_MODULE_2__(this)); }, { namespace: 'vote' });
    jDiv.find('.js-vote-down-btn').unadornedButtonClick(function () { vote_down(jquery__WEBPACK_IMPORTED_MODULE_2__(this)); }, { namespace: 'vote' });
}
function unbindVoteClicks($jDivVote) {
    // if we don't pass an element, operate on all voting divs
    const $jDiv = $jDivVote ? getVotingContainer($jDivVote) : allVotingContainers();
    // return the elements that were just unbound
    return $jDiv.find('.js-vote-down-btn, .js-vote-up-btn').unbind('keypress.vote click.vote');
}
function outdated_init() {
    jquery__WEBPACK_IMPORTED_MODULE_2__('.js-outdated-no').on('click', function () {
        const elem = this;
        const postId = +jquery__WEBPACK_IMPORTED_MODULE_2__(elem).data('post-id');
        submit({
            $target: jquery__WEBPACK_IMPORTED_MODULE_2__(elem),
            postId: postId,
            voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.notOutdated,
            success: function () { _PartialJS_full_common_99_OutdatedAnswers_mod__WEBPACK_IMPORTED_MODULE_6__.userVoted(postId); }
        });
    });
    jquery__WEBPACK_IMPORTED_MODULE_2__('.js-outdated-yes').on('click', function () {
        const elem = this;
        const postId = +jquery__WEBPACK_IMPORTED_MODULE_2__(elem).data('post-id');
        submit({
            $target: jquery__WEBPACK_IMPORTED_MODULE_2__(elem),
            postId: postId,
            voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.outdated,
            success: function () {
                _PartialJS_full_common_99_OutdatedAnswers_mod__WEBPACK_IMPORTED_MODULE_6__.openModal(jquery__WEBPACK_IMPORTED_MODULE_2__(elem));
                _PartialJS_full_common_99_OutdatedAnswers_mod__WEBPACK_IMPORTED_MODULE_6__.userVoted(postId);
            }
        });
    });
}
function getAcceptedAnswerLinks() { return allVotingContainers().find(".js-accept-answer-btn"); }
function getProtectLinks() { return jquery__WEBPACK_IMPORTED_MODULE_2__(".js-post-menu .js-protect-btn"); }
function getUnprotectLinks() { return jquery__WEBPACK_IMPORTED_MODULE_2__(".js-post-menu .js-unprotect-btn"); }
function isSelected($el) { return $el.attr('aria-pressed') === 'true'; }
function setSelected($el, value) {
    $el
        .attr('aria-pressed', value ? 'true' : 'false')
        .each(function () {
        const selectedClasses = jquery__WEBPACK_IMPORTED_MODULE_2__(this).data('selected-classes');
        const unselectedClasses = jquery__WEBPACK_IMPORTED_MODULE_2__(this).data('unselected-classes');
        // Order matters when adding and removing classes
        // in case someone messes up and there's overlap.
        if (unselectedClasses && value) {
            jquery__WEBPACK_IMPORTED_MODULE_2__(this).removeClass(unselectedClasses);
        }
        if (selectedClasses) {
            jquery__WEBPACK_IMPORTED_MODULE_2__(this).toggleClass(selectedClasses, value);
        }
        if (unselectedClasses && !value) {
            jquery__WEBPACK_IMPORTED_MODULE_2__(this).addClass(unselectedClasses);
        }
    });
}
function getPostType($el) {
    const $postSummary = $el.closest(".js-post-summary");
    const postTypeId = parseInt($postSummary === null || $postSummary === void 0 ? void 0 : $postSummary.data("post-type-id"));
    if (isAnswer($el)) {
        return _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Answer;
    }
    return postTypeId || null;
}
function isAnswer($el) {
    return $el.closest('.answer').length > 0;
}
function getLocalizedPostType($el) {
    return isAnswer($el) ? __tr(["answer"], undefined, "en", []) : __tr(["question"], undefined, "en", []);
}
function getVotingContainer($el) {
    return $el.closest('.js-voting-container');
}
function allVotingContainers() {
    return jquery__WEBPACK_IMPORTED_MODULE_2__('.js-voting-container');
}
function shouldSimulateVoting($el) {
    return getVotingContainer($el).data('suppress-vote-requests');
}
function getLtuVal($el) {
    return getVotingContainer($el).data('ltu');
}
function getCheckmarkCopies() {
    return getAcceptedAnswerLinks().find(".js-checkmark-copy");
}
function showErrorMessage(message, options) {
    const defaults = {
        dismissable: true,
        transient: false,
        transientTimeout: (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.suggestedTransientTimeout)(message, true),
        type: 'danger',
        actions: [],
    };
    const settings = jquery__WEBPACK_IMPORTED_MODULE_2__.extend({}, defaults, options);
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showToast)(message, settings);
}
function showGenericErrorMessage() {
    showErrorMessage(__tr(["An error has occurred - please retry your request."], undefined, "en", []), { transient: true });
}
function showInfoMessage(message, options) {
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showToast)(message, options);
}
function updateModScore($el, incrementAmount) {
    const $score = getVotingContainer($el).find(".js-vote-count");
    const newScore = $score.data('value') + incrementAmount;
    const displayScore = normalizePostScore(newScore);
    $score.data('value', newScore).text(displayScore);
    // Rebind the split details if we cleared them.
    if ($score.data('had-split')) {
        bindFetchVoteCounts($score);
    }
}
function getModScore($el) {
    return getVotingContainer($el).find(".js-vote-count").data('value');
}
function submitModVote($button, voteTypeId) {
    unbindVoteClicks($button); // disable voting during a vote
    // prevent realtime updates while we process the vote
    _realtime_se_mod__WEBPACK_IMPORTED_MODULE_8__.pauseQuestionNotifications(true);
    const postId = getPostId($button);
    const referrer = getReferrer($button);
    // Existing functionality will cause this request to be simulated.
    if (shouldSimulateVoting($button)) {
        $button.data('vote-stub', { Success: true, LastVoteTypeId: voteTypeId, NewScore: getModScore($button) });
    }
    submit({
        $target: $button,
        postId: postId,
        voteTypeId: voteTypeId,
        referrer: referrer,
        success: modVoteResult,
        data: { 'ltu': getLtuVal($button) }
    });
}
function modVoteResult($jClicked, postId, data) {
    if (data.Success) {
        if (data.Message) {
            showInfoMessage(data.Message, { transient: data.Transient, useRawHtml: true });
        }
        if (data.LastVoteTypeId == _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.upMod) {
            jquery__WEBPACK_IMPORTED_MODULE_2__(document).trigger('upVote', [postId, data.NewScore]);
        }
        else if (data.LastVoteTypeId == _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.downMod) {
            jquery__WEBPACK_IMPORTED_MODULE_2__(document).trigger('downVote', [postId, data.NewScore]);
        }
        else {
            jquery__WEBPACK_IMPORTED_MODULE_2__(document).trigger('undoVote', [postId, data.NewScore]);
        }
    }
    else {
        if (data.Message) {
            if (data.Info) {
                showInfoMessage(data.Message, { transient: true, useRawHtml: true });
            }
            else {
                showErrorMessage(data.Message, { transient: true, useRawHtml: true });
            }
        }
        else {
            showGenericErrorMessage();
        }
        // undo score change
        const displayScore = normalizePostScore(data.NewScore);
        getVotingContainer($jClicked).find('.js-vote-count').data('value', displayScore).text(displayScore);
        // always unclick the button, and then set it to the previous vote if a previous vote exists
        setSelected($jClicked, false);
        if (data.LastVoteTypeId) {
            selectPreviousVote($jClicked, data.LastVoteTypeId);
        }
    }
    bindVoteClicks($jClicked.parent()); // re-enable voting..
    _realtime_se_mod__WEBPACK_IMPORTED_MODULE_8__.pauseQuestionNotifications(false);
    updateVoteButtonTitles($jClicked);
}
function selectPreviousVote($jClicked, voteTypeId) {
    const jDiv = getVotingContainer($jClicked);
    if (voteTypeId === _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.upMod) {
        setSelected(jDiv.find('.js-vote-up-btn'), true);
    }
    else if (voteTypeId === _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.downMod) {
        setSelected(jDiv.find('.js-vote-down-btn'), true);
    }
}
function updateFollowUI($followBtn, isQuestion, isFollowing) {
    if (!$followBtn || !$followBtn.length) {
        return;
    }
    $followBtn.attr('aria-pressed', isFollowing ? 'true' : 'false');
    const title = isFollowing
        ? isQuestion ? __tr(["Unfollow this question to stop receiving notifications"], undefined, "en", []) : __tr(["Unfollow this answer to stop receiving notifications"], undefined, "en", [])
        : isQuestion ? __tr(["Follow this question to receive notifications"], undefined, "en", []) : __tr(["Follow this answer to receive notifications"], undefined, "en", []);
    (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($followBtn, title);
    // data-gps-track update item Type
    const currentGpsTrack = $followBtn.data('gps-track');
    const newTrackItemType = isFollowing ? 15 : 14; // corresponds to PostClickType enum members, unfollow: 15, follow: 14
    const newGpsTrack = currentGpsTrack.replace(/item:[ ]?[\d]+/, "item: " + newTrackItemType);
    $followBtn.data('gps-track', newGpsTrack);
    $followBtn.html(isFollowing ? __tr(["Following"], undefined, "en", []) : __tr(["Follow"], undefined, "en", []));
}
function updateCollectionFollowUI($followBtn, isCollectiveCollection, isFollowing) {
    if (!$followBtn || !$followBtn.length) {
        return;
    }
    if (isCollectiveCollection) {
        $followBtn.attr('aria-pressed', isFollowing ? 'true' : 'false');
        const title = isFollowing
            ? __tr(["Unfollow this collection to stop receiving notifications"], undefined, "en", [])
            : __tr(["Follow this collection to receive notifications for new additions, edits and comments."], undefined, "en", []);
        (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($followBtn, title);
        $followBtn.html(isFollowing ? __tr(["Following"], undefined, "en", []) : __tr(["Follow"], undefined, "en", []));
    }
}
function follow($followBtn) {
    $followBtn.prop('disabled', true);
    const isQuestion = $followBtn.hasClass('js-follow-question');
    const isCollectiveCollection = $followBtn.hasClass('js-follow-collective-collection');
    const postId = parseInt($followBtn.closest('.js-post-menu').data('post-id'));
    const originalIsFollowing = $followBtn.attr('aria-pressed') === 'true';
    const newIsFollowing = !originalIsFollowing;
    if (isCollectiveCollection) {
        updateCollectionFollowUI($followBtn, isCollectiveCollection, newIsFollowing);
    }
    else {
        updateFollowUI($followBtn, isQuestion, newIsFollowing);
    }
    submit({
        $target: $followBtn,
        postId: postId,
        voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.follow,
        undo: originalIsFollowing,
        success: function ($clicked, pid, data) {
            if (!data.Success) {
                if (isCollectiveCollection) {
                    updateCollectionFollowUI($followBtn, isCollectiveCollection, newIsFollowing);
                }
                else {
                    updateFollowUI($followBtn, isQuestion, newIsFollowing);
                }
                showErrorMessage(data.Message, { useRawHtml: true });
            }
            else {
                let followPopoverExists = jquery__WEBPACK_IMPORTED_MODULE_2__("#divFollowingConfirm-" + postId).length > 0;
                if (data.Message) {
                    if (!followPopoverExists) {
                        jquery__WEBPACK_IMPORTED_MODULE_2__(data.Message).insertAfter($followBtn);
                        followPopoverExists = true;
                    }
                    // always want to make sure that these are set properly, since other code below
                    // messes with this for removing the new feature popover
                    $followBtn.attr("aria-controls", "divFollowingConfirm-" + postId);
                    $followBtn.attr("data-controller", "s-popover s-tooltip");
                }
                if (newIsFollowing) {
                    // just started following, show the popover
                    if (followPopoverExists) {
                        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.hideToasts)();
                        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.toggleStacksPopover)($followBtn, true);
                    }
                    else {
                        // can't find the popover controller for any reason, still show a confirmation with toast message
                        if (isQuestion) {
                            showInfoMessage(__tr(["You’re now following this question"], undefined, "en", []), { transient: true });
                        }
                        else if (isCollectiveCollection) {
                            showInfoMessage(__tr(["You’re now following this collection"], undefined, "en", []), { transient: true });
                        }
                        else {
                            showInfoMessage(__tr(["You’re now following this answer"], undefined, "en", []), { transient: true });
                        }
                    }
                }
                else {
                    // just unfollowed, show message at top of screen confirming
                    if (isQuestion) {
                        showInfoMessage(__tr(["You’re no longer following this question"], undefined, "en", []), { transient: true });
                    }
                    else if (isCollectiveCollection) {
                        showInfoMessage(__tr(["You’re no longer following this collection"], undefined, "en", []), { transient: true });
                    }
                    else {
                        showInfoMessage(__tr(["You’re no longer following this answer"], undefined, "en", []), { transient: true });
                    }
                    if (followPopoverExists) {
                        // if the popover was open (for example, user clicked the popover unfollow button) then hide it
                        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.toggleStacksPopover)($followBtn, false);
                    }
                }
            }
            $followBtn.prop('disabled', false);
        },
        error: function () {
            if (isCollectiveCollection) {
                updateCollectionFollowUI($followBtn, isCollectiveCollection, newIsFollowing);
            }
            else {
                updateFollowUI($followBtn, isQuestion, newIsFollowing);
            }
            $followBtn.prop('disabled', false);
        }
    });
}
function bookmark($bookmarkBtn) {
    if ($bookmarkBtn.data('loading')) {
        return;
    } // prevent fast double-clicking of the vote control
    $bookmarkBtn.data('loading', true);
    const postId = getPostId($bookmarkBtn);
    const $bookmarkCount = getVotingContainer($bookmarkBtn).find('.js-bookmark-count');
    const $bookmarkActive = getVotingContainer($bookmarkBtn).find('.js-bookmark-selected');
    const $bookmarkInactive = getVotingContainer($bookmarkBtn).find('.js-bookmark-unselected');
    const originalValue = isSelected($bookmarkBtn);
    const originalCount = $bookmarkCount.data('value') || 0;
    const newValue = !originalValue;
    const newCount = newValue ? originalCount + 1 : originalCount - 1;
    // make this a function, so if there's a failure during submission, we can roll back the UI
    const updateUI = function (value, count) {
        setSelected($bookmarkBtn, value);
        $bookmarkBtn.attr('aria-label', count ? __tr(["Bookmark"], undefined, "en", []) + '(' + count + ')' : __tr(["Bookmark"], undefined, "en", []));
        updateBookmarkButtonTitles($bookmarkBtn);
        $bookmarkCount.data('value', count).text(count).toggleClass('d-none', count === 0);
        $bookmarkActive.toggleClass('d-none');
        $bookmarkInactive.toggleClass('d-none');
    };
    updateUI(newValue, newCount);
    submit({
        $target: $bookmarkBtn,
        postId: postId,
        voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.bookmark,
        undo: originalValue,
        success: function (clicked, pid, data) {
            $bookmarkBtn.data('loading', false);
            if (!data.Success) {
                updateUI(originalValue, originalCount);
                showErrorMessage(data.Message, { useRawHtml: true });
            }
        }
    });
}
function showFancyDeletionPrompt($button, postId, callback, optionalFormData, hasActiveVote) {
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.loadModal)(`/posts/${postId}/fancy-deletion-prompt`, { returnElements: $button })
        .then(function ($modal) {
        $modal.find('a:link').attr('target', '_blank');
        $modal.find('.js-ok-button').on('click', function () {
            submit({
                $target: $button,
                postId: postId,
                voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.deletion,
                success: callback,
                data: optionalFormData,
                undo: hasActiveVote
            });
        });
    });
}
function deletion($jClicked, optionalCallback, optionalFormData) {
    const postId = parseInt($jClicked.closest('.js-post-menu').attr('data-post-id'));
    const postTypeId = parseInt($jClicked.closest('.js-post-menu').attr('data-post-type-id'));
    const isDeleted = $jClicked.data('is-deleted');
    const prompt = $jClicked.data('prompt');
    const hasActiveVote = $jClicked.data('has-active-vote');
    const hasDeletedVote = $jClicked.data('has-deleted-vote');
    const fancy = !isDeleted ? !!$jClicked.data('fancy-delete') : false;
    const callback = optionalCallback || deletionCallback;
    if (hasDeletedVote && hasActiveVote) {
        submit({
            $target: $jClicked,
            postId: postId,
            voteTypeId: (isDeleted ? _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.undeletion : _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.deletion),
            success: callback,
            data: optionalFormData,
            undo: hasActiveVote
        });
        return;
    }
    if (postTypeId === _PartialJS_full_common_99_PostTypeId_mod__WEBPACK_IMPORTED_MODULE_13__.PostTypeId.Article && !isDeleted) {
        Stacks.showModal($jClicked.closest('.js-post-menu').find('.js-delete-article-modal')[0]);
    }
    else {
        if (fancy) {
            showFancyDeletionPrompt($jClicked, postId, callback, optionalFormData, hasActiveVote);
            return;
        }
        if (confirm(prompt)) {
            // HACK: realtime deletion broadcast doesn't send down the account id that did it
            _realtime_se_mod__WEBPACK_IMPORTED_MODULE_8__.pauseQuestionNotifications(true);
            submit({
                $target: $jClicked,
                postId: postId,
                voteTypeId: (isDeleted ? _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.undeletion : _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.deletion),
                success: callback,
                data: optionalFormData,
                undo: hasActiveVote
            });
        }
    }
}
function deletionCallback($jClicked, postId, data) {
    const wasDeleted = $jClicked.data('is-deleted');
    if (data && data.Success) {
        if (data.NewScore < 0) {
            // On a state change, reloads the page to make sure all styles comply with the new state
            document.location.reload();
        }
        else {
            // If there's no state change, reloads only the Delete Link information
            const url = '/posts/' + postId + '/delete-link';
            jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
                type: 'GET',
                url: url,
                dataType: 'json',
                success: function (deleteLinkInfo) {
                    const postIsDeleted = $jClicked.data('is-deleted');
                    // Refreshes delete link information
                    $jClicked.html(deleteLinkInfo.Text);
                    $jClicked.attr('title', deleteLinkInfo.Tooltip);
                    $jClicked.data('fancy-delete', deleteLinkInfo.ShowFancyDeletePrompt);
                    $jClicked.data('prompt', deleteLinkInfo.Prompt);
                    $jClicked.data('has-active-vote', deleteLinkInfo.HasActiveVote);
                    $jClicked.data('has-deleted-vote', deleteLinkInfo.HasDeletedVote);
                    // Figures out which operation was executed and displays appropriate message
                    let infoMessage;
                    if (postIsDeleted && deleteLinkInfo.HasActiveVote) { // Vote for Undeletion
                        infoMessage = __tr(["Your undelete vote has been recorded"], undefined, "en", []);
                    }
                    else if (!postIsDeleted && deleteLinkInfo.HasActiveVote) { // Vote for Deletion
                        infoMessage = __tr(["Your delete vote has been recorded"], undefined, "en", []);
                    }
                    else if (postIsDeleted && !deleteLinkInfo.HasActiveVote) { // Retract vote for Undeletion
                        infoMessage = __tr(["Your undelete vote has been retracted"], undefined, "en", []);
                    }
                    else if (!postIsDeleted && !deleteLinkInfo.HasActiveVote) { // Retract vote for Deletion
                        infoMessage = __tr(["Your delete vote has been retracted"], undefined, "en", []);
                    }
                    showInfoMessage(infoMessage);
                },
                error: function () {
                    // No way to recover, reload the page
                    document.location.reload();
                }
            });
        }
        jquery__WEBPACK_IMPORTED_MODULE_2__(".js-post-notice-delete-post[data-post-id=" + postId + "]").remove();
    }
    else {
        const msg = (data && data.Message) ? data.Message : wasDeleted ? __tr(["A problem occurred during undeletion"], undefined, "en", []) : __tr(["A problem occurred during deletion"], undefined, "en", []);
        showErrorMessage(msg, { useRawHtml: true }); // data.Message can include html, need to allow for it with useRawHtml
    }
    // HACK: realtime deletion broadcast doesn't send down the account id that did it
    _realtime_se_mod__WEBPACK_IMPORTED_MODULE_8__.pauseQuestionNotifications(false);
}
function acceptAnswer_click() {
    const $clicked = jquery__WEBPACK_IMPORTED_MODULE_2__(this), postId = getPostId($clicked), $links = getAcceptedAnswerLinks(), $checkmarkCopies = getCheckmarkCopies();
    if ($clicked.is(':working') && !$clicked.hasClass('js-accept-answer-btn'))
        return;
    const $spinner = jquery__WEBPACK_IMPORTED_MODULE_2__('<div class="flex--item as-center" />').addStacksSpinner('sm').appendTo(getVotingContainer($clicked));
    $links.working(true);
    submit({
        $target: $clicked,
        postId: postId,
        voteTypeId: _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.acceptedByOwner,
        success: function ($ignore, postId, data) {
            if (data.Success) {
                // reset old accepted answer checks
                setSelected($links, false);
                // server sends down which vote type id was successful, either accept or undo
                if (parseInt(data.Message, 10) == _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.acceptedByOwner) {
                    setSelected($clicked, true);
                }
                if ($checkmarkCopies.length !== 0) {
                    $checkmarkCopies.each(function () {
                        if (StackExchange.options.user.isModerator && data.HasAcceptedByModRights === true) {
                            jquery__WEBPACK_IMPORTED_MODULE_2__(this).removeClass('d-none');
                        }
                        else {
                            jquery__WEBPACK_IMPORTED_MODULE_2__(this).addClass('d-none');
                        }
                    });
                }
            }
            else {
                // the server sent back a reason that it blocked this vote - inform the user
                // if the message is that it's too early to accept to the answer, fade it away automatically.
                showErrorMessage(data.Message, { transient: data.Transient, useRawHtml: true });
            }
            $spinner.remove();
            $links.working(false).trigger('update');
        }
    });
}
function acceptAnswer_update() {
    const $this = jquery__WEBPACK_IMPORTED_MODULE_2__(this), verb = isSelected($this) ? 'unaccept' : 'accept';
    (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($this, $this.data('title-' + verb), voteContainerTooltipOptions);
    const label = $this.data('verb-' + verb);
    if (label) {
        $this.text(label);
    }
}
let loadingVotes = false;
function fetchVoteCounts($scoreEl) {
    if (loadingVotes)
        return;
    loadingVotes = true;
    const postId = getPostId($scoreEl);
    $scoreEl.addStacksSpinner('sm', 'fc-black-300');
    if (shouldSimulateVoting($scoreEl)) {
        setTimeout(function () {
            const jDiv = getVotingContainer($scoreEl);
            const jUp = jDiv.find('.js-vote-up-btn');
            const jDown = jDiv.find('.js-vote-down-btn');
            const downvoted = isSelected(jDown);
            const upvoted = isSelected(jUp);
            const score = getModScore($scoreEl);
            const getJson = function () {
                if (score >= 0 && downvoted)
                    return { up: score + 1, down: -1 };
                if (score <= 0 && upvoted)
                    return { up: 1, down: score - 1 };
                return score > 0 ? { up: score, down: 0 } : { up: 0, down: score };
            };
            applyVoteCounts($scoreEl, getJson());
            loadingVotes = false;
        }, 200);
        return;
    }
    jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
        type: 'GET',
        url: `/posts/${postId}/vote-counts`,
        dataType: "json",
        success: function (json) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.removeMessages)();
            applyVoteCounts($scoreEl, json);
        },
        error: function (res) {
            $scoreEl.removeSpinner();
            showErrorMessage((res.responseText && res.responseText.length < 100 ? res.responseText : __tr(["An error occurred during vote count fetch"], undefined, "en", [])), { transient: res.status == 409, useRawHtml: true }); // fade away throttle errors
        },
        complete: function () {
            loadingVotes = false;
        }
    });
}
function applyVoteCounts($score, json) {
    const html = '<div class="fc-green-500">' + json.up + '</div>' +
        '<div class="vote-count-separator"></div>' +
        '<div class="fc-red-500">' + json.down + '</div>';
    const upCount = Math.abs(+json.up);
    const downCount = Math.abs(+json.down);
    const label = __tr(["$upCount$ up / $downCount$ down","$upCount$ up / $downCount$ down","$upCount$ up / $downCount$ down","$upCount$ up / $downCount$ down"], {upCount: upCount,downCount: downCount}, "en", ["upCount","downCount"]);
    const tooltip = __tr(["This $postType$ has received $upCount$ upvote and $downCount$ downvote.","This $postType$ has received $upCount$ upvote and $downCount$ downvotes.","This $postType$ has received $upCount$ upvotes and $downCount$ downvote.","This $postType$ has received $upCount$ upvotes and $downCount$ downvotes."], {upCount: upCount,downCount: downCount,postType: getLocalizedPostType($score)}, "en", ["upCount","downCount"]);
    $score
        .html(html)
        .data('value', Math.abs(+json.up) - Math.abs(+json.down))
        .off('keypress click')
        .data('bound', false)
        .data('had-split', true)
        .removeClass('c-pointer')
        .removeAttr('role')
        .attr('aria-label', label);
    (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($score, tooltip, voteContainerTooltipOptions);
}
function bindLoggedIn(votesCast) {
    vote_init(votesCast);
    getProtectLinks().unbind("click").click(function () {
        jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
            type: "POST",
            url: "/question/protect",
            data: {
                'id': jquery__WEBPACK_IMPORTED_MODULE_2__(this).closest('.js-post-menu').attr('data-post-id'),
                'fkey': _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.fkey
            },
            success: function () { location.reload(); }
        });
    });
    getUnprotectLinks().unbind("click").click(function () {
        jquery__WEBPACK_IMPORTED_MODULE_2__.ajax({
            type: "POST",
            url: "/question/unprotect",
            data: {
                'id': jquery__WEBPACK_IMPORTED_MODULE_2__(this).closest('.js-post-menu').attr('data-post-id'),
                'fkey': _Shared_options_mod__WEBPACK_IMPORTED_MODULE_1__["default"].user.fkey
            },
            success: function () { location.reload(); }
        });
    });
    (0,_05_VoteToCloseAndFlag_mod__WEBPACK_IMPORTED_MODULE_10__.initVoteToCloseAndFlag)();
    bookmark_init();
    reaction_init();
    follow_init();
    jquery__WEBPACK_IMPORTED_MODULE_2__(document).on({
        // Don't show tooltips in a voting container if it contains an active popover.
        's-tooltip:show': function (evt) {
            if (jquery__WEBPACK_IMPORTED_MODULE_2__(this).has('.s-popover.is-visible:not(.s-popover__tooltip)').length) {
                evt.preventDefault();
            }
        },
        // Make all voting tooltips wmx2
        's-tooltip:shown': function (evt) {
            const popoverId = jquery__WEBPACK_IMPORTED_MODULE_2__(evt.target).attr('aria-describedby');
            jquery__WEBPACK_IMPORTED_MODULE_2__('#' + popoverId).addClass('wmx2');
        }
    }, '.js-voting-container');
}
let reaction_init = function () {
    reaction_init = function () { };
    let templateLoader = null;
    function loadTemplate() {
        if (!templateLoader) {
            templateLoader =
                jquery__WEBPACK_IMPORTED_MODULE_2__.ajax('/posts/popover/reactions', { dataType: 'text' })
                    .fail(function () {
                    templateLoader = null;
                    showGenericErrorMessage();
                });
        }
        return templateLoader;
    }
    Stacks.addController('reactions', {
        targets: ['button', 'toggle', 'count', 'onboarding', 'list'],
        connect: function () {
            if (this.hasOnboardingTarget) {
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.queueStacksPopover)(jquery__WEBPACK_IMPORTED_MODULE_2__(this.onboardingTarget), 60);
            }
            this.updateUI();
        },
        dismissOnboarding: function () {
            if (!this.hasOnboardingTarget) {
                return;
            }
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.toggleStacksPopover)(jquery__WEBPACK_IMPORTED_MODULE_2__(this.onboardingTarget), false);
        },
        onboardingDismissed: function () {
            if (!this.hasOnboardingTarget) {
                return;
            }
            (0,_PartialJS_full_99_UserFlags_mod__WEBPACK_IMPORTED_MODULE_4__.toggleUserFlags)(_PartialJS_full_definitions_Enums_generated_mod__WEBPACK_IMPORTED_MODULE_3__.UserFlags.DismissPostReactionIntroPopover, true);
            // The following fixes a bug where the reaction popover element would be too narrow when onboarding was present on the page.
            jquery__WEBPACK_IMPORTED_MODULE_2__(this.onboardingTarget).remove();
            jquery__WEBPACK_IMPORTED_MODULE_2__(this.element).removeClass('ps-relative');
        },
        tryToggle: function (evt) {
            // This replicates logic from unadornedButtonClick. We don't want the voting buttons to get focused on mouse click but we
            // don't want them to lose their focus on keyboard click.
            if (evt.type === 'keypress' && (evt.keyCode === _LegacyJS_constants_mod__WEBPACK_IMPORTED_MODULE_12__.KEY_CODE.SPACE || evt.keyCode === _LegacyJS_constants_mod__WEBPACK_IMPORTED_MODULE_12__.KEY_CODE.ENTER)) {
                evt.preventDefault();
                this.toggle(evt);
            }
            else if (evt.type === 'click') {
                evt.currentTarget.blur();
                evt.preventDefault();
                this.toggle(evt);
            }
        },
        toggle: function (evt) {
            if (!this.tryStartWork()) {
                return;
            }
            // If the controller supports multiple vote type ids, get it from the button.  Otherwise, use thank you.
            const $target = jquery__WEBPACK_IMPORTED_MODULE_2__(evt.currentTarget);
            const voteTypeId = this.allowsMultiple ? +$target.attr('data-vote-id') : _Declarations_TypeIdEnums__WEBPACK_IMPORTED_MODULE_11__.VoteTypeId.thankYou;
            const adding = this.toggleVoteTypeId(voteTypeId);
            submit({
                $target: $target,
                postId: this.postId,
                voteTypeId: voteTypeId,
                undo: !adding,
                success: this.handleVoteResponse.bind(this),
                error: this.abortWork.bind(this),
                complete: this.completeWork.bind(this)
            });
        },
        loadPopover: function () {
            const id = 'reactions-popover-' + this.postId;
            const $button = this.$btn;
            const controller = this;
            const popoverPlacement = this.isFooter ? 'top-start' : 'right';
            loadTemplate().done(function (html) {
                // It's possible that the user will try loading the popover multiple times.
                // Reject if we've handled the response.
                if (jquery__WEBPACK_IMPORTED_MODULE_2__('#' + id).length > 0) {
                    return;
                }
                jquery__WEBPACK_IMPORTED_MODULE_2__(html).attr('id', id).insertAfter($button);
                $button.attr({
                    'aria-controls': id,
                    'data-controller': 's-popover ' + $button.attr('data-controller'),
                    'data-action': 's-popover#toggle ' + $button.attr('data-action'),
                    'data-s-popover-placement': popoverPlacement
                });
                controller.updateUI();
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.toggleStacksPopover)($button, true);
            });
        },
        showVotes: function () {
            jquery__WEBPACK_IMPORTED_MODULE_2__.ajax(`/posts/modal/reactions/${this.postId}`)
                .then(this._showVotes.bind(this))
                .fail(showGenericErrorMessage);
        },
        _showVotes: function (data) {
            if (data.Message) {
                showInfoMessage(data.Message, { useRawHtml: true });
            }
            else if (data.ModalHtml) {
                const $modal = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showModal)(jquery__WEBPACK_IMPORTED_MODULE_2__(data.ModalHtml).elementNodesOnly(), { returnElements: jquery__WEBPACK_IMPORTED_MODULE_2__(this.countTarget) });
                _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_7__.bindTrackClicks($modal);
            }
            const newState = this.stateFromData(data);
            if (newState) {
                this.state = newState;
            }
        },
        get $el() { return jquery__WEBPACK_IMPORTED_MODULE_2__(this.element); },
        get $btn() { return jquery__WEBPACK_IMPORTED_MODULE_2__(this.buttonTarget); },
        get postId() { return +getPostId(this.$el); },
        // Infer the behavior from the button's properties.
        get allowsMultiple() { return this.$btn.attr('aria-haspopup') === 'true'; },
        get isFooter() { return this.$btn.hasClass('js-reactions-footer-button'); },
        get state() {
            const votesCast = JSON.parse(this.$el.attr('data-votes-cast') || '[]');
            const voteCounts = {};
            this.listTargets.forEach(function (el) {
                voteCounts[+el.dataset.voteId] = +el.dataset.voteCount;
            });
            if (votesCast) {
                votesCast.sort();
            }
            return {
                votesCast: votesCast,
                count: +this.$el.attr('data-count'),
                voteCounts: voteCounts
            };
        },
        set state(val) {
            this.$el.attr({
                'data-votes-cast': JSON.stringify(val.votesCast),
                'data-count': val.count
            });
            this.listTargets.forEach(function (el) {
                const voteCounts = val.voteCounts[+el.dataset.voteId] || 0;
                jquery__WEBPACK_IMPORTED_MODULE_2__(el).attr('data-vote-count', voteCounts);
            });
            this.updateUI();
        },
        tryStartWork: function () {
            if (this.workData) {
                return false;
            }
            this.workData = this.state;
            return true;
        },
        abortWork: function () {
            if (!this.workData) {
                return;
            }
            this.state = this.workData;
            this.workData = null;
        },
        completeWork: function () {
            this.workData = null;
        },
        toggleVoteTypeId: function (voteTypeId) {
            const state = this.state;
            let removed = false;
            let index;
            while ((index = state.votesCast.indexOf(voteTypeId)) !== -1) {
                removed = true;
                state.votesCast.splice(index, 1);
            }
            let specificVoteCount = state.voteCounts[voteTypeId] || 0;
            if (removed) {
                state.count--;
                specificVoteCount = Math.max(0, specificVoteCount - 1);
            }
            else {
                state.votesCast.push(voteTypeId);
                state.count++;
                specificVoteCount++;
            }
            state.voteCounts[voteTypeId] = specificVoteCount;
            this.state = state;
            return !removed;
        },
        stateFromData: function (data) {
            const newState = {
                count: data.NewScore,
                votesCast: data.SelectedVoteTypeIds,
                voteCounts: data.VoteCounts
            };
            return (typeof newState.count === 'number' && Array.isArray(newState.votesCast)) ? newState : null;
        },
        handleVoteResponse: function ($target, postId, data) {
            const success = data.Success;
            const message = data.Message;
            const newState = this.stateFromData(data);
            if (newState) {
                // If we know the new score and the selected vote types, update the UI to match
                this.state = newState;
            }
            else if (!success) {
                // If we failed and we don't know the new score, revert back to the old state.
                this.abortWork();
            }
            // Otherwise, assume the score we rendered was correct enough.
            if (success && this.allowsMultiple) {
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.toggleStacksPopover)(this.$btn, false);
            }
            if (message) {
                if (success) {
                    showInfoMessage(message, { transient: data.Transient, useRawHtml: true });
                }
                else if (data.Info) {
                    showInfoMessage(message, { transient: true, useRawHtml: true });
                }
                else {
                    showErrorMessage(message, { transient: true, useRawHtml: true });
                }
            }
        },
        updateUI: function () {
            const state = this.state;
            const count = state.count;
            const votesCast = state.votesCast;
            const hasVoted = votesCast.length > 0;
            const haveOthersVoted = count > votesCast.length;
            let $count;
            if (!this.isFooter) {
                $count = jquery__WEBPACK_IMPORTED_MODULE_2__(this.countTarget);
                // These classes are also applied in Reactions.cshtml and need to be updated in both locations.
                $count
                    .toggleClass('d-none', count <= 0)
                    .toggleClass('fc-yellow-500', hasVoted)
                    .toggleClass('fc-black-300', !hasVoted)
                    .text(count);
            }
            this.$btn
                .find('svg').toggleClass('native', !this.isFooter && hasVoted);
            this.toggleTargets.forEach(function (button) {
                const $button = jquery__WEBPACK_IMPORTED_MODULE_2__(button);
                const voteTypeId = +$button.attr('data-vote-id');
                const selected = votesCast.indexOf(voteTypeId) !== -1;
                $button
                    .toggleClass('is-selected d:bg-white bc-black-225', selected)
                    .attr('aria-pressed', selected.toString());
                if (!this.isFooter) {
                    $button.find('svg').toggleClass('native', selected);
                }
            }, this);
            const postType = getLocalizedPostType(this.$btn);
            if (!this.allowsMultiple) {
                (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipHtml)(this.$btn, hasVoted
                    ? __tr(["You reacted <strong>thanks</strong> (click to undo)."], undefined, "en", [])
                    : __tr(["Say <strong>thanks</strong> for this $postType$."], {postType: postType}, "en", []), voteContainerTooltipOptions);
                if ($count) {
                    (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipHtml)($count, hasVoted
                        ? haveOthersVoted
                            ? __tr(["You and $__count$ other reacted with <strong>thanks</strong>.","You and $__count$ others reacted with <strong>thanks</strong>."], {__count: count - 1}, "en", ["__count"])
                            : __tr(["You reacted with <strong>thanks</strong>."], undefined, "en", [])
                        : __tr(["$__count$ other reacted with <strong>thanks</strong>.","$__count$ others reacted with <strong>thanks</strong>."], {__count: count}, "en", ["__count"]), voteContainerTooltipOptions);
                }
            }
            else {
                (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)(this.$btn, __tr(["Click to add a reaction"], undefined, "en", []), reactionContainerTooltipOptions);
            }
            this.listTargets.forEach(function (button) {
                const $button = jquery__WEBPACK_IMPORTED_MODULE_2__(button);
                const voteTypeId = +$button.attr('data-vote-id');
                const reactionCount = +$button.attr('data-vote-count');
                const reactionName = $button.attr('data-name');
                const selected = votesCast.indexOf(voteTypeId) !== -1;
                const hasOtherVoters = reactionCount > (selected ? 1 : 0);
                $button.find('.js-reaction-count').text(reactionCount);
                this.updateTooltip(button);
                $button
                    .toggleClass('bg-black-150 d:bg-white bc-black-225', selected)
                    .toggleClass('bg-white d:bg-black-100', !selected)
                    .toggleClass('d-none', !selected && !hasOtherVoters)
                    .attr({
                    'aria-pressed': selected.toString(),
                    'aria-label': __tr(["$reactionName$ ($reactionCount$ times)","$reactionName$ ($reactionCount$ times)"], {reactionName: reactionName,reactionCount: reactionCount}, "en", ["reactionCount"]),
                    'data-controller': 's-tooltip',
                    'data-action': 'reactions#toggle s-tooltip:show->reactions#loadAndUpdateTooltip'
                });
            }, this);
            // upon deploy of new footer UI, if there are reactions leftover from before, then the 'add a reaction' prompt won't show;
            // this fixes this by summing the new reactions and checking that before show/hiding the prompt
            const hasReactions = +this.$el.attr('data-count') > 0;
            this.$el.find('.js-add-reaction-label').toggleClass('d-none', hasReactions);
        },
        loadAndUpdateTooltip: function (evt) {
            const button = evt.currentTarget;
            const voteTypeId = +jquery__WEBPACK_IMPORTED_MODULE_2__(button).attr('data-vote-id');
            if (!this.updateTooltip(button)) {
                const self = this;
                jquery__WEBPACK_IMPORTED_MODULE_2__.ajax(`/posts/tooltip/reactions/${getPostId(jquery__WEBPACK_IMPORTED_MODULE_2__(button))}/${voteTypeId}`)
                    .done(function (data) {
                    jquery__WEBPACK_IMPORTED_MODULE_2__(button).data('tooltip-payload', data);
                    self.updateTooltip(button);
                });
            }
        },
        updateTooltip: function (button) {
            const votesCast = this.state.votesCast;
            const $button = jquery__WEBPACK_IMPORTED_MODULE_2__(button);
            const voteTypeId = +$button.attr('data-vote-id');
            const selected = votesCast.indexOf(voteTypeId) !== -1;
            const reactionCount = +$button.attr('data-vote-count');
            if (selected && reactionCount === 1) {
                (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipHtml)($button, '<div class="ta-left fs-caption w128 s-tooltip"><p class="fs-body1 mb6">'
                    + __tr(["Reacted with <strong>$reaction$</strong>"], {reaction: $(button).attr('data-name')}, "en", [])
                    + '</p><span class="fs-caption py2 m0">' + __tr(["You"], undefined, "en", []) + '</span></div>', reactionContainerTooltipOptions);
                return true;
            }
            const payload = $button.data('tooltip-payload');
            if (payload && payload.VoterUsers) {
                const voterUsers = payload.VoterUsers;
                const voterUsersHtml = voterUsers.map(function (user) {
                    return '<p class="fs-caption py2 m0">' + jquery__WEBPACK_IMPORTED_MODULE_2__('<div/>').text(user).html() + '</p>';
                }).join('');
                const htmlStartBody = '<div class="ta-left fs-caption w128 s-tooltip"><p class="fs-body1 mb6">' + __tr(["Reacted with <strong>$reaction$</strong>"], {reaction: $(button).attr('data-name')}, "en", [])
                    + '</p>' + voterUsersHtml;
                const htmlSelfVoter = selected ? '<p class="fs-caption py2 m0">' + __tr(["You"], undefined, "en", []) + '</p>' : '';
                const numberLeftover = reactionCount - (selected ? voterUsers.length + 1 : voterUsers.length);
                const leftoverText = "+ " + numberLeftover + ' ' + __tr(["more"], undefined, "en", []);
                const htmlLeftover = numberLeftover > 0 ? '<p class="fs-caption fw-bold pt2 m0">' + leftoverText + '</p>' : '';
                const htmlEndTag = '</div>';
                const htmlCombined = htmlStartBody + htmlSelfVoter + htmlLeftover + htmlEndTag;
                (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipHtml)($button, htmlCombined, reactionContainerTooltipOptions);
            }
            if (payload) {
                return true;
            }
            (0,_stub_mod__WEBPACK_IMPORTED_MODULE_9__.setTooltipText)($button, __tr(["Loading..."], undefined, "en", []), reactionContainerTooltipOptions);
            return false;
        }
    });
};


/***/ }),

/***/ "./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.mod.ts":
/*!*************************************************************!*\
  !*** ./_Scripts/LegacyJS/full/05_VoteToCloseAndFlag.mod.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   closeAfterLoadListOriginals: () => (/* binding */ closeAfterLoadListOriginals),
/* harmony export */   closeInitDuplicateSubPane: () => (/* binding */ closeInitDuplicateSubPane),
/* harmony export */   close_updateCloseLinkCount: () => (/* binding */ close_updateCloseLinkCount),
/* harmony export */   initVoteToCloseAndFlag: () => (/* binding */ initVoteToCloseAndFlag),
/* harmony export */   showFancyReopenConfirmation: () => (/* binding */ showFancyReopenConfirmation)
/* harmony export */ });
/* harmony import */ var _stackoverflow_stacks_icons_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @stackoverflow/stacks-icons/icons */ "./node_modules/@stackoverflow/stacks-icons/dist/icons.js");
/* harmony import */ var _PartialJS_full_common_99_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../PartialJS/full-common/99_helpers.mod */ "./_Scripts/PartialJS/full-common/99_helpers.mod.ts");
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/* harmony import */ var _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Shared/options.mod */ "./_Scripts/Shared/options.mod.ts");
/* harmony import */ var _Shared_settings_mod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Shared/settings.mod */ "./_Scripts/Shared/settings.mod.ts");
/* harmony import */ var _Shared_svg_utils_mod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Shared/svg-utils.mod */ "./_Scripts/Shared/svg-utils.mod.ts");
/* harmony import */ var _full_common_05_StyleCode_mod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../full-common/05_StyleCode.mod */ "./_Scripts/LegacyJS/full-common/05_StyleCode.mod.js");
/* harmony import */ var _full_common_12_Comments_mod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../full-common/12_Comments.mod */ "./_Scripts/LegacyJS/full-common/12_Comments.mod.js");








var SITE_SPECIFIC_OTHER_ID = 3;
var DATA_LOADED_TIMESTAMP = 'loaded-timestamp';
var _options;
var close_override; // if set, clicks on "it doesn't belong here" will be forwarded to it instead of flag_showCloseDialog; used in mobile
var _postId, _postMenuLink, // could be close or flag, depending on which was clicked
_closePopup, _flagPopup, _lastSubmittedOtherText;
function resetPrivateFields() {
    _postId = _postMenuLink = _closePopup = _flagPopup = _lastSubmittedOtherText = null;
}
function closeExistingDialogs() {
    if (_flagPopup) {
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.closePopups)(_flagPopup);
    }
    if (_closePopup) {
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.closePopups)(_closePopup);
    }
}
function handleCloseOrReopen(bypassReopenConfirmation) {
    var isClosed = _postMenuLink.data('is-closed');
    if (isClosed) {
        reopen_click(_postMenuLink.data('has-active-vote'), bypassReopenConfirmation);
    }
    else {
        close_loadPopup(true);
    }
}
function close($clicked, bypassReopenConfirmation) {
    // start a new close click all fresh and clean
    closeExistingDialogs();
    resetPrivateFields();
    // The close button can live outside of a post menu, so check if it has a post ID before checking the parent post menu.
    _postId = getPostId($clicked);
    _postMenuLink = $clicked;
    // if we need to inject the interstitial modal, do this now. note that it's not needed in the flag path, since we only show it to people who can VtC
    var showInterstitial = _postMenuLink.data("show-interstitial") === true;
    if (showInterstitial) {
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.loadModal)('/questions/close-reopen-explanation-modal')
            .done(function ($modal) {
            _postMenuLink.data('show-interstitial', false);
            $modal.on('popupClosing', function () {
                handleCloseOrReopen(bypassReopenConfirmation);
            });
        })
            .fail(function (error) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(error, { type: 'danger' });
        });
    }
    else {
        handleCloseOrReopen(bypassReopenConfirmation);
    }
}
function showFancyReopenConfirmation(callback) {
    // workaround so webpack will parse options import
    var optionsLocal = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"];
    (0,_PartialJS_full_common_99_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showConfirmModal)({
        title: __tr(["Nominate this question for reopening?"], undefined, "en", []),
        bodyHtml: __tr(["Vote to reopen questions that have been improved or shouldn’t have been closed on $siteName$. $startLink$Learn more$endLink$ about reopening questions."], {siteName: optionsLocal.site.name,startLink: '<a href="/help/reopen-questions" target="_blank">',endLink: '</a>'}, "en", []),
        buttonLabel: __tr(["Vote to reopen"], undefined, "en", [])
    }).then(function (confirmed) {
        if (confirmed) {
            callback();
        }
    });
}
// will return the ajax deferred object, so more .done handlers can be added
function close_loadPopup(fadeInPopup) {
    var $popupContainer = getPopupContainer(_postMenuLink);
    var data = {
        loadedTimestamp: _postMenuLink.data(DATA_LOADED_TIMESTAMP)
    };
    if (_options && _options.reviewTaskIdGetter)
        data.reviewTaskId = _options.reviewTaskIdGetter();
    var result = _postMenuLink.loadPopup({
        url: '/flags/questions/{questionId}/close/popup'.formatUnicorn({ questionId: _postId }),
        data: data,
        dontShow: true,
        target: $popupContainer
    })
        .done(function ($popup) {
        _closePopup = $popup;
        _closePopup.appendTo($popupContainer);
        close_initPopup();
        if (_options && _options.closeShowPopup) {
            _options.closeShowPopup(_closePopup, _postMenuLink);
        }
        else if (fadeInPopup) {
            _closePopup.center().fadeIn('fast');
        }
    });
    return result;
}
function close_initPopup() {
    // remove the popups when clicking (x), `popupClose` is guaranteed to only be called once per popup.
    _closePopup.on('popupClose', function () { closeExistingDialogs(); });
    // a selected radio should enable submit and add a border around its parent <li>; could also show a sub-pane
    _closePopup.find('input[type=radio]').closest('li').bind('show-action', function () { close_onAnyRadioClick($(this)); });
    $('#close-question-form').submit(function (e) {
        e.preventDefault();
        close_submitClose();
        return false; // this will be an ajax submit
    });
    $('.js-retract-close-vote').click(function () {
        close_retractCloseVote($(this));
    });
    // links in descriptions should open in a new tab
    $('.action-list a').attr('target', '_blank');
    closeInitDuplicateSubPane();
    close_initSiteSpecificSubPane();
}
function closeInitDuplicateSubPane() {
    var subPane = $('.close-as-duplicate-pane'), txt = subPane.find('.js-duplicate-search-field');
    subPane
        .on('show', function () {
        txt.focus();
        $('#close-question-form .js-popup-submit').enable($('#original-question-id').val());
    })
        .addClass('handles-submit-button-enabling');
    txt.typeWatch({
        highlight: false,
        wait: 750,
        captureLength: -1,
        callback: function () {
            close_searchForOriginal(txt);
        }
    });
}
// todo: make site-specific links open in new tab
function close_initSiteSpecificSubPane() {
    var txt = _closePopup.find('[name=siteSpecificOtherText]'), parent = txt.closest('li'), otherRadio = parent.find('[name=siteSpecificCloseReasonId]'), initialValue = $.trim(txt.val()), ensureNotInitialValue = function () {
        return $.trim(txt.val()) !== initialValue;
    }, isValid = function (isValid) {
        var customValid = isValid && ensureNotInitialValue();
        if (txt.is(":focus")) {
            _closePopup.find('.js-popup-submit').enable(customValid);
        }
    };
    txt.charCounter({
        target: parent.find('.text-counter'),
        min: 30,
        max: 500,
        setIsValid: isValid
    });
    otherRadio.click(function () {
        setTimeout(function () {
            txt.focus();
            var val = txt.val();
            txt.val('').val(val);
        });
    });
    // this happens on mobile - ensure that the radio is selected when focusing the "other" textarea
    txt.focus(function () {
        if (!otherRadio.is(':checked')) {
            otherRadio.attr('checked', 'checked');
        }
    });
}
function close_onAnyRadioClick(li) {
    var radio = li.find('input:radio');
    // do we need to display a sub-pane that's associated with the selected radio value?
    var subPane = _closePopup.find('.popup-subpane').filter(function () {
        // be explicit... some day we'll have to localize subpane titles :(
        var name = radio.data('subpane-name');
        return name && name == $(this).data('subpane-name');
    });
    var submitButton = _closePopup.find('.js-popup-submit');
    if (subPane.length) {
        close_showPane(subPane, $('.popup-active-pane'), true);
        // some sub panes have their own enable/disable logic, which should be hooked up on a "show" event
        if (!subPane.hasClass('handles-submit-button-enabling')) {
            submitButton.disable();
        }
    }
    else {
        submitButton.enable();
    }
}
function close_showPane(paneToShow, paneToHide, addBreadcrumb) {
    // hide any active pane; supports jumping more than one level back from a breadcrumb
    _closePopup.find('.popup-active-pane').removeClass('popup-active-pane').hide();
    _closePopup.find('.popup-title').html(paneToShow.data('title'));
    if (addBreadcrumb) {
        var breadcrumbText = paneToHide.data('breadcrumb') || paneToHide.data('title');
        close_pushTitleBreadcrumb(breadcrumbText, function () {
            close_showPane(paneToHide, paneToShow, false);
        });
    }
    close_clearSelection(paneToShow);
    if (paneToHide.data('clear-input-selector')) {
        paneToHide.find(paneToHide.data('clear-input-selector')).val('');
        var submitButton = _closePopup.find('.js-popup-submit');
        submitButton.attr('disabled', 'disabled');
    }
    paneToShow
        .addClass('popup-active-pane')
        .show()
        .trigger('show')
        .asyncLoad({
        callback: closeAfterLoadListOriginals
    });
}
function close_clearSelection(pane) {
    pane.find('input[type=radio]:checked').removeAttr('checked');
    pane.find('li.action-selected').removeClass('action-selected');
    _closePopup.find('.js-popup-submit').disable();
}
function close_pushTitleBreadcrumb(text, fnRestoreHiddenPane) {
    var $crumbs = _closePopup.find('.js-breadcrumbs');
    var $cancelBtn = _closePopup.find('.js-popup-cancel');
    var $backBtn = _closePopup.find('.js-popup-back');
    var $newCrumb = $('<div class="s-breadcrumbs--item" />').appendTo($crumbs);
    function updateUI() {
        var hasCrumbs = $crumbs.find('.s-breadcrumbs--item').length > 0;
        $crumbs.add($backBtn).toggleClass('d-none', !hasCrumbs);
        $cancelBtn.toggleClass('d-none', hasCrumbs);
        $crumbs.find('.s-breadcrumbs--divider')
            .removeClass('d-none')
            .last().addClass('d-none');
    }
    $backBtn.off('click').click(function () {
        $crumbs.find('.s-breadcrumbs--link').last().click();
    });
    $('<span class="s-breadcrumbs--link c-pointer" tabindex="0" role="button">').text(text).click(function () {
        // remove this crumb and any after it
        $newCrumb.nextAll().addBack().remove();
        updateUI();
        fnRestoreHiddenPane();
    }).appendTo($newCrumb);
    (0,_Shared_svg_utils_mod__WEBPACK_IMPORTED_MODULE_4__.createSvgElement)(_stackoverflow_stacks_icons_icons__WEBPACK_IMPORTED_MODULE_7__.IconArrowRightAltSm).addClass('s-breadcrumbs--divider').appendTo($newCrumb);
    updateUI();
}
function close_pushFlaggingBreadcrumb() {
    close_pushTitleBreadcrumb(__tr(["Flagging"], undefined, "en", []), function () {
        var location = _closePopup.position();
        _flagPopup.css({ top: location.top, left: location.left });
        _closePopup.hide();
        _flagPopup.fadeIn('fast');
        // if we come back from flagging, start at the main close pane
        close_showPane(_closePopup.find('#pane-main'), _closePopup.find('.popup-active-pane'), false);
    });
}
function closeAfterLoadListOriginals(container) {
    var list = container.find('.list-originals');
    if (list.children().length == 0) {
        list.hide();
        return;
    }
    list.show();
    // fetching a list always overwrites the breadcrumb trail
    close_updateDuplicateNavigation(list, true);
    (0,_full_common_05_StyleCode_mod__WEBPACK_IMPORTED_MODULE_5__["default"])();
    // clicking on a item will load the post into the preview
    list.find('.item')
        .click(function () {
        var link = $(this).find(' .post-link > a').addSpinner({ 'padding-left': '3px' }), txt = $(link).closest('.close-as-duplicate-pane').find('.js-duplicate-search-field').val(link.attr('href'));
        close_searchForOriginal(txt, link);
        return false;
    })
        .hover(function () { $(this).toggleClass('hover'); });
}
function close_searchForOriginal(txt, link) {
    var pane = txt.closest('.popup-subpane'), preview = pane.find('.preview'), listContainer = pane.find('.list-container'), errors = pane.find('.search-errors').empty(), hidden = $('#original-question-id'), submit = pane.closest('#popup-close-question').find('.js-popup-submit');
    submit.disable(); // new searches should disable submit
    preview.html('').hide(); // and clear previous results
    if ($.trim(txt.val()).length == 0) {
        return;
    }
    // link will be passed in when we click a question title
    if (!link) {
        pane.find('.search-spinner').addSpinner();
    }
    var data = {
        q: txt.val()
    };
    if (_options && _options.reviewTaskIdGetter)
        data.reviewTaskId = _options.reviewTaskIdGetter();
    $.ajax({
        type: 'GET',
        url: '/posts/popup/close/search-originals/' + $('#popup-close-question').data('questionid'),
        data: data,
        dataType: 'html'
    }).done(function (html) {
        var div = $(html).elementNodesOnly().mathjax();
        // user entered a question url or id; we've been given a lightweight questions/show back
        if (div.hasClass('show-original')) {
            listContainer.hide();
            close_updateDuplicateNavigation(div);
            preview.empty().append(div).show();
            div.find('.question .show-title a').attr('target', '_blank');
            // prevent magic popups on tags
            div.find('.post-tag').addClass('user-tag');
            // store validated original id for use by submit later
            hidden.val(div.find('.question').data('questionid'));
            submit.enable();
        }
        else if (div.hasClass('list-originals')) {
            // search results in a list
            listContainer.empty().append(div).show();
            closeAfterLoadListOriginals(listContainer);
        }
        else {
            throw __tr(["these are not the results you were looking for"], undefined, "en", []);
        }
    }).fail(function (res) {
        var msg = res.responseText && res.responseText.length < 100 ? res.responseText : __tr(["An error occurred while searching; please try again"], undefined, "en", []);
        errors.text(msg);
        submit.disable();
        hidden.val('');
        pane.find('.navi-container .instructions').remove();
    }).always(function () {
        // spinners were added near the context that called this method, i.e. under search box or next to a clicked list link
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.removeSpinner)();
    });
}
function close_updateDuplicateNavigation(hasNaviDiv, empty) {
    var $pane = $('.close-as-duplicate-pane'); // This is not always in a close dialog.
    var container = $pane.find('.original-display .navi-container'), navi = hasNaviDiv.find('.navi'), txt = $pane.find('.js-duplicate-search-field');
    if (empty) {
        // we'll empty when getting a new list of questions
        container.empty();
    }
    else {
        // we have a list and are clicking a question to preview, so we need a way to get back to the list
        var listNav = container.find('.navi');
        if (listNav.length != 1) {
            return;
        }
        // anchor will have the text on it
        listNav.empty();
        // make a link back to the list
        $('<a>')
            .text(listNav.data('abbr'))
            .click(function () {
            listNav
                .html(listNav.data('text'))
                .siblings().remove();
            container.siblings('.preview').hide();
            container.siblings('.list-container').show();
            $('#original-question-id').val('');
            $('#popup-close-question').find('.js-popup-submit').disable();
            $('.close-as-duplicate-pane').find('.search-errors').empty();
            // we saved the previous search text; restore it
            txt.val(listNav.data('search-text')).focus();
        })
            .appendTo(listNav);
    }
    navi
        .data('search-text', txt.val())
        .text(navi.data('text'))
        .prependTo(container);
}
function close_submitClose() {
    var submitButton = _closePopup.find('.js-popup-submit');
    // check this - duplicate textbox makes enter submit regardless
    if (submitButton.attr('disabled'))
        return;
    $('.remaining-votes').addSpinner({ 'position': 'absolute', 'margin': '18px 0 0 3px' });
    submitButton.disable();
    var getSelectedRadio = function (pane, name) {
        return _closePopup.find(pane + ' input[type=radio][name="' + name + '"]:checked');
    };
    if (_options && _options.closeSubmitting && _options.closeSubmitting() === false) {
        closeExistingDialogs();
        return;
    }
    $.ajax({
        type: 'POST',
        url: '/flags/questions/{questionId}/close/add'.formatUnicorn({ questionId: _postId }),
        dataType: 'json',
        data: {
            fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey,
            closeReasonId: getSelectedRadio('#pane-main', 'closeReasonId').val(),
            duplicateOfQuestionId: $('#original-question-id').val(),
            siteSpecificCloseReasonId: getSelectedRadio('.site-specific-pane', 'siteSpecificCloseReasonId').val(),
            belongsOnBaseHostAddress: getSelectedRadio('.migration-pane', 'belongsOnBaseHostAddress').val(),
            siteSpecificOtherText: _closePopup.find('[name=siteSpecificOtherText]').val(),
            siteSpecificOtherCommentId: getSelectedRadio('.site-specific-pane', 'siteSpecificCloseReasonId').data('other-comment-id'),
            originalSiteSpecificOtherText: _closePopup.find('[name="originalSiteSpecificOtherText"]').val()
        }
    }).done(function (json) {
        close_submitComplete(json);
    }).fail(function () {
        showError(_postMenuLink, __tr(["An error occurred; please try again"], undefined, "en", []));
    }).always(function () {
        closeExistingDialogs();
    });
}
function reopen_click(hasActiveVote, bypassReopenConfirmation) {
    if (_postMenuLink.hasClass('is-loading')) {
        return;
    }
    if (hasActiveVote) {
        (0,_PartialJS_full_common_99_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showConfirmModal)({
            title: __tr(["Retract your reopen vote?"], undefined, "en", []),
            bodyHtml: __tr(["You have already voted to reopen this question. Do you want to retract your vote? If you retract, you won’t be able to vote to reopen this question again."], undefined, "en", []),
            buttonLabel: __tr(["Retract reopen vote"], undefined, "en", [])
        }).then(function (confirmed) {
            if (confirmed) {
                reopen_submit('retract');
            }
        });
    }
    else if (bypassReopenConfirmation) {
        reopen_submit('add');
    }
    else {
        showFancyReopenConfirmation(function () { reopen_submit('add'); });
    }
}
function reopen_submit(action) {
    _postMenuLink.addClass('is-loading');
    $.ajax({
        type: 'POST',
        url: '/flags/questions/{questionId}/reopen/{action}'.formatUnicorn({ questionId: _postId, action: action }),
        dataType: 'json',
        data: { fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey }
    }).done(function (json) {
        if (json.Success) {
            _postMenuLink.data('has-active-vote', action === 'add');
        }
        close_submitComplete(json);
    }).fail(function () {
        showError(_postMenuLink, __tr(["An error occurred; please try again"], undefined, "en", []));
    }).always(function () {
        _postMenuLink.removeClass('is-loading');
    });
}
function close_submitComplete(json) {
    // add some helper properties based on how the server interpreted our submission
    json.isClose = json.FlagType == 'QuestionClose';
    json.isRecommendClose = json.FlagType == 'QuestionRecommendClose';
    json.isReopen = json.FlagType == 'QuestionReopen';
    json.verb = json.isRecommendClose ? 'flag' : json.isReopen ? 'reopen' : 'close';
    var closeLink = _postMenuLink;
    // the user originally clicked "flag", then "it doesn't belong here"; the server recorded a regular close vote
    if (json.isClose && _postMenuLink.is('[class*="flag-post-"]')) {
        // should also find id="mobile-close-question-..."
        closeLink = _postMenuLink.parent().find("a[class*='close-question']");
    }
    if (json.Success) {
        close_submitSuccess(json, closeLink);
    }
    else {
        close_submitRejected(json, closeLink);
    }
}
function close_submitSuccess(json, closeLink) {
    // don't do anything; our callback already took over
    if (_options && _options.closeCallback && _options.closeCallback(closeLink, json, json.isRecommendClose)) {
        return;
    }
    // function to refresh without a redirect (i.e. prevent navigation to a migrated question)
    var fnRefreshPreventNavigation = function () {
        var href = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.splitOnLast)(window.location.href, '#')[0], // remove #, if present
        param = 'noredirect=1';
        if (href.indexOf(param) < 0) {
            href += (href.indexOf('?') < 0 ? '?' : '&') + 'noredirect=1';
        }
        window.location.href = href;
    };
    // a close or reopen vote actually changed the question state
    if (json.ResultChangedState) {
        fnRefreshPreventNavigation();
        return;
    }
    // when voting to close as 1) dupe or 2) site-specific -> other, a comment is added; fetch comments so the voter can see it
    if ((json.CloseReason == 'Duplicate' || json.SiteSpecificCloseReasonId == SITE_SPECIFIC_OTHER_ID)
        && closeLink.closest('.mod-post-header').length == 0) { // don't fetch when a mod just did it on the mod queue
        (0,_full_common_12_Comments_mod__WEBPACK_IMPORTED_MODULE_6__.loadAll)(closeLink);
    }
    if (json.Tooltip) {
        closeLink.attr('title', json.Tooltip);
    }
    if (json.Message) {
        close_updateCloseLinkCount(json, closeLink);
        return;
    }
    // all else fails, refresh
    fnRefreshPreventNavigation();
}
/**
 * THIS IS USED IN THE "FIRST POSTS" REVIEW QUEUE
 */
function close_updateCloseLinkCount(json, closeLink) {
    if (json.Message) {
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(json.Message, { useRawHtml: true, transient: json.Message.length < 150 });
    }
    // we need to update the existing count for close and reopen votes
    if (!json.isRecommendClose) {
        // .Count is returned from vote (or flag) to close actions, closeLink could be the "flag" link, make sure to grab the "close" link
        closeLink = closeLink.closest('.js-post-menu').find('.js-close-question-link');
        var countSpan = closeLink.find('.existing-flag-count');
        if (json.Count > 0) {
            // first votes will need to add the span (can't always put it there, since we use css to add the parenthesis)
            if (countSpan.length == 0) {
                closeLink.text(closeLink.text() + ' '); // add whitespace from razor helper or css
                countSpan = $('<span class="existing-flag-count">').appendTo(closeLink);
            }
            countSpan.text(json.Count);
        }
        else if (json.Count === 0 && countSpan) {
            countSpan.remove();
            closeLink.attr("title", __tr(["You retracted your close vote for this question"], undefined, "en", []));
        }
    }
}
function close_submitRejected(json, closeLink) {
    var errorMessage = json.Message;
    if (!errorMessage) {
        switch (json.verb) {
            case 'flag':
                errorMessage = __tr(["A problem occurred when trying to flag"], undefined, "en", []);
                break;
            case 'reopen':
                errorMessage = __tr(["A problem occurred when trying to reopen"], undefined, "en", []);
                break;
            case 'close':
                errorMessage = __tr(["A problem occurred when trying to close"], undefined, "en", []);
                break;
        }
    }
    // don't do anything; our callback already took over
    if (_options && _options.closeErrorCallback && _options.closeErrorCallback(errorMessage)) {
        return;
    }
    showError(closeLink, errorMessage, true);
    if (json.RefreshClient) {
        setTimeout(function () { location.reload(); }, 2500);
    }
}
function close_retractCloseVote(button) {
    if (button.is(':disabled') || !confirm(__tr(["Are you sure? If you retract, you won’t be able to vote to close this question again."], undefined, "en", []))) {
        return;
    }
    button.disable().addSpinnerBefore({ 'position': 'absolute', 'margin': '18px 0 0 -25px' });
    $.ajax({
        type: 'POST',
        url: '/flags/questions/{questionId}/close/retract'.formatUnicorn({ questionId: _postId }),
        dataType: 'json',
        data: { fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey }
    }).done(function (json) {
        close_updateCloseLinkCount(json, _postMenuLink);
    }).fail(function () {
        showError(_postMenuLink, __tr(["An error occurred; please try again"], undefined, "en", []));
    }).always(function () {
        closeExistingDialogs();
    });
}
function flag($clicked) {
    // start a new flag click all fresh and clean
    closeExistingDialogs();
    resetPrivateFields();
    _postId = getPostId($clicked);
    _postMenuLink = $clicked;
    var $popupContainer = getPopupContainer($clicked);
    var data = {
        loadedTimestamp: $clicked.data(DATA_LOADED_TIMESTAMP)
    };
    if (_options && _options.reviewTaskIdGetter)
        data.reviewTaskId = _options.reviewTaskIdGetter();
    $clicked.loadPopup({
        url: '/flags/posts/{postId}/popup'.formatUnicorn({ postId: _postId }),
        loaded: flag_loaded,
        data: data,
        hideDescriptions: false,
        target: $popupContainer,
        subformShow: flag_subformShow,
        dontShow: Boolean(_options && _options.flagShowPopup)
    });
}
;
function flag_loaded(popup) {
    _flagPopup = popup;
    flag_initAttentionSubform();
    // remove the popups when clicking (x), `popupClose` is guaranteed to only be called once per popup.
    _flagPopup.on('popupClose', function () { closeExistingDialogs(); });
    _flagPopup.find('.js-flag-load-close').unbind('click').click(function () {
        if (close_override) {
            close_override(_flagPopup, $(this));
        }
        else {
            flag_showCloseDialog($(this));
        }
    });
    var $form = _flagPopup.find('form');
    var retractFlagType = _Shared_settings_mod__WEBPACK_IMPORTED_MODULE_3__["default"].flags.allowRetractingFlags ? $form.attr("data-showretract") : null;
    $form.submit(function (e) {
        e.preventDefault();
        retractFlagType ? flag_retract(retractFlagType) : flag_submit();
        return false;
    });
    // if a user has already flagged for a specific reason, we'll disable choosing the same reason
    flag_disableActions();
    if (_options && _options.flagShowPopup) {
        _options.flagShowPopup(popup, _postMenuLink);
    }
}
;
function flag_disableActions() {
    _flagPopup.find('.action-list > .disabled-action').each(function () {
        var li = $(this);
        li.find('input[type=radio]').attr('disabled', 'disabled');
        li.find('.action-name').addClass('disabled-button');
    });
}
var flag_initAttentionSubform = function () {
    var submit = _flagPopup.find('.js-popup-submit'), txt = _flagPopup.find('textarea[name="otherText"]'), plagiarizedSrc = _flagPopup.find('input[name="plagiarizedSource"]'), plagiarizedTxt = _flagPopup.find('textarea[name="plagiarizedExplanation"]'), otherRadio = _flagPopup.find('input[value="PostOther"]'), plagiarismRadio = _flagPopup.find('input[value="PlagiarizedContent"]');
    const isValidPlagiarizedSrc = () => {
        return plagiarizedSrc.val().length >= 10;
    };
    const isValidPlagiarizedTxt = () => {
        const length = plagiarizedTxt.val().length;
        return length >= 10 && length <= 500;
    };
    plagiarizedSrc
        .on('keydown', () => {
        submit.enable(isValidPlagiarizedSrc() && isValidPlagiarizedTxt());
    });
    plagiarizedTxt
        .charCounter({
        min: 10,
        max: 500,
        setIsValid: (isValid) => {
            if (plagiarismRadio.is(':checked')) {
                submit.enable(isValid && isValidPlagiarizedSrc());
            }
        },
    });
    txt
        .focus(function () {
        if (!otherRadio.is(':checked')) {
            otherRadio.attr('checked', 'checked');
        }
    })
        .charCounter({ min: 10, max: 500, setIsValid: function (isValid) {
            if (otherRadio.is(':checked')) {
                submit.enable(isValid);
            }
        }
    });
    otherRadio.click(function () { txt.focus(); });
};
var flag_subformShow = function (subform) {
    if (!subform.is('.mod-attention-subform')) {
        return;
    }
    var otherText = subform.find('textarea[name="otherText"]');
    // if the textarea was previously selected, focus it again when showing the subform
    if (subform.find('input[value="PostOther"]:checked').length > 0) {
        otherText.focus();
    }
    else if (subform.find('input:radio:checked').length == 0) {
        subform.closest('.popup').find('.js-popup-submit').disable();
    }
};
var flag_showCloseDialog = function (radioLoadClose) {
    var location = _flagPopup.position();
    var deferred = _flagPopup.fadeOut('fast').promise();
    // only load close popup once
    if (!_closePopup) {
        radioLoadClose.siblings('.action-name').addSpinner({ 'margin': '0 5px' });
        deferred = close_loadPopup(/*fadeInPopup*/ false);
    }
    deferred.done(function () {
        // this needs to happen before dupe UI is clicked, else breadcrumb order is incorrect
        close_pushFlaggingBreadcrumb();
        // take the user directly to the dupe UI if requested
        if (radioLoadClose.is('.js-flag-load-close-duplicate')) {
            _closePopup.find('input[value=Duplicate]').click();
        }
        _closePopup.css({ top: location.top, left: location.left });
        _closePopup.fadeIn('fast');
    });
    // make the user click something again to submit
    _flagPopup.find('.js-popup-submit').disable();
    // if we go back to the flag popup, no radios should be selected or highlighted
    radioLoadClose.removeAttr('checked');
    _flagPopup.find('.action-list li').trigger('hide-action');
};
var flag_retract = function (flagType) {
    flag_sendflag('/flags/posts/{postId}/retract/{flagType}', flagType, '');
};
var flag_submit = function () {
    var otherTextArea = _flagPopup.find('textarea[name="otherText"]');
    var afterSubmit = function (json) {
        // return true if no further callbacks should be executed (if the flag was unsuccessful, give the user another chance!)
        if (!json.Success) {
            if (json.Outcome === 1) { // see: Flag.FlagActionResult.Outcomes: 1 == Warn, 2 == Error
                showWarning(otherTextArea, json.Message, true);
            }
            else {
                showError(_flagPopup.find('.popup-actions'), json.Message, true, true);
            }
            return true;
        }
        closeExistingDialogs();
        return false;
    };
    var flagType = _flagPopup.find('input[name="top-form"]:checked').val(), otherText = '', extraData = null;
    if (flagType == 'PostOther') {
        otherText = otherTextArea.val();
    }
    else if (flagType == 'PlagiarizedContent') {
        otherText = _flagPopup.find('textarea[name="plagiarizedExplanation"]').val();
        extraData = {
            plagiarizedSource: _flagPopup.find('input[name="plagiarizedSource"]').val(),
        };
    }
    var overrideWarning = _lastSubmittedOtherText === otherText;
    _lastSubmittedOtherText = otherText;
    if (_options && _options.flagSubmitting && _options.flagSubmitting() === false) {
        closeExistingDialogs();
        return;
    }
    flag_sendflag('/flags/posts/{postId}/add/{flagType}', flagType, otherText, overrideWarning, afterSubmit, extraData);
};
var flag_sendflag = function (urlStub, flagType, otherText, overrideWarning, afterSubmitCallback, extraData) {
    _flagPopup.find('.js-popup-submit').disable().addClass('is-loading');
    $.ajax({
        type: 'POST',
        url: urlStub.formatUnicorn({ postId: _postId, flagType: flagType }),
        dataType: 'json',
        data: { fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey, otherText: otherText, customData: JSON.stringify(extraData), overrideWarning: overrideWarning }
    })
        .always(function () {
        if (!afterSubmitCallback) {
            closeExistingDialogs();
        }
        _flagPopup.find('.js-popup-submit').enable().removeClass('is-loading');
    })
        .done(function (json) {
        if (afterSubmitCallback && afterSubmitCallback(json)) {
            return;
        }
        if (_options && _options.flagCallback && _options.flagCallback(_postMenuLink, json)) {
            // don't do anything; our callback already took over
            return;
        }
        if (json.ResultChangedState) {
            location.reload();
        }
        else if (json.Message) {
            showError(_postMenuLink, json.Message, json.Success, true);
        }
    })
        .fail(function (res) {
        var msg = res.responseText && res.responseText.length < 100 ? res.responseText : __tr(["An error occurred during flagging"], undefined, "en", []);
        showError(_flagPopup.find('.popup-actions'), msg, true);
    });
};
function showError($source, message, isInformational, useRawHtml = false) {
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(message, { type: isInformational ? 'info' : 'danger', $source: $source, useRawHtml: useRawHtml });
}
function showWarning($source, message, useRawHtml = false) {
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(message, { type: 'warning', $source: $source, useRawHtml: useRawHtml });
}
function getPostId($clicked) {
    return $clicked.attr('data-post-id') || $clicked.closest('.js-post-menu').attr('data-post-id');
}
function getPopupContainer($clicked) {
    // Button is in menu rendered below posts.
    var $postMenuPopupContainer = $clicked.closest('.js-post-menu').find('.js-menu-popup-container');
    if ($postMenuPopupContainer.length > 0) {
        return $postMenuPopupContainer;
    }
    // Button is in flag on admin dashboard.
    var $flagBarCloseContainer = $clicked.closest('.js-post-flag-bar').siblings('.js-post-flag-close-container');
    if ($flagBarCloseContainer.length > 0) {
        return $flagBarCloseContainer;
    }
    // Oof, we give up.  Put it in the button's parent element.
    return $clicked.parent();
}
function initVoteToCloseAndFlag(options) {
    if (!_options) {
        _options = options;
    }
    var closeSelector = '.js-close-question-link', onCloseClick = function (e, bypassReopenConfirmation) {
        e.preventDefault();
        close($(this), !!bypassReopenConfirmation);
    };
    $('body').off('click', closeSelector).on('click', closeSelector, onCloseClick);
    var flagSelector = '.js-flag-post-link', onFlagClick = function (e) {
        e.preventDefault();
        flag($(this));
    };
    $('body').off('click', flagSelector).on('click', flagSelector, onFlagClick);
    // HACK: add when each link was loaded into the page, so we can let the server know how stale the content is
    //       and the server can respond with updated statuses when closing/flagging
    var msSinceEpoch = Date.now();
    $(closeSelector).add(flagSelector).each(function () {
        var $e = $(this);
        if (!$e.data(DATA_LOADED_TIMESTAMP))
            $e.data(DATA_LOADED_TIMESTAMP, msSinceEpoch);
    });
}


/***/ }),

/***/ "./_Scripts/LegacyJS/saves.mod.ts":
/*!****************************************!*\
  !*** ./_Scripts/LegacyJS/saves.mod.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initSaves: () => (/* binding */ initSaves),
/* harmony export */   initUserSaves: () => (/* binding */ initUserSaves)
/* harmony export */ });
/* harmony import */ var _stub_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stub.mod */ "./_Scripts/LegacyJS/stub.mod.js");
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");
/* harmony import */ var _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Shared/options.mod */ "./_Scripts/Shared/options.mod.ts");
/* harmony import */ var _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./full-common/20_Analytics.mod */ "./_Scripts/LegacyJS/full-common/20_Analytics.mod.js");
/* harmony import */ var _stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackoverflow/stacks */ "@stackoverflow/stacks");
/* harmony import */ var _stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__);





function toggleSelectState($btn, shouldSelect, toolTipText) {
    if (shouldSelect) {
        $btn.attr('aria-pressed', 'true');
        $btn.find('.js-saves-btn-selected').removeClass('d-none');
        $btn.find('.js-saves-btn-unselected').addClass('d-none');
    }
    else {
        $btn.attr('aria-pressed', 'false');
        $btn.find('.js-saves-btn-selected').addClass('d-none');
        $btn.find('.js-saves-btn-unselected').removeClass('d-none');
    }
    if (toolTipText) {
        (0,_stub_mod__WEBPACK_IMPORTED_MODULE_0__.setTooltipText)($btn, toolTipText);
    }
}
function initSavesButtons() {
    $(document).on('click', '.js-saves-btn', function () {
        const $savesBtn = $(this);
        const isSelected = $savesBtn.attr('aria-pressed');
        const postId = $savesBtn.data('post-id');
        submitSave(postId, isSelected === 'true', $(this), (NextTooltip) => toggleSelectState($savesBtn, isSelected === 'false' ? true : false, NextTooltip));
        sendPostClickEvent($savesBtn);
    });
}
function initManageSaveModal() {
    const url = '/posts/save/manage-save';
    $(document).on('change', '.js-save-manage-select', function (e) {
        const createOption = $(this).val();
        const $textbox = $('#save-manage-add-list-textbox');
        if (createOption === "create") {
            $textbox.removeClass('d-none');
            $textbox.find('input').focus();
        }
        else {
            if (!$textbox.hasClass('d-none')) {
                $textbox.addClass('d-none');
            }
        }
    });
    $(document).on('submit', '.js-save-manage-form', function (e) {
        e.preventDefault();
        const $inputBox = $(this).find('#save-manage-add-list-textbox');
        const $inputField = $inputBox.find('input');
        const $selectField = $(this).find('.js-save-manage-select option:selected');
        submitSaveModal($('#save-manage-modal'), url, $inputField, $selectField, true, (newListId) => {
            const $modal = $(this).closest('#save-manage-modal');
            if ($modal.length > 0 && $modal.data('isMoveto')) {
                const userId = $modal.data('userId');
                const postId = $modal.data('postId');
                const selectedListId = $selectField.data('listId');
                const selectedListName = $selectField.data('listName');
                // user has input a new list name
                if ($inputField.length > 0 && $inputField.val().length > 0 && !$inputBox.hasClass('d-none')) {
                    const listName = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.getTextFromHtmlString)($inputField.val());
                    if (newListId) {
                        addListName(newListId.toString(), listName, userId);
                        if ($('.js-saves-lists-posts').data('isAll') === 'True') {
                            updateSavedIn(newListId.toString(), listName, postId, userId);
                        }
                        else {
                            removePost($modal.data('postId'));
                        }
                    }
                    return;
                }
                // when user is on "For later" page, and try to move something to for later, return
                if ($('.js-saves-lists-posts').data('isForlater') === 'True' && $selectField.val() === 'for-later') {
                    return;
                }
                // user has changed select menu to a new value
                if (selectedListId !== $modal.data('listId')) {
                    // when user is on "All saves" page, do not remove post
                    if ($('.js-saves-lists-posts').data('isAll') === 'True') {
                        updateSavedIn(selectedListId, selectedListName, postId, userId);
                    }
                    else {
                        removePost($modal.data('postId'));
                    }
                }
            }
        });
    });
}
function initListActionModal() {
    $(document).on('click', '.js-open-list-modal', function () {
        let modalId = '';
        const action = $(this).data('modalAction');
        if (action == 'Create') {
            modalId = 'create-list-modal';
        }
        else if (action == 'Edit') {
            modalId = 'edit-list-modal';
        }
        Stacks.showModal(document.getElementById(modalId));
    });
    $(document).on('s-modal:shown', '.js-list-action-modal', function () {
        const $input = $(this).find('.js-list-name-input');
        const modalAction = $(this).data('modalAction');
        if ($input.length > 0) {
            $input.focus();
        }
        // render list name after modal opens, so the cursor focuses at the end of the list name
        if (modalAction == "Edit") {
            $input.val($(this).data('listName'));
        }
    });
    $(document).on('submit', '.js-save-edit-list-form', function (e) {
        e.preventDefault();
        const $modal = $(this).closest('.js-list-action-modal');
        const listId = $modal.data('listId');
        const modalType = $modal.data('modalAction');
        const userId = $modal.data('userId');
        const url = `/users/saves/${userId}/${modalType.toLowerCase()}-list`;
        const $inputField = $(this).find('.js-list-name-input');
        submitSaveModal($modal, url, $inputField, null, true, (newListId) => {
            if (modalType === 'Create') {
                addListName(newListId.toString(), (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.getTextFromHtmlString)($inputField.val()), userId);
            }
            else if (modalType === 'Edit') {
                updateListName(listId, (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.getTextFromHtmlString)($inputField.val()));
            }
        });
    });
    $(document).on('s-modal:hidden', '.js-list-action-modal', function () {
        const $modal = $(this).closest('.js-list-action-modal');
        const modalAction = $modal.data('modalAction');
        const $input = $(this).find('.js-list-name-input');
        // clean up user input for next time the modal opens
        if (modalAction == 'Create') {
            $input.val('');
        }
        else if (modalAction == 'Edit') {
            $input.val($(this).data('listName'));
        }
    });
    // for displaying toast message after successfully delete a list and get redirected to "all saves"
    $(window).on('load', function () {
        const userId = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.userId;
        // if not saves page, do not do anything
        if ($('.js-saves-page').length === 0) {
            return;
        }
        const requestUrl = `/users/saves/${userId}/undelete-list`;
        const queryString = new URLSearchParams(window.location.search);
        if (queryString.has('deletedList') && queryString.has('listName')) {
            const listId = queryString.get('deletedList');
            const listName = queryString.get('listName');
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.removeParameterFromQueryString)('deletedList');
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.removeParameterFromQueryString)('listName');
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(__tr(["$listName$ has been deleted from your lists."], {listName}, "en", []), {
                useRawHtml: true,
                actions: [{
                        labelContents: $('<span>').text(__tr(["Undo"], undefined, "en", [])).html(),
                        click: function () {
                            submitUndeleteList(requestUrl, listId);
                        }
                    }],
                type: "success"
            });
        }
    });
    $(document).on('click', '.js-saves-delete-list', function () {
        submitDeleteList($(this));
    });
}
function sendPostClickEvent($savesBtn) {
    const isSelected = $savesBtn.attr('aria-pressed');
    const alreadySaved = isSelected === 'true';
    const postTypeId = $savesBtn.data('post-type-id');
    const privilege = $savesBtn.data('user-privilege-for-post-click');
    _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_3__.track('post.click', {
        item: (alreadySaved ? /*PostClickType.Unsave*/ 19 : /*PostClickType.Save*/ 18),
        priv: privilege,
        post_type: postTypeId
    });
}
function sendFavoritesPopupShowEvent() {
    _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_3__.track('favorite_popup.show', {});
}
function submitDeleteList($deleteBtn) {
    const $modal = $deleteBtn.closest('#edit-list-modal');
    const listId = $modal.data('listId');
    const userId = $modal.data('userId');
    const listName = $modal.data('listName');
    const baseUrl = `/users/saves/${userId}`;
    const deleteUrl = `${baseUrl}/${listId}/delete-list`;
    const redirectUrl = `${baseUrl}/all`;
    $.ajax({
        type: 'DELETE',
        url: deleteUrl,
        data: { fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey },
        dataType: 'json',
        success: function () {
            window.location.href = `${redirectUrl}?deletedList=${listId}&listName=${listName}`;
            Stacks.hideModal($modal.get(0));
        },
        error: function (e) {
            showErrorMessage(e);
        }
    });
}
function submitUndeleteList(url, listId) {
    $.ajax({
        type: 'POST',
        url: url,
        dataType: 'json',
        data: {
            fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey,
            listId
        },
        success: function () {
            window.location.href = `/users/saves/${_Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.userId}/${listId}`;
        },
        error: function (e) {
            showErrorMessage(e);
            window.location.href = `/users/saves/${_Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.userId}/all`;
        }
    });
}
function initActionMenu() {
    $('.js-unsave').click(function () {
        const postId = $(this).data('post-id');
        submitSave(postId, true, $(this), () => removePost(postId));
    });
    $('.js-save-moveto').click(function () {
        const postId = $(this).data('post-id');
        const listId = $(this).data('list-id');
        loadManageSaveModal(postId, listId, true);
    });
    initNoteActionButtons();
}
function loadManageSaveModal(postId, listId, isMoveTo = false) {
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.loadModal)(`/posts/${postId}/open-save-modal?${isMoveTo ? 'isMoveTo=true' : ''}${listId ? '&listId=' + listId : ''}`)
        .fail(() => {
        var messageHtml = $('<span>').text(__tr(["An error occurred"], undefined, "en", [])).html();
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(messageHtml, { type: 'danger' });
    });
}
function updateListName(listId, listName) {
    let sidebarItem;
    let sidebarItemMobile;
    const listHeader = $('.js-saves-list-header');
    const sidebarItems = $('.js-saves-sidebar-item');
    const sidebarItemsMobile = $('.js-saves-sidebar-item-mobile');
    const $editModal = $('#edit-list-modal');
    sidebarItems.each(function () {
        if ($(this).data('listId') == listId) {
            sidebarItem = $(this);
            return;
        }
    });
    sidebarItemsMobile.each(function () {
        if ($(this).data('listId') == listId) {
            sidebarItemMobile = $(this);
            return;
        }
    });
    listHeader.html(listName);
    sidebarItem.find('a').html(listName);
    sidebarItemMobile.text(listName);
    if ($editModal.length > 0) {
        $editModal.attr('data-list-name', listName);
        $editModal.data('list-name', listName);
    }
}
function addListName(listId, listName, userId) {
    const link = `/users/saves/${userId}/${listId}`;
    // add to desktop sidebar
    const $sidebar = $('.js-saves-sidebar-nav');
    const $item = $(`<li class="js-saves-sidebar-item" data-list-id="${listId}"><a class="s-navigation--item" href="${link}">${listName}</a></li>`);
    $sidebar.append($item);
    // add to mobile select menu
    const $mobileSelect = $('.js-saves-sidebar-nav-mobile optgroup');
    const $mobileItem = $(`<option class="js-saves-sidebar-item-mobile" value="${link}" data-list-id="${listId}">${listName}</option>`);
    $mobileSelect.append($mobileItem);
}
function updateSavedIn(listId, listName, postId, userId) {
    const postSummary = $(`.js-saves-post-summary-${postId}`);
    const savedIn = postSummary.find('.js-saved-in');
    savedIn.html(listName);
    savedIn.attr('href', `/users/saves/${userId}/${listId}`);
}
function removePost(postId) {
    const postSummary = $(`.js-saves-post-summary-${postId}`);
    if (postSummary.length > 0) {
        postSummary.remove();
        // adjust saves count for current list
        const savesCount = $('.js-saves-count');
        var currentCount = parseInt(savesCount.data('saves-count'));
        var newCount = currentCount -= 1;
        savesCount.html(__tr(["$savesCount$ saved item","$savesCount$ saved items"], {savesCount: newCount}, "en", ["savesCount"]));
        savesCount.attr('data-saves-count', newCount);
        savesCount.data('saves-count', newCount);
        if (newCount == 0) {
            $('.js-saves-post-list').addClass('d-none');
            $('.js-saves-empty-state').removeClass('d-none');
        }
    }
}
function submitSave(postId, isUndo, submitBtn, onSuccess) {
    const url = `/posts/${postId}/save${isUndo ? '?isUndo=true' : ''}`;
    if (submitBtn) {
        submitBtn.attr('disabled', 'true');
    }
    $.ajax({
        type: 'POST',
        url: url,
        data: { fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey },
        dataType: 'json',
        success: function (data) {
            if (submitBtn) {
                submitBtn.removeAttr('disabled');
            }
            const { NextTooltip = "", ToastMessage = "", IsUndo = false } = data;
            if (onSuccess)
                onSuccess(NextTooltip);
            var toastManageAction = IsUndo ? [] : [{
                    labelContents: $('<span>').text(__tr(["Manage"], undefined, "en", [])).html(),
                    click: function () {
                        loadManageSaveModal(postId);
                    }
                }];
            if (ToastMessage) {
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(ToastMessage, {
                    useRawHtml: true,
                    actions: toastManageAction,
                    type: "success"
                });
            }
        },
        error: function () {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(__tr(["An error occurred"], undefined, "en", []), { type: "danger" });
            if (submitBtn) {
                submitBtn.removeAttr('disabled');
            }
        }
    });
}
function submitSaveModal($modal, url, $listInputField, $selectField, shouldShowToast = true, onSuccess) {
    let postId;
    let listName;
    let listId;
    let privateNote;
    let isCreating;
    const $submitElement = $modal.find('.js-save-manage-submit');
    const $privateNoteField = $modal.find('.js-save-add-note');
    const isCreatingListSelected = $modal.find('.js-save-manage-select').val() === 'create';
    const isListNameFieldFilled = $listInputField.val() && $listInputField.val().length > 0;
    // when "for later" is selected and private note field is empty, no action is required
    if ($selectField && $selectField.val() === "for-later" && $privateNoteField.length > 0 && !$privateNoteField.val()) {
        Stacks.hideModal($modal.get(0));
        return;
    }
    if ($privateNoteField.length > 0) {
        privateNote = $privateNoteField.val();
    }
    if ($selectField) {
        listId = $selectField.data('listId');
    }
    else if ($modal.data('list-id')) {
        listId = $modal.data('list-id');
    }
    const wrapper = $submitElement.closest('.js-save-modal');
    if (wrapper.length > 0 && wrapper.data('postId') !== null) {
        postId = wrapper.data('postId');
    }
    if ($selectField && $selectField.data('listName')) {
        listName = $selectField.data('listName');
    }
    else if (isCreatingListSelected || isListNameFieldFilled) {
        listName = (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.getTextFromHtmlString)($listInputField.val());
        if ($modal.data('modalAction') == null) {
            isCreating = true;
        }
    }
    const data = {
        fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey,
        listName: listName,
        postId: postId,
        listId: listId,
        isCreating: isCreating,
        privateNote: privateNote
    };
    $.ajax({
        type: 'POST',
        url: url,
        data: data,
        dataType: 'json',
        success: function (data) {
            if (shouldShowToast) {
                const { ToastMessage = "" } = data;
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(ToastMessage, { useRawHtml: true, type: "success" });
            }
            const { ListId = 0 } = data;
            Stacks.hideModal($modal.get(0));
            onSuccess(ListId);
        },
        error: function (e) {
            showErrorMessage(e);
        }
    });
}
function showErrorMessage(error) {
    let message;
    const { responseJSON } = error;
    if (typeof (responseJSON) == 'string') {
        message = responseJSON;
    }
    else if (typeof (responseJSON) == 'object') {
        const { ErrorMessage = "" } = responseJSON;
        message = ErrorMessage;
    }
    message = message && message.length > 0 ? message : __tr(["An error occurred."], undefined, "en", []);
    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(message, { type: 'danger' });
}
function initLoginModal() {
    $('.js-saves-btn').click(function () {
        const postId = $(this).data('post-id');
        const $clicked = $(this);
        $.ajax({
            type: 'GET',
            url: `/posts/${postId}/save-anon-modal`,
            dataType: 'html',
            success: function (html) {
                StackExchange.openid.showLoginModal(html, { returnElements: $clicked });
            },
            error: function (e) {
                showErrorMessage(e);
            }
        });
        sendFavoritesPopupShowEvent();
    });
}
var NoteState;
(function (NoteState) {
    NoteState[NoteState["ViewNoNote"] = 0] = "ViewNoNote";
    NoteState[NoteState["ViewNote"] = 1] = "ViewNote";
    NoteState[NoteState["AddingNote"] = 2] = "AddingNote";
    NoteState[NoteState["EditingNote"] = 3] = "EditingNote";
})(NoteState || (NoteState = {}));
function initNoteActionButtons() {
    const userId = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.userId;
    $('.js-saves-post-summary').each((_, element) => {
        var _a;
        // Get all the elements we need to hook up
        const $postSummary = $(element);
        const contextMenuElement = $postSummary.find('[data-controller="s-popover"][aria-controls|=post-menu-saves]').get(0);
        const $addActionButton = $postSummary.find('.js-add-private-note');
        const $editActionButton = $postSummary.find('.js-edit-private-note');
        const $deleteActionButton = $postSummary.find('.js-delete-private-note');
        const $maybeAnswer = $postSummary.find('.s-post-summary--answer');
        const savedPostId = (_a = $maybeAnswer.data('post-id')) !== null && _a !== void 0 ? _a : $postSummary.data('post-id');
        const $noteToEdit = $postSummary.find('.js-saved-post-note');
        const $noteToEditContainer = $noteToEdit.parent();
        const $inlineEditorForm = $postSummary.find('.js-saved-inline-note-editor');
        const $inlineEditorInput = $inlineEditorForm.find('.js-saved-editor-note');
        const $inlineEditorSaveButton = $inlineEditorForm.find('.js-saved-inline-note-editor-save');
        const $inlineEditorCancelButton = $inlineEditorForm.find('.js-saved-inline-note-editor-cancel');
        /*
         * We're going to make a state machine that tracks:
         * - Are we viewing, adding, or editing a note?
         * - Is note we're viewing is empty?
         *
         * (you can post the following Mermaid markup in a GitHub
         * comment to see the state machine visualized)
         *
         *
```mermaid
flowchart TB
    Start(((Start))) --> Exists{Note exists in database?}
    Exists --->|Note does not exist in database| ViewNoNote
    Exists --->|Note exists in database| ViewNote

    subgraph Viewing save without private note
        ViewNoNote((ViewNoNote))
    end

    subgraph Viewing save with private note
        direction TB
        ViewNote((ViewNote))
        DeleteAjaxViewing -. Request error .-> ViewNote
    end
    
    ViewNoNote -->|Add private note...| AddNote
    ViewNote -->|Edit private note...| EditNote
    AddNote -->|Cancel editing| ViewNoNote

    subgraph Adding new private note
        direction TB
        AddNote((AddNote))
        AddNote -->|Save| AddAjax[["POST /users/saves/{id}/add-note/"]]
        AddAjax -. Request error .-> AddNote
    end

    subgraph Editing existing private note
        direction BT
        EditNote((EditNote))
        EditNote -->|Save| EditAjax[["POST /users/saves/{id}/add-note/"]]
        EditAjax -. Request error .-> EditNote
        DeleteAjaxEditing -. Request error .-> EditNote
    end

    EditNote -->|Cancel editing| ViewNote
    AddAjax -. Success, updated save in database .-> ViewNote
    EditAjax -. Success, updated save in database .-> ViewNote

    DeleteAjaxViewing -. Success, deleted from database .-> ViewNoNote
    ViewNote -->|Delete private note...| DeleteAjaxViewing[["POST /users/saves/{id}/delete-note/"]]

    DeleteAjaxEditing -. Success, deleted from database .-> ViewNoNote
    EditNote -->|Delete private note...| DeleteAjaxEditing[["POST /users/saves/{id}/delete-note/"]]
```

         *
         * If you're touching any of this code,
         * please also update the state machine documentation above
         */
        // Initialize state depending on if we have a note already
        let getStateFromCurrentNote = function () {
            return $noteToEdit.text().length > 0 ? NoteState.ViewNote : NoteState.ViewNoNote;
        };
        let state = getStateFromCurrentNote();
        //console.debug(savedPostId, NoteState[state]);
        // Hook up action button events (in the context menu)
        $addActionButton.click(() => {
            (0,_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__.hidePopover)(contextMenuElement);
            startAddingNote();
            //console.debug(savedPostId, NoteState[state]);
        });
        $editActionButton.click(() => {
            (0,_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__.hidePopover)(contextMenuElement);
            startEditingNote();
            $inlineEditorInput.val($noteToEdit.text());
            //console.debug(savedPostId, NoteState[state]);
        });
        $deleteActionButton.click(() => {
            (0,_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__.hidePopover)(contextMenuElement);
            deleteNote($noteToEdit.text());
        });
        // Hook up form actions (inline note editor)
        $inlineEditorForm.submit((event) => {
            event.preventDefault();
            saveNote($inlineEditorInput.val());
        });
        $inlineEditorForm.on('reset', () => {
            saveXHR === null || saveXHR === void 0 ? void 0 : saveXHR.abort();
            closeEditor();
            state = getStateFromCurrentNote();
            state == NoteState.ViewNote ? showNote() : hideNote();
            //console.debug(savedPostId, NoteState[state]);
        });
        let startAddingNote = function () {
            if (state === NoteState.ViewNoNote) {
                openEditor();
                state = NoteState.AddingNote;
                //console.debug(savedPostId, NoteState[state]);
            }
            else {
                throw __tr(["Can't add a new note when a note already exists"], undefined, "en", []);
            }
        };
        let startEditingNote = function () {
            if (state === NoteState.ViewNote) {
                openEditor();
                state = NoteState.EditingNote;
                //console.debug(savedPostId, NoteState[state]);
            }
            else {
                throw __tr(["Can’t edit note because this save doesn’t have one."], undefined, "en", []);
            }
        };
        let saveXHR = null;
        let saveNote = function (text) {
            if (state === NoteState.AddingNote || state === NoteState.EditingNote) {
                // send the network request to save the note
                saveXHR = $.ajax('/users/saves/' + userId + '/add-note', {
                    method: 'POST',
                    data: {
                        postId: savedPostId,
                        privateNote: text,
                        fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey
                    },
                    beforeSend: () => {
                        deleteXHR === null || deleteXHR === void 0 ? void 0 : deleteXHR.abort();
                        setSaveNoteButtonSpin(ButtonState.Loading);
                        disableForm();
                    },
                    success: (data, textStatus, _) => {
                        // set the note text and make the menu/state reflect that text
                        updateNoteText(text);
                        state = getStateFromCurrentNote();
                        updateMenuVisibility();
                        setSaveNoteButtonSpin(ButtonState.Ready);
                        // reset the editor
                        closeEditor();
                        resetEditor();
                        saveXHR = null;
                        //console.debug(savedPostId, NoteState[state]);
                    },
                    error: (data, textStatus, _) => {
                        showErrorMessage(data);
                        console.error(textStatus);
                        setSaveNoteButtonSpin(ButtonState.Ready);
                        enableForm();
                        saveXHR = null;
                        //console.debug(savedPostId, NoteState[state]);
                    }
                });
            }
            else {
                console.error(__tr(["Can’t save note when not adding or editing."], undefined, "en", []));
            }
        };
        let deleteXHR = null;
        let deleteNote = function (noteToDelete) {
            if (state === NoteState.ViewNote || state === NoteState.EditingNote) {
                // send the network request to delete the note
                deleteXHR = $.ajax('/users/saves/' + userId + '/delete-note', {
                    method: 'POST',
                    data: {
                        postId: savedPostId,
                        fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey
                    },
                    beforeSend: () => {
                        saveXHR === null || saveXHR === void 0 ? void 0 : saveXHR.abort();
                        setDeleteActionButtonSpin(ButtonState.Loading);
                    },
                    success: (data, textStatus, _) => {
                        // set the note text and make the menu/state reflect that text
                        updateNoteText(null);
                        state = NoteState.ViewNoNote;
                        updateMenuVisibility();
                        setDeleteActionButtonSpin(ButtonState.Ready);
                        // reset the editor if it happened to be open
                        closeEditor();
                        resetEditor();
                        // show a success toast
                        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(__tr(["Note removed from save."], undefined, "en", []), {
                            transient: true,
                            useRawHtml: true,
                            actions: [{
                                    labelContents: $('<span>').text(__tr(["Undo"], undefined, "en", [])).html(),
                                    click: function () {
                                        state = NoteState.AddingNote;
                                        saveNote(noteToDelete);
                                        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.hideToasts)();
                                    }
                                }],
                        });
                        deleteXHR = null;
                        //console.debug(savedPostId, NoteState[state]);
                    },
                    error: (data, textStatus, _) => {
                        showError(__tr(["There was a problem saving your note. Try again later."], undefined, "en", []));
                        console.error(textStatus);
                        setDeleteActionButtonSpin(ButtonState.Ready);
                        deleteXHR = null;
                        //console.debug(savedPostId, NoteState[state]);
                    }
                });
            }
            else {
                console.error(__tr(["Can’t save note when not adding or editing."], undefined, "en", []));
            }
        };
        let resetEditor = function () {
            $inlineEditorForm.trigger('reset');
            setSaveNoteButtonSpin(ButtonState.Ready);
            enableForm();
        };
        let ButtonState;
        (function (ButtonState) {
            ButtonState[ButtonState["Ready"] = 0] = "Ready";
            ButtonState[ButtonState["Loading"] = 1] = "Loading";
            ButtonState[ButtonState["Error"] = 2] = "Error";
        })(ButtonState || (ButtonState = {}));
        let setSaveNoteButtonSpin = function (state) {
            switch (state) {
                case ButtonState.Ready: {
                    $inlineEditorSaveButton.removeClass("is-loading");
                    break;
                }
                case ButtonState.Loading: {
                    $inlineEditorSaveButton.addClass("is-loading");
                }
            }
        };
        let setDeleteActionButtonSpin = function (state) {
            switch (state) {
                case ButtonState.Ready: {
                    $deleteActionButton.removeClass("is-loading");
                    break;
                }
                case ButtonState.Loading: {
                    $deleteActionButton.addClass("is-loading");
                }
            }
        };
        let openEditor = function () {
            enableForm();
            $inlineEditorInput.focus();
            $inlineEditorForm.removeClass('d-none');
            hideNote();
        };
        let enableForm = function () {
            $inlineEditorForm.prop("disabled", false);
            $inlineEditorInput.prop("disabled", false);
            $inlineEditorSaveButton.prop("disabled", false);
            $inlineEditorCancelButton.prop("disabled", false);
        };
        let closeEditor = function () {
            $inlineEditorForm.addClass('d-none');
            disableForm();
        };
        let disableForm = function () {
            $inlineEditorForm.prop("disabled", true);
            $inlineEditorInput.prop("disabled", true);
            $inlineEditorSaveButton.prop("disabled", true);
            $inlineEditorCancelButton.prop("disabled", true);
        };
        let showNote = function () {
            $noteToEditContainer.removeClass('d-none');
        };
        let hideNote = function () {
            $noteToEditContainer.addClass('d-none');
        };
        let showError = function (text) {
            (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_1__.showToast)(text, { type: "danger" });
        };
        let updateMenuVisibility = function () {
            if (state === NoteState.ViewNote || state === NoteState.EditingNote) {
                setAddActionButton(false);
                setEditActionButton(true);
                setDeleteActionButton(true);
            }
            else if (state === NoteState.ViewNoNote || state === NoteState.AddingNote) {
                setAddActionButton(true);
                setEditActionButton(false);
                setDeleteActionButton(false);
            }
        };
        let setAddActionButton = function (visible) {
            if (visible) {
                $addActionButton.removeClass('d-none');
                $addActionButton.prop("disabled", false);
            }
            else {
                $addActionButton.addClass('d-none');
                $addActionButton.prop("disabled", true);
            }
        };
        let setEditActionButton = function (visible) {
            if (visible) {
                $editActionButton.removeClass('d-none');
                $editActionButton.prop("disabled", false);
            }
            else {
                $editActionButton.addClass('d-none');
                $editActionButton.prop("disabled", true);
            }
        };
        let setDeleteActionButton = function (visible) {
            if (visible) {
                $deleteActionButton.removeClass('d-none');
                $deleteActionButton.prop("disabled", false);
            }
            else {
                $deleteActionButton.addClass('d-none');
                $deleteActionButton.prop("disabled", true);
            }
        };
        let updateNoteText = function (text) {
            if (text == null || text.length == 0) {
                $noteToEdit.empty();
                $inlineEditorInput.empty();
                hideNote();
            }
            else {
                $noteToEdit.text(text);
                $inlineEditorInput.val(text);
                showNote();
            }
            state = getStateFromCurrentNote();
        };
    });
}
function dismissSavesLaunchPopover() {
    $('#saves-launch-popover').remove();
    $('#saves-btn').data('controller', 's-tooltip');
    $('#saves-btn').attr('aria-controls', '');
    $.cookie('notice-slp', '1', { path: '/', expires: 30 });
    if (!_Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.isAnonymous) {
        $.post("/saves-launch-popover/dismiss", {
            fkey: _Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.fkey
        });
    }
}
function initSavesLaunchPopover() {
    const questionId = $('.question').data('questionid');
    $('.js-saves-popover-dismiss, .js-saves-popover-link').on('click', function () {
        (0,_stackoverflow_stacks__WEBPACK_IMPORTED_MODULE_4__.hidePopover)(document.getElementById(`saves-btn-${questionId}`));
    });
    $(`#saves-btn-${questionId}`).on('s-popover:hidden', function () {
        dismissSavesLaunchPopover();
    });
}
function initSavedPostClickAnalytics() {
    var savesLinks = $('.js-saves-post-list .s-post-summary--content-title a, .js-saves-post-list .js-post-summary-answer-link');
    savesLinks.click(() => _full_common_20_Analytics_mod__WEBPACK_IMPORTED_MODULE_3__.track('profile_saved_post.click'));
}
// Used on
// /users/saves/{id}/all
// /users/saves/{id}/{list_id}
function initUserSaves() {
    initSavedPostClickAnalytics();
    initListActionModal();
    initManageSaveModal();
    initActionMenu();
}
function initSaves() {
    // we only need to initialize the popover if the element exists on page
    if ($('#saves-launch-popover').length >= 1) {
        initSavesLaunchPopover();
    }
    if (_Shared_options_mod__WEBPACK_IMPORTED_MODULE_2__["default"].user.isRegistered) {
        initSavesButtons();
        initManageSaveModal();
    }
    else {
        initLoginModal();
    }
}


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_OutdatedAnswers.mod.ts":
/*!******************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_OutdatedAnswers.mod.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initAnon: () => (/* binding */ initAnon),
/* harmony export */   openModal: () => (/* binding */ openModal),
/* harmony export */   userVoted: () => (/* binding */ userVoted)
/* harmony export */ });
/* harmony import */ var _99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./99_OutdatedAnswers */ "./_Scripts/PartialJS/full-common/99_OutdatedAnswers.ts");
/* harmony import */ var _99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_99_OutdatedAnswers__WEBPACK_IMPORTED_MODULE_0__);

const initAnon = StackExchange.OutdatedAnswers.initAnon;
const openModal = StackExchange.OutdatedAnswers.openModal;
const userVoted = StackExchange.OutdatedAnswers.userVoted;


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_PostTypeId.mod.ts":
/*!*************************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_PostTypeId.mod.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PostTypeId: () => (/* binding */ PostTypeId)
/* harmony export */ });
var PostTypeId;
(function (PostTypeId) {
    PostTypeId[PostTypeId["Question"] = 1] = "Question";
    PostTypeId[PostTypeId["Answer"] = 2] = "Answer";
    PostTypeId[PostTypeId["Wiki"] = 3] = "Wiki";
    PostTypeId[PostTypeId["TagWikiExcerpt"] = 4] = "TagWikiExcerpt";
    PostTypeId[PostTypeId["TagWiki"] = 5] = "TagWiki";
    PostTypeId[PostTypeId["ModeratorNomination"] = 6] = "ModeratorNomination";
    PostTypeId[PostTypeId["WikiPlaceholder"] = 7] = "WikiPlaceholder";
    PostTypeId[PostTypeId["PrivilegeWiki"] = 8] = "PrivilegeWiki";
    PostTypeId[PostTypeId["Article"] = 9] = "Article";
    PostTypeId[PostTypeId["HelpArticle"] = 10] = "HelpArticle";
    PostTypeId[PostTypeId["Collection"] = 12] = "Collection";
    PostTypeId[PostTypeId["ModeratorQuestionnaireResponse"] = 13] = "ModeratorQuestionnaireResponse";
    PostTypeId[PostTypeId["Announcement"] = 14] = "Announcement";
    PostTypeId[PostTypeId["CollectiveDiscussion"] = 15] = "CollectiveDiscussion";
    PostTypeId[PostTypeId["CollectiveCollection"] = 17] = "CollectiveCollection";
})(PostTypeId || (PostTypeId = {}));


/***/ }),

/***/ "./_Scripts/PartialJS/full-common/99_helpers.mod.ts":
/*!**********************************************************!*\
  !*** ./_Scripts/PartialJS/full-common/99_helpers.mod.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   showConfirmModal: () => (/* binding */ showConfirmModal)
/* harmony export */ });
/* harmony import */ var _99_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./99_helpers */ "./_Scripts/PartialJS/full-common/99_helpers.ts");
/* harmony import */ var _99_helpers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_99_helpers__WEBPACK_IMPORTED_MODULE_0__);

const showConfirmModal = StackExchange.helpers.showConfirmModal;


/***/ }),

/***/ "./_Scripts/PartialJS/full/99_UserFlags.mod.ts":
/*!*****************************************************!*\
  !*** ./_Scripts/PartialJS/full/99_UserFlags.mod.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toggleAccountPreferenceFlags: () => (/* binding */ toggleAccountPreferenceFlags),
/* harmony export */   toggleUserFlags: () => (/* binding */ toggleUserFlags)
/* harmony export */ });
/* harmony import */ var _Shared_options_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Shared/options.mod */ "./_Scripts/Shared/options.mod.ts");

function toggleUserFlags(flags, value, userId) {
    const user = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_0__["default"].user;
    return $.post(`/users/toggle-flag/${flags}/${!!value}`, {
        fkey: user.fkey,
        userId: userId || user.proxiedUserId || user.userId
    }).then(response => !!response.hasFlags);
}
function toggleAccountPreferenceFlags(flags, value, accountId) {
    const user = _Shared_options_mod__WEBPACK_IMPORTED_MODULE_0__["default"].user;
    return $.post(`/account/toggle-preference-flag`, {
        fkey: user.fkey,
        accountId: accountId || user.accountId,
        flag: flags,
        status: value
    }).then(response => !!response.hasFlags);
}
;


/***/ }),

/***/ "./_Scripts/PartialJS/full/definitions/Enums.generated.mod.ts":
/*!********************************************************************!*\
  !*** ./_Scripts/PartialJS/full/definitions/Enums.generated.mod.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccountPreferenceFlags: () => (/* binding */ AccountPreferenceFlags),
/* harmony export */   NotificationFrequencyTypeId: () => (/* binding */ NotificationFrequencyTypeId),
/* harmony export */   UserFlags: () => (/* binding */ UserFlags)
/* harmony export */ });
// ============================================ //
// THIS FILE IS AUTOMATICALLY GENERATED         //
//                                              //
// Changes will be discarded on next compile    //
//                                              //
// To modify this file, make changes to:        //
// _Scripts\PartialJS\full\definitions\Enums.cs //
// ============================================ //
// StackOverflow.Models.NotificationFrequencyTypeId
var NotificationFrequencyTypeId;
(function (NotificationFrequencyTypeId) {
    NotificationFrequencyTypeId[NotificationFrequencyTypeId["None"] = 0] = "None";
    NotificationFrequencyTypeId[NotificationFrequencyTypeId["FifteenMinutes"] = 1] = "FifteenMinutes";
    NotificationFrequencyTypeId[NotificationFrequencyTypeId["Daily"] = 2] = "Daily";
})(NotificationFrequencyTypeId || (NotificationFrequencyTypeId = {}));
// StackOverflow.Models.AccountPreferenceFlags
var AccountPreferenceFlags;
(function (AccountPreferenceFlags) {
    AccountPreferenceFlags[AccountPreferenceFlags["None"] = 0] = "None";
    AccountPreferenceFlags[AccountPreferenceFlags["HideLeftNavigation"] = 1] = "HideLeftNavigation";
    AccountPreferenceFlags[AccountPreferenceFlags["EnableKeyboardShortcuts"] = 2] = "EnableKeyboardShortcuts";
    AccountPreferenceFlags[AccountPreferenceFlags["HideHotNetworkQuestionsSidebar"] = 8] = "HideHotNetworkQuestionsSidebar";
    AccountPreferenceFlags[AccountPreferenceFlags["DisableNewsletterPersonalization"] = 16] = "DisableNewsletterPersonalization";
    AccountPreferenceFlags[AccountPreferenceFlags["DismissFreemiumTeamsCreationCTA"] = 32] = "DismissFreemiumTeamsCreationCTA";
    AccountPreferenceFlags[AccountPreferenceFlags["UnifiedSearchActiveByDefault"] = 64] = "UnifiedSearchActiveByDefault";
    AccountPreferenceFlags[AccountPreferenceFlags["DismissReviewQueueNoticeCampaign"] = 128] = "DismissReviewQueueNoticeCampaign";
    AccountPreferenceFlags[AccountPreferenceFlags["ForYouUnreadOnlyByDefault"] = 256] = "ForYouUnreadOnlyByDefault";
    AccountPreferenceFlags[AccountPreferenceFlags["DismissCollectivesNavbarCTA"] = 512] = "DismissCollectivesNavbarCTA";
    AccountPreferenceFlags[AccountPreferenceFlags["SearchTagNamesOnly"] = 1024] = "SearchTagNamesOnly";
    AccountPreferenceFlags[AccountPreferenceFlags["HideSGPostsOutsideOfStagingGround"] = 2048] = "HideSGPostsOutsideOfStagingGround";
})(AccountPreferenceFlags || (AccountPreferenceFlags = {}));
// StackOverflow.Models.UserFlags
var UserFlags;
(function (UserFlags) {
    UserFlags[UserFlags["None"] = 0] = "None";
    UserFlags[UserFlags["DisableSideNav"] = 1073741824] = "DisableSideNav";
    UserFlags[UserFlags["TeamGuide"] = 1] = "TeamGuide";
    UserFlags[UserFlags["DismissMarkdownEditorHelp"] = 2] = "DismissMarkdownEditorHelp";
    UserFlags[UserFlags["HideLeftNavigation"] = 4] = "HideLeftNavigation";
    UserFlags[UserFlags["DismissMentionsCallout"] = 8] = "DismissMentionsCallout";
    UserFlags[UserFlags["DismissQuestionPageProductBanner"] = 16] = "DismissQuestionPageProductBanner";
    UserFlags[UserFlags["DismissWelcomeModal"] = 32] = "DismissWelcomeModal";
    UserFlags[UserFlags["DismissCloseReopenPrivilegePopover"] = 64] = "DismissCloseReopenPrivilegePopover";
    UserFlags[UserFlags["DismissCloseReopenPrivilegeExplanationModal"] = 128] = "DismissCloseReopenPrivilegeExplanationModal";
    UserFlags[UserFlags["DismissPostReactionIntroPopover"] = 256] = "DismissPostReactionIntroPopover";
    UserFlags[UserFlags["DismissFollowQuestionIntroPopover"] = 512] = "DismissFollowQuestionIntroPopover";
    UserFlags[UserFlags["DismissClosedEditModal"] = 1024] = "DismissClosedEditModal";
    UserFlags[UserFlags["DismissModalForCompletedEditOnClosedQuestion"] = 2048] = "DismissModalForCompletedEditOnClosedQuestion";
    UserFlags[UserFlags["DismissAddAdminNotice"] = 4096] = "DismissAddAdminNotice";
    UserFlags[UserFlags["ShowReviewQueueNotice"] = 8192] = "ShowReviewQueueNotice";
    UserFlags[UserFlags["ReviewQueueNoticeIsForCampaign"] = 16384] = "ReviewQueueNoticeIsForCampaign";
    UserFlags[UserFlags["DismissReviewOnboarding"] = 32768] = "DismissReviewOnboarding";
    UserFlags[UserFlags["ShowNewReviewerOnboarding"] = 65536] = "ShowNewReviewerOnboarding";
    UserFlags[UserFlags["DismissModalForFirstPostQueue"] = 131072] = "DismissModalForFirstPostQueue";
    UserFlags[UserFlags["DismissModalForLateAnswerQueue"] = 262144] = "DismissModalForLateAnswerQueue";
    UserFlags[UserFlags["DismissModalForCloseVoteQueue"] = 524288] = "DismissModalForCloseVoteQueue";
    UserFlags[UserFlags["DismissModalForReopenVoteQueue"] = 1048576] = "DismissModalForReopenVoteQueue";
    UserFlags[UserFlags["DismissModalForTriageQueue"] = 2097152] = "DismissModalForTriageQueue";
    UserFlags[UserFlags["DismissModalForHelperQueue"] = 4194304] = "DismissModalForHelperQueue";
    UserFlags[UserFlags["DismissModalForSuggestedEditQueue"] = 8388608] = "DismissModalForSuggestedEditQueue";
    UserFlags[UserFlags["DismissModalForLowQualityPostQueue"] = 16777216] = "DismissModalForLowQualityPostQueue";
    UserFlags[UserFlags["DismissModalForFirstQuestionsQueue"] = 33554432] = "DismissModalForFirstQuestionsQueue";
    UserFlags[UserFlags["DismissModalForFirstAnswersQueue"] = 67108864] = "DismissModalForFirstAnswersQueue";
    UserFlags[UserFlags["DismissModalForContentHealthQueue"] = 134217728] = "DismissModalForContentHealthQueue";
    UserFlags[UserFlags["IsShareFeedbackDefaultSelf"] = 268435456] = "IsShareFeedbackDefaultSelf";
    UserFlags[UserFlags["DismissNewStagingGroundReviewerNotice"] = 536870912] = "DismissNewStagingGroundReviewerNotice";
    UserFlags[UserFlags["DismissNewStagingGroundAuthorNotice"] = 1073741824] = "DismissNewStagingGroundAuthorNotice";
    UserFlags[UserFlags["CollectivesExploredFeatures"] = -2147483648] = "CollectivesExploredFeatures";
    UserFlags[UserFlags["CollectivesReadBulletin"] = 1] = "CollectivesReadBulletin";
    UserFlags[UserFlags["CollectivesCheckedLeaderboard"] = 2] = "CollectivesCheckedLeaderboard";
    UserFlags[UserFlags["CollectivesLearnedAboutRoles"] = 4] = "CollectivesLearnedAboutRoles";
    UserFlags[UserFlags["CollectivesDiscoveredRecAnswers"] = 8] = "CollectivesDiscoveredRecAnswers";
    UserFlags[UserFlags["CollectivesSeenAll"] = 16] = "CollectivesSeenAll";
})(UserFlags || (UserFlags = {}));


/***/ }),

/***/ "./_Scripts/Shared/helpers.mod.ts":
/*!****************************************!*\
  !*** ./_Scripts/Shared/helpers.mod.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DelayedReaction: () => (/* binding */ DelayedReaction),
/* harmony export */   MagicPopup: () => (/* binding */ MagicPopup),
/* harmony export */   addContainerWithLoadingGraphic: () => (/* binding */ addContainerWithLoadingGraphic),
/* harmony export */   addLightbox: () => (/* binding */ addLightbox),
/* harmony export */   addSpinner: () => (/* binding */ addSpinner),
/* harmony export */   addStacksSpinner: () => (/* binding */ addStacksSpinner),
/* harmony export */   bindOnHashChange_HighlightDestination: () => (/* binding */ bindOnHashChange_HighlightDestination),
/* harmony export */   callOnce: () => (/* binding */ callOnce),
/* harmony export */   closePopups: () => (/* binding */ closePopups),
/* harmony export */   copyTextToClipboard: () => (/* binding */ copyTextToClipboard),
/* harmony export */   disableSubmitButton: () => (/* binding */ disableSubmitButton),
/* harmony export */   enableSubmitButton: () => (/* binding */ enableSubmitButton),
/* harmony export */   encodeHexHtmlEntities: () => (/* binding */ encodeHexHtmlEntities),
/* harmony export */   extractUserId: () => (/* binding */ extractUserId),
/* harmony export */   getLikelyErrorMessage: () => (/* binding */ getLikelyErrorMessage),
/* harmony export */   getRejectedMockXhr: () => (/* binding */ getRejectedMockXhr),
/* harmony export */   getSpinnerImg: () => (/* binding */ getSpinnerImg),
/* harmony export */   getTextFromHtmlString: () => (/* binding */ getTextFromHtmlString),
/* harmony export */   hideToasts: () => (/* binding */ hideToasts),
/* harmony export */   importJQueryUIDatepicker: () => (/* binding */ importJQueryUIDatepicker),
/* harmony export */   loadModal: () => (/* binding */ loadModal),
/* harmony export */   loadTicks: () => (/* binding */ loadTicks),
/* harmony export */   locationReload: () => (/* binding */ locationReload),
/* harmony export */   noDiacritics: () => (/* binding */ noDiacritics),
/* harmony export */   queueStacksPopover: () => (/* binding */ queueStacksPopover),
/* harmony export */   removeMessages: () => (/* binding */ removeMessages),
/* harmony export */   removeParameterFromQueryString: () => (/* binding */ removeParameterFromQueryString),
/* harmony export */   removeSpinner: () => (/* binding */ removeSpinner),
/* harmony export */   sanitizeAndSplitTags: () => (/* binding */ sanitizeAndSplitTags),
/* harmony export */   seReady: () => (/* binding */ seReady),
/* harmony export */   setButtonLoadingDisabled: () => (/* binding */ setButtonLoadingDisabled),
/* harmony export */   showErrorMessage: () => (/* binding */ showErrorMessage),
/* harmony export */   showInfoMessage: () => (/* binding */ showInfoMessage),
/* harmony export */   showMessage: () => (/* binding */ showMessage),
/* harmony export */   showModal: () => (/* binding */ showModal),
/* harmony export */   showStacksNotice: () => (/* binding */ showStacksNotice),
/* harmony export */   showSuccessMessage: () => (/* binding */ showSuccessMessage),
/* harmony export */   showToast: () => (/* binding */ showToast),
/* harmony export */   smoothScrollToTopOfElement: () => (/* binding */ smoothScrollToTopOfElement),
/* harmony export */   splitOnLast: () => (/* binding */ splitOnLast),
/* harmony export */   submitFormOnEnterPress: () => (/* binding */ submitFormOnEnterPress),
/* harmony export */   suggestedTransientTimeout: () => (/* binding */ suggestedTransientTimeout),
/* harmony export */   tagSeparator: () => (/* binding */ tagSeparator),
/* harmony export */   toggleStacksPopover: () => (/* binding */ toggleStacksPopover),
/* harmony export */   updateQueryStringParameter: () => (/* binding */ updateQueryStringParameter)
/* harmony export */ });
// shim module for a bunch of things which currently live in stub.js.
// This file is ripe to be split up
// This is a bit of a hack to get around issues with execution order.
// This file initially had a bunch of re-exports from the StackExchange object, like
// `export const addSpinner = StackExchange.helpers.addSpinner`.
// But sometimes this file gets run before full.js is loaded,
// so the `StackExchange.helpers` object won't have been fully initialised.
// So I'm using this `fwd` function to delay access to the `StackExchange.helpers`
// namespace until the re-export function is called.
// (Generally this happens after `seReady` fires, so after `StackExchange.helpers` has been loaded).
// Once `StackExchange.helpers` has been converted to a module, we won't need to do this.
function fwd(fn) {
    return ((...args) => fn()(...args));
}
const addSpinner = fwd(() => StackExchange.helpers.addSpinner);
const addStacksSpinner = fwd(() => StackExchange.helpers.addStacksSpinner);
const addLightbox = fwd(() => StackExchange.helpers.addLightbox);
const getLikelyErrorMessage = fwd(() => StackExchange.helpers.getLikelyErrorMessage);
const getRejectedMockXhr = fwd(() => StackExchange.helpers.getRejectedMockXhr);
const getSpinnerImg = fwd(() => StackExchange.helpers.getSpinnerImg);
const removeMessages = fwd(() => StackExchange.helpers.removeMessages);
const removeSpinner = fwd(() => StackExchange.helpers.removeSpinner);
const showErrorMessage = fwd(() => StackExchange.helpers.showErrorMessage);
const showInfoMessage = fwd(() => StackExchange.helpers.showInfoMessage);
const showMessage = fwd(() => StackExchange.helpers.showMessage);
const showSuccessMessage = fwd(() => StackExchange.helpers.showSuccessMessage);
const showModal = fwd(() => StackExchange.helpers.showModal);
const loadModal = fwd(() => StackExchange.helpers.loadModal);
const showToast = fwd(() => StackExchange.helpers.showToast);
const hideToasts = fwd(() => StackExchange.helpers.hideToasts);
const suggestedTransientTimeout = fwd(() => StackExchange.helpers.suggestedTransientTimeout);
const toggleStacksPopover = fwd(() => StackExchange.helpers.toggleStacksPopover);
const queueStacksPopover = fwd(() => StackExchange.helpers.queueStacksPopover);
const submitFormOnEnterPress = fwd(() => StackExchange.helpers.submitFormOnEnterPress);
const updateQueryStringParameter = fwd(() => StackExchange.helpers.updateQueryStringParameter);
const DelayedReaction = fwd(() => StackExchange.helpers.DelayedReaction);
const closePopups = fwd(() => StackExchange.helpers.closePopups);
const showStacksNotice = fwd(() => StackExchange.helpers.showStacksNotice);
const removeParameterFromQueryString = fwd(() => StackExchange.helpers.removeParameterFromQueryString);
const enableSubmitButton = fwd(() => StackExchange.helpers.enableSubmitButton);
const disableSubmitButton = fwd(() => StackExchange.helpers.disableSubmitButton);
const loadTicks = fwd(() => StackExchange.helpers.loadTicks);
const encodeHexHtmlEntities = fwd(() => StackExchange.helpers.encodeHexHtmlEntities);
const bindOnHashChange_HighlightDestination = fwd(() => StackExchange.helpers.bindOnHashChange_HighlightDestination);
const MagicPopup = fwd(() => StackExchange.helpers.MagicPopup);
const copyTextToClipboard = fwd(() => StackExchange.helpers.copyTextToClipboard);
/**
 * Removes diacritics from a string, eg. "ðøĝ" to "dog"
 * @param source The source string to transform.
 */
const noDiacritics = fwd(() => StackExchange.helpers.noDiacritics);
/**
 * Identifies the tag separator used by a string, for use with String.prototype.split.  The logic closely follows the logic of Tag.ToArray but is more liberal in its concept of a separator.
 * @param tagQuery A sequence of tags separated by "+", space, "|", ",", or ";"
 */
const tagSeparator = fwd(() => StackExchange.helpers.tagSeparator);
/**
 * Splits a sequence of tags into an array, removing or sanitizing invalid characters and illegal tags.
 * @param tags A sequence of tags separated by any supported separator.
 * @param allowWildcards If true, wildcards will not be stripped from the output tags.
 * @param allowOperators If true, the operators "or", "and", and "not" will not be removed from tags.  It will also not sanitize out duplicate instances of the same tag.
 * @param allowUpperCase If true, upper case characters will not be converted to lower case.
 */
const sanitizeAndSplitTags = fwd(() => StackExchange.helpers.sanitizeAndSplitTags);
/**
 * A Promise which resolves once our shared JS code is loaded.
 * Mostly you'll want to wait for this promise in your entry point scripts
 */
const seReady = new Promise(resolve => {
    StackExchange.ready(resolve);
});
/**
 * Reloads the current URL, like the Refresh button
 */
function locationReload() { window.location.reload(); }
const importJQueryUIDatepicker = async function (locale) {
    if (locale !== 'en') {
        return await __webpack_require__("./node_modules/jquery-ui/ui/i18n lazy recursive ^\\.\\/datepicker\\-.*\\.js$")(`./datepicker-${locale}.js`);
    }
    return await Promise.all(/*! import() */[__webpack_require__.e("defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js"), __webpack_require__.e("node_modules_jquery-ui_ui_version_js")]).then(__webpack_require__.t.bind(__webpack_require__, /*! jquery-ui/ui/widgets/datepicker.js */ "./node_modules/jquery-ui/ui/widgets/datepicker.js", 23));
};
// Extracts the userId from a user profile url
function extractUserId(searchText) {
    const profileUrlRegex = /\/users\/([\d]+)(\/.*)?$/i;
    const m = searchText.match(profileUrlRegex);
    return +(m ? m[1] : searchText);
}
// Toggles button loading/disabled status
function setButtonLoadingDisabled($btn, isLoadingDisabled) {
    $btn.toggleClass('is-loading', isLoadingDisabled).prop('disabled', isLoadingDisabled);
}
function addContainerWithLoadingGraphic($parentDiv) {
    $parentDiv.html(`<div class="s-spinner s-spinner__lg m-auto my12"><div class="v-visible-sr">${__tr(["Loading…"], undefined, "en", [])}</div></div>`);
    $parentDiv.toggleClass("d-none", false);
}
function smoothScrollToTopOfElement($elemToScroll, includeOffsetAndOuter, scrollMs = 300) {
    var _a, _b;
    // https://stackoverflow.com/a/12749875/51
    const scrollY = $elemToScroll
        ? ((_a = $elemToScroll.position()) === null || _a === void 0 ? void 0 : _a.top) +
            (includeOffsetAndOuter ? ((_b = $elemToScroll.offset()) === null || _b === void 0 ? void 0 : _b.top) + $elemToScroll.outerHeight(true) : 0)
        : 0;
    $([document.documentElement, document.body]).animate({
        scrollTop: scrollY
    }, scrollMs);
}
// TODO this lives in stub.js - we should remove it from there eventually
function splitOnLast(str, splitOn) {
    /// <summary>
    /// Returns an array containing this string after it's been split at the last occurrence of 'splitOn'.
    /// If 'splitOn' does not occur, the resulting array will contain only one element, this string.
    /// </summary>
    /// <param name="splitOn" type="String">a string to find in this string</param>
    /// <example>
    /// "test".splitOnLast("?")         => ["test"]
    /// "test?me".splitOnLast("?")      => ["test", "?me"]
    /// "test?me?the".splitOnLast('?')  => ["test?me", "?the"]
    /// </example>
    var i = str.lastIndexOf(splitOn);
    return i < 0 ? [str] : [str.substring(0, i), str.substring(i)];
}
// extract text html strings, remove html tags if there are any
function getTextFromHtmlString(str) {
    return $(`<div>${str}</div>`).text();
}
/***
 * Returns a function that will only be executed a single time
 * @param fn callback to be executed
 */
function callOnce(fn) {
    let done = false;
    return function (...args) {
        if (!done) {
            done = true;
            return fn.apply(this, args);
        }
    };
}


/***/ }),

/***/ "./_Scripts/Shared/options.mod.ts":
/*!****************************************!*\
  !*** ./_Scripts/Shared/options.mod.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _modules_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules.mod */ "./_Scripts/modules.mod.ts");

const options = (0,_modules_mod__WEBPACK_IMPORTED_MODULE_0__.getArgs)("Shared/options.mod.ts").options;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (options);


/***/ }),

/***/ "./_Scripts/Shared/settings.mod.ts":
/*!*****************************************!*\
  !*** ./_Scripts/Shared/settings.mod.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _modules_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules.mod */ "./_Scripts/modules.mod.ts");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_modules_mod__WEBPACK_IMPORTED_MODULE_0__.getArgs)("Shared/settings.mod.ts").settings);


/***/ }),

/***/ "./_Scripts/Shared/svg-utils.mod.ts":
/*!******************************************!*\
  !*** ./_Scripts/Shared/svg-utils.mod.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createSvgElement: () => (/* binding */ createSvgElement)
/* harmony export */ });
/**
 * Transforms an SVG string into a jQuery element with extensions to mimic the c# Svg helper
 * @param svg - the svg string to transform
 */
function createSvgElement(svg) {
    const $svg = $(svg);
    $svg.extend({
        With(classes) {
            return $(this).clone().addClass(classes);
        },
        WithAttr(args) {
            const clone = $(this).clone();
            clone.attr(args);
            return clone;
        },
    });
    return $svg;
}


/***/ }),

/***/ "./_Scripts/comments/comments-active.mod.ts":
/*!**************************************************!*\
  !*** ./_Scripts/comments/comments-active.mod.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CommentUiFlag: () => (/* binding */ CommentUiFlag),
/* harmony export */   SECommentDeletedEvent: () => (/* binding */ SECommentDeletedEvent),
/* harmony export */   configureFlagModal: () => (/* binding */ configureFlagModal),
/* harmony export */   isSECustomEvent: () => (/* binding */ isSECustomEvent),
/* harmony export */   loadFlagCommentModal: () => (/* binding */ loadFlagCommentModal),
/* harmony export */   postUndeleteComment: () => (/* binding */ postUndeleteComment),
/* harmony export */   submitCommentVote: () => (/* binding */ submitCommentVote)
/* harmony export */ });
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");

function CommentUiFlag($comment, commentId, postUi) {
    if (StackExchange.options.inReadOnly) {
        return;
    }
    const $commentFlag = $comment.find(".js-comment-flag");
    const $returnElements = $commentFlag.addAtEnd($comment.next().find('.js-comment-flag')).addAtEnd(postUi.jCommentsLinkContainer.find('.js-add-link, .js-show-link'));
    const onSuccess = (params) => CommentUiUpdateFlagButtons({ $comment, $commentFlag, postUi, commentId, ...params });
    $commentFlag.addSpinnerAfter({ 'height': '4px' });
    loadFlagCommentModal(commentId, { returnElements: $returnElements })
        .done(function ($modal) { configureFlagModal({ $modal, commentId, onSuccess }); })
        .fail(function (message) {
        $commentFlag.parent().showErrorMessage(message);
    })
        .always(function () {
        (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.removeSpinner)();
    });
}
function CommentUiUpdateFlagButtons({ $comment, $commentFlag, postUi, commentId, response, submitType }) {
    if (response.ResultChangedState) { // flag caused a deletion
        $comment.remove();
        postUi.jDiv.trigger('comment:deleted', [+commentId]);
        return;
    }
    const ACTIVE_CLASS = 'fc-red-400';
    const INACTIVE_CLASS = 'fc-black-225';
    const ENABLED_CLASS = 'c-pointer';
    const pressed = submitType === "add";
    const enabled = !pressed || StackExchange.settings.flags.allowRetractingCommentFlags;
    const title = pressed && enabled
        ? __tr(["You have flagged this comment (click to review your flag)"], undefined, "en", [])
        : pressed
            ? __tr(["You have already flagged this comment"], undefined, "en", [])
            : __tr(["Flag this comment for serious problems or moderator attention"], undefined, "en", []);
    $comment.find('.comment-voting').toggleClass('d-none', pressed);
    $commentFlag
        .toggleClass(ACTIVE_CLASS, pressed)
        .toggleClass(INACTIVE_CLASS, !pressed)
        .toggleClass(ENABLED_CLASS, enabled)
        .attr('aria-pressed', String(pressed))
        .prop('disabled', !enabled)
        .prop('title', title);
}
function loadFlagCommentModal(commentId, modalOptions) {
    return (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.loadModal)(`/flags/comments/${commentId}/popup`, modalOptions);
}
function configureFlagModal({ $modal, commentId, onSuccess }) {
    const $options = $modal.find('input[name="comment-flag-type"]');
    const $submitButton = $modal.find('.js-modal-submit');
    const $form = $modal.find('form');
    const submitType = $form.data("submittype");
    const isAdd = submitType === "add";
    const isRetract = submitType === "retract";
    let lastSubmittedOtherText = "";
    function updateState(focusTextarea) {
        if (isAdd) {
            let submitEnabled = false;
            $options.each(function () {
                const $option = $(this);
                const $commentContainer = $option.closest('.js-comment-flag-option').find('.js-required-comment');
                const comment = $commentContainer.find('textarea').val() || "";
                const checked = $option.is(':checked');
                $commentContainer.toggleClass('d-none', !checked);
                if (checked &&
                    ($commentContainer.length == 0 || (comment.length >= 6 && comment.length <= 500))) {
                    submitEnabled = true;
                }
                if (focusTextarea) {
                    $commentContainer.find('textarea').focus();
                }
            });
            $submitButton.enable(submitEnabled);
        }
    }
    // links in descriptions should open in a new tab
    $modal.find('.js-comment-flag-option a').attr('target', '_blank');
    // Wire up state machine and text validator.
    $modal.find('.js-required-comment').each(function () {
        $(this).find('textarea').charCounter({
            min: 6, max: 500,
            setIsValid: function () { updateState(false); },
            target: $(this).find('.js-input-message'),
        });
    });
    $options.click(function () { updateState(true); });
    updateState(false);
    $form.submit(function (e) {
        e.preventDefault();
        const $checkedFlag = $options.filter(':checked');
        const flagTypeId = $checkedFlag.val();
        const flagComment = $checkedFlag.closest('.js-comment-flag-option').find('.js-required-comment textarea').val() || '';
        const overrideWarning = flagComment === lastSubmittedOtherText;
        lastSubmittedOtherText = flagComment;
        $submitButton.addClass('is-loading');
        if (isAdd) {
            $.ajax({
                type: 'POST',
                url: `/flags/comments/${commentId}/add/${flagTypeId}`,
                data: { fkey: StackExchange.options.user.fkey, otherText: flagComment, overrideWarning: overrideWarning },
                dataType: 'json'
            })
                .done(function (json) {
                if (!json.Success) {
                    let opts = { closeOthers: false };
                    if (json.Outcome === 1)
                        opts.type = "warning";
                    $submitButton.removeClass('is-loading').parent().showErrorMessage(json.Message || __tr(["An error occurred during flagging"], undefined, "en", []), opts);
                    return;
                }
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.closePopups)($modal, 'submit');
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showToast)(__tr(["Thanks for flagging! We take your reports seriously."], undefined, "en", []), { type: 'success', transientTimeout: 3000 });
                if (onSuccess) {
                    onSuccess({ response: json, submitType });
                }
            })
                .fail(function (res) {
                let error = res.responseText;
                if (!error || error.indexOf("<html") >= 0) // <- YSOD?
                    error = __tr(["An error occurred during flagging"], undefined, "en", []);
                $submitButton.removeClass('is-loading').parent().showErrorMessage(error, { transient: res.status == 409, closeOthers: false }); // fade away throttle errors
            });
        }
        else if (isRetract) { // is a revert flag call
            $.ajax({
                type: 'POST',
                url: `/flags/comments/${commentId}/retract/${flagTypeId}`,
                data: { fkey: StackExchange.options.user.fkey, otherText: flagComment, overrideWarning: overrideWarning },
                dataType: 'json'
            })
                .done(function (json) {
                if (!json.Success) {
                    (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showToast)(json.Message || __tr(["An error occurred during flagging"], undefined, "en", []), { type: 'danger', $parent: $modal });
                    return;
                }
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.closePopups)($modal, 'submit');
                (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.showToast)(__tr(["The comment flag has been successfully retracted."], undefined, "en", []), { type: 'success', transientTimeout: 3000 });
                if (onSuccess)
                    onSuccess({ response: json, submitType });
            })
                .fail(function (res) {
                let error = res.responseText;
                if (!error || error.indexOf("<html") >= 0) // <- YSOD?
                    error = __tr(["An error occurred during retraction of flag"], undefined, "en", []);
                $submitButton.removeClass('is-loading').parent().showErrorMessage(error, { transient: res.status == 409, closeOthers: false }); // fade away throttle errors
            });
        }
    });
    $modal.focus();
}
function submitCommentVote(commentId, voteTypeId, additionalParams = {}, loaderFn = $.ajax) {
    if (StackExchange.options.inReadOnly)
        return;
    const params = { "fkey": StackExchange.options.user.fkey, ...additionalParams };
    const options = {
        type: "POST",
        url: '/posts/comments/' + commentId + '/vote/' + voteTypeId,
        dataType: "json",
        data: params
    };
    return loaderFn(options);
}
function postUndeleteComment(postId, commentId) {
    return $.ajax({
        type: 'POST',
        url: `/admin/posts/${postId}/comments/${commentId}/undelete`,
        dataType: 'html',
        data: { fkey: StackExchange.options.user.fkey }
    });
}
/**
 * User-defined Type Guard check for native custom events.
 *
 * Prefer this duck-typing approach over `event instanceof ...`
 * because instanceof returns false across different contexts.
 *
 * For example, the same class may be defined multiple times across
 * JS bundles which instanceof checks return false negatives for.
 */
function isSECustomEvent(obj) {
    if (obj == undefined)
        return false;
    const hasEventType = typeof obj.type === "string" && Boolean(obj.type);
    const hasEventDetail = Boolean(obj.detail);
    return hasEventType && hasEventDetail;
}
class SECommentDeletedEvent extends Event {
    constructor(detail) {
        super(SECommentDeletedEvent.type, { bubbles: true });
        this.detail = detail;
    }
}
SECommentDeletedEvent.type = "comment:deleted";


/***/ }),

/***/ "./_Scripts/comments/comments-tab-completer.mod.ts":
/*!*********************************************************!*\
  !*** ./_Scripts/comments/comments-tab-completer.mod.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   normalizeName: () => (/* binding */ normalizeName)
/* harmony export */ });
/* harmony import */ var _Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Shared/helpers.mod */ "./_Scripts/Shared/helpers.mod.ts");

function normalizeName(s) {
    return (0,_Shared_helpers_mod__WEBPACK_IMPORTED_MODULE_0__.noDiacritics)(s.replace(/ /g, "").toLowerCase());
}


/***/ }),

/***/ "./_Scripts/modules.mod.ts":
/*!*********************************!*\
  !*** ./_Scripts/modules.mod.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getArgs: () => (/* binding */ getArgs),
/* harmony export */   getArgsList: () => (/* binding */ getArgsList)
/* harmony export */ });
/**
 * Returns the arguments set by a call to `JavaScriptHelper.Args` on the backend.
 * This function's argument should be the relative file path to the TypeScript
 * file.
 *
 * The file path should be everything __after__ `StackOverflow/_Scripts/`.
 * Or, use the magic `__filename` variable that is set by Webpack's `DefinePlugin`.
 *
 * @param tsFilePath - Use the magic `__filename` variable
 * @returns The args which were set by a call to `JavaScriptHelper.Args` on the backend.
 *
 * @example
 * In your Razor file, call `JavaScriptHelper.Args`:
 * ```csharp
 * @JavaScriptHelper.Args("my-module", new { foo = 123, bar = "bar" });
 * ```
 * Then, in `my-module.ts`:
 * ```ts
 * interface Args {
 *     foo: number;
 *     bar: string;
 * }
 * const args = getArgs<Args>(__filename);
 * // args = { foo: 123, bar: "bar" }
 * ```
 */
function getArgs(tsFilePath) {
    const args = getArgsList(tsFilePath);
    assertNotMissing(args, tsFilePath);
    assertNotMultiple(args, tsFilePath);
    return args[0];
}
/**
 * Like getArgs(), but returns an array of args,
 * one for each JavaScriptHelper.Args() call.
 * Won't throw if you have 0 or >1 JSHelper.Args items.
 * (You should probably call getArgs instead.)
 */
function getArgsList(tsFilePath) {
    const $el = getArgsElement(tsFilePath);
    return $el.toArray().map(e => JSON.parse($(e).text()));
}
function getArgsElement(tsFilePath) {
    const url = tsFilePath.replace(/\.(t|j)sx?/, '');
    const selector = `script[type="application/json"][data-role="module-args"][data-module-name="${url}"]`;
    return $(selector);
}
function assertNotMissing(args, moduleName) {
    if (args.length === 0) {
        throw `Couldn't find args for module "${moduleName}". Did you forget to call @JavaScriptHelper.Args?`;
    }
}
function assertNotMultiple(args, moduleName) {
    if (args.length > 1) {
        throw `Found too many instances of args for module "${moduleName}". Did you call @JavaScriptHelper.Args too many times?`;
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/controllers/arrow_key_navigation_controller.mod.ts":
/*!*************************************************************************************!*\
  !*** ./_Scripts/modules/general/controllers/arrow_key_navigation_controller.mod.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ArrowKeyNavigationController)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");

const { Base } = (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.buildController)("se-arrow-key-navigation")
    .withTargets("navigableElement" // each html element tagged with this target wil be traversible with up/down arrows
)
    .withValues({
    loops: Boolean, // if set to true the list will loop from top to bottom and vice-a-versa when using arrow keys to traverse it. This is mutually exclusive with the exit options
})
    .build();
class ArrowKeyNavigationController extends Base {
    constructor() {
        super(...arguments);
        this.currentIndex = 0;
        this.focusedItem = null;
    }
    navigableElementTargetConnected(element) {
        element.addEventListener("focus", this.handleElementFocused.bind(this, element));
        element.addEventListener("blur", this.handleElementBlurred.bind(this));
    }
    navigableElementTargetDisconnected(element) {
        element.removeEventListener("focus", this.handleElementFocused.bind(this, element));
        element.removeEventListener("blur", this.handleElementBlurred.bind(this));
    }
    connect() {
        this.currentIndex = 0;
        document.addEventListener("keydown", this.handleKeyDown.bind(this));
    }
    disconnect() {
        this.currentIndex = 0;
        document.removeEventListener("keydown", this.handleKeyDown.bind(this));
    }
    handleKeyDown(event) {
        if (this.focusedItem) {
            if (event.key === "ArrowUp") {
                this.selectPreviousItem();
            }
            else if (event.key === "ArrowDown") {
                this.selectNextItem();
            }
        }
    }
    selectNextItem() {
        if (this.loopsValue) {
            this.currentIndex =
                (this.currentIndex + 1) % this.navigableElementTargets.length;
        }
        else if (this.currentIndex <
            this.navigableElementTargets.length - 1) {
            this.currentIndex++;
        }
        this.navigableElementTargets[this.currentIndex].focus();
    }
    selectPreviousItem() {
        if (this.loopsValue) {
            this.currentIndex =
                (this.currentIndex - 1 + this.navigableElementTargets.length) %
                    this.navigableElementTargets.length;
        }
        else if (this.currentIndex > 0) {
            this.currentIndex--;
        }
        this.navigableElementTargets[this.currentIndex].focus();
    }
    handleElementFocused(el) {
        this.focusedItem = el;
        this.navigableElementTargets.forEach((item, index) => {
            if (el === item && this.currentIndex != index) {
                this.currentIndex = index;
            }
        });
    }
    handleElementBlurred() {
        this.focusedItem = null;
    }
}


/***/ }),

/***/ "./_Scripts/modules/general/index.mod.ts":
/*!***********************************************!*\
  !*** ./_Scripts/modules/general/index.mod.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerAllGeneralControllers: () => (/* binding */ registerAllGeneralControllers)
/* harmony export */ });
/* harmony import */ var _shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/controller-builder */ "./_Scripts/modules/shared/controller-builder/index.ts");
/* harmony import */ var _controllers_arrow_key_navigation_controller_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controllers/arrow_key_navigation_controller.mod */ "./_Scripts/modules/general/controllers/arrow_key_navigation_controller.mod.ts");
/* harmony import */ var _controllers_character_counter_controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controllers/character_counter_controller */ "./_Scripts/modules/general/controllers/character_counter_controller.ts");
/* harmony import */ var _controllers_delayed_popover_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controllers/delayed_popover_controller */ "./_Scripts/modules/general/controllers/delayed_popover_controller.ts");
/* harmony import */ var _controllers_dismiss_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controllers/dismiss_controller */ "./_Scripts/modules/general/controllers/dismiss_controller.ts");
/* harmony import */ var _controllers_draggable_sort_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controllers/draggable_sort_controller */ "./_Scripts/modules/general/controllers/draggable_sort_controller.ts");
/* harmony import */ var _controllers_follow_post_controller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./controllers/follow_post_controller */ "./_Scripts/modules/general/controllers/follow_post_controller.ts");
/* harmony import */ var _controllers_nav_prevention_controller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controllers/nav_prevention_controller */ "./_Scripts/modules/general/controllers/nav_prevention_controller.ts");








function registerAllGeneralControllers() {
    (0,_shared_controller_builder__WEBPACK_IMPORTED_MODULE_0__.registerControllers)([
        _controllers_arrow_key_navigation_controller_mod__WEBPACK_IMPORTED_MODULE_1__["default"],
        _controllers_character_counter_controller__WEBPACK_IMPORTED_MODULE_2__["default"],
        _controllers_delayed_popover_controller__WEBPACK_IMPORTED_MODULE_3__["default"],
        _controllers_dismiss_controller__WEBPACK_IMPORTED_MODULE_4__["default"],
        _controllers_draggable_sort_controller__WEBPACK_IMPORTED_MODULE_5__["default"],
        _controllers_nav_prevention_controller__WEBPACK_IMPORTED_MODULE_7__["default"],
        _controllers_follow_post_controller__WEBPACK_IMPORTED_MODULE_6__["default"],
    ], "se-");
}


/***/ }),

/***/ "./_Scripts/modules/shared/controller-builder/lib/blessings/values.mod.ts":
/*!********************************************************************************!*\
  !*** ./_Scripts/modules/shared/controller-builder/lib/blessings/values.mod.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arrayOf: () => (/* binding */ arrayOf),
/* harmony export */   objectOfShape: () => (/* binding */ objectOfShape)
/* harmony export */ });
function arrayOf() {
    return Array;
}
function objectOfShape() {
    return Object;
}


/***/ }),

/***/ "./_Scripts/modules/shared/controller-builder/lib/controller-builder.mod.ts":
/*!**********************************************************************************!*\
  !*** ./_Scripts/modules/shared/controller-builder/lib/controller-builder.mod.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arrayOf: () => (/* reexport safe */ _blessings_values_mod__WEBPACK_IMPORTED_MODULE_1__.arrayOf),
/* harmony export */   buildController: () => (/* binding */ buildController),
/* harmony export */   objectOfShape: () => (/* reexport safe */ _blessings_values_mod__WEBPACK_IMPORTED_MODULE_1__.objectOfShape)
/* harmony export */ });
/* harmony import */ var _tools_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tools.mod */ "./_Scripts/modules/shared/controller-builder/lib/tools.mod.ts");
/* harmony import */ var _blessings_values_mod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blessings/values.mod */ "./_Scripts/modules/shared/controller-builder/lib/blessings/values.mod.ts");
var __setFunctionName = (undefined && undefined.__setFunctionName) || function (f, name, prefix) {
    if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
    return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
};


/** Given the intended name under which the controller will be registered,
 * return a controller builder object. Call `.withTargets`, `.withValues`,
 * and/or `.withClasses` to define targets, values, and classes as intended
 * (see the Stimulus 2.0.0 documentation for details).
 *
 * Outlets also work, but with a twist: You don't pass a string, but a
 * controller class that was created with this builder, and you can only
 * pass one at a time:
 *
 * ```
 * .withOutlet(SomeController)
 * .withOutlet(OtherController)
 * ```
 *
 * Note that this requires that the controllers were registered under the
 * names that you passed to `buildController`. All outlet properties will
 * be typed with the correct instance and element type.
 *
 * If you use `.withValues({arr: Array, obj: Object})`, you will not have
 * any typing information for `this.arrValue` and `this.objValue`. In order
 * to say "this value is an array with a specific element type" or "this
 * object has a specfic interfact", you can use the `arrayOf` and
 * `objectOfShape` helpers export by this file:
 *
 * ```
 * .withValues({
 *   arr: arrayOf<number>(),    // this.arrValue is of type number[]
 *   obj: objectOfShape<User>() // this.objValue is of type User
 * })
 * ```
 *
 * Note that this doesn't validate anything at runtime; it's your responsibility
 * to make sure that the data attributes on the element have matching content.
 *
 * You can also call `.withElementType<HTMLFooBarElement>()` to specify that
 * your controller's `this.element` will be of the given type. Note that this
 * is not validated at runtime either; it's your repsonsibility to ensure that this
 * controller is only attached to elements of the correct type. This matches
 * Stimulus 3 behavior.
 *
 * The calls should be chained on the return value of the respective preceding
 * call.
 *
 * A `.withXYZ()` call adds additional blessings (that's what Stimulus calls them),
 * so you can call them multiple times. Note that that does not work with
 * `.withElementType()`.
 *
 * Finally call `.build()` on the result, which will give you the base class
 * constructor from which you can inherit to build your controller implementation,
 * and a function called `stimulusCallback` which is a decorator that you should
 * put as a decorator on any notification method that you expect Stimulus to call.
 * The decorator is not required for it to be called (Stimulus doesn't care),
 * but it enforces at compile time that the method name is an actual function
 * that Stimulus would call, and that the signature is correct.
 *
 * The static properties (`targets` etc.) have already been set on the `Base`,
 * and the magic properties (`hasFooTargets` etc.) are known to the TypeScript
 * compiler.
 *
 * ```
 * const { Base, stimulusCallback } = buildController("my-controller")
 *     .withTargets("foo")
 *     .withValues({bar: string})
 *     .build();
 *
 * class MyController extends Base {
 *   connect() {
 *     console.log(this.fooTarget.innerText, this.barValue);
 *   }
 *
 *   @stimulusCallback
 *   barValueChanged(newValue: string) {
 *     ...
 *   }
 * }
 * ```
 */
function buildController(name) {
    return builder(name, [], {}, [], []);
}
function builder(name, targets, values, classes, outlets) {
    return {
        withTargets: (...newTargets) => {
            return builder(name, [...targets, ...newTargets], values, classes, outlets);
        },
        withValues: (newValues) => {
            return builder(name, targets, { ...values, ...newValues }, classes, outlets);
        },
        withClasses: (...newClasses) => {
            return builder(name, targets, values, [...classes, ...newClasses], outlets);
        },
        withElementType: () => {
            // This is a pure typing change, it doesn't make any difference at runtime.
            return builder(name, targets, values, classes, outlets);
        },
        withOutlet: (newOutlet) => {
            return builder(name, targets, values, classes, [
                ...outlets,
                newOutlet.controllerName,
            ]);
        },
        build: () => {
            var _a;
            return ({
                Base: (_a = class extends StimulusControllerConstructor {
                    },
                    __setFunctionName(_a, "Base"),
                    _a.controllerName = name,
                    _a.targets = targets,
                    _a.values = values,
                    _a.classes = classes,
                    _a.outlets = outlets,
                    _a),
                stimulusCallback: _tools_mod__WEBPACK_IMPORTED_MODULE_0__.noop,
            });
        },
    };
}
// Stacks doesn't current expose Stimulus, but we need the controller
// constructor to inherit from (and we don't want to import from stimulus,
// since that would bundle the whole thing, which is a waste because it's
// already available on the client). So we use Stacks.createController()
// to create a controller, which is a subclass of StacksController, which
// is a subclass of the real stimulus controller, and grab the correct
// contructor from the prototype chain
const StimulusControllerConstructor = (function () {
    const customConstructor = Stacks.createController({});
    const customController = new customConstructor({});
    const customControllerProto = Object.getPrototypeOf(customController);
    const stacksControllerProto = Object.getPrototypeOf(customControllerProto);
    const stimulusControllerProto = Object.getPrototypeOf(stacksControllerProto);
    return stimulusControllerProto.constructor;
})();


/***/ }),

/***/ "./_Scripts/modules/shared/controller-builder/lib/tools.mod.ts":
/*!*********************************************************************!*\
  !*** ./_Scripts/modules/shared/controller-builder/lib/tools.mod.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   noop: () => (/* binding */ noop)
/* harmony export */ });
function noop() {
    return;
}


/***/ }),

/***/ "./_Scripts/post/PostMenu.mod.ts":
/*!***************************************!*\
  !*** ./_Scripts/post/PostMenu.mod.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initPostMenu: () => (/* binding */ initPostMenu)
/* harmony export */ });
/**
 * Displays error reasons when users can't edit a post
 */
function attachPostMenuEditOnErrorClickHandler() {
    $(document).on('click', '.js-post-menu .js-error-click', function () {
        var $this = $(this);
        $this.closest('.js-post-menu').showErrorMessage($this.data('error-message'));
        return false;
    });
}
function initPostMenu() {
    attachPostMenuEditOnErrorClickHandler();
}


/***/ }),

/***/ "./_Scripts/site-includes/index.mod.ts":
/*!*********************************************!*\
  !*** ./_Scripts/site-includes/index.mod.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ load)
/* harmony export */ });
/* harmony import */ var _modules_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules.mod */ "./_Scripts/modules.mod.ts");

/**
 * Download the JS modules identified by the current site's JsModuleIncludes sitesetting
 * */
async function load() {
    // prevent double initialisation in the case that this
    // module has been included in multiple entrypoints on a single page.
    // Shouldn't happen after js modules transition is complete
    if (window.siteIncludesLoaded) {
        return Promise.resolve([]);
    }
    window.siteIncludesLoaded = true;
    const args = (0,_modules_mod__WEBPACK_IMPORTED_MODULE_0__.getArgsList)("site-includes/index.mod.ts");
    return Promise.all(args.map(x => {
        // dynamic import: download+execute modules from the current folder
        // (site-includes) whose names match the moduleName in the args.
        //
        // Webpack parses the import() statement and creates
        // chunks for each module matching the pattern (namely files in the current folder).
        // https://webpack.js.org/api/module-methods/#dynamic-expressions-in-import
        return __webpack_require__("./_Scripts/site-includes lazy recursive ^\\.\\/.*\\.mod$ exclude: index")(`./${x.moduleName}.mod`);
    }));
}


/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AchievementsSm.svg":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AchievementsSm.svg ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconAchievementsSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M11 2V1H3v1H0v3c0 1.6 1.4 3 3 3 0 0 .5 2 3 2v1H4s-1 1.5-1 2h8c0-.4-1-2-1-2H8v-1c2.5 0 3-2 3-2 1.6-.2 3-1.4 3-3V2h-3ZM3 6c-.5 0-1-.5-1-1V4h1v2Zm9-1c0 .5-.5 1-1 1V4h1v1ZM7 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Alert.svg":
/*!**************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Alert.svg ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlert\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7.95 2.71c.58-.94 1.52-.94 2.1 0l7.69 12.58c.58.94.15 1.71-.96 1.71H1.22C.1 17-.32 16.23.26 15.29L7.95 2.71ZM8 6v5h2V6H8Zm0 7v2h2v-2H8Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertCircle.svg":
/*!********************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertCircle.svg ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlertCircle\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 17c-4.36 0-8-3.64-8-8 0-4.36 3.64-8 8-8 4.36 0 8 3.64 8 8 0 4.36-3.64 8-8 8ZM8 4v6h2V4H8Zm0 8v2h2v-2H8Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertSm.svg":
/*!****************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/AlertSm.svg ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlertSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5.97 1.7c.57-.94 1.5-.93 2.05 0l5.73 9.59c.57.94.12 1.71-.98 1.71H1.22c-1.1 0-1.54-.77-.97-1.71L5.97 1.7ZM6 4v5h2V4H6Zm0 6v2h2v-2H6Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Checkmark.svg":
/*!******************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Checkmark.svg ***!
  \******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmark\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 4.41 14.59 3 6 11.59 2.41 8 1 9.41l5 5 10-10Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Clear.svg":
/*!**************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Clear.svg ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconClear\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 4.41 13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9 15 4.41Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ClearSm.svg":
/*!****************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ClearSm.svg ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconClearSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M12 3.41 10.59 2 7 5.59 3.41 2 2 3.41 5.59 7 2 10.59 3.41 12 7 8.41 10.59 12 12 10.59 8.41 7 12 3.41Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/DevTo.svg":
/*!**************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/DevTo.svg ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconDevTo\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#010101\" d=\"M15 1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h12Zm-3 5.02h-1.18l1.4 5.24c.36.86 1.16 1.1 1.65.13l.06-.13 1.39-5.24h-1.18l-1.07 4.12L12 6.02Zm-1.96 0H7.75a.72.72 0 0 0-.7.65l-.01.1v4.53c0 .37.29.67.65.7l.1.01h2.25v-1.07H8.1V9.26h1.18V8.19H8.1v-1.1h1.93V6.02Zm-5.32 0H3v5.99h1.68c1.33 0 1.75-1.03 1.75-1.71V7.73c0-.68-.43-1.71-1.71-1.71Zm.06 1.12a.7.7 0 0 1 .42.16c.14.1.21.26.21.47v2.52c0 .21-.07.37-.2.47a.7.7 0 0 1-.43.16h-.63V7.14h.63Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Facebook.svg":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Facebook.svg ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconFacebook\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#4167B2\" d=\"M3 1a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3Zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/HelpSm.svg":
/*!***************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/HelpSm.svg ***!
  \***************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconHelpSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 1C3.74 1 1 3.77 1 7c0 3.26 2.77 6 6 6 3.27 0 6-2.73 6-6s-2.73-6-6-6Zm1.06 9.06c-.02.63-.48 1.02-1.1 1-.57-.02-1.03-.43-1.01-1.06.02-.63.5-1.04 1.08-1.02.6.02 1.05.45 1.03 1.08Zm.73-3.07-.47.3c-.2.15-.36.36-.44.6a3.6 3.6 0 0 0-.08.65c0 .04-.03.14-.16.14h-1.4c-.14 0-.16-.09-.16-.13-.01-.5.11-.99.36-1.42A4.6 4.6 0 0 1 7.7 6.07c.15-.1.21-.21.3-.33.18-.2.28-.47.28-.74.01-.67-.53-1.14-1.18-1.14-.9 0-1.18.7-1.18 1.46H4.2c0-1.17.31-1.92.98-2.36a3.5 3.5 0 0 1 1.83-.44c.88 0 1.58.16 2.2.62.58.42.88 1.02.88 1.82 0 .5-.17.9-.43 1.24-.15.2-.44.47-.86.79h-.01Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/IndustrySm.svg":
/*!*******************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/IndustrySm.svg ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconIndustrySm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2h3a1 1 0 0 1 1 1v8H2V2Zm2 1v2h2V3H4Zm2 3H4v2h2V6Zm0 3H4v2h2V9Zm2-3v2h2V6H8Zm2 3H8v2h2V9Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Link.svg":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Link.svg ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconLink\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7.22 11.83a6 6 0 0 0 1.62.85l.61-1.8a4.1 4.1 0 1 1 4.04-.8l1.26 1.42a6 6 0 1 0-7.53.33Zm3.43-5.6a6 6 0 0 0-1.6-.87L8.4 7.15a4.1 4.1 0 1 1-4.05.73L3.12 6.43a6 6 0 1 0 7.53-.2Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/People.svg":
/*!***************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/People.svg ***!
  \***************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconPeople\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M17 14c0 .44-.45 1-1 1H9a1 1 0 0 1-1-1H2c-.54 0-1-.56-1-1 0-2.63 3-4 3-4s.23-.4 0-1c-.84-.62-1.06-.59-1-3 .06-2.42 1.37-3 2.5-3s2.44.58 2.5 3c.06 2.41-.16 2.38-1 3-.23.59 0 1 0 1s1.55.71 2.42 2.09c.78-.72 1.58-1.1 1.58-1.1s.23-.4 0-1c-.84-.61-1.06-.58-1-3 .06-2.41 1.37-3 2.5-3s2.44.59 2.5 3c.05 2.42-.16 2.39-1 3-.23.6 0 1 0 1s3 1.38 3 4Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ShareSm.svg":
/*!****************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/ShareSm.svg ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconShareSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5 1H3a2 2 0 0 0-2 2v8c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V9h-2v2H3V3h2V1Zm2 0h6v6h-2V4.5L6.5 9 5 7.5 9.5 3H7V1Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingDown.svg":
/*!*********************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingDown.svg ***!
  \*********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m11 14 2.29-2.29L10.5 9l-3 3L1 5.5 2.5 4l5 5 3-3 4.21 4.29L17 8v6h-6Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingNone.svg":
/*!*********************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingNone.svg ***!
  \*********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingNone\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 8V5L1 9l4 4v-3h8v3l4-4-4-4v3H5Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingUp.svg":
/*!*******************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/TrendingUp.svg ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingUp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m11 4 2.29 2.29L10.5 9l-3-3L1 12.5 2.5 14l5-5 3 3 4.21-4.29L17 10V4h-6Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Twitter.svg":
/*!****************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/Twitter.svg ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconTwitter\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#2AA3EF\" d=\"M17 4.04c-.59.26-1.22.44-1.88.52a3.3 3.3 0 0 0 1.44-1.82c-.64.37-1.34.64-2.09.79a3.28 3.28 0 0 0-5.6 2.99A9.3 9.3 0 0 1 2.12 3.1a3.28 3.28 0 0 0 1.02 4.38 3.28 3.28 0 0 1-1.49-.4v.03a3.29 3.29 0 0 0 2.64 3.22 3.34 3.34 0 0 1-1.48.06 3.29 3.29 0 0 0 3.07 2.28 6.58 6.58 0 0 1-4.85 1.36 9.33 9.33 0 0 0 5.04 1.47c6.04 0 9.34-5 9.34-9.33v-.42a6.63 6.63 0 0 0 1.63-1.7L17 4.04Z\"/></svg>";

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/UndoSm.svg":
/*!***************************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/lib/Icon/UndoSm.svg ***!
  \***************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "<svg aria-hidden=\"true\" class=\"svg-icon iconUndoSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2.76 2.76A6 6 0 1 1 1.09 8h1.93A4.1 4.1 0 1 0 4.1 4.1L6 6H1V1l1.76 1.76Z\"/></svg>";

/***/ }),

/***/ "@stackoverflow/stacks":
/*!*************************!*\
  !*** external "Stacks" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = window["Stacks"];

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = window["jQuery"];

/***/ }),

/***/ "./node_modules/@stackoverflow/stacks-icons/dist/icons.js":
/*!****************************************************************!*\
  !*** ./node_modules/@stackoverflow/stacks-icons/dist/icons.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IconAccessibility: () => (/* binding */ IconAccessibility),
/* harmony export */   IconAchievements: () => (/* binding */ IconAchievements),
/* harmony export */   IconAchievementsLg: () => (/* binding */ IconAchievementsLg),
/* harmony export */   IconAchievementsSm: () => (/* binding */ IconAchievementsSm),
/* harmony export */   IconAlert: () => (/* binding */ IconAlert),
/* harmony export */   IconAlertCircle: () => (/* binding */ IconAlertCircle),
/* harmony export */   IconAlertCircleSm: () => (/* binding */ IconAlertCircleSm),
/* harmony export */   IconAlertSm: () => (/* binding */ IconAlertSm),
/* harmony export */   IconAnswer: () => (/* binding */ IconAnswer),
/* harmony export */   IconAnswerEs: () => (/* binding */ IconAnswerEs),
/* harmony export */   IconAnswerPt: () => (/* binding */ IconAnswerPt),
/* harmony export */   IconAnswerRu: () => (/* binding */ IconAnswerRu),
/* harmony export */   IconApprove: () => (/* binding */ IconApprove),
/* harmony export */   IconArchive: () => (/* binding */ IconArchive),
/* harmony export */   IconArchiveAlt: () => (/* binding */ IconArchiveAlt),
/* harmony export */   IconArchiveAltSm: () => (/* binding */ IconArchiveAltSm),
/* harmony export */   IconArchiveSm: () => (/* binding */ IconArchiveSm),
/* harmony export */   IconArrowDoubleDown: () => (/* binding */ IconArrowDoubleDown),
/* harmony export */   IconArrowDoubleUp: () => (/* binding */ IconArrowDoubleUp),
/* harmony export */   IconArrowDown: () => (/* binding */ IconArrowDown),
/* harmony export */   IconArrowDownAlt: () => (/* binding */ IconArrowDownAlt),
/* harmony export */   IconArrowDownLg: () => (/* binding */ IconArrowDownLg),
/* harmony export */   IconArrowDownLong: () => (/* binding */ IconArrowDownLong),
/* harmony export */   IconArrowDownSm: () => (/* binding */ IconArrowDownSm),
/* harmony export */   IconArrowLeft: () => (/* binding */ IconArrowLeft),
/* harmony export */   IconArrowLeftAlt: () => (/* binding */ IconArrowLeftAlt),
/* harmony export */   IconArrowLeftAltSm: () => (/* binding */ IconArrowLeftAltSm),
/* harmony export */   IconArrowLeftSm: () => (/* binding */ IconArrowLeftSm),
/* harmony export */   IconArrowRight: () => (/* binding */ IconArrowRight),
/* harmony export */   IconArrowRightAlt: () => (/* binding */ IconArrowRightAlt),
/* harmony export */   IconArrowRightAltSm: () => (/* binding */ IconArrowRightAltSm),
/* harmony export */   IconArrowRightSm: () => (/* binding */ IconArrowRightSm),
/* harmony export */   IconArrowUp: () => (/* binding */ IconArrowUp),
/* harmony export */   IconArrowUpAlt: () => (/* binding */ IconArrowUpAlt),
/* harmony export */   IconArrowUpDown: () => (/* binding */ IconArrowUpDown),
/* harmony export */   IconArrowUpDownSm: () => (/* binding */ IconArrowUpDownSm),
/* harmony export */   IconArrowUpLg: () => (/* binding */ IconArrowUpLg),
/* harmony export */   IconArrowUpLong: () => (/* binding */ IconArrowUpLong),
/* harmony export */   IconArrowUpSm: () => (/* binding */ IconArrowUpSm),
/* harmony export */   IconAsterisk: () => (/* binding */ IconAsterisk),
/* harmony export */   IconAsteriskSm: () => (/* binding */ IconAsteriskSm),
/* harmony export */   IconBadge: () => (/* binding */ IconBadge),
/* harmony export */   IconBadgeSm: () => (/* binding */ IconBadgeSm),
/* harmony export */   IconBalloon: () => (/* binding */ IconBalloon),
/* harmony export */   IconBell: () => (/* binding */ IconBell),
/* harmony export */   IconBellSm: () => (/* binding */ IconBellSm),
/* harmony export */   IconBold: () => (/* binding */ IconBold),
/* harmony export */   IconBook: () => (/* binding */ IconBook),
/* harmony export */   IconBookmark: () => (/* binding */ IconBookmark),
/* harmony export */   IconBookmarkAlt: () => (/* binding */ IconBookmarkAlt),
/* harmony export */   IconBriefcase: () => (/* binding */ IconBriefcase),
/* harmony export */   IconBriefcaseSm: () => (/* binding */ IconBriefcaseSm),
/* harmony export */   IconBullhorn: () => (/* binding */ IconBullhorn),
/* harmony export */   IconBullhornSm: () => (/* binding */ IconBullhornSm),
/* harmony export */   IconCake: () => (/* binding */ IconCake),
/* harmony export */   IconCalendar: () => (/* binding */ IconCalendar),
/* harmony export */   IconChair: () => (/* binding */ IconChair),
/* harmony export */   IconCheckmark: () => (/* binding */ IconCheckmark),
/* harmony export */   IconCheckmarkLg: () => (/* binding */ IconCheckmarkLg),
/* harmony export */   IconCheckmarkSm: () => (/* binding */ IconCheckmarkSm),
/* harmony export */   IconCheckmarkVerified: () => (/* binding */ IconCheckmarkVerified),
/* harmony export */   IconCheckmarkVerifiedSm: () => (/* binding */ IconCheckmarkVerifiedSm),
/* harmony export */   IconClap: () => (/* binding */ IconClap),
/* harmony export */   IconClear: () => (/* binding */ IconClear),
/* harmony export */   IconClearSm: () => (/* binding */ IconClearSm),
/* harmony export */   IconClock: () => (/* binding */ IconClock),
/* harmony export */   IconCode: () => (/* binding */ IconCode),
/* harmony export */   IconCodeSnippet: () => (/* binding */ IconCodeSnippet),
/* harmony export */   IconCodeblock: () => (/* binding */ IconCodeblock),
/* harmony export */   IconCodeblockAlt: () => (/* binding */ IconCodeblockAlt),
/* harmony export */   IconCoins: () => (/* binding */ IconCoins),
/* harmony export */   IconCollection: () => (/* binding */ IconCollection),
/* harmony export */   IconColumns: () => (/* binding */ IconColumns),
/* harmony export */   IconComputer: () => (/* binding */ IconComputer),
/* harmony export */   IconConfluence: () => (/* binding */ IconConfluence),
/* harmony export */   IconCopy: () => (/* binding */ IconCopy),
/* harmony export */   IconCreditCard: () => (/* binding */ IconCreditCard),
/* harmony export */   IconCrosshairs: () => (/* binding */ IconCrosshairs),
/* harmony export */   IconCurrency: () => (/* binding */ IconCurrency),
/* harmony export */   IconDevTo: () => (/* binding */ IconDevTo),
/* harmony export */   IconDiff: () => (/* binding */ IconDiff),
/* harmony export */   IconDiscord: () => (/* binding */ IconDiscord),
/* harmony export */   IconDocument: () => (/* binding */ IconDocument),
/* harmony export */   IconDocumentAlt: () => (/* binding */ IconDocumentAlt),
/* harmony export */   IconDownload: () => (/* binding */ IconDownload),
/* harmony export */   IconDownloadSm: () => (/* binding */ IconDownloadSm),
/* harmony export */   IconDropbox: () => (/* binding */ IconDropbox),
/* harmony export */   IconEllipsisHorizontal: () => (/* binding */ IconEllipsisHorizontal),
/* harmony export */   IconEllipsisVertical: () => (/* binding */ IconEllipsisVertical),
/* harmony export */   IconEye: () => (/* binding */ IconEye),
/* harmony export */   IconEyeOff: () => (/* binding */ IconEyeOff),
/* harmony export */   IconEyeOffSm: () => (/* binding */ IconEyeOffSm),
/* harmony export */   IconEyeSm: () => (/* binding */ IconEyeSm),
/* harmony export */   IconEyes: () => (/* binding */ IconEyes),
/* harmony export */   IconFaceFrown: () => (/* binding */ IconFaceFrown),
/* harmony export */   IconFaceJoy: () => (/* binding */ IconFaceJoy),
/* harmony export */   IconFaceMindBlown: () => (/* binding */ IconFaceMindBlown),
/* harmony export */   IconFaceNeutral: () => (/* binding */ IconFaceNeutral),
/* harmony export */   IconFaceSad: () => (/* binding */ IconFaceSad),
/* harmony export */   IconFaceShocked: () => (/* binding */ IconFaceShocked),
/* harmony export */   IconFaceSmile: () => (/* binding */ IconFaceSmile),
/* harmony export */   IconFacebook: () => (/* binding */ IconFacebook),
/* harmony export */   IconFemale: () => (/* binding */ IconFemale),
/* harmony export */   IconFigma: () => (/* binding */ IconFigma),
/* harmony export */   IconFilter: () => (/* binding */ IconFilter),
/* harmony export */   IconFire: () => (/* binding */ IconFire),
/* harmony export */   IconFireSm: () => (/* binding */ IconFireSm),
/* harmony export */   IconFitness: () => (/* binding */ IconFitness),
/* harmony export */   IconFlag: () => (/* binding */ IconFlag),
/* harmony export */   IconFlagGermany: () => (/* binding */ IconFlagGermany),
/* harmony export */   IconFlagSm: () => (/* binding */ IconFlagSm),
/* harmony export */   IconFlagUnitedKingdom: () => (/* binding */ IconFlagUnitedKingdom),
/* harmony export */   IconFlagUnitedStates: () => (/* binding */ IconFlagUnitedStates),
/* harmony export */   IconFloat: () => (/* binding */ IconFloat),
/* harmony export */   IconFood: () => (/* binding */ IconFood),
/* harmony export */   IconFour: () => (/* binding */ IconFour),
/* harmony export */   IconFourLg: () => (/* binding */ IconFourLg),
/* harmony export */   IconGear: () => (/* binding */ IconGear),
/* harmony export */   IconGearSm: () => (/* binding */ IconGearSm),
/* harmony export */   IconGitHub: () => (/* binding */ IconGitHub),
/* harmony export */   IconGitLab: () => (/* binding */ IconGitLab),
/* harmony export */   IconGlobe: () => (/* binding */ IconGlobe),
/* harmony export */   IconGoogle: () => (/* binding */ IconGoogle),
/* harmony export */   IconGoogleDrive: () => (/* binding */ IconGoogleDrive),
/* harmony export */   IconGrabber: () => (/* binding */ IconGrabber),
/* harmony export */   IconGrabberVertical: () => (/* binding */ IconGrabberVertical),
/* harmony export */   IconGraph: () => (/* binding */ IconGraph),
/* harmony export */   IconGrid: () => (/* binding */ IconGrid),
/* harmony export */   IconHamburger: () => (/* binding */ IconHamburger),
/* harmony export */   IconHandNice: () => (/* binding */ IconHandNice),
/* harmony export */   IconHandPointRight: () => (/* binding */ IconHandPointRight),
/* harmony export */   IconHandRock: () => (/* binding */ IconHandRock),
/* harmony export */   IconHandsTogether: () => (/* binding */ IconHandsTogether),
/* harmony export */   IconHandshake: () => (/* binding */ IconHandshake),
/* harmony export */   IconHeader: () => (/* binding */ IconHeader),
/* harmony export */   IconHealth: () => (/* binding */ IconHealth),
/* harmony export */   IconHeart: () => (/* binding */ IconHeart),
/* harmony export */   IconHelp: () => (/* binding */ IconHelp),
/* harmony export */   IconHelpSm: () => (/* binding */ IconHelpSm),
/* harmony export */   IconHistory: () => (/* binding */ IconHistory),
/* harmony export */   IconHome: () => (/* binding */ IconHome),
/* harmony export */   IconHorizontalRule: () => (/* binding */ IconHorizontalRule),
/* harmony export */   IconHundred: () => (/* binding */ IconHundred),
/* harmony export */   IconImage: () => (/* binding */ IconImage),
/* harmony export */   IconInbox: () => (/* binding */ IconInbox),
/* harmony export */   IconInboxSm: () => (/* binding */ IconInboxSm),
/* harmony export */   IconIndent: () => (/* binding */ IconIndent),
/* harmony export */   IconIndustry: () => (/* binding */ IconIndustry),
/* harmony export */   IconIndustrySm: () => (/* binding */ IconIndustrySm),
/* harmony export */   IconInfo: () => (/* binding */ IconInfo),
/* harmony export */   IconInfoSm: () => (/* binding */ IconInfoSm),
/* harmony export */   IconInstagram: () => (/* binding */ IconInstagram),
/* harmony export */   IconInternational: () => (/* binding */ IconInternational),
/* harmony export */   IconInternationalSm: () => (/* binding */ IconInternationalSm),
/* harmony export */   IconItalic: () => (/* binding */ IconItalic),
/* harmony export */   IconJira: () => (/* binding */ IconJira),
/* harmony export */   IconKey: () => (/* binding */ IconKey),
/* harmony export */   IconKeySm: () => (/* binding */ IconKeySm),
/* harmony export */   IconLaptop: () => (/* binding */ IconLaptop),
/* harmony export */   IconLaunchPad: () => (/* binding */ IconLaunchPad),
/* harmony export */   IconLightbulb: () => (/* binding */ IconLightbulb),
/* harmony export */   IconLightbulbAlt: () => (/* binding */ IconLightbulbAlt),
/* harmony export */   IconLightbulbSm: () => (/* binding */ IconLightbulbSm),
/* harmony export */   IconLink: () => (/* binding */ IconLink),
/* harmony export */   IconLinkSm: () => (/* binding */ IconLinkSm),
/* harmony export */   IconLinkedIn: () => (/* binding */ IconLinkedIn),
/* harmony export */   IconLocation: () => (/* binding */ IconLocation),
/* harmony export */   IconLocationSm: () => (/* binding */ IconLocationSm),
/* harmony export */   IconLock: () => (/* binding */ IconLock),
/* harmony export */   IconLockSm: () => (/* binding */ IconLockSm),
/* harmony export */   IconMail: () => (/* binding */ IconMail),
/* harmony export */   IconMailOpen: () => (/* binding */ IconMailOpen),
/* harmony export */   IconMailOpenSm: () => (/* binding */ IconMailOpenSm),
/* harmony export */   IconMailSm: () => (/* binding */ IconMailSm),
/* harmony export */   IconMarkdown: () => (/* binding */ IconMarkdown),
/* harmony export */   IconMarkdownPreview: () => (/* binding */ IconMarkdownPreview),
/* harmony export */   IconMedal: () => (/* binding */ IconMedal),
/* harmony export */   IconMerge: () => (/* binding */ IconMerge),
/* harmony export */   IconMessage: () => (/* binding */ IconMessage),
/* harmony export */   IconMessageCompose: () => (/* binding */ IconMessageCompose),
/* harmony export */   IconMicroscope: () => (/* binding */ IconMicroscope),
/* harmony export */   IconMicrosoft: () => (/* binding */ IconMicrosoft),
/* harmony export */   IconMicrosoftTeams: () => (/* binding */ IconMicrosoftTeams),
/* harmony export */   IconMigrate: () => (/* binding */ IconMigrate),
/* harmony export */   IconMilestone: () => (/* binding */ IconMilestone),
/* harmony export */   IconMinus: () => (/* binding */ IconMinus),
/* harmony export */   IconMinusSm: () => (/* binding */ IconMinusSm),
/* harmony export */   IconModerator: () => (/* binding */ IconModerator),
/* harmony export */   IconModeratorSm: () => (/* binding */ IconModeratorSm),
/* harmony export */   IconMoney: () => (/* binding */ IconMoney),
/* harmony export */   IconNotInterested: () => (/* binding */ IconNotInterested),
/* harmony export */   IconNotInterestedSm: () => (/* binding */ IconNotInterestedSm),
/* harmony export */   IconOkta: () => (/* binding */ IconOkta),
/* harmony export */   IconOne: () => (/* binding */ IconOne),
/* harmony export */   IconOneLg: () => (/* binding */ IconOneLg),
/* harmony export */   IconOpenSource: () => (/* binding */ IconOpenSource),
/* harmony export */   IconOrderedList: () => (/* binding */ IconOrderedList),
/* harmony export */   IconOutdent: () => (/* binding */ IconOutdent),
/* harmony export */   IconPaperclip: () => (/* binding */ IconPaperclip),
/* harmony export */   IconPeak: () => (/* binding */ IconPeak),
/* harmony export */   IconPencil: () => (/* binding */ IconPencil),
/* harmony export */   IconPencilSm: () => (/* binding */ IconPencilSm),
/* harmony export */   IconPeople: () => (/* binding */ IconPeople),
/* harmony export */   IconPeopleSm: () => (/* binding */ IconPeopleSm),
/* harmony export */   IconPerson: () => (/* binding */ IconPerson),
/* harmony export */   IconPhone: () => (/* binding */ IconPhone),
/* harmony export */   IconPlaceholder: () => (/* binding */ IconPlaceholder),
/* harmony export */   IconPlaceholderLg: () => (/* binding */ IconPlaceholderLg),
/* harmony export */   IconPlaceholderSm: () => (/* binding */ IconPlaceholderSm),
/* harmony export */   IconPlay: () => (/* binding */ IconPlay),
/* harmony export */   IconPlus: () => (/* binding */ IconPlus),
/* harmony export */   IconPlusOne: () => (/* binding */ IconPlusOne),
/* harmony export */   IconPlusSm: () => (/* binding */ IconPlusSm),
/* harmony export */   IconPromoteDemote: () => (/* binding */ IconPromoteDemote),
/* harmony export */   IconPromoted: () => (/* binding */ IconPromoted),
/* harmony export */   IconPromotedSm: () => (/* binding */ IconPromotedSm),
/* harmony export */   IconQuestion: () => (/* binding */ IconQuestion),
/* harmony export */   IconQuestionEs: () => (/* binding */ IconQuestionEs),
/* harmony export */   IconQuestionPt: () => (/* binding */ IconQuestionPt),
/* harmony export */   IconQuestionRu: () => (/* binding */ IconQuestionRu),
/* harmony export */   IconQuote: () => (/* binding */ IconQuote),
/* harmony export */   IconRedact: () => (/* binding */ IconRedact),
/* harmony export */   IconRedactSm: () => (/* binding */ IconRedactSm),
/* harmony export */   IconRefresh: () => (/* binding */ IconRefresh),
/* harmony export */   IconRefreshSm: () => (/* binding */ IconRefreshSm),
/* harmony export */   IconRelocation: () => (/* binding */ IconRelocation),
/* harmony export */   IconRelocationSm: () => (/* binding */ IconRelocationSm),
/* harmony export */   IconRemote: () => (/* binding */ IconRemote),
/* harmony export */   IconRemoteSm: () => (/* binding */ IconRemoteSm),
/* harmony export */   IconReply: () => (/* binding */ IconReply),
/* harmony export */   IconReplySm: () => (/* binding */ IconReplySm),
/* harmony export */   IconReputation: () => (/* binding */ IconReputation),
/* harmony export */   IconReputationSm: () => (/* binding */ IconReputationSm),
/* harmony export */   IconReviewQueue: () => (/* binding */ IconReviewQueue),
/* harmony export */   IconRichText: () => (/* binding */ IconRichText),
/* harmony export */   IconRss: () => (/* binding */ IconRss),
/* harmony export */   IconRuler: () => (/* binding */ IconRuler),
/* harmony export */   IconSOS: () => (/* binding */ IconSOS),
/* harmony export */   IconSave: () => (/* binding */ IconSave),
/* harmony export */   IconSchool: () => (/* binding */ IconSchool),
/* harmony export */   IconSchoolSm: () => (/* binding */ IconSchoolSm),
/* harmony export */   IconScreenFull: () => (/* binding */ IconScreenFull),
/* harmony export */   IconScreenNormal: () => (/* binding */ IconScreenNormal),
/* harmony export */   IconSearch: () => (/* binding */ IconSearch),
/* harmony export */   IconSearchSm: () => (/* binding */ IconSearchSm),
/* harmony export */   IconShare: () => (/* binding */ IconShare),
/* harmony export */   IconShareAlt: () => (/* binding */ IconShareAlt),
/* harmony export */   IconShareSm: () => (/* binding */ IconShareSm),
/* harmony export */   IconShield: () => (/* binding */ IconShield),
/* harmony export */   IconShieldSm: () => (/* binding */ IconShieldSm),
/* harmony export */   IconShieldXSm: () => (/* binding */ IconShieldXSm),
/* harmony export */   IconSkull: () => (/* binding */ IconSkull),
/* harmony export */   IconSlack: () => (/* binding */ IconSlack),
/* harmony export */   IconSmartPhone: () => (/* binding */ IconSmartPhone),
/* harmony export */   IconSmileyAdd: () => (/* binding */ IconSmileyAdd),
/* harmony export */   IconSpeechBubble: () => (/* binding */ IconSpeechBubble),
/* harmony export */   IconSpeechBubbleError: () => (/* binding */ IconSpeechBubbleError),
/* harmony export */   IconSpeechBubbleQuestion: () => (/* binding */ IconSpeechBubbleQuestion),
/* harmony export */   IconSpeechBubbleRight: () => (/* binding */ IconSpeechBubbleRight),
/* harmony export */   IconSpeechBubbleRightSm: () => (/* binding */ IconSpeechBubbleRightSm),
/* harmony export */   IconSpeechBubbleRightStar: () => (/* binding */ IconSpeechBubbleRightStar),
/* harmony export */   IconSpeechBubbleRightStarSm: () => (/* binding */ IconSpeechBubbleRightStarSm),
/* harmony export */   IconSpeechBubbleSm: () => (/* binding */ IconSpeechBubbleSm),
/* harmony export */   IconStackExchange: () => (/* binding */ IconStackExchange),
/* harmony export */   IconStar: () => (/* binding */ IconStar),
/* harmony export */   IconStarHalf: () => (/* binding */ IconStarHalf),
/* harmony export */   IconStarHalfSm: () => (/* binding */ IconStarHalfSm),
/* harmony export */   IconStarSm: () => (/* binding */ IconStarSm),
/* harmony export */   IconStarVerified: () => (/* binding */ IconStarVerified),
/* harmony export */   IconStarVerifiedSm: () => (/* binding */ IconStarVerifiedSm),
/* harmony export */   IconStrikethrough: () => (/* binding */ IconStrikethrough),
/* harmony export */   IconStroller: () => (/* binding */ IconStroller),
/* harmony export */   IconSubway: () => (/* binding */ IconSubway),
/* harmony export */   IconSync: () => (/* binding */ IconSync),
/* harmony export */   IconSyncSm: () => (/* binding */ IconSyncSm),
/* harmony export */   IconTIL: () => (/* binding */ IconTIL),
/* harmony export */   IconTable: () => (/* binding */ IconTable),
/* harmony export */   IconTack: () => (/* binding */ IconTack),
/* harmony export */   IconTackSm: () => (/* binding */ IconTackSm),
/* harmony export */   IconTada: () => (/* binding */ IconTada),
/* harmony export */   IconTag: () => (/* binding */ IconTag),
/* harmony export */   IconTagSm: () => (/* binding */ IconTagSm),
/* harmony export */   IconTags: () => (/* binding */ IconTags),
/* harmony export */   IconTagsSm: () => (/* binding */ IconTagsSm),
/* harmony export */   IconTheme: () => (/* binding */ IconTheme),
/* harmony export */   IconThree: () => (/* binding */ IconThree),
/* harmony export */   IconThreeLg: () => (/* binding */ IconThreeLg),
/* harmony export */   IconThumbsDown: () => (/* binding */ IconThumbsDown),
/* harmony export */   IconThumbsUp: () => (/* binding */ IconThumbsUp),
/* harmony export */   IconTool: () => (/* binding */ IconTool),
/* harmony export */   IconTrash: () => (/* binding */ IconTrash),
/* harmony export */   IconTrashSm: () => (/* binding */ IconTrashSm),
/* harmony export */   IconTrendingDown: () => (/* binding */ IconTrendingDown),
/* harmony export */   IconTrendingNone: () => (/* binding */ IconTrendingNone),
/* harmony export */   IconTrendingUp: () => (/* binding */ IconTrendingUp),
/* harmony export */   IconTwitter: () => (/* binding */ IconTwitter),
/* harmony export */   IconTwo: () => (/* binding */ IconTwo),
/* harmony export */   IconTwoLg: () => (/* binding */ IconTwoLg),
/* harmony export */   IconUndo: () => (/* binding */ IconUndo),
/* harmony export */   IconUndoSm: () => (/* binding */ IconUndoSm),
/* harmony export */   IconUnflag: () => (/* binding */ IconUnflag),
/* harmony export */   IconUnflagSm: () => (/* binding */ IconUnflagSm),
/* harmony export */   IconUnlock: () => (/* binding */ IconUnlock),
/* harmony export */   IconUnlockSm: () => (/* binding */ IconUnlockSm),
/* harmony export */   IconUnorderedList: () => (/* binding */ IconUnorderedList),
/* harmony export */   IconUnsync: () => (/* binding */ IconUnsync),
/* harmony export */   IconUnsyncSm: () => (/* binding */ IconUnsyncSm),
/* harmony export */   IconUntrash: () => (/* binding */ IconUntrash),
/* harmony export */   IconUntrashSm: () => (/* binding */ IconUntrashSm),
/* harmony export */   IconVK: () => (/* binding */ IconVK),
/* harmony export */   IconVacation: () => (/* binding */ IconVacation),
/* harmony export */   IconWand: () => (/* binding */ IconWand),
/* harmony export */   IconWave: () => (/* binding */ IconWave),
/* harmony export */   IconYandex: () => (/* binding */ IconYandex)
/* harmony export */ });
const IconAccessibility = "<svg aria-hidden=\"true\" class=\"svg-icon iconAccessibility\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16.5 5c-2.61.7-4.67 1-7.5 1s-4.89-.3-7.5-1L1 7c1.86.5 3 .83 5 1v9h2v-6h2v6h2V8c2-.17 3.14-.5 5-1l-.5-2ZM9 5a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2c0 1.1.9 2 2 2Z\"/></svg>";
const IconAchievements = "<svg aria-hidden=\"true\" class=\"svg-icon iconAchievements\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 2V1H3v1H0v4c0 1.6 1.4 3 3 3v1c.4 1.5 3 2.6 5 3v2H5s-1 1.5-1 2h10c0-.4-1-2-1-2h-3v-2c2-.4 4.6-1.5 5-3V9c1.6-.2 3-1.4 3-3V2h-3ZM3 7c-.5 0-1-.5-1-1V4h1v3Zm8.4 2.5L9 8 6.6 9.4l1-2.7L5 5h3l1-2.7L10 5h2.8l-2.3 1.8 1 2.7h-.1ZM16 6c0 .5-.5 1-1 1V4h1v2Z\"/></svg>";
const IconAchievementsLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconAchievementsLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M29 4H7v2H3a1 1 0 0 0-1 1v6a5 5 0 0 0 5 5 8 8 0 0 0 8 8h1v3h-3c-1.66 0-4 1.34-4 3v1h18v-1c0-1.66-2.34-3-4-3h-3v-3h1a8 8 0 0 0 8-8 5 5 0 0 0 5-5V7a1 1 0 0 0-1-1h-4V4Zm3 9a3 3 0 0 1-3 3V8h3v5ZM7 16a3 3 0 0 1-3-3V8h3v8Zm11.38-8.33 1.33 4.08c.05.17.2.28.38.28h4.29c.38 0 .55.5.23.72l-3.47 2.52a.4.4 0 0 0-.14.45l1.32 4.08a.4.4 0 0 1-.61.45l-3.47-2.52a.4.4 0 0 0-.48 0l-3.47 2.52a.4.4 0 0 1-.61-.45L15 15.72a.4.4 0 0 0-.14-.45l-3.47-2.52a.4.4 0 0 1 .23-.72h4.3a.4.4 0 0 0 .37-.28l1.33-4.08a.4.4 0 0 1 .76 0Z\"/></svg>";
const IconAchievementsSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconAchievementsSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M11 2V1H3v1H0v3c0 1.6 1.4 3 3 3 0 0 .5 2 3 2v1H4s-1 1.5-1 2h8c0-.4-1-2-1-2H8v-1c2.5 0 3-2 3-2 1.6-.2 3-1.4 3-3V2h-3ZM3 6c-.5 0-1-.5-1-1V4h1v2Zm9-1c0 .5-.5 1-1 1V4h1v1ZM7 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\"/></svg>";
const IconAlert = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlert\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7.95 2.71c.58-.94 1.52-.94 2.1 0l7.69 12.58c.58.94.15 1.71-.96 1.71H1.22C.1 17-.32 16.23.26 15.29L7.95 2.71ZM8 6v5h2V6H8Zm0 7v2h2v-2H8Z\"/></svg>";
const IconAlertCircle = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlertCircle\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 17c-4.36 0-8-3.64-8-8 0-4.36 3.64-8 8-8 4.36 0 8 3.64 8 8 0 4.36-3.64 8-8 8ZM8 4v6h2V4H8Zm0 8v2h2v-2H8Z\"/></svg>";
const IconAlertCircleSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlertCircleSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 13c-3.23 0-6-2.74-6-6 0-3.23 2.74-6 6-6 3.27 0 6 2.73 6 6s-2.73 6-6 6ZM6 3v5h2V3H6Zm0 6v2h2V9H6Z\"/></svg>";
const IconAlertSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconAlertSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5.97 1.7c.57-.94 1.5-.93 2.05 0l5.73 9.59c.57.94.12 1.71-.98 1.71H1.22c-1.1 0-1.54-.77-.97-1.71L5.97 1.7ZM6 4v5h2V4H6Zm0 6v2h2v-2H6Z\"/></svg>";
const IconAnswer = "<svg aria-hidden=\"true\" class=\"svg-icon iconAnswer\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14 15H3c-1.09 0-2-.91-2-2V4c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v14l-3-3Zm-1.02-3L9.82 4H8.14l-3.06 8h1.68l.65-1.79h3.15l.69 1.79h1.73Zm-2.93-3.12H7.9l1.06-2.92 1.09 2.92Z\"/></svg>";
const IconAnswerEs = "<svg aria-hidden=\"true\" class=\"svg-icon iconAnswerEs\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.02 7.73c.42 0 .74-.1.97-.31.22-.21.34-.5.34-.88s-.11-.67-.33-.9c-.21-.2-.54-.32-.99-.32H7.7v2.41h1.33ZM3 15h11l3 3V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v9c0 1.09.91 2 2 2Zm4.69-5.93v2.95H6.03V3.98h2.98c.95 0 1.69.21 2.2.64.52.42.77 1.02.77 1.79 0 .55-.12 1-.36 1.37-.23.37-.59.66-1.07.88l1.74 3.28v.08H10.5L9 9.07H7.68Z\"/></svg>";
const IconAnswerPt = "<svg aria-hidden=\"true\" class=\"svg-icon iconAnswerPt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.02 7.73c.42 0 .74-.1.97-.31.22-.21.34-.5.34-.88s-.11-.67-.33-.9c-.21-.2-.54-.32-.99-.32H7.7v2.41h1.33ZM3 15h11l3 3V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v9c0 1.09.91 2 2 2Zm4.69-5.93v2.95H6.03V3.98h2.98c.95 0 1.69.21 2.2.64.52.42.77 1.02.77 1.79 0 .55-.12 1-.36 1.37-.23.37-.59.66-1.07.88l1.74 3.28v.08H10.5L9 9.07H7.68Z\"/></svg>";
const IconAnswerRu = "<svg aria-hidden=\"true\" class=\"svg-icon iconAnswerRu\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.78 5.9c-.3-.44-.73-.66-1.3-.66-.55 0-.97.22-1.28.65-.3.43-.45 1.06-.45 1.9v.4c0 .81.15 1.45.45 1.9.3.45.73.68 1.3.68.56 0 .98-.22 1.28-.65.3-.44.45-1.08.45-1.91v-.4c0-.84-.15-1.48-.45-1.91ZM3 15h11l3 3V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v9c0 1.09.91 2 2 2Zm8.5-4.74a3.15 3.15 0 0 1-3 1.87 3.2 3.2 0 0 1-3-1.85 4.73 4.73 0 0 1-.43-2.05v-.4c0-.8.14-1.49.42-2.09a3.19 3.19 0 0 1 3-1.87 3.24 3.24 0 0 1 2.99 1.87c.29.6.43 1.3.43 2.08v.36c0 .8-.14 1.49-.42 2.08Z\"/></svg>";
const IconApprove = "<svg aria-hidden=\"true\" class=\"svg-icon iconApprove\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#5EBA7D\" d=\"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm.25-3.45a1 1 0 0 1-.73.5c-.32 0-.62-.06-.85-.29l-3-3a1 1 0 0 1 1.44-1.38l2.05 2 3.56-6.28c.27-.47.89-.65 1.36-.38.47.27.65.89.38 1.36l-4.21 7.47Z\"/></svg>";
const IconArchive = "<svg aria-hidden=\"true\" class=\"svg-icon iconArchive\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2H3ZM2 5h14v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5Zm4 3a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H7a1 1 0 0 0-1 1Z\"/></svg>";
const IconArchiveAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconArchiveAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2H3ZM2 5v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V5h-2v10H4V5H2Zm5 2a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H7Z\"/></svg>";
const IconArchiveAltSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArchiveAltSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M0 3c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2H0Zm1 1v7c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V4h-2v7H3V4H1Zm4 2a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2H5Z\"/></svg>";
const IconArchiveSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArchiveSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M1 3c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2H1Zm11 1H2v7c0 1.1.9 2 2 2h6a2 2 0 0 0 2-2V4ZM4.5 6h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1Z\"/></svg>";
const IconArrowDoubleDown = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDoubleDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m16.01 9.43-7 7-7-7 1.41-1.41 5.6 5.59L14.6 8l1.41 1.42v.01Zm0-5-7 7-7-7 1.41-1.41 5.6 5.59L14.6 3l1.41 1.42v.01Z\"/></svg>";
const IconArrowDoubleUp = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDoubleUp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m16.01 13.62-1.4 1.4L9 9.45l-5.59 5.59-1.4-1.41 7-7 7 7v-.01Zm0-5-1.4 1.4L9 4.45l-5.59 5.59-1.4-1.41 7-7 7 7v-.01Z\"/></svg>";
const IconArrowDown = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 6h16l-8 8-8-8Z\"/></svg>";
const IconArrowDownAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDownAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m16.01 7.43-1.4-1.41L9 11.6 3.42 6l-1.4 1.42 7 7 7-7Z\"/></svg>";
const IconArrowDownLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDownLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M2 11h32L18 27 2 11Z\"/></svg>";
const IconArrowDownLong = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDownLong\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1a1 1 0 0 1 1 1v11.93l3.38-2.7a1 1 0 0 1 1.24 1.56l-5 4a1 1 0 0 1-1.24 0l-5-4a1 1 0 1 1 1.24-1.56L8 13.93V2a1 1 0 0 1 1-1Z\"/></svg>";
const IconArrowDownSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowDownSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M3 5h8L7 9 3 5Z\"/></svg>";
const IconArrowLeft = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowLeft\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M12 17V1L4 9l8 8Z\"/></svg>";
const IconArrowLeftAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowLeftAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10.58 16 12 14.59 6.4 9 12 3.41 10.57 2l-7 7 7 7Z\"/></svg>";
const IconArrowLeftAltSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowLeftAltSm\" width=\"13\" height=\"14\"  viewBox=\"0 0 13 14\"><path  d=\"M9.24 9.38 8 10.62 4.38 7 8 3.38l1.24 1.24L6.86 7l2.38 2.38Z\"/></svg>";
const IconArrowLeftSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowLeftSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M9 11V3L5 7l4 4Z\"/></svg>";
const IconArrowRight = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowRight\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 17V1l8 8-8 8Z\"/></svg>";
const IconArrowRightAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowRightAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M6.41 2 5 3.41 10.59 9 5 14.59 6.41 16l7-7-7-7Z\"/></svg>";
const IconArrowRightAltSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowRightAltSm\" width=\"13\" height=\"14\"  viewBox=\"0 0 13 14\"><path  d=\"m4.38 4.62 1.24-1.24L9.24 7l-3.62 3.62-1.24-1.24L6.76 7 4.38 4.62Z\"/></svg>";
const IconArrowRightSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowRightSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5 11V3l4 4-4 4Z\"/></svg>";
const IconArrowUp = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 12h16L9 4l-8 8Z\"/></svg>";
const IconArrowUpAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m16.01 10.62-1.4 1.4L9 6.45l-5.59 5.59-1.4-1.41 7-7 7 7Z\"/></svg>";
const IconArrowUpDown = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m9 1 7 7H2l7-7Zm0 16 7-7H2l7 7Z\"/></svg>";
const IconArrowUpDownSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpDownSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m7 2 4 4H3l4-4Zm0 10 4-4H3l4 4Z\"/></svg>";
const IconArrowUpLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M2 25h32L18 9 2 25Z\"/></svg>";
const IconArrowUpLong = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpLong\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 17a1 1 0 0 1-1-1V4.08l-3.38 2.7a1 1 0 0 1-1.24-1.56l5-4a1 1 0 0 1 1.24 0l5 4a1 1 0 1 1-1.24 1.56L10 4.08V16a1 1 0 0 1-1 1Z\"/></svg>";
const IconArrowUpSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconArrowUpSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M3 9h8L7 5 3 9Z\"/></svg>";
const IconAsterisk = "<svg aria-hidden=\"true\" class=\"svg-icon iconAsterisk\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M2.32 11.83 6.95 9 2.32 6.17c-.3-.15-.41-.5-.24-.77l.5-.8a.65.65 0 0 1 .85-.2l4.55 2.98-.1-5.8c0-.32.28-.58.62-.58h1c.34 0 .62.26.61.57l-.09 5.8 4.55-2.97c.3-.16.68-.07.85.2l.5.8c.17.27.06.62-.24.77L11.05 9l4.63 2.83c.3.15.41.5.24.77l-.5.8a.65.65 0 0 1-.85.2l-4.55-2.98.1 5.8c0 .32-.28.58-.62.58h-1c-.34 0-.62-.26-.61-.57l.09-5.8-4.55 2.97a.65.65 0 0 1-.85-.2l-.5-.8c-.17-.27-.06-.62.24-.77Z\"/></svg>";
const IconAsteriskSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconAsteriskSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M1.52 9.03 4.95 7 1.52 4.97c-.3-.15-.41-.5-.24-.77l.5-.8a.65.65 0 0 1 .85-.2l3.35 2.18-.1-3.8c0-.32.28-.58.62-.58h1c.34 0 .62.26.61.57l-.09 3.8 3.35-2.17c.3-.16.68-.07.85.2l.5.8c.17.27.06.62-.24.77L9.05 7l3.43 2.03c.3.15.41.5.24.77l-.5.8a.65.65 0 0 1-.85.2L8.02 8.62l.1 3.8c0 .32-.28.58-.62.58h-1c-.34 0-.62-.26-.61-.57l.09-3.8-3.35 2.17a.65.65 0 0 1-.85-.2l-.5-.8c-.17-.27-.06-.62.24-.77Z\"/></svg>";
const IconBadge = "<svg aria-hidden=\"true\" class=\"svg-icon iconBadge\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 4a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3Zm3 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\"/></svg>";
const IconBadgeSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconBadgeSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 4c-.55 0-1 .52-1 1.17v4.66c0 .65.45 1.17 1 1.17h10c.55 0 1-.52 1-1.17V5.17C13 4.52 12.55 4 12 4H2Zm2.5 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\"/></svg>";
const IconBalloon = "<svg aria-hidden=\"true\" class=\"svg-icon iconBalloon\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  fill-opacity=\".4\" d=\"M10.26 17h-.2a3.61 3.61 0 0 1-3.61-3.61.5.5 0 1 1 1 0A2.61 2.61 0 0 0 10.06 16h.2a2.61 2.61 0 0 0 2.61-2.82 3.62 3.62 0 0 1 3.61-3.4.5.5 0 0 1 .5.5.51.51 0 0 1-.5.5 2.61 2.61 0 0 0-2.61 2.61c0 .07-.02.14-.05.2A3.61 3.61 0 0 1 10.26 17Z\"/><path fill=\"#F75D37\" d=\"M6.94 1.23c2.69 0 4.87 2.8 4.87 5.49 0 2.48-1.81 5.95-4.21 6.48.03.4-.24.71-.63.71-.36 0-.68-.35-.63-.7-2.41-.49-4.28-4-4.28-6.49 0-2.72 2.19-5.49 4.88-5.49Zm-.09 2.62a.5.5 0 1 0-.7-.7l-2 2a.5.5 0 1 0 .7.7l2-2Z\"/></svg>";
const IconBell = "<svg aria-hidden=\"true\" class=\"svg-icon iconBell\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 13v1H2v-1l.73-.58c.77-.77.81-3.55 1.19-5.42C4.69 3.23 8 2 8 2a1 1 0 0 1 1-1 1 1 0 0 1 1 1s3.39 1.23 4.16 5c.38 1.88.42 4.66 1.19 5.42l.66.58H16Zm-7 4a2 2 0 0 0 2-2H7a2 2 0 0 0 2 2Z\"/></svg>";
const IconBellSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconBellSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 1a1 1 0 0 0-1 1C3.65 3.17 3.37 5.33 3.14 7.15 2.97 8.42 2.83 9.53 2 10v1h10v-1c-.83-.47-.97-1.58-1.14-2.85C10.63 5.33 10.35 3.17 8 2a1 1 0 0 0-1-1Zm1 12a1 1 0 0 0 1-1H5a1 1 0 0 0 1 1h2Z\"/></svg>";
const IconBold = "<svg aria-hidden=\"true\" class=\"svg-icon iconBold\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M13 6c0-1.5-1.57-3-3.5-3H4v12h6.25c1.79 0 3.25-1.71 3.25-3.5 0-1.3-.9-2.48-2-3 .83-.58 1.5-1 1.5-2.5ZM6.5 5H9a1.5 1.5 0 0 1 0 3H6.5V5Zm3 8h-3v-3h3a1.5 1.5 0 1 1 0 3Z\"/></svg>";
const IconBook = "<svg aria-hidden=\"true\" class=\"svg-icon iconBook\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M2 3c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a1 1 0 1 0 0 2h1v-1h4v1h5a2 2 0 0 0 2-2v1a2 2 0 0 1-2 2H9v2l-2-1-2 1v-2H4a2 2 0 0 1-2-2V3Z\"/></svg>";
const IconBookmark = "<svg aria-hidden=\"true\" class=\"svg-icon iconBookmark\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 17V3c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v14l-6-4-6 4Z\"/></svg>";
const IconBookmarkAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconBookmarkAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m9 10.6 4 2.66V3H5v10.26l4-2.66ZM3 17V3c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v14l-6-4-6 4Z\"/></svg>";
const IconBriefcase = "<svg aria-hidden=\"true\" class=\"svg-icon iconBriefcase\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 4a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v1h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1V4Zm7 0H6v1h6V4Z\"/></svg>";
const IconBriefcaseSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconBriefcaseSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M4 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h.5c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5h-7A1.5 1.5 0 0 1 2 10.5v-5C2 4.67 2.67 4 3.5 4H4V3Zm5 1V3H5v1h4Z\"/></svg>";
const IconBullhorn = "<svg aria-hidden=\"true\" class=\"svg-icon iconBullhorn\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#F7AA6D\" d=\"M16 1a1 1 0 0 0-1 1v.38L5.3 6A2 2 0 0 0 4 7.9v2.22a2 2 0 0 0 1 1.74v1.65a3.5 3.5 0 0 0 6.87.95L15 15.63V16a1 1 0 1 0 2 0V2a1 1 0 0 0-1-1ZM6.6 12.47l3.76 1.42a1.9 1.9 0 0 1-3.76-.39v-1.03Z\"/><path fill=\"#C02D2E\" d=\"M2 6a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1Z\"/></svg>";
const IconBullhornSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconBullhornSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path fill=\"#F7AA6D\" d=\"M12 1a1 1 0 0 0-1 1v.47l-6.95 2.2A1.5 1.5 0 0 0 3 6.1v1.8c0 .64.4 1.2 1 1.41v1.19a2.5 2.5 0 0 0 4.97.39l2.03.64V12a1 1 0 1 0 2 0V2a1 1 0 0 0-1-1ZM5 9.63l3 .95a1.5 1.5 0 0 1-3-.08v-.87Z\"/><path fill=\"#C02D2E\" d=\"M1 5.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-1 0v-3Z\"/></svg>";
const IconCake = "<svg aria-hidden=\"true\" class=\"svg-icon iconCake\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 4.5a1.5 1.5 0 0 0 1.28-2.27L9 0 7.72 2.23c-.14.22-.22.48-.22.77 0 .83.68 1.5 1.5 1.5Zm3.45 7.5-.8-.81-.81.8c-.98.98-2.69.98-3.67 0l-.8-.8-.82.8c-.49.49-1.14.76-1.83.76-.55 0-1.3-.17-1.72-.46V15c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2v-2.7c-.42.28-1.17.45-1.72.45-.69 0-1.34-.27-1.83-.76Zm1.3-5H10V5H8v2H4.25C3 7 2 8 2 9.25v.9c0 .81.91 1.47 1.72 1.47.39 0 .77-.14 1.03-.42l1.61-1.6 1.6 1.6a1.5 1.5 0 0 0 2.08 0l1.6-1.6 1.6 1.6c.28.28.64.43 1.03.43.81 0 1.73-.67 1.73-1.48v-.9C16 8.01 15 7 13.75 7Z\"/></svg>";
const IconCalendar = "<svg aria-hidden=\"true\" class=\"svg-icon iconCalendar\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14 2h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h1V0h2v2h6V0h2v2ZM3 6v9h12V6H3Zm2 2h2v2H5V8Zm0 3h2v2H5v-2Zm3 0h2v2H8v-2Zm3 0h2v2h-2v-2Zm0-3h2v2h-2V8ZM8 8h2v2H8V8Z\"/></svg>";
const IconChair = "<svg aria-hidden=\"true\" class=\"svg-icon iconChair\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10 8h2.87c.66 0 1.17-.47 1.13-1.04l-.31-5.05c-.08-.5-.55-.91-1.17-.91H5.45c-.59 0-1.1.4-1.14.9l-.3 5.06C3.95 7.53 4.46 8 5.12 8H8v1H4.56C3.71 9 3 9.46 3 10s.71 1 1.56 1H8v2.1c-.96.2-1.88.67-2.65 1.41a1 1 0 1 0 1.03.52 4.67 4.67 0 0 1 5.23 0 1 1 0 1 0 1.05-.52A5.26 5.26 0 0 0 10 13.1V11h3.44c.85 0 1.56-.43 1.56-1 0-.54-.71-1-1.56-1H10V8Z\"/></svg>";
const IconCheckmark = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmark\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 4.41 14.59 3 6 11.59 2.41 8 1 9.41l5 5 10-10Z\"/></svg>";
const IconCheckmarkLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmarkLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"m6 14 8 8L30 6v8L14 30l-8-8v-8Z\"/></svg>";
const IconCheckmarkSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmarkSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M13 3.41 11.59 2 5 8.59 2.41 6 1 7.41l4 4 8-8Z\"/></svg>";
const IconCheckmarkVerified = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmarkVerified\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.85.9a1.13 1.13 0 0 0-1.7 0l-.51.58c-.3.35-.79.48-1.23.33l-.72-.25a1.13 1.13 0 0 0-1.48.85l-.15.76c-.09.45-.44.8-.9.9l-.75.14c-.67.13-1.07.83-.85 1.48l.25.72c.15.44.02.92-.33 1.23l-.58.5a1.13 1.13 0 0 0 0 1.71l.58.5c.35.3.48.8.33 1.23l-.25.72c-.22.65.18 1.35.85 1.48l.76.15c.45.1.8.44.9.9l.14.75c.13.67.83 1.08 1.48.85l.72-.24c.44-.15.92-.02 1.23.32l.5.58c.45.52 1.26.52 1.71 0l.5-.58c.3-.34.8-.47 1.23-.32l.72.24c.65.23 1.35-.18 1.48-.85l.15-.75c.1-.46.44-.8.9-.9l.75-.15c.67-.13 1.08-.83.85-1.48l-.24-.72c-.15-.44-.02-.92.32-1.22l.58-.5c.52-.46.52-1.27 0-1.72l-.58-.5c-.34-.3-.47-.79-.32-1.23l.24-.72a1.13 1.13 0 0 0-.85-1.48l-.75-.15c-.46-.09-.8-.44-.9-.9l-.15-.75a1.13 1.13 0 0 0-1.48-.85l-.72.25c-.44.15-.92.02-1.22-.33L9.86.9ZM12.6 5 14 6.41l-7 7-3-3L5.41 9 7 10.59 12.59 5Z\"/></svg>";
const IconCheckmarkVerifiedSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconCheckmarkVerifiedSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7.82.84a1.16 1.16 0 0 0-1.64 0l-.9.88c-.2.21-.5.33-.8.34H3.22c-.64 0-1.15.52-1.16 1.16v1.26c0 .3-.13.6-.34.8l-.88.9a1.16 1.16 0 0 0 0 1.64l.88.9c.21.2.33.5.34.8v1.26c0 .64.52 1.15 1.16 1.15l1.26.01c.3 0 .6.12.8.34l.9.88c.45.45 1.18.45 1.64 0l.9-.88c.2-.22.5-.34.8-.34h1.26a1.16 1.16 0 0 0 1.15-1.16l.01-1.26c0-.3.12-.6.34-.8l.88-.9c.45-.46.45-1.19 0-1.64l-.88-.9c-.22-.2-.34-.5-.34-.8V3.22a1.17 1.17 0 0 0-1.16-1.16H9.52c-.3 0-.6-.13-.8-.34l-.9-.88Zm-1.9 9.44L3.28 7.65l1.27-1.27L5.9 7.74l3.81-3.81L11 5.2l-5.1 5.08Z\"/></svg>";
const IconClap = "<svg aria-hidden=\"true\" class=\"svg-icon iconClap\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M12.5 3a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0v2a.5.5 0 0 1-.5.5ZM14 4.5c0-.28.22-.5.5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-.35-1.85a.5.5 0 0 0 .7.7l1.5-1.5a.5.5 0 0 0-.7-.7l-1.5 1.5Z\" opacity=\".4\"/><path fill=\"#FFC166\" d=\"M2.58 8.69c.33.45.73.8 1.15 1.06L5.8 6c.17-.29.4-.56.68-.74.44-.28.99-.26 1.4-.02h.02c.32-.04 1.6-.06 2.73-.08a41.5 41.5 0 0 0 1.77-.04c.49-.04.68-.3.65-.75-.02-.46-.44-.65-.9-.6l-6.76.36c-.05.01-.1-.07-.07-.11l1.03-1.36c.3-.4.16-.97-.21-1.26a.87.87 0 0 0-1.25.13C4.3 2.26 3.74 3 3.19 3.76c-1.08 1.47-1.83 3.29-.61 4.93Zm10.1.41h-.75c.11-.23.18-.47.17-.73 0-.19-.06-.37-.15-.53l.73.01c.41.03.68.35.68.6 0 .24-.23.66-.68.65ZM10.9 7.15l2.6-.02a.66.66 0 0 0 .6-.77c-.08-.41-.47-.64-.87-.64l-2.66.04c.35.37.48.9.33 1.4ZM5.52 17c-2.04 0-3.15-1.78-3.7-3.52a53.2 53.2 0 0 1-.77-2.7c-.15-.46.14-.94.63-1.07.47-.13 1 .1 1.15.58l.47 1.63c.02.06.11.06.14 0l3.01-5.54c.24-.4.6-.73.97-.54.4.2.47.54.25 1.02-.08.18-.33.66-.63 1.22-.51.96-1.15 2.16-1.26 2.49-.01.04-.03.21.08.29.1.07.28-.06.3-.09l2.71-4.14c.2-.34.63-.66.98-.48.34.18.46.6.26.93L7.37 11.2c-.02.03-.14.32.05.43.19.12.4-.04.42-.07L10.2 8.3c.27-.31.51-.51.9-.32.34.18.33.61.06.97-.45.6-.8 1.13-1.16 1.64-.4.58-.8 1.15-1.28 1.8-.02.03-.13.23 0 .37.12.13.27 0 .27 0l1.9-2.3c.23-.3.48-.42.8-.25.28.14.22.58.09.8-.53.91-1.2 1.72-1.86 2.53C8.75 14.94 7.55 17 5.52 17Z\"/></svg>";
const IconClear = "<svg aria-hidden=\"true\" class=\"svg-icon iconClear\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 4.41 13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9 15 4.41Z\"/></svg>";
const IconClearSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconClearSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M12 3.41 10.59 2 7 5.59 3.41 2 2 3.41 5.59 7 2 10.59 3.41 12 7 8.41 10.59 12 12 10.59 8.41 7 12 3.41Z\"/></svg>";
const IconClock = "<svg aria-hidden=\"true\" class=\"svg-icon iconClock\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 17c-4.36 0-8-3.64-8-8 0-4.36 3.64-8 8-8 4.36 0 8 3.64 8 8 0 4.36-3.64 8-8 8Zm0-2c3.27 0 6-2.73 6-6s-2.73-6-6-6-6 2.73-6 6 2.73 6 6 6ZM8 5h1.01L9 9.36l3.22 2.1-.6.93L8 10V5Z\"/></svg>";
const IconCode = "<svg aria-hidden=\"true\" class=\"svg-icon iconCode\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M8 4.41 6.59 3l-6 6 6 6L8 13.59 3.41 9 8 4.41Zm2 0L11.41 3l6 6-6 6L10 13.59 14.59 9 10 4.41Z\"/></svg>";
const IconCodeSnippet = "<svg aria-hidden=\"true\" class=\"svg-icon iconCodeSnippet\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 2c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2Zm7.06 2.91L8.65 3.64 4.8 7.5l3.97 3.95 1.29-1.36-2.6-2.59 2.6-2.59Zm2.17-1.24-1.27 1.24 2.59 2.59-2.6 2.59 1.28 1.27L16.1 7.5l-3.86-3.83Z\"/><path  d=\"M2 3a2 2 0 0 0-2 2v10a3 3 0 0 0 3 3h10a2 2 0 0 0 2-2H4a2 2 0 0 1-2-2V3Z\" opacity=\".4\"/></svg>";
const IconCodeblock = "<svg aria-hidden=\"true\" class=\"svg-icon iconCodeblock\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 3c0-1.1.9-2 2-2h10l4 4v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3Zm9.71 2-1.4 1.41L11.88 9 9.3 11.59 10.71 13l4-4-4-4Zm-2 1.41L7.31 5l-4 4 4 4 1.4-1.41L6.12 9l2.6-2.59Z\"/></svg>";
const IconCodeblockAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconCodeblockAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.26 6.41 10.49 5 14 9l-3.5 4-1.24-1.41L11.53 9 9.26 6.41ZM7.5 5l1.24 1.41L6.47 9l2.27 2.59L7.51 13 4 9l3.5-4ZM3 1h10l4 4v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2Zm0 2v12h12V5.83L12.17 3H3Z\"/></svg>";
const IconCoins = "<svg aria-hidden=\"true\" class=\"svg-icon iconCoins\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M17 6.29c0-.29-.2-.41-.36-.29a6.15 6.15 0 0 1-6.28.01c-.16-.12-.36.03-.36.29v1.07C10 8.14 11.5 9 13.5 9S17 8.14 17 7.37V6.29Zm.03 4c0-.29-.2-.41-.36-.29a6.26 6.26 0 0 1-6.31-.02c-.16-.12-.36.04-.36.29v1.07c0 .77 1.53 1.66 3.53 1.66 2 0 3.5-.87 3.5-1.64v-1.07ZM16.67 14c.16-.11.36 0 .36.29v1.07c0 .77-1.5 1.64-3.5 1.64S10 16.15 10 15.38v-1.07c0-.25.2-.4.36-.29a6.1 6.1 0 0 0 6.31-.02ZM8 14.29c0-.29-.2-.4-.36-.29a6.06 6.06 0 0 1-6.28.02c-.16-.11-.36.04-.36.29v1.07C1 16.15 2.5 17 4.5 17S8 16.15 8 15.36v-1.07Z\"/><path fill=\"#FFA836\" d=\"M13.49 1.15c-2 0-3.49.98-3.49 1.85 0 .84 1.5 1.84 3.5 1.84S17 3.84 17 3c0-.87-1.51-1.85-3.51-1.85Zm-9 8.01c-2 0-3.49.97-3.49 1.84 0 .87 1.47 1.87 3.47 1.87S8 11.87 8 11c0-.87-1.51-1.84-3.51-1.84Z\"/></svg>";
const IconCollection = "<svg aria-hidden=\"true\" class=\"svg-icon iconCollection\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 3a2 2 0 0 0-2 2v7c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm0 2.5c0-.28.22-.5.5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5ZM5.5 8h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1ZM5 11.5c0-.28.22-.5.5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Z\"/><path  d=\"M15.09 15H4.74A2.75 2.75 0 0 1 2 12.23V4.9c-.61.59-1 1.42-1 2.34v5.5C1 14.54 2.45 16 4.24 16h8.5c.92 0 1.76-.38 2.35-1Z\" opacity=\".4\"/></svg>";
const IconColumns = "<svg aria-hidden=\"true\" class=\"svg-icon iconColumns\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 16h4V2H1v14Zm6 0h4V2H7v14Zm6 0V2h4v14h-4Z\"/></svg>";
const IconComputer = "<svg aria-hidden=\"true\" class=\"svg-icon iconComputer\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-4l1 2v1H6v-1l1-2H3a2 2 0 0 1-2-2V4Zm2 7h12V4H3v7Z\"/></svg>";
const IconConfluence = "<svg aria-hidden=\"true\" class=\"svg-icon iconConfluence\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"url(#Confluencea)\" d=\"m1.58 12.74-.5.83a.5.5 0 0 0 .16.7l3.31 2.03a.5.5 0 0 0 .7-.17l.5-.82c1.3-2.17 2.62-1.9 5-.77l3.28 1.56a.51.51 0 0 0 .69-.25l1.57-3.56a.5.5 0 0 0-.25-.67 399 399 0 0 1-3.3-1.57C8.26 7.88 4.47 8.02 1.57 12.74Z\"/><path fill=\"url(#Confluenceb)\" d=\"m16.42 4.65.5-.83a.5.5 0 0 0-.16-.7L13.45 1.1a.5.5 0 0 0-.73.16l-.49.82c-1.3 2.17-2.63 1.9-5 .77L3.96 1.28a.5.5 0 0 0-.69.26L1.7 5.1a.5.5 0 0 0 .25.67c.7.32 2.07.97 3.3 1.57 4.48 2.17 8.27 2.02 11.17-2.7Z\"/><defs><linearGradient id=\"Confluencea\" x1=\"16.2\" x2=\"6.19\" y1=\"17.34\" y2=\"11.58\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#0050D3\"/><stop offset=\".94\" stop-color=\"#007FFC\"/><stop offset=\"1\" stop-color=\"#0082FF\"/></linearGradient><linearGradient id=\"Confluenceb\" x1=\"1.79\" x2=\"11.81\" y1=\".02\" y2=\"5.77\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#0050D3\"/><stop offset=\".94\" stop-color=\"#007FFC\"/><stop offset=\"1\" stop-color=\"#0082FF\"/></linearGradient></defs></svg>";
const IconCopy = "<svg aria-hidden=\"true\" class=\"svg-icon iconCopy\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M5 6c0-1.09.91-2 2-2h4.5L15 7.5V15c0 1.09-.91 2-2 2H7c-1.09 0-2-.91-2-2V6Zm6-1.25V8h3.25L11 4.75Z\"/><path  d=\"M10 1a2 2 0 0 1 2 2H6a2 2 0 0 0-2 2v9a2 2 0 0 1-2-2V4a3 3 0 0 1 3-3h5Z\" opacity=\".4\"/></svg>";
const IconCreditCard = "<svg aria-hidden=\"true\" class=\"svg-icon iconCreditCard\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 3h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 6v4h12V9H3Zm0-3h12V5H3v1Z\"/></svg>";
const IconCrosshairs = "<svg aria-hidden=\"true\" class=\"svg-icon iconCrosshairs\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM9 0a1 1 0 0 0-1 1v1.07A7 7 0 0 0 2.07 8H1a1 1 0 1 0 0 2h1.07A7 7 0 0 0 8 15.93V17a1 1 0 1 0 2 0v-1.07A7 7 0 0 0 15.93 10H17a1 1 0 1 0 0-2h-1.07A7 7 0 0 0 10 2.07V1a1 1 0 0 0-1-1Zm5 9A5 5 0 1 1 4 9a5 5 0 0 1 10 0Z\"/></svg>";
const IconCurrency = "<svg aria-hidden=\"true\" class=\"svg-icon iconCurrency\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#5FBA7D\" d=\"M13.92 3H4c.07-.6.62-1.05 1.22-1h7.48c.6-.05 1.15.4 1.22 1Zm.57 1c.6-.05 1.15.4 1.22 1H2.29c.07-.6.6-1.04 1.2-1h11ZM1 7h16a1.14 1.14 0 0 0-1.22-1H2.22c-.6-.05-1.15.4-1.22 1Zm1.5 1C1.67 8 1 8.67 1 9.5v5c0 .83.67 1.5 1.5 1.5h13c.83 0 1.5-.67 1.5-1.5v-5c0-.83-.67-1.5-1.5-1.5h-13ZM5 15a3 3 0 1 1 0-6h8a3 3 0 1 1 0 6H5Z\"/><path fill=\"var(--black-600)\" d=\"M9 13.9a1.9 1.9 0 1 0 0-3.8 1.9 1.9 0 0 0 0 3.8Z\"/></svg>";
const IconDevTo = "<svg aria-hidden=\"true\" class=\"svg-icon iconDevTo\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#010101\" d=\"M15 1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h12Zm-3 5.02h-1.18l1.4 5.24c.36.86 1.16 1.1 1.65.13l.06-.13 1.39-5.24h-1.18l-1.07 4.12L12 6.02Zm-1.96 0H7.75a.72.72 0 0 0-.7.65l-.01.1v4.53c0 .37.29.67.65.7l.1.01h2.25v-1.07H8.1V9.26h1.18V8.19H8.1v-1.1h1.93V6.02Zm-5.32 0H3v5.99h1.68c1.33 0 1.75-1.03 1.75-1.71V7.73c0-.68-.43-1.71-1.71-1.71Zm.06 1.12a.7.7 0 0 1 .42.16c.14.1.21.26.21.47v2.52c0 .21-.07.37-.2.47a.7.7 0 0 1-.43.16h-.63V7.14h.63Z\"/></svg>";
const IconDiff = "<svg aria-hidden=\"true\" class=\"svg-icon iconDiff\" width=\"12\" height=\"18\"  viewBox=\"0 0 12 18\"><path  d=\"M5 1h2v4h4v2H7v4H5V7H1V5h4V1Zm6 14H1v2h10v-2Z\"/></svg>";
const IconDiscord = "<svg aria-hidden=\"true\" class=\"svg-icon iconDiscord\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#5865F2\" d=\"M15.24 3.14A14.84 14.84 0 0 0 11.57 2c-.02 0-.04 0-.05.03-.16.28-.34.65-.46.94a13.7 13.7 0 0 0-4.12 0c-.12-.3-.3-.66-.46-.94A.06.06 0 0 0 6.42 2a14.8 14.8 0 0 0-3.69 1.16A15.2 15.2 0 0 0 .1 13.45a14.93 14.93 0 0 0 4.5 2.27c.02 0 .04 0 .06-.02.34-.48.65-.97.92-1.5a.06.06 0 0 0-.04-.08 9.83 9.83 0 0 1-1.4-.67.06.06 0 0 1 0-.1l.27-.21a.06.06 0 0 1 .06-.01 10.64 10.64 0 0 0 9.05 0h.06l.28.23c.03.02.03.07 0 .1-.46.25-.92.48-1.41.66a.06.06 0 0 0-.03.08c.27.52.57 1.02.91 1.5.02.02.04.02.07.02a14.88 14.88 0 0 0 4.52-2.32 15.1 15.1 0 0 0-2.68-10.26Zm-9.22 8.22c-.9 0-1.62-.82-1.62-1.82s.71-1.81 1.62-1.81c.9 0 1.63.82 1.61 1.81 0 1-.71 1.82-1.61 1.82Zm5.98 0c-.9 0-1.62-.82-1.62-1.82s.71-1.81 1.62-1.81c.9 0 1.63.82 1.61 1.81 0 1-.7 1.82-1.61 1.82Z\"/></svg>";
const IconDocument = "<svg aria-hidden=\"true\" class=\"svg-icon iconDocument\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 3a2 2 0 0 1 2-2h6l4 4v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3Zm7-1.5V6h4.5L10 1.5Z\"/></svg>";
const IconDocumentAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconDocumentAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 3a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm2 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-2 4.5c0-.28.22-.5.5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm.5 1.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1ZM5 14.5c0-.28.22-.5.5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Z\"/><path  d=\"M5.9 2h6.35A2.75 2.75 0 0 1 15 4.75v9.35c.62-.6 1-1.43 1-2.35v-7.5C16 2.45 14.54 1 12.75 1h-4.5c-.92 0-1.75.38-2.35 1Z\" opacity=\".4\"/></svg>";
const IconDownload = "<svg aria-hidden=\"true\" class=\"svg-icon iconDownload\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 7h-4V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v5H2l7 7 7-7ZM2 15v2h14v-2H2Z\"/></svg>";
const IconDownloadSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconDownloadSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M12.5 5H9V1H5v4H1.5L7 10.5 12.5 5ZM1 11v2h12v-2H1Z\"/></svg>";
const IconDropbox = "<svg aria-hidden=\"true\" class=\"svg-icon iconDropbox\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#0061FF\" d=\"M4.55 1.77.09 4.6l4.46 2.83L9 4.61l4.45 2.83 4.46-2.83-4.46-2.84L9 4.6 4.55 1.77Zm0 11.35L.09 10.28l4.46-2.84L9 10.28l4.45-2.84 4.46 2.84-4.46 2.84L9 10.28l-4.45 2.84ZM9 16.9l-4.45-2.84L9 11.22l4.45 2.84L9 16.9Z\"/></svg>";
const IconEllipsisHorizontal = "<svg aria-hidden=\"true\" class=\"svg-icon iconEllipsisHorizontal\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M3.5 10a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3ZM12 8.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z\"/></svg>";
const IconEllipsisVertical = "<svg aria-hidden=\"true\" class=\"svg-icon iconEllipsisVertical\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M7 4.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM8.5 13a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z\"/></svg>";
const IconEye = "<svg aria-hidden=\"true\" class=\"svg-icon iconEye\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.06 3C4 3 1 9 1 9s3 6 8.06 6C14 15 17 9 17 9s-3-6-7.94-6ZM9 13a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-2a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2Z\"/></svg>";
const IconEyeOff = "<svg aria-hidden=\"true\" class=\"svg-icon iconEyeOff\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m5.02 9.44-2.22 2.2C1.63 10.25 1 9 1 9s3-6 8.06-6c.75 0 1.46.14 2.12.38L9.5 5.03a4.01 4.01 0 0 0-4.48 4.41Zm2.03 3.05A3.99 3.99 0 0 0 13 9c0-.73-.2-1.41-.54-2l-1.51 1.54a2 2 0 0 1-2.38 2.42l-1.52 1.53Zm7.11-7.22A14.8 14.8 0 0 1 17 9s-3 6-7.94 6c-1.31 0-2.48-.4-3.5-1l-1.97 2L2 14.41 14.59 2 16 3.41l-1.84 1.86Z\"/></svg>";
const IconEyeOffSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconEyeOffSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M3.52 7.38 1.58 9.26A12.38 12.38 0 0 1 0 7s2.63-5.14 7.05-5.14c.66 0 1.28.12 1.86.32L7.44 3.6a3.48 3.48 0 0 0-3.92 3.78ZM5.3 9.99c.5.28 1.1.44 1.71.44 1.94 0 3.5-1.53 3.5-3.43 0-.62-.17-1.21-.47-1.72L8.7 6.6a1.73 1.73 0 0 1-2.08 2.07L5.29 10Zm6.23-6.19A12.7 12.7 0 0 1 14 7s-2.63 5.14-6.95 5.14A6.1 6.1 0 0 1 4 11.3L2.27 13l-1.4-1.36L11.9 1l1.23 1.2-1.6 1.6Z\"/></svg>";
const IconEyeSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconEyeSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7.05 2C2.63 2 0 7.5 0 7.5S2.63 13 7.05 13C11.38 13 14 7.5 14 7.5S11.37 2 7.05 2ZM7 11.17A3.59 3.59 0 0 1 3.5 7.5 3.6 3.6 0 0 1 7 3.83c1.94 0 3.5 1.65 3.5 3.67A3.57 3.57 0 0 1 7 11.17Zm0-1.84c.97 0 1.75-.81 1.75-1.83S7.97 5.67 7 5.67s-1.75.81-1.75 1.83S6.03 9.33 7 9.33Z\"/></svg>";
const IconEyes = "<svg aria-hidden=\"true\" class=\"svg-icon iconEyes\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#888\" d=\"M9.5 3.44A4.5 4.5 0 0 0 1 5.5v8a4.5 4.5 0 0 0 8.5 2.06A4.5 4.5 0 0 0 18 13.5v-8a4.5 4.5 0 0 0-8.5-2.06ZM9 5.5v8a3.5 3.5 0 1 1-7 0v-8a3.5 3.5 0 1 1 7 0Zm1 8v-8a3.5 3.5 0 1 1 7 0v8a3.5 3.5 0 1 1-7 0Z\" opacity=\".4\"/><path fill=\"#8E8E8E\" d=\"M5.5 2A3.5 3.5 0 0 1 9 5.5v8a3.5 3.5 0 1 1-7 0v-8A3.5 3.5 0 0 1 5.5 2Zm8 0A3.5 3.5 0 0 1 17 5.5v8a3.5 3.5 0 1 1-7 0v-8A3.5 3.5 0 0 1 13.5 2Z\" opacity=\".1\"/><path fill=\"var(--black-600)\" d=\"M4.44 10.44A1.5 1.5 0 0 1 7 11.5v2a1.5 1.5 0 0 1-3 0v-2c0-.4.16-.78.44-1.06Zm8 0A1.5 1.5 0 0 1 15 11.5v2a1.5 1.5 0 1 1-3 0v-2c0-.4.16-.78.44-1.06Z\"/></svg>";
const IconFaceFrown = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceFrown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M5.65 5c-.37 0-.64.35-.65.7v.55C5 7.1 5.6 7.97 6.5 8c.91 0 1.52-.9 1.5-1.75v-.54c0-.36-.27-.72-.66-.71H5.65Zm7.22 6.64A4.7 4.7 0 0 0 9.02 10a4.7 4.7 0 0 0-3.86 1.64c-.25.33-.24 1.11 0 1.43.22.32.59.42.96.42 1.9-.15 3.8-.15 5.7 0 .38.05.77-.11.98-.4.25-.3.29-1.1.07-1.45ZM10.66 5h1.7c.33 0 .63.33.64.7v.55c.02.85-.59 1.73-1.5 1.75-.9-.03-1.5-.9-1.5-1.75v-.54c0-.36.28-.72.66-.71Z\"/></svg>";
const IconFaceJoy = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceJoy\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M7.35 8A.71.71 0 0 0 8 7.28v-.9C8 5.5 7.35 4.6 6.48 4.6 5.56 4.6 5 5.5 5 6.39v.89c-.02.36.29.7.65.72h1.7Zm5.07 2c-2.27.26-4.55.26-6.82 0-.83-.1-1.45.8-1.09 1.55A5.06 5.06 0 0 0 9 14c1.92 0 3.6-.87 4.52-2.46a1.1 1.1 0 0 0-1.1-1.54Zm-.07-2h-1.7a.71.71 0 0 1-.65-.72v-.89c0-.89.58-1.79 1.48-1.79.87 0 1.52.9 1.52 1.78v.9c.02.36-.29.7-.65.72Z\"/></svg>";
const IconFaceMindBlown = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceMindBlown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFAA3B\" d=\"M1.06 8a8 8 0 1 0 15.88 0H16l-1 .5-1-.5h-1.5l-1.5.5L9 8l-.5.5-1-.5H6l-1 .5-.5-.5h-1l-.5.5L2 8h-.94Z\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M3.5 8h.41a11.5 11.5 0 0 0 10.38 7A8 8 0 0 1 1.06 8H2l1 .5.5-.5Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M6.07 14.68a.7.7 0 0 0 .67.28c1.5-.16 3.01-.16 4.51 0a.71.71 0 0 0 .67-.28.7.7 0 0 0 .06-.72A3.23 3.23 0 0 0 9 12.36a3.3 3.3 0 0 0-3 1.6.7.7 0 0 0 .07.72Z\"/><path fill=\"#F75D37\" d=\"M7.36 4.37c.18.23.4.42.68.55a2.19 2.19 0 0 0 1.95 0c.26-.13.48-.31.65-.53.15.93.36 2.29.36 2.61 0 .5-4 .5-4 0 0-.32.21-1.7.36-2.63Z\"/><path fill=\"#FFC166\" d=\"M15.33 2.43a2.8 2.8 0 0 0-1.73-.53c-.06-.4-.28-.76-.64-1.05-.35-.26-.8-.44-1.27-.5-.49-.06-.98 0-1.42.16A2.9 2.9 0 0 0 8.4.08c-.39.05-.75.17-1.06.36A3.04 3.04 0 0 0 6.02.37c-.8.13-1.48.6-1.72 1.2-.11.27-.13.55-.07.83-.77.07-1.47.45-1.8.99-.6.98.26 2.4 1.6 2.6.97.14 2.13-.15 2.63-.79.22-.27.33-.58.34-.9.21.26.5.47.86.62a2.92 2.92 0 0 0 2.28 0c.35-.15.64-.37.85-.63.04.43.27.83.65 1.14a2.93 2.93 0 0 0 3.03.25c.81-.42 1.42-1.42 1.32-2.16-.05-.41-.28-.8-.66-1.09Z\" opacity=\".67\"/><path fill=\"#FFC166\" d=\"M7.4 2c1.19 0 2.3-.2 3.26-.55.9 1.2 2.88 2.13 5.32 2.44A2.61 2.61 0 0 1 13.1 6a2.68 2.68 0 0 1-1.45-.56A1.65 1.65 0 0 1 11 4.3c-.2.26-.5.48-.85.63a2.92 2.92 0 0 1-2.28 0A2.21 2.21 0 0 1 7 4.3c0 .32-.12.63-.34.9-.5.64-1.66.93-2.62.78-1.35-.2-2.22-1.6-1.6-2.6a2.36 2.36 0 0 1 1.79-.98 1.4 1.4 0 0 1 .1-.88c.9.3 1.95.48 3.07.48Z\" opacity=\".78\"/><path fill=\"#F75D37\" d=\"M11.09 3.47a7.43 7.43 0 0 1-5.43.05c-1 .27-2.17.44-3.42.47-.06.88.71 1.83 1.8 2 .96.14 2.12-.15 2.62-.79.22-.27.33-.58.34-.9.21.26.5.47.86.62a2.92 2.92 0 0 0 2.28 0c.35-.15.64-.37.85-.63.04.43.27.83.65 1.14a2.93 2.93 0 0 0 3.03.25c.35-.18.66-.47.9-.8a11.57 11.57 0 0 1-4.48-1.4Z\" opacity=\".52\"/><circle cx=\"11\" cy=\"10.5\" r=\"1.35\" fill=\"var(--black-600)\"/><circle cx=\"7\" cy=\"10.5\" r=\"1.35\" fill=\"var(--black-600)\"/><circle cx=\"3.5\" cy=\"6.5\" r=\".5\"  opacity=\".6\"/><circle cx=\"14.5\" cy=\".5\" r=\".5\"  opacity=\".6\"/><circle cx=\"14.5\" cy=\"6.5\" r=\".5\"  opacity=\".6\"/><circle cx=\"16.5\" cy=\"4.5\" r=\".5\"  opacity=\".6\"/><circle cx=\"3.5\" cy=\".5\" r=\".5\"  opacity=\".6\"/><circle cx=\"1.5\" cy=\"3.5\" r=\".5\"  opacity=\".6\"/></svg>";
const IconFaceNeutral = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceNeutral\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M6.5 8a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm-5.25 2a1.25 1.25 0 1 0 0 2.5h5.5a1.25 1.25 0 1 0 0-2.5h-5.5Z\"/></svg>";
const IconFaceSad = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceSad\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M6.5 8a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm6.05 3.05a6.56 6.56 0 0 0-7.1 0c-.35.24-.52.73-.42 1.16.15.6.82.99 1.38.63a4.78 4.78 0 0 1 5.12 0 .93.93 0 0 0 1.32-.34c.27-.47.15-1.14-.3-1.45ZM13 6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/></svg>";
const IconFaceShocked = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceShocked\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M6.5 7.55c.86 0 1.56-.7 1.56-1.55a1.56 1.56 0 0 0-3.12 0c0 .86.7 1.55 1.56 1.55ZM9 14.62A2.56 2.56 0 1 0 9 9.5a2.56 2.56 0 0 0 0 5.12ZM13.06 6a1.56 1.56 0 0 1-3.12 0 1.56 1.56 0 0 1 3.12 0Z\"/></svg>";
const IconFaceSmile = "<svg aria-hidden=\"true\" class=\"svg-icon iconFaceSmile\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><circle cx=\"9\" cy=\"9\" r=\"8\" fill=\"#FFAA3B\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M8.41 17a10 10 0 0 1 .38-15.75c.1-.08.2-.16.28-.25a8 8 0 0 0-.66 16Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M6.5 8a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm2.6 6a7.37 7.37 0 0 1-4.79-2.06 1.1 1.1 0 0 1 0-1.54c.42-.51 1.15-.51 1.67-.1.31.3 3.23 2.88 6.14 0a1.06 1.06 0 0 1 1.57.1 1.1 1.1 0 0 1 0 1.54C12.13 13.38 10.56 14 9.1 14ZM13 6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/></svg>";
const IconFacebook = "<svg aria-hidden=\"true\" class=\"svg-icon iconFacebook\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#4167B2\" d=\"M3 1a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3Zm6.55 16v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h-2.5Z\"/></svg>";
const IconFemale = "<svg aria-hidden=\"true\" class=\"svg-icon iconFemale\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M4 6a5 5 0 0 0 4 4.9V13H6v2h2v2h2v-2h2v-2h-2v-2.1A5 5 0 1 0 4 6Zm8 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"/></svg>";
const IconFigma = "<svg aria-hidden=\"true\" class=\"svg-icon iconFigma\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#0ACF83\" d=\"M5.5 17A2.5 2.5 0 0 0 8 14.5V12H5.5a2.5 2.5 0 0 0 0 5Z\"/><path fill=\"#A259FF\" d=\"M3 8.5A2.5 2.5 0 0 1 5.5 6H8v5H5.5A2.5 2.5 0 0 1 3 8.5Z\"/><path fill=\"#F24E1E\" d=\"M3 2.5A2.5 2.5 0 0 1 5.5 0H8v5H5.5A2.5 2.5 0 0 1 3 2.5Z\"/><path fill=\"#FF7262\" d=\"M9 0h2.5a2.5 2.5 0 0 1 0 5H9V0Z\"/><path fill=\"#1ABCFE\" d=\"M14 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z\"/></svg>";
const IconFilter = "<svg aria-hidden=\"true\" class=\"svg-icon iconFilter\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M2 4h14v2H2V4Zm2 4h10v2H4V8Zm8 4H6v2h6v-2Z\"/></svg>";
const IconFire = "<svg aria-hidden=\"true\" class=\"svg-icon iconFire\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FF6700\" d=\"M13.18 9c-.8.33-1.46.6-1.97 1.3A9.21 9.21 0 0 0 10 13.89a10 10 0 0 0 1.32-.8 2.53 2.53 0 0 1-.63 2.91h.78a3 3 0 0 0 1.66-.5 4.15 4.15 0 0 0 1.26-1.61c.4-.96.47-1.7.55-2.73.05-1.24-.1-2.49-.46-3.68a2 2 0 0 1-.4.91 2.1 2.1 0 0 1-.9.62Z\" opacity=\".6\"/><path fill=\"#EF2E2E\" d=\"M10.4 12.11a7.1 7.1 0 0 1 .78-1.76c.3-.47.81-.8 1.37-1.08 0 0-.05-3.27-1.55-5.27-1.5-2-3.37-2.75-4.95-2.61 0 0 4.19 2.94 1.18 5.67-2.14 1.92-3.64 3.81-3.1 5.94a4.14 4.14 0 0 0 3.1 3 4.05 4.05 0 0 1 1.08-3.89C9.42 10.92 8 9.79 8 9.79c.67.02 1.3.28 1.81.72a2 2 0 0 1 .58 1.6Z\"/></svg>";
const IconFireSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconFireSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M6.21 0c.68 1.84.34 2.87-.43 3.65-.82.89-2.13 1.55-3.03 2.84C1.55 8.22 1.33 12.01 5.7 13c-1.83-.98-2.22-3.82-.25-5.59-.5 1.72.45 2.82 1.62 2.42 1.16-.4 1.92.45 1.9 1.41-.02.66-.26 1.22-.95 1.53A4.72 4.72 0 0 0 12 8.07c0-2.4-2.11-2.72-1.04-4.74-1.27.11-1.7.96-1.58 2.32.08.92-.85 1.53-1.55 1.13-.56-.35-.55-1-.05-1.5C8.82 4.22 9.24 1.81 6.21.01L6.2 0h.01Z\"/></svg>";
const IconFitness = "<svg aria-hidden=\"true\" class=\"svg-icon iconFitness\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15.57 9.86 17 8.43 15.57 7 12 10.57 7.43 6 11 2.43 9.57 1 8.14 2.43 6.71 1 4.57 3.14 3.14 1.71 1.71 3.14l1.43 1.43L1 6.71l1.43 1.43L1 9.57 2.43 11 6 7.43 10.57 12 7 15.57 8.43 17l1.43-1.43L11.29 17l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L17 11.29l-1.43-1.43Z\"/></svg>";
const IconFlag = "<svg aria-hidden=\"true\" class=\"svg-icon iconFlag\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2H3Z\"/></svg>";
const IconFlagGermany = "<svg aria-hidden=\"true\" class=\"svg-icon iconFlagGermany\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 5c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v2H1V5Z\"/><path fill=\"#D00\" d=\"M1 7h16v4H1z\"/><path fill=\"#FFCE00\" d=\"M1 11h16v2a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-2Z\"/></svg>";
const IconFlagSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconFlagSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 2v10h2V8h2.6L7 9h4V3H7.5L7 2H2Z\"/></svg>";
const IconFlagUnitedKingdom = "<svg aria-hidden=\"true\" class=\"svg-icon iconFlagUnitedKingdom\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><rect width=\"16\" height=\"12\" x=\"1\" y=\"3\" fill=\"#3F51B5\" rx=\"2\"/><path fill=\"#FEFEFE\" d=\"M7 5.28 4.08 3H3a2 2 0 0 0-.89.2L7 7H5.39L1.34 3.88l.02-.02a2 2 0 0 0-.3.65L4.31 7H1v1h7V3H7v2.28ZM1 11v-1h7v5H7v-3.14L2.9 15a2 2 0 0 1-.8-.21L7 11H5.38l-4.03 3.11A2 2 0 0 1 1 13v-.33L3.14 11H1Zm9 4h1v-2.3l2.95 2.3H15a2 2 0 0 0 .9-.22L11 11h1.64l4.02 3.1c.13-.18.23-.4.28-.62L13.71 11H17v-1h-7v5Zm1-12v3.15L15.11 3c.29.02.55.1.8.22L11 7h1.64l4.02-3.1A2 2 0 0 1 17 5v.33L14.86 7H17v1h-7V3h1Z\"/><path fill=\"#E53935\" d=\"M10 3H8v5H1v2h7v5h2v-5h7V8h-7V3Zm-7.89.2a2 2 0 0 0-.75.66l-.02.02L5.4 7H7v-.02L2.11 3.21Zm-.77 10.91a2 2 0 0 0 .76.68L7 11H5.38l-4.03 3.11Zm15.32-.01a2 2 0 0 1-.76.68L11 11h1.64l4.02 3.1ZM12.64 7l4.02-3.1a2 2 0 0 0-.76-.68L11 7h1.64Z\"/></svg>";
const IconFlagUnitedStates = "<svg aria-hidden=\"true\" class=\"svg-icon iconFlagUnitedStates\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><rect width=\"16\" height=\"12\" x=\"1\" y=\"3\" fill=\"#FEFEFE\" rx=\"2\"/><path fill=\"#0B327C\" d=\"M1 5c0-1.1.9-2 2-2h6v5H1V5Z\"/><path fill=\"red\" d=\"M17 5H9v1h8V5Zm-2-2H9v1h7.73A2 2 0 0 0 15 3Zm2 4H9v1h8V7Zm0 2v1H1V9h16Zm0 2v1H1v-1h16Zm-.27 3a2 2 0 0 0 .27-.99V13H1c0 .36.1.7.27 1h15.46Z\"/></svg>";
const IconFloat = "<svg aria-hidden=\"true\" class=\"svg-icon iconFloat\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#AFAFAF\" d=\"M11 6V1.08c-1.3-.16-2.7-.16-4 0V6a14.1 14.1 0 0 1 4 0ZM1.08 7H6a14.11 14.11 0 0 0 0 4H1.08c-.16-1.3-.16-2.7 0-4Zm15.84 0H12a14.1 14.1 0 0 1 0 4h4.92c.16-1.34.16-2.67 0-4ZM7 16.92V12c1.33.19 2.67.19 4 0v4.92c-1.34.16-2.7.16-4 0Z\" opacity=\".4\"/><path fill=\"#F75D37\" d=\"M7 5.51c-.3.18-.6.4-.85.64a4.4 4.4 0 0 0-.64.85H1.26A8 8 0 0 1 7 1.26v4.25ZM12.45 7c-.34-.6-.85-1.1-1.45-1.45V1.26A8 8 0 0 1 16.74 7h-4.29Zm0 4c-.34.6-.85 1.1-1.45 1.45v4.29A8 8 0 0 0 16.74 11h-4.29Zm-6.9 0c.34.6.85 1.1 1.45 1.45v4.29A8 8 0 0 1 1.26 11h4.29Z\"/></svg>";
const IconFood = "<svg aria-hidden=\"true\" class=\"svg-icon iconFood\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7 7h1V1h2v6c0 1.7-1.33 2.9-3 3v7H5v-7c-1.67-.1-3-1.3-3-3V1h2v6h1V1h2v6Zm5 3V4.2C12 2.8 13.8 1 16 1v16h-2v-7h-2Z\"/></svg>";
const IconFour = "<svg aria-hidden=\"true\" class=\"svg-icon iconFour\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M11.03 11.98h1.29v1.85h-1.29V16H9v-2.17H4.1L4 12.12l4.75-7.5h2.28v7.36Zm-4.77 0H9V7.7l-.38.26-2.36 4.02ZM16.25 15a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\" opacity=\".2\"/><path  d=\"M9.03 10.98h1.29v1.85H9.03V15H7v-2.17H2.1L2 11.12l4.75-8.03h2.28V11Zm-4.77 0H7V6.6l-.38.26-2.36 4.13ZM14.25 14a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\"/></svg>";
const IconFourLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconFourLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M22 24h2.98v4H22v3.97h-3.92V28h-10l-.2-3.88 9.7-15.15H22V24Zm-9.52-.15h5.6v-8.66l-.76.52-4.84 8.14ZM31 30a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\" opacity=\".2\"/><path  d=\"M19 22.06h3V26h-3v4.16h-4.04V26h-10l-.21-3.67 9.7-16.17H19v15.9Zm-9.65 0h5.61v-8.85l-.77.52-4.84 8.33ZM29 28a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"/></svg>";
const IconGear = "<svg aria-hidden=\"true\" class=\"svg-icon iconGear\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m14.53 6.3.28.67C17 7.77 17 7.86 17 8.12V9.8c0 .26 0 .35-2.18 1.22l-.27.66c.98 2.11.91 2.18.73 2.37l-1.3 1.29h-.15c-.2 0-.91-.27-2.14-.8l-.66.27C10.23 17 10.13 17 9.88 17H8.2c-.26 0-.35 0-1.21-2.18l-.67-.27c-1.81.84-2.03.84-2.1.84h-.14l-.12-.1-1.19-1.2c-.18-.18-.24-.25.7-2.4l-.28-.65C1 10.24 1 10.14 1 9.88V8.2c0-.27 0-.35 2.18-1.21l.27-.66c-.98-2.12-.91-2.19-.72-2.39l1.28-1.28h.16c.2 0 .91.28 2.14.8l.66-.27C7.77 1 7.87 1 8.12 1H9.8c.26 0 .34 0 1.2 2.18l.67.28c1.82-.84 2.03-.84 2.1-.84h.14l.12.1 1.2 1.19c.18.18.24.25-.7 2.4Zm-8.4 3.9a3.1 3.1 0 1 0 5.73-2.4 3.1 3.1 0 0 0-5.72 2.4Z\"/></svg>";
const IconGearSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconGearSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m8.17 11.42-.39 1.53a6.07 6.07 0 0 1-1.58 0l-.39-1.53c-.39-.1-.75-.26-1.1-.46l-1.35.8c-.42-.31-.8-.69-1.12-1.1l.8-1.37c-.2-.34-.35-.7-.46-1.1L1.05 7.8a6.06 6.06 0 0 1 0-1.57l1.53-.4c.1-.4.25-.76.45-1.11l-.8-1.36c.32-.42.7-.8 1.1-1.11l1.36.8c.35-.2.73-.36 1.13-.47l.4-1.53a6.06 6.06 0 0 1 1.55 0l.4 1.53c.4.1.78.26 1.13.47l1.36-.8c.41.31.78.68 1.1 1.1l-.8 1.36c.2.35.36.73.46 1.13l1.53.39a6.06 6.06 0 0 1 0 1.57l-1.53.39c-.1.4-.27.77-.47 1.11l.8 1.36c-.32.42-.7.8-1.11 1.11l-1.36-.8c-.34.2-.71.35-1.1.45ZM7 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"/></svg>";
const IconGitHub = "<svg aria-hidden=\"true\" class=\"svg-icon iconGitHub\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#010101\" d=\"M9 1a8 8 0 0 0-2.53 15.59c.4.07.55-.17.55-.38l-.01-1.49c-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82a7.42 7.42 0 0 1 4 0c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48l-.01 2.2c0 .21.15.46.55.38A8.01 8.01 0 0 0 9 1Z\"/></svg>";
const IconGitLab = "<svg aria-hidden=\"true\" class=\"svg-icon iconGitLab\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#E65328\" d=\"m17 10-1-3-2-6c-.19-.07.21-.07 0 0l-2 6H6L4 1c-.21-.07.19-.07 0 0L2 7l-1 3c-.05-.17.04.11 0 0l8 6 8-6c.05-.17-.04.11 0 0Z\"/></svg>";
const IconGlobe = "<svg aria-hidden=\"true\" class=\"svg-icon iconGlobe\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1C4.64 1 1 4.64 1 9c0 4.36 3.64 8 8 8 4.36 0 8-3.64 8-8 0-4.36-3.64-8-8-8ZM8 15.32a6.46 6.46 0 0 1-4.3-2.74 6.46 6.46 0 0 1-.93-5.01L7 11.68v.8c0 .88.12 1.32 1 1.32v1.52Zm5.72-2c-.2-.66-1-1.32-1.72-1.32h-1v-2c0-.44-.56-1-1-1H6V7h1c.44 0 1-.56 1-1V5h2c.88 0 1.4-.72 1.4-1.6v-.33a6.45 6.45 0 0 1 3.83 4.51 6.45 6.45 0 0 1-1.51 5.73v.01Z\"/></svg>";
const IconGoogle = "<svg aria-hidden=\"true\" class=\"svg-icon iconGoogle\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#4285F4\" d=\"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18Z\"/><path fill=\"#34A853\" d=\"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 0 1-7.18-2.54H1.83v2.07A8 8 0 0 0 8.98 17Z\"/><path fill=\"#FBBC05\" d=\"M4.5 10.52a4.8 4.8 0 0 1 0-3.04V5.41H1.83a8 8 0 0 0 0 7.18l2.67-2.07Z\"/><path fill=\"#EA4335\" d=\"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 1.83 5.4L4.5 7.49a4.77 4.77 0 0 1 4.48-3.3Z\"/></svg>";
const IconGoogleDrive = "<svg aria-hidden=\"true\" class=\"svg-icon iconGoogleDrive\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FCCD48\" d=\"M12 11.5 6.5 2H12l5.5 9.5H12Z\"/><path fill=\"#0BA25E\" d=\"m3.5 17-3-5L6 2l3.17 5.44L3.5 17Z\"/><path fill=\"#2A71E9\" d=\"m4 17 3-5h10.5L15 17H4Z\"/></svg>";
const IconGrabber = "<svg aria-hidden=\"true\" class=\"svg-icon iconGrabber\" width=\"26\" height=\"5\"  viewBox=\"0 0 26 5\"><path  d=\"M0 0h2v2H0V0Zm3 3h2v2H3V3Zm6 0h2v2H9V3Zm6 0h2v2h-2V3Zm6 0h2v2h-2V3ZM6 0h2v2H6V0Zm6 0h2v2h-2V0Zm6 0h2v2h-2V0Zm6 0h2v2h-2V0Z\"/></svg>";
const IconGrabberVertical = "<svg aria-hidden=\"true\" class=\"svg-icon iconGrabberVertical\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 3h2v2H5V3Zm0 5h2v2H5V8Zm5 0h2v2h-2V8Zm0 5h2v2h-2v-2Zm0-10h2v2h-2V3ZM5 13h2v2H5v-2Z\"/></svg>";
const IconGraph = "<svg aria-hidden=\"true\" class=\"svg-icon iconGraph\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1h12c1.09 0 2 .91 2 2v12c0 1.09-.91 2-2 2H3c-1.09 0-2-.91-2-2V3c0-1.1.9-2 2-2Zm1 8v5h2V9H4Zm4-5v10h2V4H8Zm4 3v7h2V7h-2Z\"/></svg>";
const IconGrid = "<svg aria-hidden=\"true\" class=\"svg-icon iconGrid\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 3h5v5H3V3Zm7 0h5v5h-5V3Zm0 7h5v5h-5v-5Zm-7 0h5v5H3v-5Z\"/></svg>";
const IconHamburger = "<svg aria-hidden=\"true\" class=\"svg-icon iconHamburger\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M2 3h14v2H2V3Zm0 5h14v2H2V8Zm14 5H2v2h14v-2Z\"/></svg>";
const IconHandNice = "<svg aria-hidden=\"true\" class=\"svg-icon iconHandNice\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#07C\" d=\"M9 15.77V15h5v.77A1.23 1.23 0 0 1 12.77 17h-2.54A1.23 1.23 0 0 1 9 15.77Z\" opacity=\".7\"/><path  d=\"M6.5 2c.28 0 .5.22.5.5v1a.5.5 0 0 1-1 0v-1c0-.28.22-.5.5-.5ZM2 6.5c0-.28.22-.5.5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5Zm1.85-3.35a.5.5 0 1 0-.7.7l1 1a.5.5 0 1 0 .7-.7l-1-1Z\" opacity=\".4\"/><path fill=\"#FFC166\" d=\"M14.9 7.56v-5.7a.94.94 0 0 0-.88-.9c-.45.01-.83.44-.83.9V5.4l-2.63-4.05a.94.94 0 0 0-1.19-.4A.86.86 0 0 0 9 2.08l1.5 2.15a1.48 1.48 0 0 0-1.32.23l-1.21.94c-.86.66.26 1.97 1.09 1.37l.53-.32c.28-.16.64 0 .83.24l.82.86c.22.22.36.52.4.84.02.32-.06.77-.27 1-.21.24-.35.45-.68.59-.27.1-.57.12-.85.03L7.8 9.67c.72-2.25-1.08-2.4-1.46-1.98a4.5 4.5 0 0 0-.6 2.5C5.82 10.9 9 14 9 14h5s1.47-3.3 1.5-4.5c.03-1.2-.42-1.6-.6-1.94Z\"/></svg>";
const IconHandPointRight = "<svg aria-hidden=\"true\" class=\"svg-icon iconHandPointRight\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M6 7s1.69-.67 2.25-.86C8.81 5.95 11 5 12.5 5h3c.75 0 1.5.5 1.5 1.5S16.25 8 15.5 8h-3.28a5.28 5.28 0 0 1-.39 5.61c-.89 1.1-3.46.94-4.13.83-.66-.12-1.04-.25-1.7-.44V7Z\"/><path  d=\"M16.15 1.15a.5.5 0 0 1 .7.7l-1 1a.5.5 0 0 1-.7-.7l1-1Zm-1 9.7a.5.5 0 0 1 .7-.7l1 1a.5.5 0 0 1-.7.7l-1-1Zm-5.3-9.7a.5.5 0 1 0-.7.7l1 1a.5.5 0 0 0 .7-.7l-1-1Z\" opacity=\".4\"/><path fill=\"#07C\" d=\"M2 8.5C2 7.67 2.67 7 3.5 7H5v7H3.5A1.5 1.5 0 0 1 2 12.5v-4Z\" opacity=\".7\"/></svg>";
const IconHandRock = "<svg aria-hidden=\"true\" class=\"svg-icon iconHandRock\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M14.14 7.86c-.5.3-.97.66-1.38 1.1-.27.25-.35.7-.67.48-.26-.19-.35-1.21-.28-1.85.06-.64.2-2.45.22-3.07.02-.61.38-2.11-.71-2.26-1.09-.15-1.24 1.64-1.37 2.5-.13.87-.49 2.54-.49 2.54a.79.79 0 0 0-.8-.44C8.08 6.94 8 7.44 8 7.9a.74.74 0 0 0-.74-.66.78.78 0 0 0-.77.66l-1.4-3.14c-.38-1.15-2.08-.24-1.57.89.49 1.18.89 2.4 1.2 3.63.18.92.22 1.54.37 2.45.23.72.41 1.71.91 2.27h5c.76-.66 1.41-1.42 1.95-2.27.6-.9 1.32-1.76 1.88-2.66.45-.74.31-1.68-.69-1.21Z\"/><path fill=\"#07C\" d=\"M6 15.77V15h5v.77c0 .67-.55 1.23-1.21 1.23H7.2c-.65 0-1.2-.56-1.2-1.23Z\" opacity=\".7\"/><path  d=\"M7.5 0c.28 0 .5.22.5.5v1a.5.5 0 0 1-1 0v-1c0-.28.22-.5.5-.5ZM0 8.5c0-.28.22-.5.5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5ZM16.5 8a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1ZM1.15 2.15c.2-.2.5-.2.7 0l1 1a.5.5 0 1 1-.7.7l-1-1a.5.5 0 0 1 0-.7Zm13.7.7a.5.5 0 0 0-.7-.7l-1 1a.5.5 0 0 0 .7.7l1-1Z\" opacity=\".4\"/></svg>";
const IconHandsTogether = "<svg aria-hidden=\"true\" class=\"svg-icon iconHandsTogether\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3.85 1.15a.5.5 0 1 0-.7.7l2 2a.5.5 0 1 0 .7-.7l-2-2ZM5.5 6h-2a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1Zm10 1h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Zm.35-5.15a.5.5 0 0 0-.7-.7l-2 2a.5.5 0 0 0 .7.7l2-2Z\" opacity=\".4\"/><path fill=\"#FFC166\" d=\"M8.21 16.49c-.44.37-1.02.55-1.6.51H5v-6h2l1-7.63c0-.2.23-.37.5-.37s.5.17.5.37V15a2.23 2.23 0 0 1-.79 1.49Zm2.58 0c.44.37 1.02.55 1.6.51H14v-6h-2l-1-7.63c0-.2-.23-.37-.5-.37s-.5.17-.5.37V15c.06.58.34 1.11.79 1.49Z\"/><path fill=\"#07C\" d=\"M2.5 11c-.83 0-1.5.67-1.5 1.5v3c0 .83.67 1.5 1.5 1.5H4v-6H2.5Zm14 0H15v6h1.5c.83 0 1.5-.67 1.5-1.5v-3c0-.83-.67-1.5-1.5-1.5Z\" opacity=\".7\"/></svg>";
const IconHandshake = "<svg aria-hidden=\"true\" class=\"svg-icon iconHandshake\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"m12.22 5.27-2.43-.25a.85.85 0 0 0-.59.22l-2.79 2.4a.96.96 0 0 0-.05 1.42c.36.36 1.07.48 1.55.1l2.27-1.88c.2-.15.48-.15.65.03.17.15.17.4-.03.56l-.62.54L14 10V7l-1.02-1.32c-.16-.15-.5-.4-.76-.4ZM14 11 9.4 9.04l-.85.68c-.84.71-2.1.64-2.87-.1-.73-.74-.67-1.9.14-2.6l2.2-2-2.34.25c-.34.08-.59.26-.76.41L4 7v5l1.9.73c1.43.66 2.74.98 3.89 1.06 1.38 0 2.96-.71 3.87-1.79.2-.24.34-.4.34-1Z\"/><path fill=\"#07C\" d=\"M18 8.5c0-.83-.67-1.5-1.5-1.5H15v5h1.5c.83 0 1.5-.67 1.5-1.5v-2Zm-18 0C0 7.67.67 7 1.5 7H3v5H1.5A1.5 1.5 0 0 1 0 10.5v-2Z\" opacity=\".7\"/></svg>";
const IconHeader = "<svg aria-hidden=\"true\" class=\"svg-icon iconHeader\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M13.62 10.08 12.1 4.66h-.06l-1.5 5.42h3.08ZM5.7 11.13 4.53 7.02h-.08l-1.13 4.11H5.7ZM17.31 15h-2.25l-.95-3.25h-4.07L9.09 15H6.84l-.69-2.33H2.87L2.17 15H0l3.3-9.59h2.5l2.17 6.34L10.86 3h2.52l3.94 12h-.01Z\"/></svg>";
const IconHealth = "<svg aria-hidden=\"true\" class=\"svg-icon iconHealth\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1 2 4v5.02C2 13.69 7.31 17 9 17c1.69 0 7-3.31 7-7.98V4L9 1Zm1 9v3H8v-3H5V8h3V5h2v3h3v2h-3Z\"/></svg>";
const IconHeart = "<svg aria-hidden=\"true\" class=\"svg-icon iconHeart\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#F75D37\" d=\"M5.25 2c-1.5 0-2.35.5-3.15 1.36C.5 5 .5 8.2 2.1 10l6 5.87c.2.2.6.2.8 0l6-5.87c1.6-1.8 1.6-5 0-6.64A3.86 3.86 0 0 0 11.75 2C10.2 2 9 3 8.5 3.9 8 3 6.5 2 5.25 2Zm8.6 4.85-2 2a.5.5 0 0 1-.7-.7l2-2a.5.5 0 0 1 .7.7Z\"/></svg>";
const IconHelp = "<svg aria-hidden=\"true\" class=\"svg-icon iconHelp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1C4.64 1 1 4.64 1 9c0 4.36 3.64 8 8 8 4.36 0 8-3.64 8-8 0-4.36-3.64-8-8-8Zm.81 12.13c-.02.71-.55 1.15-1.24 1.13-.66-.02-1.17-.49-1.15-1.2.02-.72.56-1.18 1.22-1.16.7.03 1.2.51 1.17 1.23ZM11.77 8c-.59.66-1.78 1.09-2.05 1.97a4 4 0 0 0-.09.75c0 .05-.03.16-.18.16H7.88c-.16 0-.18-.1-.18-.15.06-1.35.66-2.2 1.83-2.88.39-.29.7-.75.7-1.24.01-1.24-1.64-1.82-2.35-.72-.21.33-.18.73-.18 1.1H5.75c0-1.97 1.03-3.26 3.03-3.26 1.75 0 3.47.87 3.47 2.83 0 .57-.2 1.05-.48 1.44Z\"/></svg>";
const IconHelpSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconHelpSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 1C3.74 1 1 3.77 1 7c0 3.26 2.77 6 6 6 3.27 0 6-2.73 6-6s-2.73-6-6-6Zm1.06 9.06c-.02.63-.48 1.02-1.1 1-.57-.02-1.03-.43-1.01-1.06.02-.63.5-1.04 1.08-1.02.6.02 1.05.45 1.03 1.08Zm.73-3.07-.47.3c-.2.15-.36.36-.44.6a3.6 3.6 0 0 0-.08.65c0 .04-.03.14-.16.14h-1.4c-.14 0-.16-.09-.16-.13-.01-.5.11-.99.36-1.42A4.6 4.6 0 0 1 7.7 6.07c.15-.1.21-.21.3-.33.18-.2.28-.47.28-.74.01-.67-.53-1.14-1.18-1.14-.9 0-1.18.7-1.18 1.46H4.2c0-1.17.31-1.92.98-2.36a3.5 3.5 0 0 1 1.83-.44c.88 0 1.58.16 2.2.62.58.42.88 1.02.88 1.82 0 .5-.17.9-.43 1.24-.15.2-.44.47-.86.79h-.01Z\"/></svg>";
const IconHistory = "<svg aria-hidden=\"true\" class=\"svg-icon iconHistory\" width=\"19\" height=\"18\"  viewBox=\"0 0 19 18\"><path  d=\"M3 9a8 8 0 1 1 3.73 6.77L8.2 14.3A6 6 0 1 0 5 9l3.01-.01-4 4-4-4h3L3 9Zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5Z\"/></svg>";
const IconHome = "<svg aria-hidden=\"true\" class=\"svg-icon iconHome\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 10v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5H0l9-9 9 9h-3Zm-8 1v6h4v-6H7Z\"/></svg>";
const IconHorizontalRule = "<svg aria-hidden=\"true\" class=\"svg-icon iconHorizontalRule\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M2 8h14v2H2V8Z\"/><path  d=\"M2 2h14v1H2V2Zm0 3h14v1H2V5Zm0 7h14v1H2v-1Zm0 3h14v1H2v-1Z\" opacity=\".4\"/></svg>";
const IconHundred = "<svg aria-hidden=\"true\" class=\"svg-icon iconHundred\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#F75D37\" d=\"M14 8a3 3 0 1 1 3-2.36A3 3 0 0 1 14.53 8H14Zm0-5a2 2 0 0 0-1.92 1.55 1.9 1.9 0 0 0-.01.76 2 2 0 0 0 3.54.78 1.9 1.9 0 0 0 .32-1.46A2 2 0 0 0 14 3ZM3.5 14.08a.5.5 0 0 1-.5-.5V9.24l-.77.76a.5.5 0 0 1-.85-.36.5.5 0 0 1 .15-.35l1.62-1.61a.51.51 0 0 1 .54-.11A.5.5 0 0 1 4 8v5.54a.5.5 0 0 1-.5.54Zm2.9-3.58A3 3 0 0 0 8 11h.53A3 3 0 0 0 11 7.44a3 3 0 1 0-4.6 3.07Zm.7-4.27A2 2 0 0 1 8 6a2 2 0 0 1 1.92 2.4 1.9 1.9 0 0 1-.31.69 2 2 0 0 1-3.54-.78 1.9 1.9 0 0 1 .32-1.46 2 2 0 0 1 .7-.62ZM6.81 15a.51.51 0 0 1-.44-.26.5.5 0 0 1 .21-.68l9.14-4.87a.51.51 0 0 1 .74.4.5.5 0 0 1-.27.49L7.05 15a.53.53 0 0 1-.24 0Zm3.44.75c.1.06.2.1.32.09a.5.5 0 0 0 .24-.06l4.81-2.64a.5.5 0 0 0 .07-.83.5.5 0 0 0-.56-.05l-4.8 2.65a.49.49 0 0 0-.08.84Z\"/></svg>";
const IconImage = "<svg aria-hidden=\"true\" class=\"svg-icon iconImage\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 3c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v12c0 1.09-.91 2-2 2H3c-1.09 0-2-.91-2-2V3Zm4.5 7.5L2 15h14l-4.5-6L8 13.51 5.5 10.5Zm0-4.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"/></svg>";
const IconInbox = "<svg aria-hidden=\"true\" class=\"svg-icon iconInbox\" width=\"20\" height=\"18\"  viewBox=\"0 0 20 18\"><path  d=\"M4.63 1h10.56a2 2 0 0 1 1.94 1.35L20 10.79V15a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-4.21l2.78-8.44c.25-.8 1-1.36 1.85-1.35Zm8.28 12 2-2h2.95l-2.44-7.32a1 1 0 0 0-.95-.68H5.35a1 1 0 0 0-.95.68L1.96 11h2.95l2 2h6Z\"/></svg>";
const IconInboxSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconInboxSm\" width=\"15\" height=\"14\"  viewBox=\"0 0 15 14\"><path  d=\"M4 1h7c.88 0 1.65.6 2 1.35L15 8v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8l2-5.65C2.3 1.65 3.15 1 4 1Zm6 9 2-2h1l-1.46-4.63c-.15-.35-.52-.68-.95-.68H4.5c-.43 0-.8.3-1 .68L1.96 8H3l2 2h5Z\"/></svg>";
const IconIndent = "<svg aria-hidden=\"true\" class=\"svg-icon iconIndent\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 4H2V2h14v2ZM8 6v2h8V6H8Zm8 10H2v-2h14v2Zm-8-4h8v-2H8v2ZM6.5 9 2 5v8l4.5-4Z\"/></svg>";
const IconIndustry = "<svg aria-hidden=\"true\" class=\"svg-icon iconIndustry\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10 16v-4H8v4H2V4c0-1.1.9-2 2-2h6c1.09 0 2 .91 2 2v2h2c1.09 0 2 .91 2 2v8h-6ZM4 4v2h2V4H4Zm0 4v2h2V8H4Zm4-4v2h2V4H8Zm0 4v2h2V8H8Zm-4 4v2h2v-2H4Zm8 0v2h2v-2h-2Zm0-4v2h2V8h-2Z\"/></svg>";
const IconIndustrySm = "<svg aria-hidden=\"true\" class=\"svg-icon iconIndustrySm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2h3a1 1 0 0 1 1 1v8H2V2Zm2 1v2h2V3H4Zm2 3H4v2h2V6Zm0 3H4v2h2V9Zm2-3v2h2V6H8Zm2 3H8v2h2V9Z\"/></svg>";
const IconInfo = "<svg aria-hidden=\"true\" class=\"svg-icon iconInfo\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1a8 8 0 1 1 0 16A8 8 0 0 1 9 1Zm1 13V8H8v6h2Zm0-8V4H8v2h2Z\"/></svg>";
const IconInfoSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconInfoSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 1a6 6 0 1 1 0 12A6 6 0 0 1 7 1Zm1 10V6H6v5h2Zm0-6V3H6v2h2Z\"/></svg>";
const IconInstagram = "<svg aria-hidden=\"true\" class=\"svg-icon iconInstagram\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"url(#Instagrama)\" d=\"M9 1c-2.17 0-2.44.01-3.3.05a5.9 5.9 0 0 0-1.94.37 3.94 3.94 0 0 0-2.34 2.34c-.2.51-.33 1.09-.37 1.94C1 6.56 1 6.83 1 9s.01 2.44.05 3.3c.04.85.17 1.43.37 1.94a3.94 3.94 0 0 0 2.34 2.34c.51.2 1.1.33 1.94.37.86.04 1.13.05 3.3.05s2.44-.01 3.3-.05a5.92 5.92 0 0 0 1.94-.37 3.94 3.94 0 0 0 2.34-2.34c.2-.51.33-1.1.37-1.94.04-.86.05-1.13.05-3.3s-.01-2.44-.05-3.3a5.92 5.92 0 0 0-.37-1.94c-.2-.53-.48-.97-.92-1.42a3.9 3.9 0 0 0-1.42-.92 5.9 5.9 0 0 0-1.94-.37C11.44 1 11.17 1 9 1Zm0 1.42c2.14 0 2.39.03 3.23.07.78.03 1.2.16 1.49.27.37.15.64.32.92.6.28.28.45.55.6.92.1.28.24.7.27 1.49.04.84.05 1.1.05 3.23 0 2.14-.01 2.39-.05 3.23a4.5 4.5 0 0 1-.28 1.49c-.15.37-.32.64-.6.92a2.5 2.5 0 0 1-.92.6c-.28.1-.71.24-1.5.27-.84.04-1.09.05-3.23.05-2.14 0-2.4-.01-3.24-.05a4.53 4.53 0 0 1-1.49-.28 2.48 2.48 0 0 1-.92-.6 2.43 2.43 0 0 1-.6-.92 4.54 4.54 0 0 1-.28-1.5c-.03-.83-.04-1.09-.04-3.22s.01-2.4.04-3.24c.04-.78.17-1.21.28-1.49.14-.38.32-.64.6-.92.28-.28.54-.46.92-.6.28-.11.7-.24 1.48-.28.85-.03 1.13-.04 3.27-.04Zm0 2.47a4.1 4.1 0 1 0 0 8.22 4.1 4.1 0 0 0 0-8.22Zm0 6.78a2.67 2.67 0 1 1 0-5.34 2.67 2.67 0 0 1 0 5.34Zm5.23-6.94a.96.96 0 1 1-1.92 0 .96.96 0 0 1 1.92 0Z\"/><defs><linearGradient id=\"Instagrama\" x1=\"1.5\" x2=\"17\" y1=\"1\" y2=\"17\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#EC0D2B\"/><stop offset=\"1\" stop-color=\"#BF179F\"/></linearGradient></defs></svg>";
const IconInternational = "<svg aria-hidden=\"true\" class=\"svg-icon iconInternational\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5.8 11a19.81 19.81 0 0 1 0-4H3.34a5.99 5.99 0 0 0 0 4H5.8Zm.13 1H3.8a6.02 6.02 0 0 0 2.9 2.54c-.35-.7-.6-1.56-.77-2.54Zm6.27-1h2.46a6 6 0 0 0 0-4H12.2a19.8 19.8 0 0 1 0 4Zm-.13 1a9.25 9.25 0 0 1-.76 2.54A6.02 6.02 0 0 0 14.2 12h-2.13ZM7.1 11h3.78a17.18 17.18 0 0 0 0-4H7.1a17.18 17.18 0 0 0 0 4Zm.16 1c.34 1.8.99 3 1.73 3s1.39-1.2 1.73-3H7.27ZM5.93 6c.17-.98.42-1.85.76-2.54A6.02 6.02 0 0 0 3.8 6h2.13Zm6.14 0h2.13a6.02 6.02 0 0 0-2.9-2.54c.35.7.6 1.56.77 2.54Zm-4.8 0h3.46C10.4 4.2 9.74 3 9 3S7.61 4.2 7.27 6ZM9 17A8 8 0 1 1 9 1a8 8 0 0 1 0 16Z\"/></svg>";
const IconInternationalSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconInternationalSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M13 7A6 6 0 1 1 1 7a6 6 0 0 1 12 0Zm-5.99 4.6c.14-.16.3-.46.46-.91.16-.46.3-1.04.4-1.69H6.13c.09.65.23 1.23.39 1.69.16.45.32.75.46.91H7ZM7.97 8a15.04 15.04 0 0 0 0-2H6.03a15.04 15.04 0 0 0 0 2h1.94Zm.9 1c-.12.96-.34 1.8-.61 2.43A4.61 4.61 0 0 0 11.14 9H8.87Zm2.62-1a4.61 4.61 0 0 0 0-2H8.97a16.08 16.08 0 0 1 0 2h2.52ZM5.03 8a16.08 16.08 0 0 1 0-2H2.51a4.62 4.62 0 0 0 0 2h2.52ZM2.86 9a4.61 4.61 0 0 0 2.88 2.43A9.29 9.29 0 0 1 5.13 9H2.86Zm3.67-5.69A9.8 9.8 0 0 0 6.13 5h1.73a9.04 9.04 0 0 0-.39-1.69 3.07 3.07 0 0 0-.46-.91H7c-.14.16-.3.46-.46.91ZM8.87 5h2.27a4.61 4.61 0 0 0-2.88-2.43c.27.64.49 1.47.61 2.43ZM2.86 5h2.27c.12-.96.34-1.8.61-2.43A4.61 4.61 0 0 0 2.86 5Z\"/></svg>";
const IconItalic = "<svg aria-hidden=\"true\" class=\"svg-icon iconItalic\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7 3v2h2.58l-3.66 8H3v2h8v-2H8.42l3.66-8H15V3H7Z\"/></svg>";
const IconJira = "<svg aria-hidden=\"true\" class=\"svg-icon iconJira\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#2684FF\" d=\"M16.36 1H8.78a3.42 3.42 0 0 0 3.42 3.42h1.4v1.35A3.42 3.42 0 0 0 17 9.2V1.66a.66.66 0 0 0-.64-.66Z\"/><path fill=\"url(#Jiraa)\" d=\"M12.33 5H4.74a3.42 3.42 0 0 0 3.42 3.43h1.4v1.35a3.42 3.42 0 0 0 3.42 3.42V5.66a.66.66 0 0 0-.65-.66Z\"/><path fill=\"url(#Jirab)\" d=\"M8.36 9H.76a3.42 3.42 0 0 0 3.44 3.42h1.4v1.35a3.42 3.42 0 0 0 3.42 3.43V9.66A.66.66 0 0 0 8.36 9Z\"/><defs><linearGradient id=\"Jiraa\" x1=\"12.82\" x2=\"9.6\" y1=\"5.02\" y2=\"8.34\" gradientUnits=\"userSpaceOnUse\"><stop offset=\".18\" stop-color=\"#0052CC\"/><stop offset=\"1\" stop-color=\"#2684FF\"/></linearGradient><linearGradient id=\"Jirab\" x1=\"346.65\" x2=\"210.84\" y1=\"327.03\" y2=\"460.17\" gradientUnits=\"userSpaceOnUse\"><stop offset=\".18\" stop-color=\"#0052CC\"/><stop offset=\"1\" stop-color=\"#2684FF\"/></linearGradient></defs></svg>";
const IconKey = "<svg aria-hidden=\"true\" class=\"svg-icon iconKey\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M17 5.5a4.5 4.5 0 0 1-5.8 4.3L10 11H8v2H6v2H4v2H1v-3.5l7.1-7.1A4.52 4.52 0 0 1 12.5 1 4.5 4.5 0 0 1 17 5.5Zm-4 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"/></svg>";
const IconKeySm = "<svg aria-hidden=\"true\" class=\"svg-icon iconKeySm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M13 4.5a3.5 3.5 0 0 1-4.5 3.36L7.5 9H6v2H4v2H1v-2.5l5.05-5.39A3.5 3.5 0 1 1 13 4.5Zm-3 .88a1.37 1.37 0 1 0 0-2.75 1.37 1.37 0 0 0 0 2.75Z\"/></svg>";
const IconLaptop = "<svg aria-hidden=\"true\" class=\"svg-icon iconLaptop\" width=\"24\" height=\"18\"  viewBox=\"0 0 24 18\"><path  d=\"M3 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v10h3v2H0v-2h3V4Zm16 0H5v9h14V4Z\"/></svg>";
const IconLaunchPad = "<svg aria-hidden=\"true\" class=\"svg-icon iconLaunchPad\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#E9531F\" d=\"M0 0h18v18H0z\"/><path fill=\"var(--white)\" d=\"M3.24 6.48a5.15 5.15 0 0 0 5.32.45 5.25 5.25 0 0 0 3.22-4.25l-1.44-.1c-.1 1.3-1.06 2.45-2.37 3.04-1.31.59-2.79.55-3.83-.27l-.9 1.13Zm6.16 3.55a1.03 1.03 0 1 0 0-2.06 1.03 1.03 0 0 0 0 2.06Zm3.83 4.12a5.7 5.7 0 0 1 1.3-9.34l.67 1.27a4.26 4.26 0 0 0-1 7l-.97 1.07Zm-3.04 1.33a5.88 5.88 0 0 0-2-4.89 5.47 5.47 0 0 0-5.27-.98L3.35 11a4.03 4.03 0 0 1 3.9.7 4.44 4.44 0 0 1 1.5 3.7l1.44.09Z\"/></svg>";
const IconLightbulb = "<svg aria-hidden=\"true\" class=\"svg-icon iconLightbulb\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z\"/></svg>";
const IconLightbulbAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconLightbulbAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#9FA6AD\" d=\"M8 14a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H8Z\"/><path fill=\"#FFC166\" d=\"M8.45 2.03C11.38 1.74 14 3.88 14 6.73c0 1.54-.78 2.88-1.94 3.74h-.01a.93.93 0 0 0-.38.77v.14c0 .96-.82 1.62-1.67 1.62H8c-.85 0-1.67-.66-1.67-1.62v-.17a1 1 0 0 0-.43-.78 4.6 4.6 0 0 1-1.86-4.28 4.9 4.9 0 0 1 4.4-4.12h.01ZM5.5 7a.5.5 0 0 0 1 0A2.5 2.5 0 0 1 9 4.5a.5.5 0 0 0 0-1A3.5 3.5 0 0 0 5.5 7Z\"/></svg>";
const IconLightbulbSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconLightbulbSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M12 4.73C12 1.88 9.38-.26 6.45.03h-.01a4.9 4.9 0 0 0-4.4 4.12A4.6 4.6 0 0 0 3.9 8.43a1 1 0 0 1 .43.78v.17c0 .96.82 1.62 1.67 1.62h2c.85 0 1.66-.66 1.66-1.62v-.14c0-.31.15-.6.39-.77A4.63 4.63 0 0 0 12 4.73ZM4.02 4.4c.15-1.19 1.22-2.22 2.63-2.38C8.55 1.84 10 3.2 10 4.72c0 .85-.42 1.62-1.12 2.13A2.93 2.93 0 0 0 7.68 9H6.31A3 3 0 0 0 5.1 6.83 2.6 2.6 0 0 1 4.02 4.4ZM6 12a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H6Z\"/></svg>";
const IconLink = "<svg aria-hidden=\"true\" class=\"svg-icon iconLink\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7.22 11.83a6 6 0 0 0 1.62.85l.61-1.8a4.1 4.1 0 1 1 4.04-.8l1.26 1.42a6 6 0 1 0-7.53.33Zm3.43-5.6a6 6 0 0 0-1.6-.87L8.4 7.15a4.1 4.1 0 1 1-4.05.73L3.12 6.43a6 6 0 1 0 7.53-.2Z\"/></svg>";
const IconLinkSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconLinkSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M6.01 6.77c.27.52.7.95 1.22 1.22L6.46 9.5a4.5 4.5 0 1 1 5.22-.83l-1.2-1.2A2.79 2.79 0 1 0 6 6.76Zm.76-.76.77-1.52a4.5 4.5 0 1 1-5.22.83l1.2 1.2a2.79 2.79 0 1 0 3.25-.5Z\"/></svg>";
const IconLinkedIn = "<svg aria-hidden=\"true\" class=\"svg-icon iconLinkedIn\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#1178B3\" d=\"M15 1a2 2 0 0 1 2 1.85V15a2 2 0 0 1-1.85 2H3a2 2 0 0 1-2-1.85V3a2 2 0 0 1 1.85-2H15Zm-3.21 5.8c-1.09 0-1.83.56-2.19 1.13l-.06.11h-.03V7H7.23v7.63H9.6v-3.77c0-1 .2-1.96 1.43-1.96 1.16 0 1.23 1.04 1.23 1.9v3.83h2.37v-4.19c0-2.05-.44-3.63-2.84-3.63ZM5.75 7H3.37v7.63h2.38V7Zm-1.2-3.8a1.38 1.38 0 1 0 0 2.75 1.38 1.38 0 0 0 0-2.75Z\"/></svg>";
const IconLocation = "<svg aria-hidden=\"true\" class=\"svg-icon iconLocation\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M2 6.38C2 9.91 8.1 17.7 8.1 17.7c.22.29.58.29.8 0 0 0 6.1-7.8 6.1-11.32A6.44 6.44 0 0 0 8.5 0 6.44 6.44 0 0 0 2 6.38Zm9.25.12a2.75 2.75 0 1 1-5.5 0 2.75 2.75 0 0 1 5.5 0Z\"/></svg>";
const IconLocationSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconLocationSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M11 5v.36c0 2.22-2.9 6.33-3.76 7.51a.29.29 0 0 1-.48 0C5.9 11.7 3 7.57 3 5.36V5a4 4 0 1 1 8 0ZM7 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"/></svg>";
const IconLock = "<svg aria-hidden=\"true\" class=\"svg-icon iconLock\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 9a2 2 0 0 0-2-2V6A5 5 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9Zm-7 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3.1-7H5.9V6a3.1 3.1 0 0 1 6.2 0v1Z\"/></svg>";
const IconLockSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconLockSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M3.5 5C2.67 5 2 5.67 2 6.5v5c0 .83.67 1.5 1.5 1.5h7c.83 0 1.5-.67 1.5-1.5v-5c0-.83-.67-1.5-1.5-1.5v-.5a3.5 3.5 0 1 0-7 0V5Zm1.4 0v-.5a2.1 2.1 0 1 1 4.2 0V5H4.9Zm3.6 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/></svg>";
const IconMail = "<svg aria-hidden=\"true\" class=\"svg-icon iconMail\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m1 6 8 5 8-5V4L9 9 1 4c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v10c0 1.09-.91 2-2 2H3c-1.09 0-2-.91-2-2V6Z\"/></svg>";
const IconMailOpen = "<svg aria-hidden=\"true\" class=\"svg-icon iconMailOpen\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16.6 4.65a1 1 0 0 1 0 1.7L9 11 1.4 6.35a1 1 0 0 1 0-1.7L9 0l7.6 4.65ZM1 8l8 5 8-5v8c0 1.09-.91 2-2 2H3c-1.09 0-2-.91-2-2V8Z\"/></svg>";
const IconMailOpenSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconMailOpenSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7 9 1.52 5.87a1 1 0 0 1 0-1.74L7 1l5.48 3.13a1 1 0 0 1 0 1.74L7 9ZM1 7.14l6 3.6 6-3.6v5.43c0 .8-.71 1.43-1.5 1.43h-9c-.79 0-1.5-.62-1.5-1.43V7.14Z\"/></svg>";
const IconMailSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconMailSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m7 8.74-6-3.6v5.43c0 .8.71 1.43 1.5 1.43h9c.79 0 1.5-.62 1.5-1.43V5.14l-6 3.6ZM7 7l6-3.57c0-.8-.71-1.43-1.5-1.43h-9C1.68 2 1 2.64 1 3.43L7 7Z\"/></svg>";
const IconMarkdown = "<svg aria-hidden=\"true\" class=\"svg-icon iconMarkdown\" width=\"21\" height=\"18\"  viewBox=\"0 0 21 18\"><path  d=\"M21 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h17a2 2 0 0 1 2 2v10ZM4.3 13V8.35l2.2 2.88 2.2-2.88V13H11V5H8.7L6.5 7.88 4.3 5H2v8h2.3Zm15.2-4H17V5h-2v4h-2.5l3.5 4.5L19.5 9Z\"/></svg>";
const IconMarkdownPreview = "<svg aria-hidden=\"true\" class=\"svg-icon iconMarkdownPreview\" width=\"21\" height=\"18\"  viewBox=\"0 0 21 18\"><path fill=\"#0C0D0E\" stroke=\"#0C0D0E\" d=\"M6.77 8.7h.5V7.04l.3.42.4.58.41-.58.3-.42v1.68h2.27V5.74l.3.4 1.92 2.65.4.56.41-.56 1.92-2.64.58-.8h-1.85V3h-2.1v2.35h-1.58V3H8.92l-.15.21-.8 1.12-.8-1.12L7.04 3H5v5.7h1.77ZM1.5 11.5h18v1h-18v-1Zm0 3h18v1h-18v-1ZM.5 4c0-.83.67-1.5 1.5-1.5h17c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5H2A1.5 1.5 0 0 1 .5 8V4Z\"/></svg>";
const IconMedal = "<svg aria-hidden=\"true\" class=\"svg-icon iconMedal\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M9 17c-2.2 0-4-1.57-4-3.5S6.8 10 9 10s4 1.57 4 3.5S11.2 17 9 17Zm0-1.9c1.21 0 2.1-.78 2.1-1.6 0-.82-.89-1.6-2.1-1.6s-2.1.78-2.1 1.6c0 .82.89 1.6 2.1 1.6Z\"/><path fill=\"#3F3F3F\" d=\"M6.9 9.42a5.53 5.53 0 0 1 3.5-.24L4.5 1H1.47a.25.25 0 0 0-.2.39L6.9 9.42Zm2.88-3.26L11.6 8.7h.01l5.11-7.3a.25.25 0 0 0-.2-.4H13.5L9.78 6.16Z\" opacity=\".4\"/></svg>";
const IconMerge = "<svg aria-hidden=\"true\" class=\"svg-icon iconMerge\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5.45 3H1v2h3.55l3.6 4-3.6 4H1v2h4.45l4.5-5H13v3l4-4-4-4v3H9.95l-4.5-5Z\"/></svg>";
const IconMessage = "<svg aria-hidden=\"true\" class=\"svg-icon iconMessage\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 7a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm1 2a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H6Zm-5 9V4c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v9c0 1.09-.91 2-2 2H4.5L1 18Zm2.76-5h11.23a.06.06 0 0 0 0-.01H15V4a.06.06 0 0 0-.01-.01H3v9.65l.76-.65Z\"/></svg>";
const IconMessageCompose = "<svg aria-hidden=\"true\" class=\"svg-icon iconMessageCompose\" width=\"20\" height=\"18\"  viewBox=\"0 0 20 18\"><path  d=\"m3 13.65.76-.65h5.53l-2 2H4.5L1 18V4c0-1.1.9-2 2-2h11c1.09 0 2 .91 2 2v2.27l-.02.02L14 8.27V4.01L3 4v9.65Zm16.23-4.82L18.1 7.71a.5.5 0 0 0-.7 0l-1.2 1.15 1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71Zm-3.86.87L9 16.11V18h1.88l6.37-6.43-1.88-1.88ZM5 7a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm1 2a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H6Z\"/></svg>";
const IconMicroscope = "<svg aria-hidden=\"true\" class=\"svg-icon iconMicroscope\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#D6D9DC\" d=\"M13.5 9.5A3.5 3.5 0 0 0 10 6V4a5.5 5.5 0 0 1 2.6 10.35c.23.87.4 1.65.4 1.65H8l.24-1H5a1 1 0 1 1 0-2h3.84c.22-.57.45-1 .66-1h2c.13 0 .27.17.41.43A3.5 3.5 0 0 0 13.5 9.5Z\"/><path fill=\"#9FA6AD\" d=\"M2 17a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H2Z\"/><path fill=\"#D6D9DC\" d=\"M5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4Z\"/><path fill=\"#9FA6AD\" d=\"M6 1h2v2H6V1Zm0 8h2v2H6V9Z\"/></svg>";
const IconMicrosoft = "<svg aria-hidden=\"true\" class=\"svg-icon iconMicrosoft\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#00A4EF\" d=\"M9 18H1v-8h8v8Z\"/><path fill=\"#FFB902\" d=\"M18 18h-8v-8h8v8Z\"/><path fill=\"#F25C33\" d=\"M9 9H1V1h8v8Z\"/><path fill=\"#7FBA00\" d=\"M18 9h-8V1h8v8Z\"/></svg>";
const IconMicrosoftTeams = "<svg aria-hidden=\"true\" class=\"svg-icon iconMicrosoftTeams\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#5158CC\" d=\"M15.25 6.25a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM17.2 7H13v5.5a2.5 2.5 0 0 0 5 0V7.8a.8.8 0 0 0-.8-.8Z\"/><path fill=\"#7B82EA\" d=\"M12 3.5a2.5 2.5 0 0 1-2 2.45V5a2 2 0 0 0-2-2h-.95a2.5 2.5 0 0 1 4.95.5ZM9.5 17a4.5 4.5 0 0 1-4.24-3H8a2 2 0 0 0 2-2V7h3a1 1 0 0 1 1 1v4.5A4.5 4.5 0 0 1 9.5 17Z\"/><path fill=\"#4D54BC\" d=\"M1 4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H1Zm1 2h5v1H5v4H4V7H2V6Z\"/></svg>";
const IconMigrate = "<svg aria-hidden=\"true\" class=\"svg-icon iconMigrate\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14 3H5V1h9a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5v-2h9V3ZM2 10V8h5V5l4 4-4 4v-3H2Z\"/></svg>";
const IconMilestone = "<svg aria-hidden=\"true\" class=\"svg-icon iconMilestone\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M9 3H7V1h2v2Zm4 5H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10l2 2-2 2ZM9 5H7v2h2V5ZM7 17h2V9H7v8Z\"/></svg>";
const IconMinus = "<svg aria-hidden=\"true\" class=\"svg-icon iconMinus\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M4 8v2h10V8H4Z\"/></svg>";
const IconMinusSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconMinusSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M3 6v2h8V6H3Z\"/></svg>";
const IconModerator = "<svg aria-hidden=\"true\" class=\"svg-icon iconModerator\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M8.4.78c.33-.43.87-.43 1.2 0l5.8 7.44c.33.43.33 1.13 0 1.56l-5.8 7.44c-.33.43-.87.43-1.2 0L2.6 9.78a1.34 1.34 0 0 1 0-1.56L8.4.78Z\"/></svg>";
const IconModeratorSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconModeratorSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M6.53.75c.25-.33.67-.33.93 0l4.42 5.66c.26.32.25.86 0 1.19l-4.42 5.66c-.26.33-.68.32-.93 0L2.1 7.6a1.02 1.02 0 0 1 0-1.2L6.53.76Z\"/></svg>";
const IconMoney = "<svg aria-hidden=\"true\" class=\"svg-icon iconMoney\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.25 8.13c-1.76-.46-2.33-.93-2.33-1.67 0-.85.79-1.44 2.1-1.44 1.38 0 1.95.99 2 1.96h1.71a3.74 3.74 0 0 0-2.72-3.32L10 2H8v1.6c-1.5.32-2.98 1.38-2.98 2.87 0 1.8 1.6 2.69 3.76 3.2 1.94.47 2.33 1.15 2.33 1.87 0 .54-.38 1.4-2.1 1.4-1.6 0-2.22-1.03-2.3-1.94H5c.1 1.7 1.53 2.96 3.01 3.27L8 16h2v-1.71c1.51-.29 3-1.2 3-2.79 0-2.2-2-2.92-3.75-3.37Z\"/></svg>";
const IconNotInterested = "<svg aria-hidden=\"true\" class=\"svg-icon iconNotInterested\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 17A8 8 0 1 1 9 1a8 8 0 0 1 0 16Zm0-2a6 6 0 0 0 4.89-9.48L5.52 13.9C6.5 14.59 7.7 15 9 15Zm-4.89-2.52 8.37-8.37a6 6 0 0 0-8.37 8.37Z\"/></svg>";
const IconNotInterestedSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconNotInterestedSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M13 7A6 6 0 1 1 1 7a6 6 0 0 1 12 0Zm-2 0c0-.74-.2-1.44-.56-2.03l-5.47 5.47A4 4 0 0 0 11 7ZM3.56 9.03l5.47-5.47a4 4 0 0 0-5.48 5.48Z\"/></svg>";
const IconOkta = "<svg aria-hidden=\"true\" class=\"svg-icon iconOkta\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#007DC1\" d=\"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-4a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z\"/></svg>";
const IconOne = "<svg aria-hidden=\"true\" class=\"svg-icon iconOne\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M11 16H9V6.97L6 7.8V5.56L10.5 4h.5v12Zm5.25-1a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\" opacity=\".2\"/><path  d=\"M9 15H7V5.97L4 6.8V4.56L8.5 3H9v12Zm5.25-1a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\"/></svg>";
const IconOneLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconOneLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M16 32h4V8h-1l-9 3.13v4.5l6-1.7V32Zm11 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" opacity=\".2\"/><path  d=\"M14 30h4V6h-1L8 9.13v4.5l6-1.7V30Zm11 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"/></svg>";
const IconOpenSource = "<svg aria-hidden=\"true\" class=\"svg-icon iconOpenSource\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M4 5.97c-.57-.11-1-.62-1-1.22v-1.5C3 2.56 3.56 2 4.25 2h1.5C6.44 2 7 2.56 7 3.25V4l3-3v2h1c.78.03 1.46.35 2.06.94.6.59.9 1.28.94 2.06v6.02c.57.12 1 .62 1 1.23v1.5c0 .69-.56 1.25-1.25 1.25h-1.5c-.69 0-1.25-.56-1.25-1.25v-1.5c0-.6.43-1.1 1-1.22V6a.94.94 0 0 0-.31-.69c-.21-.2-.42-.29-.7-.31h-1v2L7 4v.75c0 .6-.43 1.1-1 1.22v6.06c.57.11 1 .62 1 1.22v1.5C7 15.44 6.44 16 5.75 16h-1.5C3.56 16 3 15.44 3 14.75v-1.5c0-.6.43-1.1 1-1.22V5.97ZM6 5V3H4v2h2Zm-2 8v2h2v-2H4Zm8 0v2h2v-2h-2Z\"/></svg>";
const IconOrderedList = "<svg aria-hidden=\"true\" class=\"svg-icon iconOrderedList\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 6h1V2H2v1h1v3Zm.8 2H2V7h3v.9L3.2 10H5v1H2v-.9L3.8 8ZM2 13v-1h3v4H2v-1h2v-.5H3v-1h1V13H2Zm5-8V3h9v2H7Zm0 10h9v-2H7v2Zm9-5H7V8h9v2Z\"/></svg>";
const IconOutdent = "<svg aria-hidden=\"true\" class=\"svg-icon iconOutdent\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 4H2V2h14v2ZM8 6v2h8V6H8Zm8 10H2v-2h14v2Zm-8-4h8v-2H8v2ZM1.5 9 6 5v8L1.5 9Z\"/></svg>";
const IconPaperclip = "<svg aria-hidden=\"true\" class=\"svg-icon iconPaperclip\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 9.5C1 6.5 3.5 4 6.5 4H13c2.2 0 4 1.8 4 4s-1.8 4-4 4H7.5C6.1 12 5 10.9 5 9.5S6.1 7 7.5 7H12v2H7.4c-.5 0-.5 1 0 1H13a2 2 0 0 0 2-2 2 2 0 0 0-2-2H6.5C4.6 6 3 7.6 3 9.5S4.6 13 6.5 13H12v2H6.5C3.5 15 1 12.5 1 9.5Z\"/></svg>";
const IconPeak = "<svg aria-hidden=\"true\" class=\"svg-icon iconPeak\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10.5 3.5 8 7.25l2 2.25L8.5 11l-3-3.5L1 14h16L10.5 3.5Z\"/></svg>";
const IconPencil = "<svg aria-hidden=\"true\" class=\"svg-icon iconPencil\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#F1B600\" d=\"m2 13.13 8.5-8.5 2.88 2.88-8.5 8.5H2v-2.88Z\"/><path fill=\"#E87C87\" d=\"m13.68 2.15 2.17 2.17c.2.2.2.51 0 .71L14.5 6.39l-2.88-2.88 1.35-1.36c.2-.2.51-.2.71 0Z\"/></svg>";
const IconPencilSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconPencilSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path fill=\"#F1B600\" d=\"m2 10.12 6.37-6.43 1.88 1.88L3.88 12H2v-1.88Z\"/><path fill=\"#E87C87\" d=\"m11.1 1.71 1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0Z\"/></svg>";
const IconPeople = "<svg aria-hidden=\"true\" class=\"svg-icon iconPeople\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M17 14c0 .44-.45 1-1 1H9a1 1 0 0 1-1-1H2c-.54 0-1-.56-1-1 0-2.63 3-4 3-4s.23-.4 0-1c-.84-.62-1.06-.59-1-3 .06-2.42 1.37-3 2.5-3s2.44.58 2.5 3c.06 2.41-.16 2.38-1 3-.23.59 0 1 0 1s1.55.71 2.42 2.09c.78-.72 1.58-1.1 1.58-1.1s.23-.4 0-1c-.84-.61-1.06-.58-1-3 .06-2.41 1.37-3 2.5-3s2.44.59 2.5 3c.05 2.42-.16 2.39-1 3-.23.6 0 1 0 1s3 1.38 3 4Z\"/></svg>";
const IconPeopleSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconPeopleSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 11c-.5 0-1-.5-1-1 0-2 2-3 2-3s.38-.63 0-1a3.97 3.97 0 0 0-.2-.18C2.45 5.51 2 5.12 2 4c0-1.33 1.15-2 2-2 .85 0 2 .67 2 2 0 1.12-.44 1.5-.8 1.82L5 6c-.38.38 0 1 0 1s2 1 2 3c0 .5-.5 1-1 1H2Zm6 1c-.5 0-1-.5-1-1 0-2 2-3 2-3s.38-.63 0-1a3.97 3.97 0 0 0-.2-.18C8.45 6.51 8 6.12 8 5c0-1.33 1.15-2 2-2 .85 0 2 .67 2 2 0 1.12-.44 1.5-.8 1.82A4 4 0 0 0 11 7c-.38.38 0 1 0 1s2 1 2 3c0 .5-.5 1-1 1H8Z\"/></svg>";
const IconPerson = "<svg aria-hidden=\"true\" class=\"svg-icon iconPerson\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-1c0-2.63 4-4 4-4s.23-.4 0-1c-.84-.62-.94-1.59-1-4 .17-2.41 1.87-3 3-3s2.83.59 3 3c-.06 2.41-.16 3.38-1 4-.23.59 0 1 0 1s4 1.37 4 4v1Z\"/></svg>";
const IconPhone = "<svg aria-hidden=\"true\" class=\"svg-icon iconPhone\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 8c1.12 2.2 2.8 3.87 5 5l2-2h2a2 2 0 0 1 2 2v1.5c0 .88-.63 1.5-1.5 1.5C7.2 16 2 10.8 2 3.5 2 2.62 2.63 2 3.5 2H5a2 2 0 0 1 2 2v2L5 8Z\"/></svg>";
const IconPlaceholder = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlaceholder\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"var(--white)\" d=\"M0 0h18v18H0z\"/></svg>";
const IconPlaceholderLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlaceholderLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path fill=\"var(--white)\" d=\"M0 0h36v36H0z\"/></svg>";
const IconPlaceholderSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlaceholderSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path fill=\"var(--white)\" d=\"M0 0h14v14H0z\"/></svg>";
const IconPlay = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlay\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M3 2.87a1 1 0 0 1 1.55-.83l9.2 6.13a1 1 0 0 1 0 1.66l-9.2 6.13A1 1 0 0 1 3 15.13V2.87Z\"/></svg>";
const IconPlus = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlus\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10 2H8v6H2v2h6v6h2v-6h6V8h-6V2Z\"/></svg>";
const IconPlusOne = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlusOne\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#9966CB\" d=\"M7 9h3v2H7v3H5v-3H2V9h3V6h2v3Zm10 6h-2V6.31l-3 .99V5.46l4.76-1.79H17V15Z\"/><path fill=\"#F75D37\" d=\"M2.7 6.95a.5.5 0 0 1-.19.03.49.49 0 0 1-.35-.09l-1-1a.5.5 0 0 1 .36-.85.5.5 0 0 1 .35.14l1 .95a.51.51 0 0 1 0 .71.5.5 0 0 1-.16.1Zm6.65 0a.5.5 0 0 0 .2.03c.12.02.25-.01.35-.09l1-1a.5.5 0 0 0-.36-.85.51.51 0 0 0-.35.14l-1 .95a.51.51 0 0 0 0 .71c.05.05.1.08.16.1Zm1.15 8.03a.5.5 0 0 0 .36-.14.51.51 0 0 0 0-.7l-1-.96a.51.51 0 0 0-.71 0 .5.5 0 0 0 0 .71l1 1c.1.08.22.1.35.1Zm-9.18-.03a.5.5 0 0 0 .2.03c.12.02.25-.01.35-.09l1-1a.5.5 0 0 0-.36-.85.51.51 0 0 0-.35.14l-1 .95a.51.51 0 0 0 0 .71c.05.05.1.08.16.1Z\" opacity=\".7\"/><path  d=\"M6 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1ZM.5 10.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1ZM12 10a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm-6 6a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Z\" opacity=\".4\"/></svg>";
const IconPlusSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconPlusSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M8 2H6v4H2v2h4v4h2V8h4V6H8V2Z\"/></svg>";
const IconPromoteDemote = "<svg aria-hidden=\"true\" class=\"svg-icon iconPromoteDemote\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5.5 3.5 1 8h3v4h3V8h3L5.5 3.5Z\"/><path  d=\"M11 6v3H8l4.5 5.5L17 9h-3V6h-3Z\" opacity=\".5\"/></svg>";
const IconPromoted = "<svg aria-hidden=\"true\" class=\"svg-icon iconPromoted\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3Zm4 4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V7.41L5.91 13.5a1 1 0 0 1-1.41-1.41L10.59 6H8a1 1 0 0 1-1-1Z\"/></svg>";
const IconPromotedSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconPromotedSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2.5 1C1.67 1 1 1.67 1 2.5v9c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5v-9c0-.83-.67-1.5-1.5-1.5h-9ZM5 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V6.41L4.91 10.5A1 1 0 0 1 3.5 9.09L7.59 5H6a1 1 0 0 1-1-1Z\"/></svg>";
const IconQuestion = "<svg aria-hidden=\"true\" class=\"svg-icon iconQuestion\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m4 15-3 3V4c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v9c0 1.09-.91 2-2 2H4Zm7.75-3.97c.72-.83.98-1.86.98-2.94 0-1.65-.7-3.22-2.3-3.83a4.41 4.41 0 0 0-3.02 0 3.8 3.8 0 0 0-2.32 3.83c0 1.29.35 2.29 1.03 3a3.8 3.8 0 0 0 2.85 1.07c.62 0 1.2-.11 1.71-.34.65.44 1 .68 1.06.7.23.13.46.23.7.3l.59-1.13a5.2 5.2 0 0 1-1.28-.66Zm-1.27-.9a5.4 5.4 0 0 0-1.5-.8l-.45.9c.33.12.66.29.98.5-.2.07-.42.11-.65.11-.61 0-1.12-.23-1.52-.68-.86-1-.86-3.12 0-4.11.8-.9 2.35-.9 3.15 0 .9 1.01.86 3.03-.01 4.08Z\"/></svg>";
const IconQuestionEs = "<svg aria-hidden=\"true\" class=\"svg-icon iconQuestionEs\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.13 7.84c.44 0 .77-.1 1-.3.23-.21.35-.5.35-.89 0-.4-.12-.7-.35-.95a1.3 1.3 0 0 0-.96-.38H7.65v2.52h1.48ZM1 18l3-3h11c1.09 0 2-.91 2-2V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v14Zm6.65-5.98H6V3.98h3.13c.6 0 1.14.11 1.6.33a2.48 2.48 0 0 1 1.42 2.33c0 .79-.27 1.41-.81 1.87-.54.45-1.28.68-2.24.68H7.65v2.83Z\"/></svg>";
const IconQuestionPt = "<svg aria-hidden=\"true\" class=\"svg-icon iconQuestionPt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.13 7.84c.44 0 .77-.1 1-.3.23-.21.35-.5.35-.89 0-.4-.12-.7-.35-.95a1.3 1.3 0 0 0-.96-.38H7.65v2.52h1.48ZM1 18l3-3h11c1.09 0 2-.91 2-2V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v14Zm6.65-5.98H6V3.98h3.13c.6 0 1.14.11 1.6.33a2.48 2.48 0 0 1 1.42 2.33c0 .79-.27 1.41-.81 1.87-.54.45-1.28.68-2.24.68H7.65v2.83Z\"/></svg>";
const IconQuestionRu = "<svg aria-hidden=\"true\" class=\"svg-icon iconQuestionRu\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M7.65 10.69h1.42c.4 0 .7-.1.91-.28a.96.96 0 0 0 .33-.77c0-.74-.38-1.11-1.14-1.12H7.65v2.17Zm1.23-3.34c.83-.02 1.25-.35 1.25-1 0-.37-.1-.63-.32-.78-.2-.17-.54-.25-1-.25H7.65v2.03h1.23ZM1 18l3-3h11c1.09 0 2-.91 2-2V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v14ZM6 3.98h2.8c.98 0 1.72.19 2.22.56.5.38.76.92.76 1.64 0 .4-.1.74-.3 1.05-.2.3-.5.51-.85.65.41.1.73.31.97.63.24.3.36.7.36 1.14 0 .78-.25 1.36-.74 1.76-.5.4-1.2.6-2.1.6H6V3.99Z\"/></svg>";
const IconQuote = "<svg aria-hidden=\"true\" class=\"svg-icon iconQuote\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M0 4c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v9l-1.75 3H4l1.75-3H2a2 2 0 0 1-2-2V4Zm9 0c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v9l-1.75 3H13l1.75-3H11a2 2 0 0 1-2-2V4Z\"/></svg>";
const IconRedact = "<svg aria-hidden=\"true\" class=\"svg-icon iconRedact\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10 1h7v4h-7V1ZM1 13h7v4H1v-4Zm16-6H1v4h16V7ZM9 2.21c-.24-.37-.59-.71-1.15-.71-.81 0-1.18.73-1.42 1.2-.14.3-.43.3-.57 0-.24-.47-.6-1.2-1.42-1.2s-1.18.73-1.42 1.2c-.14.3-.44.3-.58 0-.24-.47-.6-1.2-1.42-1.2v1.3L1 2.78c.08.05.22.33.31.5.24.48.6 1.21 1.42 1.21.81 0 1.18-.73 1.42-1.2.14-.3.43-.3.58 0 .24.47.6 1.2 1.41 1.2.82 0 1.18-.73 1.42-1.2.15-.3.44-.3.58 0 .18.35.42.83.86 1.06V2.21Zm6.85 11.29c.56 0 .91.34 1.15.71v2.15c-.44-.23-.68-.71-.86-1.07-.14-.28-.43-.28-.58 0-.24.48-.6 1.21-1.42 1.21-.81 0-1.17-.73-1.41-1.2-.15-.3-.44-.3-.58 0-.24.47-.6 1.2-1.42 1.2s-1.18-.73-1.42-1.2a1.94 1.94 0 0 0-.31-.51h.02V13.5c.82 0 1.18.73 1.42 1.2.14.3.44.3.58 0 .24-.47.6-1.2 1.42-1.2.81 0 1.18.73 1.42 1.2.14.3.43.3.57 0 .24-.47.6-1.2 1.42-1.2Z\"/></svg>";
const IconRedactSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconRedactSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M8 1h5v2.5H8V1Zm-7 9h5v2.5H1V10Zm12-4.5H1V8h12V5.5ZM7 1.98a1.03 1.03 0 0 0-.86-.48c-.61 0-.88.48-1.06.8-.12.2-.33.2-.44 0-.18-.32-.45-.8-1.06-.8-.61 0-.89.48-1.07.8-.1.2-.32.2-.43 0-.18-.32-.45-.8-1.06-.8v.86H1c.06.03.17.22.23.34.18.32.46.8 1.07.8.6 0 .88-.48 1.06-.8.11-.2.32-.2.43 0 .18.32.46.8 1.07.8.6 0 .88-.48 1.06-.8.11-.2.32-.2.44 0 .13.23.31.55.64.71V1.98Zm5.14 8.52c.42 0 .68.23.86.48v1.43c-.33-.16-.51-.48-.64-.71-.12-.2-.33-.2-.44 0-.18.32-.45.8-1.06.8-.61 0-.89-.48-1.07-.8-.1-.2-.32-.2-.43 0-.18.32-.45.8-1.06.8-.61 0-.89-.48-1.07-.8-.06-.12-.17-.3-.23-.34h.02v-.86c.6 0 .88.48 1.06.8.11.2.32.2.43 0 .18-.32.46-.8 1.07-.8.6 0 .88.48 1.06.8.11.2.32.2.44 0 .18-.32.45-.8 1.06-.8Z\"/></svg>";
const IconRefresh = "<svg aria-hidden=\"true\" class=\"svg-icon iconRefresh\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14.65 3.35A8 8 0 1 0 16.73 11h-2.08a6 6 0 1 1-1.43-6.22L10 8h7V1l-2.35 2.35Z\"/></svg>";
const IconRefreshSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconRefreshSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M11.24 2.76 13 1v5H8l1.9-1.9a4.09 4.09 0 0 0-7 2.9 4.1 4.1 0 0 0 8.08 1h1.94a6 6 0 1 1-1.68-5.24Z\"/></svg>";
const IconRelocation = "<svg aria-hidden=\"true\" class=\"svg-icon iconRelocation\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 5h-2V1H2a2 2 0 0 0-2 2v11h1a3 3 0 0 0 6 0h4a3 3 0 1 0 6 0h1V9l-3-4ZM4 15.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm10.5-9 2 2.5H13V6.5h1.5Zm-.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\"/></svg>";
const IconRelocationSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconRelocationSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M10 3H8V1H2C.91 1 0 1.91 0 3v8h.7a2.5 2.5 0 0 0 4.6 0h2.4a2.5 2.5 0 0 0 4.6 0h.7V7l-3-4Zm-.5 1.5 2 2.5H8V4.5h1.5ZM4.2 10a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Zm7 0a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z\"/></svg>";
const IconRemote = "<svg aria-hidden=\"true\" class=\"svg-icon iconRemote\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m17.86 6.66-1.77 1.77a10 10 0 0 0-14.14 0L.18 6.66a12.5 12.5 0 0 1 17.68 0Zm-3.54 3.54-1.76 1.77a5 5 0 0 0-7.07 0L3.72 10.2a7.5 7.5 0 0 1 10.6 0Zm-3.53 3.54L9.02 15.5l-1.77-1.76a2.5 2.5 0 0 1 3.54 0Z\"/></svg>";
const IconRemoteSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconRemoteSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m13.36 4.64-1.41 1.41a7 7 0 0 0-9.9 0L.64 4.64a9 9 0 0 1 12.72 0ZM3.47 7.47a5 5 0 0 1 7.07 0L9.12 8.88a3 3 0 0 0-4.24 0L3.47 7.47ZM7 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\"/></svg>";
const IconReply = "<svg aria-hidden=\"true\" class=\"svg-icon iconReply\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M8 5.87V2L1 8.63 8 15v-3.7c4.72 0 7.64 1.48 10 4.7-.94-4.6-3.39-9.2-10-10.13Z\"/></svg>";
const IconReplySm = "<svg aria-hidden=\"true\" class=\"svg-icon iconReplySm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5 4V1L0 6.5 5 12V8.43c3.75 0 6.63 1.2 8.5 3.82C12.75 8.5 10.25 4.75 5 4Z\"/></svg>";
const IconReputation = "<svg aria-hidden=\"true\" class=\"svg-icon iconReputation\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M12.1 2.55A1 1 0 0 1 13 2h3.5a1 1 0 1 1 0 2h-2.88l-1.73 3.45A1 1 0 0 1 11 8H6.17l-3.25 7.88a1 1 0 1 1-1.84-.76l3.5-8.5A1 1 0 0 1 5.5 6h4.88l1.73-3.45Z\"/><path  d=\"M1 3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H2a1 1 0 0 1-1-1Zm0 4a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm14-1a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2h-1Zm-8 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm-1 3a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H6Z\" opacity=\".2\"/></svg>";
const IconReputationSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconReputationSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M9.67 1.5a1 1 0 0 1 .86-.5H12a1 1 0 1 1 0 2h-.89L9.67 5.5a1 1 0 0 1-.87.5H6.62l-3.23 6.45a1 1 0 1 1-1.78-.9l3.5-7A1 1 0 0 1 6 4h2.22l1.45-2.5Z\"/><path  d=\"M1 2a1 1 0 0 1 1-1h5a1 1 0 0 1 0 2H2a1 1 0 0 1-1-1Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm11-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM8 8a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm-1 2a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2H7Z\" opacity=\".2\"/></svg>";
const IconReviewQueue = "<svg aria-hidden=\"true\" class=\"svg-icon iconReviewQueue\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m11 12.47 5-4.97V3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6.5l-2.79-2.8a1 1 0 0 1 0-1.4l2.1-2.1a1 1 0 0 1 1.4 0L11 12.47ZM2 7h10v2H2V7Zm0-4h12v2H2V3Zm0 10v-2h3v2H2Zm9 4.5 7-7L16.5 9 11 14.5 8.5 12 7 13.5l4 4Z\"/></svg>";
const IconRichText = "<svg aria-hidden=\"true\" class=\"svg-icon iconRichText\" width=\"21\" height=\"18\"  viewBox=\"0 0 21 18\"><path fill=\"#0C0D0E\" d=\"M2 2a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h17a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2Zm6 2H2v2h6V4ZM2 8h17v2H2V8Zm17 4H2v2h17v-2Z\"/></svg>";
const IconRss = "<svg aria-hidden=\"true\" class=\"svg-icon iconRss\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H3Zm0 1.5c6.9 0 12.5 5.6 12.5 12.5H13C13 9.55 8.45 5 3 5V2.5Zm0 5c4.08 0 7.5 3.41 7.5 7.5H8c0-2.72-2.28-5-5-5V7.5Zm0 5c1.36 0 2.5 1.14 2.5 2.5H3v-2.5Z\"/></svg>";
const IconRuler = "<svg aria-hidden=\"true\" class=\"svg-icon iconRuler\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#BAC0C5\" d=\"M.64 11.52A1 1 0 0 1 1 10.15l13-7.5a1 1 0 0 1 1.36.37l2 3.46A1 1 0 0 1 17 7.85l-.87.5-1.5-2.6-.87.5 1.5 2.6-1.73 1-1-1.73-.86.5 1 1.73-1.74 1-1.5-2.6-.86.5 1.5 2.6-1.74 1-1-1.73-.86.5 1 1.73-1.73 1-1.5-2.6-.87.5 1.5 2.6-.87.5a1 1 0 0 1-1.36-.37l-2-3.46Zm13.92-6.89a.5.5 0 1 0-.5-.86.5.5 0 0 0 .5.86Z\"/></svg>";
const IconSOS = "<svg aria-hidden=\"true\" class=\"svg-icon iconSOS\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#F75D37\" d=\"M4 2a2 2 0 0 0-2 2v11c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H4Zm2 7a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1h2v-2H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1H5v2h1Zm4-3a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1Zm0 1H9v5h1V7Zm4.7 2.3a1 1 0 0 1 .3.7v2a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1h2v-2h-1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1h-2v2h1a1 1 0 0 1 .7.3Z\"/></svg>";
const IconSave = "<svg aria-hidden=\"true\" class=\"svg-icon iconSave\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V7a1 1 0 0 0-.3-.7l-5-5A1 1 0 0 0 11 1H3Zm0 2h8v3H3V3Zm6 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"/></svg>";
const IconSchool = "<svg aria-hidden=\"true\" class=\"svg-icon iconSchool\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m1 6 8-5 8 5v8h-2V7.09L9 11 1 6Zm8 10.82L3 13V9l6 3.82 5-3.32v4l-5 3.32Z\"/></svg>";
const IconSchoolSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSchoolSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m1 5 6-4 6 4v5h-1V5.58L7 8.75 1 5Zm6 8-4-2.6V7.69l4 2.46 4-2.55v2.8L7 13Z\"/></svg>";
const IconScreenFull = "<svg aria-hidden=\"true\" class=\"svg-icon iconScreenFull\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1h4v2H3v4H1V3c0-1.1.9-2 2-2Zm8 2V1h4a2 2 0 0 1 2 2v4h-2V3h-4Zm-8 8H1v4c0 1.1.9 2 2 2h4v-2H3v-4Zm12 0h2v4a2 2 0 0 1-2 2h-4v-2h4v-4Z\"/></svg>";
const IconScreenNormal = "<svg aria-hidden=\"true\" class=\"svg-icon iconScreenNormal\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 7H1V5h4V1h2v4a2 2 0 0 1-2 2Zm12-2v2h-4a2 2 0 0 1-2-2V1h2v4h4ZM5 17h2v-4a2 2 0 0 0-2-2H1v2h4v4Zm8 0h-2v-4c0-1.1.9-2 2-2h4v2h-4v4Z\"/></svg>";
const IconSearch = "<svg aria-hidden=\"true\" class=\"svg-icon iconSearch\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m18 16.5-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5ZM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0Z\"/></svg>";
const IconSearchSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSearchSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M9.96 8.73h.3l2.75 2.78-1.5 1.5-2.78-2.73v-.32a5.5 5.5 0 1 1 1.23-1.23ZM5.5 9a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z\"/></svg>";
const IconShare = "<svg aria-hidden=\"true\" class=\"svg-icon iconShare\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3 1h5v2H3v12h12v-5h2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2Zm14 0h-7v2h3.5L6 10.5 7.5 12 15 4.5V8h2V1Z\"/></svg>";
const IconShareAlt = "<svg aria-hidden=\"true\" class=\"svg-icon iconShareAlt\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M16 4a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-4.12-.93L12 3.38l1 1.74L4.88 9.8l-1-1.73ZM16 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM4.94 8.23l8.12 4.69-1 1.73-8.12-4.69 1-1.73Z\"/></svg>";
const IconShareSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconShareSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5 1H3a2 2 0 0 0-2 2v8c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V9h-2v2H3V3h2V1Zm2 0h6v6h-2V4.5L6.5 9 5 7.5 9.5 3H7V1Z\"/></svg>";
const IconShield = "<svg aria-hidden=\"true\" class=\"svg-icon iconShield\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m2 4 7-3 7 3v5.02C16 13.69 10.69 17 9 17c-1.69 0-7-3.31-7-7.98V4Zm6.14 5.2L7 12h4L9.86 9.2a.58.58 0 0 1 .25-.59c.56-.36.89-.95.89-1.61 0-1.09-.94-2-2.02-2A2 2 0 0 0 7 7c0 .66.33 1.25.89 1.61.2.13.3.36.25.59Z\"/></svg>";
const IconShieldSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconShieldSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2 3.25 7.5 1 13 3.23V7c0 3.5-4.3 6-5.5 6C6.3 13 2 10.52 2 7.01V3.25ZM6.86 7.6 6 10h3l-.86-2.4c-.03-.2.05-.4.2-.5.41-.31.66-1.03.66-1.6C9 4.57 8.3 4 7.49 4 6.67 4 6 4.57 6 5.5c0 .57.25 1.29.67 1.6.15.1.22.3.19.5Z\"/></svg>";
const IconShieldXSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconShieldXSm\" width=\"9\" height=\"10\"  viewBox=\"0 0 9 10\"><path fill=\"var(--white)\" d=\"M0 1.84 4.5 0 9 1.84v3.17C9 7.53 6.3 10 4.5 10 2.7 10 0 7.53 0 5.01V1.84Z\"/><path fill=\"var(--black-400)\" d=\"M1 2.5 4.5 1 8 2.5v2.51C8 7.34 5.34 9 4.5 9 3.65 9 1 7.34 1 5.01V2.5Zm2.98 3.02L3.2 7h2.6l-.78-1.48a.4.4 0 0 1 .15-.38c.34-.24.73-.7.73-1.14 0-.71-.5-1.23-1.41-1.23-.92 0-1.39.52-1.39 1.23 0 .44.4.9.73 1.14.12.08.18.23.15.38Z\"/></svg>";
const IconSkull = "<svg aria-hidden=\"true\" class=\"svg-icon iconSkull\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.95 1h-1.9A6.17 6.17 0 0 0 2 7.17c0 1.59.24 3.21.36 4.8.01.85.7 1.55 1.55 1.55h.51c.34 0 .44.28.48.55l.18 1.39c.16.85.7 1.54 1.54 1.54h4.76c.84 0 1.4-.7 1.54-1.54l.18-1.39c.04-.27.14-.55.48-.55h.51c.85 0 1.54-.7 1.55-1.56.12-1.58.36-3.2.36-4.79A6.18 6.18 0 0 0 9.95 1Z\" opacity=\".2\"/><path  d=\"M9.14 1H8.05A6.17 6.17 0 0 0 2 7.17c0 1.06.1 2.14.21 3.21l.15 1.58c.01.86.7 1.56 1.55 1.56h.51c.34 0 .44.28.48.55l.18 1.39c.16.85.7 1.54 1.54 1.54h2.52A11.5 11.5 0 0 1 6 9c0-3.15 1.2-6 3.14-8Z\" opacity=\".3\"/><path fill=\"var(--black-600)\" d=\"M10.08 12.25a.41.41 0 0 0-.82 0l-.13.65c-.05.26.14.5.4.5h.28c.26 0 .45-.24.4-.5l-.13-.65Zm-1.35 0a.41.41 0 0 0-.8 0l-.14.65c-.05.26.14.5.4.5h.27a.4.4 0 0 0 .4-.5l-.13-.65Z\"/><circle cx=\"11.5\" cy=\"9.5\" r=\"1.75\" fill=\"var(--black-600)\"/><circle cx=\"6.5\" cy=\"9.5\" r=\"1.75\" fill=\"var(--black-600)\"/><path fill=\"var(--black-600)\" d=\"M7.5 15a.5.5 0 0 0-.5.5V17h1v-1.5a.5.5 0 0 0-.5-.5Zm3.5 2v-1.5a.5.5 0 0 0-1 0V17h1Zm-1.5 0v-1.5a.5.5 0 0 0-1 0V17h1Z\"/></svg>";
const IconSlack = "<svg aria-hidden=\"true\" class=\"svg-icon iconSlack\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#E01E5A\" d=\"M6.5 16A1.5 1.5 0 0 1 5 14.5v-4a1.5 1.5 0 1 1 3 0v4c0 .83-.67 1.5-1.5 1.5Zm-4-4a1.5 1.5 0 0 1 0-3H4v1.5c0 .83-.67 1.5-1.5 1.5Z\"/><path fill=\"#36C5F0\" d=\"M2.5 5h4a1.5 1.5 0 1 1 0 3h-4a1.5 1.5 0 1 1 0-3Zm4-4C7.33 1 8 1.67 8 2.5V4H6.5a1.5 1.5 0 1 1 0-3Z\"/><path fill=\"#ECB22E\" d=\"M10.5 9h4a1.5 1.5 0 0 1 0 3h-4a1.5 1.5 0 0 1 0-3Zm0 7A1.5 1.5 0 0 1 9 14.5V13h1.5a1.5 1.5 0 0 1 0 3Z\"/><path fill=\"#2EB67D\" d=\"M10.5 1c.83 0 1.5.67 1.5 1.5v4a1.5 1.5 0 0 1-3 0v-4c0-.83.67-1.5 1.5-1.5Zm4 4a1.5 1.5 0 0 1 0 3H13V6.5c0-.83.67-1.5 1.5-1.5Z\"/></svg>";
const IconSmartPhone = "<svg aria-hidden=\"true\" class=\"svg-icon iconSmartPhone\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M6 1h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2Zm0 2v10h6V3H6Zm3 13.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z\"/></svg>";
const IconSmileyAdd = "<svg aria-hidden=\"true\" class=\"svg-icon iconSmileyAdd\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M13 0h2v3h3v2h-3v3h-2V5h-3V3h3V0ZM6.44 2.15A8 8 0 0 1 8 2v2a6 6 0 1 0 6 6h2a8 8 0 1 1-9.56-7.85ZM8.1 14.22a5.51 5.51 0 0 1-3.72-1.6.88.88 0 0 1 1.24-1.24 3.24 3.24 0 0 0 4.76 0 .88.88 0 0 1 1.24 1.24 4.9 4.9 0 0 1-3.52 1.6ZM7.25 8a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM10 9.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\"/></svg>";
const IconSpeechBubble = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubble\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m4 15-3 3V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4Z\"/></svg>";
const IconSpeechBubbleError = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleError\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m1 18 3-3h11a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v14ZM8 4h2v5H8V4Zm0 7h2v2H8v-2Z\"/></svg>";
const IconSpeechBubbleQuestion = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleQuestion\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m1 18 3-3h11c1.09 0 2-.91 2-2V4c0-1.09-.91-2-2-2H3a2 2 0 0 0-2 2v14Zm7.96-4.94c-.57-.02-1.03-.43-1.01-1.06.02-.63.5-1.04 1.08-1.02.6.02 1.05.45 1.03 1.08-.02.63-.48 1.02-1.1 1Zm.92-3.68a3.6 3.6 0 0 0-.08.65c0 .04-.03.14-.16.14h-1.4c-.14 0-.16-.09-.16-.13-.01-.5.11-.99.36-1.42.2-.36.58-.65 1.06-.93.41-.23.78-.71.78-1.2 0-.27-.09-.53-.26-.74-.22-.26-.46-.4-.92-.4-.45 0-.83.23-1.02.52-.17.27-.16.55-.16.83v.11H6.2c0-1.17.31-1.92.98-2.36a3.5 3.5 0 0 1 1.83-.44c.88 0 1.58.16 2.2.62.58.42.88 1.02.88 1.82 0 .5-.17.9-.43 1.24-.15.2-.44.47-.86.8l-.48.3c-.2.14-.36.35-.44.6Z\"/></svg>";
const IconSpeechBubbleRight = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleRight\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14 15H3c-1.09 0-2-.91-2-2V4c0-1.1.9-2 2-2h12c1.09 0 2 .91 2 2v14l-3-3Z\"/></svg>";
const IconSpeechBubbleRightSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleRightSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m10 11 3 3V4a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v5c0 1.1.9 2 2 2h7Z\"/></svg>";
const IconSpeechBubbleRightStar = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleRightStar\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m17 18-3-3H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14ZM9.4 3.4a.4.4 0 0 0-.75 0L7.54 6.19a.4.4 0 0 1-.35.25l-2.98.2a.4.4 0 0 0-.23.7l2.3 1.92c.12.1.17.26.13.4l-.73 2.9a.4.4 0 0 0 .6.44l2.53-1.59a.4.4 0 0 1 .43 0l2.53 1.6c.3.18.68-.1.6-.44l-.73-2.9a.4.4 0 0 1 .13-.4l2.3-1.92a.4.4 0 0 0-.24-.7l-2.98-.2a.4.4 0 0 1-.34-.26L9.39 3.41Z\"/></svg>";
const IconSpeechBubbleRightStarSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleRightStarSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m13 14-3-3H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v10ZM7.31 2.72a.3.3 0 0 0-.56 0l-.77 2.06a.3.3 0 0 1-.27.2l-2.2.1a.3.3 0 0 0-.18.53l1.73 1.37c.1.08.13.2.1.32l-.59 2.12a.3.3 0 0 0 .46.33l1.84-1.22a.3.3 0 0 1 .33 0l1.83 1.22a.3.3 0 0 0 .46-.33L8.9 7.3a.3.3 0 0 1 .1-.32l1.73-1.37a.3.3 0 0 0-.18-.53l-2.2-.1a.3.3 0 0 1-.27-.2l-.77-2.06Z\"/></svg>";
const IconSpeechBubbleSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSpeechBubbleSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m4 11-3 3V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4Z\"/></svg>";
const IconStackExchange = "<svg aria-hidden=\"true\" class=\"svg-icon iconStackExchange\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 1H3a2 2 0 0 0-2 2v2h16V3a2 2 0 0 0-2-2ZM1 13c0 1.1.9 2 2 2h8v3l3-3h1a2 2 0 0 0 2-2v-2H1v2Zm16-7H1v4h16V6Z\"/></svg>";
const IconStar = "<svg aria-hidden=\"true\" class=\"svg-icon iconStar\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M8.63.95a.4.4 0 0 1 .74 0l2.05 4.93a.4.4 0 0 0 .34.24l5.32.43c.35.03.5.47.22.7l-4.05 3.47a.4.4 0 0 0-.13.4l1.24 5.2a.4.4 0 0 1-.6.43l-4.55-2.79a.4.4 0 0 0-.42 0l-4.55 2.79a.4.4 0 0 1-.6-.44l1.24-5.19a.4.4 0 0 0-.13-.4L.7 7.25a.4.4 0 0 1 .22-.7l5.32-.43a.4.4 0 0 0 .34-.24L8.63.95Z\"/></svg>";
const IconStarHalf = "<svg aria-hidden=\"true\" class=\"svg-icon iconStarHalf\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M4.24 16.75a.4.4 0 0 1-.6-.44l1.24-5.19a.4.4 0 0 0-.13-.4L.7 7.25a.4.4 0 0 1 .22-.7l5.32-.43a.4.4 0 0 0 .34-.24L8.63.95A.4.4 0 0 1 9 .7c.15 0 .3.09.37.25l2.05 4.93a.4.4 0 0 0 .34.24l5.32.43c.35.03.5.47.22.7l-4.05 3.47a.4.4 0 0 0-.13.4l1.24 5.2a.4.4 0 0 1-.6.43l-4.55-2.79a.4.4 0 0 0-.42 0l-4.55 2.79ZM9 2.67V12.9c.25 0 .5.06.73.2l3.32 2.03-.9-3.79a1.4 1.4 0 0 1 .45-1.38l2.96-2.54-3.88-.31a1.4 1.4 0 0 1-1.18-.86L9 2.66Z\"/></svg>";
const IconStarHalfSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconStarHalfSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5.17 4.65 6.73.79a.3.3 0 0 1 .55 0l1.55 3.86c.05.1.15.18.26.19l4.15.28a.3.3 0 0 1 .17.53l-3.19 2.67a.3.3 0 0 0-.1.3l1.02 4.03a.3.3 0 0 1-.45.33l-3.53-2.21a.3.3 0 0 0-.32 0l-3.52 2.21a.3.3 0 0 1-.45-.33l1.01-4.03a.3.3 0 0 0-.1-.3L.6 5.65a.3.3 0 0 1 .17-.53l4.16-.28a.3.3 0 0 0 .25-.2Zm2.73.37L7 2.78v6.94c.24 0 .48.07.7.2l2.04 1.29-.59-2.35c-.12-.48.05-1 .43-1.31L11.44 6l-2.42-.17a1.3 1.3 0 0 1-1.12-.8Z\"/></svg>";
const IconStarSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconStarSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M6.73.79a.3.3 0 0 1 .55 0l1.55 3.86c.05.1.15.18.26.19l4.15.28a.3.3 0 0 1 .17.53l-3.19 2.67a.3.3 0 0 0-.1.3l1.02 4.03a.3.3 0 0 1-.45.33l-3.53-2.21a.3.3 0 0 0-.32 0l-3.52 2.21a.3.3 0 0 1-.45-.33l1.01-4.03a.3.3 0 0 0-.1-.3L.6 5.65a.3.3 0 0 1 .17-.53l4.16-.28a.3.3 0 0 0 .25-.2L6.73.8Z\"/></svg>";
const IconStarVerified = "<svg aria-hidden=\"true\" class=\"svg-icon iconStarVerified\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.86.89a1.14 1.14 0 0 0-1.72 0l-.5.58c-.3.35-.79.48-1.23.33l-.72-.25a1.14 1.14 0 0 0-1.49.85l-.14.76c-.1.45-.45.8-.9.9l-.76.14c-.67.14-1.08.83-.85 1.49l.25.72c.15.44.02.92-.33 1.23l-.58.5a1.14 1.14 0 0 0 0 1.72l.58.5c.35.3.48.79.33 1.23l-.25.72c-.23.66.18 1.35.85 1.49l.76.14c.45.1.8.45.9.9l.14.76c.14.67.83 1.08 1.49.85l.72-.25c.44-.15.92-.02 1.23.33l.5.58c.46.52 1.26.52 1.72 0l.5-.58c.3-.35.79-.48 1.23-.33l.72.25c.66.23 1.35-.18 1.49-.85l.14-.76c.1-.45.45-.8.9-.9l.76-.14c.67-.14 1.08-.83.85-1.49l-.25-.72c-.15-.44-.02-.92.33-1.23l.58-.5c.52-.46.52-1.26 0-1.72l-.58-.5c-.35-.3-.48-.79-.33-1.23l.25-.72a1.14 1.14 0 0 0-.85-1.49l-.76-.14c-.45-.1-.8-.45-.9-.9l-.14-.76a1.14 1.14 0 0 0-1.49-.85l-.72.25c-.44.15-.92.02-1.23-.33l-.5-.58Zm-.49 2.67L10.6 6.6c.05.15.19.24.34.25l3.26.22c.36.03.5.48.23.71l-2.5 2.1a.4.4 0 0 0-.14.4l.8 3.16a.4.4 0 0 1-.6.44L9.2 12.13a.4.4 0 0 0-.42 0l-2.77 1.74a.4.4 0 0 1-.6-.44l.8-3.16a.4.4 0 0 0-.13-.4l-2.5-2.1a.4.4 0 0 1 .22-.7l3.26-.23a.4.4 0 0 0 .34-.25l1.22-3.03a.4.4 0 0 1 .74 0Z\"/></svg>";
const IconStarVerifiedSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconStarVerifiedSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7.7.72c-.4-.3-.94-.3-1.34 0l-1.26.92c-.15.11-.32.18-.5.2l-1.54.25c-.49.07-.87.45-.95.94l-.23 1.55c-.03.18-.1.35-.2.5L.74 6.32c-.3.4-.3.94 0 1.34l.92 1.26c.11.14.18.31.2.5l.24 1.54c.08.49.46.87.95.94l1.54.24c.18.03.35.1.5.2l1.26.93c.4.3.94.3 1.34 0l1.26-.92c.14-.11.31-.18.5-.21l1.54-.24c.48-.07.87-.45.94-.94l.24-1.55c.03-.18.1-.35.2-.5l.93-1.25c.3-.4.3-.94 0-1.34l-.93-1.26c-.1-.14-.17-.31-.2-.5l-.24-1.54A1.13 1.13 0 0 0 11 2.1l-1.55-.24c-.18-.03-.35-.1-.5-.2L7.7.71Zm-.4 1.72.9 2.5c.04.1.15.19.27.2l2.65.08c.28 0 .4.36.17.53L9.21 7.38a.3.3 0 0 0-.1.32l.74 2.54a.3.3 0 0 1-.46.33L7.19 9.1a.3.3 0 0 0-.33 0l-2.19 1.48a.3.3 0 0 1-.46-.33l.74-2.54a.3.3 0 0 0-.1-.32l-2.1-1.63a.3.3 0 0 1 .18-.53l2.65-.09a.3.3 0 0 0 .27-.2l.9-2.49a.3.3 0 0 1 .56 0Z\"/></svg>";
const IconStrikethrough = "<svg aria-hidden=\"true\" class=\"svg-icon iconStrikethrough\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M11.96 6.2a4.28 4.28 0 0 0-1.19-.7c-.3-.14-.61-.25-.96-.34a4.2 4.2 0 0 0-1.05-.13c-.64 0-1.11.11-1.43.35-.3.23-.47.56-.47.99 0 .24.06.45.17.62l.01.01H4.5v-.26c0-.6.1-1.14.33-1.61.22-.47.53-.86.92-1.18.4-.3.87-.54 1.4-.7a6.44 6.44 0 0 1 4 .15c.7.26 1.31.57 1.84.92L11.96 6.2ZM3 8v2h5.02l1.1.32c.39.11.71.24.98.37s.47.29.62.47a1 1 0 0 1 .22.65c0 .82-.64 1.22-1.91 1.22-.46 0-.9-.05-1.34-.16a7.79 7.79 0 0 1-2.13-.9 3.6 3.6 0 0 1-.54-.4l-1.02 2a8.95 8.95 0 0 0 5 1.54c.57 0 1.13-.06 1.65-.18.54-.14 1-.34 1.4-.62.42-.28.74-.64.98-1.1.25-.45.37-1 .37-1.63a3.14 3.14 0 0 0-.38-1.58H15V8H3Z\"/></svg>";
const IconStroller = "<svg aria-hidden=\"true\" class=\"svg-icon iconStroller\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M10 1c-.7 0-1.37.12-2 .34V6h7.92A6 6 0 0 0 10 1Zm6 6H6L5 5H1v2h3c0 1.12.3 2.17.84 3.06A3.5 3.5 0 1 0 9 13.5a3.5 3.5 0 1 0 5.68-2.74A5.97 5.97 0 0 0 16 7Zm-7 6.5c0-.2-.02-.4-.05-.6l.1.02c-.03.2-.05.38-.05.58Zm-2 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm7 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/></svg>";
const IconSubway = "<svg aria-hidden=\"true\" class=\"svg-icon iconSubway\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9 1c-4.42 0-7 .5-7 4v6.5A3.5 3.5 0 0 0 5.5 15L4 16.5v.5h10v-.5L12.5 15a3.5 3.5 0 0 0 3.5-3.5V5c0-3.5-2.58-4-7-4ZM5.5 12.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5ZM8 9H4V5h4v4Zm4.5 3.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5ZM14 9h-4V5h4v4Z\"/></svg>";
const IconSync = "<svg aria-hidden=\"true\" class=\"svg-icon iconSync\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M13.7 12.7A6.15 6.15 0 0 1 9 14.82 6.06 6.06 0 0 1 3.29 11H1c.92 3.45 4.15 6 8 6 2.5 0 4.73-1.07 6.24-2.76L17 16v-6h-6l2.7 2.7ZM1 2v6h6L4.3 5.3A6.15 6.15 0 0 1 9 3.18 6.06 6.06 0 0 1 14.71 7H17a8.22 8.22 0 0 0-8-6 8.36 8.36 0 0 0-6.24 2.76L1 2Z\"/></svg>";
const IconSyncSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconSyncSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M10.58 9.58A4.46 4.46 0 0 1 7 11.36 4.43 4.43 0 0 1 2.67 8H1c.48 2.84 2.99 5 6 5a6.1 6.1 0 0 0 4.75-2.25L13 12V8H9l1.58 1.58ZM3.42 4.42A4.46 4.46 0 0 1 7 2.64 4.43 4.43 0 0 1 11.33 6H13a6.06 6.06 0 0 0-6-5 6.1 6.1 0 0 0-4.75 2.25L1 2v4h4L3.42 4.42Z\"/></svg>";
const IconTIL = "<svg aria-hidden=\"true\" class=\"svg-icon iconTIL\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#8B41AF\" d=\"M2 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.5 2.5c0 .28.22.5.5.5h1v5.5a.5.5 0 0 0 1 0V7h1a.5.5 0 0 0 0-1H5a.5.5 0 0 0-.5.5Zm5.5 0a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0v-6Zm2.5-.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5h2a.5.5 0 0 0 0-1H13V6.5a.5.5 0 0 0-.5-.5Z\"/></svg>";
const IconTable = "<svg aria-hidden=\"true\" class=\"svg-icon iconTable\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M1 3c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3Zm7 4V3H3v4h5Zm0 4V9H3v2h5Zm7-2h-5v2h5V9Zm0 6v-2h-5v2h5Zm-7-2H3v2h5v-2Zm7-10h-5v4h5V3Z\"/></svg>";
const IconTack = "<svg aria-hidden=\"true\" class=\"svg-icon iconTack\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m6.79 12.67 3.53 3.53a6 6 0 0 0 1.18-6.83l2.03-2.03A4 4 0 0 0 18 5.5L12.53.03A4 4 0 0 0 10.7 4.5L8.67 6.54a6 6 0 0 0-6.83 1.18l3.53 3.53-3.18 3.18-1.77 3.19 3.18-1.77 3.19-3.18Z\"/></svg>";
const IconTackSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconTackSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M5.3 10.3 8 13c1.08-1.08 1.32-3.67.58-5.4l1.6-1.68c1.05.29 2.5-.1 3.34-.93.2-.19.35-.4.48-.63L9.65 0C9.42.13 9.2.3 9 .5a4.04 4.04 0 0 0-.93 3.48L6.4 5.65C4.62 4.8 2.53 4.61 1 6l2.7 2.7-2.5 2.6L0 14l2.7-1.2 2.6-2.5Z\"/></svg>";
const IconTada = "<svg aria-hidden=\"true\" class=\"svg-icon iconTada\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FF9700\" d=\"M10.38 7.48c-2.9-2.9-5.4-3.73-5.51-3.38l-3.8 11.45c-.14.4-.03.86.27 1.15.3.3.78.38 1.17.22l11.42-3.31c.3-.15-.64-3.22-3.54-6.13Z\" opacity=\".4\"/><path fill=\"#FF9700\" d=\"M6.8 11.07a18.02 18.02 0 0 1-2.93-3.96l1-3C5.47 6.15 6.65 8 8.25 9.4a21.72 21.72 0 0 0 5.59 4.22l-2.86.83a31.19 31.19 0 0 1-4.17-3.39ZM3.6 14.2a4.26 4.26 0 0 1-1.33-2.24l.91-2.74c.5 1.27 1.25 2.43 2.2 3.4.95.95 2 1.81 3.1 2.57l-2.57.74a9.03 9.03 0 0 1-2.31-1.72Z\" opacity=\".6\"/><path fill=\"#F75D37\" d=\"M15.85 2.15c.2.2.2.5 0 .7l-4 4a.5.5 0 0 1-.7-.7l4-4c.2-.2.5-.2.7 0Z\"/><path fill=\"#07C\" d=\"M10 1.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0v-3ZM13.5 8a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z\"/><path fill=\"#07C\" d=\"M7.5 3a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm5 0a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1ZM16 5.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm-.5 5.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Z\" opacity=\".6\"/></svg>";
const IconTag = "<svg aria-hidden=\"true\" class=\"svg-icon iconTag\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.84 1a2 2 0 0 0-1.41.58L1.59 8.43a2 2 0 0 0 0 2.82l5.16 5.16a2 2 0 0 0 2.82 0l6.84-6.84a2 2 0 0 0 .59-1.4V3a2 2 0 0 0-2-2H9.84ZM13 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\"/></svg>";
const IconTagSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconTagSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7.63 1c-.4 0-.78.16-1.06.44L1.44 6.57a1.5 1.5 0 0 0 0 2.12l3.87 3.87a1.5 1.5 0 0 0 2.12 0l5.13-5.13c.28-.28.44-.66.44-1.06V2.5c0-.83-.67-1.5-1.5-1.5H7.63ZM9.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\"/></svg>";
const IconTags = "<svg aria-hidden=\"true\" class=\"svg-icon iconTags\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M9.24 1a3 3 0 0 0-2.12.88l-5.7 5.7a2 2 0 0 0-.38 2.31 3 3 0 0 1 .67-1.01l6-6A3 3 0 0 1 9.83 2H14a3 3 0 0 1 .79.1A2 2 0 0 0 13 1H9.24Z\" opacity=\".4\"/><path  d=\"M9.83 3a2 2 0 0 0-1.42.59l-6 6a2 2 0 0 0 0 2.82L6.6 16.6a2 2 0 0 0 2.82 0l6-6A2 2 0 0 0 16 9.17V5a2 2 0 0 0-2-2H9.83ZM12 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\"/></svg>";
const IconTagsSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconTagsSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M6.83 1a2 2 0 0 0-1.42.59l-4.2 4.2a1 1 0 0 0 0 1.42l.1.1.19-.22L6 2.59A2 2 0 0 1 7.41 2H11a1 1 0 0 0-1-1H6.83Z\" opacity=\".4\"/><path  d=\"M6.7 3.3a1 1 0 0 1 .71-.3H11a1 1 0 0 1 1 1v3.59a1 1 0 0 1-.3.7l-4.5 4.5a1 1 0 0 1-1.4 0L2.2 9.21a1 1 0 0 1 0-1.42l4.5-4.5ZM9 7.24a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\"/></svg>";
const IconTheme = "<svg aria-hidden=\"true\" class=\"svg-icon iconTheme\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3.34 14.66A8 8 0 1 0 14.66 3.34 8 8 0 0 0 3.34 14.66Zm9.9-1.42a6 6 0 0 1-8.48 0l8.48-8.48a6 6 0 0 1 0 8.48Z\"/></svg>";
const IconThree = "<svg aria-hidden=\"true\" class=\"svg-icon iconThree\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M8.07 9.23h1.2c.58 0 1-.14 1.28-.43.27-.28.41-.66.41-1.14 0-.45-.14-.81-.41-1.07a1.58 1.58 0 0 0-1.13-.38c-.43 0-.8.12-1.08.36-.3.23-.44.54-.44.92H5.64c0-.6.16-1.12.48-1.6.32-.47.77-.84 1.34-1.1.58-.27 1.21-.4 1.9-.4 1.21 0 2.15.29 2.84.87a2.93 2.93 0 0 1 1.02 2.37c0 .52-.16 1-.48 1.44a3.1 3.1 0 0 1-1.25 1 2.8 2.8 0 0 1 1.43 1.04c.32.46.48 1 .48 1.62a3 3 0 0 1-1.11 2.43c-.74.61-1.7.92-2.92.92-1.14 0-2.07-.3-2.8-.9A2.94 2.94 0 0 1 5.5 12.8h2.26c0 .43.16.78.47 1.05.33.27.72.4 1.2.4.53 0 .95-.13 1.25-.41.3-.29.46-.67.46-1.14 0-1.13-.62-1.7-1.87-1.7h-1.2V9.23ZM17.25 15a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\" opacity=\".2\"/><path  d=\"M6.07 7.83h1.2c.58 0 1-.15 1.28-.43.27-.29.41-.67.41-1.14 0-.46-.14-.82-.41-1.07a1.58 1.58 0 0 0-1.13-.39c-.43 0-.8.12-1.08.36-.3.24-.44.55-.44.93H3.64c0-.6.16-1.13.48-1.6.32-.47.77-.84 1.34-1.1.58-.27 1.21-.4 1.9-.4 1.21 0 2.15.28 2.84.86a2.93 2.93 0 0 1 1.02 2.38 2.92 2.92 0 0 1-1.73 2.61c.64.23 1.12.81 1.43 1.27.32.46.48 1 .48 1.62a3 3 0 0 1-1.11 2.43c-.74.61-1.7.92-2.92.92-1.14 0-2.07-.3-2.8-.9A2.94 2.94 0 0 1 3.5 11.8h2.26c0 .43.16.78.47 1.05.33.27.72.4 1.2.4.53 0 .95-.13 1.25-.41.3-.29.46-.67.46-1.14 0-1.13-.62-1.7-1.87-1.7h-1.2V7.83ZM15.25 14a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\"/></svg>";
const IconThreeLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconThreeLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M14.2 18.53h2.44c1.16 0 2.02-.28 2.58-.84.56-.57.84-1.32.84-2.25 0-.9-.28-1.6-.84-2.1-.55-.5-1.3-.76-2.28-.76-.87 0-1.6.24-2.2.7a2.2 2.2 0 0 0-.88 1.82H9.28c0-1.16.33-2.21.97-3.13a6.49 6.49 0 0 1 2.72-2.19A9.37 9.37 0 0 1 16.83 9c2.44 0 4.35.57 5.73 1.7a5.7 5.7 0 0 1 2.08 4.68c0 1.03-.33 1.97-.97 2.83a6.24 6.24 0 0 1-2.53 1.98 5.67 5.67 0 0 1 2.9 2.03c.64.9.96 1.97.96 3.2 0 1.99-.75 3.58-2.25 4.78-1.48 1.2-3.46 1.8-5.92 1.8-2.3 0-4.18-.59-5.65-1.77A5.72 5.72 0 0 1 9 25.56h4.57c0 .84.33 1.53.97 2.06.65.53 1.46.8 2.4.8 1.1 0 1.94-.28 2.55-.83.63-.57.94-1.3.94-2.23 0-2.24-1.27-3.35-3.8-3.35H14.2v-3.48ZM33 30a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\" opacity=\".2\"/><path  d=\"M12.03 15.61h2.61c1.16 0 2.02-.28 2.58-.85s.84-1.32.84-2.26c0-.91-.28-1.62-.84-2.13-.55-.5-1.3-.76-2.28-.76-.87 0-1.6.24-2.2.72a2.2 2.2 0 0 0-.88 1.82H7.28c0-1.17.33-2.23.97-3.16a6.5 6.5 0 0 1 2.72-2.2A9.3 9.3 0 0 1 14.83 6c2.44 0 4.35.57 5.73 1.72a5.77 5.77 0 0 1 2.08 4.71 5.71 5.71 0 0 1-3.5 5.2c1.3.45 2.26 1.6 2.9 2.51.64.9.96 1.98.96 3.22 0 2-.75 3.62-2.25 4.83-1.48 1.2-3.46 1.81-5.92 1.81-2.3 0-4.18-.6-5.65-1.78A5.78 5.78 0 0 1 7 23.5h4.57c0 .85.33 1.54.97 2.08.65.54 1.46.8 2.4.8 1.1 0 1.94-.27 2.55-.83a2.9 2.9 0 0 0 .94-2.25c0-2.25-1.27-3.38-3.8-3.38h-2.6v-4.3ZM31 28a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"/></svg>";
const IconThumbsDown = "<svg aria-hidden=\"true\" class=\"svg-icon iconThumbsDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#07C\" d=\"M1 6.5C1 5.67 1.67 5 2.5 5H4v6H2.5A1.5 1.5 0 0 1 1 9.5v-3Z\" opacity=\".7\"/><path fill=\"#FFC166\" d=\"M5 4.95v6s3.94 5.28 4.2 5.6c.27.33.64.46.96.46.32 0 .6-.14.84-.36.34-.32.48-1.23.44-1.9a3.32 3.32 0 0 0-.69-1.8c-.23-.31.04-.78.49-.71 0 0 1.71.33 2.3.36.59.03 2.71.12 2.71-1.68 0-1.8-.97-4.53-1.4-5.44-.43-.92-1.19-2.15-2.11-2.38a4.83 4.83 0 0 0-2.64.05L5 4.95Z\"/></svg>";
const IconThumbsUp = "<svg aria-hidden=\"true\" class=\"svg-icon iconThumbsUp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M5 15V9s3.94-5.28 4.2-5.6c.27-.33.64-.46.96-.46.32 0 .6.14.84.36.34.32.48 1.23.44 1.89A3.32 3.32 0 0 1 10.75 7c-.23.31.04.78.49.71 0 0 1.71-.33 2.3-.36.59-.03 2.71-.13 2.71 1.68 0 1.8-.97 4.52-1.4 5.44-.43.92-1.19 2.15-2.11 2.38-.87.23-1.78.21-2.64-.05L5 15Z\"/><path fill=\"#07C\" d=\"M1 10.5C1 9.67 1.67 9 2.5 9H4v6H2.5A1.5 1.5 0 0 1 1 13.5v-3Z\" opacity=\".7\"/><path  d=\"M11 .5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0v-1ZM6.15 2.15c.2-.2.5-.2.7 0l1 1a.5.5 0 1 1-.7.7l-1-1a.5.5 0 0 1 0-.7Zm8.7 0c.2.2.2.5 0 .7l-1 1a.5.5 0 0 1-.7-.7l1-1c.2-.2.5-.2.7 0Z\" opacity=\".4\"/></svg>";
const IconTool = "<svg aria-hidden=\"true\" class=\"svg-icon iconTool\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M4.2 1.33a4.99 4.99 0 0 1 6.47 6.47L17 14.13l-2.88 2.88-6.34-6.34a4.99 4.99 0 0 1-6.45-6.45l3.22 3.2 2.88-2.87L4.2 1.33Z\"/></svg>";
const IconTrash = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrash\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M15 2a1 1 0 0 1 1 1v1H2V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1h2Zm0 3H3v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V5Z\"/></svg>";
const IconTrashSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrashSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M11 2a1 1 0 0 1 1 1v1H2V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h2Zm0 3H3v6c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V5Z\"/></svg>";
const IconTrendingDown = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingDown\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m11 14 2.29-2.29L10.5 9l-3 3L1 5.5 2.5 4l5 5 3-3 4.21 4.29L17 8v6h-6Z\"/></svg>";
const IconTrendingNone = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingNone\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5 8V5L1 9l4 4v-3h8v3l4-4-4-4v3H5Z\"/></svg>";
const IconTrendingUp = "<svg aria-hidden=\"true\" class=\"svg-icon iconTrendingUp\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m11 4 2.29 2.29L10.5 9l-3-3L1 12.5 2.5 14l5-5 3 3 4.21-4.29L17 10V4h-6Z\"/></svg>";
const IconTwitter = "<svg aria-hidden=\"true\" class=\"svg-icon iconTwitter\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#2AA3EF\" d=\"M17 4.04c-.59.26-1.22.44-1.88.52a3.3 3.3 0 0 0 1.44-1.82c-.64.37-1.34.64-2.09.79a3.28 3.28 0 0 0-5.6 2.99A9.3 9.3 0 0 1 2.12 3.1a3.28 3.28 0 0 0 1.02 4.38 3.28 3.28 0 0 1-1.49-.4v.03a3.29 3.29 0 0 0 2.64 3.22 3.34 3.34 0 0 1-1.48.06 3.29 3.29 0 0 0 3.07 2.28 6.58 6.58 0 0 1-4.85 1.36 9.33 9.33 0 0 0 5.04 1.47c6.04 0 9.34-5 9.34-9.33v-.42a6.63 6.63 0 0 0 1.63-1.7L17 4.04Z\"/></svg>";
const IconTwo = "<svg aria-hidden=\"true\" class=\"svg-icon iconTwo\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M17.25 15a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm-4.29 1h-7.8v-1.55l3.68-3.92a9.2 9.2 0 0 0 1.12-1.44c.25-.42.37-.8.37-1.18 0-.5-.13-.9-.38-1.18-.26-.3-.62-.44-1.1-.44-.5 0-.91.18-1.2.53-.3.35-.45.64-.45 1.21H4.94c0-.7.16-1.15.49-1.73a3.5 3.5 0 0 1 1.4-1.34c.61-.33 1.3-.5 2.06-.5 1.17 0 2.08.29 2.73.85a3 3 0 0 1 .97 2.39 3.8 3.8 0 0 1-.43 1.71c-.3.59-.8 1.27-1.5 2.04l-2.59 2.73h4.9V16Z\" opacity=\".2\"/><path  d=\"M10.96 15h-7.8v-1.55l3.68-3.92a9.2 9.2 0 0 0 1.12-1.44c.25-.42.42-.93.42-1.3 0-.4 0-.88-.34-1.27-.26-.3-.71-.54-1.19-.54-.5 0-.91.18-1.2.54-.3.34-.45.94-.45 1.51H2.94c0-.7.16-1.59.49-2.16a3.5 3.5 0 0 1 1.4-1.35c.61-.32 1.3-.49 2.06-.49 1.17 0 2.07.4 2.72.95.65.57.98 1.69.98 2.72a3.8 3.8 0 0 1-.43 1.71c-.3.59-.8 1.27-1.5 2.04l-2.59 2.73h4.9V15Zm4.29-1a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\"/></svg>";
const IconTwoLg = "<svg aria-hidden=\"true\" class=\"svg-icon iconTwoLg\" width=\"36\" height=\"36\"  viewBox=\"0 0 36 36\"><path  d=\"M33 30a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-7 2H10.45v-3.09l7.34-7.82c1-1.1 1.75-2.06 2.23-2.88.49-.82.73-1.6.73-2.34 0-1-.25-1.8-.76-2.37a2.75 2.75 0 0 0-2.18-.87c-1.02 0-1.83.35-2.42 1.06-.58.7-.87 1.27-.87 2.42H10c0-1.39.33-2.3.98-3.45a6.97 6.97 0 0 1 2.8-2.68 8.44 8.44 0 0 1 4.1-.98c2.34 0 4.15.56 5.44 1.68 1.3 1.12 1.95 2.7 1.95 4.76 0 1.12-.3 2.26-.87 3.42a19.05 19.05 0 0 1-3 4.07l-5.15 5.44H26V32Z\" opacity=\".2\"/><path  d=\"M22 30H6v-2.84l7.79-8.13c1-1.1 1.75-2.07 2.23-2.9a5.7 5.7 0 0 0 .84-2.59c0-.79 0-1.76-.69-2.56a3.28 3.28 0 0 0-2.36-1.06c-1.02 0-1.83.35-2.42 1.06-.58.7-.87 1.9-.87 3.04H6c0-1.39.33-3.19.98-4.34a6.99 6.99 0 0 1 2.8-2.7 8.4 8.4 0 0 1 4.1-.98c2.34 0 4.14.78 5.42 1.91 1.3 1.13 1.97 3.38 1.97 5.44a7.7 7.7 0 0 1-.87 3.44 19.15 19.15 0 0 1-3 4.1l-5.15 5.46H22V30Zm9-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"/></svg>";
const IconUndo = "<svg aria-hidden=\"true\" class=\"svg-icon iconUndo\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M3.35 3.35A8 8 0 1 1 1.27 11h2.08a6 6 0 1 0 1.43-6.22L8 8H1V1l2.35 2.35Z\"/></svg>";
const IconUndoSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconUndoSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M2.76 2.76A6 6 0 1 1 1.09 8h1.93A4.1 4.1 0 1 0 4.1 4.1L6 6H1V1l1.76 1.76Z\"/></svg>";
const IconUnflag = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnflag\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"m3 11.14-3 3 1.41 1.42L15.56 1.4 14.14 0l-3 3H9.5L9 2H3v9.14ZM5 16H3.8L5 14.8V16Zm4-5-.06-.14L15 4.8V11H9Z\"/></svg>";
const IconUnflagSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnflagSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"m2 10.85 2-2L4.85 8l5-5 1.88-1.88L10.67.06 7.73 3H7.5L7 2H2v6.73L.06 10.67l1.06 1.06.88-.88ZM4 12H2.97L4 10.97V12Zm3-3-.3-.74L11 3.97V9H7Z\"/></svg>";
const IconUnlock = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnlock\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M5.9 6a3.1 3.1 0 0 1 5.4-2.08.95.95 0 0 0 1.4-1.28A4.99 4.99 0 0 0 4 6v1a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5.9V6Zm1.69 7.41a2 2 0 1 1 2.82-2.82A2 2 0 0 1 7.6 13.4Z\"/></svg>";
const IconUnlockSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnlockSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M4.9 4.5a2.1 2.1 0 0 1 3.6-1.47.7.7 0 0 0 1-.99 3.5 3.5 0 0 0-6 2.46V5C2.67 5 2 5.67 2 6.5v5c0 .83.67 1.5 1.5 1.5h7c.83 0 1.5-.67 1.5-1.5v-5c0-.83-.67-1.5-1.5-1.5H4.9v-.5ZM8.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"/></svg>";
const IconUnorderedList = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnorderedList\" width=\"17\" height=\"18\"  viewBox=\"0 0 17 18\"><path  d=\"M4.25 4a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 5H6V3h9v2Zm0 10H6v-2h9v2Zm-9-5h9V8H6v2Zm-1.75 4a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM3 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\"/></svg>";
const IconUnsync = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnsync\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M17.04 2.38 15.62.96.96 15.62l1.42 1.42L17.04 2.38ZM9 1c1.46 0 2.82.36 4.01 1l-1.63 1.64A6.3 6.3 0 0 0 4.3 5.3L7 8H1V2l1.76 1.76A8.36 8.36 0 0 1 9 1Zm5.5 5.5 1.6-1.6c.4.65.7 1.35.9 2.1h-2.29a5.69 5.69 0 0 0-.22-.5ZM3.28 11l.22.5-1.6 1.6A7.82 7.82 0 0 1 1 11h2.29Zm3.34 3.37L5 16a8.43 8.43 0 0 0 10.24-1.76L17 16v-6h-6l2.7 2.7a6.3 6.3 0 0 1-7.06 1.67Z\"/></svg>";
const IconUnsyncSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconUnsyncSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M12.3.7.8 12.17l1.02 1.01L13.3 1.71l-1-1.02ZM7 13c-.88 0-1.72-.19-2.48-.52L5.8 11.2a4.54 4.54 0 0 0 4.78-1.62L9 8h4v4l-1.25-1.25A6.1 6.1 0 0 1 7 13Zm4.33-7a4.25 4.25 0 0 0-.07-.26l1.26-1.26c.23.47.39.99.48 1.52h-1.67Zm-3.1-3.2L9.5 1.53a6.13 6.13 0 0 0-7.25 1.72L1 2v4h4L3.42 4.42a4.46 4.46 0 0 1 4.8-1.62ZM1.49 9.54l1.26-1.26L2.67 8H1c.1.54.26 1.06.49 1.54Z\"/></svg>";
const IconUntrash = "<svg aria-hidden=\"true\" class=\"svg-icon iconUntrash\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M12.14 4H2V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1h1.14l1-1 1.42 1.41L2.4 16.56 1 15.14l2-2V5h8.14l1-1ZM15 6.8 4.8 17H13a2 2 0 0 0 2-2V6.8Z\"/></svg>";
const IconUntrashSm = "<svg aria-hidden=\"true\" class=\"svg-icon iconUntrashSm\" width=\"14\" height=\"14\"  viewBox=\"0 0 14 14\"><path  d=\"M7.67 4H1.94V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h.73l.94-.94 1.06 1.06-10.6 10.6L0 11.68l2.94-2.94V5h3.73l1-1Zm4.23 0 .04-.03V4h-.03Zm-1 1-7.39 7.4a2 2 0 0 0 1.43.6h4a2 2 0 0 0 2-2V5h-.03Z\"/></svg>";
const IconVK = "<svg aria-hidden=\"true\" class=\"svg-icon iconVK\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#507299\" d=\"M8.44 14.93h1.04s.3-.04.47-.22c.15-.17.15-.48.15-.48s-.03-1.47.62-1.68c.64-.22 1.45 1.41 2.31 2.04.66.48 1.16.38 1.16.38l2.3-.04s1.22-.08.64-1.08c-.04-.08-.32-.75-1.7-2.1-1.45-1.42-1.25-1.2.49-3.65 1.05-1.5 1.48-2.4 1.34-2.8-.12-.36-.9-.27-.9-.27l-2.6.02s-.19-.02-.33.07c-.14.09-.22.3-.22.3s-.42 1.16-.97 2.14c-1.16 2.08-1.63 2.2-1.81 2.06-.43-.3-.32-1.2-.32-1.85 0-2.01.29-3.38-.56-3.6a4.5 4.5 0 0 0-1.22-.13 5.3 5.3 0 0 0-2.15.24c-.3.15-.52.5-.39.51.17.03.56.11.77.41.27.39.25 1.77.25 1.77s.16 2.38-.35 2.67c-.36.2-.83-.21-1.87-2.1-.53-.96-.93-2.03-.93-2.03s-.07-.2-.21-.3c-.16-.13-.4-.18-.4-.18l-2.47.02s-.37.02-.5.19c-.12.14-.01.46-.01.46S2 10.5 4.19 12.9c2.01 2.21 4.29 2.07 4.29 2.07l-.04-.04Z\"/></svg>";
const IconVacation = "<svg aria-hidden=\"true\" class=\"svg-icon iconVacation\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#9199A1\" d=\"m11.56 10.13-1.43 1.43L15.57 17 17 15.57l-5.44-5.44Z\"/><path fill=\"#F7AA6D\" d=\"m16.27 3.63-2.53 2.53a9.86 9.86 0 0 0-10.1-2.54 8.93 8.93 0 0 1 12.63.01Zm-12.65.01a8.93 8.93 0 0 0 .01 12.63l2.53-2.53a9.86 9.86 0 0 1-2.54-10.1Z\"/><path fill=\"#F48024\" d=\"M3.62 3.63h.01c2.66-.34 6.09 1.03 8.85 3.8l-5.06 5.05C4.66 9.7 3.3 6.29 3.62 3.63Z\"/></svg>";
const IconWand = "<svg aria-hidden=\"true\" class=\"svg-icon iconWand\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path  d=\"M14.42 6.48c.3-.3.3-.77 0-1.06l-1.84-1.84a.75.75 0 0 0-1.06 0L.58 14.52c-.3.3-.3.77 0 1.06l1.84 1.84c.3.3.77.3 1.06 0L14.42 6.48Zm-2.37-2.43 1.9 1.9-3 3-1.9-1.9 3-3ZM8 0H7v1H6v1h1v1h1V2h1V1H8V0Zm9 2h-1V1h-1v1h-1v1h1v1h1V3h1V2Zm-2 9h1v1h-1v1h-1v-1h-1v-1h1v-1h1v1Z\"/></svg>";
const IconWave = "<svg aria-hidden=\"true\" class=\"svg-icon iconWave\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"#FFC166\" d=\"M10.7 17c-2.3 0-3.9-2.05-5.07-3.54l-.49-.6c-.67-.8-1.59-1.63-2.4-2.36A10.91 10.91 0 0 1 1.1 8.87c-.16-.28-.15-.8.18-.96.44-.23.95-.05 1.32.24l3.5 2.75c.1.08.2-.06.13-.15-.57-.8-3.42-4.77-3.71-5.15-.49-.63-.17-1.45.68-1.45.44 0 .76.28.96.51l3.6 4.42c.08.09.23 0 .17-.1L4.41 2.96c-.64-1.1 1.13-2 1.77-.9l3.8 6.13c.07.1.22.03.18-.09A153.8 153.8 0 0 0 8.1 2.54c-.31-.68-.2-1.14.36-1.42.52-.27 1.14-.07 1.47.48l3.69 8.3c.02.04.05.05.1.06a.1.1 0 0 0 .09-.07l.66-2.28c.2-.66.95-1 1.6-.81.7.18 1.09.86.89 1.5-.33 1.27-.7 2.52-1.09 3.77-.58 1.86-1.03 3.33-3.11 4.4-.7.35-1.38.53-2.05.53Z\"/><path  d=\"M14 .37a.5.5 0 0 0-.88.45l1.96 3.9a.5.5 0 0 0 .9-.45L14 .37Zm-1.17 2.17a.5.5 0 0 0-.91.42l.84 1.87a.5.5 0 1 0 .91-.41l-.84-1.88Zm-10.6 9.74a.5.5 0 0 1 .7-.02l1.7 1.6a.5.5 0 0 1-.7.72l-1.68-1.6a.5.5 0 0 1-.02-.7Zm-1.39.98a.5.5 0 1 0-.68.73l3.03 2.84a.5.5 0 0 0 .68-.73L.84 13.26Z\" opacity=\".4\"/></svg>";
const IconYandex = "<svg aria-hidden=\"true\" class=\"svg-icon iconYandex\" width=\"18\" height=\"18\"  viewBox=\"0 0 18 18\"><path fill=\"red\" d=\"M11.26 2.48h-.92c-1.38 0-2.73.92-2.73 3.58 0 2.57 1.23 3.4 2.73 3.4h.92V2.48Zm-1.43 8.41L7.1 17.02h-2l3-6.55c-1.4-.72-2.34-2.02-2.34-4.41 0-3.36 2.12-5.03 4.65-5.03h2.57v16h-1.72v-6.14H9.83Z\"/></svg>";


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames not based on template
/******/ 			if (chunkId === "defaultVendors-node_modules_jquery-ui_ui_widgets_datepicker_js") return "webpack-chunks/" + chunkId + ".en.js";
/******/ 			// return url for filenames based on template
/******/ 			return "webpack-chunks/" + chunkId + "." + {"node_modules_jquery-ui_ui_version_js":"efaf6eb1437b4e891d29","node_modules_jquery-ui_ui_i18n_datepicker-af_js-node_modules_jquery-ui_ui_version_js":"f20c695edeeeb0dd9a32","node_modules_jquery-ui_ui_i18n_datepicker-ar-DZ_js-node_modules_jquery-ui_ui_version_js":"62ee2b9fef97a6a0f064","node_modules_jquery-ui_ui_i18n_datepicker-ar_js-node_modules_jquery-ui_ui_version_js":"7a3b0b4e29aa1f52c038","node_modules_jquery-ui_ui_i18n_datepicker-az_js-node_modules_jquery-ui_ui_version_js":"f592bda8c21ea2efbd4b","node_modules_jquery-ui_ui_i18n_datepicker-be_js-node_modules_jquery-ui_ui_version_js":"8de91d67a4be230fdb38","node_modules_jquery-ui_ui_i18n_datepicker-bg_js-node_modules_jquery-ui_ui_version_js":"95ab72a21b3fff3b67c5","node_modules_jquery-ui_ui_i18n_datepicker-bs_js-node_modules_jquery-ui_ui_version_js":"f7a984bdf34263337b6e","node_modules_jquery-ui_ui_i18n_datepicker-ca_js-node_modules_jquery-ui_ui_version_js":"0fa57fc1f912dac84291","node_modules_jquery-ui_ui_i18n_datepicker-cs_js-node_modules_jquery-ui_ui_version_js":"9265bd012a2f3e6ff1cf","node_modules_jquery-ui_ui_i18n_datepicker-cy-GB_js-node_modules_jquery-ui_ui_version_js":"1001930213e5d7c41fcf","node_modules_jquery-ui_ui_i18n_datepicker-da_js-node_modules_jquery-ui_ui_version_js":"0a87ad9cedb018743b44","node_modules_jquery-ui_ui_i18n_datepicker-de-AT_js-node_modules_jquery-ui_ui_version_js":"5d55dfc5ac78f90b73a2","node_modules_jquery-ui_ui_i18n_datepicker-de_js-node_modules_jquery-ui_ui_version_js":"8000549b6484c40459bb","node_modules_jquery-ui_ui_i18n_datepicker-el_js-node_modules_jquery-ui_ui_version_js":"cebae9067e8d79058684","node_modules_jquery-ui_ui_i18n_datepicker-en-AU_js-node_modules_jquery-ui_ui_version_js":"79839aec91a40fe0ac1c","node_modules_jquery-ui_ui_i18n_datepicker-en-GB_js-node_modules_jquery-ui_ui_version_js":"6b236ec284b794db36ac","node_modules_jquery-ui_ui_i18n_datepicker-en-NZ_js-node_modules_jquery-ui_ui_version_js":"9ca638cbd5336998ff2c","node_modules_jquery-ui_ui_i18n_datepicker-eo_js-node_modules_jquery-ui_ui_version_js":"bd8c2786b6cf435bf1df","node_modules_jquery-ui_ui_i18n_datepicker-es_js-node_modules_jquery-ui_ui_version_js":"c9eb892b30c975141e39","node_modules_jquery-ui_ui_i18n_datepicker-et_js-node_modules_jquery-ui_ui_version_js":"788117cbec01db20bc2e","node_modules_jquery-ui_ui_i18n_datepicker-eu_js-node_modules_jquery-ui_ui_version_js":"05a3c1bd76dbf2d80cdd","node_modules_jquery-ui_ui_i18n_datepicker-fa_js-node_modules_jquery-ui_ui_version_js":"9c16f6e2540f58a99b4a","node_modules_jquery-ui_ui_i18n_datepicker-fi_js-node_modules_jquery-ui_ui_version_js":"7337f13c64eb9594a2db","node_modules_jquery-ui_ui_i18n_datepicker-fo_js-node_modules_jquery-ui_ui_version_js":"6c14ebb3b6ddf0c9b1a3","node_modules_jquery-ui_ui_i18n_datepicker-fr-CA_js-node_modules_jquery-ui_ui_version_js":"c0935631670fbe50977f","node_modules_jquery-ui_ui_i18n_datepicker-fr-CH_js-node_modules_jquery-ui_ui_version_js":"f98838f49711ad0dd473","node_modules_jquery-ui_ui_i18n_datepicker-fr_js-node_modules_jquery-ui_ui_version_js":"4251d4905b3fddd1c7c1","node_modules_jquery-ui_ui_i18n_datepicker-gl_js-node_modules_jquery-ui_ui_version_js":"19fa4db07dcc859fd277","node_modules_jquery-ui_ui_i18n_datepicker-he_js-node_modules_jquery-ui_ui_version_js":"b9d5becd06d78839a07a","node_modules_jquery-ui_ui_i18n_datepicker-hi_js-node_modules_jquery-ui_ui_version_js":"9c650f7c0ffe544864bc","node_modules_jquery-ui_ui_i18n_datepicker-hr_js-node_modules_jquery-ui_ui_version_js":"d4b32663e51c5bc51f39","node_modules_jquery-ui_ui_i18n_datepicker-hu_js-node_modules_jquery-ui_ui_version_js":"2a1cabc74c12f7859c04","node_modules_jquery-ui_ui_i18n_datepicker-hy_js-node_modules_jquery-ui_ui_version_js":"8e32f1457c952bf99d02","node_modules_jquery-ui_ui_i18n_datepicker-id_js-node_modules_jquery-ui_ui_version_js":"f3998e584aa31cc0e2f9","node_modules_jquery-ui_ui_i18n_datepicker-is_js-node_modules_jquery-ui_ui_version_js":"6dd8952d5d1ef1386a59","node_modules_jquery-ui_ui_i18n_datepicker-it-CH_js-node_modules_jquery-ui_ui_version_js":"9210f6b1c991c8ec14e1","node_modules_jquery-ui_ui_i18n_datepicker-it_js-node_modules_jquery-ui_ui_version_js":"8a245c805fc28eb63bf3","node_modules_jquery-ui_ui_i18n_datepicker-ja_js-node_modules_jquery-ui_ui_version_js":"62a40df5a9c26dc76e4a","node_modules_jquery-ui_ui_i18n_datepicker-ka_js-node_modules_jquery-ui_ui_version_js":"ed13e545db7f54e6f45f","node_modules_jquery-ui_ui_i18n_datepicker-kk_js-node_modules_jquery-ui_ui_version_js":"6d4e86e8f5dcdccf68a3","node_modules_jquery-ui_ui_i18n_datepicker-km_js-node_modules_jquery-ui_ui_version_js":"586ed4b162d4e752cf45","node_modules_jquery-ui_ui_i18n_datepicker-ko_js-node_modules_jquery-ui_ui_version_js":"a7ea27a8d4be1033ec9a","node_modules_jquery-ui_ui_i18n_datepicker-ky_js-node_modules_jquery-ui_ui_version_js":"f6f583dcc494b5ecd42b","node_modules_jquery-ui_ui_i18n_datepicker-lb_js-node_modules_jquery-ui_ui_version_js":"a25fef1afb20eb5abbb7","node_modules_jquery-ui_ui_i18n_datepicker-lt_js-node_modules_jquery-ui_ui_version_js":"55c88f3d079fbe6ced50","node_modules_jquery-ui_ui_i18n_datepicker-lv_js-node_modules_jquery-ui_ui_version_js":"2e4ba265405c0df78e35","node_modules_jquery-ui_ui_i18n_datepicker-mk_js-node_modules_jquery-ui_ui_version_js":"f1f83f22fadb8f3c9291","node_modules_jquery-ui_ui_i18n_datepicker-ml_js-node_modules_jquery-ui_ui_version_js":"11484eba53508612208b","node_modules_jquery-ui_ui_i18n_datepicker-ms_js-node_modules_jquery-ui_ui_version_js":"6710f0f7aa570ec759b9","node_modules_jquery-ui_ui_i18n_datepicker-nb_js-node_modules_jquery-ui_ui_version_js":"d418c5f176d88087e83d","node_modules_jquery-ui_ui_i18n_datepicker-nl-BE_js-node_modules_jquery-ui_ui_version_js":"aac75c25afbc0899f198","node_modules_jquery-ui_ui_i18n_datepicker-nl_js-node_modules_jquery-ui_ui_version_js":"6d6272a031116ccaae1e","node_modules_jquery-ui_ui_i18n_datepicker-nn_js-node_modules_jquery-ui_ui_version_js":"36156f3b8d59ae531dae","node_modules_jquery-ui_ui_i18n_datepicker-no_js-node_modules_jquery-ui_ui_version_js":"b562266225a543f55479","node_modules_jquery-ui_ui_i18n_datepicker-pl_js-node_modules_jquery-ui_ui_version_js":"f00576992b9c8d1303c5","node_modules_jquery-ui_ui_i18n_datepicker-pt-BR_js-node_modules_jquery-ui_ui_version_js":"8c41c09bbb4720759b1d","node_modules_jquery-ui_ui_i18n_datepicker-pt_js-node_modules_jquery-ui_ui_version_js":"4fea2ab5c3ba3ebaefb3","node_modules_jquery-ui_ui_i18n_datepicker-rm_js-node_modules_jquery-ui_ui_version_js":"b518095a3cc7dcad9821","node_modules_jquery-ui_ui_i18n_datepicker-ro_js-node_modules_jquery-ui_ui_version_js":"d2baf8c061b2cc039a9e","node_modules_jquery-ui_ui_i18n_datepicker-ru_js-node_modules_jquery-ui_ui_version_js":"42fc443044491d984784","node_modules_jquery-ui_ui_i18n_datepicker-sk_js-node_modules_jquery-ui_ui_version_js":"71cde72d5c83a95d0a65","node_modules_jquery-ui_ui_i18n_datepicker-sl_js-node_modules_jquery-ui_ui_version_js":"2153b31597313bdf2ca3","node_modules_jquery-ui_ui_i18n_datepicker-sq_js-node_modules_jquery-ui_ui_version_js":"f914bc22c85484c89431","node_modules_jquery-ui_ui_i18n_datepicker-sr-SR_js-node_modules_jquery-ui_ui_version_js":"70eb16c912075837e944","node_modules_jquery-ui_ui_i18n_datepicker-sr_js-node_modules_jquery-ui_ui_version_js":"b220bdd33ded993fd8fb","node_modules_jquery-ui_ui_i18n_datepicker-sv_js-node_modules_jquery-ui_ui_version_js":"e5ef65688b75964d5fcf","node_modules_jquery-ui_ui_i18n_datepicker-ta_js-node_modules_jquery-ui_ui_version_js":"836ae294a8eb3c3448fd","node_modules_jquery-ui_ui_i18n_datepicker-th_js-node_modules_jquery-ui_ui_version_js":"0bc7d4af0251be280b41","node_modules_jquery-ui_ui_i18n_datepicker-tj_js-node_modules_jquery-ui_ui_version_js":"7c0a879288fd6d7229e3","node_modules_jquery-ui_ui_i18n_datepicker-tr_js-node_modules_jquery-ui_ui_version_js":"a2872d06293449fa8438","node_modules_jquery-ui_ui_i18n_datepicker-uk_js-node_modules_jquery-ui_ui_version_js":"9d5348a20724ff098664","node_modules_jquery-ui_ui_i18n_datepicker-vi_js-node_modules_jquery-ui_ui_version_js":"595cf8fbae403561a194","node_modules_jquery-ui_ui_i18n_datepicker-zh-CN_js-node_modules_jquery-ui_ui_version_js":"4bf568fee3b02e9c91da","node_modules_jquery-ui_ui_i18n_datepicker-zh-HK_js-node_modules_jquery-ui_ui_version_js":"04c014a1f9ee27def2fe","node_modules_jquery-ui_ui_i18n_datepicker-zh-TW_js-node_modules_jquery-ui_ui_version_js":"38f7ac826d9c055d3f80","_Scripts_site-includes_chess_mod_ts":"47de71de4c594fe33cd3","_Scripts_site-includes_mathHideUserRep_mod_ts":"434d1be6af2805180780","_Scripts_site-includes_poker_mod_ts":"8018c2eab433a3d615b0"}[chunkId] + ".en.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "stackoverflow:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"full": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkstackoverflow"] = self["webpackChunkstackoverflow"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var __webpack_exports__ = {};
/*!***************************************************!*\
  !*** ./_Scripts/_Includes/set-public-path.mod.ts ***!
  \***************************************************/
__webpack_require__.r(__webpack_exports__);
// We need to set the public path at runtime based on the GlobalRoot site setting.
// (We don't know at build time where the static files will be,
// since we could be deployed on-premise.)
// The value of that site setting gets written out to the dom in Master.cshtml
// (see JavaScriptHelper.PublicPath()) so that we can read it here
__webpack_require__.p = document.getElementById("webpack-public-path").innerText + "Js/";


})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!******************************************!*\
  !*** ./_Scripts/PartialJS/full/index.ts ***!
  \******************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _full_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../full-common */ "./_Scripts/PartialJS/full-common/index.ts");
/* harmony import */ var _00_import_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./00_import-js */ "./_Scripts/PartialJS/full/00_import-js.ts");
/* harmony import */ var _definitions_CSharpToTypescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./definitions/CSharpToTypescript */ "./_Scripts/PartialJS/full/definitions/CSharpToTypescript.ts");
/* harmony import */ var _definitions_CSharpToTypescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_definitions_CSharpToTypescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _99_rollback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./99_rollback */ "./_Scripts/PartialJS/full/99_rollback.ts");
/* harmony import */ var _99_rollback__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_99_rollback__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _99_TagPreferences__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./99_TagPreferences */ "./_Scripts/PartialJS/full/99_TagPreferences.ts");
/* harmony import */ var _99_TagPreferences__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_99_TagPreferences__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _99_UserFlags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./99_UserFlags */ "./_Scripts/PartialJS/full/99_UserFlags.ts");
/* harmony import */ var _99_UserFlags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_99_UserFlags__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _LegacyJS_bounty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LegacyJS/bounty.js */ "./_Scripts/LegacyJS/bounty.js");
/* harmony import */ var _LegacyJS_bounty_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_LegacyJS_bounty_js__WEBPACK_IMPORTED_MODULE_6__);
/*** IMPORTS FROM imports-loader ***/


StackExchange = window.StackExchange = (window.StackExchange || {});
StackOverflow = window.StackOverflow = (window.StackOverflow || {});










})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkR3Qjs7QUFFeEIsaUVBQWUsZ0JBQWdCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZUOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNaZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUaUI7O0FBRWpCO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hCcUI7O0FBRWQ7QUFDQTs7Ozs7Ozs7Ozs7QUNIUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7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QUFhLHFCQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0JEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBK0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQS9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQXVDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQXZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBdUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FHQW9EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0EvRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBeEQsbUJBQW1CLG1CQUFPLENBQUMsa0dBQWlEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsRUFBRTs7Ozs7Ozs7Ozs7QUMxQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsaUNBQWlDO0FB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Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBOztBQUVBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJDQUEyQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isc0NBQXNDO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLFFBQVE7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQSw0Q0FBNEMsZUFBZTs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxRQUFROztBQUVoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0MsUUFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixZQUFZO0FBQ1o7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9CRDs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDbkI7QUFDTTtBQUNMO0FBQ1UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vQ29udGVudC9Kcy90aGlyZC1wYXJ0eS9ldmVudC1lbWl0dGVyLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9jb25zdGFudHMubW9kLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wNV9TdHlsZUNvZGUubW9kLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xMV9RdWVzdGlvbi5tb2QuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzEyX0NvbW1lbnRzLm1vZC5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMjBfQW5hbHl0aWNzLm1vZC5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMjFfT3BlbklELm1vZC5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vY29udHJvbGxlcnMvIHN5bmMgbm9ucmVjdXJzaXZlICgiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLyBzeW5jIG5vbnJlY3Vyc2l2ZSAoIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLyBzeW5jIG5vbnJlY3Vyc2l2ZSAoIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9yZWFsdGltZS1zZS5tb2QuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL3N0dWIubW9kLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9zaXRlLWluY2x1ZGVzLyBsYXp5IF5cXC5cXC8uKlxcLm1vZCQgZXhjbHVkZTogaW5kZXggbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X3N2Zy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vQ29udGVudC9Kcy90aGlyZC1wYXJ0eS9ldmVudC1lbWl0dGVyLWV4cG9zZWQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9zdmctZXhwb3NlZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vbm9kZV9tb2R1bGVzL2V4cG9zZS1sb2FkZXIvZGlzdC9ydW50aW1lL2dldEdsb2JhbFRoaXMuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2JvdW50eS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMDBfSGVhZGVyLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wMl9Ub3BCYXIuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzAzX05vdGlmeS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMDRfTW92ZVNjcm9sbGVyLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wNV9TdHlsZUNvZGUuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzA3X1RhZ01lbnUuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzA4X1VzZXJNZW51LmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wOV9DaGF0QWQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzEwX1RhZ1Nhbml0aXplci5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMTFfUXVlc3Rpb24uanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzEyX0NvbW1lbnRzLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xNF9UYWdSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMTVfRmFkaW5nSGVscFRleHQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzE4X2pRdWVyeUNhcmV0UGx1Z2luLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xOV9Ob0NhcHRjaGEuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzIwX0FuYWx5dGljcy5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMjFfT3BlbklELmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8yMl9Vbml2ZXJzYWxBdXRoLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8zM19Bbm9uRmtleUNvb2tpZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMzRfanF1ZXJ5VWlMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzM2X0ZsYXNoTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMzdfUHJlcGFyZUVkaXRvci5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMzlfQXV0aC5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vNDBfSGVyby5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vNDFfQ2hlY2tsaXN0LmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi80NF9TdGFja3NWYWxpZGF0aW9uLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi9jb250cm9sbGVycy9zZS1jaGFyLWNvdW50ZXIuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uL2NvbnRyb2xsZXJzL3NlLWRyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vY29udHJvbGxlcnMvc2Utc2hhcmUtc2hlZXQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvMDBfSGVhZGVyLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLzAzX1F1ZXN0aW9uRnVsbEluaXQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvMDRfVm90ZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wNV9Wb3RlVG9DbG9zZUFuZEZsYWcuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvMDZfQ29tbWVudHNBY3RpdmUuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvMDdfQ29tbWVudFRhYkNvbXBsZXRlci5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wOF9JbmxpbmVFZGl0aW5nLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsL3NhdmVzLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9yZWFsdGltZS1zZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzAwX2ltcG9ydC1qcy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzA2X01hZ2ljUG9wdXAudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi8zOF9Nb3JlSG90TmV0d29ya1F1ZXN0aW9ucy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzQ2X0V4dGVybmFsRWRpdG9yLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9QYXJ0aWFsSlMvZnVsbC1jb21tb24vNDdfU25pcHBldEphdmFzY3JpcHQudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi80OF9Qb3N0U2lkZWJhci50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzQ5X0V4cGFuZGFibGVPdmVyZmxvdy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X0NvbW11bml0eVdpa2kudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9GZWVkTGluay50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X0dvb2dsZUFuYWx5dGljcy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X05vdGljZS50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X091dGRhdGVkQW5zd2Vycy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwtY29tbW9uLzk5X1Bvc3RUeXBlSWQudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9hZHMudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9oZWxwZXJzLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9QYXJ0aWFsSlMvZnVsbC1jb21tb24vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLzAwX2ltcG9ydC1qcy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwvOTlfVGFnUHJlZmVyZW5jZXMudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLzk5X1VzZXJGbGFncy50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwvOTlfcm9sbGJhY2sudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsL2RlZmluaXRpb25zL0NTaGFycFRvVHlwZXNjcmlwdC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL3JlYWx0aW1lLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9QYXJ0aWFsSlMvdXRpbC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvVG9wQmFyLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9fRGVjbGFyYXRpb25zL1R5cGVJZEVudW1zLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9tb2R1bGVzL2dlbmVyYWwvY29udHJvbGxlcnMvY2hhcmFjdGVyX2NvdW50ZXJfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy9nZW5lcmFsL2NvbnRyb2xsZXJzL2RlbGF5ZWRfcG9wb3Zlcl9jb250cm9sbGVyLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9tb2R1bGVzL2dlbmVyYWwvY29udHJvbGxlcnMvZGlzbWlzc19jb250cm9sbGVyLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9tb2R1bGVzL2dlbmVyYWwvY29udHJvbGxlcnMvZHJhZ2dhYmxlX3NvcnRfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy9nZW5lcmFsL2NvbnRyb2xsZXJzL2ZvbGxvd19wb3N0X2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL21vZHVsZXMvZ2VuZXJhbC9jb250cm9sbGVycy9uYXZfcHJldmVudGlvbl9jb250cm9sbGVyLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9tb2R1bGVzL3NoYXJlZC9jb250cm9sbGVyLWJ1aWxkZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL21vZHVsZXMvc2hhcmVkL2NvbnRyb2xsZXItYnVpbGRlci9saWIvY29udHJvbGxlci1yZWdpc3RyYXRpb24udHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL3V0aWxpdGllcy9kZWJvdW5jZS50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9kYXRhLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vIGxhenkgXlxcLlxcL2RhdGVwaWNrZXJcXC0uKlxcLmpzJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2llLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3Njcm9sbC1wYXJlbnQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXQuanMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvd2lkZ2V0cy9tb3VzZS5qcyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXRzL3NvcnRhYmxlLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9jaXRhdGlvbi5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzEzX1NoYXJlLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wNF9Wb3RlLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wNV9Wb3RlVG9DbG9zZUFuZEZsYWcubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9MZWdhY3lKUy9zYXZlcy5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9PdXRkYXRlZEFuc3dlcnMubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9QYXJ0aWFsSlMvZnVsbC1jb21tb24vOTlfUG9zdFR5cGVJZC5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9oZWxwZXJzLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwvOTlfVXNlckZsYWdzLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvUGFydGlhbEpTL2Z1bGwvZGVmaW5pdGlvbnMvRW51bXMuZ2VuZXJhdGVkLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvU2hhcmVkL2hlbHBlcnMubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9TaGFyZWQvb3B0aW9ucy5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1NoYXJlZC9zZXR0aW5ncy5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL1NoYXJlZC9zdmctdXRpbHMubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9jb21tZW50cy9jb21tZW50cy1hY3RpdmUubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9jb21tZW50cy9jb21tZW50cy10YWItY29tcGxldGVyLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL21vZHVsZXMvZ2VuZXJhbC9jb250cm9sbGVycy9hcnJvd19rZXlfbmF2aWdhdGlvbl9jb250cm9sbGVyLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy9nZW5lcmFsL2luZGV4Lm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy9zaGFyZWQvY29udHJvbGxlci1idWlsZGVyL2xpYi9ibGVzc2luZ3MvdmFsdWVzLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvbW9kdWxlcy9zaGFyZWQvY29udHJvbGxlci1idWlsZGVyL2xpYi9jb250cm9sbGVyLWJ1aWxkZXIubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9tb2R1bGVzL3NoYXJlZC9jb250cm9sbGVyLWJ1aWxkZXIvbGliL3Rvb2xzLm1vZC50cyIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vX1NjcmlwdHMvcG9zdC9Qb3N0TWVudS5tb2QudHMiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL3NpdGUtaW5jbHVkZXMvaW5kZXgubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvZXh0ZXJuYWwgd2luZG93IFwiU3RhY2tzXCIiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy9leHRlcm5hbCB3aW5kb3cgXCJqUXVlcnlcIiIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93Ly4vbm9kZV9tb2R1bGVzL0BzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L2ljb25zLmpzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93L3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93L3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ydW50aW1lL2xvYWQgc2NyaXB0Iiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zdGFja292ZXJmbG93L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc3RhY2tvdmVyZmxvdy8uL19TY3JpcHRzL19JbmNsdWRlcy9zZXQtcHVibGljLXBhdGgubW9kLnRzIiwid2VicGFjazovL3N0YWNrb3ZlcmZsb3cvLi9fU2NyaXB0cy9QYXJ0aWFsSlMvZnVsbC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyLvu79cbi8qKlxuICogRXZlbnRFbWl0dGVyIHY0LjAuMSAtIGdpdC5pby9nVFctamdcbiAqIE9saXZlciBDYWxkd2VsbFxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG47XG4oZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgICAvLyBKU0hpbnQgY29uZmlnIC0gaHR0cDovL3d3dy5qc2hpbnQuY29tL1xuICAgIC8qanNoaW50IGxheGNvbW1hOnRydWUqL1xuICAgIC8qZ2xvYmFsIGRlZmluZTp0cnVlKi9cblxuICAgIC8vIFBsYWNlIHRoZSBzY3JpcHQgaW4gc3RyaWN0IG1vZGVcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuICAgICAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBNYW5hZ2VzIGV2ZW50IHJlZ2lzdGVyaW5nIGFuZCBlbWl0dGluZy5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsgfVxuXG4gICAgLy8gU2hvcnRjdXRzIHRvIGltcHJvdmUgc3BlZWQgYW5kIHNpemVcbiAgICAvLyBFYXN5IGFjY2VzcyB0byB0aGUgcHJvdG90eXBlXG4gICAgdmFyIHByb3RvID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZVxuXG4gICAgLy8gQmxhbmsgYXJyYXkgdXNlZCB3aGVuIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRvIGVtaXRFdmVudFxuICAgICxcbiAgICAgICAgYXJndW1lbnRzUGxhY2Vob2xkZXIgPSBbXVxuXG4gICAgICAgIC8vIEV4aXN0ZW5jZSBvZiBhIG5hdGl2ZSBpbmRleFxuICAgICAgICAsXG4gICAgICAgIG5hdGl2ZUluZGV4T2YgPSBhcmd1bWVudHNQbGFjZWhvbGRlci5pbmRleE9mID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50IGluIGl0J3Mgc3RvcmFnZSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGxvb2sgZm9yLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gbGlzdGVuZXJzIEFycmF5IG9mIGxpc3RlbmVycyB0byBzZWFyY2ggdGhyb3VnaC5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIsIC0xIGlmIG5vdCBmb3VuZFxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBpbmRleCB2aWEgdGhlIG5hdGl2ZSBtZXRob2QgaWYgcG9zc2libGVcbiAgICAgICAgaWYgKG5hdGl2ZUluZGV4T2YpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBubyBuYXRpdmUgbWV0aG9kXG4gICAgICAgIC8vIFVzZSBhIG1hbnVhbCBsb29wIHRvIGZpbmQgdGhlIGluZGV4XG4gICAgICAgIHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIG1hdGNoZXMsIHJldHVybiBpdCdzIGluZGV4XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byByZXR1cm5pbmcgLTFcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIFdpbGwgaW5pdGlhbGlzZSB0aGUgZXZlbnQgb2JqZWN0IGFuZCBsaXN0ZW5lciBhcnJheXMgaWYgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG4gICAgICogQHJldHVybiB7RnVuY3Rpb25bXX0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgdGhlIGV2ZW50LlxuICAgICAqIEBkb2NcbiAgICAgKi9cbiAgICBwcm90by5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHNob3J0Y3V0IHRvIHRoZSBzdG9yYWdlIG9iamVjdFxuICAgICAgICAvLyBJbml0aWFsaXNlIGl0IGlmIGl0IGRvZXMgbm90IGV4aXN0cyB5ZXRcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgbGlzdGVuZXIgYXJyYXlcbiAgICAgICAgLy8gSW5pdGlhbGlzZSBpdCBpZiBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICByZXR1cm4gZXZlbnRzW2V2dF0gfHwgKGV2ZW50c1tldnRdID0gW10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXG4gICAgICogSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICogQGRvY1xuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGxpc3RlbmVyc1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcblxuICAgICAgICAvLyBQdXNoIHRoZSBsaXN0ZW5lciBpbnRvIHRoZSBhcnJheSBpZiBpdCBpcyBub3QgYWxyZWFkeSB0aGVyZVxuICAgICAgICBpZiAoaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBsaXN0ZW5lcnMpID09PSAtMSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgdG8gYWxsb3cgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gcmVtb3ZlIGZyb20gdGhlIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqIEBkb2NcbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIEZldGNoIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAgLy8gQW5kIGdldCB0aGUgaW5kZXggb2YgdGhlIGxpc3RlbmVyIGluIHRoZSBhcnJheVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KSxcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBsaXN0ZW5lcnMpO1xuXG4gICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciB3YXMgZm91bmQgdGhlbiByZW1vdmUgaXRcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBtb3JlIGxpc3RlbmVycyBpbiB0aGlzIGFycmF5IHRoZW4gcmVtb3ZlIGl0XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldnRdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiB0aGUgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIHRvIGFsbG93IGNoYWluaW5nXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICogQGRvY1xuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVycyA9IGZ1bmN0aW9uIChldnQsIGxpc3RlbmVycykge1xuICAgICAgICAvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKiBAZG9jXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnModHJ1ZSwgZXZ0LCBsaXN0ZW5lcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFZGl0cyBsaXN0ZW5lcnMgaW4gYnVsay4gVGhlIGFkZExpc3RlbmVycyBhbmQgcmVtb3ZlTGlzdGVuZXJzIG1ldGhvZHMgYm90aCB1c2UgdGhpcyB0byBkbyB0aGVpciBqb2IuIFlvdSBzaG91bGQgcmVhbGx5IHVzZSB0aG9zZSBpbnN0ZWFkLCB0aGlzIGlzIGEgbGl0dGxlIGxvd2VyIGxldmVsLlxuICAgICAqIFRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGRldGVybWluZSBpZiB0aGUgbGlzdGVuZXJzIGFyZSByZW1vdmVkICh0cnVlKSBvciBhZGRlZCAoZmFsc2UpLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkL3JlbW92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKiBAZG9jXG4gICAgICovXG4gICAgcHJvdG8ubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIEluaXRpYWxpc2UgYW55IHJlcXVpcmVkIHZhcmlhYmxlc1xuICAgICAgICB2YXIgaSwgdmFsdWUsIHNpbmdsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXIgOiB0aGlzLmFkZExpc3RlbmVyLFxuICAgICAgICAgICAgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xuXG4gICAgICAgIC8vIElmIGV2dCBpcyBhbiBvYmplY3QgdGhlbiBwYXNzIGVhY2ggb2YgaXQncyBwcm9wZXJ0aWVzIHRvIHRoaXMgbWV0aG9kXG4gICAgICAgIGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yIChpIGluIGV2dCkge1xuICAgICAgICAgICAgICAgIGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBzaW5nbGUgbGlzdGVuZXIgc3RyYWlnaHQgdGhyb3VnaCB0byB0aGUgc2luZ3VsYXIgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXNzIGJhY2sgdG8gdGhlIG11bHRpcGxlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAvLyBBbmQgbGlzdGVuZXJzIG11c3QgYmUgYW4gYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgICAgICAvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxuICAgICAgICAgICAgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlLmNhbGwodGhpcywgZXZ0LCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgdG8gYWxsb3cgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIGEgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIFRoYXQgbWVhbnMgZXZlcnkgZXZlbnQgd2lsbCBiZSBlbXB0aWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqIEBkb2NcbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcbiAgICAgICAgaWYgKGV2dCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldnRdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGluIGFsbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciB0byBhbGxvdyBjaGFpbmluZ1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgb2YgeW91ciBjaG9pY2UuXG4gICAgICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAgICogSWYgeW91IHBhc3MgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IGFycmF5IHRoZW4gdGhvc2UgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZXJ5IGxpc3RlbmVyIHVwb24gZXhlY3V0aW9uLlxuICAgICAqIEJlY2F1c2UgaXQgdXNlcyBgYXBwbHlgLCB5b3VyIGFycmF5IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCBhcyBpZiB5b3Ugd3JvdGUgdGhlbSBvdXQgc2VwYXJhdGVseS5cbiAgICAgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gT3B0aW9uYWwgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqIEBkb2NcbiAgICAgKi9cbiAgICBwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiAoZXZ0LCBhcmdzKSB7XG4gICAgICAgIC8vIEdldCB0aGUgbGlzdGVuZXJzIGZvciB0aGUgZXZlbnRcbiAgICAgICAgLy8gQWxzbyBpbml0aWFsaXNlIGFueSBvdGhlciByZXF1aXJlZCB2YXJpYWJsZXNcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCksXG4gICAgICAgICAgICBpID0gbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgICAvLyBMb29wIG92ZXIgYWxsIGxpc3RlbmVycyBhc3NpZ25lZCB0byB0aGUgZXZlbnRcbiAgICAgICAgLy8gQXBwbHkgdGhlIGFyZ3VtZW50cyBhcnJheSB0byBlYWNoIGxpc3RlbmVyIGZ1bmN0aW9uXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCBzaGFsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGFyZ3MgfHwgYXJndW1lbnRzUGxhY2Vob2xkZXIpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciB0byBhbGxvdyBjaGFpbmluZ1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLy8gRXhwb3NlIHRoZSBjbGFzcyBlaXRoZXIgdmlhIEFNRCBvciB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuICAgIH1cbn0odGhpcykpOyIsIu+7v2V4cG9ydCBjb25zdCBLRVlfQ09ERSA9IHtcbiAgICBMRUZUX01PVVNFOiAxLFxuICAgIE1JRERMRV9NT1VTRTogMixcbiAgICBCQUNLU1BBQ0U6IDgsXG4gICAgVEFCOiA5LFxuICAgIEVOVEVSOiAxMyxcbiAgICBFU0M6IDI3LFxuICAgIFNQQUNFOiAzMixcbiAgICBQQUdFVVA6IDMzLFxuICAgIFBBR0VET1dOOiAzNCxcbiAgICBFTkQ6IDM1LFxuICAgIEhPTUU6IDM2LFxuICAgIExFRlQ6IDM3LFxuICAgIFVQOiAzOCxcbiAgICBSSUdIVDogMzksXG4gICAgRE9XTjogNDAsXG4gICAgREVMOiA0NixcbiAgICAwOiA0OCxcbiAgICAxOiA0OSxcbiAgICAyOiA1MCxcbiAgICAzOiA1MSxcbiAgICA0OiA1MixcbiAgICA1OiA1MyxcbiAgICA2OiA1NCxcbiAgICA3OiA1NSxcbiAgICA4OiA1NixcbiAgICA5OiA1NyxcbiAgICBBOiA2NSxcbiAgICBCOiA2NixcbiAgICBDOiA2NyxcbiAgICBEOiA2OCxcbiAgICBFOiA2OSxcbiAgICBGOiA3MCxcbiAgICBHOiA3MSxcbiAgICBIOiA3MixcbiAgICBJOiA3MyxcbiAgICBKOiA3NCxcbiAgICBLOiA3NSxcbiAgICBMOiA3NixcbiAgICBNOiA3NyxcbiAgICBOOiA3OCxcbiAgICBPOiA3OSxcbiAgICBQOiA4MCxcbiAgICBROiA4MSxcbiAgICBSOiA4MixcbiAgICBTOiA4MyxcbiAgICBUOiA4NCxcbiAgICBVOiA4NSxcbiAgICBWOiA4NixcbiAgICBXOiA4NyxcbiAgICBYOiA4OCxcbiAgICBZOiA4OSxcbiAgICBaOiA5MCxcbiAgICBGNDogMTE1LFxuICAgIENPTU1BOiAxODgsXG59OyIsImltcG9ydCBcIi4vMDVfU3R5bGVDb2RlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHdpbmRvdy5zdHlsZUNvZGU7XG4iLCJpbXBvcnQgXCIuLzExX1F1ZXN0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0VGl0bGVTZWFyY2ggPSBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmluaXRUaXRsZVNlYXJjaDtcbmV4cG9ydCBjb25zdCBnZXRRdWVzdGlvbklkID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5nZXRRdWVzdGlvbklkO1xuZXhwb3J0IGNvbnN0IGluaXRTaGFyZUxpbmtzID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0U2hhcmVMaW5rcztcbmV4cG9ydCBjb25zdCBjYW5WaWV3Vm90ZUNvdW50cyA9IFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uY2FuVmlld1ZvdGVDb3VudHM7XG5leHBvcnQgY29uc3Qgc2Nyb2xsVG9Qb3N0ID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5zY3JvbGxUb1Bvc3Q7XG5leHBvcnQgY29uc3Qgc2Nyb2xsVG9Db21tZW50ID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5zY3JvbGxUb0NvbW1lbnQ7XG5leHBvcnQgY29uc3QgaW5zdHJ1bWVudFZvdGluZ0ZvclZvdGVQcm9tcHRFeHBlcmltZW50ID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbnN0cnVtZW50Vm90aW5nRm9yVm90ZVByb21wdEV4cGVyaW1lbnQ7XG5leHBvcnQgY29uc3QgaW5pdCA9IFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uaW5pdDtcbmV4cG9ydCBjb25zdCBiaW5kQW5vbnltb3VzVm90ZURpc2NsYWltZXJzID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5iaW5kQW5vbnltb3VzVm90ZURpc2NsYWltZXJzO1xuZXhwb3J0IGNvbnN0IGJpbmRGZXRjaEFjY2VwdGVkQW5zd2VyRGF0ZXMgPSBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmJpbmRGZXRjaEFjY2VwdGVkQW5zd2VyRGF0ZXM7XG5leHBvcnQgY29uc3QgYWRkQW5zd2VySXZjT2JzZXJ2ZXJzID0gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5hZGRBbnN3ZXJJdmNPYnNlcnZlcnM7IiwiaW1wb3J0IFwiLi8xMl9Db21tZW50c1wiO1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuaW5pdDtcbmV4cG9ydCBjb25zdCBsb2FkQWxsID0gU3RhY2tFeGNoYW5nZS5jb21tZW50cy5sb2FkQWxsO1xuZXhwb3J0IGNvbnN0IHJlcGxhY2VBbGwgPSBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzLnJlcGxhY2VBbGw7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVNZXNzYWdlID0gU3RhY2tFeGNoYW5nZS5jb21tZW50cy5yZWFsdGltZU1lc3NhZ2U7XG5leHBvcnQgY29uc3QgZmxhc2hIaWdobGlnaHQgPSBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzLmZsYXNoSGlnaGxpZ2h0O1xuZXhwb3J0IGNvbnN0IGhpZ2hsaWdodCA9IFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuaGlnaGxpZ2h0O1xuZXhwb3J0IGNvbnN0IGV4dGVuZFBvc3RVaSA9IFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuZXh0ZW5kUG9zdFVpO1xuZXhwb3J0IGNvbnN0IHVpRm9yUG9zdCA9IFN0YWNrRXhjaGFuZ2UuY29tbWVudHMudWlGb3JQb3N0O1xuIiwiaW1wb3J0IFwiLi8yMF9BbmFseXRpY3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoLi4uYXJncykge1xuICAgIHJldHVybiBTdGFja0V4Y2hhbmdlLmdwcy5pbml0KC4uLmFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRUcmFja0NsaWNrcyguLi5hcmdzKSB7XG4gICAgU3RhY2tFeGNoYW5nZS5ncHMuYmluZFRyYWNrQ2xpY2tzKC4uLmFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soLi4uYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VuZFBlbmRpbmcoLi4uYXJncykge1xuICAgIHJldHVybiBTdGFja0V4Y2hhbmdlLmdwcy5zZW5kUGVuZGluZyguLi5hcmdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja091dGJvdW5kQ2xpY2tzKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gU3RhY2tFeGNoYW5nZS5ncHMudHJhY2tPdXRib3VuZENsaWNrcyguLi5hcmdzKTtcbn1cbiIsImltcG9ydCBcIi4vMjFfT3BlbklEXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0UG9zdExvZ2luID0gU3RhY2tFeGNoYW5nZS5vcGVuaWQuaW5pdFBvc3RMb2dpbjtcbmV4cG9ydCBjb25zdCBzaG93TG9naW5Nb2RhbCA9IFN0YWNrRXhjaGFuZ2Uub3BlbmlkLnNob3dMb2dpbk1vZGFsO1xuIiwidmFyIG1hcCA9IHtcblx0XCIuL3NlLWNoYXItY291bnRlci5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vY29udHJvbGxlcnMvc2UtY2hhci1jb3VudGVyLmpzXCIsXG5cdFwiLi9zZS1kcmFnZ2FibGUuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uL2NvbnRyb2xsZXJzL3NlLWRyYWdnYWJsZS5qc1wiLFxuXHRcIi4vc2Utc2hhcmUtc2hlZXQuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uL2NvbnRyb2xsZXJzL3NlLXNoYXJlLXNoZWV0LmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vY29udHJvbGxlcnMgc3luYyAoPzwlMjFcXFxcLm1vZClcXFxcLmpzJFwiOyIsInZhciBtYXAgPSB7XG5cdFwiLi8wMF9IZWFkZXIuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzAwX0hlYWRlci5qc1wiLFxuXHRcIi4vMDJfVG9wQmFyLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wMl9Ub3BCYXIuanNcIixcblx0XCIuLzAzX05vdGlmeS5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMDNfTm90aWZ5LmpzXCIsXG5cdFwiLi8wNF9Nb3ZlU2Nyb2xsZXIuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzA0X01vdmVTY3JvbGxlci5qc1wiLFxuXHRcIi4vMDVfU3R5bGVDb2RlLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wNV9TdHlsZUNvZGUuanNcIixcblx0XCIuLzA3X1RhZ01lbnUuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzA3X1RhZ01lbnUuanNcIixcblx0XCIuLzA4X1VzZXJNZW51LmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wOF9Vc2VyTWVudS5qc1wiLFxuXHRcIi4vMDlfQ2hhdEFkLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8wOV9DaGF0QWQuanNcIixcblx0XCIuLzEwX1RhZ1Nhbml0aXplci5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMTBfVGFnU2FuaXRpemVyLmpzXCIsXG5cdFwiLi8xMV9RdWVzdGlvbi5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMTFfUXVlc3Rpb24uanNcIixcblx0XCIuLzEyX0NvbW1lbnRzLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xMl9Db21tZW50cy5qc1wiLFxuXHRcIi4vMTRfVGFnUmVuZGVyZXIuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzE0X1RhZ1JlbmRlcmVyLmpzXCIsXG5cdFwiLi8xNV9GYWRpbmdIZWxwVGV4dC5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMTVfRmFkaW5nSGVscFRleHQuanNcIixcblx0XCIuLzE4X2pRdWVyeUNhcmV0UGx1Z2luLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xOF9qUXVlcnlDYXJldFBsdWdpbi5qc1wiLFxuXHRcIi4vMTlfTm9DYXB0Y2hhLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xOV9Ob0NhcHRjaGEuanNcIixcblx0XCIuLzIwX0FuYWx5dGljcy5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMjBfQW5hbHl0aWNzLmpzXCIsXG5cdFwiLi8yMV9PcGVuSUQuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzIxX09wZW5JRC5qc1wiLFxuXHRcIi4vMjJfVW5pdmVyc2FsQXV0aC5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMjJfVW5pdmVyc2FsQXV0aC5qc1wiLFxuXHRcIi4vMzNfQW5vbkZrZXlDb29raWUuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzMzX0Fub25Ga2V5Q29va2llLmpzXCIsXG5cdFwiLi8zNF9qcXVlcnlVaUxvYWRlci5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMzRfanF1ZXJ5VWlMb2FkZXIuanNcIixcblx0XCIuLzM2X0ZsYXNoTWVzc2FnZS5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vMzZfRmxhc2hNZXNzYWdlLmpzXCIsXG5cdFwiLi8zN19QcmVwYXJlRWRpdG9yLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8zN19QcmVwYXJlRWRpdG9yLmpzXCIsXG5cdFwiLi8zOV9BdXRoLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi8zOV9BdXRoLmpzXCIsXG5cdFwiLi80MF9IZXJvLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLWNvbW1vbi80MF9IZXJvLmpzXCIsXG5cdFwiLi80MV9DaGVja2xpc3QuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uLzQxX0NoZWNrbGlzdC5qc1wiLFxuXHRcIi4vNDRfU3RhY2tzVmFsaWRhdGlvbi5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC1jb21tb24vNDRfU3RhY2tzVmFsaWRhdGlvbi5qc1wiXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwtY29tbW9uIHN5bmMgKD88JTIxXFxcXC5tb2QpXFxcXC5qcyRcIjsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vMDBfSGVhZGVyLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLzAwX0hlYWRlci5qc1wiLFxuXHRcIi4vMDNfUXVlc3Rpb25GdWxsSW5pdC5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wM19RdWVzdGlvbkZ1bGxJbml0LmpzXCIsXG5cdFwiLi8wNF9Wb3RlLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLzA0X1ZvdGUuanNcIixcblx0XCIuLzA1X1ZvdGVUb0Nsb3NlQW5kRmxhZy5qc1wiOiBcIi4vX1NjcmlwdHMvTGVnYWN5SlMvZnVsbC8wNV9Wb3RlVG9DbG9zZUFuZEZsYWcuanNcIixcblx0XCIuLzA2X0NvbW1lbnRzQWN0aXZlLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLzA2X0NvbW1lbnRzQWN0aXZlLmpzXCIsXG5cdFwiLi8wN19Db21tZW50VGFiQ29tcGxldGVyLmpzXCI6IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsLzA3X0NvbW1lbnRUYWJDb21wbGV0ZXIuanNcIixcblx0XCIuLzA4X0lubGluZUVkaXRpbmcuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvMDhfSW5saW5lRWRpdGluZy5qc1wiLFxuXHRcIi4vc2F2ZXMuanNcIjogXCIuL19TY3JpcHRzL0xlZ2FjeUpTL2Z1bGwvc2F2ZXMuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9fU2NyaXB0cy9MZWdhY3lKUy9mdWxsIHN5bmMgKD88JTIxXFxcXC5tb2QpXFxcXC5qcyRcIjsiLCJpbXBvcnQgXCIuL3JlYWx0aW1lLXNlXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0ID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5pbml0O1xuZXhwb3J0IGNvbnN0IGxvZyA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUubG9nO1xuZXhwb3J0IGNvbnN0IHNpbXVsYXRlID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5zaW11bGF0ZTtcbmV4cG9ydCBjb25zdCBleHBhbmRBY3RpdmVRdWVzdGlvbnMgPSBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLmV4cGFuZEFjdGl2ZVF1ZXN0aW9ucztcbmV4cG9ydCBjb25zdCBleHBhbmRBbnN3ZXJzID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5leHBhbmRBbnN3ZXJzO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVRvQWN0aXZlUXVlc3Rpb25zID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5zdWJzY3JpYmVUb0FjdGl2ZVF1ZXN0aW9ucztcbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVUb1VRTCA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuc3Vic2NyaWJlVG9VUUw7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVUb1F1ZXN0aW9uID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5zdWJzY3JpYmVUb1F1ZXN0aW9uO1xuZXhwb3J0IGNvbnN0IHVuc3Vic2NyaWJlVG9RdWVzdGlvbiA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUudW5zdWJzY3JpYmVUb1F1ZXN0aW9uO1xuZXhwb3J0IGNvbnN0IHBhdXNlUXVlc3Rpb25Ob3RpZmljYXRpb25zID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5wYXVzZVF1ZXN0aW9uTm90aWZpY2F0aW9ucztcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVRvU3RhZ2luZ0dyb3VuZFF1ZXN0aW9uID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5zdWJzY3JpYmVUb1N0YWdpbmdHcm91bmRRdWVzdGlvbjtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVRvUmVwdXRhdGlvbk5vdGlmaWNhdGlvbnMgPSBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLnN1YnNjcmliZVRvUmVwdXRhdGlvbk5vdGlmaWNhdGlvbnM7XG5leHBvcnQgY29uc3QgdXBkYXRlUmVsYXRpdmVEYXRlcyA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUudXBkYXRlUmVsYXRpdmVEYXRlcztcbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVUb1Jldmlld0Rhc2hib2FyZCA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuc3Vic2NyaWJlVG9SZXZpZXdEYXNoYm9hcmQ7XG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9Ub3BCYXJOb3RpZmljYXRpb25zID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5zdWJzY3JpYmVUb1RvcEJhck5vdGlmaWNhdGlvbnM7XG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9Db3VudHMgPSBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLnN1YnNjcmliZVRvQ291bnRzO1xuZXhwb3J0IGNvbnN0IGdlbmVyaWNTdWJzY3JpYmUgPSBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLmdlbmVyaWNTdWJzY3JpYmU7XG5leHBvcnQgY29uc3QgZ2VuZXJpY1Vuc3Vic2NyaWJlID0gU3RhY2tFeGNoYW5nZS5yZWFsdGltZS5nZW5lcmljVW5zdWJzY3JpYmU7XG5cbmV4cG9ydCBjb25zdCByZWxvYWRQb3N0cyA9IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUucmVsb2FkUG9zdHM7XG5leHBvcnQgY29uc3QgZGVidWcgPSBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLmRlYnVnO1xuIiwiZXhwb3J0IGNvbnN0IGRlYnVnID0gU3RhY2tFeGNoYW5nZS5kZWJ1ZztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRvb2x0aXBIdG1sKGpxdWVyeU9iaiwgaHRtbCwgb3B0aW9ucykge1xuICAgIGpxdWVyeU9iai5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RhY2tzLnNldFRvb2x0aXBIdG1sKHRoaXMsIGh0bWwsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VG9vbHRpcFRleHQoanF1ZXJ5T2JqLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAganF1ZXJ5T2JqLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBTdGFja3Muc2V0VG9vbHRpcFRleHQodGhpcywgdGV4dCwgb3B0aW9ucyk7XG4gICAgfSk7XG59IiwidmFyIG1hcCA9IHtcblx0XCIuL2NoZXNzLm1vZFwiOiBbXG5cdFx0XCIuL19TY3JpcHRzL3NpdGUtaW5jbHVkZXMvY2hlc3MubW9kLnRzXCIsXG5cdFx0XCJfU2NyaXB0c19zaXRlLWluY2x1ZGVzX2NoZXNzX21vZF90c1wiXG5cdF0sXG5cdFwiLi9tYXRoSGlkZVVzZXJSZXAubW9kXCI6IFtcblx0XHRcIi4vX1NjcmlwdHMvc2l0ZS1pbmNsdWRlcy9tYXRoSGlkZVVzZXJSZXAubW9kLnRzXCIsXG5cdFx0XCJfU2NyaXB0c19zaXRlLWluY2x1ZGVzX21hdGhIaWRlVXNlclJlcF9tb2RfdHNcIlxuXHRdLFxuXHRcIi4vcG9rZXIubW9kXCI6IFtcblx0XHRcIi4vX1NjcmlwdHMvc2l0ZS1pbmNsdWRlcy9wb2tlci5tb2QudHNcIixcblx0XHRcIl9TY3JpcHRzX3NpdGUtaW5jbHVkZXNfcG9rZXJfbW9kX3RzXCJcblx0XVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpZHMgPSBtYXBbcmVxXSwgaWQgPSBpZHNbMF07XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKCgpID0+IHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gKCkgPT4gKE9iamVjdC5rZXlzKG1hcCkpO1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IFwiLi9fU2NyaXB0cy9zaXRlLWluY2x1ZGVzIGxhenkgcmVjdXJzaXZlIF5cXFxcLlxcXFwvLipcXFxcLm1vZCQgZXhjbHVkZTogaW5kZXhcIjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDsiLCIvKiogTk9URTogV2hlbiB0aGlzIGZpbGUgaXMgcmVtb3ZlZCwgYWxzbyByZW1vdmUgdGhlIHN2ZyBsb2FkaW5nIGZ1bmN0aW9uYWxpdHkgaW4gd2VicGFjay5jb21tb24udHMgKiovXG5cbi8qKlxuICogRE8gTk9UIFVTRSBUSElTOyB1c2UgYGNyZWF0ZVN2Z0VsZW1lbnRgIGZyb20gYFNoYXJlZC9zdmctdXRpbHMubW9kLnRzYCBsaWtlIHNvOlxuICogYGBgXG4gKiBpbXBvcnQgeyBJY29uQ2xlYXJTbSB9IGZyb20gXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvaWNvblwiO1xuICogaW1wb3J0IHsgY3JlYXRlU3ZnRWxlbWVudCB9IGZyb20gXCIuL3BhdGgvdG8vU2hhcmVkL3N2Zy11dGlscy5tb2RcIjtcbiAqIGNvbnN0IGljb24gPSBjcmVhdGVTdmdFbGVtZW50KEljb25DbGVhclNtKTtcbiAqIGBgYFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuY2xhc3MgU3ZnIHtcbiAgICBzdGF0aWMgQWNoaWV2ZW1lbnRzU20gPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL0FjaGlldmVtZW50c1NtLnN2Z1wiKSk7XG4gICAgc3RhdGljIEFsZXJ0ID0gU3ZnLmdldFN2ZyhyZXF1aXJlKFwiQHN0YWNrb3ZlcmZsb3cvc3RhY2tzLWljb25zL2Rpc3QvSWNvbi9BbGVydC5zdmdcIikpO1xuICAgIHN0YXRpYyBBbGVydENpcmNsZSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vQWxlcnRDaXJjbGUuc3ZnXCIpKTtcbiAgICBzdGF0aWMgQWxlcnRTbSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vQWxlcnRTbS5zdmdcIikpO1xuICAgIHN0YXRpYyBDaGVja21hcmsgPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL0NoZWNrbWFyay5zdmdcIikpO1xuICAgIHN0YXRpYyBDbGVhciA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vQ2xlYXIuc3ZnXCIpKTtcbiAgICBzdGF0aWMgQ2xlYXJTbSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vQ2xlYXJTbS5zdmdcIikpO1xuICAgIHN0YXRpYyBEZXZUbyA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vRGV2VG8uc3ZnXCIpKTtcbiAgICBzdGF0aWMgRmFjZWJvb2sgPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL0ZhY2Vib29rLnN2Z1wiKSk7XG4gICAgc3RhdGljIEhlbHBTbSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vSGVscFNtLnN2Z1wiKSk7XG4gICAgc3RhdGljIExpbmsgPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL0xpbmsuc3ZnXCIpKTtcbiAgICBzdGF0aWMgUGVvcGxlID0gU3ZnLmdldFN2ZyhyZXF1aXJlKFwiQHN0YWNrb3ZlcmZsb3cvc3RhY2tzLWljb25zL2Rpc3QvSWNvbi9QZW9wbGUuc3ZnXCIpKTtcbiAgICBzdGF0aWMgU2hhcmVTbSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vU2hhcmVTbS5zdmdcIikpO1xuICAgIHN0YXRpYyBUcmVuZGluZ0Rvd24gPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL1RyZW5kaW5nRG93bi5zdmdcIikpO1xuICAgIHN0YXRpYyBUcmVuZGluZ05vbmUgPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL1RyZW5kaW5nTm9uZS5zdmdcIikpO1xuICAgIHN0YXRpYyBUcmVuZGluZ1VwID0gU3ZnLmdldFN2ZyhyZXF1aXJlKFwiQHN0YWNrb3ZlcmZsb3cvc3RhY2tzLWljb25zL2Rpc3QvSWNvbi9UcmVuZGluZ1VwLnN2Z1wiKSk7XG4gICAgc3RhdGljIFR3aXR0ZXIgPSBTdmcuZ2V0U3ZnKHJlcXVpcmUoXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvZGlzdC9JY29uL1R3aXR0ZXIuc3ZnXCIpKTtcbiAgICBzdGF0aWMgVW5kb1NtID0gU3ZnLmdldFN2ZyhyZXF1aXJlKFwiQHN0YWNrb3ZlcmZsb3cvc3RhY2tzLWljb25zL2Rpc3QvSWNvbi9VbmRvU20uc3ZnXCIpKTtcbiAgICBzdGF0aWMgSW5kdXN0cnlTbSA9IFN2Zy5nZXRTdmcocmVxdWlyZShcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9kaXN0L0ljb24vSW5kdXN0cnlTbS5zdmdcIikpO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3ZnKHN2Zzogc3RyaW5nKTogU3ZnSW1hZ2VHZXR0ZXIge1xuICAgICAgICBjb25zdCAkc3ZnID0gJChzdmcpO1xuXG4gICAgICAgIGNvbnN0IHJldCA9ICgpID0+ICRzdmc7XG5cbiAgICAgICAgcmV0LldpdGggPSBmdW5jdGlvbiAoY2xhc3Nlcykge1xuICAgICAgICAgICAgcmV0dXJuICRzdmcuY2xvbmUoKS5hZGRDbGFzcyhjbGFzc2VzKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXQuV2l0aEF0dHIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgY29uc3QgY2xvbmUgPSAkc3ZnLmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZS5hdHRyKGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgU3ZnSW1hZ2VHZXR0ZXIge1xuICAgICgpOiBKUXVlcnk7XG4gICAgV2l0aChjbGFzc2VzOiBzdHJpbmcpOiBKUXVlcnk7XG4gICAgV2l0aEF0dHIoLi4uYXJnczogW2F0dHJOYW1lOiBzdHJpbmcsIGF0dHJWYWx1ZTogc3RyaW5nXSB8IFthdHRyaWJ1dGVzOiBvYmplY3RdKTogSlF1ZXJ5O1xufVxuXG5cbiIsInZhciBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCItIS4vZXZlbnQtZW1pdHRlci5qc1wiKTtcbnZhciBfX19FWFBPU0VfTE9BREVSX0dFVF9HTE9CQUxfVEhJU19fXyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0R2xvYmFsVGhpcy5qc1wiKTtcbnZhciBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fID0gX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX187XG5pZiAodHlwZW9mIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJFdmVudEVtaXR0ZXJcIl0gPT09ICd1bmRlZmluZWQnKSBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fW1wiRXZlbnRFbWl0dGVyXCJdID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX187XG5lbHNlIHRocm93IG5ldyBFcnJvcignW2V4cG9zZXMtbG9hZGVyXSBUaGUgXCJFdmVudEVtaXR0ZXJcIiB2YWx1ZSBleGlzdHMgaW4gdGhlIGdsb2JhbCBzY29wZSwgaXQgbWF5IG5vdCBiZSBzYWZlIHRvIG92ZXJ3cml0ZSBpdCwgdXNlIHRoZSBcIm92ZXJyaWRlXCIgb3B0aW9uJylcbm1vZHVsZS5leHBvcnRzID0gX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX187XG4iLCJ2YXIgX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfX18gPSByZXF1aXJlKFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvZXhwb3J0cy1sb2FkZXIvZGlzdC9janMuanM/ZXhwb3J0cz1TdmchLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ltcG9ydHMtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzFdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdLnVzZVswXSEuLzk5X3N2Zy50c1wiKTtcbnZhciBfX19FWFBPU0VfTE9BREVSX0dFVF9HTE9CQUxfVEhJU19fXyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0R2xvYmFsVGhpcy5qc1wiKTtcbnZhciBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fID0gX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX187XG52YXIgX19fRVhQT1NFX0xPQURFUl9JTVBPUlRfTU9EVUxFX0xPQ0FMX05BTUVfX18gPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXy5TdmdcbmlmICh0eXBlb2YgX19fRVhQT1NFX0xPQURFUl9HTE9CQUxfVEhJU19fX1tcIlN2Z1wiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJTdmdcIl0gPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9NT0RVTEVfTE9DQUxfTkFNRV9fXztcbmVsc2UgdGhyb3cgbmV3IEVycm9yKCdbZXhwb3Nlcy1sb2FkZXJdIFRoZSBcIlN2Z1wiIHZhbHVlIGV4aXN0cyBpbiB0aGUgZ2xvYmFsIHNjb3BlLCBpdCBtYXkgbm90IGJlIHNhZmUgdG8gb3ZlcndyaXRlIGl0LCB1c2UgdGhlIFwib3ZlcnJpZGVcIiBvcHRpb24nKVxubW9kdWxlLmV4cG9ydHMgPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG4gIHZhciBnO1xuICB0cnkge1xuICAgIC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIGcgPSB0aGlzIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cblxuICAgIC8vIFRoaXMgd29ya3MgaWYgdGhlIHNlbGYgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3b3JrcyBpZiB0aGUgZ2xvYmFsIHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGc7XG59KCk7IiwiU3RhY2tFeGNoYW5nZS52b3RlX2JvdW50eSA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICBmdW5jdGlvbiBib3VudHlDbG9zZV9jYWxsYmFjaygkYnV0dG9uLCBwb3N0SWQsIGRhdGEpIHtcblxuICAgICAgICBpZiAoZGF0YS5TdWNjZXNzKSB7XG5cbiAgICAgICAgICAgIC8vIFdlIHVzZWQgdG8gdXBkYXRlIHVzZXIncyByZXB1dGF0aW9uLCBidXQgdGhhdCBmdW5jdGlvbmFsaXR5IGhhcyBiZWVuIGJyb2tlbiBmb3IgYSB3aGlsZSBkdWUgdG8gc2hpZnRpbmcgcGFnZSBsYXlvdXRzLiAgV2UgY291bGQgYnJpbmcgdGhhdCBiYWNrIGluIHRoZSBmdXR1cmUgaWYgZGVzaXJlZC5cblxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gJGJ1dHRvbi5kYXRhKCdhd2FyZC1pZi1hcHBsaWVkJyk7XG5cbiAgICAgICAgICAgICRidXR0b25cbiAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLWJvdW50eS1hd2FyZC1jb250YWluZXInKVxuICAgICAgICAgICAgICAgIC5maW5kKCcuanMtYm91bnR5LWF3YXJkJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpXG4gICAgICAgICAgICAgICAgLnRleHQoJysnICsgbmV3VmFsdWUpXG4gICAgICAgICAgICAgICAgLnNldFRvb2x0aXBUZXh0KF9zKFwiVGhpcyBhbnN3ZXIgaGFzIGJlZW4gYXdhcmRlZCBib3VudGllcyB3b3J0aCAkYm91bnR5QW1vdW50JCByZXB1dGF0aW9uXCIsIHsgYm91bnR5QW1vdW50OiBuZXdWYWx1ZSB9KSwgeyBwbGFjZW1lbnQ6ICdyaWdodCcgfSk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcG9zdCBub3RpY2UsIGFueSBib3VudHkgdm90aW5nIGJ1dHRvbnMsIGFueSBib3VudHkgYXdhcmQgY29udGFpbmVyIHRoYXQgZG9lcyBub3QgaGF2ZSBhIHZpc2libGUgYXdhcmQuXG4gICAgICAgICAgICAkKCcuanMtYm91bnR5LW5vdGlmaWNhdGlvbiwgLmpzLWJvdW50eS12b3RlLCAuanMtYm91bnR5LWF3YXJkLWNvbnRhaW5lcjpub3QoOmhhcyguanMtYm91bnR5LWF3YXJkOm5vdCguZC1ub25lKSkpJykucmVtb3ZlKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvZ2dsZUJvdW50eUJ1dHRvbkVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KGRhdGEuTWVzc2FnZSwgeyB0eXBlOiAnZGFuZ2VyJyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJvdW50eUJ1dHRvbkVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICAkKCcuanMtYm91bnR5LXZvdGUnKS5wcm9wKCdkaXNhYmxlZCcsICFlbmFibGVkKS5maW5kKCcucy1iYWRnZScpLnRvZ2dsZUNsYXNzKCdiZy1ibGFjay00MDAnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBib3VudHlDbG9zZSgkYnV0dG9uKSB7XG5cbiAgICAgICAgaWYgKCFjb25maXJtKF9zKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYXdhcmQgeW91ciBib3VudHkgdG8gdGhpcyBhbnN3ZXI/IFlvdSBjYW7igJl0IHVuZG8gdGhpcyEnKSkpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHBvc3RJZCA9IFN0YWNrRXhjaGFuZ2Uudm90ZS5nZXRQb3N0SWQoJGJ1dHRvbik7XG5cbiAgICAgICAgdG9nZ2xlQm91bnR5QnV0dG9uRW5hYmxlZChmYWxzZSk7XG5cbiAgICAgICAgLy8gSGlkZSB0aGUgdG9vbHRpcCBzaW5jZSBkaXNhYmxlZCBlbGVtZW50cyBkb24ndCByZWNlaXZlIG1vdXNlIGV2ZW50LlxuICAgICAgICAkYnV0dG9uLmRpc3BhdGNoRXZlbnQoJ21vdXNlb3V0Jyk7XG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS52b3RlLnN1Ym1pdCh7XG4gICAgICAgICAgICAkdGFyZ2V0OiAkYnV0dG9uLFxuICAgICAgICAgICAgcG9zdElkOiBwb3N0SWQsXG4gICAgICAgICAgICB2b3RlVHlwZUlkOiBTdGFja0V4Y2hhbmdlLnZvdGUudm90ZVR5cGVJZHMuYm91bnR5Q2xvc2UsXG4gICAgICAgICAgICBzdWNjZXNzOiBib3VudHlDbG9zZV9jYWxsYmFja1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGJvdW50eUNsb3NlX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtYm91bnR5LXZvdGUnLCBmdW5jdGlvbiAoKSB7IGJvdW50eUNsb3NlKCQodGhpcykpOyB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGJvdW50eU9wZW5faW5pdExpbmsgPSBmdW5jdGlvbiAoYXR0YWNoSGFuZGxlciwgbGluaykge1xuICAgICAgICBsaW5rID0gJChsaW5rIHx8ICQoXCIuYm91bnR5LWxpbmtcIikpO1xuICAgICAgICBsaW5rID0gbGluay5vZmYoJ2NsaWNrJywgYm91bnR5T3Blbl9sb2FkUG9wdXApO1xuICAgICAgICBpZiAoYXR0YWNoSGFuZGxlcikgbGluay5vbignY2xpY2snLCBib3VudHlPcGVuX2xvYWRQb3B1cCk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cblxuICAgIHZhciBib3VudHlPcGVuX2xvYWRQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBib3VudHlPcGVuX2luaXRMaW5rKGZhbHNlLCB0aGlzKTtcbiAgICAgICAgdmFyIHBvc3RJZCA9ICQobGluaykuY2xvc2VzdChcIi5xdWVzdGlvblwiKS5kYXRhKFwicXVlc3Rpb25pZFwiKVxuXG4gICAgICAgIGxpbmsubG9hZFBvcHVwKHtcbiAgICAgICAgICAgIHVybDogJy9wb3N0cy9ib3VudHkvJyArIHBvc3RJZCxcbiAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJvdW50eU9wZW5faW5pdExpbmsodHJ1ZSwgbGluayk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYm91bnR5T3Blbl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBib3VudHlPcGVuX2luaXRMaW5rKHRydWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FuT3BlbkJvdW50eSlcbiAgICAgICAgICAgICAgICBib3VudHlPcGVuX2luaXQoKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc09wZW5Cb3VudHkpXG4gICAgICAgICAgICAgICAgYm91bnR5Q2xvc2VfaW5pdCgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgZmlsZSBjb250YWlucyB0aGUgZnVuY3Rpb25hbGl0eSB0aGF0IGV2ZW4gYW5vbnltb3VzIHVzZXJzIG5lZWQuXG4vLyBEdXJpbmcgdGhlIGJ1aWxkIHByb2Nlc3MsIHRoaXMgZmlsZSB3aWxsIGFsc28gYmUgcHJlcGVuZGVkIHRvIGZ1bGwucGFydC5qc1xuLy8gdG8gZm9ybSBmdWxsLmpzXG5cblN0YWNrRXhjaGFuZ2UuYW5vbnltb3VzID0ge307XG5cbiIsIi8vIHRyeWluZyBvdXQgdGhpcyBpbmhlcml0YW5jZSBoZWxwZXIgLSBodHRwczovL2dpdGh1Yi5jb20vZGVkL2tsYXNzXG5pbXBvcnQgeyBLRVlfQ09ERSB9IGZyb20gJy4uL2NvbnN0YW50cy5tb2QnO1xuaW1wb3J0IHsgYXR0YWNoSW5RdWVzdGlvblVybFJld3JpdGVyIH0gZnJvbSAnLi4vLi4vVG9wQmFyJ1xuXG4vKiFcbiAgKiBrbGFzczogYSBjbGFzc2ljYWwgSlMgT09QIGZhw6dhZGVcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL2tsYXNzXG4gICogTGljZW5zZSBNSVQgKGMpIER1c3RpbiBEaWF6ICYgSmFjb2IgVGhvcm50b24gMjAxMlxuICAqL1xud2luZG93LmtsYXNzID0gKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcbiAgICB2YXIgb2xkID0gY29udGV4dC5rbGFzc1xuICAgICAgLCBmID0gJ2Z1bmN0aW9uJ1xuICAgICAgLCBmblRlc3QgPSBmYWxzZSAmJiAveHl6Ly50ZXN0KGZ1bmN0aW9uICgpIHsgeHl6IH0pID8gL1xcYnN1cHJcXGIvIDogLy4qL1xuICAgICAgLCBwcm90byA9ICdwcm90b3R5cGUnXG5cbiAgICBmdW5jdGlvbiBrbGFzcyhvKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQuY2FsbChpc0ZuKG8pID8gbyA6IGZ1bmN0aW9uICgpIHsgfSwgbywgMSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ZuKG8pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvID09PSBmXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd3JhcChrLCBmbiwgc3Vwcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuc3VwclxuICAgICAgICAgICAgdGhpcy5zdXByID0gc3Vwcltwcm90b11ba11cbiAgICAgICAgICAgIHZhciB1bmRlZiA9IHt9LmZhYnJpY2F0ZWRVbmRlZmluZWRcbiAgICAgICAgICAgIHZhciByZXQgPSB1bmRlZlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VwciA9IHRtcFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzcyh3aGF0LCBvLCBzdXByKSB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gbykge1xuICAgICAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICB3aGF0W2tdID0gaXNGbihvW2tdKVxuICAgICAgICAgICAgICAgICAgJiYgaXNGbihzdXByW3Byb3RvXVtrXSlcbiAgICAgICAgICAgICAgICAgICYmIGZuVGVzdC50ZXN0KG9ba10pXG4gICAgICAgICAgICAgICAgICA/IHdyYXAoaywgb1trXSwgc3VwcikgOiBvW2tdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmQobywgZnJvbVN1Yikge1xuICAgICAgICAvLyBtdXN0IHJlZGVmaW5lIG5vb3AgZWFjaCB0aW1lIHNvIGl0IGRvZXNuJ3QgaW5oZXJpdCBmcm9tIHByZXZpb3VzIGFyYml0cmFyeSBjbGFzc2VzXG4gICAgICAgIGZ1bmN0aW9uIG5vb3AoKSB7IH1cbiAgICAgICAgbm9vcFtwcm90b10gPSB0aGlzW3Byb3RvXVxuICAgICAgICB2YXIgc3VwciA9IHRoaXNcbiAgICAgICAgICAsIHByb3RvdHlwZSA9IG5ldyBub29wKClcbiAgICAgICAgICAsIGlzRnVuY3Rpb24gPSBpc0ZuKG8pXG4gICAgICAgICAgLCBfY29uc3RydWN0b3IgPSBpc0Z1bmN0aW9uID8gbyA6IHRoaXNcbiAgICAgICAgICAsIF9tZXRob2RzID0gaXNGdW5jdGlvbiA/IHt9IDogb1xuICAgICAgICBmdW5jdGlvbiBmbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUpIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9tU3ViIHx8IGlzRnVuY3Rpb24gJiYgc3Vwci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgX2NvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZuLm1ldGhvZHMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgcHJvY2Vzcyhwcm90b3R5cGUsIG8sIHN1cHIpXG4gICAgICAgICAgICBmbltwcm90b10gPSBwcm90b3R5cGVcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH1cblxuICAgICAgICBmbi5tZXRob2RzLmNhbGwoZm4sIF9tZXRob2RzKS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBmblxuXG4gICAgICAgIGZuLmV4dGVuZCA9IGV4dGVuZDtcbiAgICAgICAgZm5bcHJvdG9dLmltcGxlbWVudCA9IGZuLnN0YXRpY3MgPSBmdW5jdGlvbiAobywgb3B0Rm4pIHtcbiAgICAgICAgICAgIG8gPSB0eXBlb2YgbyA9PSAnc3RyaW5nJyA/IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9XG4gICAgICAgICAgICAgICAgb2JqW29dID0gb3B0Rm5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqXG4gICAgICAgICAgICB9KCkpIDogb1xuICAgICAgICAgICAgcHJvY2Vzcyh0aGlzLCBvLCBzdXByKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmblxuICAgIH1cblxuICAgIGtsYXNzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQua2xhc3MgPSBvbGRcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4ga2xhc3Ncbn0pKHdpbmRvdyk7XG5cbmNvbnN0IFVOUkVBRF9NRVNTQUdFX0lDT05fRVZFTlRfU09VUkNFID0gMjtcbmNvbnN0IElOQk9YX1BPUFVQX0lURU1fRVZFTlRfU09VUkNFID0gMztcblxuU3RhY2tFeGNoYW5nZS50b3BiYXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIC8qXG4gICAgICAgIEJhc2UgY2xhc3Mgb2YgYW55IGRpYWxvZyB0byBiZSBkaXNwbGF5ZWQgd2hlbiBjbGlja2luZyBhIHRvcGJhciBidXR0b24uXG4gICAgKi9cbiAgICB2YXIgRGlhbG9nID0ga2xhc3MoeyAvLyBkZWNsYXJlIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgY3NzQ2xhc3M6ICcnLCAvLyBuZWVkZWQgZm9yICRsb2FkaW5nUGxhY2Vob2xkZXJzXG4gICAgICAgIFxuICAgICAgICBidXR0b246IG51bGwsXG4gICAgICAgIFxuICAgICAgICAkZGlhbG9nOiBudWxsLCAgICAgICAgXG4gICAgICAgICRsb2FkaW5nUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICRwcmVsb2FkZWREaWFsb2c6IG51bGwsXG4gICAgICAgICRwYXJlbnQ6IG51bGwsXG5cbiAgICAgICAgYWxpZ25tZW50OiBudWxsLFxuXG4gICAgICAgIGhhc1JlYWQ6IGZhbHNlXG4gICAgfSlcbiAgICAubWV0aG9kcyh7XG4gICAgICAgIFxuICAgICAgICBpc0xvYWRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRsb2FkaW5nUGxhY2Vob2xkZXIgIT0gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0xvYWRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRpYWxvZyAhPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZGl2ID0gdGhpcy4kZGlhbG9nIHx8IHRoaXMuJGxvYWRpbmdQbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIHJldHVybiAkZGl2ICE9IG51bGwgJiYgJGRpdi5pcygnOnZpc2libGUnKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIChzaG93T3JIaWRlLCBwcmV2ZW50TWFya0FzUmVhZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaG93T3JIaWRlICE9ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2hvd09ySGlkZSBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNob3dPckhpZGUpIHsgLy8gaGlkZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIHNvbWVvbmUgZ290IGltcGF0aWVudCB3aXRoIGEgbG9uZy1ydW5uaW5nIHJlcXVlc3RcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzbyBoaWRlIHRoZSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dPckhpZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbmV2ZXIgY2xpY2tlZCB0aGlzIGRpYWxvZz8gbm8gd29yayB0byBiZSBkb25lISAodGhpcyBoYXBwZW5zIHdoZW4gY2FsbGluZyBoaWRlQWxsKVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKCkgfHwgdGhpcy5pc0xvYWRpbmcoKSkge1xuXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlIHRoZSBhbHJlYWR5LWxvYWRlZCBkaWFsb2cgb3IgdGhlIGxvYWRpbmcgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dPckhpZGUoc2hvd09ySGlkZSk7ICBcblxuICAgICAgICAgICAgICAgIC8vIG9ubHkgY2xlYXIgdGhlIHVucmVhZCBpbmRpY2F0b3JzIChpY29uIGNvdW50ICsgaXRlbSBoaWdobGlnaHRpbmcpIHdoZW4gY2xvc2luZyBjb250ZW50IHdlJ3ZlIHNlZW5cbiAgICAgICAgICAgICAgICBpZiAoIXNob3dPckhpZGUgJiYgIXByZXZlbnRNYXJrQXNSZWFkICYmIHRoaXMuaGFzUmVhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtBc1JlYWQoKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuJHByZWxvYWRlZERpYWxvZykge1xuICAgICAgICAgICAgICAgIC8vIHNvbWV0aW1lcyB3ZSB3YW50IGEgZGlhbG9nIHRvIGJlIGV4dHJhIHJlc3BvbnNpdmUsIHNvIHdlJ2xsIHByZWxvYWQgbW9zdCBvZiBpdC4uXG4gICAgICAgICAgICAgICAgLy8gdGhlbiwgd2UnbGwgbG9hZCBpdHMgZXh0cmFuZW91cyBjb250ZW50IHdoZW4gY2xpY2tlZCwgZS5nLiB0aGUgXCJhbGwgc2l0ZXNcIiBsaXN0IGluIHRoZSBzaXRlIHN3aXRjaGVyXG4gICAgICAgICAgICAgICAgLy8gbm90ZTogdGhpcy4kZGlhbG9nIHdpbGwgYmUgc2V0IHRvIHRoaXMuJHByZWxvYWRlZERpYWxvZyBvbiB0aGUgZmlyc3QgY2xpY2tcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDaGlsZENvbnRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZERpYWxvZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB3aGVuIHNob3dpbmcgdGhpcyBkaWFsb2csIG90aGVycyBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgICAgICBpZiAoc2hvd09ySGlkZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXR0b24gIT0gYnV0dG9uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1tpXS50b2dnbGUoZmFsc2UsIHByZXZlbnRNYXJrQXNSZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhpZGUgc2VhcmNoIHBvcG92ZXIsIHRvb1xuICAgICAgICAgICAgICAgICQoXCIuanMtdG9wLXNlYXJjaC1wb3BvdmVyXCIpLnJlbW92ZUNsYXNzKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHNob3dPckhpZGU6IGZ1bmN0aW9uIChzaG93T3JIaWRlKSB7XG4gICAgICAgICAgICB2YXIgJGRpdiA9IHRoaXMuJGRpYWxvZyB8fCB0aGlzLiRsb2FkaW5nUGxhY2Vob2xkZXIgfHwgJCgpO1xuICAgICAgICAgICAgdmFyICRidXR0b24gPSB0aGlzLmJ1dHRvbi4kYnV0dG9uO1xuXG4gICAgICAgICAgICBpZiAoc2hvd09ySGlkZSkge1xuICAgICAgICAgICAgICAgIHZhciAkbGkgPSAkYnV0dG9uLmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRsaS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQgPSAkKCc8bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIC8+JykuaW5zZXJ0QWZ0ZXIoJGxpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmFwcGVuZCgkZGl2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkZGl2Lmluc2VydEFmdGVyKHRoaXMuYnV0dG9uLiRidXR0b24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRfcGR1Yikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZF9wZHViID0gdGhpcy5wb3NpdGlvbkRpYWxvZ1VuZGVyQnV0dG9uLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25EaWFsb2dVbmRlckJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5yZXNwb25zaXZlLmFkZEJyZWFrcG9pbnRMaXN0ZW5lcih0aGlzLl9ib3VuZF9wZHViKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUgJiYgdGhpcy5fYm91bmRfcGR1Yikge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUucmVtb3ZlQnJlYWtwb2ludExpc3RlbmVyKHRoaXMuX2JvdW5kX3BkdWIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGRpdi50b2dnbGUoc2hvd09ySGlkZSk7XG5cbiAgICAgICAgICAgIGlmIChzaG93T3JIaWRlICYmIHRoaXMuaXNMb2FkZWQoKSkgeyAvLyBhc3N1bWUgdXNlciB3aWxsIG5vdyBoYXZlIHZpZXdlZCB0aGUgcmVhbCBkaWFsb2dcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgbG9hZENoaWxkQ29udGVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjaGlsZENvbnRlbnQgPSB0aGlzLiRwcmVsb2FkZWREaWFsb2cuZmluZCgnLmNoaWxkLWNvbnRlbnQnKTtcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZyA9IHRoaXMuJHByZWxvYWRlZERpYWxvZztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudXJsKSByZXR1cm47XG5cbiAgICAgICAgICAgICQoJzxkaXY+JywgeyAnY2xhc3MnOiAnY2hpbGQtY29udGVudC1sb2FkaW5nJyB9KS5hZGRTcGlubmVyKCkuYXBwZW5kVG8oJGNoaWxkQ29udGVudCk7XG5cbiAgICAgICAgICAgIHZhciB0aGlzRGlhbG9nID0gdGhpcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5mZXRjaFVybCgpLmRvbmUoZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAkY2hpbGRDb250ZW50Lmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgdGhpc0RpYWxvZy5hZnRlckxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWREaWFsb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9hZGluZygpKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuJGxvYWRpbmdQbGFjZWhvbGRlciA9IHRoaXMuZ2V0TG9hZGluZ1BsYWNlaG9sZGVyKCk7XG4gICAgICAgICAgICB0aGlzLnNob3dPckhpZGUodHJ1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciB0aGlzRGlhbG9nID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5mZXRjaFVybCgpXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0RpYWxvZy4kZGlhbG9nID0gJChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0RpYWxvZy5hZnRlckxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIHVzZXIgY291bGQgdG9nZ2xlIHRoZSBwbGFjZWhvbGRlciwgaXRzIHZpc2liaWx0eSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhlIG9yaWdpbmFsIGludGVudFxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd09ySGlkZSA9IHRoaXNEaWFsb2cuJGxvYWRpbmdQbGFjZWhvbGRlci5pcygnOnZpc2libGUnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzRGlhbG9nLnNob3dPckhpZGUoc2hvd09ySGlkZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzRGlhbG9nLiRsb2FkaW5nUGxhY2Vob2xkZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNEaWFsb2cuJGxvYWRpbmdQbGFjZWhvbGRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGluaGVyaXRvcnMgbWF5IG92ZXJyaWRlLCBidXQgc2hvdWxkIGNhbGwgdGhpcy5zdXByKClcblxuICAgICAgICAgICAgLy8gaG9va3MgdXAgZXZlbnRzIGZvciBjbG9zZSBidXR0b25zIGluc2lkZSB0aGUgYXN5bmMgbG9hZGVkIGRpYWxvZ3MgKHVzZWQgb24gbW9iaWxlKVxuICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmZpbmQoJy5qcy1jbG9zZS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnRvcGJhci5oaWRlQWxsKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVFJBQ0sgQUxMIFRIRSBUSElOR1NcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLmJpbmRUcmFja0NsaWNrcyh0aGlzLiRkaWFsb2cpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldExvYWRpbmdQbGFjZWhvbGRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGltZ0h0bWwgPSAkKCc8ZGl2Lz4nKS5hcHBlbmQoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmdldFNwaW5uZXJJbWcoKSkuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSB0aGlzLmNzc0NsYXNzICsgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmlzQW5vbnltb3VzTmV0d29ya1dpZGUgPyAnIGFub24nIDogJycpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBbXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0b3BiYXItZGlhbG9nICcsIGNzc0NsYXNzZXMsICcgZG5vXCI+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXJcIj4nLCBpbWdIdG1sLCAnPC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCIvPicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm4gJChodG1sLmpvaW4oJycpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBwb3NpdGlvbkRpYWxvZ1VuZGVyQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIG1vZCBpbmJveCBidXR0b24gaXNuJ3Qgd2l0aCBhbGwgdGhlIHJlc3QgKGFuZCBpcyBpbiBhIGRpZmZlcmVudCwgYWJzb2x1dGVseS1wb3NpdGlvbmVkIGNvbnRhaW5lciksIFxuICAgICAgICAgICAgLy8gd2UgaGF2ZSB0byB0YWtlIG1lYXN1cmVtZW50cyBmcm9tIHRoZSBmaXJzdCBidXR0b24gb24gdGhlIHBhZ2UgYW5kIG1vdmUgdGhlIG90aGVycyBvdmVyXG4gICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQgfHwgXCJyaWdodFwiLFxuICAgICAgICAgICAgICAgIHRvcCA9IHRoaXMuYnV0dG9uLiRidXR0b24ub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBlbGVtID0gdGhpcy4kZGlhbG9nIHx8IHRoaXMuJGxvYWRpbmdQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbmluZ1BhcmVudCA9IGVsZW0ucGFyZW50KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0byBzdGFydCB3aXRoIGEgY2xlYW4gc2xhdGUgYnkgdW5kb2luZyB0aGUgcHJldmlvdXMgcG9zaXRpb25pbmdcbiAgICAgICAgICAgIFtcInRvcFwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcIm1heC13aWR0aFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgZWxlbVswXS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjYW4ndCB1c2UganF1ZXJ5J3Mgb2Zmc2V0UGFyZW50KCkgYmVjYXVzZSBpdCByZWxpZXMgb24gdGhlIGJyb3dzZXIncyBFbGVtZW50Lm9mZnNldFBhcmVudCB3aGljaFxuICAgICAgICAgICAgLy8gcmV0dXJucyBudWxsIGZvciBkaXNwbGF5Om5vbmUgZWxlbWVudHNcbiAgICAgICAgICAgIHdoaWxlIChwb3NpdGlvbmluZ1BhcmVudC5ub3QoXCJib2R5XCIpLmxlbmd0aCAmJiBwb3NpdGlvbmluZ1BhcmVudC5jc3MoXCJwb3NpdGlvblwiKSA9PT0gXCJzdGF0aWNcIilcbiAgICAgICAgICAgICAgICBwb3NpdGlvbmluZ1BhcmVudCA9IHBvc2l0aW9uaW5nUGFyZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwb3NpdGlvbmluZ1BhcmVudCA9IHBvc2l0aW9uaW5nUGFyZW50Lmxlbmd0aCA/IHBvc2l0aW9uaW5nUGFyZW50IDogJChcImJvZHlcIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgeSA9IHRoaXMuYnV0dG9uLiRidXR0b24ub2Zmc2V0KCkubGVmdCAtIHBvc2l0aW9uaW5nUGFyZW50Lm9mZnNldCgpLmxlZnQ7XG4gICAgICAgICAgICB2YXIgbWF4d2lkdGg7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKGFsaWdubWVudCA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgeSA9IHBvc2l0aW9uaW5nUGFyZW50Lm91dGVyV2lkdGgoKSAtIHkgLSB0aGlzLmJ1dHRvbi4kYnV0dG9uLm91dGVyV2lkdGgoKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYWdlIGlzIGZhaXJseSBuYXJyb3csIHRoZSBtb2QgbWVzc2FnZXMgZGlhbG9nICh3aGljaCBzaXRzIGZhciBsZWZ0KSBtYXkgZW5kIHVwIGV4dGVuZGluZyB0byB0aGUgbGVmdCBvdXRzaWRlIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgICAgIC8vIGF0IGl0cyBub3JtYWwgd2lkdGguIFRoaXMgbWF4d2lkdGggZW5zdXJlcyB0aGF0IHRoZSBkaWFsb2cgZ29lcyBubyBmdXJ0aGVyIHRoZW4gdGhlIGxlZnQgZWRnZS4gV2hpbGUgdGhlIGRpYWxvZydzIHJlc3BvbnNpdmVuZXNzIGlzXG4gICAgICAgICAgICAgICAgLy8gaW1wbGVtZW50ZWQgbWFpbmx5IHRvIHN1cHBvcnQgKndpZGVyKi10aGFuIGRlZmF1bHQsIGl0IGhhbmRsZXMgc2hyaW5raW5nIGJ5IGEgY291cGxlIHBpeGVscyBqdXN0IGZpbmUuXG4gICAgICAgICAgICAgICAgbWF4d2lkdGggPSBwb3NpdGlvbmluZ1BhcmVudC5vZmZzZXQoKS5sZWZ0ICsgcG9zaXRpb25pbmdQYXJlbnQub3V0ZXJXaWR0aCgpIC0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjc3MgPSB7ICd0b3AnOiB0b3AgfTtcblxuICAgICAgICAgICAgaWYgKCFTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUgfHwgU3RhY2tFeGNoYW5nZS5yZXNwb25zaXZlLmN1cnJlbnRSYW5nZSgpICE9PSBcInNtXCIpIHsgLy8gYmVsb3cgdGhlIHNtYWxsIGJyZWFrcG9pbnQsIHRoZSBDU1MgdGFrZXMgY2FyZSBvZiB0aGlzLlxuICAgICAgICAgICAgICAgIGNzc1thbGlnbm1lbnRdID0geTtcbiAgICAgICAgICAgICAgICBpZiAobWF4d2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzLm1heFdpZHRoID0gbWF4d2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAodGhpcy4kZGlhbG9nIHx8IHRoaXMuJGxvYWRpbmdQbGFjZWhvbGRlcikuY3NzKGNzcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmV0Y2hVcmw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvZygnZmV0Y2hpbmcgJyArIHRoaXMudXJsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoX3MoXCJTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiksIHsgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWFya0FzUmVhZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ubWFya0FzUmVhZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMb2FkZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5maW5kKCcudW5yZWFkLWl0ZW0nKS5yZW1vdmVDbGFzcygndW5yZWFkLWl0ZW0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVSZWFsdGltZU1lc3NhZ2U6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAvLyBpbmhlcml0b3JzIG1heSBvdmVycmlkZSwgYnV0IGJ5IGRlZmF1bHQsIGp1c3QgbWFrZSB0aGUgbmV4dCBjbGljayBmZXRjaCBmcmVzaFxuICAgICAgICAgICAgdGhpcy5jbGVhckxvYWRlZERpYWxvZygpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgY2xlYXJMb2FkZWREaWFsb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1JlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYXNGb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29udGFpbnM6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyICRzY29wZSA9IHRoaXMuJGRpYWxvZyB8fCB0aGlzLiRsb2FkaW5nUGxhY2Vob2xkZXI7XG4gICAgICAgICAgICByZXR1cm4gJHNjb3BlICYmICRzY29wZS5sZW5ndGggJiYgZWwgJiYgJC5jb250YWlucygkc2NvcGUuZ2V0KDApLCBlbCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuICAgIFxuICAgIC8qXG4gICAgICAgIEJhc2UgY2xhc3Mgb2YgaWNvbiBidXR0b25zIGluIHRoZSB0b3BiYXIsIGUuZy4gdGhlIEluYm94IGJ1dHRvbixcbiAgICAgICAgdGhhdCBhbGxvd3MgbG9hZGluZyBhbmQgZGlzcGxheWluZyBpdHMgYXNzb2NpYXRlZCBEaWFsb2cuXG4gICAgKi9cbiAgICB2YXIgQnV0dG9uID0ga2xhc3MoeyAvLyBkZWNsYXJlIGluc3RhbmNlIHZhcmlhYmxlc1xuXG4gICAgICAgIC8vIHRoZXNlIHdpbGwgYmUgc2V0IGluIGluaGVyaXRvcnMnIGRlY2xhcmF0aW9uc1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgc2VsZWN0b3I6ICcnLFxuICAgICAgICBkaWFsb2c6IG51bGwsXG5cbiAgICAgICAgLy8gdGhlc2Ugd2lsbCBiZSBzZXQgZHVyaW5nIGluaXRpYWxpemVcbiAgICAgICAgJGJ1dHRvbjogbnVsbCxcbiAgICAgICAgb25DbGFzczogJycsXG4gICAgICAgIHVucmVhZENvdW50UHJlZml4OiAnJyxcbiAgICAgICAgcXVldWVkVW5yZWFkQ291bnQ6IDAsXG4gICAgICAgIHNob3dzT25Nb3VzZU92ZXI6IGZhbHNlLFxuICAgICAgICBwZW5kaW5nVW5yZWFkOiB7fVxuICAgIH0pXG4gICAgLm1ldGhvZHMoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7IC8vIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IGtsYXNzIGR1cmluZyBjb25zdHJ1Y3Rpb25cblxuICAgICAgICAgICAgdGhpcy5kaWFsb2cubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZy5idXR0b24gPSB0aGlzO1xuICAgICAgICAgICAgZGlhbG9ncy5wdXNoKHRoaXMuZGlhbG9nKTtcblxuICAgICAgICAgICAgLy8gXCJ0aGlzXCIgaW5zaWRlIHRoZSBqcXVlcnkgY2xpY2sgZXZlbnQgaXMgdGhlIGNsaWNrZWQgZWxlbWVudFxuICAgICAgICAgICAgdmFyIHRoaXNCdXR0b24gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9uID0gJCh0aGlzLnNlbGVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuJGJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7IHRoaXNCdXR0b24udG9nZ2xlKCk7IHJldHVybiBmYWxzZTsgLyogcHJldmVudCBuYXZpZ2F0aW9uICovIH0pO1xuXG4gICAgICAgICAgICAvLyBpZiBhbnkgb2YgdGhlIG5ldHdvcmstbGV2ZWwgZGlhbG9ncyBhcmUgdmlzaWJsZSwgbW91c2luZyBvdmVyIGFub3RoZXIgbmV0d29yayBidXR0b24gd2lsbCBzaG93IGl0XG4gICAgICAgICAgICBpZiAodGhpcy5zaG93c09uTW91c2VPdmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9uLm1vdXNlb3ZlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzQnV0dG9uLnNob3dPbk1vdXNlT3ZlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLm9uQ2xhc3MgPSAnaXMtc2VsZWN0ZWQnICsgKHRoaXMub25DbGFzcyA/ICcgJyA6ICcnKSArIHRoaXMub25DbGFzcztcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIChzaG93T3JIaWRlLCBwcmV2ZW50TWFya0FzUmVhZCkge1xuICAgICAgICAgICAgc2hvd09ySGlkZSA9IHR5cGVvZiBzaG93T3JIaWRlID09PSAnYm9vbGVhbicgPyBzaG93T3JIaWRlIDogIXRoaXMuJGJ1dHRvbi5oYXNDbGFzcyh0aGlzLm9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9uLnRvZ2dsZUNsYXNzKHRoaXMub25DbGFzcywgc2hvd09ySGlkZSk7XG4gICAgICAgICAgICB0aGlzLiRidXR0b24uYXR0cignYXJpYS1leHBhbmRlZCcsIHNob3dPckhpZGUpO1xuICAgICAgICAgICAgdGhpcy5kaWFsb2cudG9nZ2xlKHNob3dPckhpZGUsIHByZXZlbnRNYXJrQXNSZWFkKTtcbiAgICAgICAgICAgIGlmICghc2hvd09ySGlkZSAmJiB0aGlzLmRpYWxvZy5oYXNGb2N1cygpKSB7IHRoaXMuJGJ1dHRvbi5mb2N1cygpOyB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBzaG93T25Nb3VzZU92ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vbWV0YS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMjEwMTc3L2RvbnQtcmVxdWlyZS1hLWNsaWNrLXRvLXN3aXRjaC1iZXR3ZWVuLXNpdGVzLWluYm94LWFuZC1hY2hpZXZlbWVudHMtb24tdGhlLW5lXG4gICAgICAgICAgICB2YXIgc2hvdWxkU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiBhbnkgYnV0dG9ucy9kaWFsb2dzIGFyZSB2aXNpYmxlXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGJ1dHRvbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGIgIT0gdGhpcyAmJiBiLnNob3dzT25Nb3VzZU92ZXIgJiYgYi5pc09uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNob3VsZFNob3cpIHtcbiAgICAgICAgICAgICAgICAvLyBxdWlja2x5IG1vdmluZyBiZXR3ZWVuIGJ1dHRvbi9kaWFsb2cgcGFpcnMgc2hvdWxkbid0IGNsZWFyIHVucmVhZCBpbmRpY2F0b3JzXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUodHJ1ZSwgLypwcmV2ZW50TWFya0FzUmVhZCovdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNPbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kYnV0dG9uLmhhc0NsYXNzKHRoaXMub25DbGFzcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWFya0FzUmVhZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5zZXRVbnJlYWQoJC5leHRlbmQoeyBjb3VudDogMCwgbGl0VXA6IGZhbHNlIH0sIHRoaXMucGVuZGluZ1VucmVhZCkpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc2V0VW5yZWFkOiBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc09uKCkpIHtcbiAgICAgICAgICAgICAgICAkLmV4dGVuZCh0aGlzLnBlbmRpbmdVbnJlYWQsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdVbnJlYWQgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlVbnJlYWRDb3VudChzdGF0dXMuY291bnQsIHN0YXR1cy5saXRVcCk7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLmNvdW50ID4gMCB8fCBzdGF0dXMubGl0VXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5jbGVhckxvYWRlZERpYWxvZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFwcGx5VW5yZWFkQ291bnQ6IGZ1bmN0aW9uICh1bnJlYWRDb3VudCwgbGl0VXApIHtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gdGhpcy4kYnV0dG9uO1xuICAgICAgICAgICAgdmFyICRjb3VudCA9ICRidXR0b24uZmluZCgnLnVucmVhZC1jb3VudCwgLmpzLXVucmVhZC1jb3VudCcpO1xuICAgICAgICAgICAgdmFyIHVucmVhZENsYXNzID0gJGJ1dHRvbi5kYXRhKCd1bnJlYWQtY2xhc3MnKTtcblxuICAgICAgICAgICAgaWYgKGxpdFVwICE9PSB1bmRlZmluZWQgJiYgdW5yZWFkQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAkYnV0dG9uLnRvZ2dsZUNsYXNzKHVucmVhZENsYXNzLCBsaXRVcCkuZGF0YSgnbGl0LXVwJywgbGl0VXApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodW5yZWFkQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRidXR0b24uZGF0YSgndW5yZWFkLWNvdW50JywgdW5yZWFkQ291bnQpO1xuICAgICAgICAgICAgICAgIGlmICh1bnJlYWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvdW50LnRleHQodGhpcy51bnJlYWRDb3VudFByZWZpeCArIHVucmVhZENvdW50KS5mYWRlSW4oKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvdW50LnRleHQoMCkuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuZ2V0QnV0dG9uTGFiZWxBbmRUaXRsZSgkYnV0dG9uLmRhdGEoJ3VucmVhZC1jb3VudCcpIHx8IDAsICEhJGJ1dHRvbi5kYXRhKCdsaXQtdXAnKSk7XG4gICAgICAgICAgICBpZiAobmV3VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5hdHRyKCdhcmlhLWxhYmVsJywgbmV3VmFsdWVzLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAkYnV0dG9uLmF0dHIoJ3RpdGxlJywgbmV3VmFsdWVzLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVSZWFsdGltZU1lc3NhZ2U6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAvLyBpbmhlcml0b3JzIG1heSBvdmVycmlkZVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldEJ1dHRvbkxhYmVsQW5kVGl0bGU6IGZ1bmN0aW9uICh1bnJlYWRDb3VudCwgbGl0VXApIHtcbiAgICAgICAgICAgIC8vIGluaGVyaXRvcnMgbWF5IG92ZXJyaWRlXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuXG4gICAgLy8gc3ViY2xhc3NlcyBvZiB0aGUgYWJvdmUsIG9yZ2FuaXplZCBieSBkaWFsb2cvYnV0dG9uIHBhaXJpbmcgKGkgaGFkIHRvIGRlY2xhcmUgZGlhbG9ncyBmaXJzdCwgc28gYnV0dG9ucyBjb3VsZCBpbnN0YW50aWF0ZSB0aGVtKVxuICAgIFxuICAgIHZhciBTaXRlU3dpdGNoZXJEaWFsb2cgPSBEaWFsb2cuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiAnL3RvcGJhci9zaXRlLXN3aXRjaGVyL3NpdGUtbGlzdCcsIC8vIHJldHVybnMgY29udGVudCBub3QgYWxyZWFkeSBwcmVsb2FkZWRcbiAgICAgICAgY3NzQ2xhc3M6ICdzaXRlU3dpdGNoZXItZGlhbG9nJyxcblxuICAgICAgICAkc2VhcmNoSXRlbXM6IG51bGwsXG4gICAgICAgICRwaW5uZWRTaXRlU2VhcmNoSXRlbXM6IG51bGwsXG4gICAgICAgIGlzUHJlbG9hZGVkOiB0cnVlLFxuICAgICAgICAkcHJlbG9hZGVkRGlhbG9nOiAkKCcuc2l0ZVN3aXRjaGVyLWRpYWxvZycpXG4gICAgfSlcbiAgICAubWV0aG9kcyh7XG4gICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gTk9URTogdGhpcyBpcyBhZnRlciB0aGUgY2hpbGQgY29udGVudCAoaS5lLiB0aGUgZmlsdGVyYWJsZSBzaXRlIGxpc3QpIGlzIGxvYWRlZFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBhbGxvdyBmaWx0ZXJpbmcgb2Ygc2l0ZXNcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5maW5kKCcuanMtc2l0ZS1maWx0ZXItdHh0JykudHlwZVdhdGNoKHsgaGlnaGxpZ2h0OiBmYWxzZSwgd2FpdDogMjUwLCBjYXB0dXJlTGVuZ3RoOiAtMSwgY2FsbGJhY2s6ICQucHJveHkodGhpcy5maWx0ZXJTaXRlcywgdGhpcykgfSk7XG4gICAgICAgICAgICB0aGlzLiRzZWFyY2hJdGVtcyA9IHRoaXMuJGRpYWxvZy5maW5kKCcuanMtb3RoZXItc2l0ZXMgbGknKS5jbG9uZSgpLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGl0bGU6ICQoJy5zaXRlLWljb24nLCB0aGlzKS5hdHRyKCd0aXRsZScpLnRvTG93ZXJDYXNlKCksIGRlc2NyaXB0aW9uOiAkKCcuc2l0ZS1kZXNjJywgdGhpcykudGV4dCgpLnRvTG93ZXJDYXNlKCksIGhvc3RuYW1lOiAkKCdhJywgdGhpcykuZmlyc3QoKS5hdHRyKCdocmVmJyksIGxpOiB0aGlzIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gc2V0IHVwIHNjcm9sbGluZyB0byB0aGUgYm90dG9tIG9mIHRoZSAybmQgc2l0ZSBpbiB0aGUgZnVsbCBsaXN0IG9uIHNlYXJjaCBib3ggZm9jdXNcbiAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzLiRkaWFsb2c7XG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnLmpzLXNpdGUtZmlsdGVyLXR4dCcpLmZvY3VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nQm90dG9tID0gZGlhbG9nLm9mZnNldCgpLnRvcCArIGRpYWxvZy5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Vjb25kU2l0ZSA9IGRpYWxvZy5maW5kKCcub3RoZXItc2l0ZXMgbGk6bnRoLWNoaWxkKDIpJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZFNpdGVCb3R0b20gPSBzZWNvbmRTaXRlLm9mZnNldCgpLnRvcCArIHNlY29uZFNpdGUuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kU2l0ZUJvdHRvbSA+IGRpYWxvZ0JvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IGRpYWxvZy5zY3JvbGxUb3AoKSArIHNlY29uZFNpdGVCb3R0b20gLSBkaWFsb2dCb3R0b21cbiAgICAgICAgICAgICAgICAgICAgfSwgNzUwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCEoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuaXNBbm9ueW1vdXMgJiYgIVN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmlzQW5vbnltb3VzT25UaGlzU2l0ZSkgJiYgJCgnLnBpbm5lZC1zaXRlLWVkaXRvci1jb250YWluZXInKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKCcuanMtZm91bmQtc2l0ZXMnKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAvLyB3aXJlIHVwIHNpdGUgc2VhcmNoIGZvciBwaW5uaW5nXG4gICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmZpbmQoJyNqcy1zaXRlLXNlYXJjaC10eHQnKS50eXBlV2F0Y2goeyBoaWdobGlnaHQ6IGZhbHNlLCB3YWl0OiAxMDAsIGNhcHR1cmVMZW5ndGg6IC0xLCBjYWxsYmFjazogJC5wcm94eSh0aGlzLmZpbmRTaXRlc1RvUGluLCB0aGlzKSB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5maW5kKCcjZWRpdC1waW5uZWQtc2l0ZXMnKS5jbGljaygkLnByb3h5KHRoaXMuZWRpdFBpbm5lZFNpdGVzLCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmZpbmQoJyNjYW5jZWwtcGlubmVkLXNpdGVzJykuY2xpY2soeyBmb3JjZUxpc3RSZWZyZXNoOiAkKCcjc2F2ZS1waW5uZWQtc2l0ZXMtYnRuJykuaXMoJzplbmFibGVkJykgfSwgdGhpcy5jYW5jZWxTaXRlTGlzdEVkaXRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnI3Bpbi1zaXRlLWJ0bicpLmNsaWNrKCQucHJveHkodGhpcy5waW5TaXRlLCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLm9uKCdjbGljaycsICcuanMtcmVtb3ZlLXBpbm5lZC1zaXRlLWxpbmsnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NhdmUtcGlubmVkLXNpdGVzLWJ0bicpLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuanMtcmVzZXQtcGlubmVkLXNpdGVzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnI3NhdmUtcGlubmVkLXNpdGVzLWJ0bicpLmNsaWNrKCQucHJveHkodGhpcy5zYXZlUGlubmVkU2l0ZXMsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnLmpzLXJlc2V0LXBpbm5lZC1zaXRlcycpLmNsaWNrKCQucHJveHkodGhpcy5yZXNldFBpbm5lZFNpdGVzLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3VwcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dPckhpZGU6IGZ1bmN0aW9uIChzaG93T3JIaWRlKSB7XG4gICAgICAgICAgICB0aGlzLnN1cHIoc2hvd09ySGlkZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGluU2l0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnI3Bpbi1zaXRlLWJ0bicpLmRpc2FibGUoKTtcblxuICAgICAgICAgICAgdmFyIHNpdGVuYW1lID0gJCgnI2pzLXNpdGUtc2VhcmNoLXR4dCcpLnZhbCgpO1xuXG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdTaXRlcyA9ICQuZ3JlcCh0aGlzLiRwaW5uZWRTaXRlU2VhcmNoSXRlbXMsIGZ1bmN0aW9uIChlbGVtLCBpZHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5zaXRlbmFtZSA9PT0gc2l0ZW5hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFtYXRjaGluZ1NpdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICQoJyNwaW4tc2l0ZS1idG4nKS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaXRlID0gbWF0Y2hpbmdTaXRlc1swXTtcbiAgICAgICAgICAgIHZhciBhbHJlYWR5UGlubmVkU2l0ZXMgPSAkKCcucGlubmVkLXNpdGUtbGluaycpLm1hcChmdW5jdGlvbiAoaSwgcykgeyByZXR1cm4gJChzKS5kYXRhKCdpZCcpOyB9KS50b0FycmF5KCk7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeVBpbm5lZFNpdGVzLmluZGV4T2Yoc2l0ZS5zaXRlaWQpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAkKCcjcGluLXNpdGUtYnRuJykuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gdGhpcztcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL3RvcGJhci9zaXRlLXN3aXRjaGVyL3Bpbi1zaXRlJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7IHNpdGVJZDogc2l0ZS5zaXRlaWQgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyICRkYXRhID0gJChkYXRhKTtcbiAgICAgICAgICAgICAgICAkZGF0YS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnBpbm5lZC1zaXRlLWxpc3QnKS5hcHBlbmQoJGRhdGEpO1xuICAgICAgICAgICAgICAgICRkYXRhLmZhZGVJbihcInNsb3dcIik7XG4gICAgICAgICAgICAgICAgJCgnI2pzLXNpdGUtc2VhcmNoLXR4dCcpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgJCgnI3NhdmUtcGlubmVkLXNpdGVzLWJ0bicpLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIGRpYWxvZy50b2dnbGVTaXRlTGlzdFJlc2V0TGluayh0cnVlKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3Bpbi1zaXRlLWJ0bicpLnBhcmVudCgpLnNob3dFcnJvck1lc3NhZ2UoX3MoJ1NvbWV0aGluZyBiYWQgaGFwcGVuZWQ7IHBsZWFzZSB0cnkgYWdhaW4nKSk7XG4gICAgICAgICAgICAgICAgJCgnI3Bpbi1zaXRlLWJ0bicpLmVuYWJsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBzYXZlUGlubmVkU2l0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNpdGVzID0gJCgnLnBpbm5lZC1zaXRlLWxpc3QgbGkgLnBpbm5lZC1zaXRlLWxpbmsnKS5tYXAoZnVuY3Rpb24oaWR4LCBzaXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoc2l0ZSkuZGF0YSgnaWQnKTtcbiAgICAgICAgICAgIH0pLnRvQXJyYXkoKTtcblxuICAgICAgICAgICAgdmFyIGlzRGVmYXVsdCA9ICEkKCcuanMtcmVzZXQtcGlubmVkLXNpdGVzJykuaXMoJzp2aXNpYmxlJykgfHwgIXNpdGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU2l0ZUxpc3RSZXNldExpbmsoIWlzRGVmYXVsdCk7XG5cbiAgICAgICAgICAgIC8vIGdldCB0aGUgbm9ybWFsaXplZCBma2V5IGZyb20gdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICB2YXIgZmtleSA9ICQoJy5qcy1yZXNldC1waW5uZWQtc2l0ZXMnKS5zaWJsaW5ncygnaW5wdXRbbmFtZT1ma2V5XScpLnZhbCgpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvdG9wYmFyL3NpdGUtc3dpdGNoZXIvc2F2ZS1waW5uZWQtc2l0ZXMnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZUlkczogaXNEZWZhdWx0ID8gW10gOiBzaXRlcyxcbiAgICAgICAgICAgICAgICAgICAgZmtleTogZmtleSB8fCBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIHRyYWRpdGlvbmFsOiB0cnVlXG4gICAgICAgICAgICB9KS5kb25lKCQucHJveHkoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJy5teS1zaXRlcycpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxTaXRlTGlzdEVkaXRzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAkKCcucGlubmVkLXNpdGUtbGlzdCcpLmRhdGEoJ2N1c3RvbS1saXN0JywgIWlzRGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwic2l0ZV9zd2l0Y2hlci5lZGl0XCIsIHt9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIHRoaXMpKS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyNzYXZlLXBpbm5lZC1zaXRlcy1idG4nKS5wYXJlbnQoKS5zaG93RXJyb3JNZXNzYWdlKF9zKCdTb21ldGhpbmcgYmFkIGhhcHBlbmVkOyBwbGVhc2UgdHJ5IGFnYWluJykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHJlc2V0UGlubmVkU2l0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvdG9wYmFyL3NpdGUtc3dpdGNoZXIvZGVmYXVsdC1hY3RpdmUtc2l0ZXMnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCdcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJy5waW5uZWQtc2l0ZS1saXN0JykuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICAkKCcjc2F2ZS1waW5uZWQtc2l0ZXMtYnRuJykuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgZGlhbG9nLnRvZ2dsZVNpdGVMaXN0UmVzZXRMaW5rKGZhbHNlKTtcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy5qcy1yZXNldC1waW5uZWQtc2l0ZXMnKS5wYXJlbnQoKS5zaG93RXJyb3JNZXNzYWdlKF9zKCdTb21ldGhpbmcgYmFkIGhhcHBlbmVkOyBwbGVhc2UgdHJ5IGFnYWluJykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBkb1NlYXJjaDogZnVuY3Rpb24oaXRlbXMsIHRleHQsIHRyYWNrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cztcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihpLCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHsgaW5kZXg6IGksIGxpOiBlbGVtLmxpLCBpdGVtOiBlbGVtIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlSW5kZXggPSBlbGVtLnRpdGxlLmluZGV4T2YodGV4dCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbS50aXRsZSA9PSB0ZXh0KSAvLyBleGFjdCB0aXRsZSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHJpb3JpdHkgPSAxO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpdGxlSW5kZXggPT0gMCkgLy8gYmVnaW5zLXdpdGggdGl0bGUgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnByaW9yaXR5ID0gMjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aXRsZUluZGV4ID4gLTEpIC8vIGluLXRpdGxlIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcmlvcml0eSA9IDM7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbS5kZXNjcmlwdGlvbi5pbmRleE9mKHRleHQpID4gLTEpIC8vIGluLWRlc2NyaXB0aW9uIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcmlvcml0eSA9IDQ7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbS5ob3N0bmFtZS5pbmRleE9mKHRleHQpID4gLTEpIC8vIGluIGhvc3RuYW1lIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcmlvcml0eSA9IDU7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnByaW9yaXR5KVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0cyA9IG1hdGNoZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5IHx8IGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NpdGVzZWFyY2guc3VibWl0JywgeyB0ZXJtOiB0ZXh0LCBudW1yZXN1bHRzOiBtYXRjaGVzLmxlbmd0aCB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9maW5kU2l0ZXNUb1BpbjogZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgdmFyICRjb250YWluZXIgPSAkKCcuanMtZm91bmQtc2l0ZXMnKSxcbiAgICAgICAgICAgICAgICAkaXRlbXMgPSB0aGlzLiRwaW5uZWRTaXRlU2VhcmNoSXRlbXM7XG5cbiAgICAgICAgICAgICRjb250YWluZXIuZW1wdHkoKTtcblxuICAgICAgICAgICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3Bpbi1zaXRlLWJ0bicpLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpdGVtcyA9IHRoaXMuZG9TZWFyY2goJGl0ZW1zLCB0ZXh0LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAkY29udGFpbmVyLnNob3coKTtcbiAgICAgICAgICAgICQoJyNwaW4tc2l0ZS1idG4nKS5lbmFibGUoKTtcblxuICAgICAgICAgICAgdmFyIGFscmVhZHlQaW5uZWRTaXRlcyA9ICQoJy5waW5uZWQtc2l0ZS1saW5rJykubWFwKGZ1bmN0aW9uIChpLCBzaXRlKSB7IHJldHVybiAkKHNpdGUpLmRhdGEoJ2lkJyk7IH0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgICQuZWFjaCgkaXRlbXMsIGZ1bmN0aW9uKGlkeCwgZWxlbSkge1xuICAgICAgICAgICAgICAgIHZhciAkbGkgPSAkKCc8bGkgY2xhc3M9XCJwaW5uZWQtc2l0ZS1jYW5kaWRhdGVcIj4nICsgZWxlbS5pdGVtLnNpdGVuYW1lICsgJzwvbGk+Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeVBpbm5lZFNpdGVzLmluZGV4T2YoZWxlbS5pdGVtLnNpdGVpZCkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAkbGkuYWRkQ2xhc3MoJ2FscmVhZHktcGlubmVkLXNpdGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRsaS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZW5hbWUgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNqcy1zaXRlLXNlYXJjaC10eHQnKS52YWwoc2l0ZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWZvdW5kLXNpdGVzJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkbGkuYXBwZW5kVG8oJGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5kU2l0ZXNUb1BpbjogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRwaW5uZWRTaXRlU2VhcmNoSXRlbXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5kU2l0ZXNUb1Bpbih0ZXh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaXRlU3dpdGNoZXIgPSB0aGlzO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvdG9wYmFyL3NpdGUtc3dpdGNoZXIvYWxsLXBpbm5hYmxlLXNpdGVzJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChzaXRlcykge1xuICAgICAgICAgICAgICAgIHNpdGVTd2l0Y2hlci4kcGlubmVkU2l0ZVNlYXJjaEl0ZW1zID0gc2l0ZXM7XG4gICAgICAgICAgICAgICAgc2l0ZVN3aXRjaGVyLl9maW5kU2l0ZXNUb1Bpbih0ZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbHRlclNpdGVzOiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdmFyICRjb250YWluZXIgPSAkKCcuanMtb3RoZXItc2l0ZXMnKSxcbiAgICAgICAgICAgICAgICAkaXRlbXMgPSB0aGlzLiRzZWFyY2hJdGVtcztcblxuICAgICAgICAgICAgJGNvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGV4dCAhPSAnJykge1xuICAgICAgICAgICAgICAgICRpdGVtcyA9IHRoaXMuZG9TZWFyY2goJGl0ZW1zLCB0ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoJGl0ZW1zLm1hcChmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gdGhpcyAmJiB0aGlzLmxpIHx8IGVsZW0ubGk7IH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlZGl0UGlubmVkU2l0ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLnNpdGVTd2l0Y2hlci1kaWFsb2cgLmhlYWRlcicpLm5vdCgnI3lvdXItY29tbXVuaXRpZXMtaGVhZGVyJykuY3NzKCdvcGFjaXR5JywgMC4yKTtcbiAgICAgICAgICAgICQoJy5zaXRlU3dpdGNoZXItZGlhbG9nIC5tb2RhbC1jb250ZW50Jykubm90KCcjeW91ci1jb21tdW5pdGllcy1zZWN0aW9uJykuY3NzKCdvcGFjaXR5JywgMC4yKTtcblxuICAgICAgICAgICAgJCgnLm15LXNpdGVzJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLnBpbm5lZC1zaXRlLWVkaXRvci1jb250YWluZXInKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjZWRpdC1waW5uZWQtc2l0ZXMnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjY2FuY2VsLXBpbm5lZC1zaXRlcycpLnNob3coKTtcblxuICAgICAgICAgICAgdmFyICRwaW5uZWRTaXRlTGlzdCA9ICQoJy5waW5uZWQtc2l0ZS1saXN0Jyk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBsaXN0IGlzIGVtcHR5LCBmZXRjaCBpdFxuICAgICAgICAgICAgaWYgKCRwaW5uZWRTaXRlTGlzdC5odG1sKCkudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwaW5uZXIgPSAkKCc8ZGl2Lz4nKS5hcHBlbmQoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmdldFNwaW5uZXJJbWcoKSkuaHRtbCgpO1xuXG4gICAgICAgICAgICAgICAgJHBpbm5lZFNpdGVMaXN0LmFwcGVuZCgnPGxpIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+JyArIHNwaW5uZXIgKyAnPC9saT4nKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvcGJhci9zaXRlLXN3aXRjaGVyL2N1cnJlbnQtcGlubmVkLXNpdGVzJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJ1xuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkcGlubmVkU2l0ZUxpc3QuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkcGlubmVkU2l0ZUxpc3Quc2hvd0Vycm9yTWVzc2FnZShfcygnU29tZXRoaW5nIGJhZCBoYXBwZW5lZDsgcGxlYXNlIHRyeSBhZ2FpbicpKTtcbiAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICRwaW5uZWRTaXRlTGlzdC5maW5kKCcuYWpheC1sb2FkZXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNpdGVMaXN0UmVzZXRMaW5rKCRwaW5uZWRTaXRlTGlzdC5kYXRhKCdjdXN0b20tbGlzdCcpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpO1xuXG4gICAgICAgICAgICB2YXIgJHNvcnRhYmxlID0gJCgnLnNvcnRhYmxlJyksXG4gICAgICAgICAgICAgICAgZGlhbG9nID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCEkc29ydGFibGUuZGF0YSgnaXNTb3J0YWJsZScpKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5sb2FkSnF1ZXJ5VWkoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkc29ydGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0YWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogXCJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NhdmUtcGlubmVkLXNpdGVzLWJ0bicpLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cudG9nZ2xlU2l0ZUxpc3RSZXNldExpbmsodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlU2VsZWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKCdpc1NvcnRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVTaXRlTGlzdFJlc2V0TGluazogZnVuY3Rpb24oc2hvd09ySGlkZSkge1xuICAgICAgICAgICAgJCgnLmpzLXJlc2V0LXBpbm5lZC1zaXRlcycpLnRvZ2dsZShzaG93T3JIaWRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYW5jZWxTaXRlTGlzdEVkaXRzOiBmdW5jdGlvbihmb3JjZUxpc3RSZWZyZXNoKSB7XG4gICAgICAgICAgICAkKCcuaGVhZGVyJykubm90KCcjeW91ci1jb21tdW5pdGllcy1oZWFkZXInKS5jc3MoJ29wYWNpdHknLCAxKTtcbiAgICAgICAgICAgICQoJy5tb2RhbC1jb250ZW50Jykubm90KCcjeW91ci1jb21tdW5pdGllcy1zZWN0aW9uJykuY3NzKCdvcGFjaXR5JywgMSk7XG5cbiAgICAgICAgICAgICQoJy5teS1zaXRlcycpLnNob3coKTtcbiAgICAgICAgICAgICQoJyNlZGl0LXBpbm5lZC1zaXRlcycpLnNob3coKTtcbiAgICAgICAgICAgICQoJy5waW5uZWQtc2l0ZS1lZGl0b3ItY29udGFpbmVyJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnI2NhbmNlbC1waW5uZWQtc2l0ZXMnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjc2F2ZS1waW5uZWQtc2l0ZXMtYnRuJykuZGlzYWJsZSgpO1xuXG4gICAgICAgICAgICBpZiAoZm9yY2VMaXN0UmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICQoJy5waW5uZWQtc2l0ZS1saXN0JykuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAkKCcuanMtZm91bmQtc2l0ZXMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI2pzLXNpdGUtc2VhcmNoLXR4dCcpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgJCgnI3Bpbi1zaXRlLWJ0bicpLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIFNpdGVTd2l0Y2hlckJ1dHRvbiA9IEJ1dHRvbi5leHRlbmQoe1xuICAgICAgICBuYW1lOiAnU2l0ZVN3aXRjaGVyJyxcbiAgICAgICAgc2VsZWN0b3I6ICcuanMtc2l0ZS1zd2l0Y2hlci1idXR0b24nLFxuICAgICAgICBkaWFsb2c6IG5ldyBTaXRlU3dpdGNoZXJEaWFsb2coKSxcbiAgICAgICAgc2hvd3NPbk1vdXNlT3ZlcjogZmFsc2UsXG4gICAgICAgIG9uQ2xhc3M6ICdpY29uLXNpdGUtc3dpdGNoZXItb24nLFxuICAgIH0pO1xuXG4gICAgdmFyIEZlYXR1cmVOb3RpY2VEaWFsb2cgPSBEaWFsb2cuZXh0ZW5kKHtcbiAgICAgICAgY3NzQ2xhc3M6ICdmZWF0dXJlLW5vdGljZS1kaWFsb2cnLFxuICAgICAgICBhbGlnbm1lbnQ6ICdsZWZ0J1xuICAgIH0pXG4gICAgLm1ldGhvZHMoe1xuICAgICAgICBsb2FkRGlhbG9nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBvdXIgY29udGVudCBpcyBhbHJlYWR5IGluIHRoZSBwYWdlLCBqdXN0IG1vdmUgaXQgdG8gdGhlIGNvcnJhbCBzbyBpdCBjYW4gYmUgc3R5bGVkIHByb3Blcmx5XG4gICAgICAgICAgICAvLyBub3RlOiB0aGlzIGxvYWREaWFsb2cgb25seSBnZXRzIGNhbGxlZCBvbmNlOyB0aGVuLCAkZGlhbG9nIGlzbid0IG51bGwgYW5kIGNhbiBiZSB0b2dnbGVkXG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cgPSAkKCcuanMtZmVhdHVyZS1ub3RpY2UtZGlhbG9nJyk7XG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gdGhpcy5idXR0b247XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9IGJ1dHRvbi4kYnV0dG9uO1xuXG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnLmpzLWNsb3NlLWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgYnV0dG9uIGNvbXBsZXRlbHkuXG4gICAgICAgICAgICAgICAgYnV0dG9uLm1hcmsoMSA8PCAyIC8qIGRpc21pc3NlZCAqLyk7XG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cuZmluZCgnLmpzLWN0YS1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmRpZENsaWNrQ1RBID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBidXR0b24ubWFyaygxIDw8IDEgLyogY2xpY2tlZCAqLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2hvd09ySGlkZSh0cnVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVDb29raWUoJGJ1dHRvbiwgZnVuKSB7XG4gICAgICAgIHZhciBrZXkgPSAkYnV0dG9uLmRhdGEoJ2Nvb2tpZScpO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBmdW4oJC5jb29raWUoa2V5KSk7XG4gICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZShrZXksIG5ld1ZhbHVlLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IChuZXcgRGF0ZSgkYnV0dG9uLmRhdGEoJ2V4cGlyZS1kYXRlJykpKSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy8nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgRmVhdHVyZU5vdGljZUJ1dHRvbiA9IEJ1dHRvbi5leHRlbmQoe1xuICAgICAgICBuYW1lOiAnRmVhdHVyZU5vdGljZScsXG4gICAgICAgIHNlbGVjdG9yOiAnLi1mZWF0dXJlLW5vdGljZScsXG4gICAgICAgIGRpYWxvZzogbmV3IEZlYXR1cmVOb3RpY2VEaWFsb2coKSxcbiAgICB9KVxuICAgIC5tZXRob2RzKHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBCdXR0b24ucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgdmFyICRidXR0b24gPSB0aGlzLiRidXR0b247XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBUaGUgY29va2llIHN0b3JlcyB0d28gZGlmZmVyZW50IHZhbHVlcy4gIEJlZm9yZSB0aGUgZGlhbG9nIGlzIHNob3duLCB0aGUgY29va2llIHN0b3JlcyB0aGUgbnVtYmVyXG4gICAgICAgICAgICBvZiB0aW1lcyBpdCBoYXMgYmVlbiBzZWVuIChjb3VudGVkIGFzIGluaXRpYWxpemF0aW9ucywgaGVyZSkuICBUaGlzIGlzIHVzZWQgZm9yIGRldGVybWluaW5nIHdoZW5cbiAgICAgICAgICAgIHRvIGF1dG8tcG9wdXAuICBBZnRlciB0aGUgbm90aWNlIGhhcyBiZWVuIHNob3duLCBpdCBzdG9yZXMgaW50ZXJhY3Rpb24gZmxhZ3MgYW5kIHRoZSBpbml0aWFsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbiBkYXRlIGFzIHVwZGF0ZWQgaW4gYG1hcmtgLCBiZWxvdy5cblxuICAgICAgICAgICAgSWYgdGhlIGNvb2tpZSBleGlzdHMgYW5kIGlzIG5vdCBwcmVmaXhlZCB3aXRoIFwiIVwiLCB3ZSBhc3N1bWUgaXQgaGFzIGFscmVhZHkgYmVlbiBtYXJrZWQgYW5kIGRvXG4gICAgICAgICAgICBub3RoaW5nLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB1cGRhdGVGZWF0dXJlQ29va2llKCRidXR0b24sIGZ1bmN0aW9uIChleGlzdGluZykge1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnITEnO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZy5zdWJzdHJpbmcoMCwgMSkgPT0gJyEnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyEnICsgKDEgKyBwYXJzZUludChleGlzdGluZy5zdWJzdHJpbmcoMSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoJGJ1dHRvbi5kYXRhKCdhdXRvcG9wdXAnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlKHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWFyazogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB1cGRhdGVGZWF0dXJlQ29va2llKHRoaXMuJGJ1dHRvbiwgZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGV4aXN0aW5nLnNwbGl0KCc7Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMiAmJiAhaXNOYU4ocGFydHNbMF0pICYmICFpc05hTihwYXJ0c1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocGFydHNbMF0gfCBzdGF0ZSkgKyAnOycgKyBwYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgKyAnOycgKyBEYXRlLm5vdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWFya0FzUmVhZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlkQ2xpY2tDVEEpIHtcbiAgICAgICAgICAgICAgICBCdXR0b24ucHJvdG90eXBlLm1hcmtBc1JlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiAoc2hvd09ySGlkZSwgcHJldmVudE1hcmtBc1JlYWQsIGlzQXV0b1BvcHVwKSB7XG4gICAgICAgICAgICBzaG93T3JIaWRlID0gdHlwZW9mIHNob3dPckhpZGUgPT0gJ2Jvb2xlYW4nID8gc2hvd09ySGlkZSA6ICF0aGlzLiRidXR0b24uaGFzQ2xhc3ModGhpcy5vbkNsYXNzKTtcbiAgICAgICAgICAgIGlzQXV0b1BvcHVwID0gISFpc0F1dG9Qb3B1cDtcblxuICAgICAgICAgICAgQnV0dG9uLnByb3RvdHlwZS50b2dnbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgdmFyICRidXR0b24gPSB0aGlzLiRidXR0b247XG4gICAgICAgICAgICB2YXIgJGRpYWxvZyA9IHRoaXMuZGlhbG9nLiRkaWFsb2c7XG5cbiAgICAgICAgICAgIGlmIChzaG93T3JIaWRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrKDEgLyogc2VlbiAqLyk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dG9Qb3B1cCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmsoMSA8PCAzIC8qIGludGVudGlvbmFsbHlfc2VlbiAqLyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ2pzLXNhbXBsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoJ2dwcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCduZXdfZmVhdHVyZS5zaG93Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbXBhaWduOiAkYnV0dG9uLmRhdGEoJ2NhbXBhaWduJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICRidXR0b24uZGF0YSgnbG9jYXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvX3BvcHVwOiBpc0F1dG9Qb3B1cFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgSW5ib3hEaWFsb2cgPSBEaWFsb2cuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiAnL3RvcGJhci9pbmJveCcsXG4gICAgICAgIGNzc0NsYXNzOiAnaW5ib3gtZGlhbG9nJyxcbiAgICAgICAgdmlld1VucmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICBpZ25vcmVSZWFsdGltZU1lc3NhZ2VEdXJpbmdVc2VyT3BlcmF0aW9uOiBmYWxzZVxuICAgIH0pXG4gICAgICAgIC5tZXRob2RzKHtcbiAgICAgICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VwcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9va3VwTWFya0FsbEFzUmVhZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2t1cFN3aXRjaEJldHdlZW5BbGxBbmRPbmx5UmVhZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2t1cE1hcmtBc1JlYWRPbkNsaWNrKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9va3VwUmVhZFVucmVhZFRvZ2dsZXModGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rdXBSZWZyZXNoQnV0dG9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlT3JEaXNhYmxlTWFya0FsbEFzUmVhZCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHN0cmlwcGVkIGZrZXkgdG8gZXhwbGljaXRseSBzYXkgd2Ugd2FudCB0byBjYWxsIHBvc3Qgb24gU09cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSdsbCBiZSBtYXJrZWQgZm9yIGNyb3NzLXNpdGUgcG9zdGluZ1xuICAgICAgICAgICAgZ2V0U3RyaXBwZWRGa2V5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZrZXkgPSBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5O1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBma2V5Lmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+PSAwKSBma2V5ID0gZmtleS5zdWJzdHIoaWR4ICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZrZXk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBob29rdXBSZWZyZXNoQnV0dG9uOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSBjb250ZXh0OyBcbiAgICAgICAgICAgICAgICBjb25zdCAkcmVmcmVzaEJ1dHRvbiA9IGNvbnRleHQuJGRpYWxvZy5maW5kKCcuanMtcmVmcmVzaC1pbmJveCcpO1xuICAgICAgICAgICAgICAgICRyZWZyZXNoQnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0ICR0b3BCYXIgPSAkKCcuaW5ib3gtdG9wLWJhci1yZWFkb25seScpO1xuICAgICAgICAgICAgICAgICAgICAkdG9wQmFyLnByZXBlbmQoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmdldFNwaW5uZXJJbWcoKS5hZGRDbGFzcygndGEtY2VudGVyJykpO1xuICAgICAgICAgICAgICAgICAgICAkcmVmcmVzaEJ1dHRvbi5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi90b3BiYXIvbm90aWZpY2F0aW9uc1wiLFxuICAgICAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaW5ib3gtbm90aWZpY2F0aW9ucycpLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhvb2t1cE1hcmtBc1JlYWRPbkNsaWNrKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ob29rdXBSZWFkVW5yZWFkVG9nZ2xlcyhzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW5hYmxlT3JEaXNhYmxlTWFya0FsbEFzUmVhZChzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcmVmcmVzaEJ1dHRvbi5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KF9zKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWxvYWRpbmcgbm90aWZpY2F0aW9ucy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKSwgeyB0eXBlOiAnZGFuZ2VyJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b3BCYXIuZmluZCgnLmFqYXgtbG9hZGVyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaG9va3VwU3dpdGNoQmV0d2VlbkFsbEFuZE9ubHlSZWFkOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpYWxvZyA9IGNvbnRleHQuJGRpYWxvZztcbiAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLXZpZXctdW5yZWFkLW9ubHknKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuaW5ib3gtaXRlbScpLm5vdCgnLnVucmVhZC1pdGVtJykubm90KCcuanMtc2VlLWFsbC1pbmJveC1pdGVtcycpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy1pbmJveC1oZWFkZXItdW5yZWFkJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLWluYm94LWhlYWRlci1hbGwnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuanMtY2hlY2ttYXJrLWFsbCcpLmFkZENsYXNzKCd2LWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLWNoZWNrbWFyay11bnJlYWQnKS5yZW1vdmVDbGFzcygndi1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi52aWV3VW5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrcy5oaWRlUG9wb3ZlcigkKCcuanMtb3Blbi1jb250ZXh0LW1lbnUnKVswXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy12aWV3LXJlYWQtYW5kLXVucmVhZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5pbmJveC1pdGVtJykubm90KCcudW5yZWFkLWl0ZW0nKS5ub3QoJy5qcy1zZWUtYWxsLWluYm94LWl0ZW1zJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLWluYm94LWhlYWRlci11bnJlYWQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuanMtaW5ib3gtaGVhZGVyLWFsbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy1jaGVja21hcmstYWxsJykucmVtb3ZlQ2xhc3MoJ3YtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuanMtY2hlY2ttYXJrLXVucmVhZCcpLmFkZENsYXNzKCd2LWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnZpZXdVbnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrcy5oaWRlUG9wb3ZlcigkKCcuanMtb3Blbi1jb250ZXh0LW1lbnUnKVswXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBob29rdXBNYXJrQXNSZWFkT25DbGljazogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBkaWFsb2cgPSBjb250ZXh0LiRkaWFsb2c7XG5cbiAgICAgICAgICAgICAgICAvLyBob29rcyB1cCBldmVudHMgZm9yIGl0ZW1zIGluIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy1yZWFkYWJsZS1pbmJveC1pdGVtJykubW91c2Vkb3duKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoICE9IEtFWV9DT0RFLkxFRlRfTU9VU0UgJiYgZS53aGljaCAhPSBLRVlfQ09ERS5NSURETEVfTU9VU0UpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygndW5yZWFkLWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xpY2tNYXJrQXNSZWFkKCR0YXJnZXQsIHNlbGYsIElOQk9YX1BPUFVQX0lURU1fRVZFTlRfU09VUkNFKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLXJlYWRhYmxlLWluYm94LWl0ZW0nKS5rZXl1cChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCAhPSBLRVlfQ09ERS5FTlRFUilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCd1bnJlYWQtaXRlbScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGlja01hcmtBc1JlYWQoJHRhcmdldCwgc2VsZiwgSU5CT1hfUE9QVVBfSVRFTV9FVkVOVF9TT1VSQ0UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaG9va3VwUmVhZFVucmVhZFRvZ2dsZXM6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlhbG9nID0gY29udGV4dC4kZGlhbG9nO1xuXG4gICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy10b2dnbGUtcmVhZCcpLm1vdXNlZG93bihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSBLRVlfQ09ERS5MRUZUX01PVVNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9ICQodGhpcykuY2xvc2VzdCgnLmpzLXJlYWRhYmxlLWluYm94LWl0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xpY2tNYXJrQXNSZWFkKCRlbGVtZW50LCBzZWxmLCBVTlJFQURfTUVTU0FHRV9JQ09OX0VWRU5UX1NPVVJDRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuanMtdG9nZ2xlLXVucmVhZCcpLm1vdXNlZG93bihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSBLRVlfQ09ERS5MRUZUX01PVVNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9ICQodGhpcykuY2xvc2VzdCgnLmpzLXJlYWRhYmxlLWluYm94LWl0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xpY2tNYXJrQXNVbnJlYWQoJGVsZW1lbnQsIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkaWFsb2cuZmluZCgnLmpzLXRvZ2dsZS1yZWFkJykua2V5dXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0ICRlbGVtZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuanMtcmVhZGFibGUtaW5ib3gtaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGlja01hcmtBc1JlYWQoJGVsZW1lbnQsIHNlbGYsIFVOUkVBRF9NRVNTQUdFX0lDT05fRVZFTlRfU09VUkNFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZGlhbG9nLmZpbmQoJy5qcy10b2dnbGUtdW5yZWFkJykua2V5dXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0ICRlbGVtZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuanMtcmVhZGFibGUtaW5ib3gtaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGlja01hcmtBc1VucmVhZCgkZWxlbWVudCwgc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhvb2t1cE1hcmtBbGxBc1JlYWQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlhbG9nID0gY29udGV4dC4kZGlhbG9nO1xuICAgICAgICAgICAgICAgIC8vIGhvb2tzIHVwIGV2ZW50cyBmb3IgbWFyayBhcyByZWFkIGJ1dHRvblxuICAgICAgICAgICAgICAgIGRpYWxvZy5maW5kKCcuanMtbWFyay1hbGwtYXMtcmVhZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pZ25vcmVSZWFsdGltZU1lc3NhZ2VEdXJpbmdVc2VyT3BlcmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy90b3BiYXIvbWFyay1hbGwtYXMtcmVhZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGZrZXk6IHNlbGYuZ2V0U3RyaXBwZWRGa2V5KCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJ1dHRvbi5zZXRVbnJlYWQoeyBjb3VudDogcmVzdWx0LlVucmVhZE1lc3NhZ2VzQ291bnQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pc0xvYWRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXJrTWVzc2FnZUFzUmVhZChkaWFsb2cuZmluZCgnLnVucmVhZC1pdGVtJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbmFibGVPckRpc2FibGVNYXJrQWxsQXNSZWFkKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoX3MoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIG5vdGlmaWNhdGlvbiBzdGF0dXMuIFBsZWFzZSB0cnkgYWdhaW4uJyksIHsgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlnbm9yZVJlYWx0aW1lTWVzc2FnZUR1cmluZ1VzZXJPcGVyYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrcy5oaWRlUG9wb3ZlcigkKCcuanMtb3Blbi1jb250ZXh0LW1lbnUnKVswXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlbmFibGVPckRpc2FibGVNYXJrQWxsQXNSZWFkOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRtYXJrQWxsQXNSZWFkQnV0dG9uID0gY29udGV4dC4kZGlhbG9nLmZpbmQoJy5qcy1tYXJrLWFsbC1hcy1yZWFkJyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gY29udGV4dC5idXR0b24uJGJ1dHRvbi5maW5kKCcuanMtdW5yZWFkLWNvdW50JykudGV4dCgpO1xuICAgICAgICAgICAgICAgICRtYXJrQWxsQXNSZWFkQnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgY291bnQgPT0gMCk7IFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbWFya0FzUmVhZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRvcEJhciAhPSBudWxsICYmIFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MudG9wQmFyLmVuYWJsZUluYm94TWFuYWdlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5tYXJrQXNSZWFkKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgRGlhbG9nLnByb3RvdHlwZS5tYXJrQXNSZWFkLmFwcGx5KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG1hcmtNZXNzYWdlQXNVbnJlYWQ6IGZ1bmN0aW9uICgkbWVzc2FnZUxpRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICRtZXNzYWdlTGlFbGVtZW50LmFkZENsYXNzKCd1bnJlYWQtaXRlbScpLnJlbW92ZUNsYXNzKCdyZWFkLWl0ZW0nKTtcbiAgICAgICAgICAgICAgICAkbWVzc2FnZUxpRWxlbWVudC5maW5kKCcuanMtdG9nZ2xlLXJlYWQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgJG1lc3NhZ2VMaUVsZW1lbnQuZmluZCgnLmpzLXRvZ2dsZS11bnJlYWQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBtYXJrTWVzc2FnZUFzUmVhZDogZnVuY3Rpb24gKCRtZXNzYWdlTGlFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgJG1lc3NhZ2VMaUVsZW1lbnQuYWRkQ2xhc3MoJ3JlYWQtaXRlbScpLnJlbW92ZUNsYXNzKCd1bnJlYWQtaXRlbScpO1xuICAgICAgICAgICAgICAgICRtZXNzYWdlTGlFbGVtZW50LmZpbmQoJy5qcy10b2dnbGUtdW5yZWFkJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICRtZXNzYWdlTGlFbGVtZW50LmZpbmQoJy5qcy10b2dnbGUtcmVhZCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsaWNrTWFya0FzUmVhZDogZnVuY3Rpb24gKCRlbGVtZW50LCBzZWxmLCBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlnbm9yZVJlYWx0aW1lTWVzc2FnZUR1cmluZ1VzZXJPcGVyYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvcGJhci9tYXJrLWluYm94LWFzLXJlYWQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGluYm94SWQ6ICRlbGVtZW50LmF0dHIoJ2lkJyksIHJlbGF0ZWRQb3N0SWQ6ICRlbGVtZW50LmF0dHIoJ3JlbGF0ZWRQb3N0SWQnKSwgc291cmNlOiBzb3VyY2UsIGZrZXk6IHNlbGYuZ2V0U3RyaXBwZWRGa2V5KCkgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ1dHRvbi5zZXRVbnJlYWQoeyBjb3VudDogcmVzdWx0LlVucmVhZE1lc3NhZ2VzQ291bnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWFya01lc3NhZ2VBc1JlYWQoJGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52aWV3VW5yZWFkT25seSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW5hYmxlT3JEaXNhYmxlTWFya0FsbEFzUmVhZChzZWxmKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChqcVhIUikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoanFYSFIuc3RhdHVzID09IDAgfHwgIWpxWEhSLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVzZSBhcmUgYWxsIHNpZ25zIHRoYXQgdGhlIHJlcXVlc3Qgd2FzIGFib3J0ZWQgZHVlIHRvIHRoZSBwYWdlIGJlaW5nIHVubG9hZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRoZSBmYWlsIGJyYW5jaCBpcyBoaXQgaW4gcmVzcG9uc2UgdG8gdGhpcywgYW5kIG5vdCBpbiByZXNwb25zZSB0byBhbiBhY3R1YWwgZmFpbHVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlZm9yZSBpbiB0aGlzIGNhc2UsIGJ1dCBvdXQgZWFybHksIGFuZCBkb250IHNob3cgYW4gZXJyb3IgdG9hc3QuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChfcygnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHN0YXR1cyBvZiB0aGUgbm90aWZpY2F0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLicpLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaWdub3JlUmVhbHRpbWVNZXNzYWdlRHVyaW5nVXNlck9wZXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY2xpY2tNYXJrQXNVbnJlYWQ6IGZ1bmN0aW9uICgkZWxlbWVudCwgc2VsZikge1xuICAgICAgICAgICAgICAgIHNlbGYuaWdub3JlUmVhbHRpbWVNZXNzYWdlRHVyaW5nVXNlck9wZXJhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvdG9wYmFyL21hcmstaW5ib3gtYXMtdW5yZWFkJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBpbmJveElkOiAkZWxlbWVudC5hdHRyKCdpZCcpLCByZWxhdGVkUG9zdElkOiAkZWxlbWVudC5hdHRyKCdyZWxhdGVkUG9zdElkJyksIGZrZXk6IHNlbGYuZ2V0U3RyaXBwZWRGa2V5KCkgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ1dHRvbi5zZXRVbnJlYWQoeyBjb3VudDogcmVzdWx0LlVucmVhZE1lc3NhZ2VzQ291bnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWFya01lc3NhZ2VBc1VucmVhZCgkZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW5hYmxlT3JEaXNhYmxlTWFya0FsbEFzUmVhZChzZWxmKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChfcygnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHN0YXR1cyBvZiB0aGUgbm90aWZpY2F0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLicpLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaWdub3JlUmVhbHRpbWVNZXNzYWdlRHVyaW5nVXNlck9wZXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB2YXIgSW5ib3hCdXR0b24gPSBCdXR0b24uZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogJ0luYm94JywgXG4gICAgICAgIHNlbGVjdG9yOiAnLmpzLWluYm94LWJ1dHRvbicsIFxuICAgICAgICBkaWFsb2c6IG5ldyBJbmJveERpYWxvZygpLFxuICAgICAgICBzaG93c09uTW91c2VPdmVyOiBmYWxzZVxuICAgIH0pXG4gICAgLm1ldGhvZHMoe1xuICAgICAgICBoYW5kbGVSZWFsdGltZU1lc3NhZ2U6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVucmVhZCh7IGNvdW50OiBqc29uLlVucmVhZEluYm94Q291bnQgfSk7XG4gICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5zZXR0aW5ncy50b3BCYXIgIT0gbnVsbCAmJiBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRvcEJhci5lbmFibGVJbmJveE1hbmFnZW1lbnQgJiYgIXRoaXMuZGlhbG9nLmlnbm9yZVJlYWx0aW1lTWVzc2FnZUR1cmluZ1VzZXJPcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVmcmVzaEJ1dHRvbiA9ICQoJy5qcy1yZWZyZXNoLWluYm94Jyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaEJ1dHRvbi5odG1sKF9zKCdSZWZyZXNoICgjY291bnQjKScsIHsgY291bnQ6IGpzb24uVW5yZWFkSW5ib3hDb3VudCB9KSk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaEJ1dHRvbi5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QnV0dG9uTGFiZWxBbmRUaXRsZTogZnVuY3Rpb24gKHVucmVhZENvdW50KSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwsIHRpdGxlO1xuICAgICAgICAgICAgaWYgKHVucmVhZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gX3MoXCJJbmJveCAoI19fY291bnQjIHVucmVhZCBtZXNzYWdlcylcIiwgeyBfX2NvdW50OiB1bnJlYWRDb3VudCB9KTtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF9zKFwiWW91IGhhdmUgdW5yZWFkIGluYm94IG1lc3NhZ2VzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBfcyhcIkluYm94XCIpO1xuICAgICAgICAgICAgICAgIHRpdGxlID0gX3MoXCJSZWNlbnQgaW5ib3ggbWVzc2FnZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBsYWJlbDogbGFiZWwsIHRpdGxlOiB0aXRsZSB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIG1hcmtBc1JlYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRvcEJhciAhPSBudWxsICYmIFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MudG9wQmFyLmVuYWJsZUluYm94TWFuYWdlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJ1dHRvbi5wcm90b3R5cGUubWFya0FzUmVhZC5hcHBseSh0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRVbnJlYWQ6IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRvcEJhciAhPSBudWxsICYmIFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MudG9wQmFyLmVuYWJsZUluYm94TWFuYWdlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1VucmVhZCA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlVbnJlYWRDb3VudChzdGF0dXMuY291bnQsIHN0YXR1cy5saXRVcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuc2V0VW5yZWFkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBcbiAgICB2YXIgQWNoaWV2ZW1lbnRzRGlhbG9nID0gRGlhbG9nLmV4dGVuZCh7XG4gICAgICAgIHVybDogKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLnJvdXRlUHJlZml4IHx8ICcnKSArICcvdG9wYmFyL2FjaGlldmVtZW50cycsXG4gICAgICAgIGNzc0NsYXNzOiAnYWNoaWV2ZW1lbnRzLWRpYWxvZydcbiAgICB9KVxuICAgIC5tZXRob2RzKHtcbiAgICAgICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFsaWduUmVwKCk7XG4gICAgICAgICAgICB0aGlzLmJpbmREYXRlR3JvdXBUb2dnbGVzKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlVdGNUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLmJpbmRHcHNUcmFja2VyKCk7XG4gICAgICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGFsaWduUmVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEhBQ0s6IGV2ZXJ5b25lIGJlIGhhdGluJyBvbiA8dGFibGU+LCBzbyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgcmVwIFwiY29sdW1uXCIgaXMgdGhlIHNhbWUgd2lkdGggYWxsIHRoZSB3YXkgZG93blxuICAgICAgICAgICAgdmFyICRjb2xzID0gdGhpcy4kZGlhbG9nLmZpbmQoJy5qcy1pdGVtcyAuanMtZmF1eC1jb2x1bW4nKSxcbiAgICAgICAgICAgICAgICBtYXhDaGFycyA9IDA7XG5cbiAgICAgICAgICAgICRjb2xzLmZpbHRlcignLmpzLXJlcC1jaGFuZ2UnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhcnMgPSAkLnRyaW0oJCh0aGlzKS50ZXh0KCkpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnMgPiBtYXhDaGFycykge1xuICAgICAgICAgICAgICAgICAgICBtYXhDaGFycyA9IGNoYXJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobWF4Q2hhcnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgJGNvbHMud2lkdGgoKG1heENoYXJzICsgMSkgKiA2KTsgLy8gVE9ETzogYWN0dWFsbHkgbWVhc3VyZSB3aGF0IHdlIHJlYWxseSBuZWVkLCBidXQgdGhpcyB3b3JrcyBmcm9tIDIgY2hhcnMgdXAgdG8gNCBjaGFyc1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgYmluZERhdGVHcm91cFRvZ2dsZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5maW5kKCcuanMtZGF0ZS1ncm91cC10b2dnbGUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0b2dnbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSAkdG9nZ2xlLmNsb3Nlc3QoJy5qcy1kYXRlLWdyb3VwJyksXG4gICAgICAgICAgICAgICAgICAgICRpdGVtcyA9ICRncm91cC5maW5kKCcuanMtaXRlbXMnKSxcbiAgICAgICAgICAgICAgICAgICAgJHN1bW1hdGlvbiA9ICRncm91cC5maW5kKCcucmVwLXNpdGUtY29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICAkdG9nZ2xlLmZpbmQoJy5kYXRlLWdyb3VwLXRvZ2dsZScpLnRvZ2dsZUNsYXNzKCd0b2dnbGUtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJGl0ZW1zLmFkZCgkc3VtbWF0aW9uKS5mYWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5maW5kKCcucmVwLXNpdGUtY29udGFpbmVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBkaXNwbGF5VXRjVGltZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRkaWFsb2cgPSB0aGlzLiRkaWFsb2csXG4gICAgICAgICAgICAgICAgc2V0VGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vdy5zZXRUaW1lKG5vdy5nZXRUaW1lKCkgKyBTdGFja0V4Y2hhbmdlLm9wdGlvbnMuc2VydmVyVGltZU9mZnNldFNlYyAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IG5vdy5nZXRVVENIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IG5vdy5nZXRVVENNaW51dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoIDwgMTApIGggPSBcIjBcIiArIGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtIDwgMTApIG0gPSBcIjBcIiArIG07XG4gICAgICAgICAgICAgICAgICAgICRkaWFsb2cuZmluZCgnLmpzLXV0Yy10aW1lJykudGV4dChoICsgXCI6XCIgKyBtKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZXRUaW1lKCk7XG4gICAgICAgICAgICBzZXRJbnRlcnZhbChzZXRUaW1lLCAxMDAwICogNjApOyAvLyBUT0RPOiBjb3VsZCB1bmJpbmQgdGhpcyB3aGVuIHRoZSBkaWFsb2cgaXMgaGlkZGVuXG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZEdwc1RyYWNrZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly90cmVsbG8uY29tL2MvRDd4WGZUUFBcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKCcjanMtZ3BzLWNvbnRhaW5lci5qcy1lbXB0eS1hY2hpZXYnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKCdhOmZpcnN0JykuYWRkQ2xhc3MoJ2pzLWdwcy10cmFjaycpLmRhdGEoJ2dwcy10cmFjaycsICdhY2hpZXZlbWVudHNfcG9wdXAuY2xpY2soeyBpdGVtX3R5cGU6NiB9KScpO1xuICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJ2E6bGFzdCcpLmFkZENsYXNzKCdqcy1ncHMtdHJhY2snKS5kYXRhKCdncHMtdHJhY2snLCAnYWNoaWV2ZW1lbnRzX3BvcHVwLmNsaWNrKHsgaXRlbV90eXBlOjcgfSknKTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLmJpbmRUcmFja0NsaWNrcyhjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIEFjaGlldmVtZW50c0J1dHRvbiA9IEJ1dHRvbi5leHRlbmQoe1xuICAgICAgICBuYW1lOiAnQWNoaWV2ZW1lbnRzJywgXG4gICAgICAgIHNlbGVjdG9yOiAnLmpzLWFjaGlldmVtZW50cy1idXR0b24nLCBcbiAgICAgICAgZGlhbG9nOiBuZXcgQWNoaWV2ZW1lbnRzRGlhbG9nKCksXG4gICAgICAgIHVucmVhZENvdW50UHJlZml4OiAnKycsXG4gICAgICAgIHNob3dzT25Nb3VzZU92ZXI6IGZhbHNlXG4gICAgfSlcbiAgICAubWV0aG9kcyh7XG4gICAgICAgIGhhbmRsZVJlYWx0aW1lTWVzc2FnZTogZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgIHZhciBzdGF0dXMgPSB7IGNvdW50OiBqc29uLlVucmVhZFJlcENvdW50IH07XG4gICAgICAgICAgICBpZiAoanNvbi5VbnJlYWROb25SZXBDb3VudCAhPT0gdW5kZWZpbmVkKSB7IHN0YXR1cy5saXRVcCA9IGpzb24uVW5yZWFkTm9uUmVwQ291bnQgPiAwOyB9XG4gICAgICAgICAgICB0aGlzLnNldFVucmVhZChzdGF0dXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRCdXR0b25MYWJlbEFuZFRpdGxlOiBmdW5jdGlvbiAodW5yZWFkQ291bnQsIGhhc1VucmVhZEFjaGlldmVtZW50cykge1xuICAgICAgICAgICAgdmFyIGxhYmVsLCB0aXRsZTtcbiAgICAgICAgICAgIGlmICh1bnJlYWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IF9zKFwiQWNoaWV2ZW1lbnRzICgjX19jb3VudCMgbmV3IHJlcHV0YXRpb24pXCIsIHsgX19jb3VudDogdW5yZWFkQ291bnQgfSk7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfcyhcIllvdSBoYXZlIG5ldyByZXB1dGF0aW9uIGNoYW5nZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXNVbnJlYWRBY2hpZXZlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IF9zKFwiQWNoaWV2ZW1lbnRzICh1bnJlYWQpXCIpO1xuICAgICAgICAgICAgICAgIHRpdGxlID0gX3MoXCJZb3UgaGF2ZSBuZXcgYWNoaWV2ZW1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBfcyhcIkFjaGlldmVtZW50c1wiKTtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF9zKFwiUmVjZW50IGFjaGlldmVtZW50czogcmVwdXRhdGlvbiwgYmFkZ2VzLCBhbmQgcHJpdmlsZWdlcyBlYXJuZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBsYWJlbDogbGFiZWwsIHRpdGxlOiB0aXRsZSB9O1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIFxuICAgIHZhciBIZWxwRGlhbG9nID0gRGlhbG9nLmV4dGVuZCh7XG4gICAgICAgIGNzc0NsYXNzOiAnaGVscC1kaWFsb2cnXG4gICAgfSlcbiAgICAubWV0aG9kcyh7XG4gICAgICAgIGxvYWREaWFsb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIG91ciBjb250ZW50IGlzIGFscmVhZHkgaW4gdGhlIHBhZ2UsIGp1c3QgbW92ZSBpdCB0byB0aGUgY29ycmFsIHNvIGl0IGNhbiBiZSBzdHlsZWQgcHJvcGVybHlcbiAgICAgICAgICAgIC8vIG5vdGU6IHRoaXMgbG9hZERpYWxvZyBvbmx5IGdldHMgY2FsbGVkIG9uY2U7IHRoZW4sICRkaWFsb2cgaXNuJ3QgbnVsbCBhbmQgY2FuIGJlIHRvZ2dsZWRcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZyA9ICQoJy5qcy1oZWxwLWRpYWxvZycpO1xuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlKHRydWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIEhlbHBCdXR0b24gPSBCdXR0b24uZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogJ0hlbHAnLCBcbiAgICAgICAgc2VsZWN0b3I6ICcuanMtaGVscC1idXR0b24nLCBcbiAgICAgICAgZGlhbG9nOiBuZXcgSGVscERpYWxvZygpXG4gICAgfSk7XG5cbiAgICB2YXIgTmV0d29ya0xvZ29EaWFsb2cgPSBEaWFsb2cuZXh0ZW5kKHtcbiAgICAgICAgY3NzQ2xhc3M6ICduZXR3b3JrLWxvZ28tZGlhbG9nJyxcbiAgICAgICAgYWxpZ25tZW50OiAnbGVmdCdcbiAgICB9KVxuICAgIC5tZXRob2RzKHtcbiAgICAgICAgbG9hZERpYWxvZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gb3VyIGNvbnRlbnQgaXMgYWxyZWFkeSBpbiB0aGUgcGFnZSwganVzdCBtb3ZlIGl0IHRvIHRoZSBjb3JyYWwgc28gaXQgY2FuIGJlIHN0eWxlZCBwcm9wZXJseVxuICAgICAgICAgICAgLy8gbm90ZTogdGhpcyBsb2FkRGlhbG9nIG9ubHkgZ2V0cyBjYWxsZWQgb25jZTsgdGhlbiwgJGRpYWxvZyBpc24ndCBudWxsIGFuZCBjYW4gYmUgdG9nZ2xlZFxuICAgICAgICAgICAgdGhpcy4kZGlhbG9nID0gJCgnLmpzLW5ldHdvcmstbG9nby1kaWFsb2cnKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd09ySGlkZSh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IHRoaXMuYnV0dG9uO1xuICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmZpbmQoJy5qcy1jbG9zZS1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgdmFyIE5ldHdvcmtMb2dvQnV0dG9uID0gQnV0dG9uLmV4dGVuZCh7XG4gICAgICAgIG5hbWU6ICdOZXR3b3JrTG9nbycsXG4gICAgICAgIHNlbGVjdG9yOiAnLmpzLW5ldHdvcmstbG9nbycsXG4gICAgICAgIGRpYWxvZzogbmV3IE5ldHdvcmtMb2dvRGlhbG9nKClcbiAgICB9KTtcblxuICAgIHZhciBSZXZpZXdEaWFsb2cgPSBEaWFsb2cuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiAnL3RvcGJhci9yZXZpZXcnLFxuICAgICAgICBjc3NDbGFzczogJ3Jldmlldy1kaWFsb2cnXG4gICAgfSk7XG5cbiAgICB2YXIgUmV2aWV3QnV0dG9uID0gQnV0dG9uLmV4dGVuZCh7XG4gICAgICAgIG5hbWU6ICdSZXZpZXcnLFxuICAgICAgICBzZWxlY3RvcjogJy5qcy1yZXZpZXctYnV0dG9uJyxcbiAgICAgICAgZGlhbG9nOiBuZXcgUmV2aWV3RGlhbG9nKClcbiAgICB9KTtcblxuICAgIHZhciBNb2RJbmJveERpYWxvZyA9IERpYWxvZy5leHRlbmQoe1xuICAgICAgICB1cmw6ICcvdG9wYmFyL21vZC1pbmJveCcsXG4gICAgICAgIGNzc0NsYXNzOiAnbW9kSW5ib3gtZGlhbG9nJ1xuICAgIH0pXG4gICAgLm1ldGhvZHMoe1xuICAgICAgICBcbiAgICB9KTtcbiAgICB2YXIgTW9kSW5ib3hCdXR0b24gPSBCdXR0b24uZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogJ01vZEluYm94JywgXG4gICAgICAgIHNlbGVjdG9yOiAnLmpzLW1vZC1pbmJveC1idXR0b24nLCBcbiAgICAgICAgZGlhbG9nOiBuZXcgTW9kSW5ib3hEaWFsb2coKVxuICAgIH0pO1xuICAgIHZhciBMZWZ0TmF2SGFtYnVyZ2VyRGlhbG9nID0gRGlhbG9nLmV4dGVuZCh7XG4gICAgICAgIGNzc0NsYXNzOiAnanMtbGVmdG5hdi1kaWFsb2cnLFxuICAgICAgICBhbGlnbm1lbnQ6ICdsZWZ0J1xuICAgIH0pXG4gICAgLm1ldGhvZHMoe1xuICAgICAgICBsb2FkRGlhbG9nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cgPSAkKCcuanMtbGVmdG5hdi1kaWFsb2cnKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd09ySGlkZSh0cnVlKTtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUpIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUuYWRkQnJlYWtwb2ludExpc3RlbmVyKGZ1bmN0aW9uIChuZXdSYW5nZSwgb2xkUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoXCJodG1sXCIpLmhhc0NsYXNzKFwiaHRtbF9fdW5waW5uZWQtbGVmdG5hdlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBkaWFsb2cgaWYgbGVmdCBuYXYgaXMgcGlubmVkIGFuZCB3ZSdyZSBtb3ZpbmcgZnJvbSBzbWFsbCB0byBtZWRpdW1cbiAgICAgICAgICAgICAgICAgICAgLy8gKGluIHRoZSBzbWFsbCByYW5nZSBpdCdzIGFsd2F5cyB1bnBpbm5lZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFJhbmdlID09PSBcInNtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYnV0dG9uLnRvZ2dsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIExlZnROYXZIYW1idXJnZXJCdXR0b24gPSBCdXR0b24uZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogJ0xlZnROYXYnLFxuICAgICAgICBzZWxlY3RvcjogJy5qcy1sZWZ0LXNpZGViYXItdG9nZ2xlJyxcbiAgICAgICAgZGlhbG9nOiBuZXcgTGVmdE5hdkhhbWJ1cmdlckRpYWxvZygpXG4gICAgfSk7XG5cbiAgICBcblxuICAgIGZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7XG4gICAgICAgIGlmICghU3RhY2tFeGNoYW5nZS5vcHRpb25zLmVuYWJsZUxvZ2dpbmcpIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coJ3RvcGJhcjogJyArIG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0J1dHRvbk9yRGlhbG9nQ2xpY2soY2xpY2tlZEVsZW1lbnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gYnV0dG9uc1tpXTtcblxuICAgICAgICAgICAgaWYgKChidXR0b24uJGJ1dHRvbiB8fCAkKCkpLmdldCgwKSA9PT0gY2xpY2tlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5kaWFsb2cgJiYgYnV0dG9uLmRpYWxvZy5jb250YWlucyhjbGlja2VkRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBoaWRlQWxsKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ1dHRvbnNbaV0udG9nZ2xlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWFsdGltZU1lc3NhZ2UoZGF0YSkge1xuICAgICAgICB2YXIganNvbjtcbiAgICAgICAgaWYgKCFkYXRhIHx8ICEoanNvbiA9IEpTT04ucGFyc2UoZGF0YSkpKSByZXR1cm47XG5cbiAgICAgICAgbG9nKCdyZWFsdGltZSBtZXNzYWdlIC0gJyArIGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gZWFjaCB0b3AtbGV2ZWwgcHJvcGVydHkgb24gdGhlIGpzb24gY29ycmVzcG9uZHMgdG8gYSBidXR0b24gbmFtZVxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGpzb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wID09IGJ1dHRvbnNbaV0ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25zW2ldLmhhbmRsZVJlYWx0aW1lTWVzc2FnZShqc29uW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYgU2VhcmNoQXV0b0NvbXBsZXRlQ29uc3RydWN0b3JPcHRpb25zXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGVuYWJsZUhpbnRzIC0gc2hvdWxkIHNlYXJjaCBoaW50cyBiZSBmZXRjaGVkIGFuZCB1c2VkPyAgaWYgZmFsc2UsIHBvcG92ZXIgd2lsbCBiZSBoaWRkZW4gd2hlbiBubyBxdWVyeVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZW5hYmxlUHJpem0gLSBzaG91bGQgR1BTIGV2ZW50cyBiZSBmaXJlZD9cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzVG9wYmFyQXdhcmUgLSBzaG91bGQgdGhpcyBhdXRvY29tcGxldGUgYmUgaGlkZGVuIGlmIGEgdG9wYmFyIHBvcHVwIGlzIHNob3duIG9yIHZpY2UtdmVyc2E/XG4gICAgICogQHByb3BlcnR5IHtTZWFyY2hBdXRvQ29tcGxldGVDb25zdHJ1Y3Rvck9wdGlvbnN+b25DaG9pY2VDYWxsYmFja30gb25DaG9pY2VcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gc2VhcmNoVXJsIC0gd2hlcmUgdG8gc2VuZCBxdWVyaWVzIHRvOyBzaG91bGQgcmV0dXJuIGFuIEF1dG9Db21wbGV0ZVJlc3VsdC5jc2h0bWxcbiAgICAgKiBAcHJvcGVydHkge1NlYXJjaEF1dG9Db21wbGV0ZUNvbnN0cnVjdG9yT3B0aW9uc350cmFuc2Zvcm1SZXN1bHRzSHRtbENhbGxiYWNrfSB0cmFuc2Zvcm1SZXN1bHRzSHRtbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQGNhbGxiYWNrIFNlYXJjaEF1dG9Db21wbGV0ZUNvbnN0cnVjdG9yT3B0aW9uc35vbkNob2ljZUNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtKUXVlcnl9ICRjaG9zZW5JdGVtIC0gdGhlIC5qcy1hYy1yZXN1bHQgdGhhdCB3YXMgbW91c2UtY2xpY2tlZC9rZXlib2FyZC1lbnRlcmVkXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAY2FsbGJhY2sgU2VhcmNoQXV0b0NvbXBsZXRlQ29uc3RydWN0b3JPcHRpb25zfnRyYW5zZm9ybVJlc3VsdHNIdG1sQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaHRtbCAtIHRoZSBsaXN0IG9mIHJlc3VsdHMgd2UgZmV0Y2hlZCBmb3IgYSBnaXZlbiBzZWFyY2hcbiAgICAgKiBAcmV0dXJucyB7SlF1ZXJ5fSB3aGF0IHdpbGwgYmUgaW5zZXJ0ZWQgaW50byB0aGUgcmVzdWx0cyBjb250YWluZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBoZWxwIGFuZCBhdXRvY29tcGxldGVcbiAgICAgKiBcbiAgICAgKiAgIC0gdXNlZCBvbiBjaGFubmVscy9lbnRlcnByaXNlIHRvcGJhciBzZWFyY2hcbiAgICAgKiAgIC0gdXNlZCBvbiBQb3N0Q29sbGVjdGlvbnMgU2hvdyBQYWdlJ3MgRWRpdCBwYXRoXG4gICAgICogICBcbiAgICAgKiBAcGFyYW0gJHNlYXJjaEJveCB7alF1ZXJ5fSBpbnNpZGUgb2YgYSAuanMtc2VhcmNoLS1vdXRlci1jb250YWluZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7U2VhcmNoQXV0b0NvbXBsZXRlQ29uc3RydWN0b3JPcHRpb25zfVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqLyBcbiAgICBmdW5jdGlvbiBTZWFyY2hBdXRvQ29tcGxldGUoJHNlYXJjaEJveCwgb3B0aW9ucykge1xuICAgICAgICBcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7U2VhcmNoQXV0b0NvbXBsZXRlQ29uc3RydWN0b3JPcHRpb25zfSAqL1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBlbmFibGVIaW50czogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZVByaXptOiB0cnVlLFxuICAgICAgICAgICAgaXNUb3BiYXJBd2FyZTogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2hvaWNlOiBudWxsLFxuICAgICAgICAgICAgc2VhcmNoVXJsOiAnL3NlYXJjaC9hYz9xPScsXG4gICAgICAgICAgICB0cmFuc2Zvcm1SZXN1bHRzSHRtbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVzdWx0c0NhY2hlID0ge307XG4gICAgICAgIHRoaXMuc2VhcmNoSGludHNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIC8vIHdoZW4gdHJ1ZSwgc2hvd2luZyB0aGUgcG9wdXAgKHVzdWFsbHkgYWZ0ZXIgY2xpY2tpbmcgc29tZXdoZXJlIGVsc2UgdG8gY2xvc2UgaXQpIHdpbGwgcmUtcmVuZGVyIHRoZSByZXN1bHRzIFxuICAgICAgICB0aGlzLnJlZnJlc2hSZXN1bHRzT25OZXh0U2hvdyA9IGZhbHNlO1xuICAgICAgICAkc2VhcmNoQm94Lm9uKCdzLXBvcG92ZXI6c2hvdycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYucmVmcmVzaFJlc3VsdHNPbk5leHRTaG93KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zdWdnZXN0LmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoUmVzdWx0c09uTmV4dFNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgJHNlYXJjaFBvcG92ZXIgPSAkKCcjJyArICRzZWFyY2hCb3guYXR0cignYXJpYS1jb250cm9scycpKTsgLy8gdXN1YWxseSAuanMtdG9wLXNlYXJjaC1wb3BvdmVyXG4gICAgICAgIHZhciAkcmVzdWx0c0RpdiA9ICRzZWFyY2hQb3BvdmVyLmZpbmQoJy5qcy1hYy1yZXN1bHRzJyk7XG5cbiAgICAgICAgdGhpcy4kc2VhcmNoUG9wb3ZlciA9ICRzZWFyY2hQb3BvdmVyO1xuICAgICAgICB0aGlzLiRzZWFyY2hCb3ggPSAkc2VhcmNoQm94OyAvLyB0ZXh0Ym94XG4gICAgICAgIHRoaXMuJHJlc3VsdHNEaXYgPSAkcmVzdWx0c0RpdjtcbiAgICAgICAgdGhpcy4kc2NyZWVuUmVhZGVySW5mbyA9ICRzZWFyY2hQb3BvdmVyLmZpbmQoJy5qcy1zY3JlZW4tcmVhZGVyLWluZm8nKTtcbiAgICAgICAgdGhpcy4kbG9hZGluZ0luZGljYXRvciA9ICRzZWFyY2hQb3BvdmVyLmZpbmQoJy5qcy1zcGlubmVyJyk7XG4gICAgICAgIHRoaXMuJHNlYXJjaEhpbnRzQ29udGFpbmVyID0gJHNlYXJjaFBvcG92ZXIuZmluZCgnLmpzLXNlYXJjaC1oaW50cycpO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUhpbnRzKSB7XG4gICAgICAgICAgICAkc2VhcmNoQm94Lm9uKCdzLXBvcG92ZXI6c2hvdycsIHRoaXMuZmV0Y2hTZWFyY2hIaW50cy5iaW5kKHRoaXMpKTsgLy8gZmV0Y2ggc2VhcmNoIGhpbnRzIHZpYSBBSkFYXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEhpbnRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaXNUb3BiYXJBd2FyZSkge1xuICAgICAgICAgICAgJCgnLmpzLXByb2R1Y3RzLW1lbnUnKS5vbigncy1wb3BvdmVyOnNob3cnLCB0aGlzLmhpZGVQb3BvdmVyLmJpbmQodGhpcykpOyAvLyBoaWRlIHdoZW4gb3BlbmluZyBcInByb2R1Y3RzXCIgcG9wb3ZlclxuICAgICAgICAgICAgJHNlYXJjaEJveC5vbigncy1wb3BvdmVyOnNob3cnLCBTdGFja0V4Y2hhbmdlLnRvcGJhci5oaWRlQWxsKTsgLy8gaGlkZSBhbGwgdG9wYmFyIGRpYWxvZ3Mgd2hlbiBzaG93aW5nIHNlYXJjaCBwb3BvdmVyXG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbmx5IHRyaWdnZXIgYXV0b2NvbXBsZXRlIHNlYXJjaGVzIGFuZCBrZXlib2FyZCBuYXZpZ2F0aW9uIGlmIGZlYXR1cmUgaXMgZW5hYmxlZFxuICAgICAgICBpZiAoJHNlYXJjaEJveC5oYXNDbGFzcygnanMtc2VhcmNoLWF1dG9jb21wbGV0ZScpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBkZWxheWVkU3VnZ2VzdCA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5EZWxheWVkUmVhY3Rpb24odGhpcy5zdWdnZXN0LmJpbmQodGhpcyksIDUwMCwge3NsaWRpbmc6IHRydWV9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGlucHV0RXZlbnROYW1lID0gL1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgPyAndGV4dGlucHV0JyA6ICdpbnB1dCc7XG4gICAgICAgICAgICAkc2VhcmNoQm94Lm9uKGlucHV0RXZlbnROYW1lLCB0aGlzLm9uSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAkc2VhcmNoQm94Lm9uKGlucHV0RXZlbnROYW1lLCBkZWxheWVkU3VnZ2VzdC50cmlnZ2VyKTtcbiAgICAgICAgICAgICRzZWFyY2hCb3gub24oJ2tleWRvd24nLCB0aGlzLnNlYXJjaEJveE9uS2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNlYXJjaFBvcG92ZXIub24oJ2tleWRvd24nLCB0aGlzLnNlYXJjaFBvcG92ZXJPbktleURvd24uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRyZXN1bHRzRGl2Lm9uKCdjbGljaycsICcuanMtYWMtcmVzdWx0JywgdGhpcy5jaG9vc2UuYmluZCh0aGlzKSk7IC8vIG5vdGUgdGhpcyBoYW5kbGVzIEVudGVyIHByZXNzLCB0b29cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaXNUb3BiYXJBd2FyZSkge1xuICAgICAgICAgICAgICAgICQoJy5qcy10b3AtYmFyJykuZm9jdXNpbih0aGlzLmhpZGVXaGVuRm9jdXNMb3N0LmJpbmQodGhpcykpOyAvLyBoaWRlIHdoZW4gc2VsZWN0aW5nIGFueXRoaW5nIGVsc2UgaW4gdGhlIHRvcGJhclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgU2VhcmNoQXV0b0NvbXBsZXRlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgcXVlcnk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzZWFyY2hCb3gudmFsKCkudHJpbSgpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgaGFzUXVlcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5xdWVyeSgpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgZmV0Y2hTZWFyY2hIaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hIaW50c0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIvc2VhcmNoL2hpbnRzXCIsXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi4kc2VhcmNoSGludHNDb250YWluZXIuYXBwZW5kKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2VhcmNoSGludHNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5kZWJ1Zy5sb2coJ0F1dG9jb21wbGV0ZSBFcnJvcjogJyArIGVycm9yLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzUmVzdWx0czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy4kcmVzdWx0c0RpdlswXS5jaGlsZEVsZW1lbnRDb3VudCA+IDA7IH0sXG4gICAgICAgIFxuICAgICAgICBoaWRlUmVzdWx0czogZnVuY3Rpb24gKCkgeyBcbiAgICAgICAgICAgIHRoaXMuc2hvd1Jlc3VsdHMoJycpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgaGlkZVBvcG92ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaFBvcG92ZXIucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGhpZGVXaGVuRm9jdXNMb3N0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoISQoZS50YXJnZXQpLmlzKHRoaXMuJHNlYXJjaEJveCkgJiYgJChlLnRhcmdldCkucGFyZW50cygnLmpzLXRvcC1zZWFyY2gtcG9wb3ZlcicpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVBvcG92ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIG9uSW5wdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgaGFzUXVlcnkgPSB0aGlzLmhhc1F1ZXJ5KCk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNwaW5uZXIoaGFzUXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIGhpbnRzIHRvIHNob3csIHNvIGhpZGUgdGhlIGVudGlyZSB0aGluZ1xuICAgICAgICAgICAgaWYgKCFoYXNRdWVyeSAmJiAhdGhpcy5zZXR0aW5ncy5lbmFibGVIaW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVBvcG92ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzaG93UmVzdWx0czogZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHZhciBub1Jlc3VsdHMgPSAkLnRyaW0ocmVzdWx0cykubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoSGludHNDb250YWluZXIuZmluZCgnLmpzLXNlYXJjaC1oaW50cy10ZXh0JykudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScsICFub1Jlc3VsdHMpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVTcGlubmVyKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVyID0gdGhpcy5zZXR0aW5ncy50cmFuc2Zvcm1SZXN1bHRzSHRtbCB8fCBmdW5jdGlvbihzKSB7IHJldHVybiAkKHMpOyB9O1xuICAgICAgICAgICAgdmFyICRyZXN1bHRzID0gdHJhbnNmb3JtZXIocmVzdWx0cyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuJHJlc3VsdHNEaXZcbiAgICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJHJlc3VsdHMpXG4gICAgICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKCdkLW5vbmUnLCBub1Jlc3VsdHMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmVzdWx0Q291bnQgPSB0aGlzLiRyZXN1bHRzRGl2LmZpbmQoXCIuanMtYWMtcmVzdWx0XCIpLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuJHNjcmVlblJlYWRlckluZm8udGV4dChyZXN1bHRDb3VudCA9PT0gMCA/IFwiTm8gcmVzdWx0c1wiIDogX3MoXCIjX19yZXN1bHRzIyByZXN1bHRzIGZvdW5kXCIsIHtfX3Jlc3VsdHM6IHJlc3VsdENvdW50fSkpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgdG9nZ2xlU3Bpbm5lcjogZnVuY3Rpb24gKHNob3cpIHtcbiAgICAgICAgICAgIHRoaXMuJGxvYWRpbmdJbmRpY2F0b3IudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScsICFzaG93KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzdWdnZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSBzZWxmLnF1ZXJ5KCk7XG5cbiAgICAgICAgICAgIGlmICghc2VsZi5oYXNRdWVyeSgpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlUmVzdWx0cygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiBcbiAgICAgICAgICAgIC8vIGNhY2hlZCByZXN1bHRzXG4gICAgICAgICAgICB2YXIgY2FjaGVkID0gc2VsZi5yZXN1bHRzQ2FjaGVbcXVlcnldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zaG93UmVzdWx0cyhjYWNoZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYWNVUkwgPSBuZXcgVVJMKHRoaXMuc2V0dGluZ3Muc2VhcmNoVXJsICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSwgbG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJC5nZXQoYWNVUkwuaHJlZikuZG9uZShmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc3VsdHNDYWNoZVtxdWVyeV0gPSByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGpxeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmRlYnVnLmxvZygnQXV0b2NvbXBsZXRlIEVycm9yOiAnICsgZXJyb3IudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlU3Bpbm5lcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRyZXN1bHRzRGl2LmZpbmQoJy5qcy1hYy1yZXN1bHQ6Zm9jdXMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2pzLWFjLXJlc3VsdCcpKSByZXR1cm47IC8vIG5vcGVcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2libGluZ3MoKS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZXN1bHRzRGl2LmNoaWxkcmVuKCkuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdE5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXN1bHRzKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgJGN1cnJlbnQgPSB0aGlzLnNlbGVjdGVkKCk7XG4gICAgICAgICAgICB2YXIgJG5leHQgPSAkY3VycmVudC5uZXh0KCcuanMtYWMtcmVzdWx0Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICgkY3VycmVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZXN1bHRzRGl2LmNoaWxkcmVuKCcuanMtYWMtcmVzdWx0JykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCRuZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkKCRuZXh0KTtcbiAgICAgICAgICAgICAgICAkbmV4dFswXS5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6IFwic21vb3RoXCIsIGJsb2NrOiBcIm5lYXJlc3RcIn0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdFByZXY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXN1bHRzKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgJGN1cnJlbnQgPSB0aGlzLnNlbGVjdGVkKCk7XG4gICAgICAgICAgICB2YXIgJHByZXYgPSAkY3VycmVudC5wcmV2KCcuanMtYWMtcmVzdWx0Jyk7XG4gICAgICAgICAgICBpZiAoJHByZXYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQoJHByZXYpO1xuICAgICAgICAgICAgICAgICRwcmV2WzBdLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwibmVhcmVzdFwifSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNlYXJjaEJveC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNlYXJjaEJveE9uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNSZXN1bHRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlUG9wb3ZlcigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHNlYXJjaFBvcG92ZXJPbktleURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVzdWx0cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNSZXN1bHRzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJldigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlUG9wb3ZlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZWFyY2hCb3guZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hvb3NlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyICRzZWxlY3RlZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1hYy1yZXN1bHQnKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gdGhpcy4kcmVzdWx0c0Rpdi5maW5kKFwiLmpzLWFjLXJlc3VsdFwiKS5pbmRleCgkc2VsZWN0ZWQpO1xuICAgICAgICAgICAgJHNlbGVjdGVkLmZpbmQoJy5qcy1hYy1lbnRlci1oaW50JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVQcml6bSkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJncHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpdGVzZWFyY2guYXV0b2NvbXBsZXRlLmNsaWNrJywgeyBjb21wbGV0aW9uX2luZGV4OiBzZWxlY3RlZEluZGV4IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vbkNob2ljZSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gZG8gc29tZXRoaW5nIG90aGVyIHRoYW4gcHVyZSBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mub25DaG9pY2UoJHNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBuZXcgU08gdG9wIG5hdiBvbmx5XG4gICAgZnVuY3Rpb24gaW5pdFNlYXJjaEludGVyYWN0aW9ucygpIHtcblxuICAgICAgICB2YXIgJGlucHV0ID0gJCgnLmpzLXNlYXJjaC1maWVsZCcpO1xuXG4gICAgICAgICQoJy5qcy1zZWFyY2gtY2hhbm5lbC1zZWxlY3RvcicpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkKHRoaXMpLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICYmIHNlbGVjdGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzZWxlY3RlZC5kYXRhKCd1cmwnKTtcbiAgICAgICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzZWFyY2gnKS5hdHRyKCdhY3Rpb24nLCB1cmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hPbiA9IHNlbGVjdGVkLmRhdGEoJ3NlYXJjaC1vbicpO1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hPbikge1xuICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2VhcmNoLW9uJykudmFsKHNlYXJjaE9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRyaWdnZXIoJ2NoYW5nZScpOyAvLyBLaWNrIG9mZiB0aGUgZmlyc3Qgb25lLCBzbyBpdCdzIGluIHN5bmNcblxuICAgICAgICBpZiAoIVN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3Muc2VhcmNoLmVuYWJsZU5ld1F1aWNrU2VhcmNoKSB7XG4gICAgICAgICAgICAvLyBJbml0IGxlZ2FjeSBhdXRvY29tcGxldGUgc2VhcmNoIGNvbXBvbmVudFxuICAgICAgICAgICAgbmV3IFNlYXJjaEF1dG9Db21wbGV0ZSgkaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhdHRhY2hJblF1ZXN0aW9uVXJsUmV3cml0ZXIoJGlucHV0WzBdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0U2VhcmNoSW50ZXJhY3Rpb25zRm9yTmFycm93VmlldygpIHtcbiAgICAgICAgdmFyICRzZWFyY2hiYXIgPSAkKCcuanMtc2VhcmNoYmFyJyksXG4gICAgICAgICAgICAkc2VhcmNoYmFyVHJpZ2dlciA9ICQoJy5qcy1zZWFyY2hiYXItdHJpZ2dlcicpLFxuICAgICAgICAgICAgJHNlYXJjaEZpZWxkID0gJCgnLmpzLXNlYXJjaC1maWVsZCcpLFxuICAgICAgICAgICAgdHJpZ2dlck9wZW5DbGFzcyA9ICdpcy1zZWxlY3RlZCcsXG4gICAgICAgICAgICBzZWFyY2hiYXJPcGVuQ2xhc3MgPSAncy10b3BiYXItLXNlYXJjaGJhcl9fb3Blbic7XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlU2VhcmNoKHllc25vKSB7XG4gICAgICAgICAgICAkc2VhcmNoYmFyVHJpZ2dlci50b2dnbGVDbGFzcyh0cmlnZ2VyT3BlbkNsYXNzLCB5ZXNubyk7XG4gICAgICAgICAgICAkc2VhcmNoYmFyLnRvZ2dsZUNsYXNzKHNlYXJjaGJhck9wZW5DbGFzcywgeWVzbm8pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkc2VhcmNoYmFyVHJpZ2dlci5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdG9nZ2xlU2VhcmNoKCk7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGF5IHRoZSBmb2N1cyBldmVudCBzbyBzdGltdWx1cyBjYW4gcGljayBpdCB1cCBhbmQgc2hvdyB0aGUgcG9wdXAgY29ycmVjdGx5XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuRGVsYXllZFJlYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2VhcmNoRmllbGQuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sIDApLnRyaWdnZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlVW5waW5uZWRMZWZ0TmF2KHVucGluKSB7XG4gICAgICAgIHZhciBpc3VucGlubmVkID0gJChcImh0bWxcIikuaGFzQ2xhc3MoXCJodG1sX191bnBpbm5lZC1sZWZ0bmF2XCIpOyBcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgdW5waW4gPSAhaXN1bnBpbm5lZDtcbiAgICAgICAgaWYgKGlzdW5waW5uZWQgPT09ICEhdW5waW4pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHVucGlubmVkUmFuZ2VzLCBwaW5uZWRSYW5nZXM7XG5cbiAgICAgICAgaWYgKHVucGluKSB7XG4gICAgICAgICAgICAkKFwiaHRtbFwiKS5hZGRDbGFzcyhcImh0bWxfX3VucGlubmVkLWxlZnRuYXZcIik7IFxuICAgICAgICAgICAgdW5waW5uZWRSYW5nZXMgPSBcInNtIG1kIGxnXCI7XG4gICAgICAgICAgICBwaW5uZWRSYW5nZXMgPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcImh0bWxcIikucmVtb3ZlQ2xhc3MoXCJodG1sX191bnBpbm5lZC1sZWZ0bmF2XCIpOyBcbiAgICAgICAgICAgIHVucGlubmVkUmFuZ2VzID0gXCJzbVwiO1xuICAgICAgICAgICAgcGlubmVkUmFuZ2VzID0gXCJtZCBsZ1wiO1xuICAgICAgICB9XG4gICAgICAgICQoXCIuanMtcGlubmVkLWxlZnQtc2lkZWJhclwiKS5hdHRyKFwiZGF0YS1pcy1oZXJlLXdoZW5cIiwgcGlubmVkUmFuZ2VzKTtcbiAgICAgICAgJChcIi5qcy11bnBpbm5lZC1sZWZ0LXNpZGViYXJcIikuYXR0cihcImRhdGEtaXMtaGVyZS13aGVuXCIsIHVucGlubmVkUmFuZ2VzKTtcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5yZXNwb25zaXZlLmZvcmNlQ2hlY2soKTtcbiAgICB9XG5cbiAgICAvLyByZWNvbnNpZGVyIG1vdmluZyBsZWZ0IG5hdiBzdHVmZiBvdXQgb2YgMDJfdG9wYmFyLmpzPyBJdCdzIHNvcnQgb2YgcmVsYXRlZC9pbnRlcnR3aW5lZC4gbm90IHN1cmVcbiAgICBmdW5jdGlvbiBzdGlja3lMZWZ0bmF2Rm9yTGVnYWN5QnJvd3NlcnMoKSB7XG4gICAgICAgIHZhciBicm9rZW5Ccm93c2VyID0gZmFsc2U7XG4gICAgICAgIHZhciBtZWRnZSAvKiBtYXRjaCBlZGdlICovID0gKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgXCJcIikubWF0Y2goL1xcYkVkZ2VcXC8oXFxkKykvKTtcbiAgICAgICAgaWYgKG1lZGdlKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQobWVkZ2VbMV0sIDEwKSA8IDE3KSB7XG4gICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IHN0aWNreSBoYXMgaXNzdWVzIGluIEVkZ2UgMTYgKGh0dHBzOi8vY2hhdC5tZXRhLnN0YWNrZXhjaGFuZ2UuY29tL3RyYW5zY3JpcHQvbWVzc2FnZS83MDgxNzMyIzcwODE3MzIpXG4gICAgICAgICAgICAgICAgYnJva2VuQnJvd3NlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJyb2tlbkJyb3dzZXIgJiYgd2luZG93LkNTUyAmJiBDU1Muc3VwcG9ydHMgJiYgQ1NTLnN1cHBvcnRzKFwiKHBvc2l0aW9uOiBzdGlja3kpIG9yIChwb3NpdGlvbjogLXdlYmtpdC1zdGlja3kpXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0aWNreSA9ICQoXCIuanMtc3RpY2t5LWxlZnRuYXZcIik7XG4gICAgICAgIGlmICghc3RpY2t5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChicm9rZW5Ccm93c2VyKSB7XG4gICAgICAgICAgICBzdGlja3kuYWRkQ2xhc3MoXCJsZWZ0LXNpZGViYXJfX2Zha2Utc3RpY2t5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZWZ0bmF2ID0gJChcIi5qcy1waW5uZWQtbGVmdC1zaWRlYmFyXCIpO1xuICAgICAgICB2YXIgbGVmdE5hdlRvcFBhZGRpbmcgPSBwYXJzZUludChsZWZ0bmF2LmNzcyhcInBhZGRpbmctdG9wXCIpLCAxMCk7XG4gICAgICAgIHZhciB3aW4gPSAkKHdpbmRvdyk7XG4gICAgICAgIGZ1bmN0aW9uIHJlcG9zaXRpb24oKSB7XG4gICAgICAgICAgICBpZiAoIWxlZnRuYXYuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwb3MgPSBsZWZ0bmF2Lm9mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHRvcCA9IHBvcy50b3AgLSB3aW4uc2Nyb2xsVG9wKCkgKyBTdGFja0V4Y2hhbmdlLnNjcm9sbFBhZGRpbmcuZ2V0UGFkZGluZ1RvcCgpO1xuICAgICAgICAgICAgdmFyIHN0aWNreVRvcCA9IE1hdGgubWF4KFN0YWNrRXhjaGFuZ2Uuc2Nyb2xsUGFkZGluZy5nZXRQYWRkaW5nVG9wTWluaW1hbCgpLCB0b3ApICsgbGVmdE5hdlRvcFBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgc3RpY2t5SGVpZ2h0ID0gc3RpY2t5LmhlaWdodCgpO1xuICAgICAgICAgICAgdmFyIGJvdHRvbU92ZXJmbG93ID0gc3RpY2t5VG9wICsgc3RpY2t5SGVpZ2h0IC0gdG9wIC0gbGVmdG5hdi5oZWlnaHQoKTtcbiAgICAgICAgICAgIHN0aWNreVRvcCAtPSBNYXRoLm1heCgwLCBib3R0b21PdmVyZmxvdyk7XG4gICAgICAgICAgICBzdGlja3kuY3NzKFwidG9wXCIsIHN0aWNreVRvcCk7XG4gICAgICAgICAgICBsZWZ0bmF2LmNzcyhcIm1pbi1oZWlnaHRcIiwgc3RpY2t5SGVpZ2h0ICsgbGVmdE5hdlRvcFBhZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHJlcG9zaXRpb24gdGhlIHN0aWNreSBsZWZ0IG5hdiAxKSB3aGVuIHRoZSB3aW5kb3cgaXMgc2Nyb2xsZWQ7IDIpIHdoZW4gd2UgY3Jvc3MgYSBicmVha3BvaW50OyAzKSBvbmNlIHJpZ2h0IG5vdy5cbiAgICAgICAgLy8gVGhhdCB3b24ndCBjYXRjaCAqYWxsKiBjYXNlcywgYnV0IGFsbW9zdCBhbGwgb2YgdGhlbS4gU2luY2UgdGhpcyBpcyBqdXN0IGZvciBJRTExLCB0aGF0J3MgY29tcGxldGVseSBmaW5lLlxuICAgICAgICB3aW4ub24oXCJzY3JvbGxcIiwgcmVwb3NpdGlvbik7XG4gICAgICAgIFN0YWNrRXhjaGFuZ2UucmVzcG9uc2l2ZS5hZGRCcmVha3BvaW50TGlzdGVuZXIocmVwb3NpdGlvbik7XG4gICAgICAgIHJlcG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0R2RwckJhbm5lcigpIHtcbiAgICAgICAgLy8gY29va2llIGlzIHNldCBzZXJ2ZXItc2lkZVxuICAgICAgICB2YXIgJGJhbm5lciA9ICQoJyNqcy1nZHByLWNvbnNlbnQtYmFubmVyJyk7XG4gICAgICAgIHZhciAkYnRuID0gJGJhbm5lci5maW5kKCcuanMtbm90aWNlLWNsb3NlJyk7XG4gICAgICAgICRidG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWNjb3VudHMvYWNjZXB0LWdkcHItY29uc2VudC1iYW5uZXInLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSB9LFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJhbm5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgJGJ0bi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdFNlYXJjaFB1bHNpbmdBbmltYXRpb24oKSB7XG4gICAgICAgIHZhciAkc2VhcmNoQmFyID0gJChcIi5zLXRvcGJhci0tc2VhcmNoYmFyLS1pbnB1dC1ncm91cC5qcy1zZWFyY2gtcHVsc2luZyBpbnB1dFwiKTtcblxuICAgICAgICB2YXIgc3R5bGUgPSBcIi5qcy1hbHBoYS1zZWFyY2gtbGFiZWwgeyBjb2xvcjogaHNsKDIxMCwgOCUsIDc1JSk7IH1cIiArIFwiLmpzLXNlYXJjaC1wdWxzaW5nIHsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsgLXdlYmtpdC1hbmltYXRpb246IHB1bHNlIDVzIGluZmluaXRlOyBhbmltYXRpb246IHB1bHNlIDVzIGluZmluaXRlOyBvdXRsaW5lOiAwIH1cIiArIFwiQC13ZWJraXQta2V5ZnJhbWVzIHB1bHNlIHsgZnJvbSB7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7IH0gNTAlIHsgYm9yZGVyLWNvbG9yOiBoc2woMjA2LCA5MyUsIDgzLjUlKTsgfSB0byB7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgfX1cIiArIFwiQGtleWZyYW1lcyBwdWxzZSB7IGZyb20geyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OyB9IDUwJSB7IGJvcmRlci1jb2xvcjogaHNsKDIwNiwgOTMlLCA4My41JSk7IH0gdG8geyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IH19XCIgKyBcIi5qcy1pbnB1dC1ib3JkZXItcHVsc2luZyB7IGFuaW1hdGlvbjogYmxpbmsgNXMgaW5maW5pdGU7IG91dGxpbmU6IDA7IC13ZWJraXQtYW5pbWF0aW9uOiBibGluayA1cyBpbmZpbml0ZTsgb3V0bGluZTogMCB9XCIgKyBcIkAtd2Via2l0LWtleWZyYW1lcyBibGluayB7IGZyb20geyBib3JkZXItY29sb3I6IGhzbCgyMTAsIDglLCA3NSUpOyB9IDUwJSB7IGJvcmRlci1jb2xvcjogaHNsKDIwNiwgOTMlLCA4My41JSk7IH0gdG8geyBib3JkZXItY29sb3I6IGhzbCgyMTAsIDglLCA3NSUpOyB9fVwiICsgXCJAa2V5ZnJhbWVzIGJsaW5rIHsgZnJvbSB7IGJvcmRlci1jb2xvcjogaHNsKDIxMCwgOCUsIDc1JSk7IH0gNTAlIHsgYm9yZGVyLWNvbG9yOiBoc2woMjA2LCA5MyUsIDgzLjUlKTsgfSB0byB7IGJvcmRlci1jb2xvcjogaHNsKDIxMCwgOCUsIDc1JSk7IH19XCIgKyBcIi5qcy10ZXh0LXB1bHNpbmcgeyBjb2xvcjogaHNsKDIxMCwgOCUsIDc1JSk7IGFuaW1hdGlvbjogY29sb3ItY2hhbmdlIDVzIGluZmluaXRlOyAtd2Via2l0LWFuaW1hdGlvbjogY29sb3ItY2hhbmdlIDVzIGluZmluaXRlOyB9XCIgKyBcIkAtd2Via2l0LWtleWZyYW1lcyBjb2xvci1jaGFuZ2UgeyBmcm9tIHsgY29sb3I6IGhzbCgyMTAsIDglLCA3NSUpOyB9IDUwJSB7IGNvbG9yOiBoc2woMjEwLCA3NyUsIDM2JSk7IH0gdG8geyBjb2xvcjogaHNsKDIxMCwgOCUsIDc1JSk7IH19XCIgKyBcIkBrZXlmcmFtZXMgY29sb3ItY2hhbmdlIHsgZnJvbSB7IGNvbG9yOiBoc2woMjEwLCA4JSwgNzUlKTsgfSA1MCUgeyBjb2xvcjogaHNsKDIxMCwgNzclLCAzNiUpOyB9IHRvIHsgY29sb3I6IGhzbCgyMTAsIDglLCA3NSUpOyB9fVwiO1xuICAgICAgICAkKFwiPHN0eWxlIHR5cGU9J3RleHQvY3NzJyAvPlwiKS50ZXh0KHN0eWxlKS5hcHBlbmRUbyhcImhlYWRcIik7XG5cbiAgICAgICAgJHNlYXJjaEJhci5vbihcImZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc21pc3NQdWxzaW5nQW5pbWF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGlzbWlzc1B1bHNpbmdBbmltYXRpb24oKTtcbiAgICAgICAgfSwgMiAqIDYwICogMTAwMCk7IC8vIG1pbnV0ZXMgKiBzZWNvbmRzICogbWlsbGlzZWNvbmRzXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzbWlzc1B1bHNpbmdBbmltYXRpb24oKSB7XG4gICAgICAgICQuY29va2llKCdub3RpY2UtYXBhJywgJzEnLCB7IHBhdGg6ICcvJywgZXhwaXJlczogMTgwIH0pO1xuICAgICAgICB2YXIgJHNlYXJjaEJhciA9ICQoXCIucy10b3BiYXItLXNlYXJjaGJhci0taW5wdXQtZ3JvdXAuanMtc2VhcmNoLXB1bHNpbmdcIik7XG4gICAgICAgIHZhciAkaW5wdXQgPSAkc2VhcmNoQmFyLmZpbmQoXCJpbnB1dFwiKTtcbiAgICAgICAgdmFyICRsYWJlbCA9ICQoXCIuanMtdGV4dC1wdWxzaW5nXCIpO1xuICAgICAgICAkLnBvc3QoXCIvYWktc2VhcmNoLWFscGhhLWxhdW5jaC1pdGVtcy9kaXNtaXNzXCIsIHtcbiAgICAgICAgICAgIGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICBpdGVtVG9EaXNtaXNzOiBcIlB1bHNpbmdBbmltYXRpb25cIlxuICAgICAgICB9KTtcblxuICAgICAgICAkc2VhcmNoQmFyLnJlbW92ZUNsYXNzKFwianMtc2VhcmNoLXB1bHNpbmdcIik7XG4gICAgICAgICRpbnB1dC5yZW1vdmVDbGFzcyhcImpzLWlucHV0LWJvcmRlci1wdWxzaW5nXCIpO1xuICAgICAgICAkbGFiZWwucmVtb3ZlQ2xhc3MoXCJqcy10ZXh0LXB1bHNpbmdcIik7XG4gICAgfVxuXG4gICAgLy8gc28gd2UgY2FuIGl0ZXJhdGUgb3ZlciB0aGUgYWJvdmUga2xhc3Nlc1xuICAgIHZhciBidXR0b25zID0gW10sXG4gICAgICAgIGRpYWxvZ3MgPSBbXTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPj0gMS41KSB7XG4gICAgICAgICAgICAgICAgJCgnLmpzLWF2YXRhci1tZScpLmF0dHIoJ3NyYycsIGZ1bmN0aW9uIChpLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UoJz9zPTI0JywgJz9zPTQ4Jyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRoZXNlIHN0cmluZyBuYW1lcywgZS5nLiAnSW5ib3gnLCB3aWxsIGJlIHVzZWQgaW4gcmVhbHRpbWUgbWVzc2FnZXNcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChuZXcgU2l0ZVN3aXRjaGVyQnV0dG9uKCkpO1xuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKG5ldyBOZXR3b3JrTG9nb0J1dHRvbigpKTtcblxuICAgICAgICAgICAgaWYgKCQoJy5qcy1sZWZ0LXNpZGViYXItdG9nZ2xlJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKG5ldyBMZWZ0TmF2SGFtYnVyZ2VyQnV0dG9uKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRvcEJhciBpcyBub3QgYXZhaWxhYmxlIG9uIGluc2lnaHRzLnN0YWNrb3ZlcmZsb3cuY29tXG4gICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5zZXR0aW5ncy51c2VyTWVzc2FnaW5nICYmIFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MudXNlck1lc3NhZ2luZy5zaG93TmV3RmVhdHVyZU5vdGljZSkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMucHVzaChuZXcgRmVhdHVyZU5vdGljZUJ1dHRvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChuZXcgSW5ib3hCdXR0b24oKSk7XG4gICAgICAgICAgICBidXR0b25zLnB1c2gobmV3IEFjaGlldmVtZW50c0J1dHRvbigpKTtcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChuZXcgSGVscEJ1dHRvbigpKTtcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChuZXcgUmV2aWV3QnV0dG9uKCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuaXNNb2RlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2gobmV3IE1vZEluYm94QnV0dG9uKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjbGlja2luZyBhbnl3aGVyZSBlbHNlIGNsb3NlcyBkaWFsb2dzXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNCdXR0b25PckRpYWxvZ0NsaWNrKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBoaWRlQWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qIENoZWFwIGhhY2sgdG8gbWFrZSB0aGUgdG9wIGJhciBub3QgY29tcGxldGVseSB1bnVzYWJsZSBpbiBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZmxleGJveC5cbiAgICAgICAgICAgICAgICAqIEFsbCBicm93c2VycyB0aGF0IHdlIHN1cHBvcnQgKmRvKiBoYXZlIGZsZXhib3gsIHNvIHRoaXMgaXMganVzdCBhIGNhc2Ugb2YgYmVpbmcgbmljZSB0byBwZW9wbGVcbiAgICAgICAgICAgICAgICAqIHN0dWNrIG9uIG9sZCBicm93c2Vycy4gV2Ugd29uJ3Qgc3BlbmQgYW55IHNpZ25pZmljYW50IHRpbWUgbWFraW5nIHRoaXMgYmV0dGVyLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgYnMgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICAgICAgaWYgKCEoXCJqdXN0aWZ5Q29udGVudFwiIGluIGJzIHx8IFwiV2Via2l0SnVzdGlmeUNvbnRlbnRcIiBpbiBicykpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmpzLXRvcC1iYXIgKjp2aXNpYmxlXCIpLmNzcyh7XCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIsIFwid2hpdGUtc3BhY2VcIjogXCJub3dyYXBcIiwgXCJ2ZXJ0aWNhbC1hbGlnblwiOiBcIm1pZGRsZVwifSkubm90KFwiLi1sb2dvLCAuLWxvZ28gKiwgc3ZnLCAuLWJhZGdlcyAqXCIpLmNzcyhcIndpZHRoXCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5pdFNlYXJjaEludGVyYWN0aW9ucygpO1xuICAgICAgICAgICAgaW5pdFNlYXJjaEludGVyYWN0aW9uc0Zvck5hcnJvd1ZpZXcoKTtcbiAgICAgICAgICAgIHN0aWNreUxlZnRuYXZGb3JMZWdhY3lCcm93c2VycygpO1xuICAgICAgICAgICAgaW5pdEdkcHJCYW5uZXIoKTtcblxuICAgICAgICAgICAgLy8gc2VhcmNoIGJhciBwdWxzaW5nIGFuaW1hdGlvbiBmb3IgT3ZlcmZsb3dBSSBTZWFyY2hcbiAgICAgICAgICAgIHZhciAkcHVsc2luZ1NlYXJjaEJhciA9ICQoXCIucy10b3BiYXItLXNlYXJjaGJhci0taW5wdXQtZ3JvdXAuanMtc2VhcmNoLXB1bHNpbmcgaW5wdXRcIik7XG4gICAgICAgICAgICBpZiAoJHB1bHNpbmdTZWFyY2hCYXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGluaXRTZWFyY2hQdWxzaW5nQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkKFwiI2pzLWFpLXNlYXJjaC1hbHBoYS1wb3BvdmVyXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbml0QUlTZWFyY2hBbHBoYVBvcG92ZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJChcIi5qcy1wcm9kdWN0cy1tZW51XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyAvKiBwcmV2ZW50IG5hdmlnYXRpb24gb24gdGhlIHByb2R1Y3RzIG1lbnUgKi8gfSk7XG5cbiAgICAgICAgICAgIGlmICgkKCcjcG9wb3Zlci1yZXZpZXctcXVldWUnKS5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkcmV2aWV3QnV0dG9uID0gJCgnLmpzLXJldmlldy1idXR0b24nKTtcblxuICAgICAgICAgICAgICAgICRyZXZpZXdCdXR0b24ub24oJ3MtcG9wb3ZlcjpoaWRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BhdGNoZXIgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsLmRpc3BhdGNoZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwYXRjaGVyICYmICQoZGlzcGF0Y2hlcikuY2xvc2VzdCgnLmpzLXRvcC1iYXInKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHJldmlld0J1dHRvbi5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtY29udHJvbGxlcic6ICdzLXBvcG92ZXInLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jb250cm9scyc6ICdwb3BvdmVyLXJldmlldy1xdWV1ZSdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy50b2dnbGVTdGFja3NQb3BvdmVyKCRyZXZpZXdCdXR0b24sIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgJChcIi5qcy1yZXZpZXctcXVldWUtcG9wb3Zlci1sZWFybi1tb3JlLCAuanMtcmV2aWV3LXF1ZXVlLXBvcG92ZXItY2xvc2UtYnV0dG9uLCAuanMtcmV2aWV3LWJ1dHRvblwiKS5jbGljayhcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnRvZ2dsZVN0YWNrc1BvcG92ZXIoJHJldmlld0J1dHRvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnRvZ2dsZVVzZXJGbGFncyhTdGFja092ZXJmbG93Lk1vZGVscy5Vc2VyRmxhZ3MuU2hvd1Jldmlld1F1ZXVlTm90aWNlIHwgU3RhY2tPdmVyZmxvdy5Nb2RlbHMuVXNlckZsYWdzLlJldmlld1F1ZXVlTm90aWNlSXNGb3JDYW1wYWlnbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnRvZ2dsZUFjY291bnRQcmVmZXJlbmNlRmxhZ3MoU3RhY2tPdmVyZmxvdy5Nb2RlbHMuQWNjb3VudFByZWZlcmVuY2VGbGFncy5EaXNtaXNzUmV2aWV3UXVldWVOb3RpY2VDYW1wYWlnbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBoaWRlQWxsOiBoaWRlQWxsLFxuICAgICAgICBoYW5kbGVSZWFsdGltZU1lc3NhZ2U6IGhhbmRsZVJlYWx0aW1lTWVzc2FnZSxcbiAgICAgICAgdG9nZ2xlVW5waW5uZWRMZWZ0TmF2OiB0b2dnbGVVbnBpbm5lZExlZnROYXYsXG4gICAgICAgIFxuICAgICAgICBTZWFyY2hBdXRvQ29tcGxldGU6IFNlYXJjaEF1dG9Db21wbGV0ZVxuICAgIH07XG59KSgpO1xuXG4iLCIvLyBVc2VkIHRvIGRpc3BsYXkgbWVzc2FnZXMgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZS4uXG5TdGFja0V4Y2hhbmdlLm5vdGlmeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG51bU1zZ3MgPSAwO1xuXG4gICAgLy8gcmVtZW1iZXIgdGhlIGRpc21pc3NlZCBtZXNzYWdlcyBpbiBhIGhpZGRlbiA8aW5wdXQ+ICh0aGUgYnJvd3NlciB3aWxsIHJlbWVtYmVyXG4gICAgLy8gY29udGVudHMgb2YgPGlucHV0PnMgd2hlbiBuYXZpZ2F0aW5nIGJhY2sgdG8gdGhlIHBhZ2U7IHRodXMgdGhpcyBpcyBhIHdheSB0b1xuICAgIC8vIHJlbWVtYmVyIHRoZSBhbHJlYWR5LWRpc21pc3NlZCBtZXNzYWdlcyB3aGVuIGdvaW5nIGJhY2spXG4gICAgLy8gVE9ETzogSXMgI2Rpc21pc3NlZC1tZXNzYWdlcyBldmVyIGluIHRoZSBET00/IExvb2tzIGxpa2Ugbm90LiBDb25zaWRlciBudWtpbmcuXG4gICAgZnVuY3Rpb24gc2V0RGlzbWlzc2VkKG1lc3NhZ2VUeXBlSWQsIGlkKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKFwiI2Rpc21pc3NlZC1tZXNzYWdlc1wiKTtcbiAgICAgICAgY29udGFpbmVyLnZhbChjb250YWluZXIudmFsKCkgKyBcIn5cIiArIG1lc3NhZ2VUeXBlSWQgKyAoaWQgPyBcIiBcIiArIGlkIDogXCJcIikgKyBcIn5cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEaXNtaXNzZWQobWVzc2FnZVR5cGVJZCwgaWQpIHtcbiAgICAgICAgdmFyIGRpc21pc3NlZCA9ICQoXCIjZGlzbWlzc2VkLW1lc3NhZ2VzXCIpLnZhbCgpO1xuICAgICAgICBpZiAoIWRpc21pc3NlZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJ+XCIgKyBtZXNzYWdlVHlwZUlkICsgKGlkID8gXCIgXCIgKyBpZCA6IFwiXCIpICsgXCJ+XCIpLnRlc3QoZGlzbWlzc2VkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RUb3BNYXJnaW4ob2xkTnVtYmVyLCBuZXdOdW1iZXIsIGFuaW1hdGUpIHtcbiAgICAgICAgdmFyIG9sZE1hcmdpbiA9IHBhcnNlSW50KCQoXCJib2R5XCIpLmNzcyhcIm1hcmdpbi10b3BcIikubWF0Y2goL1xcZCsvKSk7XG4gICAgICAgIHZhciBuZXdNYXJnaW4gPSBuZXdOdW1iZXIgKiBvbGRNYXJnaW4gLyBvbGROdW1iZXI7XG4gICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICAkKFwiYm9keTpub3QoLm5vLW1lc3NhZ2Utc2xpZGUpLCBib2R5Om5vdCgubm8tbWVzc2FnZS1zbGlkZSkgLmpzLXRvcC1iYXJcIikuYW5pbWF0ZSh7IG1hcmdpblRvcDogbmV3TWFyZ2luICsgXCJweFwiIH0sICdmYXN0JywgJ2xpbmVhcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcImJvZHk6bm90KC5uby1tZXNzYWdlLXNsaWRlKSwgYm9keTpub3QoLm5vLW1lc3NhZ2Utc2xpZGUpIC5qcy10b3AtYmFyXCIpLmNzcyhcIm1hcmdpblRvcFwiLCBuZXdNYXJnaW4gKyBcInB4XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNsb3NlID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlSWQsIGlkKSB7XG4gICAgICAgIHZhciBqSGlkZSA9ICQoXCIjbm90aWZ5LVwiICsgbWVzc2FnZVR5cGVJZCArIChpZCA/IFwiLVwiICsgaWQgOiBcIlwiKSk7XG4gICAgICAgIGlmICghakhpZGUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtZXNzYWdlVHlwZUlkID49IDApIHsgLy8gY2xpZW50LXNpZGUgb25seSBtZXNzYWdlcyB3aWxsIGhhdmUgbmVnYXRpdmUgdHlwZSBpZHNcbiAgICAgICAgICAgICQucG9zdChcIi9tZXNzYWdlcy9tYXJrLWFzLXJlYWRcIiwgeyBcIm1lc3NhZ2V0eXBlaWRcIjogbWVzc2FnZVR5cGVJZCwgXCJpZFwiOiAoaWQgPyBpZCA6IG51bGwpIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0RGlzbWlzc2VkKG1lc3NhZ2VUeXBlSWQsIGlkKTtcbiAgICAgICAgbnVtTXNncy0tO1xuICAgICAgICBqSGlkZS5mYWRlT3V0KFwiZmFzdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhZGp1c3RUb3BNYXJnaW4obnVtTXNncyArIDEsIG51bU1zZ3MsIHRydWUpO1xuICAgICAgICAgICAgakhpZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAoJCgnI25vdGlmeS1jb250YWluZXIgZGl2JykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI25vdGlmeS1jb250YWluZXInKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIGFjdHVhbGx5IGFkZGVkOyBmYWxzZSBpZiBub3QgKGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgZGlzbWlzc2VkIGluIGEgXCJwcmV2aW91cyB2aXNpdFwiIHRvIHRoaXMgcGFnZSlcbiAgICB2YXIgYXBwZW5kTXNnID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgbnVtTXNncysrO1xuXG4gICAgICAgIGlmIChpc0Rpc21pc3NlZChqc29uLm1lc3NhZ2VUeXBlSWQsIGpzb24uaWQpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBpZCA9ICcnO1xuICAgICAgICBpZiAoanNvbi5tZXNzYWdlVHlwZUlkKSB7XG4gICAgICAgICAgICBpZCA9ICcgaWQ9XCJub3RpZnktJyArIGpzb24ubWVzc2FnZVR5cGVJZCArIChqc29uLmlkID8gXCItXCIgKyBqc29uLmlkIDogXCJcIikgKyAnXCInO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGh0bWwgPVxuICAgICAgICAnPGRpdicgKyBpZCArICcgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj4nICtcbiAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cIm5vdGlmeS1jbG9zZVwiPicgK1xuICAgICAgICAgICAgICAgICQoJzxhPiZ0aW1lczs8L2E+JykuYXR0cigndGl0bGUnLCBfcygnZGlzbWlzcyB0aGlzIG5vdGlmaWNhdGlvbicpKS5vdXRlckhUTUwoKSArXG4gICAgICAgICAgICAnPC9zcGFuPicgK1xuICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwibm90aWZ5LXRleHRcIj4nICsganNvbi50ZXh0ICsgJzwvc3Bhbj4nO1xuXG4gICAgICAgIGlmIChqc29uLnNob3dQcm9maWxlKSB7XG4gICAgICAgICAgICB2YXIgdXNlclVybCA9IGVuY29kZVVSSUNvbXBvbmVudChcIi91c2Vycy9cIiArIGpzb24udXNlcklkICsgXCI/dGFiPWJhZGdlcyZzb3J0PXJlY2VudFwiKTtcbiAgICAgICAgICAgIGh0bWwgKz0gJyAnICsgX20oJ1NlZSB5b3VyIFtwcm9maWxlXSgkdXJsJCkuJywgeyB1cmw6ICcvbWVzc2FnZXMvbWFyay1hcy1yZWFkP21lc3NhZ2V0eXBlaWQ9JyArIGpzb24ubWVzc2FnZVR5cGVJZCArICcmcmV0dXJudXJsPScgKyB1c2VyVXJsIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgdmFyIGpEaXYgPSAkKGh0bWwpO1xuXG4gICAgICAgIGlmIChqc29uLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICBqRGl2LmFkZENsYXNzKGpzb24uY3NzQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgakRpdi5maW5kKCcubm90aWZ5LWNsb3NlJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGpzb24uY2xvc2UpIHtcbiAgICAgICAgICAgICAgICBqc29uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZShqc29uLm1lc3NhZ2VUeXBlSWQsIGpzb24uaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI25vdGlmeS1jb250YWluZXJcIikuYXBwZW5kKGpEaXYpO1xuICAgICAgICAkKCcjbm90aWZ5LWNvbnRhaW5lcicpLnNob3coKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBzaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcjbm90aWZ5LWNvbnRhaW5lciBkaXYnKS5mYWRlSW4oJ3Nsb3cnKTtcbiAgICB9O1xuXG4gICAgdmFyIGxvd2VyQm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcImJvZHk6bm90KC5uby1tZXNzYWdlLXNsaWRlKSwgYm9keTpub3QoLm5vLW1lc3NhZ2Utc2xpZGUpIC5qcy10b3AtYmFyXCIpLmFuaW1hdGUoeyBtYXJnaW5Ub3A6IFwiMi41ZW1cIiB9LCAnZmFzdCcsICdsaW5lYXInKTtcbiAgICB9O1xuXG4gICAgdmFyIGFkZFNob3dNb3JlTGluayA9IGZ1bmN0aW9uIChjb3VudCwgb3RoZXJNZXNzYWdlcykge1xuICAgICAgICB2YXIgbGluayA9ICQoJzxkaXYgY2xhc3M9XCJsaW5rLW1vcmVcIj4nKS5hcHBlbmQoJCgnPGE+JykudGV4dChfcygndmlldyAjbnVtTm90aWZpY2F0aW9ucyMgbW9yZSBub3RpZmljYXRpb25zJywgeyBudW1Ob3RpZmljYXRpb25zOiBjb3VudCB9KSkpO1xuICAgICAgICAkKCcjbm90aWZ5LWNvbnRhaW5lcicpLmFwcGVuZChsaW5rKTtcblxuICAgICAgICBsaW5rLmNsaWNrKFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxpbmsuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlck1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZE1zZyhvdGhlck1lc3NhZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNob3dNZXNzYWdlczogZnVuY3Rpb24gKGpzb25Nc2dBcnJheSkge1xuICAgICAgICAgICAgdmFyIG51bUFkZGVkID0gMDtcbiAgICAgICAgICAgIHZhciBvbGRDb3VudCA9IG51bU1zZ3M7XG5cbiAgICAgICAgICAgIHZhciBtYXhTaG93Q291bnQgPSBqc29uTXNnQXJyYXkubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFNob3dDb3VudCAmJiBpIDwganNvbk1zZ0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZE1zZyhqc29uTXNnQXJyYXlbaV0pKVxuICAgICAgICAgICAgICAgICAgICBudW1BZGRlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRqdXN0VG9wTWFyZ2luKG9sZENvdW50LCBudW1BZGRlZCwgZmFsc2UpOyAvLyB0aGUgdmlldyBzZXQgdGhlIG1hcmdpbiBmb3IgbnVtTXNncyBtZXNzYWdlcywgYnV0IHdlIChvbmx5KSBhZGRlZCBudW1BZGRlZFxuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uIChodG1sLCBtZXNzYWdlVHlwZUlkLCBjc3NDbGFzcykge1xuICAgICAgICAgICAgbG93ZXJCb2R5KCk7XG4gICAgICAgICAgICBhcHBlbmRNc2coeyB0ZXh0OiBodG1sLCBtZXNzYWdlVHlwZUlkOiBtZXNzYWdlVHlwZUlkLCBjc3NDbGFzczogY3NzQ2xhc3MgfSk7XG4gICAgICAgICAgICBzaG93KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGNsb3NlLFxuXG4gICAgICAgIGdldE1lc3NhZ2VUZXh0OiBmdW5jdGlvbiAobm90aWZ5TWVzc2FnZVR5cGVJZCkge1xuICAgICAgICAgICAgcmV0dXJuICQoJyNub3RpZnktJyArIG5vdGlmeU1lc3NhZ2VUeXBlSWQgKyAnIC5ub3RpZnktdGV4dCcpLnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG59KSgpOyIsIi8vIGFzc3VtZXMgYSA8ZGl2IGlkPVwic2Nyb2xsZXItYW5jaG9yXCI+IGFuZCA8ZGl2IGlkPVwic2Nyb2xsZXJcIj4gZXhpc3Rcbi8vIHNob3VsZCBiZSBjYWxsZWQgb24gZG9jdW1lbnQgcmVhZHlcbndpbmRvdy5tb3ZlU2Nyb2xsZXIgPSBmdW5jdGlvbiBtb3ZlU2Nyb2xsZXIoKSB7XG5cbiAgICB2YXIgd2lkdGggPSAkKCcjc2Nyb2xsZXInKS53aWR0aCgpO1xuXG4gICAgdmFyIG1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbmFibGVkID0gU3RhY2tFeGNoYW5nZS5yZXNwb25zaXZlLmN1cnJlbnRSYW5nZSgpID09PSBcImxnXCI7IC8vIHRoZSBzaWRlYmFyIGlzIG5vIGxvbmdlciBhIHNpZGViYXIgYXQgc21hbGxlciB3aWR0aHNcbiAgICAgICAgdmFyIHN0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgb3QgPSAkKCcjc2Nyb2xsZXItYW5jaG9yJykub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgcyA9ICQoJyNzY3JvbGxlcicpO1xuICAgICAgICB2YXIgdG9wT2Zmc2V0ID0gU3RhY2tFeGNoYW5nZS5zY3JvbGxQYWRkaW5nLmdldFBhZGRpbmdUb3AoKTtcbiAgICAgICAgdmFyIGNzc1RvcCA9IHRvcE9mZnNldCArIFwicHhcIjtcbiAgICAgICAgaWYgKGVuYWJsZWQgJiYgc3QgPiBvdCkgeyBcbiAgICAgICAgICAgIGlmIChzLmhlaWdodCgpID4gJCh3aW5kb3cpLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgcy5jc3MoeyAncG9zaXRpb24nOiAnZml4ZWQnLCAndG9wJzogJycsICdib3R0b20nOiAnMCcsICd3aWR0aCc6IHdpZHRoLCAnei1pbmRleCc6IDMgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMuY3NzKHsgJ3Bvc2l0aW9uJzogJ2ZpeGVkJywgJ3RvcCc6IGNzc1RvcCwgJ2JvdHRvbSc6ICcnLCAnd2lkdGgnOiB3aWR0aCwgJ3otaW5kZXgnOiAzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcy5jc3MoeyAncG9zaXRpb24nOiAncmVsYXRpdmUnLCAndG9wJzogJycsICdib3R0b20nOiAnJywgd2lkdGg6ICcnIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdGFja0V4Y2hhbmdlLnJlc3BvbnNpdmUuYWRkQnJlYWtwb2ludExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gd2hlbiBjcm9zc2luZyBicmVha3BvaW50cywgcmVtZWFzdXJlIHRoZSBuYXR1cmFsIHdpZHRoIG9mIHRoZSBzY3JvbGxlciAoZS5nLiBvbiB0aGUgYXNrIHBhZ2UsIHRoZSBzaWRlYmFyIGlzXG4gICAgICAgIC8vIHdpZGVyIHdoZW4gaXQncyBhbiBhY3R1YWwgc2lkZWJhciB2cy4gd2hlbiBpdCBkcm9wcyB0byB0aGUgYm90dG9tKVxuICAgICAgICB2YXIgcyA9ICQoJyNzY3JvbGxlcicpO1xuICAgICAgICB2YXIgaW5saW5lV2lkdGggPSBzWzBdLnN0eWxlLndpZHRoOyAvLyBqUXVlcnkncyAuY3NzKCkgZG9lc24ndCBuZWNlc3NhcmlseSBnaXZlIHlvdSB0aGUgaW5saW5lIHN0eWxlXG4gICAgICAgIHZhciBpbmxpbmVQb3NpdGlvbiA9IHNbMF0uc3R5bGUucG9zaXRpb247XG4gICAgICAgIHMuY3NzKHtwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcnfSk7XG4gICAgICAgIHdpZHRoID0gcy53aWR0aCgpO1xuICAgICAgICBzLmNzcyh7cG9zaXRpb246IGlubGluZVBvc2l0aW9uLCB3aWR0aDogaW5saW5lV2lkdGh9KTtcbiAgICAgICAgXG4gICAgICAgIG1vdmUoKTtcbiAgICB9KTtcblxuICAgICQod2luZG93KS5zY3JvbGwobW92ZSkucmVzaXplKG1vdmUpO1xuICAgIG1vdmUoKTtcbn1cblxuIiwiLy8gSW4gdGhlIGxvbmcgcnVuLCB3ZSBwcm9iYWJseSB3YW50IHRoaXMgdG8gbW9yZSBleHBsaWNpdGx5IGtub3cgd2hldGhlciB0aGUgY3VycmVudCBzaXRlIGhhcyBzeW50YXhcbi8vIGhpZ2hsaWdodGluZyBvciBub3QuIEl0IGRvZXMsIGhvd2V2ZXIsIGRvIHRoZSByaWdodCB0aGluZyBhdCB0aGUgbW9tZW50OiBJZiB0aGUgaGlkZGVuIGNvZGVibG9ja0xhbmcgZGl2XG4vLyBpc24ndCBwcmVzZW50LCBub3IgaXMgdGhlIGNsYXNzIFwicHJldHR5cHJpbnQtb3ZlcnJpZGVcIiwgdGhlbiBobGpzIGlzIG5ldmVyIGxvYWRlZC5cbndpbmRvdy5zdHlsZUNvZGUgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVmYXVsdCBsYW5ndWFnZSBmb3IgY29kZSBibG9ja3MgdmlhIHRoZSBIdG1sVXRpbC5Db2RlYmxvY2tMYW5nRGl2IHRoYXQgaXMgc2V0XG4gICAgICogYmFzZWQgb24gd2hldGhlciB0aGUgcG9zdCBoYXMgYSBkZWZhdWx0IGxhbmd1YWdlIG92ZXJyaWRlLCBmcm9tIGVpdGhlcjpcbiAgICAgKiBhIHRhZyAoZS5nLiBweXRob24sIGxhbmd1YWdlIHNldCB0byBcInB5XCIpIE9SIHRoZSBTaXRlLlN0eWxlQ29kZURlZmF1bHRMYW5nIHNldHRpbmdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREZWZhdWx0Q29kZWJsb2NrTGFuZ3VhZ2VPdmVycmlkZSgpIHtcbiAgICAgICAgLy8gcHVsbCBsYW5nIGZyb20gaGlkZGVuIGRpdiByZW5kZXJlZCBzZXJ2ZXIgc2lkZSB2aWEgQEh0bWxVdGlsLkNvZGVibG9ja0xhbmdEaXYgY2FsbFxuICAgICAgICByZXR1cm4gJCgnI2pzLWNvZGVibG9jay1sYW5nJykudGV4dCgpIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3R5bGVzIGFsbCBgcHJlIGNvZGVgIGNvZGUgYmxvY2tzIHVzaW5nIHRoZSBkZWZhdWx0IHN5bnRheCBoaWdobGlnaHRlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0eWxlQ29kZUJsb2NrcygpIHtcbiAgICAgICAgLy8gaWYganRhYiBpcyBwcmVzZW50IChndWl0YXIgdGFiIHN1cHBvcnQpLCBkb24ndCBjb2xvciBhbnkgY29kZSBibG9ja3NcbiAgICAgICAgaWYgKHR5cGVvZiBqdGFiICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBqdGFiLnJlbmRlcmltcGxpY2l0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGlmIHdlIG5lZWQgdG8gZXZlbiBuZWVkIHRvIGxvYWQgdGhlIHN5bnRheGhpZ2hsaWdodGVyXG4gICAgICAgIHZhciBkZXRlY3RlZENvZGVCbG9jayA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGNoZWNrIGV2ZXJ5IGBwcmUgY29kZWAgYmxvY2sgKGluIGEgcG9zdCBvciBlZGl0b3IgcHJldmlldykgYW5kIHNldCB0aGUgbGFuZ3VhZ2UgY2xhc3NlcyBhcyBuZWVkZWRcbiAgICAgICAgJChcIi5qcy1wb3N0LWJvZHkgcHJlIGNvZGUsIC5qcy13bWQtcHJldmlldyBwcmUgY29kZSwgLmpzLW1kLXByZXZpZXcgcHJlIGNvZGUsIC5qcy1zdHlsZS1jb2RlIHByZSBjb2RlXCIpLnBhcmVudCgpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvLyBleHBsaWNpdGx5IHNwZWNpZnkgdGhlIGNsYXNzZXMgd2UncmUgdXNpbmcgaW4gb25lIHNwb3QgZm9yIHJldXNlXG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0Q2xhc3MgPSBcInMtY29kZS1ibG9ja1wiO1xuICAgICAgICAgICAgLy8gVE9ETyBjYW4ndCBjaGFuZ2UgdG8gYGNvZGVibG9jay1vdmVycmlkZWAgd2l0aG91dCByZWJha2luZyBwb3N0cy4uLlxuICAgICAgICAgICAgdmFyIG92ZXJyaWRlQ2xhc3MgPSBcInByZXR0eXByaW50LW92ZXJyaWRlXCI7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgYmxvY2sgaGFzIGEgc3BlY2lmaWNhbGx5IG92ZXJyaWRkZW4gbGFuZ3VhZ2UsIHVzZSBpdFxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3Mob3ZlcnJpZGVDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKG92ZXJyaWRlQ2xhc3MpLmFkZENsYXNzKGhpZ2hsaWdodENsYXNzKTtcbiAgICAgICAgICAgICAgICBkZXRlY3RlZENvZGVCbG9jayA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNwZWNpZmljIGxhbmd1YWdlIHNldCwgdHJ5IHRvIHVzZSB0aGUgc2V0IGRlZmF1bHQgY2xhc3NcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhoaWdobGlnaHRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdExhbmcgPSBnZXREZWZhdWx0Q29kZWJsb2NrTGFuZ3VhZ2VPdmVycmlkZSgpO1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0TGFuZykge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoZGVmYXVsdExhbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoaGlnaGxpZ2h0Q2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RlZENvZGVCbG9jayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBcbiAgICAgICAgLy8gaWYgd2UgZGV0ZWN0ZWQgYW55IGNvZGUgYmxvY2tzIHRoYXQgbmVlZCBzdHlsaW5nLCBpbml0IG91ciBoaWdobGlnaHRlclxuICAgICAgICBpZiAoZGV0ZWN0ZWRDb2RlQmxvY2spIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJoaWdobGlnaHRqc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaGlnaGxpZ2h0anMuaW5pdEhpZ2hsaWdodGluZyBoaWdobGlnaHRzIGFsbCBgcHJlIGNvZGVgcyBieSBkZWZhdWx0IGFuZCByZXF1aXJlcyB0aGUgbGFuZyBjbGFzcyB0byBiZSBvbiB0aGUgYGNvZGVgIGJsb2NrLlxuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byBoaWdobGlnaHQgb3VyIGBwcmUucy1jb2RlLWJsb2NrYHMgc3BlY2lmaWNhbGx5IGFuZCBvdXIgbGFuZyBjbGFzcyBpcyBvbiB0aGUgYHByZWAgYmxvY2suXG4gICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGVhY2ggb2YgdGhlc2UgbWFudWFsbHkgd2hpbGUgc2tpcHBpbmcgYWxyZWFkeSBoaWdobGlnaHRlZCBibG9ja3Mgd2l0aCB0aGUgYWRkZWQgaGxqcyBjbGFzc1xuICAgICAgICAgICAgICAgICQoXCJwcmUucy1jb2RlLWJsb2NrIGNvZGU6bm90KC5obGpzKVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBFeGNsdWRlIGNvZGUgYmxvY2tzIHRoYXQgYXJlIGRpcmVjdCBkZXNjZW5kZW50cyBvZiB0aGUgc3RhY2tzIGVkaXRvciBjb250ZW50ZWRpdGFibGUgZGl2XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnBhcmVudHMoJy5qcy1lZGl0b3InKS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGlnaGxpZ2h0anMuaW5zdGFuY2UuaGlnaGxpZ2h0RWxlbWVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBNYXRoSmF4ICE9ICd1bmRlZmluZWQnKSBNYXRoSmF4Lkh1Yi5RdWV1ZShbXCJUeXBlc2V0XCIsIE1hdGhKYXguSHViXSk7XG5cbiAgICAgICAgLy8gU25pcHBldCByZWRyYXdcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5pZlVzaW5nKFwic25pcHBldHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uuc25pcHBldHMucmVkcmF3KSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5zbmlwcGV0cy5yZWRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc3R5bGUgYWxsIGBwcmUgY29kZWAgYmxvY2tzXG4gICAgICAgIHN0eWxlQ29kZUJsb2NrcygpO1xuXG4gICAgICAgIC8vIEhBQ0s6IGkgcHV0IHRoaXMgaGVyZSBiZWNhdXNlIHN0eWxlQ29kZSBpcyBhbHJlYWR5IGNhbGxlZCBldmVyeXdoZXJlIHRoaXMgc3BvaWxlciBjbGljayB3b3VsZCBuZWVkIHRvIGJlLCB0b29cbiAgICAgICAgLy8gaWYgb25seSB0aGVyZSB3YXMgYW4gXCJvbiBwb3N0IGJvZHkgc2hvd25cIiBldmVudCB0aGF0IHdlIGNvdWxkIGFsbCB0aWUgaW50b1xuXG4gICAgICAgIC8vIGFsbG93IGFwcGxlIHRhYmxldHMgdG8gdG91Y2ggYSBzcG9pbGVyIHRvIHNob3dcblxuICAgICAgICBzdHlsZUNvZGUuaW5pdGlhbGl6ZVNwb2lsZXJzKCk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEluaXRpYWxpemVzIGFsbCBzcG9pbGVycyBvbiBhIHBhZ2UgYnkgYWRkaW5nIHRoZSB0cmFuc2xhdGVkIGBSZXZlYWwgc3BvaWxlcmAgYmFkZ2UsIGFsb25nIHdpdGggdmlzdWFsIHVudmVpbGluZyBjbGljayBldmVudHM7XG4gKiBUaGlzIGRvZXMgKm5vdCogbmVlZCB0byBiZSBjYWxsZWQgYW55d2hlcmUgdGhhdCBgc3R5bGVDb2RlKClgIGlzIGFscmVhZHkgY2FsbGVkXG4gKiBOT1RFOiBUaGlzIGlzIHNhZmUgdG8gY2FsbCByZXBlYXRlZGx5IChmb3IgZS5nLiByZWZyZXNoaW5nIHBvc3QgcHJldmlld3MpIC0gbXVsdGlwbGUgY2xpY2sgaGFuZGxlcnMgYXJlIG5vdCByZWJvdW5kXG4gKi9cbnN0eWxlQ29kZS5pbml0aWFsaXplU3BvaWxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChcImJvZHlcIilcbiAgICAgICAgLm9mZihcImNsaWNrLnNwb2lsZXJzXCIsIFwiLnNwb2lsZXJcIilcbiAgICAgICAgLm9uKFwiY2xpY2suc3BvaWxlcnNcIiwgXCIuc3BvaWxlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgLy8gb25seSBpbnRlcmNlcHQgdGhlIGNsaWNrIGlmOlxuICAgICAgICAgICAgLy8gKiB0aGUgdGFyZ2V0IGlzIHRoZSBzcG9pbGVyIGl0c2VsZiAobm90IGEgbGluayBvciBvdGhlciBjaGlsZCBlbGVtZW50KVxuICAgICAgICAgICAgLy8gKiB0aGUgc3BvaWxlciBpcyBub3QgYWxyZWFkeSBzaG93biAod2lsbCBub3QgcmUtaGlkZSBvbiBjbGljaylcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzcG9pbGVyXCIpICYmICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy12aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImlzLXZpc2libGVcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgJChcIi5zcG9pbGVyOm5vdChbZGF0YS1zcG9pbGVyXSlcIikuYXR0cihcImRhdGEtc3BvaWxlclwiLCBfcyhcIlJldmVhbCBzcG9pbGVyXCIpKTtcbn07XG5cbi8qKlxuICogQWRkcyBhbiBgb25QcmV2aWV3UmVmcmVzaGAgaG9vayB0byB0aGUgbWFya2Rvd24gZWRpdG9yIHRvIGluaXRpYWxpemUgc3BvaWxlcnMgb24gcHJldmlldyByZWZyZXNoXG4gKiBUaGlzIG5lZWRzIHRvIGJlIGNhbGxlZCAqYmVmb3JlKiBlZGl0b3IuaW5pdC8uaW5pdElmU2hvd25cbiAqIE5PVEU6IHRoaXMgaXMgKm5vdCogbmVlZGVkIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBob29rIHRvIGNhbGwgc3R5bGVDb2RlIG9uIHJlZnJlc2hcbiAqL1xuc3R5bGVDb2RlLnVwZGF0ZVNwb2lsZXJzT25QcmV2aWV3UmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIVN0YWNrRXhjaGFuZ2UuTWFya2Rvd25FZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGhvb2sgaW50byB0aGUgZWRpdG9yIHByZXZpZXcgcmVuZGVyZXIgc28gd2UgY2FuIGluaXRpYWxpemUgbmV3bHkgY3JlYXRlZCBzcG9pbGVycyBvbiByZWZyZXNoXG4gICAgU3RhY2tFeGNoYW5nZS5NYXJrZG93bkVkaXRvci5jcmVhdGlvbkNhbGxiYWNrcy5hZGQoZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICBlZGl0b3IuaG9va3MuY2hhaW4oXCJvblByZXZpZXdSZWZyZXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0eWxlQ29kZS5pbml0aWFsaXplU3BvaWxlcnMoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5zdHlsZUNvZGUudXBkYXRlTGFuZ2RpdkRlbGF5ZWQgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuRGVsYXllZFJlYWN0aW9uKGZ1bmN0aW9uICh0YWdzKSB7XG4gICAgdmFyIGxhbmdkaXYgPSAkKCcjanMtY29kZWJsb2NrLWxhbmcnKTtcbiAgICBpZiAoIWxhbmdkaXYubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG5cbiAgICAkLmdldChcIi9hcGkvdGFncy9sYW5nZGl2XCIsIHsgdGFnczogdGFncy5qb2luKFwiIFwiKSB9KVxuICAgICAgICAuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgICAgIGxhbmdkaXYucmVwbGFjZVdpdGgocmVzdWx0KVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxhbmdkaXYuZW1wdHkoKTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuTWFya2Rvd25FZGl0b3IucmVmcmVzaEFsbFByZXZpZXdzKCk7XG4gICAgICAgICAgICBzdHlsZUNvZGUoKTtcbiAgICAgICAgfSk7XG59LCAxNTAwLCB7IHNsaWRpbmc6IHRydWUgfSk7XG4iLCIvLyBTdGFja0V4Y2hhbmdlLnRhZ21lbnUuaW5pdCBjYW4gc2FmZWx5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4gSWYgYW4gYXJndW1lbnQgaXMgZ2l2ZW4sIGl0XG4vLyBzaG91bGQgYmUgYSBmdW5jdGlvbiB0YWtpbmcgdHdvIGFyZ3VtZW50czsgYSBqUXVlcnkgb2JqZWN0ICh0aGUgYWN0dWFsIHRhZyBtZW51KSBhbmQgdGhlXG4vLyBuYW1lIG9mIHRoZSB0YWcuIFRoaXMgZnVuY3Rpb24gaXMgdGhlbiBjYWxsZWQgb24gbG9hZC4gQ2FsbGluZyBpbml0IGFnYWluIG92ZXJ3cml0ZXMgdGhlXG4vLyBwcmV2aW91c2x5IGdpdmVuIGNhbGxiYWNrLlxuU3RhY2tFeGNoYW5nZS50YWdtZW51ID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgc2VsZWN0b3I6IFwiLnBvc3QtdGFnOm5vdCgudXNlci10YWcsLm5vLXRhZy1tZW51LC5pbnZhbGlkLXRhZywuam9iLWxpbmspLCAuanMtaG92ZXJhYmxlLXBvc3QtdGFnXCIsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0YWctcG9wdXAnLFxuICAgICAgICAgICAgZ2V0VXJsOiBzdWZmaXhlZEdldFVybCgnL3BvcHVwJyksXG4gICAgICAgICAgICBzaG93aW5nOiBzaG93aW5nUG9wdXAsXG4gICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgdW5jbGlwcGVkOiB0cnVlLFxuICAgICAgICAgICAgcmVuZGVySW5saW5lOiB0cnVlLFxuICAgICAgICB9O1xuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5NYWdpY1BvcHVwKG9wdGlvbnMpOyAvL1RPRE86IE1hZ2ljUG9wdXAgbm93IGhhcyBhIG1vZHVsZSBcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGluaXQsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHN1ZmZpeGVkR2V0VXJsKHN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgdmFyIHVybCA9IGdldFVybChlbGVtKTtcbiAgICAgICAgICAgIHJldHVybiB1cmwgIT09IG51bGwgPyB1cmwgKyBzdWZmaXggOiB1cmw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRVcmwoZWxlbSkge1xuICAgICAgICB2YXIgJHRhZyA9ICQoZWxlbSk7XG4gICAgICAgIGlmICgkdGFnLmNsb3Nlc3QoJy5taXhlZC1zaXRlLWNvbnRlbnQsIC5qcy1wb3N0LWJvZHksIC5qcy10YWctcHJlZmVyZW5jZXMtY29udGFpbmVyJykubGVuZ3RoKSByZXR1cm4gbnVsbDsgLy8gbm90IGZvciBtaXhlZC1tb2RlIGNoYW5uZWxzIGNvbnRlbnQsIHBvc3QgYm9kaWVzIG9yIHNpZGViYXJcbiAgICAgICAgdmFyIHRhZ3VybCA9ICR0YWcuYXR0cihcImhyZWZcIik7XG4gICAgICAgIHZhciBmb3JjZWRUYWdOYW1lID0gJHRhZy5kYXRhKFwidGFnLW1lbnUtdGFnbmFtZVwiKTtcbiAgICAgICAgaWYgKGZvcmNlZFRhZ05hbWUpIGZvcmNlZFRhZ05hbWUgPSBmb3JjZWRUYWdOYW1lLnRvU3RyaW5nKCk7IC8vIGNhbiBiZSBhbiBpbnRlZ2VyIChjaGFubmVscylcblxuICAgICAgICAvLyBubyBsaW5rLCBvciBub3QgYSB0YWcgb24gKnRoaXMqIHNpdGUgKHByb2JhYmx5IGEgcGFyZW50LXNpdGUgdGFnIHBvc3RlZCBvbiBhIG1ldGEpXG4gICAgICAgIGlmICghZm9yY2VkVGFnTmFtZSAmJiAoIXRhZ3VybCB8fCB0YWd1cmwuY2hhckF0KDApICE9PSBcIi9cIikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRhZ05hbWUgPSBmb3JjZWRUYWdOYW1lIHx8ICR0YWcudGV4dCgpO1xuXG4gICAgICAgIGlmICh0YWdOYW1lLmluZGV4T2YoXCIqXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRhZy5hdHRyKFwidGl0bGVcIiwgXCJcIik7XG5cbiAgICAgICAgLy8gT24gY2hhbm5lbHMgcGFnZXMsICcvJyByZXNvbHZlcyB0byB0aGUgY2hhbm5lbCByb290IGluIGFqYXguXG4gICAgICAgIHJldHVybiAnL3RhZ3MvJyArIGVuY29kZVVSSUNvbXBvbmVudCh0YWdOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93aW5nUG9wdXAoZWxlbSwgJHBvcHVwKSB7XG5cbiAgICAgICAgdmFyICR0YWcgPSAkKGVsZW0pLFxuICAgICAgICAgICAgJHdpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgICRhcnJvdyA9ICRwb3B1cC5maW5kKCcuanMtc291cmNlLWFycm93JyksXG4gICAgICAgICAgICAkbGVmdFNpZGViYXIgPSAkKCcubGVmdC1zaWRlYmFyOnZpc2libGUnKSxcbiAgICAgICAgICAgIHRhZ09mZnNldCA9ICR0YWcucG9zaXRpb24oKSxcbiAgICAgICAgICAgIHRhZ0hlaWdodCA9ICR0YWcub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIHRhZ0NlbnRlciA9IHRhZ09mZnNldC5sZWZ0ICsgKCR0YWcub3V0ZXJXaWR0aCgpIC8gMiksXG4gICAgICAgICAgICB3aWR0aCA9ICRwb3B1cC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQgPSAkcG9wdXAub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHsgbGVmdDogdGFnQ2VudGVyIC0gKHdpZHRoIC8gMikgfSxcbiAgICAgICAgICAgIHRvcCA9IHRhZ09mZnNldC50b3AgKyB0YWdIZWlnaHQsXG4gICAgICAgICAgICBvblNjcmVlblRvcCA9ICR3aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBvblNjcmVlbkJvdHRvbSA9IG9uU2NyZWVuVG9wICsgJHdpbmRvdy5oZWlnaHQoKSArIC0gU3RhY2tFeGNoYW5nZS5zY3JvbGxQYWRkaW5nLmdldFBhZGRpbmdUb3AoKSxcbiAgICAgICAgICAgIHRhZ1BhcmVudEFic29sdXRlT2Zmc2V0ID0gJHRhZy5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0YWdQYXJlbnRBYnNvbHV0ZU9mZnNldC50b3AgKyB0b3AgKyBoZWlnaHQgPiBvblNjcmVlbkJvdHRvbSAvLyBXaGVuIHBsYWNlZCBiZWxvdywgdGhlIHBvcHVwIHdpbGwgZXh0ZW5kIHBhc3QgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuXG4gICAgICAgICAgICAmJiB0YWdQYXJlbnRBYnNvbHV0ZU9mZnNldC50b3AgKyB0YWdPZmZzZXQudG9wIC0gKGhlaWdodCArIDgpID4gb25TY3JlZW5Ub3AgLy8gQW5kIHdoZW4gcGxhY2VkIGFib3ZlLCB0aGUgcG9wdXAgZG9lc24ndCBleHRlbmQgcGFzdCB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHNjcmVlblxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFNob3cgYWJvdmVcbiAgICAgICAgICAgIHJlc3VsdC5ib3R0b20gPSAkdGFnLm9mZnNldFBhcmVudCgpLm91dGVySGVpZ2h0KHRydWUpIC0gdGFnT2Zmc2V0LnRvcCAtICh0YWdIZWlnaHQgLyAyKTsgXG4gICAgICAgICAgICAkYXJyb3cuYWRkQ2xhc3MoJy1ib3R0b20nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNob3cgYmVsb3dcbiAgICAgICAgICAgIHJlc3VsdC50b3AgPSB0b3A7XG4gICAgICAgICAgICAkYXJyb3cuYWRkQ2xhc3MoJy10b3AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5MZWZ0RWRnZSA9ICRsZWZ0U2lkZWJhci5sZW5ndGggPiAwID8gJGxlZnRTaWRlYmFyLm9mZnNldCgpLmxlZnQgKyAkbGVmdFNpZGViYXIub3V0ZXJXaWR0aCgpIDogMDtcbiAgICAgICAgdmFyIG1heFJpZ2h0RWRnZSA9ICR3aW5kb3cud2lkdGgoKTtcblxuICAgICAgICBpZiAodGFnUGFyZW50QWJzb2x1dGVPZmZzZXQubGVmdCArIHJlc3VsdC5sZWZ0ICsgd2lkdGggPiBtYXhSaWdodEVkZ2UpIHsgLy8gbWluaW11bSBzdXBwb3J0ZWQgc2NyZWVuIHdpZHRoXG4gICAgICAgICAgICByZXN1bHQubGVmdCAtPSAodGFnUGFyZW50QWJzb2x1dGVPZmZzZXQubGVmdCArIHJlc3VsdC5sZWZ0ICsgd2lkdGgpIC0gbWF4UmlnaHRFZGdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhZ1BhcmVudEFic29sdXRlT2Zmc2V0LmxlZnQgKyByZXN1bHQubGVmdCA8IG1pbkxlZnRFZGdlKSB7IC8vIG1heCBzdXBwb3J0ZWQgc2NyZWVuIHdpZHRoXG4gICAgICAgICAgICByZXN1bHQubGVmdCA9IG1pbkxlZnRFZGdlIC0gdGFnUGFyZW50QWJzb2x1dGVPZmZzZXQubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJvd09mZnNldCA9IHRhZ0NlbnRlciAtIChyZXN1bHQubGVmdCArICh3aWR0aCAvIDIpKTtcbiAgICAgICAgJGFycm93LmNzcygnbWFyZ2luLWxlZnQnLCBhcnJvd09mZnNldCArICdweCcpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufSkoKTtcbiIsIlN0YWNrRXhjaGFuZ2UudXNlcm1lbnUgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGluaXRpYWxpemVkLFxuICAgICAgICBncmF2YXRhckNsb25lLFxuICAgICAgICB2aXNpYmxlLFxuICAgICAgICBpc093bjtcblxuICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmIChpbml0aWFsaXplZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vVE9ETzogTWFnaWNQb3B1cCBub3cgaGFzIGEgbW9kdWxlIFxuICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuTWFnaWNQb3B1cCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogXCIudXNlci1ob3ZlciAudXNlci1ncmF2YXRhcjQ4LCAudXNlci1ob3ZlciAudXNlci1ncmF2YXRhcjMyLCAuanMtdXNlci1ob3Zlci10YXJnZXRcIixcbiAgICAgICAgICAgIHByZWRpY2F0ZTogZnVuY3Rpb24gKGVsKSB7IHJldHVybiAhJChlbCkuY2xvc2VzdCgnLm1peGVkLXNpdGUtY29udGVudCcpLmxlbmd0aDt9LFxuICAgICAgICAgICAgZ2V0VXJsOiBnZXRVcmwsXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgIGlkOiBcInVzZXItbWVudVwiLFxuICAgICAgICAgICAgc2hvd2luZzogc2hvd2luZyxcbiAgICAgICAgICAgIHNob3duOiBzaG93bixcbiAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICAgICAgICByZW5kZXJJbmxpbmU6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGdldFVybChlbGVtKSB7XG4gICAgICAgICAgICB2YXIgakVsZW0gPSAkKGVsZW0pO1xuICAgICAgICAgICAgdmFyIHVzZXJJZDtcblxuICAgICAgICAgICAgaWYgKGpFbGVtLmlzKFwiLmpzLXVzZXItaG92ZXItdGFyZ2V0XCIpKSB7XG4gICAgICAgICAgICAgICAgdXNlcklkID0gcGFyc2VJbnQoakVsZW0uZGF0YShcInVzZXJJZFwiKSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGpFbGVtLmNsb3Nlc3QoXCIudXNlci1ob3ZlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgdXNlclVybCA9IGNvbnRhaW5lci5maW5kKFwiLnVzZXItZGV0YWlscyBhXCIpLmF0dHIoXCJocmVmXCIpLFxuICAgICAgICAgICAgICAgICAgICB1c2VyUmVnID0gbmV3IFJlZ0V4cChcIi91c2Vycy8oW14vXSspLiokXCIpLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHVzZXJSZWcuZXhlYyh1c2VyVXJsKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgdXNlcklkID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgICAgICBpc093biA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc093biA9IHVzZXJJZCA9PT0gU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIudXNlcklkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gXCIvdXNlcnMvdXNlci1pbmZvL1wiICsgdXNlcklkO1xuICAgICAgICB9XG5cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGluaXRcbiAgICB9O1xuICAgIFxuICAgIGZ1bmN0aW9uIHNob3dpbmcoZWxlbSwgak1lbnUpIHtcbiAgICAgICAgbGV0IGpFbGVtID0gJChlbGVtKSxcbiAgICAgICAgICAgIGpHcmF2YXRhciA9IGpFbGVtLmZpbmQoXCJpbWc6bGFzdFwiKSxcbiAgICAgICAgICAgIGVsZW1lbnRQb3NpdGlvbiA9IGpFbGVtLnBvc2l0aW9uKCksXG4gICAgICAgICAgICBncmF2YXRhck9mZnNldCA9IGpHcmF2YXRhci5vZmZzZXQoKSxcbiAgICAgICAgICAgIGdyYXZhdGFySGVpZ2h0ID0gakdyYXZhdGFyLmhlaWdodCgpLCAvLyBzdHVwaWQgbm9uLXNxdWFyZSBhdmF0YXJzXG4gICAgICAgICAgICBncmF2YXRhcldpZHRoID0gakdyYXZhdGFyLndpZHRoKCksXG4gICAgICAgICAgICBtYXhEaW1lbnNpb24gPSBNYXRoLm1heChncmF2YXRhcldpZHRoLCBncmF2YXRhckhlaWdodCksXG4gICAgICAgICAgICBsYXJnZUhlaWdodCA9IDY0ICogZ3JhdmF0YXJIZWlnaHQgLyBtYXhEaW1lbnNpb24sXG4gICAgICAgICAgICBsYXJnZVdpZHRoID0gIDY0ICogZ3JhdmF0YXJXaWR0aCAvIG1heERpbWVuc2lvbixcbiAgICAgICAgICAgIGxhcmdlR3JhdmF0YXIgPSBqTWVudS5maW5kKFwiaW1nOmZpcnN0XCIpLmNzcyh7d2lkdGg6IGxhcmdlV2lkdGggLCBoZWlnaHQ6IGxhcmdlSGVpZ2h0fSksXG4gICAgICAgICAgICBhbm9ueW1vdXNHcmF2YXRhciA9IGpNZW51LmZpbmQoXCIuYW5vbnltb3VzLWdyYXZhdGFyXCIpO1xuXG4gICAgICAgIGxldCBsYXJnZUdyYXZhdGFyT2Zmc2V0ID0gbGFyZ2VHcmF2YXRhci5vZmZzZXQoKSA/PyBhbm9ueW1vdXNHcmF2YXRhci5vZmZzZXQoKTtcbiAgICAgICAgbGV0IGxhcmdlR3JhdmF0YXJQb3NpdGlvbiA9IGxhcmdlR3JhdmF0YXIucG9zaXRpb24oKSA/PyBhbm9ueW1vdXNHcmF2YXRhci5wb3NpdGlvbigpO1xuXG4gICAgICAgIGxhcmdlR3JhdmF0YXIuY3NzKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgbGFyZ2VHcmF2YXRhci5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuXG4gICAgICAgIGxldCBvdmVyZmxvdyA9IDA7XG4gICAgICAgIGlmIChsYXJnZUdyYXZhdGFyLmxlbmd0aCkge1xuICAgICAgICAgICAgZ3JhdmF0YXJDbG9uZSA9IGpHcmF2YXRhci5jbG9uZSgpLmNzcyh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDMsXG4gICAgICAgICAgICAgICAgbGVmdDogbGFyZ2VHcmF2YXRhclBvc2l0aW9uLmxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiBsYXJnZUdyYXZhdGFyUG9zaXRpb24udG9wLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBncmF2YXRhcldpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZ3JhdmF0YXJIZWlnaHRcbiAgICAgICAgICAgIH0pLmFwcGVuZFRvKGpNZW51Lm9mZnNldFBhcmVudCgpKTtcblxuICAgICAgICAgICAgbGV0IGNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghbGFyZ2VHcmF2YXRhclswXS5jb21wbGV0ZSkgeyAvLyBvbmx5IGZhZGUgYWZ0ZXIgdGhlIDY0eDY0IGhhcyBsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChjaGVjaywgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXJnZUdyYXZhdGFyLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIGdyYXZhdGFyQ2xvbmU/LmZhZGVPdXRBbmRSZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3ZlcmZsb3cgPSBNYXRoLm1heCgwLCBncmF2YXRhck9mZnNldC5sZWZ0IC0gbGFyZ2VHcmF2YXRhck9mZnNldC5sZWZ0ICsgak1lbnUub3V0ZXJXaWR0aCgpIC0gJCh3aW5kb3cpLndpZHRoKCkgKyA4KTtcblxuICAgICAgICAgICAgZ3JhdmF0YXJDbG9uZS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGxhcmdlV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogbGFyZ2VIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogbGFyZ2VHcmF2YXRhclBvc2l0aW9uLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGFyZ2VHcmF2YXRhclBvc2l0aW9uLmxlZnRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDIwMCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGpNZW51LnRyaWdnZXIoXCJ1c2VyaG92ZXJzaG93aW5nXCIsIGVsZW0pOyAvLyBmb3Igd2ludGVyYmFzaDsgd2UgY2FuJ3QgbWFrZSB0aGlzIHByZXR0aWVyIHdpdGggZGFzaGVzLCBiZWNhdXNlIGpRdWVyeSByZXBsYWNlcyBcXGJob3ZlclxcYiB3aXRoLi4uIHNvbWV0aGluZ1xuXG4gICAgICAgIHZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIGxldCBoYXNMaW5rcyA9IGpNZW51LmZpbmQoXCIudW0taGVhZGVyLWluZm8gYTpub3QoLnVtLXVzZXItbGluayksIC51bS1hYm91dC1tZSBhLCAudW0tbGlua3MgYVwiKS5sZW5ndGggPiAwO1xuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCd1c2VyX3BvcHVwLnNob3cnLCB7IFwiaXNfb3duXCI6IGlzT3duLCBcImhhc19saW5rc1wiOiBoYXNMaW5rcyB9KTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodmlzaWJsZSkgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3VzZXJfcG9wdXAucmVhZCcsIHsgXCJpc19vd25cIjogaXNPd24sIFwiaGFzX2xpbmtzXCI6IGhhc0xpbmtzIH0pO1xuICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICBqTWVudS5vbignY2xpY2snLCAnLnVtLWdyYXZhdGFyIGEsIGEudW0tdXNlci1saW5rJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3VzZXJfcG9wdXAuY2xpY2snLCB7IFwiY2xpY2tlZF9saW5rXCI6IDAsIFwiaXNfb3duXCI6IGlzT3duIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgak1lbnUub24oJ2NsaWNrJywgJy51bS1oZWFkZXItaW5mbyBhOm5vdCgudW0tdXNlci1saW5rKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCd1c2VyX3BvcHVwLmNsaWNrJywgeyBcImNsaWNrZWRfbGlua1wiOiAxLCBcImlzX293blwiOiBpc093biB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpNZW51Lm9uKCdjbGljaycsICcudW0tYWJvdXQtbWUgYScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCd1c2VyX3BvcHVwLmNsaWNrJywgeyBcImNsaWNrZWRfbGlua1wiOiAyLCBcImlzX293blwiOiBpc093biB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpNZW51Lm9uKCdjbGljaycsICcudW0tbGlua3MgYScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCd1c2VyX3BvcHVwLmNsaWNrJywgeyBcImNsaWNrZWRfbGlua1wiOiAzLCBcImlzX293blwiOiBpc093biB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiBlbGVtZW50UG9zaXRpb24udG9wLFxuICAgICAgICAgICAgbGVmdDogZWxlbWVudFBvc2l0aW9uLmxlZnQgLSBvdmVyZmxvdyxcbiAgICAgICAgICAgIGFkZGl0aW9uYWwgOiBncmF2YXRhckNsb25lXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNob3duKGVsZW1lbnQsIGpNZW51KSB7XG4gICAgICAgIGpNZW51LnRyaWdnZXIoXCJ1c2VyaG92ZXJzaG93blwiKTsgLy8gZm9yIHdpbnRlcmJhc2g7IHdlIGNhbid0IG1ha2UgdGhpcyBwcmV0dGllciB3aXRoIGRhc2hlcywgYmVjYXVzZSBqUXVlcnkgcmVwbGFjZXMgXFxiaG92ZXJcXGIgd2l0aC4uLiBzb21ldGhpbmdcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcmVtb3ZlZChlbGVtLCBqTWVudSkge1xuICAgICAgICAkKGVsZW0pLnRyaWdnZXIoXCJ1c2VyaG92ZXJyZW1vdmVkXCIpOyAvLyBmb3Igd2ludGVyYmFzaDsgd2UgY2FuJ3QgbWFrZSB0aGlzIHByZXR0aWVyIHdpdGggZGFzaGVzLCBiZWNhdXNlIGpRdWVyeSByZXBsYWNlcyBcXGJob3ZlclxcYiB3aXRoLi4uIHNvbWV0aGluZ1xuICAgICAgICBncmF2YXRhckNsb25lPy5yZW1vdmUoKTtcblxuICAgICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIFxufSkoKTtcblxuIiwiLy8gSmF2YXNjcmlwdCBuZWVkIHRvIHN1cHBvcnQgdGhlIGNoYXQgYWQgKHpvbmUgNTAyKVxuLy8gICAgV2UncmUgcHV0dGluZyBpdCBpbiBzbyBtYW55IHBsYWNlcyB0aGF0IGl0IHJlYWxseSBuZWVkcyB0byBiZSBwcm9wZXJseSBtaW5pZmllZFxuLy8gICAgdGh1cyB0aGUgcHVsbCBpbnRvIGZ1bGwtYW5vbi5qc1xuU3RhY2tFeGNoYW5nZS5jaGF0QWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGF0VXJsLCByZWxvYWRVcmw7IC8vIHRoZSB0d28gYXJlIHNldCBieSBpbml0KClcbiAgICB2YXIgcmVsb2FkSW50ZXJ2YWwgPSAxODA7IC8vIGhvdyBtYW55IHNlY29uZHMgYmVmb3JlIHRoZSBmaXJzdCByZWZyZXNoXG4gICAgdmFyIHJlbG9hZEZyZXF1ZW5jeVRocm90dGxlID0gMzA7IC8vIGluY3JlYXNlIHJlbG9hZEludGVydmFsIGJ5IHRoaXMgdmFsdWUgb24gZXZlcnkgcmVmcmVzaFxuICAgIHZhciByZWxvYWRTdG9wSW50ZXJ2YWwgPSA0ODA7IC8vIHN0b3AgcmVsb2FkaW5nIGFsdG9nZWh0ZXIgd2hlbiByZWxvYWRJbnRlcnZhbCBpcyBvdmVyIHRoaXMgdmFsdWUgKGhhcHBlbnMgYWZ0ZXIgfjEgaG91cilcbiAgICB2YXIgbW9udGhzID0gW19zKCdKYW4nKSwgX3MoJ0ZlYicpLCBfcygnTWFyJyksIF9zKCdBcHInKSwgX3MoJ01heScpLCBfcygnSnVuJyksIF9zKCdKdWwnKSwgX3MoJ0F1ZycpLCBfcygnU2VwJyksIF9zKCdPY3QnKSwgX3MoJ05vdicpLCBfcygnRGVjJyldO1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcblxuICAgICAgICBpZiAoL15cXC9xdWVzdGlvbnNcXC9cXGQrL2kudGVzdCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgICAgICByZWxvYWRTdG9wSW50ZXJ2YWwgPSAwOyAvLyBuZXZlciByZWxvYWQgb24gYSBzaW5nbGUtcXVlc3Rpb24gcGFnZVxuICAgICAgICB9XG5cbiAgICAgICAgY2hhdFVybCA9IG9wdGlvbnMuY2hhdFVybDtcbiAgICAgICAgcmVsb2FkVXJsID0gb3B0aW9ucy5yZWxvYWRVcmw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudGFnQmFzZWQpIHtcbiAgICAgICAgICAgIHZhciB0YWdzID0gZ2V0VGFncygpO1xuICAgICAgICAgICAgaWYgKCF0YWdzKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbm8gYWQgaWYgd2UgY29vdWxkbid0IGluZmVyIHRhZ3NcblxuICAgICAgICAgICAgaWYgKHJlbG9hZFVybClcbiAgICAgICAgICAgICAgICByZWxvYWRVcmwgKz0gKC9cXD8vLnRlc3QocmVsb2FkVXJsKSA/IFwiJlwiIDogXCI/XCIpICsgXCJ0YWdzPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRhZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbG9hZGVkRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbG9hZEFkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwbGF5Um9vbXMob3B0aW9ucy5wcmVsb2FkZWREYXRhLCBudWxsLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRhZ3MoKSB7XG4gICAgICAgIHZhciB0YWdzID0gJChcIi5xdWVzdGlvbiAucG9zdC10YWdsaXN0IC5wb3N0LXRhZ1wiKTtcbiAgICAgICAgaWYgKCF0YWdzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdGFncy5tYXAoZnVuY3Rpb24gKGksIGVsZW0pIHsgcmV0dXJuICQoZWxlbSkudGV4dCgpIH0pLmdldCgpLmpvaW4oXCIgXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhZChuKSB7XG4gICAgICAgIHJldHVybiBuIDwgMTAgPyBcIjBcIiArIG4gOiBuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhYnNvbHV0ZVRpbWUodXQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBkYXRlLnNldFRpbWUodXQgKiAxMDAwKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgICAgICAgXCItXCIsIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKSxcbiAgICAgICAgICAgIFwiLVwiLCBwYWQoZGF0ZS5nZXRVVENEYXRlKCkpLFxuICAgICAgICAgICAgXCIgXCIsIHBhZChkYXRlLmdldFVUQ0hvdXJzKCkpLFxuICAgICAgICAgICAgXCI6XCIsIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSksXG4gICAgICAgICAgICBcIjpcIiwgcGFkKGRhdGUuZ2V0VVRDU2Vjb25kcygpKSxcbiAgICAgICAgICAgIFwiWlwiXG4gICAgICAgIF0uam9pbihcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnJpZW5kbHlUaW1lKGR0KSB7XG4gICAgICAgIHZhciB1dGNOb3cgPSBNYXRoLmZsb29yKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwKTtcblxuICAgICAgICB2YXIgZGVsdGEgPSB1dGNOb3cgLSBkdDtcbiAgICAgICAgdmFyIHNlY29uZHMgPSBkZWx0YSAlIDYwO1xuICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoZGVsdGEgLyA2MCk7XG4gICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoZGVsdGEgLyAzNjAwKTtcbiAgICAgICAgaWYgKGRlbHRhIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zKFwianVzdCBub3dcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhIDwgNjApIHtcbiAgICAgICAgICAgIHJldHVybiBfcyhcIiNzZWNvbmRzIyBzZWNzIGFnb1wiLCB7IHNlY29uZHM6IHNlY29uZHMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhIDwgMzYwMCkgLy8gNjAgbWlucyAqIDYwIHNlY1xuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX3MoXCIjbWludXRlcyMgbWlucyBhZ29cIiwgeyBtaW51dGVzOiBtaW51dGVzIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWx0YSA8IDg2NDAwKSAgLy8gMjQgaHJzICogNjAgbWlucyAqIDYwIHNlY1xuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX3MoXCIjaG91cnMjIGhvdXJzIGFnb1wiLCB7IGhvdXJzOiBob3VycyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcihkZWx0YSAvIDg2NDAwKTtcblxuICAgICAgICBpZiAoZGF5cyA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gX3MoXCJ5ZXN0ZXJkYXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF5cyA8PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gX3MoXCIjX19jb3VudCMgZGF5cyBhZ29cIiwgeyBfX2NvdW50OiBkYXlzIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkdCAqIDEwMDApO1xuICAgICAgICByZXR1cm4gX3MoJyRtb250aCQgJGRhdGUkIGF0ICRob3VycyQ6JG1pbnV0ZXMkJyxcbiAgICAgICAgICAgIHsgbW9udGg6IG1vbnRoc1tkYXRlLmdldE1vbnRoKCldLCBkYXRlOiBkYXRlLmdldERhdGUoKSwgaG91cnM6IGRhdGUuZ2V0SG91cnMoKSwgbWludXRlczogcGFkKGRhdGUuZ2V0TWludXRlcygpKSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkQWQoKSB7XG4gICAgICAgIGlmIChyZWxvYWRVcmwpIHtcbiAgICAgICAgICAgICQuZ2V0KHJlbG9hZFVybCwgbnVsbCwgZGlzcGxheVJvb21zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF2YXRhclVybChlbWFpbEhhc2gpIHtcbiAgICAgICAgaWYgKGVtYWlsSGFzaC5jaGFyQXQoMCkgPT09ICchJykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVtYWlsSGFzaC5zdWJzdHIoMSk7XG4gICAgICAgICAgICBpZiAoL15odHRwcz86XFwvXFwvaS5zdGFjay5pbWd1ci5jb21cXC8vLnRlc3QocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXAgPSAvXFw/Ly50ZXN0KHJlc3VsdCkgPyBcIiZcIiA6IFwiP1wiO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzZXAgKyBcImcmcz0zMlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBcImh0dHBzOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIvXCIgKyBlbWFpbEhhc2ggKyBcIj9zPTIzJmQ9aWRlbnRpY29uJnI9UEdcIjtcbiAgICB9XG5cbiAgICAvLyBCdWlsZCBhIHN1bW1hcnkgbGluZSBvZiB0aGUgbGFzdCA1IHVzZXJzIHRvIHRhbGssIGluIG9yZGVyXG4gICAgZnVuY3Rpb24gdXNlckJveCh1c2Vycykge1xuICAgICAgICB2YXIgJGJveCA9ICQoJzxkaXYgY2xhc3M9XCJkLWZsZXggZ3M0IGFpLWNlbnRlciBmdy13cmFwXCIgLz4nKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aCAmJiBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdXNlciA9IHVzZXJzW2ldO1xuXG4gICAgICAgICAgICB2YXIgdG9vbFRpcCA9IHVzZXIubmFtZTtcbiAgICAgICAgICAgIGlmICh1c2VyLmxhc3RQb3N0KSB7XG4gICAgICAgICAgICAgICAgdG9vbFRpcCArPSBcIjogXCIgKyBmcmllbmRseVRpbWUodXNlci5sYXN0UG9zdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkaWNvbiA9ICQoJzxpbWcgY2xhc3M9XCJiYXItc21cIj4nKS5hdHRyKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdG9vbFRpcCxcbiAgICAgICAgICAgICAgICBzcmM6IGF2YXRhclVybCh1c2VyLmVtYWlsaGFzaCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIzLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyICR1c2VyID0gJCgnPGEgY2xhc3M9XCJmbGV4LS1pdGVtXCI+JykuYXR0cignaHJlZicsIGNoYXRVcmwgKyAnL3VzZXJzLycgKyB1c2VyLmlkKS5hcHBlbmQoJGljb24pO1xuICAgICAgICAgICAgJGJveC5hcHBlbmQoJHVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRib3g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2luZ2xlSW1hZ2VPZkFsbFVzZXJzKHJvb21JZCkge1xuICAgICAgICByZXR1cm4gJCgnPGRpdiBjbGFzcz1cImZsZXgtLWl0ZW1cIj48aW1nIHNyYz1cIicgKyBjaGF0VXJsICsgJy9yb29tcy91c2Vycy8nICsgcm9vbUlkICsgJy5qcGVnXCIgLz48L2Rpdj4nKTtcbiAgICB9XG5cbiAgICAvLyBMaW5rIHRvIHRoZSB1c2VyIHJlc3BvbnNpYmxlIGZvciB0aGUgbWVzc2FnZVxuICAgIGZ1bmN0aW9uIHVzZXJMaW5rKG1zZykge1xuICAgICAgICB2YXIgbmFtZSA9IG1zZy51c2VyO1xuICAgICAgICB2YXIgaWQgPSBtc2cudXNlcmlkO1xuXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgcmV0dXJuICQoJzxhPicpLmF0dHIoJ2hyZWYnLCBjaGF0VXJsICsgJy91c2Vycy8nICsgaWQpLnRleHQobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJCgnPHNwYW4+JykudGV4dChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwTmV4dFJlZnJlc2goKSB7XG4gICAgICAgIGlmICghcmVsb2FkVXJsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHJlbG9hZEludGVydmFsIDw9IHJlbG9hZFN0b3BJbnRlcnZhbCkgLy8gc3RvcCByZWZyZXNoaW5nIGFmdGVyIGFuIGhvdXIgLS0gdGhlIHVzZXIgcHJvYmFibHkganVzdCBsZWZ0IHRoZSBwYWdlIG9wZW4gb3Zlcm5pZ2h0XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChsb2FkQWQsIHJlbG9hZEludGVydmFsICogMTAwMCk7XG4gICAgICAgIHJlbG9hZEludGVydmFsICs9IHJlbG9hZEZyZXF1ZW5jeVRocm90dGxlOyAvLyB0aGUgbG9uZ2VyIHRoZSB1c2VyIGhhcyB0aGUgcGFnZSBvcGVuLCB0aGUgaGlnaGVyIHRoZSBjaGFuY2UgdGhhdCB0aGV5J3JlIG5vdCBldmVuIGxvb2tpbmcgYXQgaXQgLS0gdGhyb3R0bGUgYmFja1xuICAgIH1cblxuICAgIC8vIENhbGxiYWNrIHRvIGJ1aWxkIHRoZSByb29tIGxpc3RcbiAgICBmdW5jdGlvbiBkaXNwbGF5Um9vbXMoZGF0YSwgdGV4dFN0YXR1cywgcmVxKSB7XG4gICAgICAgIHZhciAkcm9vbUNvbnRhaW5lciA9ICQoJy5qcy1jaGF0LWFkLXJvb21zJyk7XG4gICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgICBzZXR1cE5leHRSZWZyZXNoKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vbUNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgICAgIHZhciByb29tRGF0YSA9IGRhdGEucm9vbXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb29tRGF0YS5sZW5ndGggJiYgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJvb20gPSByb29tRGF0YVtpXTtcblxuICAgICAgICAgICAgdmFyIHJvb21MaW5rID0gY2hhdFVybCArICcvcm9vbXMvJyArIHJvb20uaWQ7XG5cbiAgICAgICAgICAgIHZhciBsYXN0TWVzc2FnZSA9IChyb29tLm1lc3NhZ2VzIHx8IFtdKS5sZW5ndGggPiAwID8gcm9vbS5tZXNzYWdlc1swXSA6IG51bGw7XG5cbiAgICAgICAgICAgIHZhciAkcm9vbSA9ICQoJzxkaXYgY2xhc3M9XCJkLWZsZXggZmQtY29sdW1uIGdzMlwiIC8+Jyk7XG4gICAgICAgICAgICAkKCc8YSBjbGFzcz1cImZsZXgtLWl0ZW1cIiAvPicpLmF0dHIoJ2hyZWYnLCByb29tTGluaykudGV4dChyb29tLm5hbWUpLmFwcGVuZFRvKCRyb29tKTtcblxuICAgICAgICAgICAgaWYgKGxhc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz1cImZsZXgtLWl0ZW0gZnMtZmluZSBmYy1ibGFjay0zNTAgbWI0XCIgLz4nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCBhYnNvbHV0ZVRpbWUocm9vbS5sYXN0UG9zdCkpXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKGZyaWVuZGx5VGltZShyb29tLmxhc3RQb3N0KSArICcgLSAnKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHVzZXJMaW5rKGxhc3RNZXNzYWdlKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRyb29tKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvb20uc2luZ2xlSW1hZ2UpXG4gICAgICAgICAgICAgICAgJHJvb20uYXBwZW5kKHNpbmdsZUltYWdlT2ZBbGxVc2Vycyhyb29tLmlkKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgJHJvb20uYXBwZW5kKHVzZXJCb3gocm9vbS51c2VycykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkcm9vbUNvbnRhaW5lci5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cInMtc2lkZWJhcndpZGdldC0taXRlbVwiIC8+JykuYXBwZW5kKCRyb29tKSk7XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vbUNvbnRhaW5lci50b2dnbGVDbGFzcygnZC1ub25lJywgcm9vbURhdGEubGVuZ3RoID09PSAwKTtcblxuICAgICAgICB2YXIgJGxpbmsgPSAkKCcuanMtY2hhdC1hZC1saW5rJyk7XG5cbiAgICAgICAgaWYgKGRhdGEuYWN0aXZlVXNlcnMgPiAxKSB7XG4gICAgICAgICAgICAkbGluay50ZXh0KF9zKFwiI251bSMgcGVvcGxlIGNoYXR0aW5nXCIsIHsgbnVtOiBkYXRhLmFjdGl2ZVVzZXJzIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRsaW5rLnRleHQoX3MoJ1Zpc2l0IGNoYXQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICAkbGluay5hdHRyKCd0aXRsZScsIF9zKFwiI3VzZXJzIyB1c2VycyBhY3RpdmUgaW4gI3Jvb21zIyByb29tcyB0aGUgbGFzdCA2MCBtaW51dGVzXCIsIHsgdXNlcnM6IGRhdGEuYWN0aXZlVXNlcnMsIHJvb21zOiBkYXRhLmFjdGl2ZVJvb21zIH0pKTtcblxuICAgICAgICBzZXR1cE5leHRSZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgaW5pdDogaW5pdCB9O1xufSkoKTtcblxuIiwiLy8gbm90ZSB0aGF0IHRoaXMgb25seSB3b3JrcyBvbiBsb3dlcmNhc2VcbiQuZXh0ZW5kKFN0YWNrRXhjaGFuZ2UuaGVscGVycywgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGlhY1N1YnN0aXR1dGlvbnMgPSB7XG4gICAgICAgIFwiw6DDpcOhw6LDpMOjw6XEhcmQ4bWE4babXCI6IFwiYVwiLFxuICAgICAgICBcIsOmx6PHveG0guG1hlwiOiBcImFlXCIsXG4gICAgICAgIFwiw6fEh8SNxIlcIjogXCJjXCIsXG4gICAgICAgIFwixJHGjcOww5BcIjogXCJkXCIsXG4gICAgICAgIFwiw6jDqcOqw6vEmced4bSI4bWMXCI6IFwiZVwiLFxuICAgICAgICBcIuKFjlwiOiBcImZcIixcbiAgICAgICAgXCLEn8Sd4bW3XCI6IFwiZ1wiLFxuICAgICAgICBcIsSlyaXKruG2o1wiOiBcImhcIixcbiAgICAgICAgXCLDrMOtw67Dr8Sx4bSJ4bWOXCI6IFwiaVwiLFxuICAgICAgICBcIsS1XCI6IFwialwiLFxuICAgICAgICBcIsqeXCI6IFwia1wiLFxuICAgICAgICBcIsWCXCI6IFwibFwiLFxuICAgICAgICBcIsmvybDhtZrhtq3htJ9cIjogXCJtXCIsXG4gICAgICAgIFwiw7HFhFwiOiBcIm5cIixcbiAgICAgICAgXCLDssOzw7TDtcO2w7jFkVwiOiBcIm9cIixcbiAgICAgICAgXCLFk8m24bSUXCI6IFwib2VcIixcbiAgICAgICAgXCLFmcm5ybrJu8q0yrVcIjogXCJyXCIsXG4gICAgICAgIFwixZvFn8WhxZ1cIjogXCJzXCIsXG4gICAgICAgIFwiw59cIjogXCJzc1wiLFxuICAgICAgICBcIsqHXCI6IFwidFwiLFxuICAgICAgICBcIsOeXCI6IFwidGhcIixcbiAgICAgICAgXCLDucO6w7vDvMWtxa9cIjogXCJ1XCIsXG4gICAgICAgIFwiyozhtrpcIjogXCJ2XCIsXG4gICAgICAgIFwiyo1cIjogXCJ3XCIsXG4gICAgICAgIFwiw73FuMO/yo5cIjogXCJ5XCIsXG4gICAgICAgIFwixbzFusW+XCI6IFwielwiXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG5vRGlhY3JpdGljcyhzKSB7XG4gICAgICAgIGZvciAodmFyIG9yaWcgaW4gZGlhY1N1YnN0aXR1dGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChkaWFjU3Vic3RpdHV0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcmlnKSkge1xuICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UobmV3IFJlZ0V4cChcIltcIiArIG9yaWcgKyBcIl1cIiwgXCJnXCIpLCBkaWFjU3Vic3RpdHV0aW9uc1tvcmlnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgLy8gdGhlIGZvbGxvd2luZyBpcyBjb3VydGVzeSBiYWxwaGEsIGFsYSBodHRwczovL2NoYXQubWV0YS5zdGFja2V4Y2hhbmdlLmNvbS90cmFuc2NyaXB0L21lc3NhZ2UvMTAyNTI2NSMxMDI1MjY1XG4gICAgdmFyIGFsbG93ZWROb25Bc2NpaUNoYXJhY3RlcnMgPVxuICAgICAgICAnXFxcXHUwMDMwLVxcXFx1MDAzOVxcXFx1MDA0MS1cXFxcdTAwNWFcXFxcdTAwNWZcXFxcdTAwNjEtXFxcXHUwMDdhXFxcXHUwMGFhXFxcXHUwMGI1XFxcXHUwMGJhXFxcXHUwMGMwLVxcXFx1MDBkNlxcXFx1MDBkOC1cXFxcdTAwZjZcXFxcdTAwZjgtXFxcXHUwMmMxXFxcXHUwMmM2LVxcXFx1MDJkMScgK1xuICAgICAgICAnXFxcXHUwMmUwLVxcXFx1MDJlNFxcXFx1MDJlY1xcXFx1MDJlZVxcXFx1MDM3MC1cXFxcdTAzNzRcXFxcdTAzNzYtXFxcXHUwMzc3XFxcXHUwMzdhLVxcXFx1MDM3ZFxcXFx1MDM4NlxcXFx1MDM4OC1cXFxcdTAzOGFcXFxcdTAzOGNcXFxcdTAzOGUtXFxcXHUwM2ExXFxcXHUwM2EzLVxcXFx1MDNmNScgK1xuICAgICAgICAnXFxcXHUwM2Y3LVxcXFx1MDQ4MVxcXFx1MDQ4YS1cXFxcdTA1MjNcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDVkMC1cXFxcdTA1ZWFcXFxcdTA1ZjAtXFxcXHUwNWYyXFxcXHUwNjIxLVxcXFx1MDY0YVxcXFx1MDY2MC1cXFxcdTA2NjknICtcbiAgICAgICAgJ1xcXFx1MDY2ZS1cXFxcdTA2NmZcXFxcdTA2NzEtXFxcXHUwNmQzXFxcXHUwNmQ1XFxcXHUwNmU1LVxcXFx1MDZlNlxcXFx1MDZlZS1cXFxcdTA2ZmNcXFxcdTA2ZmZcXFxcdTA3MTBcXFxcdTA3MTItXFxcXHUwNzJmXFxcXHUwNzRkLVxcXFx1MDdhNVxcXFx1MDdiMVxcXFx1MDdjMC1cXFxcdTA3ZWEnICtcbiAgICAgICAgJ1xcXFx1MDdmNC1cXFxcdTA3ZjVcXFxcdTA3ZmFcXFxcdTA5MDQtXFxcXHUwOTM5XFxcXHUwOTNkXFxcXHUwOTUwXFxcXHUwOTU4LVxcXFx1MDk2MVxcXFx1MDk2Ni1cXFxcdTA5NmZcXFxcdTA5NzEtXFxcXHUwOTcyXFxcXHUwOTdiLVxcXFx1MDk3ZlxcXFx1MDk4NS1cXFxcdTA5OGMnICtcbiAgICAgICAgJ1xcXFx1MDk4Zi1cXFxcdTA5OTBcXFxcdTA5OTMtXFxcXHUwOWE4XFxcXHUwOWFhLVxcXFx1MDliMFxcXFx1MDliMlxcXFx1MDliNi1cXFxcdTA5YjlcXFxcdTA5YmRcXFxcdTA5Y2VcXFxcdTA5ZGMtXFxcXHUwOWRkXFxcXHUwOWRmLVxcXFx1MDllMVxcXFx1MDllNi1cXFxcdTA5ZjEnICtcbiAgICAgICAgJ1xcXFx1MGEwNS1cXFxcdTBhMGFcXFxcdTBhMGYtXFxcXHUwYTEwXFxcXHUwYTEzLVxcXFx1MGEyOFxcXFx1MGEyYS1cXFxcdTBhMzBcXFxcdTBhMzItXFxcXHUwYTMzXFxcXHUwYTM1LVxcXFx1MGEzNlxcXFx1MGEzOC1cXFxcdTBhMzlcXFxcdTBhNTktXFxcXHUwYTVjXFxcXHUwYTVlJyArXG4gICAgICAgICdcXFxcdTBhNjYtXFxcXHUwYTZmXFxcXHUwYTcyLVxcXFx1MGE3NFxcXFx1MGE4NS1cXFxcdTBhOGRcXFxcdTBhOGYtXFxcXHUwYTkxXFxcXHUwYTkzLVxcXFx1MGFhOFxcXFx1MGFhYS1cXFxcdTBhYjBcXFxcdTBhYjItXFxcXHUwYWIzXFxcXHUwYWI1LVxcXFx1MGFiOVxcXFx1MGFiZFxcXFx1MGFkMCcgK1xuICAgICAgICAnXFxcXHUwYWUwLVxcXFx1MGFlMVxcXFx1MGFlNi1cXFxcdTBhZWZcXFxcdTBiMDUtXFxcXHUwYjBjXFxcXHUwYjBmLVxcXFx1MGIxMFxcXFx1MGIxMy1cXFxcdTBiMjhcXFxcdTBiMmEtXFxcXHUwYjMwXFxcXHUwYjMyLVxcXFx1MGIzM1xcXFx1MGIzNS1cXFxcdTBiMzlcXFxcdTBiM2QnICtcbiAgICAgICAgJ1xcXFx1MGI1Yy1cXFxcdTBiNWRcXFxcdTBiNWYtXFxcXHUwYjYxXFxcXHUwYjY2LVxcXFx1MGI2ZlxcXFx1MGI3MVxcXFx1MGI4M1xcXFx1MGI4NS1cXFxcdTBiOGFcXFxcdTBiOGUtXFxcXHUwYjkwXFxcXHUwYjkyLVxcXFx1MGI5NVxcXFx1MGI5OS1cXFxcdTBiOWFcXFxcdTBiOWMnICtcbiAgICAgICAgJ1xcXFx1MGI5ZS1cXFxcdTBiOWZcXFxcdTBiYTMtXFxcXHUwYmE0XFxcXHUwYmE4LVxcXFx1MGJhYVxcXFx1MGJhZS1cXFxcdTBiYjlcXFxcdTBiZDBcXFxcdTBiZTYtXFxcXHUwYmVmXFxcXHUwYzA1LVxcXFx1MGMwY1xcXFx1MGMwZS1cXFxcdTBjMTBcXFxcdTBjMTItXFxcXHUwYzI4JyArXG4gICAgICAgICdcXFxcdTBjMmEtXFxcXHUwYzMzXFxcXHUwYzM1LVxcXFx1MGMzOVxcXFx1MGMzZFxcXFx1MGM1OC1cXFxcdTBjNTlcXFxcdTBjNjAtXFxcXHUwYzYxXFxcXHUwYzY2LVxcXFx1MGM2ZlxcXFx1MGM4NS1cXFxcdTBjOGNcXFxcdTBjOGUtXFxcXHUwYzkwXFxcXHUwYzkyLVxcXFx1MGNhOCcgK1xuICAgICAgICAnXFxcXHUwY2FhLVxcXFx1MGNiM1xcXFx1MGNiNS1cXFxcdTBjYjlcXFxcdTBjYmRcXFxcdTBjZGVcXFxcdTBjZTAtXFxcXHUwY2UxXFxcXHUwY2U2LVxcXFx1MGNlZlxcXFx1MGQwNS1cXFxcdTBkMGNcXFxcdTBkMGUtXFxcXHUwZDEwXFxcXHUwZDEyLVxcXFx1MGQyOFxcXFx1MGQyYS1cXFxcdTBkMzknICtcbiAgICAgICAgJ1xcXFx1MGQzZFxcXFx1MGQ2MC1cXFxcdTBkNjFcXFxcdTBkNjYtXFxcXHUwZDZmXFxcXHUwZDdhLVxcXFx1MGQ3ZlxcXFx1MGQ4NS1cXFxcdTBkOTZcXFxcdTBkOWEtXFxcXHUwZGIxXFxcXHUwZGIzLVxcXFx1MGRiYlxcXFx1MGRiZFxcXFx1MGRjMC1cXFxcdTBkYzZcXFxcdTBlMDEtXFxcXHUwZTMwJyArXG4gICAgICAgICdcXFxcdTBlMzItXFxcXHUwZTMzXFxcXHUwZTQwLVxcXFx1MGU0NlxcXFx1MGU1MC1cXFxcdTBlNTlcXFxcdTBlODEtXFxcXHUwZTgyXFxcXHUwZTg0XFxcXHUwZTg3LVxcXFx1MGU4OFxcXFx1MGU4YVxcXFx1MGU4ZFxcXFx1MGU5NC1cXFxcdTBlOTdcXFxcdTBlOTktXFxcXHUwZTlmJyArXG4gICAgICAgICdcXFxcdTBlYTEtXFxcXHUwZWEzXFxcXHUwZWE1XFxcXHUwZWE3XFxcXHUwZWFhLVxcXFx1MGVhYlxcXFx1MGVhZC1cXFxcdTBlYjBcXFxcdTBlYjItXFxcXHUwZWIzXFxcXHUwZWJkXFxcXHUwZWMwLVxcXFx1MGVjNFxcXFx1MGVjNlxcXFx1MGVkMC1cXFxcdTBlZDlcXFxcdTBlZGMtXFxcXHUwZWRkJyArXG4gICAgICAgICdcXFxcdTBmMDBcXFxcdTBmMjAtXFxcXHUwZjI5XFxcXHUwZjQwLVxcXFx1MGY0N1xcXFx1MGY0OS1cXFxcdTBmNmNcXFxcdTBmODgtXFxcXHUwZjhiXFxcXHUxMDAwLVxcXFx1MTAyYVxcXFx1MTAzZi1cXFxcdTEwNDlcXFxcdTEwNTAtXFxcXHUxMDU1XFxcXHUxMDVhLVxcXFx1MTA1ZFxcXFx1MTA2MScgK1xuICAgICAgICAnXFxcXHUxMDY1LVxcXFx1MTA2NlxcXFx1MTA2ZS1cXFxcdTEwNzBcXFxcdTEwNzUtXFxcXHUxMDgxXFxcXHUxMDhlXFxcXHUxMDkwLVxcXFx1MTA5OVxcXFx1MTBhMC1cXFxcdTEwYzVcXFxcdTEwZDAtXFxcXHUxMGZhXFxcXHUxMGZjXFxcXHUxMTAwLVxcXFx1MTE1OVxcXFx1MTE1Zi1cXFxcdTExYTInICtcbiAgICAgICAgJ1xcXFx1MTFhOC1cXFxcdTExZjlcXFxcdTEyMDAtXFxcXHUxMjQ4XFxcXHUxMjRhLVxcXFx1MTI0ZFxcXFx1MTI1MC1cXFxcdTEyNTZcXFxcdTEyNThcXFxcdTEyNWEtXFxcXHUxMjVkXFxcXHUxMjYwLVxcXFx1MTI4OFxcXFx1MTI4YS1cXFxcdTEyOGRcXFxcdTEyOTAtXFxcXHUxMmIwJyArXG4gICAgICAgICdcXFxcdTEyYjItXFxcXHUxMmI1XFxcXHUxMmI4LVxcXFx1MTJiZVxcXFx1MTJjMFxcXFx1MTJjMi1cXFxcdTEyYzVcXFxcdTEyYzgtXFxcXHUxMmQ2XFxcXHUxMmQ4LVxcXFx1MTMxMFxcXFx1MTMxMi1cXFxcdTEzMTVcXFxcdTEzMTgtXFxcXHUxMzVhXFxcXHUxMzgwLVxcXFx1MTM4ZicgK1xuICAgICAgICAnXFxcXHUxM2EwLVxcXFx1MTNmNFxcXFx1MTQwMS1cXFxcdTE2NmNcXFxcdTE2NmYtXFxcXHUxNjc2XFxcXHUxNjgxLVxcXFx1MTY5YVxcXFx1MTZhMC1cXFxcdTE2ZWFcXFxcdTE3MDAtXFxcXHUxNzBjXFxcXHUxNzBlLVxcXFx1MTcxMVxcXFx1MTcyMC1cXFxcdTE3MzEnICtcbiAgICAgICAgJ1xcXFx1MTc0MC1cXFxcdTE3NTFcXFxcdTE3NjAtXFxcXHUxNzZjXFxcXHUxNzZlLVxcXFx1MTc3MFxcXFx1MTc4MC1cXFxcdTE3YjNcXFxcdTE3ZDdcXFxcdTE3ZGNcXFxcdTE3ZTAtXFxcXHUxN2U5XFxcXHUxODEwLVxcXFx1MTgxOVxcXFx1MTgyMC1cXFxcdTE4NzdcXFxcdTE4ODAtXFxcXHUxOGE4JyArXG4gICAgICAgICdcXFxcdTE4YWFcXFxcdTE5MDAtXFxcXHUxOTFjXFxcXHUxOTQ2LVxcXFx1MTk2ZFxcXFx1MTk3MC1cXFxcdTE5NzRcXFxcdTE5ODAtXFxcXHUxOWE5XFxcXHUxOWMxLVxcXFx1MTljN1xcXFx1MTlkMC1cXFxcdTE5ZDlcXFxcdTFhMDAtXFxcXHUxYTE2XFxcXHUxYjA1LVxcXFx1MWIzMycgK1xuICAgICAgICAnXFxcXHUxYjQ1LVxcXFx1MWI0YlxcXFx1MWI1MC1cXFxcdTFiNTlcXFxcdTFiODMtXFxcXHUxYmEwXFxcXHUxYmFlLVxcXFx1MWJiOVxcXFx1MWMwMC1cXFxcdTFjMjNcXFxcdTFjNDAtXFxcXHUxYzQ5XFxcXHUxYzRkLVxcXFx1MWM3ZFxcXFx1MWQwMC1cXFxcdTFkYmYnICtcbiAgICAgICAgJ1xcXFx1MWUwMC1cXFxcdTFmMTVcXFxcdTFmMTgtXFxcXHUxZjFkXFxcXHUxZjIwLVxcXFx1MWY0NVxcXFx1MWY0OC1cXFxcdTFmNGRcXFxcdTFmNTAtXFxcXHUxZjU3XFxcXHUxZjU5XFxcXHUxZjViXFxcXHUxZjVkXFxcXHUxZjVmLVxcXFx1MWY3ZFxcXFx1MWY4MC1cXFxcdTFmYjQnICtcbiAgICAgICAgJ1xcXFx1MWZiNi1cXFxcdTFmYmNcXFxcdTFmYmVcXFxcdTFmYzItXFxcXHUxZmM0XFxcXHUxZmM2LVxcXFx1MWZjY1xcXFx1MWZkMC1cXFxcdTFmZDNcXFxcdTFmZDYtXFxcXHUxZmRiXFxcXHUxZmUwLVxcXFx1MWZlY1xcXFx1MWZmMi1cXFxcdTFmZjRcXFxcdTFmZjYtXFxcXHUxZmZjJyArXG4gICAgICAgICdcXFxcdTIwM2YtXFxcXHUyMDQwXFxcXHUyMDU0XFxcXHUyMDcxXFxcXHUyMDdmXFxcXHUyMDkwLVxcXFx1MjA5NFxcXFx1MjEwMlxcXFx1MjEwN1xcXFx1MjEwYS1cXFxcdTIxMTNcXFxcdTIxMTVcXFxcdTIxMTktXFxcXHUyMTFkXFxcXHUyMTI0XFxcXHUyMTI2XFxcXHUyMTI4JyArXG4gICAgICAgICdcXFxcdTIxMmEtXFxcXHUyMTJkXFxcXHUyMTJmLVxcXFx1MjEzOVxcXFx1MjEzYy1cXFxcdTIxM2ZcXFxcdTIxNDUtXFxcXHUyMTQ5XFxcXHUyMTRlXFxcXHUyMTgzLVxcXFx1MjE4NFxcXFx1MmMwMC1cXFxcdTJjMmVcXFxcdTJjMzAtXFxcXHUyYzVlXFxcXHUyYzYwLVxcXFx1MmM2ZicgK1xuICAgICAgICAnXFxcXHUyYzcxLVxcXFx1MmM3ZFxcXFx1MmM4MC1cXFxcdTJjZTRcXFxcdTJkMDAtXFxcXHUyZDI1XFxcXHUyZDMwLVxcXFx1MmQ2NVxcXFx1MmQ2ZlxcXFx1MmQ4MC1cXFxcdTJkOTZcXFxcdTJkYTAtXFxcXHUyZGE2XFxcXHUyZGE4LVxcXFx1MmRhZVxcXFx1MmRiMC1cXFxcdTJkYjYnICtcbiAgICAgICAgJ1xcXFx1MmRiOC1cXFxcdTJkYmVcXFxcdTJkYzAtXFxcXHUyZGM2XFxcXHUyZGM4LVxcXFx1MmRjZVxcXFx1MmRkMC1cXFxcdTJkZDZcXFxcdTJkZDgtXFxcXHUyZGRlXFxcXHUyZTJmXFxcXHUzMDA1LVxcXFx1MzAwNlxcXFx1MzAzMS1cXFxcdTMwMzVcXFxcdTMwM2ItXFxcXHUzMDNjJyArXG4gICAgICAgICdcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDlkLVxcXFx1MzA5ZlxcXFx1MzBhMS1cXFxcdTMwZmFcXFxcdTMwZmMtXFxcXHUzMGZmXFxcXHUzMTA1LVxcXFx1MzEyZFxcXFx1MzEzMS1cXFxcdTMxOGVcXFxcdTMxYTAtXFxcXHUzMWI3XFxcXHUzMWYwLVxcXFx1MzFmZicgK1xuICAgICAgICAnXFxcXHUzNDAwLVxcXFx1NGRiNVxcXFx1NGUwMC1cXFxcdTlmYzNcXFxcdWEwMDAtXFxcXHVhNDhjXFxcXHVhNTAwLVxcXFx1YTYwY1xcXFx1YTYxMC1cXFxcdWE2MmJcXFxcdWE2NDAtXFxcXHVhNjVmXFxcXHVhNjYyLVxcXFx1YTY2ZVxcXFx1YTY3Zi1cXFxcdWE2OTcnICtcbiAgICAgICAgJ1xcXFx1YTcxNy1cXFxcdWE3MWZcXFxcdWE3MjItXFxcXHVhNzg4XFxcXHVhNzhiLVxcXFx1YTc4Y1xcXFx1YTdmYi1cXFxcdWE4MDFcXFxcdWE4MDMtXFxcXHVhODA1XFxcXHVhODA3LVxcXFx1YTgwYVxcXFx1YTgwYy1cXFxcdWE4MjJcXFxcdWE4NDAtXFxcXHVhODczJyArXG4gICAgICAgICdcXFxcdWE4ODItXFxcXHVhOGIzXFxcXHVhOGQwLVxcXFx1YThkOVxcXFx1YTkwMC1cXFxcdWE5MjVcXFxcdWE5MzAtXFxcXHVhOTQ2XFxcXHVhYTAwLVxcXFx1YWEyOFxcXFx1YWE0MC1cXFxcdWFhNDJcXFxcdWFhNDQtXFxcXHVhYTRiXFxcXHVhYTUwLVxcXFx1YWE1OScgK1xuICAgICAgICAnXFxcXHVhYzAwLVxcXFx1ZDdhM1xcXFx1ZjkwMC1cXFxcdWZhMmRcXFxcdWZhMzAtXFxcXHVmYTZhXFxcXHVmYTcwLVxcXFx1ZmFkOVxcXFx1ZmIwMC1cXFxcdWZiMDZcXFxcdWZiMTMtXFxcXHVmYjE3XFxcXHVmYjFkXFxcXHVmYjFmLVxcXFx1ZmIyOFxcXFx1ZmIyYS1cXFxcdWZiMzYnICtcbiAgICAgICAgJ1xcXFx1ZmIzOC1cXFxcdWZiM2NcXFxcdWZiM2VcXFxcdWZiNDAtXFxcXHVmYjQxXFxcXHVmYjQzLVxcXFx1ZmI0NFxcXFx1ZmI0Ni1cXFxcdWZiYjFcXFxcdWZiZDMtXFxcXHVmZDNkXFxcXHVmZDUwLVxcXFx1ZmQ4ZlxcXFx1ZmQ5Mi1cXFxcdWZkYzdcXFxcdWZkZjAtXFxcXHVmZGZiJyArXG4gICAgICAgICdcXFxcdWZlMzMtXFxcXHVmZTM0XFxcXHVmZTRkLVxcXFx1ZmU0ZlxcXFx1ZmU3MC1cXFxcdWZlNzRcXFxcdWZlNzYtXFxcXHVmZWZjXFxcXHVmZjEwLVxcXFx1ZmYxOVxcXFx1ZmYyMS1cXFxcdWZmM2FcXFxcdWZmM2ZcXFxcdWZmNDEtXFxcXHVmZjVhXFxcXHVmZjY2LVxcXFx1ZmZiZScgK1xuICAgICAgICAnXFxcXHVmZmMyLVxcXFx1ZmZjN1xcXFx1ZmZjYS1cXFxcdWZmY2ZcXFxcdWZmZDItXFxcXHVmZmQ3XFxcXHVmZmRhLVxcXFx1ZmZkYyc7XG5cbiAgICAvLyBTZWUgVGFnLlRvQXJyYXlcbiAgICBmdW5jdGlvbiB0YWdTZXBhcmF0b3IodGFncykge1xuXG4gICAgICAgIHRhZ3MgPSAkLnRyaW0odGFncyk7XG5cbiAgICAgICAgaWYgKC9eXFx8LipcXHwkLy50ZXN0KHRhZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ8XCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgVGFnLklzUGx1c0RlbGltaXRlZFxuICAgICAgICB2YXIgZXh0cmFMZXR0ZXJzID0gU3RhY2tFeGNoYW5nZS5zZXR0aW5ncy50YWdzLmFsbG93Tm9uQXNjaWlUYWdzID8gYWxsb3dlZE5vbkFzY2lpQ2hhcmFjdGVycyA6IFwiXCI7XG4gICAgICAgIGlmICghL1xccy8udGVzdCh0YWdzKSAmJiBSZWdFeHAoJ1tBLVphLXonICsgZXh0cmFMZXR0ZXJzICsgJzAtOSNcXFxcLS4qXVxcXFwrW0EtemEteicgKyBleHRyYUxldHRlcnMgKyAnMC05I1xcXFwtLl0nKS50ZXN0KHRhZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIrXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gL1tcXHN8LDtdKy87XG4gICAgfTtcblxuICAgIC8vIHRha2VzIHRoZSB1c2VyIGVudGVyZWQgdGFnIHN0cmluZyBhbmQgc3BsaXRzIGl0IGludG8gYSBsaXN0IG9mIFwibmljZVwiIHRhZ3NcbiAgICBmdW5jdGlvbiBzYW5pdGl6ZUFuZFNwbGl0VGFncyh0YWdzLCBhbGxvd1dpbGRjYXJkcywgYWxsb3dPcGVyYXRvcnMsIGFsbG93VXBwZXJDYXNlKSB7XG5cbiAgICAgICAgdmFyIHNwbGl0dGVkID0gJC50cmltKHRhZ3MpLnNwbGl0KFN0YWNrRXhjaGFuZ2UuaGVscGVycy50YWdTZXBhcmF0b3IodGFncykpO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdHRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlbid0IGFsbG93ZWQgaW4gdGFnc1xuICAgICAgICAgICAgdmFyIHRhZyA9IHNwbGl0dGVkW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWFsbG93VXBwZXJDYXNlKSB7IC8vIEhBQ0s6IHRvIHN1cHBvcnQgZGlzcGxheSBuYW1lcyBpbiBxdWVzdGlvbiBtZW50aW9uIG5vdGlmaWNhdGlvbnMgT05MWSFcbiAgICAgICAgICAgICAgICB0YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnRhZ3MuYWxsb3dOb25Bc2NpaVRhZ3MpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMubm9EaWFjcml0aWNzKHRhZyk7IC8vIHJlcGxhY2UgZGlhY3JpdGljcyBhbmQgc2ltaWxhciBjaGFyYWN0ZXJzIGJ5IHRoZWlyIHBsYWluIGFzY2lpIGJyb3RoZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWcgPSB0YWcucmVwbGFjZSgvXy9nLCBcIi1cIik7IC8vIHR1cm4gdW5kZXJzY29yZSBpbnRvIGRhc2hcbiAgICAgICAgICAgIHZhciBpbGxlZ2FsQ2hhcnMgPSAoYWxsb3dVcHBlckNhc2UgPyBcIlteQS1aYS16MC05LiMrXCIgOiBcIlteYS16MC05LiMrXCIpXG4gICAgICAgICAgICAgICAgKyAoYWxsb3dXaWxkY2FyZHMgPyBcIipcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgKyAoU3RhY2tFeGNoYW5nZS5zZXR0aW5ncy50YWdzLmFsbG93Tm9uQXNjaWlUYWdzID8gYWxsb3dlZE5vbkFzY2lpQ2hhcmFjdGVycyA6IFwiXCIpXG4gICAgICAgICAgICAgICAgKyBcIi1dXCI7XG4gICAgICAgICAgICB0YWcgPSB0YWcucmVwbGFjZShuZXcgUmVnRXhwKGlsbGVnYWxDaGFycywgXCJnXCIpLCBcIlwiKTtcblxuICAgICAgICAgICAgLy8gIyArIC0gYXJlbid0IGFsbG93ZWQgaW4gdGhlIGZpcnN0IHBvc2l0aW9uXG4gICAgICAgICAgICB0YWcgPSB0YWcucmVwbGFjZSgvXlsjKy1dKy8sIFwiXCIpO1xuXG4gICAgICAgICAgICAvLyAuIC0gYXJlbid0IGFsbG93ZWQgYXQgdGhlIGVuZFxuICAgICAgICAgICAgdGFnID0gdGFnLnJlcGxhY2UoL1suLV0rJC8sIFwiXCIpO1xuXG4gICAgICAgICAgICB2YXIgb3BlcmF0b3JzID0gW1wib3JcIiwgXCJhbmRcIiwgXCJub3RcIl07XG4gICAgICAgICAgICB2YXIgaXNPcGVyYXRvciA9IG9wZXJhdG9ycy5pbmRleE9mKHRhZykgIT09IC0xO1xuICAgICAgICAgICAgdmFyIGFscmVhZHlFeGlzdHMgPSByZXN1bHQuaW5kZXhPZih0YWcpICE9PSAtMTtcblxuICAgICAgICAgICAgLy8gMS4gRG9uJ3QgYWRkIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgICAgIC8vIDIuIERvbid0IGFkZCBleGlzdGluZyB0YWdzIG9yIG9wZXJhdG9ycyB1bmxlc3Mgd2UncmUgYWxsb3dpbmcgb3BlcmF0b3JzLCBpbiB3aGljaCBjYXNlIGJvdGggb3BlcmF0b3JzIGFuZCBkdXBsaWNhdGVzIGFyZSBhbGxvd2VkLlxuICAgICAgICAgICAgaWYgKHRhZy5sZW5ndGggPiAwICYmICgoIWlzT3BlcmF0b3IgJiYgIWFscmVhZHlFeGlzdHMpIHx8IGFsbG93T3BlcmF0b3JzKSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9EaWFjcml0aWNzOiBub0RpYWNyaXRpY3MsXG4gICAgICAgIHRhZ1NlcGFyYXRvcjogdGFnU2VwYXJhdG9yLFxuICAgICAgICBzYW5pdGl6ZUFuZFNwbGl0VGFnczogc2FuaXRpemVBbmRTcGxpdFRhZ3NcbiAgICB9O1xuXG59KSgpKTtcbiIsImltcG9ydCB7IHNob3dDaXRhdGlvbiB9IGZyb20gXCIuLi9jaXRhdGlvbi5tb2RcIjtcbmltcG9ydCB7IGluaXRTYXZlcyB9IGZyb20gXCIuLi9zYXZlcy5tb2RcIjtcbmltcG9ydCB7IEtFWV9DT0RFIH0gZnJvbSAnLi4vY29uc3RhbnRzLm1vZCc7XG5cbi8vIG9wdGlvbnMgdG8gU3RhY2tFeGNoYW5nZS5xdWVzdGlvbnMuaW5pdDpcbi8vICAgcXVlc3Rpb25JZCAgICAgICAgICAgIHRoZSBudW1iZXIgb2YgbWljcm9zZWNvbmRzIHNpbmNlIHRoZSBiaWcgYmFuZyAoTm8sIG5vdCByZWFsbHkuIEd1ZXNzIHdoYXQgdGhpcyBpcykuXG4vLyAgIGhhc09wZW5Cb3VudHkgICAgICAgICB0cnVlIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIGFuIG9wZW4gYm91bnR5IG9uIHRoaXMgcXVlc3Rpb25cbi8vICAgY2FuT3BlbkJvdW50eSAgICAgICAgIHRydWUgaWYgdGhlIGN1cnJlbnQgdXNlciBjYW4gb3BlbiBhIGJvdW50eSBvbiB0aGlzIHF1ZXN0aW9uXG4vLyAgIHZvdGVzQ2FzdCAgICAgICAgICAgICBhcnJheSBvZiBvYmplY3RzIG9mIHRoZSBraW5kIHtcIlBvc3RJZFwiOjM4MjkyLFwiVm90ZVR5cGVJZFwiOjJ9LCBkZW5vdGluZyBvbiB3aGF0IHBvc3RzIGFuZCBob3cgdGhlIGN1cnJlbnQgdXNlciBoYXMgdm90ZWQgb24gdGhpcyBwYWdlXG4vLyAgIGNhblZpZXdWb3RlQ291bnRzICAgICB0cnVlIGlmIHRoZSB1c2VyIGhhcyB0aGUgcHJpdmlsZWdlIHRvIHZpZXcgdGhlIHZvdGUgc3BsaXQgb24gcG9zdHNcbi8vICAgYXV0b1Nob3dDb21tZW50SGVscCAgIHRydWUgaWYgdGhlIGNvbW1lbnQgaGVscCBkaXYgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYmUgc2hvd24gd2hlbiB0aGUgdXNlciBzdGFydHMgdG8gd3JpdGUgYSBjb21tZW50XG5cbi8vICAgdG90YWxDb21tZW50Q291bnQgICAgIG51bWJlciBvZiBjb21tZW50cyBvbiB0aGUgcXVlc3Rpb24sIHRvdGFsXG4vLyAgIHNob3duQ29tbWVudENvdW50ICAgICBudW1iZXIgb2YgY29tbWVudHMgc2hvd24gb24gdGhlIHF1ZXN0aW9uXG5cbi8vICAgZm9jdXNQb3N0RWRpdG9yICAgICAgIGZvY3VzZXMgdGhlIFwicG9zdCBhbiBhbnN3ZXJcIi1lZGl0b3IsIGFuZCBzY3JvbGxzIHVudGlsIGl0IGlzIHZpc2libGVcblxuU3RhY2tFeGNoYW5nZS5xdWVzdGlvbiA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICBmdW5jdGlvbiBzaG93QW5zd2VySGVscCgpIHtcbiAgICAgICAgJChcIi5qcy1hbnN3ZXItaGVscFwiKS5yZW1vdmVDbGFzcyhcImQtbm9uZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaGlkZUFuc3dlckhlbHAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoXCIuanMtYW5zd2VyLWhlbHBcIikuYWRkQ2xhc3MoXCJkLW5vbmVcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93QW5zd2VyQmFuV2FybmluZygpIHtcbiAgICAgICAgJCgnI3F1YWxpdHlCYW5XYXJuaW5nU2hvd24nKS52YWwoJ3RydWUnKTtcbiAgICAgICAgJChcIi5qcy1hbnN3ZXItYmFuXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoaWRlQW5zd2VyQmFuV2FybmluZyhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJChcIi5qcy1hbnN3ZXItYmFuXCIpLmFkZENsYXNzKFwiZC1ub25lXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfVxuXG4gICAgdmFyIGdldFF1ZXN0aW9uSWQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAvLyBjb250ZXh0IGFsbG93cyBwYXNzaW5nIGluIGFuIGVsZW1lbnQgdGhhdCBzaG91bGQgaGF2ZSBhIHF1ZXN0aW9uIGl0cyBhbmNlc3RyeSAob3IgYmUgdGhlIHF1ZXN0aW9uKVxuICAgICAgICB2YXIgcSA9IGNvbnRleHQgPyBjb250ZXh0LmNsb3Nlc3QoJy5xdWVzdGlvbicpIDogJCgnLnF1ZXN0aW9uJyksXG4gICAgICAgICAgICByZXN1bHQgPSBxLmRhdGEoJ3F1ZXN0aW9uaWQnKTtcblxuICAgICAgICBpZiAoIXJlc3VsdCkgdGhyb3cgbmV3IEVycm9yKCdnZXRRdWVzdGlvbklkIGNvdWxkIG5vdCBmaW5kIGFuIGlkJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdmFyIGNhblZpZXdWb3RlQ291bnRzO1xuXG4gICAgZnVuY3Rpb24gZ2V0UG9zdChwb3N0SWQpIHtcbiAgICAgICAgcmV0dXJuICQoJy5xdWVzdGlvbltkYXRhLXF1ZXN0aW9uaWQ9JyArIHBvc3RJZCArICddLCAuYW5zd2VyW2RhdGEtYW5zd2VyaWQ9JyArIHBvc3RJZCArICddJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9Qb3N0KHBvc3RJZCkge1xuICAgICAgICB2YXIgJHBvc3QgPSBnZXRQb3N0KHBvc3RJZCk7XG4gICAgICAgIGlmICgkcG9zdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYXNoID0gJHBvc3QuaGFzQ2xhc3MoJ3F1ZXN0aW9uJykgPyAnI3F1ZXN0aW9uJyA6ICcjJyArIHBvc3RJZDtcblxuICAgICAgICBpZiAobG9jYXRpb24uaGFzaCAhPT0gaGFzaCkge1xuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkcG9zdC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIGRvSGlnaGxpZ2h0KCRwb3N0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9Db21tZW50KGNvbW1lbnRJZCwgcG9zdElkKSB7XG4gICAgICAgIHZhciAkcG9zdCA9IGdldFBvc3QocG9zdElkKTtcbiAgICAgICAgaWYgKCRwb3N0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhc2ggPSAnI2NvbW1lbnQnICsgY29tbWVudElkICsgJ18nICsgcG9zdElkO1xuICAgICAgICBpZiAobG9jYXRpb24uaGFzaCAhPT0gaGFzaCkge1xuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzLmhpZ2hsaWdodChjb21tZW50SWQsIHBvc3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGRvSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGpFbGUpIHtcbiAgICAgICAgakVsZS5hZGRDbGFzcyhcImhpZ2hsaWdodGVkLXBvc3RcIik7XG4gICAgfTtcblxuXG4gICAgdmFyIGluaXRTaGFyZUxpbmtzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xpY2tFdmVudE5hbWUgPSAnY2xpY2suc2hhcmVMaW5rcyc7XG5cbiAgICAgICAgLy8gYmluZCBwb3N0IG1lbnUncyBcImxpbmtcIiB0byB0b2dnbGUgdGhlIHNoYXJlIHBvcHVwXG4gICAgICAgICQoZG9jdW1lbnQpXG4gICAgICAgICAgICAub2ZmKGNsaWNrRXZlbnROYW1lKVxuICAgICAgICAgICAgLm9uKGNsaWNrRXZlbnROYW1lLCBcIi5ib3R0b20tc2hhcmUtbGlua3MgYVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICB2YXIgc3ZjID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChocmVmICYmIGhyZWYubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChocmVmLmluZGV4T2YoJyUzZnNncCUzZCcpID49IDApIHN2YyA9IDE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaHJlZi5pbmRleE9mKCclM2ZzZmIlM2QnKSA+PSAwKSBzdmMgPSAyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhyZWYuaW5kZXhPZignJTNmc3R3JTNkJykgPj0gMCkgc3ZjID0gMztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChocmVmLmluZGV4T2YoJyUzZnNlbSUzZCcpID49IDApIHN2YyA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3ZjKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NoYXJlLmNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogMyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZTogc3ZjXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYm4gPSAkKCcuYm90dG9tLW5vdGljZScpO1xuICAgICAgICBpZiAoYm4gJiYgYm4ubGVuZ3RoICYmIGJuLmRhdGEoJ2xvYycpKVxuICAgICAgICB7XG4gICAgICAgICAgICBibi5vZmYoY2xpY2tFdmVudE5hbWUpLm9uKGNsaWNrRXZlbnROYW1lLCBcImFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gMCwgbG9jID0gYm4uZGF0YSgnbG9jJyk7XG4gICAgICAgICAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwb3N0LXRhZycpKSB0eXBlID0gMTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXFwvYXNrJC8udGVzdChocmVmKSkgdHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoL1xcL3RhZ3MkLy50ZXN0KGhyZWYpKSB0eXBlID0gNDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXFwvdW5hbnN3ZXJlZCQvLnRlc3QoaHJlZikpIHR5cGUgPSA1O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9cXC9xdWVzdGlvbnMkLy50ZXN0KGhyZWYpIHx8IC9cXC9xdWVzdGlvbnNbP1xcL10vLnRlc3QoaHJlZikpIHR5cGUgPSAzO1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwibmV4dF9hY3Rpb24uY2xpY2tcIiwgeyB0eXBlOiB0eXBlLCBsb2NhdGlvbjogbG9jIH0sIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGN1cnJlbnRseVNlbGVjdGVkVGl0bGVMaW5rID0gbnVsbDtcbiAgICB2YXIgbW92ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIChqU2VhcmNoLCBvcHRpb25zLCBkaXIpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBtb3ZlIGFyb3VuZCBpbiwgaWdub3JlIHRoZSBldmVudFxuICAgICAgICBpZiAoIWN1cnJlbnRseVNlbGVjdGVkVGl0bGVMaW5rICYmICFqU2VhcmNoLmlzKFwiOmZvY3VzXCIpKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB2YXIgY2FuQmVTZWxlY3RlZCA9IG9wdGlvbnMuZmluZCgnLnRpdGxlLWZsb2F0LW9wdGlvbicpO1xuXG4gICAgICAgIHZhciBjdXJJbmRleCA9IGN1cnJlbnRseVNlbGVjdGVkVGl0bGVMaW5rID8gY2FuQmVTZWxlY3RlZC5pbmRleChjdXJyZW50bHlTZWxlY3RlZFRpdGxlTGluaykgOiAtMTtcblxuICAgICAgICBjdXJJbmRleCArPSBkaXI7XG5cbiAgICAgICAgaWYgKGN1ckluZGV4IDwgLTEgfHwgY3VySW5kZXggPj0gY2FuQmVTZWxlY3RlZC5sZW5ndGgpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIG9wdGlvbnMuZmluZCgnLnRpdGxlLWZsb2F0LXNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3RpdGxlLWZsb2F0LXNlbGVjdGVkJyk7XG5cbiAgICAgICAgaWYgKGN1ckluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICBjdXJyZW50bHlTZWxlY3RlZFRpdGxlTGluayA9IG51bGw7XG4gICAgICAgICAgICBqU2VhcmNoLmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50bHlTZWxlY3RlZFRpdGxlTGluayA9IGNhbkJlU2VsZWN0ZWQuZXEoY3VySW5kZXgpO1xuXG4gICAgICAgIGN1cnJlbnRseVNlbGVjdGVkVGl0bGVMaW5rLmFkZENsYXNzKCd0aXRsZS1mbG9hdC1zZWxlY3RlZCcpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gUHV0cyByZXN1bHRIdG1sIGludG8gYSBib3ggZmxvYXRpbmcgdW5kZXIgalNlYXJjaCBpZiBhcHByb3ByaWF0ZVxuICAgIHZhciBmbG9hdFRpdGxlU2VhcmNoUmVzdWx0cyA9IGZ1bmN0aW9uIChqU2VhcmNoLCByZXN1bHRIdG1sKSB7XG4gICAgICAgIC8vIERvbid0IHNob3cgdGhpcyBwb3B1cCBib3ggaWYgdGhlIHVzZXIgaGFzIG1vdmVkIG9uXG4gICAgICAgIGlmICghalNlYXJjaC5pcygnOmZvY3VzJykpIHJldHVybjtcblxuICAgICAgICB2YXIgcG9zID0galNlYXJjaC5vZmZzZXQoKTtcbiAgICAgICAgdmFyIGpSZXN1bHRzID0gJChyZXN1bHRIdG1sKTtcbiAgICAgICAgalJlc3VsdHMuZmluZCgnLmFuc3dlci1zdW1tYXJ5JykuYWRkQ2xhc3MoJ3RpdGxlLWZsb2F0LW9wdGlvbicpO1xuXG4gICAgICAgIGpSZXN1bHRzLmZpbmQoJy5hbnN3ZXItbGluayBhJykuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpO1xuXG4gICAgICAgIHZhciBqRmxvYXQgPSAkKCcudGl0bGUtc2VhcmNoLWZsb2F0Jyk7XG4gICAgICAgIC8vIGZpcnN0IHJ1biFcbiAgICAgICAgaWYgKGpGbG9hdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgalNlYXJjaC5mb2N1cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpGbG9hdC5jaGlsZHJlbigpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGpGbG9hdC5zaG93KCk7IH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBqRmxvYXQgPSAkKCc8ZGl2IGNsYXNzPVwidGl0bGUtc2VhcmNoLWZsb2F0XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICBqU2VhcmNoLnBhcmVudCgpLmFwcGVuZChqRmxvYXQpO1xuXG4gICAgICAgICAgICAvLyBrZXlkb3duIHNvIHdlIGNhbiBwcmV2ZW50IGRlZmF1bHRcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmtleWRvd24oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgeW91IEVTQyBvciBUQUIgb3V0LCBoaWRlIHRoZSBmbG9hdGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gS0VZX0NPREUuRVNDIHx8IGUua2V5Q29kZSA9PSBLRVlfQ09ERS5UQUIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpGbG9hdC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudGl0bGUtZmxvYXQtc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygndGl0bGUtZmxvYXQtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVNlbGVjdGVkVGl0bGVMaW5rID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvd24ga2V5XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gS0VZX0NPREUuRE9XTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmVTZWxlY3Rpb24oalNlYXJjaCwgakZsb2F0LCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB1cCBrZXlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSBLRVlfQ09ERS5VUCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmVTZWxlY3Rpb24oalNlYXJjaCwgakZsb2F0LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVudGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGpGbG9hdC5maW5kKCcudGl0bGUtZmxvYXQtc2VsZWN0ZWQ6dmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBzZWxlY3RlZC5maW5kKCdhJykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGxpbmssICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgJChkb2N1bWVudCkuY2xpY2soXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ2xpY2tlZE9uU2VhcmNoID0gJChlLnRhcmdldClbMF0gPT0galNlYXJjaFswXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJChlLnRhcmdldCkucGFyZW50cygnLnRpdGxlLXNlYXJjaC1mbG9hdCcpLmxlbmd0aCA9PSAwICYmICFpc0NsaWNrZWRPblNlYXJjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgakZsb2F0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFqRmxvYXQuaXMoXCI6dmlzaWJsZVwiKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBqU2VhcmNoLm9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBwb3MudG9wICsgalNlYXJjaC5vdXRlckhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyAtMiBiZWNhdXNlIFwiaW50ZXJuZXRcIlxuICAgICAgICAgICAgICAgICAgICBqRmxvYXQud2lkdGgoKGpTZWFyY2gub3V0ZXJXaWR0aCgpIC0gMikgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICBqRmxvYXQub2Zmc2V0KHsgdG9wOiB0b3AsIGxlZnQ6IHBvcy5sZWZ0IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqRmxvYXQuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgakZsb2F0LmVtcHR5KCk7XG5cbiAgICAgICAgdmFyIHRvcCA9IHBvcy50b3AgKyBqU2VhcmNoLm91dGVySGVpZ2h0KCk7XG5cbiAgICAgICAgakZsb2F0LmFwcGVuZChqUmVzdWx0cyk7XG4gICAgICAgIGpGbG9hdC5jc3MoeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiIH0pO1xuXG4gICAgICAgIC8vIC0yIGJlY2F1c2UgXCJpbnRlcm5ldFwiXG4gICAgICAgIGpGbG9hdC53aWR0aCgoalNlYXJjaC5vdXRlcldpZHRoKCkgLSAyKSArIFwicHhcIik7XG4gICAgICAgIGpGbG9hdC5vZmZzZXQoeyB0b3A6IHRvcCwgbGVmdDogcG9zLmxlZnQgfSk7XG4gICAgfTtcblxuICAgIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBsZXQgeW91IFwiZm9yY2VcIiBhbiB1cGRhdGVcbiAgICAvLyBvcHRpb25zOlxuICAgIC8vICBzaXRlTmFtZSAtIHNpdGUgbmFtZSB0byBhcHBlbmQgdG8gdGhlIGVuZCBvZiB0aGUgcXVlc3Rpb24gdGl0bGUgaW4gc2VhcmNoIHJlc3VsdHMgZS5nLiBIb3cgZG8gSSBmcm9iIHRoZSB3aWRnZXQ/IC0gU3RhY2sgT3ZlcmZsb3dcbiAgICAvLyAgb25SZXN1bHRzIC0gZnVuY3Rpb24gdG8gYmUgcnVuIHRoYXQgZG9lcyBzb21ldGhpbmcgZm9yIGV2ZXJ5IHF1ZXN0aW9uIGxpbmsgaW4gdGhlIHJlc3VsdCBzZXRcbiAgICAvLyAgc2VhcmNoUm91dGVPdmVycmlkZSAtIHNwZWNpZnkgYSBkaWZmZXJlbnQgcm91dGUgdG8gdXNlIGZvciBzZWFyY2hpbmcuIGJ5IGRlZmF1bHQsIC9zZWFyY2gvdGl0bGVzXG4gICAgdmFyIGluaXRUaXRsZVNlYXJjaCA9IGZ1bmN0aW9uIChqVGl0bGVCb3gsIGpJbnRvQm94LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG5cbiAgICAgICAgdmFyIHNlYXJjaFJvdXRlID0gb3B0aW9ucy5zZWFyY2hSb3V0ZU92ZXJyaWRlIHx8ICcvc2VhcmNoL3RpdGxlcyc7XG4gICAgICAgIHZhciBvblJlc3VsdHMgPSBvcHRpb25zLm9uUmVzdWx0cyB8fCBmdW5jdGlvbigpIHt9O1xuXG4gICAgICAgIHZhciBsYXN0UmVmcmVzaGVkID0gMCxcbiAgICAgICAgICAgIGxhc3RUaXRsZSxcbiAgICAgICAgICAgIHBvcHVwO1xuXG4gICAgICAgIC8vIGRpc2FibGUgYXV0b2NvbXBsZXRlXG4gICAgICAgIGpUaXRsZUJveC5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG5cbiAgICAgICAgdmFyIGRvVXBkYXRlID0gZnVuY3Rpb24gKGJ5cGFzc0NoZWNrcykge1xuICAgICAgICAgICAgdmFyIHMgPSBqVGl0bGVCb3gudmFsKCk7XG5cbiAgICAgICAgICAgIGlmIChzID09ICcnIHx8IChzID09IGxhc3RUaXRsZSAmJiBieXBhc3NDaGVja3MgIT09IHRydWUpKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIERvbid0IGRvIGFuIHVwZGF0ZSBvbmNlIHNvbWVib2RpZXMgdGFiYmluZyBkb3duLlxuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3Muc2l0ZS5uZXdUaXRsZVNlYXJjaEJveEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLnRpdGxlLWZsb2F0LXNlbGVjdGVkOnZpc2libGUnKS5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHMuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHZhciB3b3JkQ291bnQgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0ocGFydHNbaV0pLmxlbmd0aCA+IDApIHdvcmRDb3VudCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgdmFyIHNpbmNlTGFzdCA9IChub3cgLSBsYXN0UmVmcmVzaGVkKSAvIDEwMDA7XG5cbiAgICAgICAgICAgIGlmIChieXBhc3NDaGVja3MgIT09IHRydWUgJiYgKHdvcmRDb3VudCA8IDMgfHwgc2luY2VMYXN0IDwgNSkgJiYgIWpUaXRsZUJveC5oYXNDbGFzcygnZWRpdC1maWVsZC1vdmVybGF5ZWQnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBsYXN0UmVmcmVzaGVkID0gbm93O1xuICAgICAgICAgICAgbGFzdFRpdGxlID0gcztcblxuICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3Qgd2FudCB0aGlzIHRpdGxlIHVwZGF0aW5nIGJlaGF2aW9yLCBqdXN0IGRvbid0IHBhc3MgYSBzaXRlbmFtZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2l0ZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHMgKyAnIC0gJyArIG9wdGlvbnMuc2l0ZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEkKCcuanMtc2ltaWxhci1xdWVzdGlvbnMtbG9hZGVyJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgakludG9Cb3guZW1wdHkoKTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYWRkU3Bpbm5lcihqSW50b0JveCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpJbnRvQm94LmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmFkZFN0YWNrc1NwaW5uZXIoakludG9Cb3gsIFwibGdcIiwgXCJmYy1vcmFuZ2UtNDAwIG1sMTYgbXQxMlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvcHVwKVxuICAgICAgICAgICAgICAgIHBvcHVwLmZhZGVPdXRBbmRSZW1vdmUoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHNlYXJjaFJvdXRlLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YTogeyB0aXRsZTogcyB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgakludG9Cb3guaHRtbChkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXN1bHRzKGpJbnRvQm94LmZpbmQoJy5hbnN3ZXItbGluayBhJykuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5qcy1saW5rXCIpLmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy12ZXJpZnktbm90LWR1cGxpY2F0ZScpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLW5leHQtdGl0bGUnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5qcy1zaW1pbGFyLXF1ZXN0aW9ucy1vdXRlci1kaXYnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2ltaWxhci1xdWVzdGlvbnMtb3V0ZXItZGl2JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1xdWVzdGlvbi1zdW1tYXJ5LXNjcm9sbCcpLm9uZSgnc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiZ3BzXCIsIGZ1bmN0aW9uICgpIHsgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soXCJzaW1pbGFycXVlc3Rpb25zLnRpdGxlX3Njcm9sbFwiKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1zaW1pbGFyLXF1ZXN0aW9ucy1vdXRlci1kaXYnKS50b2dnbGVDbGFzcygnZC1ub25lJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlc3VsdHMobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZUpTT04uY29udGVudC5sZW5ndGggPiAwKSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcihqSW50b0JveCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1uZXh0LXRpdGxlJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG92ZXJSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgIGpJbnRvQm94Lm1vdXNlZW50ZXIoXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb3ZlclJlc3VsdHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICApLm1vdXNlbGVhdmUoXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvdmVyUmVzdWx0cyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGpUaXRsZUJveC5rZXl1cChkb1VwZGF0ZSkuYmx1cihcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmx1clVwZGF0ZSA9XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZWZyZXNoZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9VcGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSB0cnlpbmcgdG8gKmNsaWNrKiB0aGUgc2VhcmNoIHJlc3VsdHMsIGRvbid0IG1vdmUgdGhlIHRhcmdldHMganVzdFxuICAgICAgICAgICAgICAgIC8vICAgYmVjYXVzZSBmb2N1cyBsZWZ0IHRoZSB0aXRsZSBib3hcbiAgICAgICAgICAgICAgICBpZiAob3ZlclJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgakludG9Cb3gub25lKCdtb3VzZWxlYXZlJywgYmx1clVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmx1clVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoalRpdGxlQm94LnZhbCgpKSB7XG4gICAgICAgICAgICBkb1VwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9zZXRJbnRlcnZhbChkb1VwZGF0ZSwgMTAwKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGJ5cGFzc0NoZWNrcykgeyBsYXN0UmVmcmVzaGVkID0gMDsgZG9VcGRhdGUoYnlwYXNzQ2hlY2tzKTsgfTtcbiAgICB9O1xuXG4gICAgLy8gdGhpcyBpcyBuZWVkZWQgdG8gcmVjbGFpbSBhIGJ1bmNoIG9mIGxvY2FsU3RvcmFnZSBjcmFwIGZyb20gdGhlIG5leHQvcHJldmlvdXMgYnV0dG9uIGV4cGVyaW1lbnRcbiAgICB2YXIgY2xlYW51cE5leHRBbmRQcmV2aW91c0J1dHRvblN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25leHRQcmV2VHJhY2tTdGF0ZScpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25leHRQcmV2VHJhY2tTdGF0ZTInKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCduZXh0UHJldlN0YXRlJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH07XG5cbiAgICB2YXIgYmluZE5ld0NvbnRyaWJ1dG9ySW5kaWNhdG9ycyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgY3VycmVudCwgY2FuY2VsbGVyO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKHtcbiAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyICRsYWJlbCA9ICR0aGlzLmZpbmQoJy5qcy1uZXctY29udHJpYnV0b3ItbGFiZWwnKTtcbiAgICAgICAgICAgICAgICB2YXIgJHBvcG92ZXIgPSAkdGhpcy5maW5kKCcuanMtbmV3LWNvbnRyaWJ1dG9yLXBvcG92ZXInKTtcblxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZXIgJiYgdGhpcyA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHBvcG92ZXIuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAkdGhpcy5oZWlnaHQoKSArIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAkbGFiZWwucG9zaXRpb24oKS5sZWZ0ICsgJGxhYmVsLndpZHRoKCkgLyAyIC0gJHRoaXMud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHRoaXMud2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZXIgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuRGVsYXllZFJlYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwb3BvdmVyLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlcikge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZXIudHJpZ2dlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJy5qcy1uZXctY29udHJpYnV0b3ItaW5kaWNhdG9yJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZm9jdXNpbmcgdGhlIHRhcmdldHMgaW5kaWNhdGVkIGJ5IHRoZSBsb2NhdGlvbiBoYXNoIChlZyB0aGUgYWRkIGNvbW1lbnQgZWRpdG9yLCBhZGQgYW5zd2VyIGVkaXRvciwgZXRjKVxuICAgICAqL1xuICAgIHZhciBoYW5kbGVIYXNoRm9jdXNUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGdhdGhlciBhbmQgbm9ybWFsaXplIHRoZSBoYXNoXG4gICAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBoYXNoIGhhcyBhIHZhbHVlXG4gICAgICAgIGlmICghaGFzaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbW1hbmRTZWdtZW50cyA9IGhhc2guc3BsaXQoJ18nKSxcbiAgICAgICAgICAgIGNvbW1hbmQgPSBjb21tYW5kU2VnbWVudHNbMF0sXG4gICAgICAgICAgICBwb3N0SWQgPSBjb21tYW5kU2VnbWVudHNbMV07XG5cbiAgICAgICAgdmFyIGhhbmRsZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIGZvY3VzIHRoZSBhcHByb3ByaWF0ZSBlZGl0b3JcbiAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlICdhbnN3ZXInOlxuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBlZGl0b3IgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGZvY3VzIGFuc3dlciBpbnB1dFxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoJ2VkaXRvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuc3dlcklucHV0ID0gJCgnI3dtZC1pbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5zd2VySW5wdXQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcklucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgZWRpdG9yIGluaXQgaGFzIGhhcHBlbmVkIChhc3luYyByYWNlIGNvbmRpdGlvbnMgdy8gZWRpdG9yIGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1hZGQtYW5vdGhlci1hbnN3ZXInKS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhZGRjb21tZW50JzpcbiAgICAgICAgICAgICAgICBpZiAocG9zdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNjb21tZW50cy1saW5rLScgKyBwb3N0SWQpLmZpbmQoJy5qcy1hZGQtbGluaycpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbm90aWZ5JzpcbiAgICAgICAgICAgICAgICAkKCcuanMtaW5saW5lLW1lbnRpb25zLWVkaXQtbGluaycpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAvL3JlbW92ZSB0aGUgI1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRFbmRvcnNlbWVudExpbmtzKCkge1xuICAgICAgICB2YXIgc2V0U2VsZWN0ZWQgPSBmdW5jdGlvbiAoJGVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgJGVsXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtcHJlc3NlZCcsIHZhbHVlID8gJ3RydWUnIDogJ2ZhbHNlJylcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENsYXNzZXMgPSAkKHRoaXMpLmRhdGEoJ3NlbGVjdGVkLWNsYXNzZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhzZWxlY3RlZENsYXNzZXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3VGl0bGUgPSAhaXNTZWxlY3RlZCgkZWwpXG4gICAgICAgICAgICAgICAgPyAkZWwuZGF0YSgnYWRkLWVuZG9yc2VtZW50LXRpdGxlJylcbiAgICAgICAgICAgICAgICA6ICRlbC5kYXRhKCdyZW1vdmUtZW5kb3JzZW1lbnQtdGl0bGUnKTtcblxuICAgICAgICAgICAgJGVsLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tzLnNldFRvb2x0aXBIdG1sKCQodGhpcylbMF0sXG4gICAgICAgICAgICAgICAgICAgIG5ld1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gKCRlbCkge1xuICAgICAgICAgICAgcmV0dXJuICRlbC5hdHRyKCdhcmlhLXByZXNzZWQnKSA9PT0gJ3RydWUnO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlbmRvcnNlQW5zd2VyU2luZ2xlQ29tbXVuaXR5X2NsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjbGlja2VkID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgaWYgKCRjbGlja2VkLmlzKCc6d29ya2luZycpKSByZXR1cm47XG5cbiAgICAgICAgICAgICRjbGlja2VkLndvcmtpbmcodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZW5kb3JzZWQgPSBpc1NlbGVjdGVkKCRjbGlja2VkKTtcblxuICAgICAgICAgICAgdmFyIHVybCA9ICRjbGlja2VkLmRhdGEoJ2FjdGlvbi1lZGl0LWVuZG9yc2VtZW50LXVybCcpO1xuXG4gICAgICAgICAgICB2YXIgeGhyID0gJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LFxuICAgICAgICAgICAgICAgICAgICAnRW5kb3JzZUFjdGlvbnMnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICdwZXJmb3JtJzogZW5kb3JzZWQgPyAnUmVtb3ZlJyA6ICdBZGQnLCAnc2x1Zyc6IHNpbmdsZUNvbW11bml0eVNsdWcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHhoci5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBfLCBfX18pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUVuZG9yc2VtZW50cyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KGRhdGEuTWVzc2FnZS5tZXNzYWdlLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoX3MoJ0Vycm9yIHVwZGF0aW5nIHJlY29tbWVuZGF0aW9uJyksIHsgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbiAoZGF0YSwgXywgX19fKSB7XG4gICAgICAgICAgICAgICAgJGNsaWNrZWQud29ya2luZyhmYWxzZSkudHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZW5kb3JzZUFuc3dlck1hbnlDb21tdW5pdGllc19jbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHZhciAkY2xpY2tlZCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIGlmICgkY2xpY2tlZC5pcygnOndvcmtpbmcnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAkY2xpY2tlZC53b3JraW5nKHRydWUpO1xuXG4gICAgICAgICAgICB2YXIgZW5kb3JzZU1vZGFsVXJsID0gJGNsaWNrZWQuZGF0YSgnYWN0aW9uLWVuZG9yc2UtbW9kYWwtdXJsJyk7XG5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5sb2FkTW9kYWwoZW5kb3JzZU1vZGFsVXJsKVxuICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGRsZyA9ICQoJy5qcy1zdGFja3MtbWFuYWdlZC1wb3B1cCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb3NlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRsZy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHJlY29tbWVuZGF0aW9uRm9ybSA9ICQoJy5qcy1jaGFuZ2UtcmVjb21tZW5kYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb21tdW5pdHlTZWxlY3Rpb25zID0gJCgnaW5wdXQuanMtY29tbXVuaXR5LXNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHN1Ym1pdFJlY29tbWVuZGF0aW9uID0gJCgnLmpzLXN1Ym1pdC1yZWNvbW1lbmRhdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICRjb21tdW5pdHlTZWxlY3Rpb25zLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3VibWl0UmVjb21tZW5kYXRpb24ucHJvcCgnZGlzYWJsZWQnLCAhaGFzQ2hhbmdlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFzQ2hhbmdlcygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGNvbW11bml0eVNlbGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbW11bml0eVNlbGVjdGlvbiA9ICQoJGNvbW11bml0eVNlbGVjdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0YXRlID0gISEkY29tbXVuaXR5U2VsZWN0aW9uLmRhdGEoJ29yaWdpbmFsLXN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gISEkY29tbXVuaXR5U2VsZWN0aW9uLmlzKCc6Y2hlY2tlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RhdGUgIT09IG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VibWl0VXBkYXRlKGUsIG92ZXJyaWRlRW5kb3JzZUFjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVzdCBpbiBjYXNlLCBjaGFuZ2UgdmFsaWRhdGlvbiBzaG91bGQgYWxyZWFkeSBoYW5kbGUgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ2hhbmdlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChfcygnTm8gY2hhbmdlcyB0byBzYXZlJywgeyB0cmFuc2llbnQ6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZG9yc2VBY3Rpb25zID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZUVuZG9yc2VBY3Rpb25zICYmIG92ZXJyaWRlRW5kb3JzZUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZG9yc2VBY3Rpb25zID0gb3ZlcnJpZGVFbmRvcnNlQWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkY29tbXVuaXR5U2VsZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbW11bml0eVNlbGVjdGlvbiA9ICQoJGNvbW11bml0eVNlbGVjdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTdGF0ZSA9ICEhJGNvbW11bml0eVNlbGVjdGlvbi5kYXRhKCdvcmlnaW5hbC1zdGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSAhISRjb21tdW5pdHlTZWxlY3Rpb24uaXMoJzpjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RhdGUgIT09IG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRvcnNlQWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVnOiAkY29tbXVuaXR5U2VsZWN0aW9uLmRhdGEoJ3NsdWcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtOiBuZXdTdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJHJlY29tbWVuZGF0aW9uRm9ybS5wcm9wKCdhY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQucG9zdCh1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZG9yc2VBY3Rpb25zOiBlbmRvcnNlQWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgXywgX19fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUVuZG9yc2VtZW50cyhkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV2ZXJzZSB0aGUgYWN0aW9uIGZvciB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuZG9yc2VBY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGVkID0gZW5kb3JzZUFjdGlvbnNbaV0ucGVyZm9ybSA9PT0gJ2FkZCc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRvcnNlQWN0aW9uc1tpXS5wZXJmb3JtID0gKGFkZGVkID8gJ3JlbW92ZScgOiAnYWRkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoZGF0YS5NZXNzYWdlLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsIGFjdGlvbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ29udGVudHM6ICdVbmRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFVwZGF0ZShlLCBlbmRvcnNlQWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNlcnZlciBzZW50IGJhY2sgYSByZWFzb24gdGhhdCBpdCBibG9ja2VkIHRoaXMgdm90ZSAtIGluZm9ybSB0aGUgdXNlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIG1lc3NhZ2UgaXMgdGhhdCBpdCdzIHRvbyBlYXJseSB0byBhY2NlcHQgdG8gdGhlIGFuc3dlciwgZmFkZSBpdCBhd2F5IGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KGRhdGEuTWVzc2FnZS5tZXNzYWdlLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KCdFcnJvciB1cGRhdGluZyByZWNvbW1lbmRhdGlvbnMnLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbiAoZGF0YSwgXywgX19fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGlja2VkLndvcmtpbmcoZmFsc2UpLnRyaWdnZXIoJ3VwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJHJlY29tbWVuZGF0aW9uRm9ybS5zdWJtaXQoc3VibWl0VXBkYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICAkY29tbXVuaXR5U2VsZWN0aW9ucy5jaGFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAkY2xpY2tlZC53b3JraW5nKGZhbHNlKS50cmlnZ2VyKCd1cGRhdGUnKTtcbiAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkY2xpY2tlZC53b3JraW5nKGZhbHNlKS50cmlnZ2VyKCd1cGRhdGUnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkY2xpY2tlZC53b3JraW5nKGZhbHNlKS50cmlnZ2VyKCd1cGRhdGUnKTtcblxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXBkYXRlRW5kb3JzZW1lbnRzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IGFsbCBpY29uc1xuICAgICAgICAgICAgdmFyICRsaW5rcyA9ICQoJy5qcy1lbmRvcnNlLWxpbmsnKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKCRsaW5rcywgZmFsc2UpO1xuXG4gICAgICAgICAgICB2YXIgJG9sZEVuZG9yc2VtZW50cyA9ICQoJy5qcy1lbmRvcnNlbWVudHMnKTtcbiAgICAgICAgICAgICRvbGRFbmRvcnNlbWVudHMuZW1wdHkoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLkV4cGxpY2l0RW5kb3JzZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZG9yc2VtZW50RGF0YSA9IGRhdGEuRXhwbGljaXRFbmRvcnNlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gZW5kb3JzZW1lbnREYXRhLlBvc3RJZDtcbiAgICAgICAgICAgICAgICB2YXIgaGFzRW5kb3JzZW1lbnRzID0gZW5kb3JzZW1lbnREYXRhLkhhc0VuZG9yc2VtZW50cztcbiAgICAgICAgICAgICAgICB2YXIgJG5ld0VuZG9yc2VtZW50ID0gJChlbmRvcnNlbWVudERhdGEuRW5kb3JzZW1lbnRDb250ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpZCAmJiAkbmV3RW5kb3JzZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRhbnN3ZXIgPSAkKCcjYW5zd2VyLScgKyBpZClcbiAgICAgICAgICAgICAgICAgICAgdmFyICRvbGRFbmRvcnNlbWVudCA9ICRhbnN3ZXIuZmluZCgnLmpzLWVuZG9yc2VtZW50cycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBlbmRvcnNlbWVudCB0ZXh0IGFib3ZlIGFuc3dlciB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIGlmICgkb2xkRW5kb3JzZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG9sZEVuZG9yc2VtZW50LnJlcGxhY2VXaXRoKCRuZXdFbmRvcnNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGFuc3dlckNlbGwgPSAkKCcjYW5zd2VyLScgKyBpZCkuZmluZCgnLmFuc3dlcmNlbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbnN3ZXJDZWxsLnByZXBlbmQoJG5ld0VuZG9yc2VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyICRwb3N0TGF5b3V0ID0gJG5ld0VuZG9yc2VtZW50LnBhcmVudHMoJy5hbnN3ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRlbmRvcnNlbWVudEJ1dHRvbiA9ICRwb3N0TGF5b3V0LmZpbmQoJy5qcy1lbmRvcnNlLWxpbmsnKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZCgkZW5kb3JzZW1lbnRCdXR0b24sIGhhc0VuZG9yc2VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgJGVuZG9yc2VMaW5rID0gJCgnLmpzLWVuZG9yc2UtbGluaycpO1xuICAgICAgICB2YXIgc2luZ2xlQ29tbXVuaXR5U2x1ZyA9ICRlbmRvcnNlTGluay5kYXRhKCdzaW5nbGUtY29tbXVuaXR5LXNsdWcnKTtcblxuICAgICAgICBpZiAoc2luZ2xlQ29tbXVuaXR5U2x1Zykge1xuICAgICAgICAgICAgJGVuZG9yc2VMaW5rLmNsaWNrKGVuZG9yc2VBbnN3ZXJTaW5nbGVDb21tdW5pdHlfY2xpY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGVuZG9yc2VMaW5rLmNsaWNrKGVuZG9yc2VBbnN3ZXJNYW55Q29tbXVuaXRpZXNfY2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmpzLWVuZG9yc2UtbGluaycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgc2V0U2VsZWN0ZWQoJHRoaXMsIGlzU2VsZWN0ZWQoJHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlU29ydFByZWZlcmVuY2UocHJlZmVyZW5jZSkge1xuICAgICAgICBsZXQgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IGN1cnJlbnRVcmwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXJQcmVmZXJlbmNlOiBwcmVmZXJlbmNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjaGFuZ2VTb3J0UHJlZmVyZW5jZUFuZFJlZnJlc2gocHJlZmVyZW5jZSkge1xuICAgICAgICBjb25zdCBjdXJyZW50VXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgIGlmIChjdXJyZW50VXJsKSB7XG4gICAgICAgICAgICBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2Fuc3dlcnRhYicsIHByZWZlcmVuY2UpO1xuICAgICAgICAgICAgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdwYWdlJyk7XG4gICAgICAgICAgICBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ3RhYicpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgI3RhYi10b3AgYW5jaG9yXG4gICAgICAgICAgICBjb25zdCB1cmxTdHJpbmcgPSBjdXJyZW50VXJsLnRvU3RyaW5nKCkucmVwbGFjZSgvIy4qJC8sICcnKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsU3RyaW5nICsgJyN0YWItdG9wJztcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VTb3J0UHJlZmVyZW5jZShwcmVmZXJlbmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNtaXNzVHJlbmRpbmdTb3J0TGF1bmNoUG9wb3ZlcihzaG93VHJlbmRpbmdTb3J0TGF1bmNoUG9wb3Zlcikge1xuICAgICAgICBpZiAoIXNob3dUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyKSB7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHRyYWNrIHRoZSBmaXJzdCAzMCBkYXlzIHBvcG92ZXIsXG4gICAgICAgICAgICAvLyBub3QgdGhlIDkwIGRheXMgcG9zdC1sYXVuY2ggcG9wb3ZlclxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkLmNvb2tpZSgnbm90aWNlLXRzbCcsICcxJywgeyBwYXRoOiAnLycsIGV4cGlyZXM6IDMwIH0pO1xuXG4gICAgICAgIGlmICghU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgICQucG9zdChcIi90cmVuZGluZy1sYXVuY2gtcG9wb3Zlci9kaXNtaXNzXCIsIHtcbiAgICAgICAgICAgICAgICBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0VGl0bGVTZWFyY2g6IGluaXRUaXRsZVNlYXJjaCxcbiAgICAgICAgZ2V0UXVlc3Rpb25JZDogZ2V0UXVlc3Rpb25JZCxcbiAgICAgICAgaW5pdFNoYXJlTGlua3M6IGluaXRTaGFyZUxpbmtzLFxuICAgICAgICBjYW5WaWV3Vm90ZUNvdW50czogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FuVmlld1ZvdGVDb3VudHM7IH0sXG4gICAgICAgIHNjcm9sbFRvUG9zdDogc2Nyb2xsVG9Qb3N0LFxuICAgICAgICBzY3JvbGxUb0NvbW1lbnQ6IHNjcm9sbFRvQ29tbWVudCxcbiAgICAgICAgaW5zdHJ1bWVudFZvdGluZ0ZvclZvdGVQcm9tcHRFeHBlcmltZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuanMtdm90aW5nLWNvbnRhaW5lcicpLmVhY2goZnVuY3Rpb24gKGl4LCBlKSB7XG4gICAgICAgICAgICAgICAgdmFyICRlID0gJChlKTtcbiAgICAgICAgICAgICAgICB2YXIgcGlkID0gKyRlLmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgJHVwVm90ZSA9ICRlLmZpbmQoJy5qcy12b3RlLXVwLWJ0bicpO1xuICAgICAgICAgICAgICAgIHZhciAkZG93blZvdGUgPSAkZS5maW5kKCcuanMtdm90ZS1kb3duLWJ0bicpO1xuXG4gICAgICAgICAgICAgICAgJHVwVm90ZS5hdHRyKCdkYXRhLWdwcy10cmFjaycsICdwb3N0LnByb21wdGVkX3ZvdGUoe3Bvc3RfaWQ6JyArIHBpZCArICcsIHZvdGVfdHlwZTogMn0pJykuYWRkQ2xhc3MoJ2pzLWdwcy10cmFjaycpO1xuICAgICAgICAgICAgICAgICRkb3duVm90ZS5hdHRyKCdkYXRhLWdwcy10cmFjaycsICdwb3N0LnByb21wdGVkX3ZvdGUoe3Bvc3RfaWQ6JyArIHBpZCArICcsIHZvdGVfdHlwZTogM30pJykuYWRkQ2xhc3MoJ2pzLWdwcy10cmFjaycpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhlcmUncyBhIGNoYW5jZSBHUFMgaGFzbid0IGJlZW4gbG9hZGVkIHlldFxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJncHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy5iaW5kVHJhY2tDbGlja3MoJGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnF1ZXN0aW9ucy5lbmFibGVTYXZlc0ZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBpbml0U2F2ZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FuVmlld1ZvdGVDb3VudHMgPSBvcHRpb25zLmNhblZpZXdWb3RlQ291bnRzO1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uZnVsbEluaXQpICAgLy8gdGhpcyBmdW5jdGlvbiBpcyBzZXQgaW4gZnVsbC5wYXJ0LmpzLCBzbyBpdCdzIG9ubHkgYXZhaWxhYmxlIGZvciBsb2dnZWQgaW4gdXNlcnNcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmZ1bGxJbml0KG9wdGlvbnMpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5iaW5kQW5vbnltb3VzVm90ZURpc2NsYWltZXJzKCk7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5PdXRkYXRlZEFuc3dlcnMuaW5pdEFub24odHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuaW5pdCh7XG4gICAgICAgICAgICAgICAgYXV0b1Nob3dDb21tZW50SGVscDogb3B0aW9ucy5hdXRvU2hvd0NvbW1lbnRIZWxwLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRIaWdobGlnaHRGb2N1czogb3B0aW9ucy5jb21tZW50SGlnaGxpZ2h0Rm9jdXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbml0U2hhcmVMaW5rcygpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93QW5zd2VyQmFuV2FybmluZylcbiAgICAgICAgICAgICAgICAkKCcjd21kLWlucHV0Jykub25lKFwiZm9jdXNcIiwgc2hvd0Fuc3dlckJhbldhcm5pbmcpO1xuICAgICAgICAgICAgICAgICQoXCIuanMtYW5zd2VyLWJhbi1jbG9zZS1idG5cIikub24oXCJjbGlja1wiLCBoaWRlQW5zd2VyQmFuV2FybmluZyk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dBbnN3ZXJIZWxwICYmICFvcHRpb25zLnNob3dBbnN3ZXJCYW5XYXJuaW5nKVxuICAgICAgICAgICAgICAgICQoXCIjd21kLWlucHV0XCIpLm9uZShcImZvY3VzXCIsIHNob3dBbnN3ZXJIZWxwKTtcbiAgICAgICAgICAgICAgICAkKFwiLmpzLWFuc3dlci1oZWxwLWNsb3NlLWJ0blwiKS5vbihcImNsaWNrXCIsIGhpZGVBbnN3ZXJIZWxwKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZm9jdXNQb3N0RWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgJChcIiN3bWQtaW5wdXRcIikuZm9jdXMoKTtcblxuICAgICAgICAgICAgICAgICQoJyNwb3N0LWZvcm0nKVswXS5zY3JvbGxJbnRvVmlldyh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5pdEVuZG9yc2VtZW50TGlua3MoKTtcblxuICAgICAgICAgICAgLy8gYmluZCBjaXRhdGlvbiBtZW51IGlmIGl0IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dDaXRhdGlvbikge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuanMtcG9zdC1tZW51IC5qcy1jaXRlLWxpbmtcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NpdGF0aW9uKCQodGhpcykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYmluZE9uSGFzaENoYW5nZV9IaWdobGlnaHREZXN0aW5hdGlvbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY29tbWVudElkLCBwb3N0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5jb21tZW50cy5oaWdobGlnaHQoY29tbWVudElkLCBwb3N0SWQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHBvc3RJZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBvc3QgPSBnZXRQb3N0KHBvc3RJZCk7XG4gICAgICAgICAgICAgICAgICAgIGRvSGlnaGxpZ2h0KCRwb3N0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjbGVhbnVwTmV4dEFuZFByZXZpb3VzQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICAgICAgYmluZE5ld0NvbnRyaWJ1dG9ySW5kaWNhdG9ycygpO1xuXG4gICAgICAgICAgICAkKCcuZG93bnZvdGVkLWFuc3dlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gT25lIGNsaWNrIHJlbW92ZXMgdGhlIG9wYWNpdHktNTAlIHRoYXQgaXMgaW4gY3NzIChzZXR0aW5nIGl0IGV4cGxpY2l0bHkgdG8gMTAwJVxuICAgICAgICAgICAgICAgIC8vIFRoZSBuZXh0IGNsaWNrIHJlbW92ZXMgdGhlIGZvcmNlZCBvMTAwIGFuZCByZXR1cm5zIGl0IHRvIDUwJSwgc2VlIGh0dHBzOi8vbWV0YS5zdGFja2V4Y2hhbmdlLmNvbS9xLzM1NTEwMy81MVxuICAgICAgICAgICAgICAgIHZhciAkZG93bnZvdGVkQW5zd2VyID0gJChlLnRhcmdldCkucGFyZW50cygnLmRvd252b3RlZC1hbnN3ZXInKTtcbiAgICAgICAgICAgICAgICAkZG93bnZvdGVkQW5zd2VyLmZpbmQoJy5zLXByb3NlLCAuY29tbWVudC1ib2R5LCAucG9zdC1zaWduYXR1cmUsIC52b3RlID4gKicpLnRvZ2dsZUNsYXNzKCdvMTAwJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcG9zdCByZXF1ZXN0IHRvIGNoYW5nZSBhbnN3ZXIgc29ydCBvcmRlciBwcmVmZXJlbmNlIGZvciByZXNldCB0byBkZWZhdWx0XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXNvcnQtcHJlZmVyZW5jZS1jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWZlcmVuY2UgPSAkdGhpcy5hdHRyKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgICAgICAgICAgY2hhbmdlU29ydFByZWZlcmVuY2UocHJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBwb3N0IHJlcXVlc3QgdG8gY2hhbmdlIGFuc3dlciBzb3J0IG9yZGVyIHByZWZlcmVuY2UgZm9yIHNvcnQgZHJvcGRvd25cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2Fuc3dlci1zb3J0LWRyb3Bkb3duLXNlbGVjdC1tZW51JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgY2hhbmdlU29ydFByZWZlcmVuY2VBbmRSZWZyZXNoKHByZWZlcmVuY2UpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdmFyIHNob3dFaXRoZXJUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyID0gb3B0aW9ucy5zaG93VHJlbmRpbmdTb3J0TGF1bmNoUG9wb3ZlciB8fCBvcHRpb25zLnNob3dUcmVuZGluZ1NvcnRQb3N0TGF1bmNoUG9wb3ZlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNob3dFaXRoZXJUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyKSB7XG4gICAgICAgICAgICAgICAgJCgnLmpzLXRyeS10cmVuZGluZy1zb3J0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyKG9wdGlvbnMuc2hvd1RyZW5kaW5nU29ydExhdW5jaFBvcG92ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTb3J0UHJlZmVyZW5jZUFuZFJlZnJlc2goXCJ0cmVuZGluZ1wiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKCcuanMtbGF1bmNoLXBvcG92ZXItdG9nZ2xlJykub24oJ3MtcG9wb3ZlcjpzaG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkLnBvc3QoJy90cmVuZGluZy1sYXVuY2gtcG9wb3Zlci90cmFjaycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnNob3dUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyID8gXCJGaXJzdDMwRGF5c1wiIDogXCJBZnRlcjMwRGF5c1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCgnLmpzLWxhdW5jaC1wb3BvdmVyLXRvZ2dsZScpLm9uKCdzLXBvcG92ZXI6aGlkZGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NUcmVuZGluZ1NvcnRMYXVuY2hQb3BvdmVyKG9wdGlvbnMuc2hvd1RyZW5kaW5nU29ydExhdW5jaFBvcG92ZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0hBQ0sgbW92ZSB0aGUgY2FsbCB0byB0aGUgZW5kIG9mIHRoZSBleGVjdXRpb24gcXVldWUgc28gYWxsIGNvbnRyb2xzIGFyZSBpbml0J2QgZmlyc3RcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGhhbmRsZUhhc2hGb2N1c1RhcmdldCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG5TdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmJpbmRBbm9ueW1vdXNWb3RlRGlzY2xhaW1lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgIHZhciAkY2xpY2tlZCA9ICQodGhpcyk7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gJGNsaWNrZWQuY2xvc2VzdCgnLmpzLXZvdGluZy1jb250YWluZXInKTtcbiAgICAgICAgdmFyIGlzVXBWb3RlID0gJGNsaWNrZWQuaGFzQ2xhc3MoJ2pzLXZvdGUtdXAtYnRuJyk7XG4gICAgICAgIHZhciBpc0Rvd25Wb3RlID0gJGNsaWNrZWQuaGFzQ2xhc3MoJ2pzLXZvdGUtZG93bi1idG4nKTtcbiAgICAgICAgdmFyIGlzQm9va21hcmsgPSAkY2xpY2tlZC5oYXNDbGFzcygnanMtYm9va21hcmstYnRuJyk7XG4gICAgICAgIHZhciBpc0ZvbGxvdyA9ICRjbGlja2VkLmhhc0NsYXNzKCdqcy1mb2xsb3ctcG9zdCcpO1xuICAgICAgICB2YXIgaXNBbnN3ZXIgPSAkY2xpY2tlZC5jbG9zZXN0KFwiLmFuc3dlclwiKS5sZW5ndGg7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoaXNVcFZvdGUgfHwgaXNEb3duVm90ZSB8fCBpc0ZvbGxvdykge1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5pblJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5zaG93RXJyb3JNZXNzYWdlKF9zKFwiVm90aW5nIGlzbid0IGF2YWlsYWJsZSBpbiByZWFkLW9ubHkgbW9kZS5cIiksIHsgXCJ0cmFuc2llbnRcIjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwb3N0SWQgPSAkY29udGFpbmVyLmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgICAgIGlmIChpc0ZvbGxvdykge1xuICAgICAgICAgICAgICAgIHZhciBpc1F1ZXN0aW9uID0gJGNsaWNrZWQuY2xvc2VzdCgnLnF1ZXN0aW9uJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBpc0Fuc3dlciA9ICFpc1F1ZXN0aW9uO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgbG9naWMgaXMgb25seSBldmVyIHNob3duIG9uIHBhZ2UgaWYgaXMgcXVlc3Rpb24gb3IgYW5zd2VyXG4gICAgICAgICAgICAgICAgcG9zdElkID0gcGFyc2VJbnQoaXNRdWVzdGlvbiA/ICRjbGlja2VkLmNsb3Nlc3QoJy5xdWVzdGlvbicpLmRhdGEoJ3F1ZXN0aW9uaWQnKSA6ICRjbGlja2VkLmNsb3Nlc3QoJy5hbnN3ZXInKS5kYXRhKCdhbnN3ZXJpZCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2b3RlVHlwZUlkID0gaXNGb2xsb3cgPyAyMSA6IChpc1VwVm90ZSA/IDIgOiAzKTtcblxuICAgICAgICAgICAgaWYgKCRjb250YWluZXIuaXMoJzp3b3JraW5nJykpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAkY29udGFpbmVyLndvcmtpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVNZXNzYWdlcygpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvcG9zdHMvcG9wdXAvYW5vbi12b3RlL3twb3N0SWR9P3ZvdGVUeXBlSWQ9e3ZvdGVUeXBlSWR9Jy5mb3JtYXRVbmljb3JuKHsgcG9zdElkOiBwb3N0SWQsIHZvdGVUeXBlSWQ6IHZvdGVUeXBlSWQgfSksXG4gICAgICAgICAgICAgICAgZGF0YTogeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5IH0sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbC5pbmRleE9mKCdqcy1yZXNlYXJjaC10b2FzdCcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChodG1sLCB7IHRyYW5zaWVudDogZmFsc2UsIHVzZVJhd0h0bWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLm9wZW5pZC5zaG93TG9naW5Nb2RhbChodG1sLCB7IHJldHVybkVsZW1lbnRzOiAkY2xpY2tlZCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVXBWb3RlIHx8IGlzRG93blZvdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiZ3BzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soXCJ2b3RlX3BvcHVwLnNob3dcIiwgeyB0eXBlOiBpc0Fuc3dlciA/IDIgOiAxIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyLndvcmtpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQm9va21hcmspIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuc2hvd0Vycm9yTWVzc2FnZShfcyhcIkJvb2ttYXJraW5nIGlzIGRpc2FibGVkIHdoaWxlIHRoZSBzaXRlIGlzIGluIHJlYWQtb25seSBtb2RlLlwiKSwgeyBcInRyYW5zaWVudFwiOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIF9zKCdQbGVhc2UgJHN0YXJ0QW5jaG9yJGxvZyBpbiBvciByZWdpc3RlciRlbmRBbmNob3IkIHRvIGJvb2ttYXJrIHRoaXMgcXVlc3Rpb24uJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QW5jaG9yOiAnPGEgaHJlZj1cIi91c2Vycy9sb2dpbj9zc3JjPWJvb2ttYXJrX3F1ZXN0aW9uJnJldHVybnVybD0nICsgZXNjYXBlKGRvY3VtZW50LmxvY2F0aW9uKSArICdcIj4nLFxuICAgICAgICAgICAgICAgICAgICBlbmRBbmNob3I6ICc8L2E+J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ2Zhdm9yaXRlX3BvcHVwLnNob3cnLCB7fSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93TWVzc2FnZSgkY2xpY2tlZCwgbWVzc2FnZSwgeyB0eXBlOiAnaW5mbycsIHBvc2l0aW9uOiB7IG15OiAnbGVmdCB0b3AnLCBhdDogJ3JpZ2h0IGNlbnRlcicgfSwgY3NzOiB7ICdtYXJnaW4tbGVmdCc6ICctMTBweCcgfSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJy5qcy12b3RlLWRvd24tYnRuLCAuanMtdm90ZS11cC1idG4sIC5qcy1ib29rbWFyay1idG46bm90KC5kaXNhYmxlZCksIC5qcy1mb2xsb3ctcG9zdDpub3QoLmRpc2FibGVkKScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBpZiAoISR0aGlzLmRhdGEoJ2JvdW5kLWFub255bW91cycpKSB7XG4gICAgICAgICAgICAkdGhpcy5kYXRhKCdib3VuZC1hbm9ueW1vdXMnLCB0cnVlKTtcbiAgICAgICAgICAgICR0aGlzLmNsaWNrKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmJpbmRGZXRjaEFjY2VwdGVkQW5zd2VyRGF0ZXMoKTtcbn07XG5cblN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uYmluZEZldGNoQWNjZXB0ZWRBbnN3ZXJEYXRlcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIGZvciB1c2VycyB0aGF0IGFyZW4ndCB0aGUgcXVlc3Rpb24gb3duZXIsIG9ubHkgZmV0Y2ggd2hlbiB0aGUgYWNjZXB0ZWQgYW5zd2VyIG9jY3VycmVkIGlmIHRoZXkgaG92ZXIgb3ZlciB0aGUgY2hlY2ttYXJrXG4gICAgJCgnLmpzLWFjY2VwdGVkLWFuc3dlci1pbmRpY2F0b3InKS5vbignbW91c2VlbnRlciBtb3VzZWxlYXZlIGZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGEgPSAkKHRoaXMpO1xuICAgICAgICBpZiAoJGEuaXMoJzp3b3JraW5nJykpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgJGEud29ya2luZyh0cnVlKTtcblxuICAgICAgICB2YXIgYW5zd2VySWQgPSAkYS5jbG9zZXN0KCcuYW5zd2VyJykuZGF0YSgnYW5zd2VyaWQnKTtcbiAgICAgICAgaWYgKCFhbnN3ZXJJZCkge1xuICAgICAgICAgICAgJGEucmVtb3ZlQXR0cigndGl0bGUgZGF0YS1jb250cm9sbGVyJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXJsID0gJy9wb3N0cy8nICsgYW5zd2VySWQgKyAnL2FjY2VwdGVkLWFuc3dlci1kYXRlJztcbiAgICAgICAgJC5nZXQodXJsLCBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAkYS5zZXRUb29sdGlwSHRtbCh0ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn07XG5cbi8qXG4gKiAgVGhpcyBkZXBlbmRzIG9uIGFuc3dlcnMgaGF2aW5nIGEgZGF0YS1pdmMgYW5kIGRhdGEtYW5zd2VyaWQgYXR0cmlidXRlXG4gKi9cblN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uYWRkQW5zd2VySXZjT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnRlcnNlY3Rpb25PYnNlcnZlclZpZXdlZEFuc3dlcnMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIHNjcm9sbEV2ZW50Vmlld2VkQW5zd2VycyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbGJhY2spO1xuICAgIHZhciBhbnN3ZXJWb3RlQ291bnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWFuc3dlciAuanMtdm90ZS1jb3VudCcpO1xuXG4gICAgLy8gT2JzZXJ2ZSB1c2luZyBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcbiAgICBhbnN3ZXJWb3RlQ291bnRzLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBpbnRlcnNlY3Rpb25DYWxsYmFjayhlbnRyaWVzLCBvYnNlcnZlcikge1xuICAgICAgICAvKlxuICAgICAgICAgKiAgRnJvbSBNRE46IChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uX09ic2VydmVyX0FQSSlcbiAgICAgICAgICogID4gQmUgYXdhcmUgdGhhdCB5b3VyIGNhbGxiYWNrIGlzIGV4ZWN1dGVkIG9uIHRoZSBtYWluIHRocmVhZC4gSXQgc2hvdWxkIG9wZXJhdGUgYXMgcXVpY2tseSBhcyBwb3NzaWJsZTtcbiAgICAgICAgICogID4gaWYgYW55dGhpbmcgdGltZS1jb25zdW1pbmcgbmVlZHMgdG8gYmUgZG9uZSwgdXNlIFdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKClcbiAgICAgICAgICovXG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHZhciBhbnN3ZXIgPSBlbnRyeS50YXJnZXQuY2xvc2VzdCgnLmpzLWFuc3dlcicpO1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGFuc3dlci5kYXRhc2V0LmFuc3dlcmlkO1xuICAgICAgICAgICAgICAgIGlmICghaW50ZXJzZWN0aW9uT2JzZXJ2ZXJWaWV3ZWRBbnN3ZXJzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJWaWV3ZWRBbnN3ZXJzLmFkZChpZCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRBbnN3ZXJJdmMoYW5zd2VyLCAnaW50ZXJzZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZEFuc3dlckl2YyhhbnN3ZXJFbGVtZW50LCB0eXBlKSB7XG4gICAgICAgIHZhciBjb250ZW50UG9zaXRpb24gPSBhbnN3ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3N0LWJvZHknKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNsaWVudFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHY6ICcxJywgLy8gdmVyc2lvbiBzdHJpbmcgdG8gc3VwcG9ydCBkYXRhIHRlYW0gYW5hbHlzaXMsIHVwZGF0ZSB3aGVuIHNvbWV0aGluZyBzaWduaWZpY2FudCBjaGFuZ2VzIHdpdGggY29sbGVjdGlvblxuICAgICAgICAgICAgY29udGVudEhlaWdodDogY29udGVudFBvc2l0aW9uLmhlaWdodC50b0ZpeGVkKDEpLFxuICAgICAgICAgICAgY29udGVudFk6IChjb250ZW50UG9zaXRpb24ueSArIHdpbmRvdy5zY3JvbGxZKS50b0ZpeGVkKDEpLFxuICAgICAgICAgICAgc2Nyb2xsWTogd2luZG93LnNjcm9sbFkudG9GaXhlZCgxKSxcbiAgICAgICAgICAgIHBhZ2VIZWlnaHQ6IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LnRvRml4ZWQoMSksXG4gICAgICAgICAgICB2aWV3cG9ydEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LnRvRml4ZWQoMSksXG4gICAgICAgICAgICB2aWV3cG9ydFdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aC50b0ZpeGVkKDEpLFxuICAgICAgICAgICAgdHJpZ2dlcjogdHlwZSxcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kcG9pbnQgPSBhbnN3ZXJFbGVtZW50LmRhdGFzZXQuaXZjICsgJyYnICsgbmV3IFVSTFNlYXJjaFBhcmFtcyhjbGllbnRQYXJhbXMpLnRvU3RyaW5nKCk7XG4gICAgICAgICQuZ2V0KGVuZHBvaW50KTtcbiAgICB9XG59IiwiLy8gcGFzc2l2ZSBmdW5jdGlvbmFsaXR5LCBpLmUuIGZvciAqZGlzcGxheWluZyogY29tbWVudHMgb25seS5cbi8vIEluIGZ1bGwuanMgKGkuZS4gd2hlbiBmdWxsLnBhcnQuanMgaXMgYXBwZW5kZWQgdG8gdGhpcyBmaWxlKSxcbi8vIHRoaXMgd2lsbCBiZSBleHRlbmRlZCB0byBhbHNvIGluY2x1ZGUgYWN0aXZlIGZ1bmN0aW9uYWxpdHkuXG4vL1xuLy8gU3RhY2tFeGNoYW5nZS5jb21tZW50cy5sb2FkQWxsKGVsZW0pIGNhbiBiZSBjYWxsZWQgdG8gZmV0Y2ggbWlzc2luZyBjb21tZW50c1xuLy8gZnJvbSB0aGUgc2VydmVyLiBlbGVtIHNob3VsZCBiZSBhIGpRdWVyeSBvYmplY3Qgb3IgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkXG4vLyB0byAkKC4uLiksIGFuZCBzaG91bGQgYmUgc29tZXRoaW5nIChhbnl0aGluZywgcmVhbGx5KSB3aXRoaW4gYSBxdWVzdGlvbiBvciBhbnN3ZXIuXG4vLyBDb3VsZCBiZSB0aGUgXCJzaG93IG1vcmVcIiBsaW5rLCBvciBhIGNvbW1lbnQsIG9yIHdoYXRldmVyIC0tIGp1c3Qgc28gd2Uga25vd1xuLy8gZm9yIHdoaWNoIHBvc3QgeW91IHdhbnQgdG8gbG9hZCB0aGUgY29tbWVudHMuIEl0IHJldHVybnMgYSBkZWZlcnJlZCBvYmplY3QgcHJvbWlzZS5cblxuU3RhY2tFeGNoYW5nZS5jb21tZW50cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbW1lbnRIaWdobGlnaHRGb2N1cztcbiAgICB2YXIgcG9zdFVpQ2FjaGUgPSB7fTtcblxuICAgIGZ1bmN0aW9uIFBvc3RVaShwb3N0SWQsIGpDb21tZW50c0RpdiwgY29udGV4dCkge1xuICAgICAgICB0aGlzLnBvc3RJZCA9IHBvc3RJZDtcbiAgICAgICAgLy8gTG9jYXRpb24gaXMgdXNlZCBmb3IgcHJpem0gZXZlbnRzXG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBqQ29tbWVudHNEaXYuY2xvc2VzdCgnLmFuc3dlcicpLmxlbmd0aCA/ICdhbnN3ZXInIDogakNvbW1lbnRzRGl2LmNsb3Nlc3QoJy5xdWVzdGlvbicpLmxlbmd0aCA/ICdxdWVzdGlvbicgOiAnb3RoZXInO1xuICAgICAgICB0aGlzLmpEaXYgPSBqQ29tbWVudHNEaXY7XG4gICAgICAgIHRoaXMuakNvbW1lbnRzTGlzdCA9IGpDb21tZW50c0Rpdi5maW5kKCcuanMtY29tbWVudHMtbGlzdCcpO1xuICAgICAgICB0aGlzLmpDb21tZW50c0xpbmtDb250YWluZXIgPSAkKFwiI2NvbW1lbnRzLWxpbmstXCIgKyBwb3N0SWQpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIHZhciBub29wID0gZnVuY3Rpb24gKCkgeyB9O1xuXG4gICAgUG9zdFVpLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvLyB0aGVzZSBmaXZlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhY3R1YWwgZnVuY3Rpb25hbGl0eSBpZiB3ZSBoYXZlIGEgbm9uLWFub24gdXNlclxuICAgICAgICBjaGVja0Rpc2N1c3Npb246IG5vb3AsXG4gICAgICAgIGVuc3VyZUlucHV0OiBub29wLFxuICAgICAgICByZW5kZXJUZXh0SW5wdXQ6IG5vb3AsXG4gICAgICAgIGFsdGVyQWRkRWRpdERhdGFCZWZvcmVTdWJtaXQ6IG5vb3AsXG4gICAgICAgIHNhdmVFZGl0aW5nQ29tbWVudHM6IG5vb3AsXG4gICAgICAgIHJlc3RvcmVFZGl0aW5nQ29tbWVudHM6IG5vb3AsXG5cbiAgICAgICAgaXNJbnB1dFNob3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZm9ybSA9IHRoaXMuakRpdi5maW5kKCdmb3JtW2lkXj1cImFkZC1jb21tZW50LVwiXScpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm0uY2hpbGRyZW4oKS5sZW5ndGggJiYgZm9ybS5pcyhcIjp2aXNpYmxlXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbW1lbnRzU2hvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQ29tbWVudHNDb3VudCgwKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1haW5pbmdDb21tZW50c0NvdW50OiBmdW5jdGlvbiAodmFsdWVPck5vdGhpbmcpIHsgLy8gZ2V0dGVyIGlmIGNhbGxlZCB3aXRob3V0IGFyZ3VtZW50XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlT3JOb3RoaW5nID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuakNvbW1lbnRzTGlzdC5kYXRhKCdyZW1haW5pbmctY29tbWVudHMtY291bnQnKSkgfHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuakNvbW1lbnRzTGlzdC5kYXRhKCdyZW1haW5pbmctY29tbWVudHMtY291bnQnLCB2YWx1ZU9yTm90aGluZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkU2hvdzogZnVuY3Rpb24gKG5vRm9jdXMsIHNob3VsZFJlbmRlckFkZEZvcm0pIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBsb2FkQWxsRG9uZSA9IHRoaXMubG9hZEFsbENvbW1lbnRzKCkuZG9uZShmdW5jdGlvbiAoKSB7IHRoYXQuY2hlY2tEaXNjdXNzaW9uKCk7IH0pO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlbmRlckFkZEZvcm0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmVuc3VyZUlucHV0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ICYmICFub0ZvY3VzKVxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2FkQWxsRG9uZS5kb25lKGZ1bmN0aW9uKCkgeyBpZiAoaW5wdXQgJiYgaW5wdXQubGVuZ3RoID4gMCkgdGhhdC5qQ29tbWVudHNMaW5rQ29udGFpbmVyLmhpZGUoKTsgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWpheDogZnVuY3Rpb24gKG9wdGlvbnMsIGVycm9yRGVzY3JpcHRpb24sIGpDb250YWluZXIsIG5vTG9hZGVyQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoakNvbnRhaW5lciAmJiAhbm9Mb2FkZXJBbmltYXRpb24pXG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmFkZFNwaW5uZXIoakNvbnRhaW5lciwgeyAnbWFyZ2luLWxlZnQnOiAnMTBweCcgfSk7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KG9wdGlvbnMpLmZhaWwoZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IHJlcy5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvciB8fCBlcnJvci5pbmRleE9mKFwiPGh0bWxcIikgPj0gMCkgLy8gPC0gWVNPRD9cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlcnJvckRlc2NyaXB0aW9uIHx8IF9zKFwiQW4gZXJyb3Igb2NjdXJyZWRcIik7XG5cbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd0Vycm9yTWVzc2FnZShqQ29udGFpbmVyIHx8IHRoYXQuakRpdiwgZXJyb3IsIHsgdHJhbnNpZW50OiByZXMuc3RhdHVzID09IDQwOSB9KTsgLy8gZmFkZSBhd2F5IHRocm90dGxlIGVycm9yc1xuXG4gICAgICAgICAgICAgICAgaWYgKGpDb250YWluZXIgJiYgIW5vTG9hZGVyQW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcigpO1xuICAgICAgICAgICAgfSkuZG9uZShTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcikucHJvbWlzZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENvbW1lbnRzTWVudTogZnVuY3Rpb24oY29tbWVudHNDb3VudCkge1xuICAgICAgICAgICAgdmFyIGVuY29kZWRBZGRMaW5rSHRtbCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgZW5jb2RlZFNob3dMaW5rSHRtbCA9IFwiXCI7XG5cblxuICAgICAgICAgICAgaWYgKGNvbW1lbnRzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZW5jb2RlZFNob3dMaW5rSHRtbCA9IF9tKFwiU2hvdyAqKiNjb3VudCMqKiBtb3JlIGNvbW1lbnRzXCIsIHsgY291bnQ6IGNvbW1lbnRzQ291bnQgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0lucHV0U2hvd24oKSAmJiAodGhpcy5qQ29tbWVudHNMaXN0LmRhdGEoJ2NhbnNlZScpIHx8IHRoaXMuakNvbW1lbnRzTGlzdC5kYXRhKCdjYW5wb3N0JykpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MuY29tbWVudHMuYWRkQnV0dG9uU2F5c1N1Z2dlc3RJbXByb3ZlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlZEFkZExpbmtIdG1sID0gX3MoXCJTdWdnZXN0IGltcHJvdmVtZW50c1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZWRBZGRMaW5rSHRtbCA9IF9zKFwiQWRkIGEgY29tbWVudFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG90aGVyIGxhYmVsLCBhbmQgY29tbWVudHMgdW5hdmFpbGFibGUgaXMgc2V0LCB0aGVuIGFkZCBhIGNvbW1lbnRzIGRpc2FibGVkIGxpbmtcbiAgICAgICAgICAgIC8vIChvdGhlcndpc2Ugbm90IGJlY2F1c2UgbW9kcyBjYW4gYWRkIGNvbW1lbnRzIG9uIGFsbCBwb3N0cylcbiAgICAgICAgICAgIGlmICghZW5jb2RlZEFkZExpbmtIdG1sLmxlbmd0aCAmJiAhZW5jb2RlZFNob3dMaW5rSHRtbCAmJiB0aGlzLmpDb21tZW50c0xpc3QuZGF0YSgnY29tbWVudHMtdW5hdmFpbGFibGUnKSkge1xuICAgICAgICAgICAgICAgIGVuY29kZWRBZGRMaW5rSHRtbCA9IF9zKFwiQ29tbWVudHMgZGlzYWJsZWQgb24gZGVsZXRlZCAvIGxvY2tlZCBwb3N0cyAvIHJldmlld3NcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgIGVuY29kZWRBZGRMaW5rSHRtbCA9IFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBhZGRMaW5rID0gdGhpcy5qQ29tbWVudHNMaW5rQ29udGFpbmVyLmZpbmQoJy5qcy1hZGQtbGluaycpO1xuICAgICAgICAgICAgdmFyIHNob3dMaW5rID0gdGhpcy5qQ29tbWVudHNMaW5rQ29udGFpbmVyLmZpbmQoJy5qcy1zaG93LWxpbmsnKTtcblxuICAgICAgICAgICAgYWRkTGluay5odG1sKGVuY29kZWRBZGRMaW5rSHRtbCk7XG4gICAgICAgICAgICBzaG93TGluay5odG1sKGVuY29kZWRTaG93TGlua0h0bWwpO1xuXG4gICAgICAgICAgICAvLyBpZiBlaXRoZXIgb2YgdGhlIHR3byBsaW5rcyBpcyBlbXB0eSwgaGlkZSBpdFxuICAgICAgICAgICAgaWYgKGVuY29kZWRBZGRMaW5rSHRtbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhZGRMaW5rLnJlbW92ZUNsYXNzKFwiZG5vXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRMaW5rLmFkZENsYXNzKFwiZG5vXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZW5jb2RlZFNob3dMaW5rSHRtbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG93TGluay5yZW1vdmVDbGFzcyhcImRub1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0xpbmsuYWRkQ2xhc3MoXCJkbm9cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgfCBzZXBhcmF0b3IgaWYgb25seSBvbmUgb2YgdGhlIHR3byBsaW5rcyBpcyB2aXNpYmxlXG4gICAgICAgICAgICBpZiAoZW5jb2RlZEFkZExpbmtIdG1sLmxlbmd0aCAmJiBlbmNvZGVkU2hvd0xpbmtIdG1sLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuakNvbW1lbnRzTGlua0NvbnRhaW5lci5maW5kKCcuanMtbGluay1zZXBhcmF0b3InKS5yZW1vdmVDbGFzcygnZG5vJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuakNvbW1lbnRzTGlua0NvbnRhaW5lci5maW5kKCcuanMtbGluay1zZXBhcmF0b3InKS5hZGRDbGFzcygnZG5vJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmpDb21tZW50c0xpc3QuZGF0YSgnYWRkbGluay1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgYWRkTGluay5hZGRDbGFzcygnZGlzYWJsZWQtbGluaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGVhckhpZ2hsaWdodHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgIHRoaXMuakNvbW1lbnRzTGlzdC5maW5kKCcuanMtY29tbWVudCcpLnJlbW92ZUNsYXNzKCduZXdfY29tbWVudCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0NvbW1lbnRzOiBmdW5jdGlvbiAoaHRtbE9ySlF1ZXJ5LCBzdWJtaXR0ZWRFZGl0Q29tbWVudElkLCBub0hpZ2hsaWdodGluZywgbm9TY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUVkaXRpbmdDb21tZW50cyhzdWJtaXR0ZWRFZGl0Q29tbWVudElkKTtcbiAgICAgICAgICAgIHZhciBoaWdobGlnaHQgPSAhbm9IaWdobGlnaHRpbmc7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJIaWdobGlnaHRzKCk7XG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuakNvbW1lbnRzTGlzdC5maW5kKCcuanMtY29tbWVudCcpLmVhY2goZnVuY3Rpb24gKGluZGV4LCB0cikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHIuaWQgJiYgdHIuaWQubGVuZ3RoKSBleGlzdGluZ1t0ci5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5qQ29tbWVudHNMaXN0LmVtcHR5KCkuYXBwZW5kKGh0bWxPckpRdWVyeSk7XG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5qQ29tbWVudHNMaXN0LmZpbmQoJy5qcy1jb21tZW50JykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGpDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqQ29tbWVudC5pZCAmJiBqQ29tbWVudC5pZC5sZW5ndGggJiYgIWV4aXN0aW5nW2pDb21tZW50LmlkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCkgZmlyc3QgPSBqQ29tbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoakNvbW1lbnQpLmFkZENsYXNzKCduZXdfY29tbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gdGhpcy5qQ29tbWVudHNMaXN0LmZpbmQoJy5uZXdfY29tbWVudCcpO1xuICAgICAgICAgICAgICAgIGZsYXNoSGlnaGxpZ2h0KGZvdW5kKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50SGlnaGxpZ2h0Rm9jdXMgJiYgZm91bmQubGVuZ3RoICYmICFub1Njcm9sbGluZykgZm91bmRbMF0uc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzdG9yZUVkaXRpbmdDb21tZW50cygpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb21tZW50c01lbnUoMCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWF0aEpheCAhPSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBNYXRoSmF4Lkh1Yi5RdWV1ZShbXCJUeXBlc2V0XCIsIE1hdGhKYXguSHViXSk7XG5cbiAgICAgICAgICAgIGRlZXBMaW5rKCk7XG4gICAgICAgICAgICB0aGlzLmNvbW1lbnRzU2hvd24oKTtcbiAgICAgICAgfSxcblxuICAgICAgICBsb2FkQWxsQ29tbWVudHM6IGZ1bmN0aW9uIChmb3JjZSwgYWRkaXRpb25hbFF1ZXJ5UGFyYW1zLCBub0hpZ2hsaWdodGluZywgbm9TY3JvbGxpbmcpIHtcblxuICAgICAgICAgICAgdGhpcy5qRGl2LnJlbW92ZUNsYXNzKFwiZG5vXCIpO1xuICAgICAgICAgICAgdmFyIGFsbENvbW1lbnRzU2hvd24gPSB0aGlzLnJlbWFpbmluZ0NvbW1lbnRzQ291bnQoKSA9PT0gMDtcbiAgICAgICAgICAgIGlmICghZm9yY2UgJiYgYWxsQ29tbWVudHNTaG93bikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaXNTdGFnaW5nR3JvdW5kID0gbG9jYXRpb24uaHJlZi5pbmRleE9mKCcvc3RhZ2luZy1ncm91bmQvJykgPiAwO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gaXNTdGFnaW5nR3JvdW5kXG4gICAgICAgICAgICAgICAgPyBcIi9zdGFnaW5nLWdyb3VuZC9cIiArIHRoaXMucG9zdElkICsgXCIvY29tbWVudHNcIiArIChhZGRpdGlvbmFsUXVlcnlQYXJhbXMgfHwgJycpXG4gICAgICAgICAgICAgICAgOiBcIi9wb3N0cy9cIiArIHRoaXMucG9zdElkICsgXCIvY29tbWVudHNcIiArIChhZGRpdGlvbmFsUXVlcnlQYXJhbXMgfHwgJycpO1xuXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIlxuICAgICAgICAgICAgfSwgX3MoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjb21tZW50c1wiKSkuZG9uZShmdW5jdGlvbiAoaHRtbCkgeyB0aGF0LnNob3dDb21tZW50cyhodG1sLCBudWxsLCBub0hpZ2hsaWdodGluZywgbm9TY3JvbGxpbmcpOyB9KS5wcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmxhc2hIaWdobGlnaHQoakNvbW1lbnRzT3JJZCkge1xuICAgICAgICBpZiAodHlwZW9mIGpDb21tZW50c09ySWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGpDb21tZW50c09ySWQgPSAkKCcjY29tbWVudC0nICsgakNvbW1lbnRzT3JJZCk7XG4gICAgICAgIH1cbiAgICAgICAgakNvbW1lbnRzT3JJZC5hZGRDbGFzcyhcImNvbW1lbnRfX2hpZ2hsaWdodFwiKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqQ29tbWVudHNPcklkLnJlbW92ZUNsYXNzKFwiY29tbWVudF9faGlnaGxpZ2h0IG5ld19jb21tZW50XCIpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFsdGltZU1lc3NhZ2UocG9zdElkKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKCcjY29tbWVudHMtJyArIHBvc3RJZCk7XG4gICAgICAgIGlmICghY29udGFpbmVyLmxlbmd0aCkgLy8gdGhlIHJlYWx0aW1lIG1lc3NhZ2UgbWF5IGJlIGZvciBjb21tZW50cyBvbiBhbiBhbnN3ZXIgdGhhdCdzIG5vdCBzaG93biBvbiB0aGUgcGFnZSAoeWV0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdWkgPSB1aUZvclBvc3QoY29udGFpbmVyKTtcblxuICAgICAgICB2YXIgY29tbWVudExpbmsgPSB1aS5qQ29tbWVudHNMaW5rQ29udGFpbmVyO1xuICAgICAgICB2YXIgY3RCb2R5ID0gdWkuakNvbW1lbnRzTGlzdDtcbiAgICAgICAgdmFyIGNvbW1lbnRzQ291bnQgPSB1aS5yZW1haW5pbmdDb21tZW50c0NvdW50KCk7XG5cbiAgICAgICAgY29tbWVudHNDb3VudCsrO1xuICAgICAgICBjb21tZW50TGluay5kYXRhKCdjb21tZW50cy1jb3VudCcsIGNvbW1lbnRzQ291bnQpO1xuICAgICAgICBjb21tZW50TGluay5hdHRyKCd0aXRsZScsIF9zKCdFeHBhbmQgdG8gc2hvdyBhbGwgY29tbWVudHMgb24gdGhpcyBwb3N0LCBvciBhZGQgb25lIG9mIHlvdXIgb3duJykpO1xuXG4gICAgICAgIHVpLnNldENvbW1lbnRzTWVudShjb21tZW50c0NvdW50KTtcblxuICAgICAgICBjb21tZW50TGluay5yZW1vdmVDbGFzcygnZGlzYWJsZWQtbGluaycpO1xuICAgICAgICB1aS5yZW1haW5pbmdDb21tZW50c0NvdW50KGNvbW1lbnRzQ291bnQpO1xuXG4gICAgICAgIGNvbW1lbnRMaW5rLnNob3coKS5mYWRlVG8oJ2Zhc3QnLCAwLjcpLmZhZGVUbygnZmFzdCcsIDEpO1xuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIHVpRm9yUG9zdChlbE9ySlF1ZXJ5T3JTZWxlY3Rvcikge1xuICAgICAgICB2YXIgJGVsID0gZWxPckpRdWVyeU9yU2VsZWN0b3IuY29uc3RydWN0b3IgPT09ICQgPyBlbE9ySlF1ZXJ5T3JTZWxlY3RvciA6ICQoZWxPckpRdWVyeU9yU2VsZWN0b3IpO1xuICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICRlbC5jbG9zZXN0KCcuanMtY29tbWVudHMtY29udGFpbmVyJyk7XG4gICAgICAgIGlmICgkY29udGFpbmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJGNvbnRhaW5lciA9ICRlbC5jbG9zZXN0KFwiLmpzLXBvc3QtY29tbWVudHMtY29tcG9uZW50LCAucXVlc3Rpb24sIC5hbnN3ZXIsIGRpdltpZF49J3Bvc3QtJ10sIC5qcy1hcnRpY2xlLCAuanMtY29sbGVjdGl2ZS1jb2xsZWN0aW9uXCIpLmZpbmQoXCIuanMtY29tbWVudHMtY29udGFpbmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkY29udGFpbmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJGNvbnRhaW5lciA9ICQoXCIuanMtc3RhZ2luZy1ncm91bmQtY29tbWVudHMtY29udGFpbmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3N0SWQgPSAkY29udGFpbmVyLmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgdmFyIGNvbW1lbnRDb250ZXh0ID0gJGNvbnRhaW5lci5kYXRhKCdjb21tZW50LWNvbnRleHQnKSB8fCAnbm9uZSc7XG4gICAgICAgIHZhciBrZXkgPSBwb3N0SWQgKyAnLScgKyBjb21tZW50Q29udGV4dDtcblxuICAgICAgICBpZiAocG9zdFVpQ2FjaGVba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RVaUNhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdWkgPSBuZXcgUG9zdFVpKHBvc3RJZCwgJGNvbnRhaW5lciwgY29tbWVudENvbnRleHQpO1xuICAgICAgICBwb3N0VWlDYWNoZVtrZXldID0gdWk7XG4gICAgICAgIHJldHVybiB1aTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIHVzZWQgZm9yIFwiY29tbWVudF9wb3B1cC5zaG93XCIgdHJhY2tpbmcgb25seSwgd2hpY2ggaXMgbGltaXRlZCBmb3IgcXVlc3Rpb25zL2Fuc3dlciBvbiB0aGUgcXVlc3Rpb24gcGFnZSAtIGFsbCBvdGhlcnMgc2hvdWxkIGJlIFwidW5rbm93blwiXG4gICAgZnVuY3Rpb24gZ2V0UG9zdFR5cGVJZEZvclRyYWNraW5nKGNvbW1lbnRMaW5rKSB7XG5cbiAgICAgICAgLy9leGNsdWRlIHJldmlld1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZXZpZXcnKSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyB1bmtub3duXG5cbiAgICAgICAgaWYgKGNvbW1lbnRMaW5rLmNsb3Nlc3QoJy5xdWVzdGlvbicpLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAxO1xuXG4gICAgICAgIGlmIChjb21tZW50TGluay5jbG9zZXN0KCcuYW5zd2VyJykubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIDI7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tbWVudHNMaW5rQ2xpY2tlZChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGNvbW1lbnRMaW5rID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIHVpID0gdWlGb3JQb3N0KGNvbW1lbnRMaW5rKTtcbiAgICAgICAgdmFyIGFsbENvbW1lbnRzU2hvd24gPSB1aS5yZW1haW5pbmdDb21tZW50c0NvdW50KCkgPT09IDA7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IGNvbW1lbnRMaW5rLmhhc0NsYXNzKFwiZGlzYWJsZWQtbGlua1wiKTtcbiAgICAgICAgdmFyIHJlcFJlcXVpcmVkID0gdWkuakNvbW1lbnRzTGlua0NvbnRhaW5lci5kYXRhKFwicmVwXCIpO1xuXG4gICAgICAgIGlmIChhbGxDb21tZW50c1Nob3duICYmIHVpLmpDb21tZW50c0xpbmtDb250YWluZXIuZGF0YShcImFub25cIikpIHtcbiAgICAgICAgICAgIGxvYWRBbm9uQ29tbWVudFBvcHVwKHVpLnBvc3RJZCwgY29tbWVudExpbmspO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFsbENvbW1lbnRzU2hvd24gJiYgdWkuakNvbW1lbnRzTGlua0NvbnRhaW5lci5kYXRhKFwicmVnXCIpKSB7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd01lc3NhZ2UoY29tbWVudExpbmssXG4gICAgICAgICAgICAgICAgX20oXCJZb3UgbXVzdCBoYXZlICRsaW5rU3RhcnQkI3JlcCMgcmVwdXRhdGlvbiRsaW5rRW5kJCB0byBjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgcmVwOiByZXBSZXF1aXJlZCwgbGlua1N0YXJ0OiBcIjxhIGhyZWY9Jy9oZWxwL3ByaXZpbGVnZXMvY29tbWVudCc+XCIsIGxpbmtFbmQ6IFwiPC9hPlwiIH0pLFxuICAgICAgICAgICAgICAgIHsgdHlwZTogXCJpbmZvXCIsIHBvc2l0aW9uOiB7IG15OiBcImxlZnQgdG9wXCIsIGF0OiBcInJpZ2h0IGNlbnRlclwiIH0sIHJlbGF0aXZlVG9Cb2R5OiB0cnVlIH0pO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Bvc3RzL3BvcHVwL2F0dGVtcHRlZC1jb21tZW50L3twb3N0SWR9Jy5mb3JtYXRVbmljb3JuKHsgcG9zdElkOiB1aS5wb3N0SWQgfSksXG4gICAgICAgICAgICAgICAgZGF0YTogeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5IH0sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1lbnRMaW5rLmhhc0NsYXNzKCdqcy1zaG93LWxpbmsnKSkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbiAoKSB7IFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwiY29tbWVudC5zaG93XCIpOyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG91bGRSZW5kZXJBZGRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGNvbW1lbnRMaW5rLmhhc0NsYXNzKCdqcy1hZGQtbGluaycpKSB7XG4gICAgICAgICAgICBzaG91bGRSZW5kZXJBZGRGb3JtID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gdWkubG9jYXRpb24gfHwgJ290aGVyJztcbiAgICAgICAgICAgIHZhciB0eXBlID0gYWxsQ29tbWVudHNTaG93biA/IFwiYWxsX3Nob3duXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbiAoKSB7IFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwiY29tbWVudC5hZGRcIiwgeyBsb2NhdGlvbjogbG9jYXRpb24sIHR5cGU6IHR5cGUgfSk7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdWkuYWRkU2hvdyhmYWxzZSwgc2hvdWxkUmVuZGVyQWRkRm9ybSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZEFub25Db21tZW50UG9wdXAocG9zdElkLCAkbGluaykge1xuXG4gICAgICAgIGlmICgkbGluay5pcygnOndvcmtpbmcnKSkgeyByZXR1cm47IH1cbiAgICAgICAgJGxpbmsud29ya2luZyh0cnVlKTtcblxuICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlTWVzc2FnZXMoKTtcblxuICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiZ3BzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwiY29tbWVudF9wb3B1cC5zaG93XCIsIHsgdHlwZTogZ2V0UG9zdFR5cGVJZEZvclRyYWNraW5nKCRsaW5rKSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy9wb3N0cy9wb3B1cC9hbm9uLWNvbW1lbnQve3Bvc3RJZH0nLmZvcm1hdFVuaWNvcm4oeyBwb3N0SWQ6IHBvc3RJZCB9KSxcbiAgICAgICAgICAgIGRhdGE6IHsgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSB9LFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5vcGVuaWQuc2hvd0xvZ2luTW9kYWwoaHRtbCwgeyByZXR1cm5FbGVtZW50czogJGxpbmsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkbGluay53b3JraW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgY29udGV4dCA9IG9wdGlvbnMucG9zdCB8fCBkb2N1bWVudDtcblxuICAgICAgICAvLyBpbml0IGlzIHNvbWV0aW1lcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHdoaWNoIHNjcmV3cyBzdHVmZiB1cFxuICAgICAgICBwb3N0VWlDYWNoZSA9IHt9OyAvLyBwb3N0IGNhY2hlIHN0b3JlcyBzdHVmZiByZW1vdmVkIGZyb20gdGhlIERPTSB0cmVlIC4uLlxuICAgICAgICAkKGNvbnRleHQpXG4gICAgICAgICAgICAub2ZmKFwiY2xpY2tcIiwgXCJhLmpzLWFkZC1saW5rXCIsIGNvbW1lbnRzTGlua0NsaWNrZWQpIC8vIGRvIG5vdCBkZWxlZ2F0ZSBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgXCJhLmpzLWFkZC1saW5rXCIsIGNvbW1lbnRzTGlua0NsaWNrZWQpO1xuICAgICAgICAkKGNvbnRleHQpXG4gICAgICAgICAgICAub2ZmKFwiY2xpY2tcIiwgXCJhLmpzLXNob3ctbGlua1wiLCBjb21tZW50c0xpbmtDbGlja2VkKSAvLyBkbyBub3QgZGVsZWdhdGUgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIFwiYS5qcy1zaG93LWxpbmtcIiwgY29tbWVudHNMaW5rQ2xpY2tlZCk7XG4gICAgICAgIC8vIG9ubHkgZGVlcCBsaW5rIHRvIGNvbW1lbnRzIG9uIHF1ZXN0aW9uL3Nob3dcbiAgICAgICAgaWYgKGNvbnRleHQgPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGRlZXBMaW5rKG9wdGlvbnMuaGFzaFByZWZpeCk7XG4gICAgICAgIH1cblxuICAgICAgICBleHRlbmRQb3N0VWkobnVsbCwgdHJ1ZSk7IC8vIHdlIG5lZWQgdG8gcmUtYXBwbHkgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb24gaW5pdCBiZWNhdXNlIG9mIHJldmlldyBhdWRpdHNcbiAgICAgICAgaWYgKG9wdGlvbnMuY29tbWVudEhpZ2hsaWdodEZvY3VzKSBjb21tZW50SGlnaGxpZ2h0Rm9jdXMgPSBvcHRpb25zLmNvbW1lbnRIaWdobGlnaHRGb2N1cztcbiAgICB9XG5cbiAgICB2YXIgZXh0ZW5kUG9zdFVpT2JqO1xuICAgIGZ1bmN0aW9uIGV4dGVuZFBvc3RVaShvYmosIGlzVGVtcCkge1xuICAgICAgICBpZiAoIWlzVGVtcCkge1xuICAgICAgICAgICAgZXh0ZW5kUG9zdFVpT2JqID0gb2JqO1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9IG9iaiB8fCBleHRlbmRQb3N0VWlPYmogfHwge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKVxuICAgICAgICAgICAgICAgIFBvc3RVaS5wcm90b3R5cGVba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0dXJucyB0aW1lc3RhbXBzIGludG8gYW5jaG9ycyB0aGF0IGFsbG93IGRpcmVjdCBsaW5raW5nXG4gICAgZnVuY3Rpb24gZGVlcExpbmsoaGFzaFByZWZpeCkge1xuICAgICAgICB2YXIgaXNRdWVzdGlvblBhZ2UgPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy9xdWVzdGlvbnMvJykgPiAwO1xuICAgICAgICB2YXIgaXNTdGFnaW5nR3JvdW5kID0gbG9jYXRpb24uaHJlZi5pbmRleE9mKCcvc3RhZ2luZy1ncm91bmQvJykgPiAwO1xuICAgICAgICB2YXIgaXNFbGVjdGlvblBhZ2UgPSAhaXNRdWVzdGlvblBhZ2UgJiYgKGxvY2F0aW9uLmhyZWYuZW5kc1dpdGgoJy9lbGVjdGlvbicpIHx8IGxvY2F0aW9uLmhyZWYuaW5kZXhPZignL2VsZWN0aW9uLycpID4gMCk7XG4gICAgICAgIHZhciBpc0NvbGxlY3RpdmVBcnRpY2xlUGFnZSA9IC9cXC9jb2xsZWN0aXZlc1xcLy4rXFwvYXJ0aWNsZXNcXC8vLnRlc3QobG9jYXRpb24uaHJlZik7XG4gICAgICAgIHZhciBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uUGFnZSA9IC9cXC9jb2xsZWN0aXZlc1xcLy4rXFwvY29sbGVjdGlvbnNcXC8vLnRlc3QobG9jYXRpb24uaHJlZik7XG5cbiAgICAgICAgLy8gb25seSBxdWVzdGlvbi9zaG93LCBtb2RlcmF0b3IgZWxlY3Rpb24sIENvbGxlY3RpdmUgQXJ0aWNsZSwgYW5kIENvbGxlY3RpdmUgQ29sbGVjdG9uIHBhZ2VzIGFyZSBzdXBwb3J0ZWRcbiAgICAgICAgaWYgKCFpc0VsZWN0aW9uUGFnZSAmJiAhaXNTdGFnaW5nR3JvdW5kICYmICFpc1F1ZXN0aW9uUGFnZSAmJiAhaXNDb2xsZWN0aXZlQXJ0aWNsZVBhZ2UgJiYgIWlzQ29sbGVjdGl2ZUNvbGxlY3Rpb25QYWdlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGlzUXVlc3Rpb25QYWdlICYmICQoJy5xdWVzdGlvbltkYXRhLXF1ZXN0aW9uaWRdJykubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgICAgICAvLyAuY29tbWVudC1kYXRlIGhhcyBhbiBpbm5lciBzcGFuIGZvciBVVEMgdG9vbHRpcCAtIHdlJ2xsIHdyYXAgYW4gYW5jaG9yIGFyb3VuZCB0aGlzIHRvb2x0aXAgc3BhblxuICAgICAgICAvLyBub3RlIHdoZW4gdXNpbmcgXCJTaG93IE1vcmVcIiBjb21tZW50cywgdGhpcyB3aWxsIG9ubHkgZmluZCB0aG9zZSBmcmVzaGx5IHB1bGxlZCBjb21tZW50c1xuICAgICAgICAkKCcuanMtY29tbWVudCAuY29tbWVudC1kYXRlID4gc3BhbicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgbWUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGNpZCA9IG1lLmNsb3Nlc3QoJy5qcy1jb21tZW50JykuYXR0cignaWQnKS5zdWJzdHIoJ2NvbW1lbnQtJy5sZW5ndGgpO1xuXG4gICAgICAgICAgICB2YXIgcGlkID0gMDtcbiAgICAgICAgICAgIGlmIChpc1F1ZXN0aW9uUGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciAkYW5zd2VyID0gbWUuY2xvc2VzdCgnLmFuc3dlcicpO1xuICAgICAgICAgICAgICAgIHZhciBhbnN3ZXJJZCA9ICRhbnN3ZXIgJiYgJGFuc3dlci5sZW5ndGggPyAkYW5zd2VyLmRhdGEoJ2Fuc3dlcmlkJykgOiAwO1xuXG4gICAgICAgICAgICAgICAgcGlkID0gKGFuc3dlcklkID8gYW5zd2VySWQgOiBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmdldFF1ZXN0aW9uSWQoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29sbGVjdGl2ZUFydGljbGVQYWdlIHx8IGlzU3RhZ2luZ0dyb3VuZCB8fCBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uUGFnZSkge1xuICAgICAgICAgICAgICAgIHBpZCA9IG1lLmNsb3Nlc3QoXCIuanMtY29tbWVudHMtY29udGFpbmVyXCIpLmRhdGEoXCJwb3N0LWlkXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWQgPSBtZS5jbG9zZXN0KCcuanMtbm9taW5hdGlvbicpLmRhdGEoJ3Bvc3RpZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaGFzaCA9IChoYXNoUHJlZml4ID8gaGFzaFByZWZpeCA6ICcnKSArICcjY29tbWVudCcgKyBjaWQgKyAnXycgKyBwaWQ7XG5cbiAgICAgICAgICAgIGlmIChpc1F1ZXN0aW9uUGFnZSB8fCBpc1N0YWdpbmdHcm91bmQgfHwgaXNFbGVjdGlvblBhZ2UgfHwgaXNDb2xsZWN0aXZlQXJ0aWNsZVBhZ2UgfHwgaXNDb2xsZWN0aXZlQ29sbGVjdGlvblBhZ2UpIHtcbiAgICAgICAgICAgICAgICBtZS53cmFwKCc8YSBjbGFzcz1cImNvbW1lbnQtbGlua1wiIGhyZWY9XCJ7aGFzaH1cIiBhcmlhLWxhYmVsPVwiTGluayB0byBjb21tZW50XCI+PC9hPicuZm9ybWF0VW5pY29ybih7IGhhc2g6IGhhc2ggfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZS53cmFwKCc8YSBjbGFzcz1cImNvbW1lbnQtbGlua1wiIGhyZWY9XCIvcS97cGlkfS97aGFzaH1cIiBhcmlhLWxhYmVsPVwiTGluayB0byBjb21tZW50XCI+PC9hPicuZm9ybWF0VW5pY29ybih7IGhhc2g6IGhhc2gsIHBpZDogcGlkIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlnaGxpZ2h0KGNvbW1lbnRJZCwgcG9zdElkKSB7XG4gICAgICAgIHZhciBzZWxlY3RvciA9ICcjY29tbWVudC0nICsgY29tbWVudElkLFxuICAgICAgICAgICAgYyA9ICQoc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChjLmxlbmd0aCkgeyAvLyBjb21tZW50IGlzIG9uIHRoZSBzY3JlZW5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuZmxhc2hIaWdobGlnaHQoYyk7XG4gICAgICAgICAgICBjWzBdLnNjcm9sbEludG9WaWV3KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyB3ZSBuZWVkIHRvIGZldGNoIGFsbCBjb21tZW50c1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRDb250YWluZXIgPSAkKCcjY29tbWVudHMtbGluay0nICsgcG9zdElkKTtcblxuICAgICAgICAgICAgaWYgKGNvbW1lbnRDb250YWluZXIubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBhIG1vZGVyYXRvciwgbG9hZHMgYWxsIGNvbW1lbnRzLCBpbmNsdWRpbmcgZGVsZXRlZCBvbmVzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB3YXkgd2UgY2FuIGhpZ2hsaWdodCBkZWxldGVkIGNvbW1lbnRzIGZyb20gZS5nLjogdGhlIHRpbWVsaW5lXG4gICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxRdWVyeVBhcmFtcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmlzTW9kZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxRdWVyeVBhcmFtcyA9ICc/aW5jbHVkZURlbGV0ZWQ9dHJ1ZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5jb21tZW50cy5sb2FkQWxsKGNvbW1lbnRDb250YWluZXIsIGFkZGl0aW9uYWxRdWVyeVBhcmFtcykuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuZmxhc2hIaWdobGlnaHQoY29tbWVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgKCQoc2VsZWN0b3IpWzBdIHx8IGNvbW1lbnRDb250YWluZXIuY2xvc2VzdChcIi5xdWVzdGlvbiwgLmFuc3dlclwiKVswXSkuc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIGdvdCBoZXJlLCB0aGUgcG9zdCAoYW5zd2VyPykgd2FzIHByb2JhYmx5IGRlbGV0ZWQuIGRvIG5vdGhpbmcuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgbG9hZEFsbDogZnVuY3Rpb24gKHdoZXJlLCBhZGRpdGlvbmFsUXVlcnlQYXJhbXMpIHsgcmV0dXJuIHVpRm9yUG9zdCh3aGVyZSkubG9hZEFsbENvbW1lbnRzKHRydWUsIGFkZGl0aW9uYWxRdWVyeVBhcmFtcywgdHJ1ZSwgdHJ1ZSk7IH0sXG4gICAgICAgIHJlcGxhY2VBbGw6IGZ1bmN0aW9uICh3aGVyZSwgaHRtbE9ySlF1ZXJ5KSB7XG4gICAgICAgICAgICB1aUZvclBvc3Qod2hlcmUpLnNob3dDb21tZW50cyhodG1sT3JKUXVlcnksIG51bGwsIHRydWUsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICByZWFsdGltZU1lc3NhZ2U6IHJlYWx0aW1lTWVzc2FnZSxcbiAgICAgICAgZmxhc2hIaWdobGlnaHQ6IGZsYXNoSGlnaGxpZ2h0LFxuICAgICAgICBoaWdobGlnaHQ6IGhpZ2hsaWdodCxcblxuICAgICAgICAvLyB0aGUgZm9sbG93aW5nIHR3byBhcmUgaW50ZW5kZWQgb25seSBmb3IgYWRkaW5nIGFjdGl2ZSBmdW5jdGlvbmFsaXR5XG4gICAgICAgIC8vIChpbiBmdWxsLnBhcnQuanMpXG4gICAgICAgIC8vIHRoZSBwYXNzZWQgaW4gaGFuZGxlciBtdXN0IGV4ZWN1dGUgb24gZWFjaCBjYWxsIHNpbmNlIHJldmlldyBhdWRpdHMgbmVlZCB0byBvdmVycmlkZSBzb21lIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgZXh0ZW5kUG9zdFVpOiBleHRlbmRQb3N0VWksXG4gICAgICAgIHVpRm9yUG9zdDogdWlGb3JQb3N0XG4gICAgfTtcbn0pKCk7ICAgICAgICAgIC8vIGVuZCBvZiBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzXG5cbiIsIi8vIHJlcXVpcmVkIGFuZCBtb2RlcmF0b3Jfb25seSBhcmUgc3RyaW5nIGFycmF5c1xud2luZG93LmluaXRUYWdSZW5kZXJlciA9IGZ1bmN0aW9uIGluaXRUYWdSZW5kZXJlcihyZXF1aXJlZCwgbW9kZXJhdG9yX29ubHksIGNoYW5uZWxPcHRpb25zKSB7XG4gICAgaWYgKHdpbmRvdy50YWdSZW5kZXJlcilcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgY2hhbm5lbE9wdGlvbnMgPSBjaGFubmVsT3B0aW9ucyB8fCB7XG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBpZDogXCJcIixcbiAgICB9O1xuXG4gICAgLy8gaWYgbGlua19yb290IGlzIGdpdmVuLCB0aGUgcmVzdWx0aW5nIFVSTCBpcyBhYnNvbHV0ZSwgYW5kIHJlcXVpcmVkL21vZGVyYXRvcl9vbmx5IGFyZSBpZ25vcmVkIChiZWNhdXNlIHRob3NlIGFyZSBhYm91dCAqdGhpcyogc2l0ZSlcbiAgICB3aW5kb3cudGFnUmVuZGVyZXJSYXcgPSBmdW5jdGlvbiAodGFnLCBsaW5rX3Jvb3QsIHRhZ05hbWUsIHVzZVN0YWNrc0NsYXNzZXMpIHtcbiAgICAgICAgbGlua19yb290ID0gbGlua19yb290IHx8IFwiXCI7XG4gICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lIHx8IFwiYVwiO1xuICAgICAgICB2YXIgZXh0cmFfY2xhc3MgPSBcIlwiO1xuICAgICAgICB2YXIgYmFzZV9jbGFzcyA9IHVzZVN0YWNrc0NsYXNzZXMgPyBcInMtdGFnXCIgOiBcInBvc3QtdGFnXCI7XG4gICAgICAgIHZhciB0YWdOYW1lSHRtbEVudGl0eUVuY29kZWQgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZW5jb2RlSGV4SHRtbEVudGl0aWVzKHRhZyk7XG5cbiAgICAgICAgaWYgKCFsaW5rX3Jvb3QpIHtcbiAgICAgICAgICAgIGlmIChyZXF1aXJlZCAmJiAkLmluQXJyYXkodGFnTmFtZUh0bWxFbnRpdHlFbmNvZGVkLCByZXF1aXJlZCkgPiAtMSlcbiAgICAgICAgICAgICAgICBleHRyYV9jbGFzcyA9IHVzZVN0YWNrc0NsYXNzZXMgPyBcInMtdGFnX19yZXF1aXJlZFwiIDogXCJyZXF1aXJlZC10YWdcIjtcbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGVyYXRvcl9vbmx5ICYmICQuaW5BcnJheSh0YWdOYW1lSHRtbEVudGl0eUVuY29kZWQsIG1vZGVyYXRvcl9vbmx5KSA+IC0xKVxuICAgICAgICAgICAgICAgIGV4dHJhX2NsYXNzID0gdXNlU3RhY2tzQ2xhc3NlcyA/IFwicy10YWdfX21vZGVyYXRvclwiIDogXCJtb2RlcmF0b3ItdGFnXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gJChcIjxcIiArIHRhZ05hbWUgKyBcIj5cIilcbiAgICAgICAgICAgIC5hZGRDbGFzcyhiYXNlX2NsYXNzKVxuICAgICAgICAgICAgLmFkZENsYXNzKGV4dHJhX2NsYXNzKVxuICAgICAgICAgICAgLmFkZENsYXNzKCQuaW5BcnJheSh0YWcsIGNoYW5uZWxPcHRpb25zLnRhZ3MpID4gLTEgPyBcInNpdGVcIiArIGNoYW5uZWxPcHRpb25zLmlkICsgXCIgdGhlbWVkIGNoYW5uZWxcIiArIGNoYW5uZWxPcHRpb25zLmlkICsgXCItdGFnXCIgOiBcIlwiKVxuICAgICAgICAgICAgLnRleHQodGFnKTtcbiAgICAgICAgaWYgKHRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJhXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hdHRyKHtcbiAgICAgICAgICAgICAgICByZWw6ICd0YWcnLFxuICAgICAgICAgICAgICAgIGhyZWY6IGxpbmtfcm9vdCArIFwiL3F1ZXN0aW9ucy90YWdnZWQvXCIgKyBlbmNvZGVVUklDb21wb25lbnQodGFnKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogX3MoXCJzaG93IHF1ZXN0aW9ucyB0YWdnZWQgJyR0YWckJ1wiLCB7IHRhZzogdGFnIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5vdXRlckhUTUwoKTtcbiAgICB9O1xuICAgIHdpbmRvdy50YWdSZW5kZXJlciA9IGZ1bmN0aW9uICh0YWcsIGxpbmtfcm9vdCwgdGFnTmFtZSwgdXNlU3RhY2tzQ2xhc3Nlcykge1xuICAgICAgICByZXR1cm4gJCh0YWdSZW5kZXJlclJhdyh0YWcsIGxpbmtfcm9vdCwgdGFnTmFtZSwgdXNlU3RhY2tzQ2xhc3NlcykpO1xuICAgIH07XG5cbiAgICB3aW5kb3cudGFnUmVuZGVyZXIucmVxdWlyZWRUYWdzID0gcmVxdWlyZWQ7XG4gICAgd2luZG93LnRhZ1JlbmRlcmVyLm1vZGVyYXRvck9ubHlUYWdzID0gbW9kZXJhdG9yX29ubHk7XG4gICAgd2luZG93LnRhZ1JlbmRlcmVyLmNoYW5uZWxPcHRpb25zID0gY2hhbm5lbE9wdGlvbnM7XG4gICAgd2luZG93LnRhZ1JlbmRlcmVyLm1hcmtEaXZlcmdlZFRhZyA9ICh0YWdOYW1lKSA9PiB7XG4gICAgICAgIGlmICghY2hhbm5lbE9wdGlvbnMudGFncy5pbmNsdWRlcyh0YWdOYW1lKSkge1xuICAgICAgICAgICAgY2hhbm5lbE9wdGlvbnMudGFncy5wdXNoKHRhZ05hbWUpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImZ1bmN0aW9uIHNob3dGYWRpbmdIZWxwVGV4dChlbGVtKSB7XG4gICAgLy8gdG8gYWNjb21tb2RhdGUgc3BlY2lhbCBjc3MgZmlsZXMsIHdyYXAgdGhlIGhlbHAgaW4gYW5vdGhlciBkaXYgYW5kIGFuaW1hdGUgdGhhdCAtIHJlbW92ZSB3cmFwcGVyIHdoZW4gY29tcGxldGUgICAgICAgICAgICAgICAgXG4gICAgZWxlbS53cmFwKCc8ZGl2IGNsYXNzPVwiZG5vXCIgLz4nKS5zaG93KCkucGFyZW50KCkuZmFkZUluKCdzbG93JywgZnVuY3Rpb24gKCkgeyAkKHRoaXMpLmNoaWxkcmVuKCkudW53cmFwKCk7IH0pO1xufVxuXG53aW5kb3cuaW5pdEZhZGluZ0hlbHBUZXh0ID0gZnVuY3Rpb24gaW5pdEZhZGluZ0hlbHBUZXh0KCkge1xuICAgIHZhciBtYXAgPSB7XG4gICAgICAgICd3bWQtaW5wdXQnOiAnI2hvdy10by1mb3JtYXQnLFxuICAgICAgICAndGFnbmFtZXMnOiAnI2hvdy10by10YWcnLFxuICAgICAgICAndGFnLWVkaXRvcic6ICcjaG93LXRvLXRhZycsXG4gICAgICAgICd0aXRsZSc6ICcjaG93LXRvLXRpdGxlJyxcbiAgICAgICAgJ3dtZC1pbnB1dC00Mic6ICcjaG93LXRvLWZvcm1hdCcsXG4gICAgICAgICdlZGl0LWNvbW1lbnQnOiAnI2hvdy10by1jb21tZW50JyxcbiAgICAgICAgJ2pzLXN0YWNrcy1lZGl0b3ItY29udGFpbmVyJzogJyNob3ctdG8tZm9ybWF0J1xuICAgIH07XG4gICAgdmFyIGpJbnB1dHMgPSAkKCcud21kLWlucHV0LCAjdGFnbmFtZXMsICN0aXRsZSwgLnRhZy1lZGl0b3IgaW5wdXQsICN3bWQtaW5wdXQtNDIsIC5lZGl0LWNvbW1lbnQsIC5qcy1zdGFja3MtZWRpdG9yLWNvbnRhaW5lcicpO1xuICAgIHZhciBnZXRIZWxwU2VsZWN0b3IgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YXIgakkgPSAkKGkpO1xuICAgICAgICBpZiAoakkucGFyZW50KCkuaGFzQ2xhc3MoXCJ0YWctZWRpdG9yXCIpICYmICFqSS5jbG9zZXN0KCcuanMtbWVudGlvbnMtaW5wdXQnKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbWFwW1widGFnLWVkaXRvclwiXTtcbiAgICAgICAgaWYgKGpJLmhhc0NsYXNzKFwid21kLWlucHV0XCIpKVxuICAgICAgICAgICAgcmV0dXJuIG1hcFtcIndtZC1pbnB1dFwiXTtcbiAgICAgICAgaWYgKGpJLmhhc0NsYXNzKFwiZWRpdC1jb21tZW50XCIpKVxuICAgICAgICAgICAgcmV0dXJuIG1hcFtcImVkaXQtY29tbWVudFwiXTtcbiAgICAgICAgaWYgKGpJLmhhc0NsYXNzKFwianMtc3RhY2tzLWVkaXRvci1jb250YWluZXJcIikpXG4gICAgICAgICAgICByZXR1cm4gbWFwW1wianMtc3RhY2tzLWVkaXRvci1jb250YWluZXJcIl07XG4gICAgICAgIHJldHVybiBtYXBbJChpKS5hdHRyKCdpZCcpXTtcbiAgICB9O1xuICAgIGpJbnB1dHMuZm9jdXNpbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdTZWxlY3RvciA9IGdldEhlbHBTZWxlY3Rvcih0aGlzKTtcbiAgICAgICAgaklucHV0cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGlzU2VsZWN0b3IgPSBnZXRIZWxwU2VsZWN0b3IodGhpcyk7ICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpc1NlbGVjdG9yICE9IG5ld1NlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzU2VsZWN0b3IpLmhpZGUoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbmV3SGVscCA9ICQobmV3U2VsZWN0b3IpO1xuICAgICAgICBpZiAoIW5ld0hlbHAuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgc2hvd0ZhZGluZ0hlbHBUZXh0KG5ld0hlbHApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbiIsIi8qXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwIEMuIEYuLCBXb25nICg8YSBocmVmPVwiaHR0cDovL2Nsb3VkZ2VuLncwbmcuaGtcIj5DbG91ZGdlbiBFeGFtcGxldCBTdG9yZTwvYT4pXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2U6XG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICpcbiAqL1xuKGZ1bmN0aW9uKCQsbGVuLGNyZWF0ZVJhbmdlLGR1cGxpY2F0ZSl7XG4gICAgdmFyIGJyb3dzZXI9ICEoXCJzZWxlY3Rpb25TdGFydFwiIGluICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgLz5cIilbMF0pO1xuXHQkLmZuLmNhcmV0PWZ1bmN0aW9uKG9wdGlvbnMsb3B0Mil7XG5cdFx0dmFyIHN0YXJ0LGVuZCx0PXRoaXNbMF07XG5cdFx0aWYodHlwZW9mIG9wdGlvbnM9PT1cIm9iamVjdFwiICYmIHR5cGVvZiBvcHRpb25zLnN0YXJ0PT09XCJudW1iZXJcIiAmJiB0eXBlb2Ygb3B0aW9ucy5lbmQ9PT1cIm51bWJlclwiKSB7XG5cdFx0XHRzdGFydD1vcHRpb25zLnN0YXJ0O1xuXHRcdFx0ZW5kPW9wdGlvbnMuZW5kO1xuXHRcdH0gZWxzZSBpZih0eXBlb2Ygb3B0aW9ucz09PVwibnVtYmVyXCIgJiYgdHlwZW9mIG9wdDI9PT1cIm51bWJlclwiKXtcblx0XHRcdHN0YXJ0PW9wdGlvbnM7XG5cdFx0XHRlbmQ9b3B0Mjtcblx0XHR9IGVsc2UgaWYodHlwZW9mIG9wdGlvbnM9PT1cInN0cmluZ1wiKXtcblx0XHRcdGlmKChzdGFydD10LnZhbHVlLmluZGV4T2Yob3B0aW9ucykpPi0xKSBlbmQ9c3RhcnQrb3B0aW9uc1tsZW5dO1xuXHRcdFx0ZWxzZSBzdGFydD1udWxsO1xuXHRcdH0gZWxzZSBpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob3B0aW9ucyk9PT1cIltvYmplY3QgUmVnRXhwXVwiKXtcblx0XHRcdHZhciByZT1vcHRpb25zLmV4ZWModC52YWx1ZSk7XG5cdFx0XHRpZihyZSAhPSBudWxsKSB7XG5cdFx0XHRcdHN0YXJ0PXJlLmluZGV4O1xuXHRcdFx0XHRlbmQ9c3RhcnQrcmVbMF1bbGVuXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYodHlwZW9mIHN0YXJ0IT1cInVuZGVmaW5lZFwiKXtcblx0XHRcdGlmKGJyb3dzZXIpe1xuXHRcdFx0XHR2YXIgc2VsUmFuZ2UgPSB0aGlzWzBdLmNyZWF0ZVRleHRSYW5nZSgpO1xuXHRcdFx0XHRzZWxSYW5nZS5jb2xsYXBzZSh0cnVlKTtcblx0XHRcdFx0c2VsUmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG5cdFx0XHRcdHNlbFJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIGVuZC1zdGFydCk7XG5cdFx0XHRcdHNlbFJhbmdlLnNlbGVjdCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpc1swXS5zZWxlY3Rpb25TdGFydD1zdGFydDtcblx0XHRcdFx0dGhpc1swXS5zZWxlY3Rpb25FbmQ9ZW5kO1xuXHRcdFx0fVxuXHRcdFx0dGhpc1swXS5mb2N1cygpO1xuXHRcdFx0cmV0dXJuIHRoaXNcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gTW9kaWZpY2F0aW9uIGFzIHN1Z2dlc3RlZCBieSDQkNC90LTRgNC10Lkg0K7RgtC60LjQvVxuICAgICAgICAgICBpZihicm93c2VyKXtcblx0XHRcdFx0dmFyIHNlbGVjdGlvbj1kb2N1bWVudC5zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9IFwidGV4dGFyZWFcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBzZWxlY3Rpb25bY3JlYXRlUmFuZ2VdKClbZHVwbGljYXRlXSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIHZhbFtsZW5dKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAocmFuZ2UudGV4dCA9PSBcIlwiID8gdmFsW2xlbl06dmFsLmxhc3RJbmRleE9mKHJhbmdlLnRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBzZWxlY3Rpb25bY3JlYXRlUmFuZ2VdKClbZHVwbGljYXRlXSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLXZhbFtsZW5dKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSByYW5nZS50ZXh0W2xlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uW2NyZWF0ZVJhbmdlXSgpLFxuICAgICAgICAgICAgICAgICAgICBzdG9yZWRfcmFuZ2UgPSByYW5nZVtkdXBsaWNhdGVdKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlZF9yYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCh0aGlzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVkX3JhbmdlLnNldEVuZFBvaW50KCdFbmRUb0VuZCcsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBzdG9yZWRfcmFuZ2UudGV4dFtsZW5dIC0gcmFuZ2UudGV4dFtsZW5dLFxuICAgICAgICAgICAgICAgICAgICBlID0gcyArIHJhbmdlLnRleHRbbGVuXVxuICAgICAgICAgICAgICAgIH1cblx0XHRcdC8vIEVuZCBvZiBNb2RpZmljYXRpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cdFx0XHRcdHZhciBzPXQuc2VsZWN0aW9uU3RhcnQsXG5cdFx0XHRcdFx0ZT10LnNlbGVjdGlvbkVuZDtcblx0XHRcdH1cblx0XHRcdHZhciB0ZT10LnZhbHVlLnN1YnN0cmluZyhzLGUpO1xuXHRcdFx0cmV0dXJuIHtzdGFydDpzLGVuZDplLHRleHQ6dGUscmVwbGFjZTpmdW5jdGlvbihzdCl7XG5cdFx0XHRcdHJldHVybiB0LnZhbHVlLnN1YnN0cmluZygwLHMpK3N0K3QudmFsdWUuc3Vic3RyaW5nKGUsdC52YWx1ZVtsZW5dKVxuXHRcdFx0fX1cblx0XHR9XG5cdH1cbn0pKGpRdWVyeSxcImxlbmd0aFwiLFwiY3JlYXRlUmFuZ2VcIixcImR1cGxpY2F0ZVwiKTsiLCJTdGFja0V4Y2hhbmdlLm5vY2FwdGNoYSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdChodG1sLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcG9wdXBIdG1sID0gW1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cCBjYXB0Y2hhLXBvcHVwIGxpZ2h0Ym94LXBhbmVsXCIgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgdGV4dC1hbGlnbjogbGVmdDtcIj4nLFxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicG9wdXAtY2xvc2VcIj4nLFxuICAgICAgICAgICAgICAgICQoJzxhPicsIHsgdGl0bGU6IF9zKFwiY2xvc2UgdGhpcyBwb3B1cCAob3IgaGl0IEVzYylcIiksIHRleHQ6ICfDlycgfSkucHJvcCgnb3V0ZXJIVE1MJyksXG4gICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgaHRtbCxcbiAgICAgICAgICAgICc8L2Rpdj4nXS5qb2luKCcnKTtcblxuICAgICAgICAkKCdib2R5JykubG9hZFBvcHVwKHtcbiAgICAgICAgICAgIHRhcmdldDogJCgnYm9keScpLFxuICAgICAgICAgICAgaHRtbDogcG9wdXBIdG1sLFxuICAgICAgICAgICAgbGlnaHRib3g6IHRydWUsXG4gICAgICAgICAgICBsb2FkZWQ6IGZ1bmN0aW9uIChwb3B1cCkgeyBwb3B1cExvYWRlZChwb3B1cCwgY2FsbGJhY2spOyB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvcHVwTG9hZGVkKCRwb3B1cCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyICRmb3JtID0gJHBvcHVwLmZpbmQoJ2Zvcm06Zmlyc3QnKTtcblxuICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZW5hYmxlU3VibWl0QnV0dG9uKCRmb3JtKTtcblxuICAgICAgICAkZm9ybS5zdWJtaXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmRpc2FibGVTdWJtaXRCdXR0b24oJGZvcm0pO1xuICAgICAgICAgICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmFkZFNwaW5uZXJBZnRlcigpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJy9ub2NhcHRjaGEnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGRhdGE6ICRmb3JtLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhcHRjaGFFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnJlbW92ZVNwaW5uZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5lbmFibGVTdWJtaXRCdXR0b24oJGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm0uZmluZCgnLmZvcm0tZXJyb3InKS5odG1sKGRhdGEuY2FwdGNoYUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlY2FwdGNoYS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwb3B1cC5maW5kKCcucG9wdXAtY2xvc2UgYScpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnJlbW92ZVNwaW5uZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmVuYWJsZVN1Ym1pdEJ1dHRvbigkZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93RXJyb3JNZXNzYWdlKCRmb3JtLCBfcyhcIkFuIGVycm9yIG9jY3VycmVkIHN1Ym1pdHRpbmcgdGhlIENBUFRDSEFcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGluaXRcbiAgICB9O1xufSkoKTtcbiIsIi8vIEJlZ2luIDIwX0FuYWx5dGljcy5qc1xuU3RhY2tFeGNoYW5nZS5ncHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmIChTdGFja0V4Y2hhbmdlLmdwcyAmJiBTdGFja0V4Y2hhbmdlLmdwcy5pbml0ZWQpIHtcbiAgICAgICAgcmV0dXJuIFN0YWNrRXhjaGFuZ2UuZ3BzO1xuICAgIH1cbiAgICB2YXIgaW5GbGlnaHQgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGdldFJvdXRlUHJlZml4KCkge1xuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZSAmJiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMgJiYgU3RhY2tFeGNoYW5nZS5vcHRpb25zLnNpdGVcbiAgICAgICAgICAgICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLnJvdXRlUHJlZml4ICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLnJvdXRlUHJlZml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLnJvdXRlUHJlZml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2UgdGhlIHByZSBpbml0IHRyYWNrIGFuZCBzZW5kaW5nIHVudGlsIGluaXQgaXMgYWN0dWFsbHkgY2FsbGVkXG4gICAgdmFyIHByZUluaXRUcmFjayA9IFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrO1xuICAgIHZhciBwcmVJbml0U2VuZFBlbmRpbmcgPSBTdGFja0V4Y2hhbmdlLmdwcy5zZW5kUGVuZGluZztcblxuICAgIC8vIEluaXRpYWxpemU7IHRha2VzIG5vIG9wdGlvbnMsIHJldHVybnMgdHJ1ZSBpZiB0cmFja2luZyB3aWxsIHByb2NlZWQgYW5kIGZhbHNlIGlmIHdlIGhhdmUgdG8gYmFpbFxuICAgIGZ1bmN0aW9uIGluaXQoZW5hYmxlZCkge1xuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5ncHMuaW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy5pbml0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICghZW5hYmxlZCB8fCAhbG9jYWxTdG9yYWdlV29ya3MoKSkge1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgZnVuY3Rpb24sIHNvIGRpdGNoIHRyYWNraW5nIChubyByZWFzb24gdG8gaGl0IHRoZSBzZXJ2ZXIgb3Igc3BhbSBjbGllbnQgc2lkZSBlcnJvcnMpXG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy50cmFjayA9IGZ1bmN0aW9uIChldnQsIHByb3BzLCBwb3N0cG9uZVNlbmRpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBTdGFja0V4Y2hhbmdlLl9ncHNfdHJhY2s7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbmx5IHNldCB0aG9zZSBvbmNlIHdlJ3JlIHN1cmUgd2UgaGF2ZSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMuc2VuZFBlbmRpbmcgPSBzZW5kUGVuZGluZztcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2sgPSB0cmFjaztcblxuICAgICAgICBzbHVycFByZUluaXQoKTtcbiAgICAgICAgc2VuZFBlbmRpbmcoKTtcblxuICAgICAgICAvLyBodHRwczovL3RyZWxsby5jb20vYy9xWWRISUduTi8xMDMwLW5ldy1ldmVudC1yZWxhdGVkLXRhZ3MtY2xpY2tcbiAgICAgICAgYmluZFBvc2l0aW9uYWxFdmVudENsaWNrcygnLnRhZ2dlZC1xdWVzdGlvbnMtcGFnZSwgLnF1ZXN0aW9ucy1wYWdlLCAudGFncy1wYWdlJywgJy5qcy1ncHMtcmVsYXRlZC10YWdzIC5wb3N0LXRhZycsICdyZWxhdGVkX3RhZ3MuY2xpY2snLCAnLCBpdGVtX3R5cGU6MScpO1xuICAgICAgICBcbiAgICAgICAgLy8gaHR0cHM6Ly90cmVsbG8uY29tL2MvZHFsSGszRkpcbiAgICAgICAgYmluZFBvc2l0aW9uYWxFdmVudENsaWNrcygnLnF1ZXN0aW9uLXBhZ2UgLnBvc3QtdGFnbGlzdCcsICcucG9zdC10YWcnLCAncXVlc3Rpb25fdGFncy5jbGljaycsICcsIGxvY2F0aW9uOjEnKTsgLy9xdWVzdGlvblxuICAgICAgICBiaW5kUG9zaXRpb25hbEV2ZW50Q2xpY2tzKCcucXVlc3Rpb24tcGFnZSAjc2lkZWJhciAudGFnZ2VkJywgJy5wb3N0LXRhZycsICdxdWVzdGlvbl90YWdzLmNsaWNrJywgJywgbG9jYXRpb246MicpOyAvL3NpZGViYXJcblxuICAgICAgICBiaW5kVHJhY2tDbGlja3MoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxTdG9yYWdlV29ya3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ2dwcy1wcm9iZSddID0gJzEnO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ2dwcy1wcm9iZSddICE9ICcxJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dwcy1wcm9iZScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvLyBjYWxscyB0byB0aGlzIG11c3Qgb2NjdXIgYmVmb3JlIGJpbmRUcmFja0NsaWNrc1xuICAgIGZ1bmN0aW9uIGJpbmRQb3NpdGlvbmFsRXZlbnRDbGlja3MoYm9keVNlbGVjdG9yLCBhbmNob3JTZWxlY3RvciwgZXZlbnROYW1lLCBleHRyYUV2ZW50UGFyYW1ldGVycykge1xuICAgICAgICAkKGJvZHlTZWxlY3RvcikuZmluZChhbmNob3JTZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnanMtZ3BzLXRyYWNrJykuZGF0YSgnZ3BzLXRyYWNrJywgZXZlbnROYW1lICsgJyh7IHBvc2l0aW9uOicgKyAoaSArIDEpICsgZXh0cmFFdmVudFBhcmFtZXRlcnMgKyAnIH0pJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gYmluZFRyYWNrQ2xpY2tzKG9wdGlvbmFsQ29udGFpbmVyKSB7XG4gICAgICAgIC8vLyA8c3VtbWFyeT5cbiAgICAgICAgLy8vIEJpbmRzIE9ORSBJTlZPQ0FUSU9OIG9mIGdwcy50cmFjayBwZXIgYW5jaG9yIChvciBhbnkgY2xpY2thYmxlIGVsZW1lbnQpIGhhdmluZyBjbGFzcyBcImpzLWdwcy10cmFja1wiIFxuICAgICAgICAvLy8gYW5kIGEgZGF0YSBhdHRyaWJ1dGUgd2l0aCBvbmUgb3IgbW9yZSBldmVudHMgdG8gYmUgdHJhY2tlZC5cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgLypcbiAgICAgICAgICAgIEV4YW1wbGVzIHdoZXJlIGVhY2ggYW5jaG9yIHRyYW5zbGF0ZXMgdG8gdGhlIHN1YnNlcXVlbnQgamF2YXNjcmlwdCBjYWxsczogXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwianMtZ3BzLXRyYWNrXCIgZGF0YS1ncHMtdHJhY2s9XCJzaXRlLnN3aXRjaCh7IGl0ZW1fdHlwZTogOCwgdGFyZ2V0X3NpdGU6MiB9KVwiPnRlc3Q8L2E+XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NpdGUuc3dpdGNoJywgeyBcIml0ZW1fdHlwZVwiOjgsIFwidGFyZ2V0X3NpdGVcIjoyIH0pO1xuXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImpzLWdwcy10cmFja1wiIGRhdGEtZ3BzLXRyYWNrPVwic2l0ZV9zd2l0Y2hlci5zaG93O1wiPnRlc3Q8L2E+XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NpdGVfc3dpdGNoZXIuc2hvdycsIHt9KTtcblxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJqcy1ncHMtdHJhY2tcIiBkYXRhLWdwcy10cmFjaz1cInNpdGUuc3dpdGNoKHsgaXRlbV90eXBlOiA4LCB0YXJnZXRfc2l0ZToyIH0pOyBzaXRlX3N3aXRjaGVyLnNob3coKVwiPnRlc3Q8L2E+XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NpdGUuc3dpdGNoJywgeyBcIml0ZW1fdHlwZVwiOjgsIFwidGFyZ2V0X3NpdGVcIjoyIH0pO1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKCdzaXRlX3N3aXRjaGVyLnNob3cnLCB7fSk7XG4gICAgICAgICovXG4gICAgICAgIFxuICAgICAgICB2YXIgJGJvdW5kID0gJChvcHRpb25hbENvbnRhaW5lciB8fCBkb2N1bWVudCkuZmluZCgnLmpzLWdwcy10cmFjaycpLm9mZignY2xpY2suZ3BzJykub25lKCdjbGljay5ncHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9ICQudHJpbSgkKHRoaXMpLmRhdGEoJ2dwcy10cmFjaycpKTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFycmF5T2ZQYWlycyA9IGJpbmRUcmFja0NsaWNrc19wYXJzZURhdGEoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFpciA9IGFycmF5T2ZQYWlyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcXVldWUgdXAsIHNvIHdlIGRvbid0IHNlbmQgZHVwbGljYXRlcyBkdWUgdG8gbmF2aWdhdGlvbiBraWxsaW5nIGFuIGltbWVkaWF0ZSBhamF4IGNhbGwgICAgXG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKHBhaXJbMF0sIHBhaXJbMV0sIC8qcG9zdHBvbmVTZW5kaW5nKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxvZygnYmluZFRyYWNrQ2xpY2tzIGJvdW5kIHswfSBlbGVtZW50cyBpbiB7MX0nLCAkYm91bmQubGVuZ3RoLCBvcHRpb25hbENvbnRhaW5lciB8fCAnZG9jdW1lbnQnKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYmluZFRyYWNrQ2xpY2tzX3BhcnNlRGF0YShkYXRhKSB7XG4gICAgICAgIC8vLyA8c3VtbWFyeT5cbiAgICAgICAgLy8vIFJldHVybnMgYW4gYXJyYXkgb2YgYXJyYXlzIHBhcnNlZCBmcm9tIHRoZSBwYXJhbWV0ZXIgZGF0YSwgd2hlcmUgZWFjaCBcbiAgICAgICAgLy8vIGlubmVyIGFycmF5IGlzIGEgcGFpcmluZyBvZiBhbiBldmVudCBuYW1lIGFuZCBpdHMgZXZlbnQgZGF0YSBvYmplY3QuXG4gICAgICAgIC8vL1xuICAgICAgICAvLy8gRXhhbXBsZTogXG4gICAgICAgIC8vLyAgICAgZGF0YSAgID0gXCJzaXRlLnN3aXRjaCgpO3NpdGVfc3dpdGNoZXIuY2xpY2soeyBpdGVtX3R5cGU6MyB9KVwiXG4gICAgICAgIC8vLyAgICAgcmVzdWx0ID0gWyBbXCJzaXRlLnN3aXRjaFwiLCB7IH1dLCBbXCJzaXRlX3N3aXRjaGVyLmNsaWNrXCIsIFtcIml0ZW1fdHlwZVwiOjNdIF1cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cblxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgLy8gZmlyc3QsIGdldCBlYWNoIGV2ZW50IG5hbWUgYW5kIGl0cyBvcHRpb25hbCBwYXJhbWV0ZXJzIGFzIGEgd2hvbGUgc3RyaW5nXG4gICAgICAgIC8vIGUuZy4gXCJzaXRlLnN3aXRjaCgpO3NpdGVfc3dpdGNoZXIuY2xpY2soeyBpdGVtX3R5cGU6MyB9KVwiID0+IFtcInNpdGUuc3dpdGNoXCIsIFwic2l0ZV9zd2l0Y2hlci5jbGljayh7IGl0ZW1fdHlwZTozIH0pXCJdXG4gICAgICAgIHZhciBldmVudHMgPSBkYXRhLm1hdGNoKC8oW2Etei5fLV0rKShcXChbXildK1xcKSk/L2lnKTtcblxuICAgICAgICAvLyB3ZSBzaG91bGQgY29uc2lkZXIgcmVmYWN0b3JpbmcgdGhpc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gbm93IHBhcnNlIG91dCB0aGUgbmFtZSBhbmQgdGhlIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChldmVudC5pbmRleE9mKCd7JykgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtldmVudCwge31dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGUuZy4gW1wiaW5ib3hfcG9wdXAuY2xpY2soeyBpdGVtX3R5cGU6Mywgc29tZXRoaW5nOiA0IH0pXCIsIFwiaW5ib3hfcG9wdXAuY2xpY2tcIiwgXCIgaXRlbV90eXBlOjMsIHNvbWV0aGluZzo0IFwiXVxuICAgICAgICAgICAgICAgIHZhciBuYW1lQW5kQWxsUGFyYW1zID0gZXZlbnQubWF0Y2goLyhbYS16Ll8tXSspXFxzKlxcKFxccypcXHsoW159XSspXFx9XFxzKlxcKS9pKSB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVBbmRBbGxQYXJhbXNbMV0sXG4gICAgICAgICAgICAgICAgICAgIGFsbFBhcmFtc1N0ciA9ICQudHJpbShuYW1lQW5kQWxsUGFyYW1zWzJdKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBhbGxQYXJhbXMgPSBhbGxQYXJhbXNTdHIubWF0Y2goL1teLF0rL2lnKSB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gZS5nLiBbXCIgaXRlbV90eXBlOjMgXCIsIFwic29tZXRoaW5nOjRcIl1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFsbFBhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IGFsbFBhcmFtc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9uSW5kZXggPSBwLmluZGV4T2YoJzonKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBOYW1lID0gJC50cmltKHAuc3Vic3RyKDAsIGNvbG9uSW5kZXgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBWYWx1ZSA9ICQudHJpbShwLnN1YnN0cihjb2xvbkluZGV4ICsgMSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcFZhbHVlUGFyc2VkID0gcGFyc2VTdHJpbmcocFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twTmFtZV0gPSBwVmFsdWVQYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtuYW1lLCBwYXJhbXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VTdHJpbmcodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSA9PT0gXCInXCIgfHwgdmFsdWVbMF0gPT09ICdcIicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygxLCB2YWx1ZS5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHBhcnNlZCkgPyB2YWx1ZSA6IHBhcnNlZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyYWNrT3V0Ym91bmRDbGlja3MoY29udGVudENvbnRhaW5lclNlbGVjdG9yLCBjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxuICAgICAgICAvLy8gQ2xpY2tzIHRvIGxvY2F0aW9ucyBvdXRzaWRlIG91ciBuZXR3b3JrIHdpbGwgaGF2ZSBHb29nbGUgQW5hbHl0aWNzIGV2ZW50cyBsb2dnZWQuXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImNvbnRlbnRDb250YWluZXJTZWxlY3RvclwiPlxuICAgICAgICAvLy8gQSBjb250YWluZXIgZWxlbWVudCB0aGF0IHNob3VsZCBhbHdheXMgZXhpc3QgaW4gdGhlIERPTSwgZXZlbiBpZiBwYXJhbWV0ZXIgJ2NvbnRlbnRTZWxlY3RvcicgaXMgZHluYW1pY2FsbHkgYWRkZWQuXG4gICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJjb250ZW50U2VsZWN0b3JcIj5cbiAgICAgICAgLy8vIEFuIGVsZW1lbnQgdGhhdCBjYW4gY29udGFpbiBleHRlcm5hbCBsaW5rcywgZS5nLiBhIHBvc3QncyBib2R5LlxuICAgICAgICAvLy8gPC9wYXJhbT5cblxuICAgICAgICAkKGNvbnRlbnRDb250YWluZXJTZWxlY3Rvcikub24oXCJjbGlja1wiLCBjb250ZW50U2VsZWN0b3IgKyBcIiBhW2hyZWZdOm5vdCgucXVlc3Rpb24taHlwZXJsaW5rLCAuYW5zd2VyLWh5cGVybGluaylcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRhID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBocmVmID0gJGEuYXR0cignaHJlZicpO1xuXG4gICAgICAgICAgICBpZiAoIVN0YWNrRXhjaGFuZ2UuaGVscGVycy5pc0luTmV0d29yayhocmVmKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2EgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9jYWwgYW5kIGRldiBidWlsZHMgZG9uJ3QgaW5jbHVkZSBnb29nbGUgYW5hbHl0aWNzXG4gICAgICAgICAgICAgICAgICAgIGxvZygnb3V0Ym91bmQgbGluayBjbGlja2VkICcgKyBocmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBBbmFseXRpY3MgdHJhY2sgb3V0Ym91bmQgbGlua3MgaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vYW5hbHl0aWNzL2Fuc3dlci8xMTM2OTIwP2hsPWVuLUdCXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlYWNvbiBpbmZvIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9hZHZhbmNlZCN1c2VCZWFjb25cbiAgICAgICAgICAgICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnb3V0Ym91bmQnLCAnY2xpY2snLCBocmVmLCB7IHVzZUJlYWNvbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRQZW5kaW5nKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBwZW5kaW5nID0gZ2V0UGVuZGluZygpO1xuICAgICAgICBpZiAocGVuZGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgLy8gYmF0Y2ggdGhlc2UgdXAgdG8ga2VlcCBIYXByb3h5IGZyb20gZ2V0dGluZyBhbmdyeVxuICAgICAgICAgICAgdmFyIGtlZXAgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGVuZGluZy5sZW5ndGggJiYga2VlcC5sZW5ndGggPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvU2VuZCA9IHBlbmRpbmdbaV07XG5cbiAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRvU2VuZC5ub3c7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWQgPCAwIHx8IGVsYXBzZWQgPiAoMzYwMCAqIDEwMDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21QZW5kaW5nKHRvU2VuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAga2VlcC5wdXNoKHRvU2VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoa2VlcC5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbmQoa2VlcCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgLy8gUmVjb3JkIHNvbWUgZXZlbnQgZ2l2ZW4gdGhlIGV2ZW50IG5hbWUgKGFzIGV2dCkgYW5kIHNvbWUgb3B0aW9uYWwgcHJvcGVydGllc1xuICAgIGZ1bmN0aW9uIHRyYWNrKGV2dCwgcHJvcHMsIHBvc3Rwb25lU2VuZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHBsID0geyBldnQ6IGV2dCwgcHJvcGVydGllczogcHJvcHMgfHwge30sIG5vdzogKG5ldyBEYXRlKCkpLmdldFRpbWUoKSB9O1xuICAgICAgICBhZGRUb1BlbmRpbmcocGwpO1xuICAgICAgICBpZiAobmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZW5kQmVhY29uKSB7IHBvc3Rwb25lU2VuZGluZyA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChwb3N0cG9uZVNlbmRpbmcpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNlbmRQZW5kaW5nLCAxMDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZW5kUGVuZGluZyhjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkU3RhdGUoZSlcbiAgICB7XG4gICAgICAgIGlmIChlICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucyAmJiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlcikge1xuICAgICAgICAgICAgaWYgKGUucHJvcGVydGllcyAmJiAhZS5wcm9wZXJ0aWVzLnVzZXJfdHlwZSkgZS5wcm9wZXJ0aWVzLnVzZXJfdHlwZSA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLnVzZXJfdHlwZTtcbiAgICAgICAgICAgIGlmICghZS5hYiAmJiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5hYikgZS5hYiA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmFiO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIHN1Y2sgZG93biBhbnl0aGluZyBmcm9tIF9ncHNfdHJhY2sgKC50cmFjaygpIGNhbGxzIGJlZm9yZSBpbml0KCkpIGludG8gbG9jYWxTdG9yYWdlXG4gICAgZnVuY3Rpb24gc2x1cnBQcmVJbml0KCkge1xuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5fZ3BzX3RyYWNrKSB7XG4gICAgICAgICAgICAkLmVhY2goU3RhY2tFeGNoYW5nZS5fZ3BzX3RyYWNrLCBmdW5jdGlvbiAoaSwgZSkgeyBhZGRUb1BlbmRpbmcoZSk7IH0pO1xuICAgICAgICAgICAgZGVsZXRlIFN0YWNrRXhjaGFuZ2UuX2dwc190cmFjaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBlbmRpbmdLZXkoKSB7XG4gICAgICAgIHJldHVybiBcImdwcy1wZW5kaW5nXCIgKyBnZXRSb3V0ZVByZWZpeCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBlbmRpbmcoKSB7XG4gICAgICAgIHZhciBwZW5kaW5nS2V5ID0gZ2V0UGVuZGluZ0tleSgpO1xuICAgICAgICB2YXIgcGVuZGluZyA9IGxvY2FsU3RvcmFnZVtwZW5kaW5nS2V5XTtcblxuICAgICAgICBpZiAoIXBlbmRpbmcpIHJldHVybiBbXTtcblxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShwZW5kaW5nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUb1BlbmRpbmcob2JqKSB7XG4gICAgICAgIGFkZFN0YXRlKG9iaik7XG5cbiAgICAgICAgdmFyIHBlbmRpbmdLZXkgPSBnZXRQZW5kaW5nS2V5KCk7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbG9jYWxTdG9yYWdlW3BlbmRpbmdLZXldLFxuICAgICAgICAgICAganNvbjtcblxuICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgdmFyIGFyciA9IEpTT04ucGFyc2UocGVuZGluZyk7XG4gICAgICAgICAgICBhcnIucHVzaChvYmopO1xuICAgICAgICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGFycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5zdHJpbmdpZnkoW29ial0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsb2coJ2FkZFRvUGVuZGluZyAnICsgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZVtwZW5kaW5nS2V5XSA9IGpzb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVBlbmRpbmcob2JqKSB7XG4gICAgICAgIHZhciBwZW5kaW5nS2V5ID0gZ2V0UGVuZGluZ0tleSgpO1xuICAgICAgICB2YXIgcGVuZGluZyA9IGxvY2FsU3RvcmFnZVtwZW5kaW5nS2V5XTtcblxuICAgICAgICBpZiAoIXBlbmRpbmcpIHJldHVybjtcblxuICAgICAgICB2YXIgYXJyID0gSlNPTi5wYXJzZShwZW5kaW5nKTtcbiAgICAgICAgdmFyIGN1ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG5cbiAgICAgICAgdmFyIGl4ID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBKU09OLnN0cmluZ2lmeShhcnJbaV0pO1xuXG4gICAgICAgICAgICBpZiAoY3VyID09IG90aGVyKSB7XG4gICAgICAgICAgICAgICAgaXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaXggPT0gLTEpIHJldHVybjtcblxuICAgICAgICBhcnIuc3BsaWNlKGl4LCAxKTtcblxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwZW5kaW5nS2V5KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsU3RvcmFnZVtwZW5kaW5nS2V5XSA9IEpTT04uc3RyaW5naWZ5KGFycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZChvYmosIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghJC5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIG9iaiA9IFtvYmpdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBmaWx0ZXIgb3V0IGFueXRoaW5nIHRoYXQncyBzdGlsbCBcImluIGZsaWdodFwiXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWFyayA9IEpTT04uc3RyaW5naWZ5KG9ialtpXSk7XG4gICAgICAgICAgICBpZihpbkZsaWdodFttYXJrXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvYmouc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB3ZSdyZSBzZW5kaW5nIHRoZXNlLCBzbyBtYXJrIHRoZW0gYXMgXCJpbiBmbGlnaHRcIlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1hcmsgPSBKU09OLnN0cmluZ2lmeShvYmpbaV0pO1xuICAgICAgICAgICAgaW5GbGlnaHRbbWFya10gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hdmlnYXRvciAmJiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsb2coJ3NlbmRpbmcgKGJlYWNvbik6ICcgKyBkYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50LlNpdGUudXJsUmVsYXRpdmVcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZ2V0Um91dGVQcmVmaXgoKSArICcvZ3BzL2V2ZW50JztcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yICYmIG5hdmlnYXRvci5zZW5kQmVhY29uKHVybCwgZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21QZW5kaW5nKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFyayA9IEpTT04uc3RyaW5naWZ5KG9ialtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaW5GbGlnaHRbbWFya107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsgbG9nKGVycik7IH1cbiAgICAgICAgfVxuICAgICAgICBsb2coJ3NlbmRpbmcgKEFKQVgpOiAnICsgZGF0YSk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvZ3BzL2V2ZW50JyxcbiAgICAgICAgICAgIGRhdGE6IHsgZGF0YTogZGF0YSB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRnJvbVBlbmRpbmcob2JqW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFyayA9IEpTT04uc3RyaW5naWZ5KG9ialtpXSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpbkZsaWdodFttYXJrXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBsb2cobWVzc2FnZSkgeyBcbiAgICAgICAgaWYgKCEoKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucyAmJiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMuZW5hYmxlTG9nZ2luZykgfHwgJC5jb29raWUoJ2RldmxvZycpKSB8fCB0eXBlb2YgbWVzc2FnZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xuXG4gICAgICAgIC8vIGNhbiB0YWtlIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3Igc3RyaW5nIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICBtZXNzYWdlID0gU3RyaW5nLnByb3RvdHlwZS5mb3JtYXRVbmljb3JuLmFwcGx5KG1lc3NhZ2UsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnZ3BzOiAnICsgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGVkOiBmYWxzZSxcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgYmluZFRyYWNrQ2xpY2tzOiBiaW5kVHJhY2tDbGlja3MsXG4gICAgICAgIHRyYWNrOiBwcmVJbml0VHJhY2ssXG4gICAgICAgIHNlbmRQZW5kaW5nOiBwcmVJbml0U2VuZFBlbmRpbmcsXG4gICAgICAgIHRyYWNrT3V0Ym91bmRDbGlja3M6IHRyYWNrT3V0Ym91bmRDbGlja3NcbiAgICB9O1xufSgpKTsiLCIvLyBGaW5hbGx5LCByZXBsYWNpbmcgb3VyIGNyYXp5IDNyZCBwYXJ0eSBvcGVuaWRcblxuU3RhY2tFeGNoYW5nZS5vcGVuaWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGdwc0xvYyA9IFwidW5rbm93blwiO1xuXG4gICAgZnVuY3Rpb24gZ3BzTG9jYXRpb24ocGFyZW50LCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmIChwYXJlbnQpIFxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBhIHZhbHVlIGlzIHN1cHBsaWVkOiBhc3NpZ25cbiAgICAgICAgICAgIGlmICh2YWx1ZSkgJChwYXJlbnQpLmRhdGEoJ3NzcmMnLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gJChwYXJlbnQpLmRhdGEoJ3NzcmMnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWxsYmFjayByZXR1cm5cbiAgICAgICAgcmV0dXJuIGdwc0xvYztcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2sobmFtZSwgcGFyZW50KSB7XG4gICAgICAgIHZhciBzc3JjID0gZ3BzTG9jYXRpb24ocGFyZW50KTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwib3BlbmlkLmNsaWNrXCIsIHsgb3BlbmlkX3Byb3ZpZGVyOiBuYW1lLCBsb2NhdGlvbjogc3NyYyB9LCAvKnBvc3Rwb25lU2VuZGluZz0qLyB0cnVlKTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwic2lnbnVwLm9wZW5pZC5jbGlja1wiLCB7IG9wZW5pZF9wcm92aWRlcjogbmFtZSwgbG9jYXRpb246IHNzcmMgfSwgLypwb3N0cG9uZVNlbmRpbmc9Ki8gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soXCJzaWdudXAuc3RhcnRcIiwgeyBvcGVuaWRfcHJvdmlkZXI6IG5hbWUsIGxvY2F0aW9uOiBzc3JjLCB0aWQ6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLnRpZCB9LCAvKnBvc3Rwb25lU2VuZGluZz0qLyB0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW5pdFBvc3RMb2dpbihmb3JtU2VsZWN0b3IsIHJVLCBleHBsaWNpdExvY2F0aW9uKSB7XG4gICAgICAgIHZhciByZXR1cm5VcmwgPSBkZWNvZGVVUklDb21wb25lbnQoclUpO1xuICAgICAgICB2YXIgbG9jID0gJ3Vua25vd24nO1xuICAgICAgICBpZiAoZXhwbGljaXRMb2NhdGlvbiAmJiBleHBsaWNpdExvY2F0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9jID0gZXhwbGljaXRMb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZXR1cm5VcmwuaW5kZXhPZihcIi9xdWVzdGlvbnMvXCIpID09PSAwKVxuICAgICAgICAgICAgICAgIGxvYyA9IFwicXVlc3Rpb25fcGFnZVwiO1xuXG4gICAgICAgICAgICBpZiAocmV0dXJuVXJsID09PSBcIi9xdWVzdGlvbnMvYXNrXCIpXG4gICAgICAgICAgICAgICAgbG9jID0gXCJxdWVzdGlvbl9hc2tcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9ybSA9ICQoZm9ybVNlbGVjdG9yKTtcbiAgICAgICAgZ3BzTG9jYXRpb24oZm9ybSwgbG9jKTtcbiAgICAgICAgZm9ybS5yZW1vdmVDbGFzcygnZG5vJyk7XG5cbiAgICAgICAgdmFyIGdvb2dsZSA9IGZvcm0uZmluZCgnLmdvb2dsZS1sb2dpbicpO1xuICAgICAgICBnb29nbGUuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJhY2soXCJHb29nbGVcIiwgZm9ybSk7XG4gICAgICAgICAgICBnb29nbGVDaG9zZW4oZm9ybSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdmFyIGZhY2Vib29rID0gZm9ybS5maW5kKCcuZmFjZWJvb2stbG9naW4nKTtcbiAgICAgICAgZmFjZWJvb2suY2xpY2soZnVuY3Rpb24gKCkgeyB0cmFjayhcIkZhY2Vib29rXCIsIGZvcm0pOyBmYWNlYm9va0Nob3Nlbihmb3JtKTsgfSk7XG5cbiAgICAgICAgdmFyIGdpdGh1YiA9IGZvcm0uZmluZCgnLmdpdGh1Yi1sb2dpbicpO1xuICAgICAgICBnaXRodWIuY2xpY2soZnVuY3Rpb24gKCkgeyB0cmFjayhcIkdpdEh1YlwiLCBmb3JtKTsgZ2l0aHViQ2hvc2VuKGZvcm0pOyB9KTtcblxuICAgICAgICB2YXIgc2UgPSBmb3JtLmZpbmQoJy5zdGFja2V4Y2hhbmdlLWxvZ2luJyk7XG4gICAgICAgIHNlLmNsaWNrKGRyYWZ0U2F2ZUFuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cmFjayhcIlN0YWNrIEV4Y2hhbmdlXCIsIGZvcm0pO1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5uYXZQcmV2ZW50aW9uLnN0b3AoKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL3VzZXJzL3NpZ251cD9zc3JjPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvYykgKyBcIiZyZXR1cm5Vcmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocmV0dXJuVXJsKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgZm9ybS5maW5kKCcuanMtc3VibWl0LW9wZW5pZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvUmVnaXN0ZXIoZm9ybSwgcmV0dXJuVXJsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRyb2xsZXJzQm91bmQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBiaW5kQ29udHJvbGxlcnMoKSB7XG4gICAgICAgIGlmIChjb250cm9sbGVyc0JvdW5kKSB7IHJldHVybjsgfVxuICAgICAgICBjb250cm9sbGVyc0JvdW5kID0gdHJ1ZTtcblxuICAgICAgICBTdGFja3MuYWRkQ29udHJvbGxlcignc2lnbnVwLW1vZGFsJywge1xuICAgICAgICAgICAgdGFyZ2V0czogWydmb3JtJywgJ29hdXRoVmVyc2lvbicsICdvYXV0aFNlcnZlciddLFxuXG4gICAgICAgICAgICBjb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRzY29wZSA9ICQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy5iaW5kVHJhY2tDbGlja3MoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdhLmJpbmRIYW5kbGVycygkc2NvcGUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGVzIHRoZSBsb2dpbiBmb3JtIHRvIHVzZSB0aGUgY3VycmVudCBcbiAgICAgICAgICAgICAqIEBwYXJhbSB7YW55fSBldmVudCBBIGJ1dHRvbiBjbGljayBldmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzaWduVXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vYXV0aFNlcnZlclRhcmdldC52YWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW9hdXRoc2VydmVyJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vYXV0aFZlcnNpb25UYXJnZXQudmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1vYXV0aHZlcnNpb24nKSB8fCAnMi4wJztcbiAgICAgICAgICAgICAgICBkcmFmdFNhdmVBbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1UYXJnZXQuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcmV2ZW50IG5hdmlnYXRpb24gdG8gdGhlIGxpbmsgdW50aWwgdGhlIGRyYWZ0IGlzIHNhdmVkLlxuICAgICAgICAgICAgICogQHBhcmFtIHthbnl9IGV2ZW50IEEgbGluayBjbGljayBldmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsaW5rQ2xpY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gZXZlbnQuY3VycmVudFRhcmdldC5ocmVmO1xuICAgICAgICAgICAgICAgIGRyYWZ0U2F2ZUFuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UubmF2UHJldmVudGlvbi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dMb2dpbk1vZGFsKCkge1xuICAgICAgICBiaW5kQ29udHJvbGxlcnMoKTtcbiAgICAgICAgcmV0dXJuIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93TW9kYWwuYXBwbHkoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZhY2Vib29rQ2hvc2VuKGZvcm0pIHtcbiAgICAgICAgZm9ybS5maW5kKCcuc3NyYycpLnZhbChncHNMb2NhdGlvbihmb3JtKSk7XG4gICAgICAgIGZvcm0uZmluZCgnLnVzZS1mYWNlYm9vaycpLnZhbCgndHJ1ZScpO1xuICAgICAgICBmb3JtLmZpbmQoJy51c2UtZ29vZ2xlJykudmFsKCcnKTtcbiAgICAgICAgZm9ybS5maW5kKCcudXNlLWdpdGh1YicpLnZhbCgnJyk7XG4gICAgICAgIGZvcm0uZmluZCgnLmpzLXN1Ym1pdC1vcGVuaWQnKS5jbGljaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdvb2dsZUNob3Nlbihmb3JtKSB7XG4gICAgICAgIGZvcm0uZmluZCgnLnNzcmMnKS52YWwoZ3BzTG9jYXRpb24oZm9ybSkpO1xuICAgICAgICBmb3JtLmZpbmQoJy51c2UtZ29vZ2xlJykudmFsKCd0cnVlJyk7XG4gICAgICAgIGZvcm0uZmluZCgnLnVzZS1mYWNlYm9vaycpLnZhbCgnJyk7XG4gICAgICAgIGZvcm0uZmluZCgnLnVzZS1naXRodWInKS52YWwoJycpO1xuICAgICAgICBmb3JtLmZpbmQoJy5qcy1zdWJtaXQtb3BlbmlkJykuY2xpY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnaXRodWJDaG9zZW4oZm9ybSkge1xuICAgICAgICBmb3JtLmZpbmQoJy5zc3JjJykudmFsKGdwc0xvY2F0aW9uKGZvcm0pKTtcbiAgICAgICAgZm9ybS5maW5kKCcudXNlLWdvb2dsZScpLnZhbCgnJyk7XG4gICAgICAgIGZvcm0uZmluZCgnLnVzZS1mYWNlYm9vaycpLnZhbCgnJyk7XG4gICAgICAgIGZvcm0uZmluZCgnLnVzZS1naXRodWInKS52YWwoJ3RydWUnKTtcbiAgICAgICAgZm9ybS5maW5kKCcuanMtc3VibWl0LW9wZW5pZCcpLmNsaWNrKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIE5vdGU6IHRoaXMgZG9lc24ndCAqZG8qIGFueXRoaW5nIGJ5IGl0c2VsZjsgeW91IHN0aWxsIGhhdmUgdG8gKmNhbGwqIHRoZSByZXN1bHRcbiAgICBmdW5jdGlvbiBkcmFmdFNhdmVBbmQoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBkZW1hbmQgdGhpcywgaW4gY2FzZSBzb21lb25lIHRyaWVzIHRvIGxvZ2luIGJlZm9yZSBmb2N1c2luZyB0aGUgZWRpdG9yXG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKCdlZGl0b3InLCBmdW5jdGlvbiAoKSB7IFN0YWNrRXhjaGFuZ2UuY2FyZGlvbG9naXN0LmVuc3VyZURyYWZ0U2F2ZWQoZnVuYyk7IH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9SZWdpc3RlcigkY29udGFpbmVyLCByZXR1cm5VcmwpIHtcbiAgICAgICAgdmFyIHVzZUZhY2Vib29rID0gJGNvbnRhaW5lci5maW5kKCcudXNlLWZhY2Vib29rJykudmFsKCk7XG4gICAgICAgIHZhciB1c2VHb29nbGUgPSAkY29udGFpbmVyLmZpbmQoJy51c2UtZ29vZ2xlJykudmFsKCk7XG4gICAgICAgIHZhciB1c2VHaXRIdWIgPSAkY29udGFpbmVyLmZpbmQoJy51c2UtZ2l0aHViJykudmFsKCk7XG4gICAgICAgIFxuICAgICAgICBkcmFmdFNhdmVBbmQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgaXNDaGlsZE1ldGEgPSAhIVN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLmlzQ2hpbGRNZXRhO1xuICAgICAgICAgICAgdmFyIGZvcm1BY3Rpb24gPSAoaXNDaGlsZE1ldGEgPyBTdGFja0V4Y2hhbmdlLm9wdGlvbnMuc2l0ZS5wYXJlbnRVcmwgOiAnJykgKyAnL3VzZXJzL3NpZ251cD9yZXR1cm51cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXR1cm5VcmwpO1xuXG4gICAgICAgICAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybSBtZXRob2Q9XCJwb3N0XCIgYWN0aW9uPVwiJyArIGZvcm1BY3Rpb24gKyAnXCI+PC9mb3JtPicpO1xuXG4gICAgICAgICAgICB2YXIgb2F1dGhWZXJzaW9uID0gJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwib2F1dGhfdmVyc2lvblwiIC8+Jyk7XG4gICAgICAgICAgICB2YXIgb2F1dGhTZXJ2ZXIgPSAkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJvYXV0aF9zZXJ2ZXJcIiAvPicpO1xuXG4gICAgICAgICAgICAkZm9ybS5hcHBlbmQob2F1dGhWZXJzaW9uKTtcbiAgICAgICAgICAgICRmb3JtLmFwcGVuZChvYXV0aFNlcnZlcik7XG5cbiAgICAgICAgICAgIG9hdXRoVmVyc2lvbi52YWwoJzIuMCcpO1xuXG4gICAgICAgICAgICBpZiAodXNlRmFjZWJvb2spIHtcbiAgICAgICAgICAgICAgICBvYXV0aFNlcnZlci52YWwoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS92Mi4wL2RpYWxvZy9vYXV0aCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodXNlR29vZ2xlKSB7XG4gICAgICAgICAgICAgICAgb2F1dGhTZXJ2ZXIudmFsKCdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VHaXRIdWIpIHtcbiAgICAgICAgICAgICAgICBvYXV0aFNlcnZlci52YWwoJ2h0dHBzOi8vZ2l0aHViLmNvbS9sb2dpbi9vYXV0aC9hdXRob3JpemUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGZvcm0uYXBwZW5kKFwiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZmtleScgdmFsdWU9J1wiICsgU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSArIFwiJyAvPlwiKTtcbiAgICAgICAgICAgICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInNzcmNcIiAvPicpLnZhbChncHNMb2NhdGlvbigkY29udGFpbmVyKSkuYXBwZW5kVG8oJGZvcm0pO1xuXG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLm5hdlByZXZlbnRpb24uc3RvcCgpO1xuXG4gICAgICAgICAgICAkZm9ybS5oaWRlKCkuYXBwZW5kVG8oXCJib2R5XCIpLnN1Ym1pdCgpO1xuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRQb3N0TG9naW46IGluaXRQb3N0TG9naW4sXG4gICAgICAgIHNob3dMb2dpbk1vZGFsOiBzaG93TG9naW5Nb2RhbFxuICAgIH07XG59KCkpOyIsIi8vIFRoZSBqYXZhc2NyaXB0IGJpdHMgb2YgVW5pdmVyc2FsIEF1dGhcbndpbmRvdy5Vbml2ZXJzYWxBdXRoID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEJlY2F1c2Ugb2YgcmFjZXMgYXJvdW5kIGpvaW5pbmcgYSBUZWFtLCBhIHVuaXZlcnNsIGF1dGggc2Vzc2lvbiBjYW4gYmUgaW50ZXJydXB0ZWRcbiAgICAvLyAgIGJ5IHRoZSB1c2VyIG5vdyBuZWVkaW5nIHRvIGRlbGVnYXRlIHRoZWlyIHNlc3Npb24gY3JlYXRpb24gdG8gdGhlIENGWlxuICAgIC8vIFxuICAgIC8vIFRoZSBzZXJ2ZXIgd2lsbCBub3RpY2UgYW5kIGluZGljYXRlIHRoaXMgd2l0aCBhIHNwZWNpYWwgcGl4ZWwgcmVzcG9uc2VcbiAgICAvLyAgIGF0IHdoaWNoIHBvaW50IHRoZSBzY3JpcHQgc2hvdWxkIHJlLXJ1biBmcm9tIHRoZSBzdGFydCAobWFraW5nIGEgbmV3IHJlcXVlc3QsIFxuICAgIC8vICAgZXRjLikuXG4gICAgLy9cbiAgICAvLyBUaGlzIGNvbnRyb2xzIHRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcywgZm9yIGEgc2luZ2xlIHBhZ2UgbG9hZCwgd2Ugd2lsbCB0cnkgYW5kXG4gICAgLy8gICByZXN0YXJ0IHVuaXZlcnNhbCBhdXRoLiAgSW4gdGhlb3J5LCAxIGlzIHN1ZmZpY2llbnQgZm9yIGFsbCBwdXJwb3Nlcy4uLiBidXQgd2UnbGxcbiAgICAvLyAgIHNlZS5cbiAgICB2YXIgUkVUUklFU19SRU1BSU5JTkcgPSAxO1xuXG4gICAgdmFyIENIRUNLX1JFRElSRUNUX0VWRVJZX01TID0gMjAwO1xuICAgIHZhciBNQVlCRV9GQUlMX0FGVEVSX01TID0gMTAwMDA7XG4gICAgdmFyIEFCQU5ET05fQUZURVJfTVMgPSBNQVlCRV9GQUlMX0FGVEVSX01TICogNTtcblxuICAgIC8vIGlzIHVwZGF0ZWQgdG8gVFJVRSBvbmNlIGV2ZXJ5IHBpeGVsIHdlIHB1bGxlZCBoYXMgbG9hZGVkIGFuZCB3ZSBoYXZlIG5vIHJlLWF1dGggcmVxdWVzdHNcbiAgICAvLyAgIGluIGZsaWdodFxuICAgIHZhciBDT01QTEVURUQgPSBmYWxzZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHJlZGlyZWN0cyB0aGlzIHBhZ2UgdG8gdGhlIGdpdmVuIHVybCBvbmNlIHVuaXZlcnNhbCBhdXRoIGhhcyBkb25lIGl0J3MgYml0XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHdpbGwgaW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBpZiBhbiBcInVudXN1YWxcIiBhbW91bnQgb2YgdGltZSBoYXMgcGFzc2VkIHcvb1xuICAgICAgICAvLyAgIHVuaXZlcnNhbCBhdXRoIGNvbXBsZXRpbmdcbiAgICAgICAgcmVkaXJlY3RPbkNvbXBsZXRpb246IGZ1bmN0aW9uIChyZWRpcmVjdFRvLCBtYXliZUZhaWxpbmdDYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKENPTVBMRVRFRCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHJlZGlyZWN0VG8pOyAgICAgICAgLy8gcmVwbGFjZSBpbnN0ZWFkIG9mID0gb3IgYXNzaWduKCkgdG8ga2VlcCBwYWdlIG91dCBvZiB0aGUgdXNlcidzIGhpc3RvcnlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGU7XG4gICAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChDT01QTEVURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UocmVkaXJlY3RUbyk7ICAgIC8vIHJlcGxhY2UgaW5zdGVhZCBvZiA9IG9yIGFzc2lnbigpIHRvIGtlZXAgcGFnZSBvdXQgb2YgdGhlIHVzZXIncyBoaXN0b3J5XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGhhc250VHJpZ2dlcmVkID0gZWxhcHNlZFRpbWUgPCBNQVlCRV9GQUlMX0FGVEVSX01TO1xuICAgICAgICAgICAgICAgIHZhciBoYXNudEJlZW5BYmFuZG9uZWQgPSBlbGFwc2VkVGltZSA8IEFCQU5ET05fQUZURVJfTVM7XG5cbiAgICAgICAgICAgICAgICBlbGFwc2VkVGltZSArPSBDSEVDS19SRURJUkVDVF9FVkVSWV9NUztcblxuICAgICAgICAgICAgICAgIHZhciBzaG91bGRIYXZlVHJpZ2dlcmVkID0gZWxhcHNlZFRpbWUgPj0gTUFZQkVfRkFJTF9BRlRFUl9NUztcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkSGF2ZUJlZW5BYmFuZG9uZWQgPSBlbGFwc2VkVGltZSA+PSBBQkFORE9OX0FGVEVSX01TO1xuXG4gICAgICAgICAgICAgICAgLy8gd2UgY3Jvc3MgdGhlIGxpbmUgaW50byBcIndlIG1pZ2h0IGJlIGZhaWxpbmdcIi1oZXJlXG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzVHJpZ2dlciA9IGhhc250VHJpZ2dlcmVkICYmIHNob3VsZEhhdmVUcmlnZ2VyZWQ7XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzVHJpZ2dlciAmJiBtYXliZUZhaWxpbmdDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBtYXliZUZhaWxpbmdDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG9rLCBqdXN0IGdpdmUgdXBcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNBYmFuZG9uID0gaGFzbnRCZWVuQWJhbmRvbmVkICYmIHNob3VsZEhhdmVCZWVuQWJhbmRvbmVkO1xuICAgICAgICAgICAgICAgIGlmIChuZWVkc0FiYW5kb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGhhbmRsZSA9IHNldEludGVydmFsKGNhbGxiYWNrLCBDSEVDS19SRURJUkVDVF9FVkVSWV9NUyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGVyZm9ybUF1dGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVW5pdmVyc2FsQXV0aC5lbmFibGVkKCkpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGljTG9nZ2VkT3V0ID0gJC5jb29raWUoJ2NsZWFyLWljJyk7XG4gICAgICAgICAgICBpZiAoaWNMb2dnZWRPdXQpIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNldHRpbmdzLmludGVyY29tLmVuYWJsZUphdmFzY3JpcHRJbXBsZW1lbnRhdGlvbkZvciAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKCc8aW1nLz4nKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2Rpc3BsYXk6bm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLmludGVyY29tLmhvc3RCYXNlVXJsICsgJy9pbnRlcmNvbS9sb2dvdXQuZ2lmP2FwcElkPScgKyBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLmludGVyY29tLmFwcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjcm9zc09yaWdpbic6ICd1c2UtY3JlZGVudGlhbHMnICAvLyBuZWVkZWQgZm9yIENPUlNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZm9vdGVyJykuYXBwZW5kKCRpbWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGlzIGNvb2tpZSAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZSgnY2xlYXItaWMnLCBudWxsLCB7IHBhdGg6ICcvJyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGhhc0F1dGhlZCA9ICQuY29va2llKCd1YXV0aCcpO1xuICAgICAgICAgICAgaWYgKGhhc0F1dGhlZCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAkLnBvc3QoXG4gICAgICAgICAgICAgICAgJy91c2Vycy9sb2dpbi91bml2ZXJzYWwvcmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEsIHRleHQsIHJlcSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGl4ZWxzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYXV0aFJlcXVlc3RlZCA9ICQuY29va2llKCd1YXV0aCcpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYXV0aFJlcXVlc3RlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAkaW1nWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltZy5jb21wbGV0ZSkgeyAgICAgICAgIC8vIHRlY2huaWNhbGx5IElFIGRvZXNuJ3QgaGFuZGxlIHRoaXMgYXR0cmlidXRlIGNvcnJlY3RseSwgYnV0IGEpIHRvIGhlbGwgd2l0aCBJRSBhbmQgYikgd2UgdGltZW91dCB3aGVuIGRlYWxpbmcgd2l0aCBDT01QTEVURSBhbnl3YXksIHNvIGl0J3MgZmluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ09NUExFVEVEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBsb2cgaW4gdG8gcGxhY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBDT01QTEVURUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChhcnJheUlkLCBncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICcvLycgKyBncm91cC5Ib3N0ICsgJy91c2Vycy9sb2dpbi91bml2ZXJzYWwuZ2lmP2F1dGhUb2tlbj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGdyb3VwLlRva2VuKSArICcmbm9uY2U9JyArIGVuY29kZVVSSUNvbXBvbmVudChncm91cC5Ob25jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKCc8aW1nLz4nKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdkaXNwbGF5Om5vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nyb3NzT3JpZ2luJzogJ3VzZS1jcmVkZW50aWFscycgIC8vIG5lZWRlZCBmb3IgQ09SU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzLnB1c2goJGltZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLm9uZSgnbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSAkaW1nWzBdLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9ICRpbWdbMF0uaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpZ25hbHMgdGhhdCB3ZSBzaG91bGQgcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT09IDIgJiYgaCA9PT0gMiAmJiBSRVRSSUVTX1JFTUFJTklORyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFVFJJRVNfUkVNQUlOSU5HLS07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0Nvb2tpZSA9ICQuY29va2llKCd1YXV0aCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHJlcXVlc3RlZCBhIHJldHJ5LCBkb24ndCByZS1yZXNldCB0aGUgY29va2llXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nQ29va2llKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyYXRpb24gPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgNSAqIDYwICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5jb29raWUoJ3VhdXRoJywgJ3RydWUnLCB7IHBhdGg6ICcvJywgZG9tYWluOiBkb2N1bWVudC5kb21haW4sIGV4cGlyZXM6IGV4cGlyYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IFVuaXZlcnNhbEF1dGgucGVyZm9ybUF1dGgoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNmb290ZXInKS5hcHBlbmQoJGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnanNvbicpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhpcyBjb29raWUgICAgICAgICAgICBcbiAgICAgICAgICAgICQuY29va2llKCd1YXV0aCcsIG51bGwsIHsgcGF0aDogJy8nLCBkb21haW46IGRvY3VtZW50LmRvbWFpbiB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBlbmFibGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59KCk7IiwiU3RhY2tFeGNoYW5nZS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5pc0Fub255bW91cylcbiAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgIHZhciBoYXNGa2V5ID0gL1xcYmZrZXk9L2k7XG4gICAgXG4gICAgJChkb2N1bWVudCkuYWpheFNlbmQoZnVuY3Rpb24gKGV2dCwganF4aHIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpICE9PSBcInBvc3RcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGhhc0ZrZXkudGVzdChvcHRpb25zLnVybCkgfHwgaGFzRmtleS50ZXN0KG9wdGlvbnMuZGF0YSkpIHtcbiAgICAgICAgICAgIGFkZEZrZXlDb29raWUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgICQoZG9jdW1lbnQpLm9uKFwic3VibWl0XCIsIFwiZm9ybVwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBqdGhpcyA9ICQodGhpcyk7XG4gICAgICAgIGlmICgoanRoaXMuYXR0cihcIm1ldGhvZFwiKSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpICE9PSBcInBvc3RcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGp0aGlzLmZpbmQoXCJpbnB1dFtuYW1lPSdma2V5J11cIikubGVuZ3RoKVxuICAgICAgICAgICAgYWRkRmtleUNvb2tpZSgpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkRmtleUNvb2tpZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICQuY29va2llKFwiZmtleVwiLCBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LCB7IHBhdGg6IFwiL1wiLCBleHBpcmVzOiAxIC8gKDI0ICogNikgLyogdGVuIG1pbnV0ZXMgKi8gfSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7IH1cbiAgICB9XG59KTsiLCIvLyBsb2FkcyBqcXVlcnkgdWksIGl0cyBjc3MsIGFuZCBhbnkgbmVlZGVkIGkxOG4gZmlsZXMgLSByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiBqcXVlcnktdWkgaXMgYXZhaWxhYmxlXG4vL1xuLy8gZS5nLiBTdGFja0V4Y2hhbmdlLmxvYWRKcXVlcnlVaSgpLmRvbmUoZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCQudWkpOyB9KTtcblN0YWNrRXhjaGFuZ2UubG9hZEpxdWVyeVVpID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIENhbiB0aGlzIGJlIGRvbmUgd2l0aCBTdGFja0V4Y2hhbmdlLnVzaW5nP1xuXG4gICAgdmFyIGNzc0xpbmsgPSBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnBhdGhzLmpRdWVyeVVJQ1NTUGF0aDtcbiAgICB2YXIganNMaW5rID0gU3RhY2tFeGNoYW5nZS5zZXR0aW5ncy5wYXRocy5qUXVlcnlVSUpTUGF0aDtcblxuICAgIGlmICgkLnVpKSByZXR1cm4gJC5EZWZlcnJlZCgpLnJlc29sdmUoKTtcblxuICAgIC8vIHRoaXMgZG9lc24ndCBtYXR0ZXIgd2hlbiBpdCBjb21wbGV0ZXM7IHN0eWxpbmcgc2hvdWxkIHN0aWxsIGhhcHBlblxuICAgICQoJzxsaW5rPicpLmF0dHIoe1xuICAgICAgICBocmVmOiBjc3NMaW5rLFxuICAgICAgICByZWw6ICdzdHlsZXNoZWV0JyxcbiAgICAgICAgdHlwZTogJ3RleHQvY3NzJyxcbiAgICAgICAgbWVkaWE6ICdhbGwnXG4gICAgfSkuYXBwZW5kVG8oJ2hlYWQnKTtcblxuICAgIHZhciByZXN1bHQgPSAkLkRlZmVycmVkKCksXG4gICAgICAgIGxvY2FsZSA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5sb2NhbGUsXG4gICAgICAgIGRhdGVwaWNrZXJMYW5ndWFnZUdldHRlcixcbiAgICAgICAgZGF0ZXBpY2tlckxhbmd1YWdlU2NyaXB0O1xuXG4gICAgLy8ganF1ZXJ5IHdpbGwgYXBwZW5kIGNhY2hlIGJyZWFrZXJzIHdoZW4gZ2V0dGluZyBzY3JpcHRzOyBwcmV2ZW50IHRoaXNcbiAgICAkLmFqYXhTZXR1cCh7IGNhY2hlOiB0cnVlIH0pO1xuXG4gICAgaWYgKGxvY2FsZSAhPT0gJ2VuJykge1xuICAgICAgICBkYXRlcGlja2VyTGFuZ3VhZ2VHZXR0ZXIgPSAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL0NvbnRlbnQvSnMvdGhpcmQtcGFydHkvanF1ZXJ5LXVpL2RhdGVwaWNrZXItJyArIGxvY2FsZSArICcuanMnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oanMpIHtcbiAgICAgICAgICAgIGRhdGVwaWNrZXJMYW5ndWFnZVNjcmlwdCA9IGpzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhbGxvd3MgYm90aCBzY3JpcHRzIHRvIGJlIHNpbXVsdGFuZW91c2x5IGZldGNoZWQsIGJ1dCB3ZSBkbyBoYXZlIHRvIHVzZSBldmFsXG4gICAgJC53aGVuKFxuICAgICAgICBkYXRlcGlja2VyTGFuZ3VhZ2VHZXR0ZXIgfHwgJC5EZWZlcnJlZCgpLnJlc29sdmUoKSxcbiAgICAgICAgJC5nZXRTY3JpcHQoanNMaW5rKSlcbiAgICAuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaW4gb3JkZXIgZm9yIHRoaXMgbGFuZ3VhZ2Ugc2NyaXB0IHRvIHdvcmssIGpxdWVyeS11aSAqbXVzdCogaGF2ZSBiZWVuIGxvYWRlZCBhbHJlYWR5XG4gICAgICAgIGV2YWwoZGF0ZXBpY2tlckxhbmd1YWdlU2NyaXB0KTtcbiAgICAgICAgcmVzdWx0LnJlc29sdmUoKTtcbiAgICB9KTtcblxuICAgICQuYWpheFNldHVwKHsgY2FjaGU6IGZhbHNlIH0pO1xuICAgIFxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZSgpO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIGFmdGVyIHdlIGxvYWQgalF1ZXJ5IFVJLCBlc3BlY2lhbGx5IGlmIHVzaW5nIHRoZSBhYm92ZSBwcm9taXNlLlxuICogXG4gKiBodHRwczovL2dpdGh1Yi5jb20vUldBUC9qcXVlcnktdWktdG91Y2gtcHVuY2hcbiAqIFxuICogRnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vUldBUC9qcXVlcnktdWktdG91Y2gtcHVuY2gvbWFzdGVyL2pxdWVyeS51aS50b3VjaC1wdW5jaC5qc1xuICovXG5TdGFja0V4Y2hhbmdlLnBhdGNoSnF1ZXJ5VWlGb3JUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgIFxuLyohXG4gKiBqUXVlcnkgVUkgVG91Y2ggUHVuY2ggMS4wLjcgYXMgbW9kaWZpZWQgYnkgUldBUCBTb2Z0d2FyZVxuICogYmFzZWQgb24gb3JpZ2luYWwgdG91Y2hwdW5jaCB2MC4yLjMgd2hpY2ggaGFzIG5vdCBiZWVuIHVwZGF0ZWQgc2luY2UgMjAxNFxuICpcbiAqIFVwZGF0ZXMgYnkgUldBUCBTb2Z0d2FyZSB0byB0YWtlIGFjY291bnQgb2YgdmFyaW91cyBzdWdnZXN0ZWQgY2hhbmdlcyBvbiB0aGUgb3JpZ2luYWwgY29kZSBpc3N1ZXNcbiAqXG4gKiBPcmlnaW5hbDogaHR0cHM6Ly9naXRodWIuY29tL2Z1cmYvanF1ZXJ5LXVpLXRvdWNoLXB1bmNoXG4gKiBDb3B5cmlnaHQgMjAxMeKAkzIwMTQsIERhdmUgRnVyZmVyb1xuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKlxuICogRm9yazogaHR0cHM6Ly9naXRodWIuY29tL1JXQVAvanF1ZXJ5LXVpLXRvdWNoLXB1bmNoXG4gKlxuICogRGVwZW5kczpcbiAqIGpxdWVyeS51aS53aWRnZXQuanNcbiAqIGpxdWVyeS51aS5tb3VzZS5qc1xuICovXG5cbiAgICAoZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG4gICAgICAgIGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cbiAgICAgICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgICAgIGRlZmluZShbIFwianF1ZXJ5XCIsIFwianF1ZXJ5LnVpXCIgXSwgZmFjdG9yeSApO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgICAgIGZhY3RvcnkoIGpRdWVyeSApO1xuICAgICAgICB9XG4gICAgfShmdW5jdGlvbiAoJCkge1xuXG4gICAgICAgIC8vIERldGVjdCB0b3VjaCBzdXBwb3J0XG4gICAgICAgICQuc3VwcG9ydC50b3VjaCA9ICggJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnRcbiAgICAgICAgICAgIHx8ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvd1xuICAgICAgICAgICAgfHwgd2luZG93LlRvdWNoRXZlbnRcbiAgICAgICAgICAgIHx8ICh3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpXG4gICAgICAgICAgICB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwXG4gICAgICAgICAgICB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBJZ25vcmUgYnJvd3NlcnMgd2l0aG91dCB0b3VjaCBvciBtb3VzZSBzdXBwb3J0XG4gICAgICAgIGlmICghJC5zdXBwb3J0LnRvdWNoIHx8ICEkLnVpLm1vdXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW91c2VQcm90byA9ICQudWkubW91c2UucHJvdG90eXBlLFxuICAgICAgICAgICAgX21vdXNlSW5pdCA9IG1vdXNlUHJvdG8uX21vdXNlSW5pdCxcbiAgICAgICAgICAgIF9tb3VzZURlc3Ryb3kgPSBtb3VzZVByb3RvLl9tb3VzZURlc3Ryb3ksXG4gICAgICAgICAgICB0b3VjaEhhbmRsZWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgeCx5IHBvc2l0aW9uIG9mIGEgdG91Y2ggZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEEgdG91Y2ggZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFRvdWNoQ29vcmRzIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2ltdWxhdGUgYSBtb3VzZSBldmVudCBiYXNlZCBvbiBhIGNvcnJlc3BvbmRpbmcgdG91Y2ggZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEEgdG91Y2ggZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNpbXVsYXRlZFR5cGUgVGhlIGNvcnJlc3BvbmRpbmcgbW91c2UgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlTW91c2VFdmVudCAoZXZlbnQsIHNpbXVsYXRlZFR5cGUpIHtcblxuICAgICAgICAgICAgLy8gSWdub3JlIG11bHRpLXRvdWNoIGV2ZW50c1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQcmV2ZW50IFwiSWdub3JlZCBhdHRlbXB0IHRvIGNhbmNlbCBhIHRvdWNobW92ZSBldmVudCB3aXRoIGNhbmNlbGFibGU9ZmFsc2VcIiBlcnJvcnNcbiAgICAgICAgICAgIGlmIChldmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSxcbiAgICAgICAgICAgICAgICBzaW11bGF0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzaW11bGF0ZWQgbW91c2UgZXZlbnQgdXNpbmcgdGhlIHRvdWNoIGV2ZW50J3MgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIHNpbXVsYXRlZEV2ZW50LmluaXRNb3VzZUV2ZW50KFxuICAgICAgICAgICAgICAgIHNpbXVsYXRlZFR5cGUsICAgIC8vIHR5cGVcbiAgICAgICAgICAgICAgICB0cnVlLCAgICAgICAgICAgICAvLyBidWJibGVzXG4gICAgICAgICAgICAgICAgdHJ1ZSwgICAgICAgICAgICAgLy8gY2FuY2VsYWJsZVxuICAgICAgICAgICAgICAgIHdpbmRvdywgICAgICAgICAgIC8vIHZpZXdcbiAgICAgICAgICAgICAgICAxLCAgICAgICAgICAgICAgICAvLyBkZXRhaWxcbiAgICAgICAgICAgICAgICB0b3VjaC5zY3JlZW5YLCAgICAvLyBzY3JlZW5YXG4gICAgICAgICAgICAgICAgdG91Y2guc2NyZWVuWSwgICAgLy8gc2NyZWVuWVxuICAgICAgICAgICAgICAgIHRvdWNoLmNsaWVudFgsICAgIC8vIGNsaWVudFhcbiAgICAgICAgICAgICAgICB0b3VjaC5jbGllbnRZLCAgICAvLyBjbGllbnRZXG4gICAgICAgICAgICAgICAgZmFsc2UsICAgICAgICAgICAgLy8gY3RybEtleVxuICAgICAgICAgICAgICAgIGZhbHNlLCAgICAgICAgICAgIC8vIGFsdEtleVxuICAgICAgICAgICAgICAgIGZhbHNlLCAgICAgICAgICAgIC8vIHNoaWZ0S2V5XG4gICAgICAgICAgICAgICAgZmFsc2UsICAgICAgICAgICAgLy8gbWV0YUtleVxuICAgICAgICAgICAgICAgIDAsICAgICAgICAgICAgICAgIC8vIGJ1dHRvblxuICAgICAgICAgICAgICAgIG51bGwgICAgICAgICAgICAgIC8vIHJlbGF0ZWRUYXJnZXRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBzaW11bGF0ZWQgZXZlbnQgdG8gdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICBldmVudC50YXJnZXQuZGlzcGF0Y2hFdmVudChzaW11bGF0ZWRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIHRoZSBqUXVlcnkgVUkgd2lkZ2V0J3MgdG91Y2hzdGFydCBldmVudHNcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IFRoZSB3aWRnZXQgZWxlbWVudCdzIHRvdWNoc3RhcnQgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIG1vdXNlUHJvdG8uX3RvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBJbnRlcmFjdGlvbiB0aW1lXG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkTW92ZSA9IGV2ZW50LnRpbWVTdGFtcDtcblxuICAgICAgICAgICAgLy8gVHJhY2sgbW92ZW1lbnQgdG8gZGV0ZXJtaW5lIGlmIGludGVyYWN0aW9uIHdhcyBhIGNsaWNrXG4gICAgICAgICAgICBzZWxmLl9zdGFydFBvcyA9IGdldFRvdWNoQ29vcmRzKGV2ZW50KTtcblxuICAgICAgICAgICAgLy8gSWdub3JlIHRoZSBldmVudCBpZiBhbm90aGVyIHdpZGdldCBpcyBhbHJlYWR5IGJlaW5nIGhhbmRsZWRcbiAgICAgICAgICAgIGlmICh0b3VjaEhhbmRsZWQgfHwgIXNlbGYuX21vdXNlQ2FwdHVyZShldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBmbGFnIHRvIHByZXZlbnQgb3RoZXIgd2lkZ2V0cyBmcm9tIGluaGVyaXRpbmcgdGhlIHRvdWNoIGV2ZW50XG4gICAgICAgICAgICB0b3VjaEhhbmRsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBUcmFjayBtb3ZlbWVudCB0byBkZXRlcm1pbmUgaWYgaW50ZXJhY3Rpb24gd2FzIGEgY2xpY2tcbiAgICAgICAgICAgIHNlbGYuX3RvdWNoTW92ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgdGhlIG1vdXNlb3ZlciBldmVudFxuICAgICAgICAgICAgc2ltdWxhdGVNb3VzZUV2ZW50KGV2ZW50LCAnbW91c2VvdmVyJyk7XG5cbiAgICAgICAgICAgIC8vIFNpbXVsYXRlIHRoZSBtb3VzZW1vdmUgZXZlbnRcbiAgICAgICAgICAgIHNpbXVsYXRlTW91c2VFdmVudChldmVudCwgJ21vdXNlbW92ZScpO1xuXG4gICAgICAgICAgICAvLyBTaW11bGF0ZSB0aGUgbW91c2Vkb3duIGV2ZW50XG4gICAgICAgICAgICBzaW11bGF0ZU1vdXNlRXZlbnQoZXZlbnQsICdtb3VzZWRvd24nKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIHRoZSBqUXVlcnkgVUkgd2lkZ2V0J3MgdG91Y2htb3ZlIGV2ZW50c1xuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGRvY3VtZW50J3MgdG91Y2htb3ZlIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBtb3VzZVByb3RvLl90b3VjaE1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgLy8gSWdub3JlIGV2ZW50IGlmIG5vdCBoYW5kbGVkXG4gICAgICAgICAgICBpZiAoIXRvdWNoSGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW50ZXJhY3Rpb24gd2FzIG1vdmVkXG4gICAgICAgICAgICB0aGlzLl90b3VjaE1vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgdGhlIG1vdXNlbW92ZSBldmVudFxuICAgICAgICAgICAgc2ltdWxhdGVNb3VzZUV2ZW50KGV2ZW50LCAnbW91c2Vtb3ZlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSB0aGUgalF1ZXJ5IFVJIHdpZGdldCdzIHRvdWNoZW5kIGV2ZW50c1xuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGRvY3VtZW50J3MgdG91Y2hlbmQgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIG1vdXNlUHJvdG8uX3RvdWNoRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIC8vIElnbm9yZSBldmVudCBpZiBub3QgaGFuZGxlZFxuICAgICAgICAgICAgaWYgKCF0b3VjaEhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNpbXVsYXRlIHRoZSBtb3VzZXVwIGV2ZW50XG4gICAgICAgICAgICBzaW11bGF0ZU1vdXNlRXZlbnQoZXZlbnQsICdtb3VzZXVwJyk7XG5cbiAgICAgICAgICAgIC8vIFNpbXVsYXRlIHRoZSBtb3VzZW91dCBldmVudFxuICAgICAgICAgICAgc2ltdWxhdGVNb3VzZUV2ZW50KGV2ZW50LCAnbW91c2VvdXQnKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIHRvdWNoIGludGVyYWN0aW9uIGRpZCBub3QgbW92ZSwgaXQgc2hvdWxkIHRyaWdnZXIgYSBjbGlja1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoaXMgaW4gdHdvIHdheXMgLSBsZW5ndGggb2YgdGltZSBvZiBzaW11bGF0aW9uIGFuZCBkaXN0YW5jZSBtb3ZlZFxuICAgICAgICAgICAgLy8gQWxsb3cgZm9yIEFwcGxlIFN0eWx1cyB0byBiZSB1c2VkIGFsc29cbiAgICAgICAgICAgIHZhciB0aW1lTW92aW5nID0gZXZlbnQudGltZVN0YW1wIC0gdGhpcy5fc3RhcnRlZE1vdmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RvdWNoTW92ZWQgfHwgdGltZU1vdmluZyA8IDUwMCkge1xuICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIHRoZSBjbGljayBldmVudFxuICAgICAgICAgICAgICAgIHNpbXVsYXRlTW91c2VFdmVudChldmVudCwgJ2NsaWNrJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBlbmRQb3MgPSBnZXRUb3VjaENvb3JkcyhldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKChNYXRoLmFicyhlbmRQb3MueCAtIHRoaXMuX3N0YXJ0UG9zLngpIDwgMTApICYmIChNYXRoLmFicyhlbmRQb3MueSAtIHRoaXMuX3N0YXJ0UG9zLnkpIDwgMTApKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRvdWNoIGludGVyYWN0aW9uIGRpZCBub3QgbW92ZSwgaXQgc2hvdWxkIHRyaWdnZXIgYSBjbGlja1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3RvdWNoTW92ZWQgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS50b3VjaFR5cGUgPT09ICdzdHlsdXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSB0aGUgY2xpY2sgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlTW91c2VFdmVudChldmVudCwgJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuc2V0IHRoZSBmbGFnIHRvIGRldGVybWluZSB0aGUgdG91Y2ggbW92ZW1lbnQgc3RvcHBlZFxuICAgICAgICAgICAgdGhpcy5fdG91Y2hNb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBVbnNldCB0aGUgZmxhZyB0byBhbGxvdyBvdGhlciB3aWRnZXRzIHRvIGluaGVyaXQgdGhlIHRvdWNoIGV2ZW50XG4gICAgICAgICAgICB0b3VjaEhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBkdWNrIHB1bmNoIG9mIHRoZSAkLnVpLm1vdXNlIF9tb3VzZUluaXQgbWV0aG9kIHRvIHN1cHBvcnQgdG91Y2ggZXZlbnRzLlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBleHRlbmRzIHRoZSB3aWRnZXQgd2l0aCBib3VuZCB0b3VjaCBldmVudCBoYW5kbGVycyB0aGF0XG4gICAgICAgICAqIHRyYW5zbGF0ZSB0b3VjaCBldmVudHMgdG8gbW91c2UgZXZlbnRzIGFuZCBwYXNzIHRoZW0gdG8gdGhlIHdpZGdldCdzXG4gICAgICAgICAqIG9yaWdpbmFsIG1vdXNlIGV2ZW50IGhhbmRsaW5nIG1ldGhvZHMuXG4gICAgICAgICAqL1xuICAgICAgICBtb3VzZVByb3RvLl9tb3VzZUluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gRGVsZWdhdGUgdGhlIHRvdWNoIGhhbmRsZXJzIHRvIHRoZSB3aWRnZXQncyBlbGVtZW50XG4gICAgICAgICAgICBzZWxmLmVsZW1lbnQub24oe1xuICAgICAgICAgICAgICAgIHRvdWNoc3RhcnQ6ICQucHJveHkoc2VsZiwgJ190b3VjaFN0YXJ0JyksXG4gICAgICAgICAgICAgICAgdG91Y2htb3ZlOiAkLnByb3h5KHNlbGYsICdfdG91Y2hNb3ZlJyksXG4gICAgICAgICAgICAgICAgdG91Y2hlbmQ6ICQucHJveHkoc2VsZiwgJ190b3VjaEVuZCcpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgJC51aS5tb3VzZSBpbml0IG1ldGhvZFxuICAgICAgICAgICAgX21vdXNlSW5pdC5jYWxsKHNlbGYpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIHRvdWNoIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAqL1xuICAgICAgICBtb3VzZVByb3RvLl9tb3VzZURlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gRGVsZWdhdGUgdGhlIHRvdWNoIGhhbmRsZXJzIHRvIHRoZSB3aWRnZXQncyBlbGVtZW50XG4gICAgICAgICAgICBzZWxmLmVsZW1lbnQub2ZmKHtcbiAgICAgICAgICAgICAgICB0b3VjaHN0YXJ0OiAkLnByb3h5KHNlbGYsICdfdG91Y2hTdGFydCcpLFxuICAgICAgICAgICAgICAgIHRvdWNobW92ZTogJC5wcm94eShzZWxmLCAnX3RvdWNoTW92ZScpLFxuICAgICAgICAgICAgICAgIHRvdWNoZW5kOiAkLnByb3h5KHNlbGYsICdfdG91Y2hFbmQnKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsICQudWkubW91c2UgZGVzdHJveSBtZXRob2RcbiAgICAgICAgICAgIF9tb3VzZURlc3Ryb3kuY2FsbChzZWxmKTtcbiAgICAgICAgfTtcblxuICAgIH0pKTtcbn07IiwiLyoqXG4gKiBGbGFzaCBtZXNzYWdlcyBhcmUgc2hvd24gb25seSBvbmNlOlxuICogdGhleSBhcmUgZGlzcGxheWVkIHRoZW4gaW1tZWRpYXRlbHkgZGVsZXRlZC5cbiAqL1xuU3RhY2tFeGNoYW5nZS5zaG93Rmxhc2hNZXNzYWdlSWZBbnkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29va2llTmFtZSA9ICdmbGFzaC1tZXNzYWdlLWpzb24nO1xuICAgIHZhciB1cmxFbmNvZGVkSnNvbiA9ICQuY29va2llKGNvb2tpZU5hbWUpO1xuICAgIGlmICghdXJsRW5jb2RlZEpzb24pXG4gICAgICAgIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICAgICQuY29va2llKGNvb2tpZU5hbWUsIG51bGwsIHsgcGF0aDogJy8nLCBkb21haW46IGRvY3VtZW50LmRvbWFpbiB9KTsgLy8gZXhwaXJlXG5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTk2OTIzMi9hbGxvd2VkLWNoYXJhY3RlcnMtaW4tY29va2llc1xuICAgICAgICAvLyByZXBsYWNlIHRoZSArIGZpcnN0LCBhcyBkZWNvZGUgd29uJ3QgY29udmVydCB0byBzcGFjZXMgYW5kIHRoZXJlIGNvdWxkIGJlIGFjdHVhbCArIGluIHRoZSBtZXNzYWdlIChhcyAlM2EpXG4gICAgICAgIHZhciBmbGFzaEpzb24gPSBkZWNvZGVVUklDb21wb25lbnQodXJsRW5jb2RlZEpzb24ucmVwbGFjZSgvWytdL2csICcgJykpO1xuICAgICAgICB2YXIgZmxhc2ggPSBKU09OLnBhcnNlKGZsYXNoSnNvbik7XG5cbiAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5lbmFibGVMb2dnaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmxhc2ggbWVzc2FnZTogc2hvd2luZyAnICsgZmxhc2hKc29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZmxhc2gucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3RvYXN0JzpcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KGZsYXNoLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZmxhc2gudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpZW50OiBmbGFzaC50cmFuc2llbnQsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaWVudFRpbWVvdXQ6IGZsYXNoLnRyYW5zaWVudFRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgIHVzZVJhd0h0bWw6IGZsYXNoLnVzZVJhd0h0bWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbm90aWNlJzpcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1N0YWNrc05vdGljZShmbGFzaC5tZXNzYWdlLCBmbGFzaC50eXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd0Jhbm5lck1lc3NhZ2UoZmxhc2gubWVzc2FnZSwgZmxhc2gudHlwZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZSkgeyB9XG59XG4iLCIvLyBvcHRpb25zOlxuLy8gLSB1c2VTdGFja3NFZGl0b3IgKHVzZSBTdGFja3MtRWRpdG9yIG92ZXIgd21kKVxuLy8gLSBoZWFydGJlYXRUeXBlIChmb3IgZWRpdG9yLmluaXQpXG4vLyAtIGF1dG9BY3RpdmF0ZUhlYXJ0YmVhdCAoZm9yIGVkaXRvci5pbml0KVxuLy8gLSBiaW5kTmF2UHJldmVudGlvbiAoZm9yIGVkaXRvci5pbml0KVxuLy8gLSBtdXRhdGVDb252ZXJ0ZXIgKGEgZnVuY3Rpb24gdGhhdCBnZXRzIGEgY2hhbmNlIHRvIG1vZGlmeSB0aGUgbWFya2Rvd24gY29udmVydGVyIGJlZm9yZSBpdCdzIHB1dCBpbnRvIHVzZTsgbXVzdCByZXR1cm4gYSB2YWxpZCBjb252ZXJ0ZXIpXG4vLyAtIG9uRGVtYW5kIChpZiB0aGUgZWRpdG9yIEpTIGlzbid0IGF2YWlsYWJsZSB5ZXQsIHdhaXQgdW50aWwgdGV4dGJveCBmb2N1cyBiZWZvcmUgbG9hZGluZyBpdClcbi8vIC0gYXV0b1Nob3dNYXJrZG93bkhlbHAgKGZvciBlZGl0b3IuaW5pdCAtLSBhdXRvbWF0aWNhbGx5IHNob3dzIHRoZSBNYXJrZG93biBoZWxwIChkdWgpIHdoZW4gdGhlIGVkaXRvciBpcyBmb2N1c2VkKVxuLy8gLSBwb3N0Zml4IC0tIGFwcGVuZGVkIHRvIHRoZSBIVE1MIGVsZW1lbnQgaWRzLCB0byBzdXBwb3J0IG11bHRpcGxlIGVkaXRvcnNcbi8vIC0gY29udmVydEltYWdlc1RvTGlua3MgLS0gaWYgYW4gaW1hZ2UgaXMgdXBsb2FkZWQsIGNvbnZlcnQgaXQgdG8gYSBsaW5rIGFuZCBwb3B1cCBhbiBpbmZvcm1hdGl2ZSBtZXNzYWdlcyB0byBpbmZvcm0gdGhlIHVzZXIgd2hhdCBoYXBwZW5lZFxuLy8gLSByZXB1dGF0aW9uVG9Qb3N0SW1hZ2VzIC0tIGlmIGNvbnZlcnRJbWFnZXNUb0xpbmtzIGlzIHRydWUsIHRoaXMgaXMgdGhlIGFtb3VudCBvZiByZXAgYSB1c2VyIG5lZWRzIHRvICpub3QqIGhhdmUgdGhlaXIgaW1hZ2VzIGNvbnZlcnRlZCB0byBsaW5rc1xuLy8gLSByZXNpemUgLSBpZiBmYWxzZSwgZG8gbm90IGNvbmZpZ3VyZSBUZXh0QXJlYVJlc2l6ZXJcbi8vIC0gb25EcmFmdERpc2NhcmRlZCAoZm9yIGVkaXRvci5pbml0KVxuLy8gLSBvbkNyZWF0ZWQgLSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBlZGl0b3IgaXMgY3JlYXRlZFxuLy8gLSBvbmVib3hFbmFibGVkIC0gZW5hYmxlcyBwb3N0L29uZWJveCBkeW5hbWljIHJlbmRlcmluZyBpbiBwcmV2aWV3XG4vLyAtIGVuYWJsZVRhYmxlcyAtIGVuYWJsZXMgbWFya2Rvd24gdGFibGUgc3VwcG9ydFxuLy8gLSBlbmFibGVTbmlwcGV0cyAtIGVuYWJsZXMgc3RhY2sgc25pcHBldHMgc3VwcG9ydCAoc3RhY2tzLWVkaXRvciBvbmx5KVxuLy8gLSBkZWZhdWx0VmlldyAtIFByZWZlcmVuY2UuU3RhY2tzRWRpdG9yUHJlZmVycmVkRWRpdE1vZGUgKHN0YWNrcy1lZGl0b3Igb25seSlcblN0YWNrRXhjaGFuZ2UucHJlcGFyZUVkaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGVkaXRvciBpbW1lZGlhdGVseTsgY2FuIGluaXQgXCJ3bWRcIiB2cyBcInN0YWNrcy1lZGl0b3JcIiBiYXNlZCBvbiB0aGUgcGFzc2VkIG9wdGlvbnNcbiAgICAgKi9cbiAgICB2YXIgaW5pdEVkaXRvckltbWVkaWF0ZWx5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZG8gdGhpcyBhc3luY2hyb25vdXNseSwgYmVjYXVzZSB3aXRoIGlubGluZSBlZGl0aW5nLCBwcmVwYXJlRWRpdG9yIGlzIGNhbGxlZFxuICAgICAgICAvLyB3aGVuIHRoZSBjb2RlIGNvbWVzIGJhY2sgZnJvbSB0aGUgc2VydmVyIGJ1dCBiZWZvcmUgZXZlcnl0aGluZyBpcyBhdmFpbGFibGVcbiAgICAgICAgLy8gKGluIHBhcnRpY3VsYXI6IHZpc2libGUpOyB0aGlzIGlzIHJlbGllZCB1cG9uIGluIGEgZmV3IHBsYWNlcy5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gb3B0aW9ucy51c2VTdGFja3NFZGl0b3IgPyBcInN0YWNrc0VkaXRvclwiIDogXCJlZGl0b3JcIjtcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLnVzZVN0YWNrc0VkaXRvcikge1xuICAgICAgICAgICAgICAgIC8vIHByZS1ob29rdXAgc3BvaWxlciBldmVudHMgc28gd2UgZG9uJ3QgaGF2ZSB0byB3YWl0IHVudGlsIHRoZSBgc3R5bGVDb2RlYCBjYWxsIG9uIGZpcnN0IHByZXZpZXcgcmVuZGVyXG4gICAgICAgICAgICAgICAgc3R5bGVDb2RlLmluaXRpYWxpemVTcG9pbGVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZVtlZGl0b3JdLmluaXRJZlNob3duKG9wdGlvbnMpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgZWRpdG9yIG9uRGVtYW5kIGZ1bmN0aW9uYWxpdHkgd2hlcmUgdGhlIGVkaXRvciBpc24ndCBsb2FkZWQgdW50aWwgdGhlIHVzZXIgaW50ZXJhY3RzIHdpdGggYSByZWxhdGVkIGlucHV0XG4gICAgICogQHBhcmFtIHthbnl9IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW55IG9mIHRoZSBkZWxheWVkIGxvYWQgaW5wdXRzIGFyZSBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKi9cbiAgICB2YXIgc2V0dXBJbml0RWRpdG9yT25EZW1hbmQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGxvYWRpbmdTdGFydGVkID0gZmFsc2U7IC8vIGV2ZW4gdGhvdWdoIHdlIGJpbmQgdmlhIC5vbmUoKSwgdGhpcyBjYW4gYmUgY2FsbGVkIG1vcmUgb2Z0ZW4gdGhhbiBvbmNlIChiZWNhdXNlLCBlLmcuLCB0aGUgY2xpY2sgYWxzbyBjYXVzZXMgYSBmb2N1cyBldmVudClcbiAgICAgICAgJChcIiN3bWQtaW5wdXQsICN0aXRsZSwgI3RhZ25hbWVzLCAjZWRpdC1jb21tZW50LCAjbS1hZGRyZXNzLCAjZGlzcGxheS1uYW1lLCAuanMtZmFrZS1zdGFja3MtZWRpdG9yXCIpLm9uZShcImZvY3VzIGNsaWNrIGtleWRvd25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGxvYWRpbmdTdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxvYWRpbmdTdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmVzIHRoZSB3bWQgZWRpdG9yIGZvciBpbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIHZhciBwcmVwYXJlV21kRWRpdG9yID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHBvc3RmaXggPSBvcHRpb25zLnBvc3RmaXggfHwgXCJcIjtcblxuICAgICAgICAvLyBjcmVhdGUgYSByb3cgb2YgZGlzYWJsZWQgYnV0dG9uczsgdGhpcyB3aWxsIGJlIHJlbW92ZWQgYmVmb3JlIHRoZSByZWFsIGVkaXRvciBjcmVhdGVzIGl0cyBvd24gYnV0dG9uc1xuICAgICAgICB2YXIgYnV0dG9ucyA9IFwiYm9sZC1idXR0b24gaXRhbGljLWJ1dHRvbiBzcGFjZXIxIGxpbmstYnV0dG9uIHF1b3RlLWJ1dHRvbiBjb2RlLWJ1dHRvbiBpbWFnZS1idXR0b24gc3BhY2VyMiBvbGlzdC1idXR0b24gdWxpc3QtYnV0dG9uIGhlYWRpbmctYnV0dG9uIGhyLWJ1dHRvbiBzcGFjZXIzIHVuZG8tYnV0dG9uIHJlZG8tYnV0dG9uXCJcbiAgICAgICAgICAgIC5zcGxpdChcIiBcIik7XG4gICAgICAgIHZhciByb3cgPSAkKFwiPHVsIGlkPVxcXCJ3bWQtYnV0dG9uLXJvd1wiICsgcG9zdGZpeCArIFwiXFxcIiBjbGFzcz1cXFwid21kLWJ1dHRvbi1yb3dcXFwiIC8+XCIpLmFwcGVuZFRvKFwiLndtZC1idXR0b24tYmFyXCIpO1xuICAgICAgICB2YXIgc3ByaXRlWCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGIgPSBidXR0b25zW2ldO1xuICAgICAgICAgICAgdmFyIGlzU3BhY2VyID0gL3NwYWNlci8udGVzdChiKTtcbiAgICAgICAgICAgIHZhciBidXR0b24gPSAkKFwiPGxpIGlkPSd3bWQtXCIgKyBiICsgcG9zdGZpeCArIFwiJyAvPlwiKS5wcm9wKFwiY2xhc3NOYW1lXCIsIFwid21kLVwiICsgKGlzU3BhY2VyID8gXCJzcGFjZXJcIiA6IFwiYnV0dG9uXCIpKS5jc3MoXCJsZWZ0XCIsIGkgKiAyNSkuYXBwZW5kVG8ocm93KTtcbiAgICAgICAgICAgICQoXCI8c3BhbiAvPlwiKS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIChzcHJpdGVYKSArIFwicHggLTIwcHhcIikuYXBwZW5kVG8oYnV0dG9uKTtcbiAgICAgICAgICAgIGlmICghaXNTcGFjZXIpXG4gICAgICAgICAgICAgICAgc3ByaXRlWCAtPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1heCBTcGFjZXI6IG5vdCBhIDE5ODBzIGNyaW1lLWRyYW1hIGFudGloZXJvXG4gICAgICAgIC8vIGluIHRoZSByZWFsIGJ1dHRvbiBiYXIsIHRoaXMgZm9yY2VzIHRoZSBoZWxwIGJ1dHRvbiByaWdodCB3aGlsZSBrZWVwaW5nIHRoZSByZXN0IG9mIHRoZSBidXR0b25zIGxlZnQuXG4gICAgICAgIC8vIGhlcmUsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBidXR0b25zIGRvbid0IHN0YXJ0IG91dCByaWdodC1hbGlnbmVkIGFuZCBqdW1wIGxlZnQgd2hlbiBsb2FkaW5nXG4gICAgICAgIHZhciBtYXhTcGFjZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIG1heFNwYWNlci5jbGFzc05hbWUgPSBcIndtZC1zcGFjZXIgd21kLXNwYWNlci1tYXhcIjtcbiAgICAgICAgcm93LmFwcGVuZChtYXhTcGFjZXIpO1xuXG4gICAgICAgIHNldHVwSW5pdEVkaXRvck9uRGVtYW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJvdy5hZGRTcGlubmVyKHsgXCJmbG9hdFwiOiBcInJpZ2h0XCIgfSk7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiZWRpdG9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByb3cucmVtb3ZlKCk7IC8vIGFsc28gcmVtb3ZlcyBzcGlubmVyXG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvU2hvd01hcmtkb3duSGVscClcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5pbW1lZGlhdGVseVNob3dNYXJrZG93bkhlbHAgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaW5pdEVkaXRvckltbWVkaWF0ZWx5KG9wdGlvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyB3cmFwcGVyIGZ1bmN0aW9uIHRvIGluaXQgZWl0aGVyIHRoZSBzdGFja3MtZWRpdG9yIG9yIHRoZSB3bWQgZWRpdG9yIGJhc2VkIG9uIHRoZSBwYXNzZWQgb3B0aW9uc1xuICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBpZiB3ZSdyZSBub3QgaW5pdCdpbmcgXCJvbkRlbWFuZFwiIChlLmcuIG9uIGlucHV0IGZvY3VzKSwganVzdCBpbml0IHRoZSBlZGl0b3IgaW1tZWRpYXRlbHlcbiAgICAgICAgaWYgKCFvcHRpb25zLm9uRGVtYW5kKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTdGFja3NFZGl0b3IpIHtcbiAgICAgICAgICAgICAgICAkLndoZW4oU3RhY2tFeGNoYW5nZS51c2luZyhcImhpZ2hsaWdodGpzXCIsICQubm9vcCksIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJzdGFja3NFZGl0b3JcIiwgJC5ub29wKSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyBpbml0RWRpdG9ySW1tZWRpYXRlbHkob3B0aW9ucyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImVkaXRvclwiLCBmdW5jdGlvbiAoKSB7IGluaXRFZGl0b3JJbW1lZGlhdGVseShvcHRpb25zKTsgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZVN0YWNrc0VkaXRvcikge1xuICAgICAgICAgICAgc2V0dXBJbml0RWRpdG9yT25EZW1hbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQud2hlbihTdGFja0V4Y2hhbmdlLnVzaW5nKFwiaGlnaGxpZ2h0anNcIiwgJC5ub29wKSwgU3RhY2tFeGNoYW5nZS51c2luZyhcInN0YWNrc0VkaXRvclwiLCAkLm5vb3ApKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IGluaXRFZGl0b3JJbW1lZGlhdGVseShvcHRpb25zKTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXBhcmVXbWRFZGl0b3Iob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xufSgpKTtcbiIsIi8qIDM5X0F1dGguanNcblxuVGhpcyBwYXJ0aWFsIGNvbnRhaW5zIGFsbCB0aGUgc2hhcmVkIEphdmFTY3JpcHQgbWV0aG9kcyBhbmQgaGVscGVycyB1c2VkIGluIGF1dGhlbnRpY2F0aW9uIG9uIHRoZSBjbGllbnQgc2lkZS5cbkF1dGhlbnRpY2F0aW9uIGluIHRoaXMgY29udGV4dCBpbmNsdWRlcyBsb2dpbiwgc2lnbnVwLCBwYXNzd29yZCBjaGFuZ2luZywgYW5kIHByb3ZpZGVyIG1hbmFnZW1lbnQgYWNyb3NzIGFub255bW91c1xuYW5kIGxvZ2dlZCBpbiB1c2Vycy4gTWFueSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaGVyZSBhcmUgc2hhcmVkIGJldHdlZW4gbW9zdGx5IGBhdXRoLmpzYCBhbmQgYGZ1bGwtYW5vbi1vbmx5LzAwX0lubGluZUF1dGguanNgLlxuXG5hdXRoLmpzIGlzIHRoZSBvcmlnaW5hbCBjbGllbnQtc2lkZSBjb2RlIHdoZXJlIGFsbCB0aGUgYXV0aGVudGljYXRpb24gbWV0aG9kcyBsaXZlLiBNZXRob2RzIHRoYXQgYXJlIHNoYXJlZCBiZXR3ZWVuXG5vdGhlciBmaWxlcyBhbmQgYXV0aC5qcyBoYXZlIGJlZW4gbW92ZWQgaGVyZSB0byBkZS1kdXBsaWNhdGUgY29kZSBhbmQgbWFrZSBtYWludGVuYW5jZSBlYXNpZXIuXG5cbiovXG5cblN0YWNrRXhjaGFuZ2UuQXV0aCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgYWRkT3JVcGRhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvckFycmF5LCB2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVycm9yQXJyYXlbaV0uaWQgPT0gdmFsaWRhdGlvbkVycm9yLmlkKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yLmNoYW5nZWQgPSBlcnJvckFycmF5W2ldLm1lc3NhZ2UgPT0gdmFsaWRhdGlvbkVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgZXJyb3JBcnJheVtpXS5tZXNzYWdlID0gdmFsaWRhdGlvbkVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvci5pbmRleCA+PSBlcnJvckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVycm9yQXJyYXkucHVzaCh2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvckFycmF5LnNwbGljZSh2YWxpZGF0aW9uRXJyb3IuaW5kZXgsIDAsIHZhbGlkYXRpb25FcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHBhc3N3b3JkU3RyZW5ndGhWYWxpZGF0aW9uID0gZnVuY3Rpb24gKCRwYXNzd29yZCwgZXJyb3JBcnJheSwgcmVtb3ZlRXJyb3IpIHtcbiAgICAgICAgdmFyIGVzdGltYXRlZE1pbmltdW1MZW5ndGhGb3JHb29kRW50cm9weSA9IDE1LFxuICAgICAgICAgICAgbWluUGFzc3dvcmRMZW5ndGggPSA4O1xuXG4gICAgICAgIHZhciBwdyA9ICRwYXNzd29yZC52YWwoKSxcbiAgICAgICAgICAgIGhhc0xvd2VyID0gL1thLXpdLy50ZXN0KHB3KSxcbiAgICAgICAgICAgIGhhc1VwcGVyID0gL1tBLVpdLy50ZXN0KHB3KSxcbiAgICAgICAgICAgIGhhc0RpZ2l0ID0gL1xcZC8udGVzdChwdyksXG4gICAgICAgICAgICBoYXNOb25Xb3JkID0gLyhffFteXFx3XFxkXSkvLnRlc3QocHcpLFxuICAgICAgICAgICAgY2hhckNsYXNzQ291bnQgPSAwO1xuXG4gICAgICAgIGlmIChoYXNMb3dlcikgY2hhckNsYXNzQ291bnQrKztcbiAgICAgICAgaWYgKGhhc1VwcGVyKSBjaGFyQ2xhc3NDb3VudCsrO1xuICAgICAgICBpZiAoaGFzRGlnaXQpIGNoYXJDbGFzc0NvdW50Kys7XG4gICAgICAgIGlmIChoYXNOb25Xb3JkKSBjaGFyQ2xhc3NDb3VudCsrO1xuXG4gICAgICAgIGlmIChjaGFyQ2xhc3NDb3VudCA9PT0gMiAmJiBwdy5sZW5ndGggPj0gZXN0aW1hdGVkTWluaW11bUxlbmd0aEZvckdvb2RFbnRyb3B5KSB7XG4gICAgICAgICAgICByZW1vdmVFcnJvcihlcnJvckFycmF5LCAncHctd2VhaycsICRwYXNzd29yZCk7XG4gICAgICAgICAgICByZW1vdmVFcnJvcihlcnJvckFycmF5LCAncHctc2hvcnQnLCAkcGFzc3dvcmQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJDbGFzc0Vycm9ycyA9ICQoJzxzcGFuPjxwPicgKyBfbSgnUGxlYXNlIGFkZCBvbmUgb2YgdGhlIGZvbGxvd2luZyB0aGluZ3MgdG8gbWFrZSB5b3VyIHBhc3N3b3JkIHN0cm9uZ2VyOiRwRW5kJCAkbGlzdFN0YXJ0JCAkY2hhciQgbGV0dGVycyAkaXRlbUVuZCQgJG51bSQgbnVtYmVycyAkaXRlbUVuZCQgJGxpc3RFbmQkJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwRW5kOiAnPC9wPicsXG4gICAgICAgICAgICAgICAgbGlzdFN0YXJ0OiAnPHVsPicsXG4gICAgICAgICAgICAgICAgbGlzdEVuZDogJzwvdWw+JyxcbiAgICAgICAgICAgICAgICBpdGVtRW5kOiAnPC9saT4nLFxuICAgICAgICAgICAgICAgIGNoYXI6ICc8bGkgaWQ9XCJjaFwiPicsXG4gICAgICAgICAgICAgICAgbnVtOiAnPGxpIGlkPVwibnVtXCI+J1xuICAgICAgICAgICAgfSkgKyAnPC9zcGFuPicpO1xuXG4gICAgICAgIGlmICgoaGFzTG93ZXIgfHwgaGFzVXBwZXIpICYmIGhhc0RpZ2l0KSB7XG4gICAgICAgICAgICByZW1vdmVFcnJvcihlcnJvckFycmF5LCAncHctd2VhaycsICRwYXNzd29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhckNsYXNzQ291bnQgPCAzKSB7XG4gICAgICAgICAgICBpZiAoaGFzTG93ZXIgfHwgaGFzVXBwZXIpIHtcbiAgICAgICAgICAgICAgICBjaGFyQ2xhc3NFcnJvcnMuZmluZCgnI2NoJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzRGlnaXQpIHtcbiAgICAgICAgICAgICAgICBjaGFyQ2xhc3NFcnJvcnMuZmluZCgnI251bScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkT3JVcGRhdGVFcnJvcihlcnJvckFycmF5LCB7IGlkOiAncHctd2VhaycsIGluZGV4OiAxLCBhdHRhY2hUbzogJHBhc3N3b3JkLCBtZXNzYWdlOiBjaGFyQ2xhc3NFcnJvcnMgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmVFcnJvcihlcnJvckFycmF5LCAncHctd2VhaycsICRwYXNzd29yZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdW5pcXVlQ2hhcnMgPSAkcGFzc3dvcmQudmFsKCkubGVuZ3RoO1xuXG4gICAgICAgIGlmICh1bmlxdWVDaGFycyA8IG1pblBhc3N3b3JkTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gbWluUGFzc3dvcmRMZW5ndGggLSB1bmlxdWVDaGFycztcblxuICAgICAgICAgICAgYWRkT3JVcGRhdGVFcnJvcihlcnJvckFycmF5LCB7IGlkOiAncHctc2hvcnQnLCBpbmRleDogMiwgYXR0YWNoVG86ICRwYXNzd29yZCwgbWVzc2FnZTogX3MoJ011c3QgY29udGFpbiBhdCBsZWFzdCAjcmVtYWluaW5nIyBtb3JlIGNoYXJhY3RlcnMuJywgeyByZW1haW5pbmc6IHJlbWFpbmluZyB9KSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUVycm9yKGVycm9yQXJyYXksICdwdy1zaG9ydCcsICRwYXNzd29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkT3JVcGRhdGVFcnJvcjogYWRkT3JVcGRhdGVFcnJvcixcbiAgICAgICAgcGFzc3dvcmRTdHJlbmd0aFZhbGlkYXRpb246IHBhc3N3b3JkU3RyZW5ndGhWYWxpZGF0aW9uXG4gICAgfTtcbn0pKCk7IiwiU3RhY2tFeGNoYW5nZS5IZXJvID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBoZXJvID0ge1xuICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICB2ZXJzaW9uOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBkaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGVyb0tleSA9IFwiaGVyby1kaXNtaXNzZWRcIjtcblxuICAgICAgICAvLyBNYXRjaGVzIEFub255bW91c0Nvb2tpZU1vZGVsXG4gICAgICAgIHZhciBtb2RlbCA9IHtcbiAgICAgICAgICAgIGxkOiBcIlwiLFxuICAgICAgICAgICAgZDogW11cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY29va2llID0gJC5jb29raWUoaGVyb0tleSk7XG4gICAgICAgIGlmIChjb29raWUpIHtcbiAgICAgICAgICAgIHZhciBkaXNtaXNzZWQgPSBjb29raWUuc3BsaXQoXCIhXCIpO1xuICAgICAgICAgICAgZGlzbWlzc2VkLnNoaWZ0KCk7XG4gICAgICAgICAgICBtb2RlbC5kID0gZGlzbWlzc2VkO1xuICAgICAgICB9XG4gICAgICAgIG1vZGVsLmxkID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgdmFyIGhlcm9JZCA9IGhlcm8ubmFtZSArIFwiX1wiICsgaGVyby52ZXJzaW9uO1xuICAgICAgICB2YXIgbmV3SGVybyA9IHRydWU7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIHNhbWUgaGVybywgcmVwbGFjZSB3aXRoIG5ldyB2ZXJzaW9uIGlmIGZvdW5kXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBtb2RlbC5kKSB7XG4gICAgICAgICAgICBpZiAobW9kZWwuZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gbW9kZWwuZFtrZXldO1xuICAgICAgICAgICAgICAgIHZhciBjYW1wYWlnbiA9IGlkLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FtcGFpZ24gPT09IGhlcm8ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kW2tleV0gPSBoZXJvSWQ7XG4gICAgICAgICAgICAgICAgICAgIG5ld0hlcm8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbm8gcHJldmlvdXMgdmVyc2lvbiBvZiBoZXJvLCBhZGQgdG8gYXJyYXlcbiAgICAgICAgaWYgKG5ld0hlcm8pIHtcbiAgICAgICAgICAgIG1vZGVsLmQucHVzaChoZXJvSWQpO1xuICAgICAgICB9IFxuXG4gICAgICAgICQuY29va2llKGhlcm9LZXksIGVuY29kZU1vZGVsKG1vZGVsKSwgeyBwYXRoOiAnLycsIGV4cGlyZXM6IDM2NSB9KTtcbiAgICB9XG5cbiAgICB2YXIgZW5jb2RlTW9kZWwgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIFttb2RlbC5sZF0uY29uY2F0KG1vZGVsLmQpLmpvaW4oXCIhXCIpO1xuICAgIH1cblxuICAgIHZhciBpbml0ID0gZnVuY3Rpb24obmFtZSwgdmVyc2lvbikge1xuICAgICAgICBoZXJvLm5hbWUgPSBuYW1lO1xuICAgICAgICBoZXJvLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGluaXQsXG4gICAgICAgIGRpc21pc3M6IGRpc21pc3MsXG4gICAgfTtcbn0pKCk7IiwiLypcblVzZWQgdG8gdG9nZ2xlIGNvbXBsZXRlZCByZXF1aXJlbWVudHMgaW4gY2hlY2tsaXN0cyBhcyB3ZWxsIGFzIGRpc21pc3MgY2hlY2tsaXN0c1xuVG9nZ2xlIHN0YXRlcyBhcmUgc3RvcmVkIGluIFVzZXIuUHJlZmVyZW5jZXNcbkN1cnJlbnRseSB1c2VkIGluIENoYW5uZWxzIChTdGFja092ZXJmbG93XFxWaWV3c1xcQ2hhbm5lbHNcXE9uYm9hcmRpbmdcXENoZWNrbGlzdFNpZGViYXIuY3NodG1sOjEwMilcblxuUmVxdWlyZXM6XG4gICAgLmpzLWNoZWNrbGlzdCBjb250YWluZXIgY2xhc3NcbiAgICAuanMtcmVxdWlyZW1lbnQgYW5kIC5pcy1maW5pc2hlZCBjbGFzcyBvbiBlYWNoIHJlcXVpcmVtZW50XG4gICAgLmpzLXRvZ2dsZS1jb21wbGV0ZWQtcmVxdWlyZW1lbnRzIGxpbmsgdGhhdCBoYXM6IFxuICAgICAgICBkYXRhLXByZWZlcmVuY2UgZm9yIHRoZSBVc2VyLlByZWZlcmVuY2UgZW51bSB0byB0b2dnbGVcbiAgICAgICAgZGF0YS11cmwgZm9yIHBvc3Qgcm91dGUgXG4gICAgICAgIC5pcy12aXNpYmxlIG9yIC5pcy1oaWRkZW4gY2xhc3MgdG8gdHJhY2sgdGhlIHN0YXRlXG4gICAgICAgIGV4OiA8YSBjbGFzcz1cImpzLXRvZ2dsZS1jb21wbGV0ZWQtcmVxdWlyZW1lbnRzIEAoaGlkZUNvbXBsZXRlZCA/IFwiaXMtaGlkZGVuXCIgOiBcImlzLXZpc2libGVcIilcIiBkYXRhLXByZWZlcmVuY2U9XCJAcHJlZlwiIGRhdGEtdXJsPVwiQHVybFwiPiBcbiAgICAgICAgICAgICAgICBAKGhpZGVDb21wbGV0ZWQgPyBAX3MoXCJTaG93IGFsbCBpdGVtc1wiKSA6IEBfcyhcIkhpZGUgY29tcGxldGVkIGl0ZW1zXCIpKTwvYT5cbiovXG5cblN0YWNrRXhjaGFuZ2UuY2hlY2tsaXN0ID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUNvbnRlbnQodXJsLCBwcmVmZXJlbmNlLCBoaWRlQ29tcGxldGVkT3JEaXNtaXNzKSB7XG4gICAgICAgIHJldHVybiAkLnBvc3QodXJsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZTogcHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBoaWRlQ29tcGxldGVkT3JEaXNtaXNzOiBoaWRlQ29tcGxldGVkT3JEaXNtaXNzXG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmpzLXRvZ2dsZS1jb21wbGV0ZWQtcmVxdWlyZW1lbnRzXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQoZS50YXJnZXQpO1xuICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoXCIuanMtY2hlY2tsaXN0XCIpO1xuICAgICAgICB2YXIgaGlkZUNvbXBsZXRlZCA9ICR0aGlzLmhhc0NsYXNzKCdpcy12aXNpYmxlJyk7XG4gICAgICAgIHZhciBwcmVmZXJlbmNlID0gJHRoaXMuZGF0YShcInByZWZlcmVuY2VcIik7XG4gICAgICAgIHZhciB1cmwgPSAkdGhpcy5kYXRhKFwidXJsXCIpO1xuXG4gICAgICAgIHRvZ2dsZUNvbnRlbnQodXJsLCBwcmVmZXJlbmNlLCBoaWRlQ29tcGxldGVkKVxuICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5qcy1yZXF1aXJlbWVudC5pcy1maW5pc2hlZCcpLmNsb3Nlc3QoJ2xpJykudG9nZ2xlQ2xhc3MoJ2RubycpO1xuICAgICAgICAgICAgICAgICR0aGlzLnRvZ2dsZUNsYXNzKCdpcy12aXNpYmxlIGlzLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGhpZGVDb21wbGV0ZWQgPyBfcyhcIlNob3cgYWxsIGl0ZW1zXCIpIDogX3MoXCJIaWRlIGNvbXBsZXRlZCBpdGVtc1wiKSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn0pKCk7IiwiXG4vLyBDYWxsIFN0YWNrRXhjaGFuZ2Uuc3RhY2tzVmFsaWRhdGlvbi5oYW5kbGVyRm9yKCRpbnB1dCkgdG8gZ2V0IGEgaGFuZGxlci4gV2lsbCByZXR1cm4gbnVsbCBpZiBub3QgYXZhaWxhYmxlLlxuLy9cbi8vIEV4cGVjdHMgdGhlIGZvbGxvd2luZzpcbi8vIC0gVGhlIGlucHV0IGVsZW1lbnQgaXMgdGhlIG9ubHkgY2hpbGQgb2YgYSBwb3NpdGlvbmVkIGNvbnRhaW5lciAodGhpcyBpcyBhIFN0YWNrcyByZXF1aXJlbWVudCBpbiBvcmRlciB0byBjb3JyZWN0bHkgcG9zaXRpb24gdGhlIGljb24pXG4vLyAtIFRoZSBpbnB1dCBlbGVtZW50IGhhcyBhbiBhbmNlc3RvciBvZiBjbGFzcyBqcy1zdGFja3MtdmFsaWRhdGlvblxuLy8gLSBUaGlzIGFuY2VzdG9yIGhhcyBhIGRlc2NlbmRhbnQgb2YgY2xhc3MganMtc3RhY2tzLXZhbGlkYXRpb24tbWVzc2FnZSAod2hpY2ggc2hvdWxkIGJlIGEgU3RhY2tzIC5zLWlucHV0LW1lc3NhZ2UsIGFuZCBhbHNvIC5kLW5vbmUpXG4vLyAtIFRoZSBqcy1zdGFja3MtdmFsaWRhdGlvbi1tZXNzYWdlIGVsZW1lbnQgaGFzIGFuIGlkIGF0dHJpYnV0ZSB3aXRoIGEgdW5pcXVlIHZhbHVlICh1c2VkIHRvIGNvbm5lY3QgdGhlIHZhbGlkYXRpb24gbWVzc2FnZSB3aXRoIHRoZSBpbnB1dCBmaWVsZCBmb3IgYWNjZXNzaWJpbGl0eSBwdXJwb3Nlcylcbi8vIENhbGwgaGFuZGxlci5hZGQoXCJ3YXJuaW5nXCIsIFwiVGhpcyBwYXNzd29yZCBpcyA8Yj52ZXJ5IGluc2VjdXJlPC9iPi5cIikuIE5vdGUgdGhhdCB0aGlzIEVYUEVDVFMgSFRNTCwgQkUgU1VSRSBUTyBFTkNPREUgVEhJTkdTLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlXG4vLyB0eXBlLCBvbmUgb2YgXCJzdWNjZXNzXCIsIFwid2FybmluZ1wiLCBvciBcImVycm9yXCIuXG4vL1xuLy8gQ2FsbCBoYW5kbGVyLmNsZWFyKCkgdG8gcmVtb3ZlIGFsbCB2YWxpZGF0aW9uIG1lc3NhZ2VzIG9yIGUuZy4gaGFuZGxlci5jbGVhcihcInN1Y2Nlc3NcIikgdG8gb25seSByZW1vdmUgbWVzc2FnZXMgb2YgYSBjZXJ0YWluIHR5cGUuXG5cblN0YWNrRXhjaGFuZ2Uuc3RhY2tzVmFsaWRhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVyRm9yKCRpbnB1dCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gJGlucHV0LmRhdGEoXCJzdGFja3MtdmFsaWRhdGlvbi1oYW5kbGVyXCIpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEhhbmRsZXIoJGlucHV0KTtcbiAgICAgICAgICAgICRpbnB1dC5kYXRhKFwic3RhY2tzLXZhbGlkYXRpb24taGFuZGxlclwiLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuaW52YWxpZCA/IG51bGwgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSGFuZGxlcigkaW5wdXQpIHtcbiAgICAgICAgdGhpcy5oaWRlSWNvbnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkaW5wdXQ7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICRpbnB1dC5jbG9zZXN0KFwiLmpzLXN0YWNrcy12YWxpZGF0aW9uXCIpO1xuICAgICAgICBpZiAoIXRoaXMuJGNvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kbWVzc2FnZSA9IHRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmpzLXN0YWNrcy12YWxpZGF0aW9uLW1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBbXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRIdG1sKG1zZykge1xuICAgICAgICByZXR1cm4gbXNnLmh0bWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFR5cGUobXNnKSB7XG4gICAgICAgIHJldHVybiBtc2cudHlwZTtcbiAgICB9XG5cbiAgICBIYW5kbGVyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX3VwZGF0ZU1lc3NhZ2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVtcHR5KCkudG9nZ2xlQ2xhc3MoXCJkLW5vbmVcIiwgIXRoaXMubWVzc2FnZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaHRtbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGh0bWwgPSB0aGlzLm1lc3NhZ2VzWzBdLmh0bWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGh0bWwgPSBcIjx1bD48bGk+XCIgKyB0aGlzLm1lc3NhZ2VzLm1hcChnZXRIdG1sKS5qb2luKFwiPC9saT48bGkgY2xhc3M9J210OCc+XCIpICsgXCI8L2xpPjwvdWw+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmh0bWwoaHRtbCkuZmluZCgnYScpLmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3VwZGF0ZUljb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5maW5kKFwiLmpzLXN0YWNrcy12YWxpZGF0aW9uLWljb25cIikucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWVzc2FnZXMubGVuZ3RoIHx8IHRoaXMuaGlkZUljb25zKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5oaWdoZXN0VHlwZSgpO1xuICAgICAgICAgICAgU3ZnW0lDT05TW3R5cGVdXS5XaXRoKFwicy1pbnB1dC1pY29uIGpzLXN0YWNrcy12YWxpZGF0aW9uLWljb25cIikuaW5zZXJ0QWZ0ZXIodGhpcy4kaW5wdXQpO1xuXG4gICAgICAgIH0sXG4gICAgICAgIF91cGRhdGVDbGFzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiaGFzLWVycm9yIGhhcy13YXJuaW5nIGhhcy1zdWNjZXNzXCIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYWRkQ2xhc3MoXCJoYXMtXCIgKyB0aGlzLmhpZ2hlc3RUeXBlKCkpO1xuICAgICAgICB9LFxuICAgICAgICBfdXBkYXRlQXJpYUF0dHJpYnV0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuJGlucHV0IGlzbid0IG5lY2Vzc2FyaWx5IGEgZm9ybSBmaWVsZCAoZS5nLiB3aGVuIGRlYWxpbmcgd2l0aCB0YWdFZGl0b3Igb3Igc3RhY2tzLWVkaXRvcilcbiAgICAgICAgICAgIC8vIHNvIGxldCdzIG1ha2Ugc3VyZSB3ZSBmaW5kIHRoZSByaWdodCBlbGVtZW50cyB0byBzbGFwIGFyaWEgYXR0cmlidXRlcyBvbnRvLlxuICAgICAgICAgICAgLy8gdGhpcyBhcHByb2FjaCBpcyB0cnlpbmcgdG8gYmUgYXMgZGVmZW5zaXZlIGFzIHBvc3NpYmxlIGFuZCBkb2Vzbid0IHRyeSB0byBmaW5kIGlucHV0cyBsaWtlIHNlbGVjdHMsIHJhZGlvIGJ1dHRvbnMsXG4gICAgICAgICAgICAvLyBvciBwYXNzd29yZCBmaWVsZHMuIElkZWFsbHksIHdlIHBhc3MgdGhlIGNvcnJlY3QgPGlucHV0PiBlbGVtZW50IHRvIHRoZSBzdGFja3MgaGFuZGxlciAoYXMgdGhpcy4kaW5wdXQpXG4gICAgICAgICAgICAvLyBhbmQgZG9uJ3QgaGF2ZSB0byBzZWFyY2ggZm9yIG90aGVyIGZvcm0tbGlrZSBlbGVtZW50cy4gaW5wdXRbdHlwZT0ndGV4dCddLCB0ZXh0YXJlYSwgYW5kIGNvbnRlbnRlZGl0YWJsZVxuICAgICAgICAgICAgLy8gc29sdmUgdGhlIGV4Y2VwdGlvbiBmb3IgYm90aCwgdGFnLWVkaXRvciBhbmQgc3RhY2tzLWVkaXRvciwgZXhwbGljaXRseS5cbiAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxGb3JtRWxlbWVudHMgPSB0aGlzLiRjb250YWluZXIuZmluZChcImlucHV0W3R5cGU9J3RleHQnXSwgdGV4dGFyZWEsIFtjb250ZW50ZWRpdGFibGU9J3RydWUnXVwiKVxuICAgICAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHRoaXMuJGlucHV0LmFkZChhZGRpdGlvbmFsRm9ybUVsZW1lbnRzKTtcblxuICAgICAgICAgICAgZm9ybUZpZWxkcy5yZW1vdmVBdHRyKFwiYXJpYS1pbnZhbGlkXCIpO1xuICAgICAgICAgICAgZm9ybUZpZWxkcy5yZW1vdmVBdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcm1GaWVsZHMuYXR0cihcImFyaWEtaW52YWxpZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZUlkID0gdGhpcy4kbWVzc2FnZS5hdHRyKFwiaWRcIik7XG4gICAgICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpZWxkcy5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLCBtZXNzYWdlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNZXNzYWdlcygpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSWNvbigpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUFyaWFBdHRyaWJ1dGVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hlc3RUeXBlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzLm1hcChnZXRUeXBlKS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gXCJlcnJvclwiIHx8IGIgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gXCJ3YXJuaW5nXCIgfHwgYiA9PT0gXCJ3YXJuaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdWNjZXNzXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzVHlwZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMuc29tZShmdW5jdGlvbiAobXNnKSB7IHJldHVybiBtc2cudHlwZSA9PT0gdHlwZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBmdW5jdGlvbih0eXBlLCBodG1sKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlcy5zb21lKGZ1bmN0aW9uIChtc2cpIHsgcmV0dXJuIG1zZy50eXBlID09PSB0eXBlICYmIG1zZy5odG1sID09PSBodG1sfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goe3R5cGU6IHR5cGUsIGh0bWw6IGh0bWx9KTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRUZXh0OiBmdW5jdGlvbiAodHlwZSwgdGV4dCkge1xuICAgICAgICAgICAgdGhpcy5hZGQodHlwZSwgJCgnPHNwYW4+JykudGV4dCh0ZXh0KS5odG1sKCkpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhcjogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5tZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0udHlwZSAhPT0gdHlwZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRklYTUU6IFdlIG5lZWQgc29tZSB3YXkgdG8gZ2V0IHRoZSBAU3ZnIGljb25zIGludG8gSlMgd2l0aG91dCBicmVha2luZyBzaW5nbGUtc291cmNlLW9mLXRydXRoIGxpa2UgdGhpc1xuICAgIHZhciBJQ09OUyA9IHtcbiAgICAgICAgZXJyb3I6ICdBbGVydENpcmNsZScsXG4gICAgICAgIHdhcm5pbmc6ICdBbGVydCcsXG4gICAgICAgIHN1Y2Nlc3M6ICdDaGVja21hcmsnXG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhhbmRsZXJGb3I6IGhhbmRsZXJGb3JcbiAgICB9O1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgU3RhY2tzLmFkZENvbnRyb2xsZXIoJ3NlLWNoYXItY291bnRlcicsIHtcbiAgICAgICAgdGFyZ2V0czogWydmaWVsZCcsICdvdXRwdXQnXSxcblxuICAgICAgICBjb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMuZmllbGRUYXJnZXQpLmNoYXJDb3VudGVyKHtcbiAgICAgICAgICAgICAgICBtaW46ICsodGhpcy5kYXRhLmdldCgnbWluJykgfHwgJzAnKSxcbiAgICAgICAgICAgICAgICBtYXg6ICsodGhpcy5kYXRhLmdldCgnbWF4JykgfHwgJzAnKSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICQodGhpcy5vdXRwdXRUYXJnZXQpLFxuICAgICAgICAgICAgICAgIHNldElzVmFsaWQ6IHRoaXMuc2V0SXNWYWxpZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRJc1ZhbGlkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBhdHRyID0gJ2RhdGEtaXMtdmFsaWQtbGVuZ3RoJztcbiAgICAgICAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMuZmllbGRUYXJnZXQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmdldCgnYWxsb3ctZW1wdHknKSA9PT0gJ3RydWUnICYmICEkZmllbGQudmFsKCkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdHJWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoJGZpZWxkLmF0dHIoYXR0cikgIT09IHN0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgJGZpZWxkLmF0dHIoYXR0ciwgc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckV2ZW50KCd2YWxpZGF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZHJhZ2dpbmdQb3B1cDtcbiAgICB2YXIgZHJhZ2dpbmdPZmZzZXQ7XG4gICAgdmFyIGRyYWdnaW5nRG9jdW1lbnRIb29rZWQ7XG4gICAgdmFyIHN0b3BEcmFnZ2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZHJhZ2dpbmdQb3B1cCA9IGRyYWdnaW5nT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdjLW1vdmUnKTtcbiAgICB9O1xuXG4gICAgU3RhY2tzLmFkZENvbnRyb2xsZXIoXCJzZS1kcmFnZ2FibGVcIiwge1xuXG4gICAgICAgIHRhcmdldHM6IFtcImhhbmRsZVwiXSxcblxuICAgICAgICBjb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzSGFuZGxlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgJGUgPSAkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gJCh0aGlzLmhhbmRsZVRhcmdldCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGV2ZW50dWFsbHksIGZpbmdlcnMgY3Jvc3NlZCwgd2UnbGwgb25seSBoYXZlIFN0YWNrcy1zdHlsZSBtb2RhbHNcbiAgICAgICAgICAgIC8vIHRoYXQgd2lsbCBoYXZlIC5jLW1vdmUgc3BlY2lmaWVkIG9uIHRoZSBoYW5kbGVzIGluIHRoZSBtYXJrdXBcbiAgICAgICAgICAgIGlmKCFoYW5kbGUuaGFzQ2xhc3MoJ2MtbW92ZScpKVxuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRDbGFzcygnYy1tb3ZlJyk7XG5cbiAgICAgICAgICAgIGhhbmRsZVxuICAgICAgICAgICAgICAgIC51bmJpbmQoJ21vdXNlZG93bicpXG4gICAgICAgICAgICAgICAgLmJpbmQoXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZWRvd24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZS5jc3MoeyBtaW5XaWR0aDogJGUub3V0ZXJXaWR0aCgpIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZU9mZnNldCA9ICRlLm9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBlT2Zmc2V0LmxlZnQgLSBldnQucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogZU9mZnNldC50b3AgLSBldnQucGFnZVlcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nUG9wdXAgPSAkZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGRyYWdnaW5nUG9wdXAub2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBzb21lIHJlYXNvbiwgd2UgZ2V0IGEgaml0dGVyIGlmIHdlIGp1c3QgZG8gdGhpcyBvbmNlOyBzbyBkb3VibGUgZG93biBkb2dcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nUG9wdXAub2Zmc2V0KGRlZikub2Zmc2V0KGRlZik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnYy1tb3ZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKCFkcmFnZ2luZ0RvY3VtZW50SG9va2VkKSB7XG4gICAgICAgICAgICAgICAgZHJhZ2dpbmdEb2N1bWVudEhvb2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ2dpbmdQb3B1cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nUG9wdXAucmVtb3ZlQ2xhc3MoXCJyZXNwb25zaXZlbHktaG9yaXpvbnRhbGx5LWNlbnRlcmVkLWxlZ2FjeS1wb3B1cFwiKTsgLy8gaWYgeW91IGNhbiBkcmFnLCB5b3UgY2FuIGhhbmRsZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBlLnBhZ2VZICsgZHJhZ2dpbmdPZmZzZXQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IGUucGFnZVggKyBkcmFnZ2luZ09mZnNldC54O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmdQb3B1cC5vZmZzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKS5vbihcbiAgICAgICAgICAgICAgICAgICAgJ2tleXByZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgc3RvcERyYWdnaW5nXG4gICAgICAgICAgICAgICAgKS5vbihcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNldXAnLFxuICAgICAgICAgICAgICAgICAgICBzdG9wRHJhZ2dpbmdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG59KSgpOyIsImltcG9ydCB7IHNoYXJlIH0gZnJvbSAnLi4vMTNfU2hhcmUubW9kJ1xuXG4vLyBVU0FHRTogPGEgaHJlZj1cIi4uLlwiIGRhdGEtY29udHJvbGxlcj1cInNlLXNoYXJlLXNoZWV0XCI+U2hhcmU8L2E+XG4vLyBPcHRpb25hbCBhdHRyaWJ1dGVzOlxuLy8gICAgIGRhdGEtc2Utc2hhcmUtc2hlZXQtdGl0bGU6ICAgICAgQSB0aXRsZSB0byB1c2UgZm9yIHRoZSBkaWFsb2cgKGUuZy4sIFwiU2hhcmUgdGhpcyBxdWVzdGlvblwiKVxuLy8gICAgIGRhdGEtc2Utc2hhcmUtc2hlZXQtc3VidGl0bGU6ICAgVW5ib2xkZWQgdGV4dCBuZXh0IHRvIHRoZSB0aXRsZSwgdXNlZCBvbiBxdWVzdGlvbiBwYWdlcyB0byBpbmRpY2F0ZSBhIHVzZXIgSUQgaXMgaW4gdGhlIFVSTC5cbi8vICAgICBkYXRhLXNlLXNoYXJlLXNoZWV0LXBvc3QtdHlwZTogIFRoZSB0eXBlIG9mIHBvc3QsIG9yIG9taXR0ZWQsIG11c3QgYmUgcXVlc3Rpb24sIGFuc3dlciwgb3IgYXJ0aWNsZSBmb3Igc29jaWFsIGxpbmtzIHRvIGFwcGVhci5cbi8vICAgICBkYXRhLXNlLXNoYXJlLXNoZWV0LXNvY2lhbDogICAgIEEgbGlzdCBvZiBzb2NpYWwgcHJvdmlkZXJzIHRvIHNob3cuICBBY2NlcHRzIHR3aXR0ZXIgYW5kIGZhY2Vib29rLlxuLy8gICAgIGRhdGEtc2Utc2hhcmUtc2hlZXQtbG9jYXRpb246ICAgTnVtYmVyIGNvcnJlc3BvbmRpbmcgdG8gYSBgc2hhcmUuc2hvd2AgbG9jYXRpb24uXG4vLyAgICAgZGF0YS1zZS1zaGFyZS1zaGVldC1tZXNzYWdlOiAgICBUaGUgTWVzc2FnZSB0aGF0IHRoZSBzb2NpYWxzIHVzZSBmb3IgdGhlIGxpbmssIG11c3QgYmUgcHJvdmlkZWQgZm9yIG5vbiBxdWVzdGlvbiBvciBhbnN3ZXIgcG9zdCB0eXBlc1xuLy9cbi8vIEFkZGl0aW9uYWxseSwgYW55IHByb3BlcnRpZXMgZnJvbSBzLXBvcG92ZXIgZm9yIGN1c3RvbWl6YXRpb24sIGUuZy4gZGF0YS1zLXBvcG92ZXItcGxhY2VtZW50PVwiYm90dG9tLXN0YXJ0XCIuXG4vLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmRlc2lnbi9wcm9kdWN0L2NvbXBvbmVudHMvcG9wb3ZlcnMjYXR0cmlidXRlc1xuLy9cbi8vIEV2ZW50czpcbi8vICAgICBzZS1zaGFyZS1zaGVldDp1cGRhdGU6ICBCZWZvcmUgc2hvd2luZywgdGhlIGRpYWxvZyB3aWxsIGVtaXQgYSBgc2Utc2hhcmUtc2hlZXQ6dXBkYXRlYCBldmVudCBhbmQgdGhlbiB1cGRhdGUgdGhlIGNvbnRlbnRzXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIHBvcG92ZXIuIFRoaXMgcHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gdXBkYXRlIGFueSBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGJ5IHRoZSBwb3BvdmVyLlxuLy9cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgX3NoZWV0SW5kZXggPSAwO1xuICAgIHZhciBfY29weWluZyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVTaGVldElkKCkge1xuICAgICAgICByZXR1cm4gJ3NlLXNoYXJlLXNoZWV0LScgKyAoX3NoZWV0SW5kZXgrKyk7XG4gICAgfVxuXG4gICAgU3RhY2tzLmFkZENvbnRyb2xsZXIoJ3NlLXNoYXJlLXNoZWV0Jywge1xuXG4gICAgICAgIGdldCAkZWwoKSB7IHJldHVybiAkKHRoaXMuZWxlbWVudCk7IH0sXG5cbiAgICAgICAgZ2V0IGNvbnRyb2xJZCgpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuJGVsLmF0dHIoJ2FyaWEtY29udHJvbHMnKTtcbiAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICBpZCA9IGdlbmVyYXRlU2hlZXRJZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ2FyaWEtY29udHJvbHMnLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0ICRzaGVldCgpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuY29udHJvbElkO1xuICAgICAgICAgICAgdmFyICRzaGVldCA9ICQoJyMnICsgaWQpO1xuICAgICAgICAgICAgaWYgKCRzaGVldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkc2hlZXQgPSB0aGlzLmdlbmVyYXRlU2hlZXQoaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFmdGVyKCRzaGVldCk7XG4gICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuZ3BzICYmIFN0YWNrRXhjaGFuZ2UuZ3BzLmJpbmRUcmFja0NsaWNrcykge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy5iaW5kVHJhY2tDbGlja3MoJHNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJHNoZWV0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiArdGhpcy5kYXRhLmdldCgnbG9jYXRpb24nKSB8fCAwO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBjb3B5TGlua0dwc1RyYWNrQWN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXQoJ2dwcy10cmFjay1hY3Rpb24nKSB8fCAnJztcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciAkZWwgPSB0aGlzLiRlbDtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZElmTmVlZGVkKGF0dHJpYnV0ZSwgdGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICRlbC5hdHRyKGF0dHJpYnV0ZSkgfHwgJyc7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YodGV4dCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbC5hdHRyKGF0dHJpYnV0ZSwgdmFsdWUgKyAnICcgKyB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2hlZXQoZmFsc2UpO1xuICAgICAgICAgICAgYWRkSWZOZWVkZWQoJ2RhdGEtYWN0aW9uJywgJ3MtcG9wb3ZlciN0b2dnbGUnKTtcbiAgICAgICAgICAgIGFkZElmTmVlZGVkKCdkYXRhLWFjdGlvbicsIHRoaXMuaWRlbnRpZmllciArICcjcHJldmVudE5hdmlnYXRpb24nKTtcbiAgICAgICAgICAgIGFkZElmTmVlZGVkKCdkYXRhLWFjdGlvbicsICdzLXBvcG92ZXI6c2hvdy0+JyArIHRoaXMuaWRlbnRpZmllciArICcjd2lsbFNob3cnKTtcbiAgICAgICAgICAgIGFkZElmTmVlZGVkKCdkYXRhLWFjdGlvbicsICdzLXBvcG92ZXI6c2hvd24tPicgKyB0aGlzLmlkZW50aWZpZXIgKyAnI2RpZFNob3cnKTtcbiAgICAgICAgICAgIGFkZElmTmVlZGVkKCdkYXRhLWNvbnRyb2xsZXInLCAncy1wb3BvdmVyJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2VuZXJhdGVTaGVldDogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICB2YXIgJHNoZWV0ID0gJCgnPGRpdiBjbGFzcz1cInMtcG9wb3ZlciB6LWRyb3Bkb3duIHMtYW5jaG9ycyBzLWFuY2hvcnNfX2RlZmF1bHRcIiBzdHlsZT1cIndpZHRoOiB1bnNldDsgbWF4LXdpZHRoOiAyOGVtO1wiPjxkaXYgY2xhc3M9XCJzLXBvcG92ZXItLWFycm93XCI+PC9kaXY+PC9kaXY+JylcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBpZClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCc8ZGl2PjxsYWJlbCBmb3I9XCJzaGFyZS1zaGVldC1pbnB1dC0nICsgdGhpcy5jb250cm9sSWQgKyAnXCI+PHNwYW4gY2xhc3M9XCJqcy10aXRsZSBmdy1ib2xkXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cImpzLXN1YnRpdGxlXCI+PC9zcGFuPjwvbGFiZWw+PC9kaXY+JylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwibXk4XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzaGFyZS1zaGVldC1pbnB1dC0nICsgdGhpcy5jb250cm9sSWQgKyAnXCIgY2xhc3M9XCJqcy1pbnB1dCBzLWlucHV0IHdtbjMgc206d21uLWluaXRpYWwgYmMtYmxhY2stMzAwIGJnLXdoaXRlIGZjLWJsYWNrLTYwMFwiIHJlYWRvbmx5IC8+PC9kaXY+JylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZC1mbGV4IGpjLXNwYWNlLWJldHdlZW4gYWktY2VudGVyIG1ibjRcIj48YnV0dG9uIGNsYXNzPVwianMtY29weS1saW5rLWJ0biBzLWJ0biBzLWJ0bl9fbGluayBqcy1ncHMtdHJhY2tcIiBkYXRhLWdwcy10cmFjaz1cIicgKyB0aGlzLmNvcHlMaW5rR3BzVHJhY2tBY3Rpb24gKyAnXCI+PC9idXR0b24+PGEgaHJlZj1cIiNcIiByZWw9XCJsaWNlbnNlXCIgY2xhc3M9XCJqcy1saWNlbnNlIHMtYmxvY2stbGluayB3LWF1dG8gZC1ub25lXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PC9hPjxkaXYgY2xhc3M9XCJqcy1zb2NpYWwtY29udGFpbmVyIGQtbm9uZVwiPjwvZGl2PjwvZGl2PicpXG4gICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCQodGhpcy5lbGVtZW50KSk7XG4gICAgICAgICAgICAkc2hlZXQuZmluZCgnLmpzLWNvcHktbGluay1idG4nKS50ZXh0KF9zKCdDb3B5IGxpbmsnKSkuY2xpY2sodGhpcy5jb3B5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgJHNoZWV0LmZpbmQoJy5qcy1pbnB1dCcpLm9uKCdjb3B5JywgdGhpcy5kaWRDb3B5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgcmV0dXJuICRzaGVldDtcbiAgICAgICAgfSxcblxuICAgICAgICB3aWxsU2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTaGVldCh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaWRTaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGlucHV0ID0gdGhpcy4kc2hlZXQuZmluZCgnLmpzLWlucHV0Jyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICRpbnB1dC5mb2N1cygpLnNlbGVjdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy50cmFjaygnc2hhcmUuc2hvdycsIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29weTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy50cnlDb3B5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChfcyhcIkxpbmsgY29waWVkIHRvIGNsaXBib2FyZC5cIiksIHsgdHJhbnNpZW50VGltZW91dDogMzAwMCwgdHlwZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQuZGlkQ29weSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoX3MoXCJDb3VsZCBub3QgY29weSBsaW5rIHRvIGNsaXBib2FyZC5cIiksIHsgdHJhbnNpZW50VGltZW91dDogNTAwMCwgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaWRDb3B5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY29weSBldmVudHMgdHJpZ2dlcmVkIGJ5IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5JykuXG4gICAgICAgICAgICBpZiAoX2NvcHlpbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy50cmFjaygnc2hhcmUuY2xpY2snLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZTogNlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMDgxMDMyMi84NjAwMDBcbiAgICAgICAgdHJ5Q29weTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJHNoZWV0LmZpbmQoJy5qcy1pbnB1dCcpO1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJGlucHV0LnZhbCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGlucHV0LmZvY3VzKCkuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY29waWVkO1xuXG4gICAgICAgICAgICAgICAgX2NvcHlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcGllZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICBjb3BpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvcHlpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb3BpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBjb3VsZCBnbyB1cHN0cmVhbSB0byBTdGFja3MgdG8gYWxzbyBwcmV2ZW50IHRvZ2dsaW5nIG9uIG1ldGEgbmF2aWdhdGlvbi5cbiAgICAgICAgcHJldmVudE5hdmlnYXRpb246IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghZXZ0LmN0cmxLZXkgJiYgIWV2dC5tZXRhS2V5KSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlU2hlZXQ6IGZ1bmN0aW9uIChpbmNsdWRlU29jaWFsKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJFdmVudCgndXBkYXRlJyk7XG4gICAgICAgICAgICB2YXIgJHNoZWV0ID0gdGhpcy4kc2hlZXQ7XG4gICAgICAgICAgICAkc2hlZXQuZmluZCgnLmpzLXRpdGxlJykudGV4dCh0aGlzLmRhdGEuZ2V0KCd0aXRsZScpIHx8IF9zKCdDb3B5IGFuZCBzaGFyZSB0aGlzIGxpbms6JykpO1xuICAgICAgICAgICAgJHNoZWV0LmZpbmQoJy5qcy1zdWJ0aXRsZScpLnRleHQodGhpcy5kYXRhLmdldCgnc3VidGl0bGUnKSB8fCAnJyk7XG4gICAgICAgICAgICAkc2hlZXQuZmluZCgnLmpzLWlucHV0JykudmFsKHRoaXMuZWxlbWVudC5ocmVmKTtcblxuICAgICAgICAgICAgdmFyIGxpY2Vuc2VVcmwgPSB0aGlzLmRhdGEuZ2V0KCdsaWNlbnNlLXVybCcpO1xuICAgICAgICAgICAgdmFyIGxpY2Vuc2UgPSAkc2hlZXQuZmluZCgnLmpzLWxpY2Vuc2UnKS50b2dnbGVDbGFzcygnZC1ub25lJywgIWxpY2Vuc2VVcmwpO1xuICAgICAgICAgICAgaWYgKGxpY2Vuc2VVcmwpIHtcbiAgICAgICAgICAgICAgICBsaWNlbnNlLmF0dHIoXCJocmVmXCIsIGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGEuZ2V0KCdsaWNlbnNlLXVybCcpKSk7XG4gICAgICAgICAgICAgICAgdmFyIGxpY2Vuc2VOYW1lID0gdGhpcy5kYXRhLmdldCgnbGljZW5zZS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgbGljZW5zZS50ZXh0KGxpY2Vuc2VOYW1lKTtcbiAgICAgICAgICAgICAgICBsaWNlbnNlLmF0dHIoXCJ0aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICBfcygnVGhlIGN1cnJlbnQgbGljZW5zZSBmb3IgdGhpcyBwb3N0OiAkbGljZW5zZU5hbWUkJywgeyBsaWNlbnNlTmFtZTogbGljZW5zZU5hbWUgfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2hlZXQuZmluZCgnLmpzLXNvY2lhbC1jb250YWluZXInKS5hZGRDbGFzcygnZC1ub25lJykuZW1wdHkoKTtcblxuICAgICAgICAgICAgdmFyIHBvc3RUeXBlID0gdGhpcy5kYXRhLmdldCgncG9zdC10eXBlJyk7XG5cbiAgICAgICAgICAgIHZhciBtZXNzYWdlT3ZlcnJpZGUgPSB0aGlzLmRhdGEuZ2V0KCdtZXNzYWdlJyk7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZVNvY2lhbCAmJiAocG9zdFR5cGUgPT09ICdxdWVzdGlvbicgfHwgcG9zdFR5cGUgPT09ICdhbnN3ZXInIHx8IHBvc3RUeXBlID09PSAgJ2Fubm91bmNlbWVudCcgfHwgcG9zdFR5cGUgPT09ICdhcnRpY2xlJyB8fCBwb3N0VHlwZSA9PT0gJ2Rpc2N1c3Npb24nKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNvY2lhbENvbXBvbmVudHMgPSAodGhpcy5kYXRhLmdldCgnc29jaWFsJykgfHwgJycpLnNwbGl0KC9cXHMrLyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc29jaWFsQ29tcG9uZW50cy5pbmRleE9mKCdmYWNlYm9vaycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNvY2lhbENvbXBvbmVudChwb3N0VHlwZSwgJ0ZhY2Vib29rJywgU3ZnLkZhY2Vib29rLldpdGgoJ25hdGl2ZScpLCBfcygnU2hhcmUgb24gRmFjZWJvb2snKSwgMiwgc2hhcmUuZmFjZWJvb2ssIG1lc3NhZ2VPdmVycmlkZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNvY2lhbENvbXBvbmVudHMuaW5kZXhPZigndHdpdHRlcicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNvY2lhbENvbXBvbmVudChwb3N0VHlwZSwgJ1R3aXR0ZXInLCBTdmcuVHdpdHRlci5XaXRoKCduYXRpdmUnKSwgX3MoJ1NoYXJlIG9uIFR3aXR0ZXInKSwgMywgc2hhcmUudHdpdHRlciwgbWVzc2FnZU92ZXJyaWRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc29jaWFsQ29tcG9uZW50cy5pbmRleE9mKCdkZXZ0bycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNvY2lhbENvbXBvbmVudChwb3N0VHlwZSwgJ0RFVicsIFN2Zy5EZXZUby5XaXRoKCduYXRpdmUnKSwgX3MoJ1NoYXJlIG9uIERFVicpLCA1LCBzaGFyZS5kZXZUbywgbWVzc2FnZU92ZXJyaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gVGhpcyBtZXRob2QgYXNzdW1lcyBzb2NpYWwgY29tcG9uZW50cyB3aWxsIG9ubHkgYmUgc2hvd24gb24gcXVlc3Rpb25zIGFuZCBhbnN3ZXJzIG9yIGJ1bGxldGlucy5cbiAgICAgICAgYWRkU29jaWFsQ29tcG9uZW50OiBmdW5jdGlvbiAocG9zdFR5cGUsIHNvY2lhbE5ldHdvcmtOYW1lLCAkaW1hZ2UsIGFyaWFMYWJlbCwgc2VydmljZSwgY29uZmlndXJlLCBtZXNzYWdlT3ZlcnJpZGUpIHtcblxuICAgICAgICAgICAgdmFyIHRpdGxlID0gX3MoJ1NoYXJlIGxpbmsgdG8gdGhpcyAkcG9zdFR5cGUkIG9uICRzb2NpYWxOZXR3b3JrJCcsIHsgc29jaWFsTmV0d29yazogc29jaWFsTmV0d29ya05hbWUsIHBvc3RUeXBlOiBwb3N0VHlwZSB9KVxuXG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoJzxidXR0b24+Jywge1xuICAgICAgICAgICAgICAgICdjbGFzcyc6ICdzLWJ0biBwNCcsXG4gICAgICAgICAgICAgICAgJ3JvbGUnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWxcbiAgICAgICAgICAgIH0pLmFwcGVuZCgkaW1hZ2UpO1xuXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICcnO1xuICAgICAgICAgICAgc3dpdGNoIChwb3N0VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3F1ZXN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VPdmVycmlkZSA/IG1lc3NhZ2VPdmVycmlkZSA6ICQoXCIjcXVlc3Rpb24taGVhZGVyIGEucXVlc3Rpb24taHlwZXJsaW5rXCIpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYW5zd2VyJzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VPdmVycmlkZSA/IG1lc3NhZ2VPdmVycmlkZSA6IF9zKFwiQW5zd2VyOiAkdGl0bGUkXCIsIHsgdGl0bGU6ICQoXCIjcXVlc3Rpb24taGVhZGVyIGEucXVlc3Rpb24taHlwZXJsaW5rXCIpLnRleHQoKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYW5ub3VuY2VtZW50JzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VPdmVycmlkZSA/IG1lc3NhZ2VPdmVycmlkZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjdXNzaW9uJzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VPdmVycmlkZSA/IG1lc3NhZ2VPdmVycmlkZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlndXJlKCRidXR0b24sIHRoaXMuZWxlbWVudC5ocmVmLCBtZXNzYWdlLCAnMicpO1xuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uO1xuICAgICAgICAgICAgJGJ1dHRvblxuICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ncHMudHJhY2soJ3NoYXJlLmNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKHRoaXMuJHNoZWV0LmZpbmQoJy5qcy1zb2NpYWwtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcbiIsIlN0YWNrRXhjaGFuZ2UubG9nZ2VkSW4gPSB7fTtcblxuIiwiaW1wb3J0IHsgaW5pdFBvc3RNZW51IH0gZnJvbSAnLi4vLi4vcG9zdC9Qb3N0TWVudS5tb2QnO1xuaW1wb3J0IHtzaG93VG9hc3R9IGZyb20gXCIuLi8uLi9TaGFyZWQvaGVscGVycy5tb2RcIjtcblxuLy8gSWYgYXZhaWxhYmxlLCB0aGlzIGlzIGNhbGxlZCBmcm9tIHF1ZXN0aW9uLmluaXQoKTsgaXQgYWN0aXZhdGVzIHRoZSBxdWVzdGlvbiBmdW5jdGlvbmFsaXR5IHRoYXQgYW5vbnMgZG9uJ3QgbmVlZFxuU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5mdWxsSW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgU3RhY2tFeGNoYW5nZS52b3RlLmluaXQob3B0aW9ucy52b3Rlc0Nhc3QpO1xuICAgIFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uYmluZFN1Z2dlc3RlZEVkaXRQb3B1cExpbmtzKCk7XG4gICAgU3RhY2tFeGNoYW5nZS52b3RlX2JvdW50eS5pbml0KG9wdGlvbnMpOyAvL1RPRE86IFRoaXMgaGFzIGEgVFMgbW9kdWxlIGF0IF9TY3JpcHRzL1ZvdGVzL2JvdW50eS5tb2QudHNcblxuICAgIC8vIGRpc3BsYXlzIGVycm9yIHJlYXNvbnMgd2hlbiB1c2VycyBjYW4ndCBlZGl0IGEgcG9zdFxuICAgIGluaXRQb3N0TWVudSgpO1xuXG4gICAgU3RhY2tFeGNoYW5nZS5yb2xsYmFjay5iaW5kQnV0dG9ucygpO1xuXG4gICAgLy8gaGFuZGxlcyB0aGUgXCJ3ZSBjb252ZXJ0ZWQgeW91ciBhbnN3ZXIgdG8gYSBjb21tZW50XCIganVtcCBvbiBwYWdlIGxvYWRcbiAgICBpZiAoL14jYXV0b2NvbW1lbnQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhhc2gpKSB7XG4gICAgICAgIHZhciBsaW5rID0gJCgnLmNvbW1lbnRzLWxpbms6Zmlyc3QnKTtcbiAgICAgICAgdmFyIGNvbW1lbnRJZCA9IFwiI2NvbW1lbnQtXCIgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMTIpO1xuXG4gICAgICAgIHZhciBzaG93Tm90aWNlID1cbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0Q29tbWVudCA9ICQoY29tbWVudElkKTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KF9zKCdZb3VyIGFuc3dlciBoYXMgYmVlbiBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBhIGNvbW1lbnQuJyksIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlUmF3SHRtbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ29udGVudHM6ICQoJzxzcGFuPicpLnRleHQoX3MoJ0xlYXJuIG1vcmUnKSkuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9oZWxwL2RlbGV0ZWQtYW5zd2Vyc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dfSk7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5jb21tZW50cy5mbGFzaEhpZ2hsaWdodCh0YXJnZXRDb21tZW50KTtcbiAgICAgICAgICAgICAgICB0YXJnZXRDb21tZW50WzBdLnNjcm9sbEludG9WaWV3KHRydWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoISFvcHRpb25zLnRvdGFsQ29tbWVudENvdW50ICYmICEhb3B0aW9ucy5zaG93bkNvbW1lbnRDb3VudCAmJiBvcHRpb25zLnRvdGFsQ29tbWVudENvdW50ICE9IG9wdGlvbnMuc2hvd25Db21tZW50Q291bnQpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMubG9hZEFsbChsaW5rKS5kb25lKHNob3dOb3RpY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd05vdGljZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0SW5saW5lTmV3RmVhdHVyZVBvcG92ZXJzKCk7XG4gICAgU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0UXVlc3Rpb25QaW5GZWF0dXJlUG9wb3ZlcigpO1xufTtcblxuU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0SW5saW5lTmV3RmVhdHVyZVBvcG92ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gY2FuIG5ldmVyIGJlIGJvdGggYXQgdGhlIHNhbWUgdGltZVxuICAgIGlmICghU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0QW5kU2hvd0Nsb3NlUmVvcGVuTm90aWZpY2F0aW9uUG9wb3ZlcigpKSB7XG4gICAgICAgIFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uaW5pdFF1ZXN0aW9uRm9sbG93RmVhdHVyZVBvcG92ZXIoKTtcbiAgICB9XG59XG5cblN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uaW5pdFF1ZXN0aW9uRm9sbG93RmVhdHVyZVBvcG92ZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgJGJ0bkZvbGxvd1F1ZXN0aW9uID0gJCgnLmpzLWZvbGxvdy1xdWVzdGlvbicpO1xuICAgIHZhciAkaW50cm9Qb3BvdmVyID0gJCgnLmpzLXF1ZXN0aW9uLWZvbGxvdy1mZWF0dXJlLXBvcG92ZXInKTtcblxuICAgIGZ1bmN0aW9uIHBvcG92ZXJFeGlzdHMoKSB7IHJldHVybiAkaW50cm9Qb3BvdmVyLnBhcmVudCgpLmxlbmd0aCA+IDA7IH1cblxuICAgIGlmICgkYnRuRm9sbG93UXVlc3Rpb24ubGVuZ3RoID09IDAgfHwgIXBvcG92ZXJFeGlzdHMoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnF1ZXVlU3RhY2tzUG9wb3ZlcigkYnRuRm9sbG93UXVlc3Rpb24sIDYwKTtcblxuICAgIC8vIERlc3Ryb3kgdGhlIHBvcG92ZXIgaWYgdGhlIHVzZXIgY2xpY2tzIHRoZSBidXR0b24gaXRzZWxmIG9yIHRoZSBkaXNtaXNzIGJ1dHRvbi5cbiAgICAkaW50cm9Qb3BvdmVyLmZpbmQoJy5qcy1kaXNtaXNzJykuYWRkKCRidG5Gb2xsb3dRdWVzdGlvbilcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChwb3BvdmVyRXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICAkYnRuRm9sbG93UXVlc3Rpb24ucmVtb3ZlQXR0cihcImFyaWEtY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgJGJ0bkZvbGxvd1F1ZXN0aW9uLmF0dHIoXCJkYXRhLWNvbnRyb2xsZXJcIiwgXCJzLXRvb2x0aXBcIik7XG4gICAgICAgICAgICAgICAgJGludHJvUG9wb3Zlci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMudG9nZ2xlVXNlckZsYWdzKFN0YWNrT3ZlcmZsb3cuTW9kZWxzLlVzZXJGbGFncy5EaXNtaXNzRm9sbG93UXVlc3Rpb25JbnRyb1BvcG92ZXIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIC8vIE5ldmVyIGhpZGUgdGhpcyBwb3BvdmVyLCBsZXQgdGhlIGRpc21pc3MgY2xpY2tzIGFib3ZlIGNvbXBsZXRlbHkgZGVzdHJveSBpdC5cbiAgICAkYnRuRm9sbG93UXVlc3Rpb24ub24oJ3MtcG9wb3ZlcjpoaWRlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHBvcG92ZXJFeGlzdHMoKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0UXVlc3Rpb25QaW5GZWF0dXJlUG9wb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHBpbkxpbmsgPSAkKCcuanMtcGluLXF1ZXN0aW9uLWxpbmsnKTtcbiAgICB2YXIgc2luZ2xlQ29sbGVjdGl2ZVNsdWcgPSAkcGluTGluay5kYXRhKCdzaW5nbGUtY29sbGVjdGl2ZS1zbHVnJyk7XG4gICAgdmFyIGNvbGxlY3RpdmVTbHVnID0gJyc7XG5cbiAgICBpZiAoc2luZ2xlQ29sbGVjdGl2ZVNsdWcpIHtcbiAgICAgICAgY29sbGVjdGl2ZVNsdWcgPSBzaW5nbGVDb2xsZWN0aXZlU2x1ZztcbiAgICB9XG5cbiAgICB2YXIgcGluUXVlc3Rpb25Ub0NvbGxlY3RpdmVfY2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciAkY2xpY2tlZCA9ICQodGhpcyk7XG5cbiAgICAgICAgaWYgKCRjbGlja2VkLmlzKCc6d29ya2luZycpKSByZXR1cm47XG5cbiAgICAgICAgJGNsaWNrZWQud29ya2luZyh0cnVlKTtcblxuICAgICAgICB2YXIgcG9zdElkID0gJGNsaWNrZWQuZGF0YSgncG9zdC1pZCcpO1xuICAgICAgICB2YXIgcGluTW9kYWxVcmwgPSAkY2xpY2tlZC5kYXRhKCdhY3Rpb24tcGluLW1vZGFsLXVybCcpO1xuICAgICAgICB2YXIgdXBkYXRlUGluVXJsID0gJGNsaWNrZWQuZGF0YSgnYWN0aW9uLXVwZGF0ZS1waW4tdXJsJyk7XG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmxvYWRNb2RhbChwaW5Nb2RhbFVybClcbiAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNob29zZVNlY3Rpb24gPSAkKCcuanMtY2hvb3NlLWNvbGxlY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbGxlY3RpdmVTZWxlY3Rpb24gPSAkKCcuanMtY29sbGVjdGl2ZS1zZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGVkQ29sbGVjdGl2ZVJhZGlvID0gJCgnLmpzLWNvbGxlY3RpdmUtc2VsZWN0aW9uOmNoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbnRpbnVlQnV0dG9uID0gJCgnLmpzLWNob29zZS1jb2xsZWN0aXZlLWNvbnRpbnVlJyk7XG4gICAgICAgICAgICAgICAgdmFyICRiYWNrVG9Db2xsZWN0aXZlc0J1dHRvbiA9ICQoJy5qcy1iYWNrLXRvLWNvbGxlY3RpdmUtc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgdmFyICRwaW5uZWRQb3N0Q291bnQgPSAkKCcuanMtcGlubmVkLXBvc3QtY291bnQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkcGluVW5waW5EZXNjcmlwdGlvbiA9ICQoJy5qcy1waW4tdW5waW4tZGVzY3JpcHRpb24nKTtcblxuICAgICAgICAgICAgICAgIHZhciAkcGluVW5waW5UaXRsZSA9ICQoJy5qcy1waW4tdW5waW4tdGl0bGUnKTtcbiAgICAgICAgICAgICAgICB2YXIgJHBpbkNvbmZpcm1hdGlvblNlY3Rpb24gPSAkKCcuanMtcGluLWNvbmZpcm1hdGlvbicpO1xuICAgICAgICAgICAgICAgIHZhciAkZm9ybSA9ICQoJy5qcy1jaGFuZ2UtcGluLWZvcm0nKTtcblxuICAgICAgICAgICAgICAgIHNpbmdsZUNvbGxlY3RpdmVTbHVnID0gJGZvcm0uZGF0YSgnc2luZ2xlLWNvbGxlY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNQaW5uZWQgPSAhISRmb3JtLmRhdGEoJ2lzLXBpbm5lZCcpO1xuICAgICAgICAgICAgICAgIHZhciB1bmRvQWN0aW9uVXJsID0gJGZvcm0uZGF0YSgndW5kby1hY3Rpb24tdXJsJyk7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXN0aW9uSWRzVG9SZXBsYWNlO1xuXG4gICAgICAgICAgICAgICAgdmFyICRwb3N0QnV0dG9uID0gJCgnLmpzLXN1Ym1pdC1waW4nKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Ym1pdFVwZGF0ZShjb2xsZWN0aXZlU2x1ZywgcG9zdElkLCBwaW5BY3Rpb24sIHF1ZXN0aW9uSWRzVG9SZXBsYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3N0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzbHVnOiBjb2xsZWN0aXZlU2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RJZDogcG9zdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGluOiBwaW5BY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb25JZHNUb1JlcGxhY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0RGF0YS5yZXBsYWNlUG9zdElkcyA9IHF1ZXN0aW9uSWRzVG9SZXBsYWNlO1xuXG4gICAgICAgICAgICAgICAgICAgICQucG9zdCh1cGRhdGVQaW5VcmwsIHBvc3REYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIF8sIF9fXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxpcCB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNvbGxlY3RpdmVTbHVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Bpbm5lZCA9ICFpc1Bpbm5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RlZENvbGxlY3RpdmVSYWRpby5kYXRhKCdpcy1waW5uZWQnLCBpc1Bpbm5lZCA/IDAgOiAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJlIGFueSBzdGlsbCBwaW5uZWQ/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Bpbm5lZCA9ICRjb2xsZWN0aXZlU2VsZWN0aW9uLnRvQXJyYXkoKS5zb21lKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGVsKS5kYXRhKCdpcy1waW5uZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkbGcgPSAkKCcuanMtc3RhY2tzLW1hbmFnZWQtcG9wdXAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRsZy5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQaW5uZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwaW5MaW5rLnRleHQoX3MoJ1Bpbm5lZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwaW5MaW5rLnRleHQoX3MoJ1BpbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoZGF0YS5tZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2llbnRUaW1lb3V0OiAxNTAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDb250ZW50czogJCgnPHNwYW4+VW5kbzwvc3Bhbj4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVuZG9BY3Rpb25VcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvVG9rZW46IGRhdGEudW5kb1Rva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoXCJFcnJvciB1bmRvaW5nIHBpbiBjaGFuZ2VcIiwgeyB0eXBlOiAnZGFuZ2VyJywgZGlzbWlzc2FibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoZGF0YS5tZXNzYWdlLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KCdFcnJvciB1cGRhdGluZyBwaW4nLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24gKGRhdGEsIF8sIF9fXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGlja2VkLndvcmtpbmcoZmFsc2UpLnRyaWdnZXIoJ3VwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlUXVlc3Rpb25Ub1JlcGxhY2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcXVlc3Rpb25zID0gJCgnLmpzLXJlcGxhY2UtZXhpc3RpbmctcGluLScgKyBjb2xsZWN0aXZlU2x1Zyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHF1ZXN0aW9ucy5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRzZWxlY3RlZFF1ZXN0aW9uID0gJHF1ZXN0aW9ucy5maWx0ZXIoJzpjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2VsZWN0ZWRRdWVzdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSWRzVG9SZXBsYWNlID0gJHNlbGVjdGVkUXVlc3Rpb24ubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuICQodGhpcykuZGF0YShcInBvc3QtaWRcIik7IH0pLmdldCgpLmpvaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25JZHNUb1JlcGxhY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb25JZHNUb1JlcGxhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcG9zdEJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBvc3RCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHF1ZXN0aW9ucy5jaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlQ29sbGVjdGl2ZVNsdWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGl2ZVNsdWcgPSBzaW5nbGVDb2xsZWN0aXZlU2x1ZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUGlubmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUXVlc3Rpb25Ub1JlcGxhY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAkcGluVW5waW5UaXRsZS50ZXh0KCFpc1Bpbm5lZCA/IF9zKFwiUGluIHRoaXMgcG9zdD9cIikgOiBfcyhcIlVucGluIHRoaXMgcG9zdD9cIikpO1xuICAgICAgICAgICAgICAgICAgICAkcG9zdEJ1dHRvbi50ZXh0KCFpc1Bpbm5lZCA/IF9zKFwiUGluIHBvc3RcIikgOiBfcyhcIlVucGluIHBvc3RcIikpO1xuICAgICAgICAgICAgICAgICAgICAkcGluVW5waW5EZXNjcmlwdGlvbi50ZXh0KCFpc1Bpbm5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBfcyhcIlRoaXMgd2lsbCBhcHBlYXIgYXQgdGhlIHRvcCBvZiB0aGUgcXVlc3Rpb24gbGlzdCBmb3IgdGhlIGNvbGxlY3RpdmUuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF9zKFwiVGhpcyBwb3N0IHdpbGwgbm8gbG9uZ2VyIGFwcGVhciBhdCB0aGUgdG9wIG9mIHRoZSBxdWVzdGlvbiBsaXN0IGZvciB5b3VyIGNvbGxlY3RpdmUuXCIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkY29sbGVjdGl2ZVNlbGVjdGlvbi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RlZENvbGxlY3RpdmVSYWRpbyA9ICQoJ2lucHV0W25hbWU9Y29sbGVjdGl2ZVNlbGVjdGlvbl06Y2hlY2tlZCcsICcuanMtY2hhbmdlLXBpbi1mb3JtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25Db3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29udGludWVCdXR0b24ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aXZlU2x1ZyA9ICRzZWxlY3RlZENvbGxlY3RpdmVSYWRpby5kYXRhKCdzbHVnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQaW5uZWQgPSAhISRzZWxlY3RlZENvbGxlY3RpdmVSYWRpby5kYXRhKCdpcy1waW5uZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGlubmVkUG9zdENvdW50LnRleHQoJHNlbGVjdGVkQ29sbGVjdGl2ZVJhZGlvLmRhdGEoJ3Bpbm5lZC1jb3VudCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRpbnVlQnV0dG9uLnNldEF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRjb250aW51ZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGV4dCBmb3IgdGhlIGFwcGxpY2FibGUgYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGluVW5waW5UaXRsZS50ZXh0KCFpc1Bpbm5lZCA/IF9zKFwiUGluIHRoaXMgcG9zdD9cIikgOiBfcyhcIlVucGluIHRoaXMgcG9zdD9cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHBvc3RCdXR0b24udGV4dCghaXNQaW5uZWQgPyBfcyhcIlBpbiBwb3N0XCIpIDogX3MoXCJVbnBpbiBwb3N0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwaW5VbnBpbkRlc2NyaXB0aW9uLnRleHQoIWlzUGlubmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfcyhcIlRoaXMgd2lsbCBhcHBlYXIgYXQgdGhlIHRvcCBvZiB0aGUgcXVlc3Rpb24gbGlzdCBmb3IgdGhlIGNvbGxlY3RpdmUuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfcyhcIlRoaXMgcG9zdCB3aWxsIG5vIGxvbmdlciBhcHBlYXIgYXQgdGhlIHRvcCBvZiB0aGUgcXVlc3Rpb24gbGlzdCBmb3IgeW91ciBjb2xsZWN0aXZlLlwiKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIG5leHQgc2VjdGlvbiwgY29uZmlybWluZyBvciBjaG9vc2luZyB3aGljaCBwaW4gdG8gcmVwbGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgJHBpbkNvbmZpcm1hdGlvblNlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNob29zZVNlY3Rpb24uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHJlcGxhY2VtZW50IHNlY3Rpb24gaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtcmVwbGFjZS1xdWVzdGlvbi1zZWN0aW9uLScgKyBjb2xsZWN0aXZlU2x1ZykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXBpbi1icmVhZGNydW1icycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2lyZSB1cCBoYW5kbGVyIGZvciBzZWxlY3Rpbmcgd2hpY2ggcGluIHRvIHJlcGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVF1ZXN0aW9uVG9SZXBsYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRiYWNrVG9Db2xsZWN0aXZlc0J1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcGluQ29uZmlybWF0aW9uU2VjdGlvbi5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY2hvb3NlU2VjdGlvbi5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtcmVwbGFjZS1xdWVzdGlvbi1zZWN0aW9uLScgKyBjb2xsZWN0aXZlU2x1ZykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXBpbi1icmVhZGNydW1icycpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHBvc3RCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXRVcGRhdGUoY29sbGVjdGl2ZVNsdWcsIHBvc3RJZCwgIWlzUGlubmVkLCBxdWVzdGlvbklkc1RvUmVwbGFjZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkY2xpY2tlZC53b3JraW5nKGZhbHNlKS50cmlnZ2VyKCd1cGRhdGUnKTtcbiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGNsaWNrZWQud29ya2luZyhmYWxzZSkudHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRjbGlja2VkLndvcmtpbmcoZmFsc2UpLnRyaWdnZXIoJ3VwZGF0ZScpO1xuXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgJHBpbkxpbmsuY2xpY2socGluUXVlc3Rpb25Ub0NvbGxlY3RpdmVfY2xpY2spO1xufVxuXG5TdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmluaXRBbmRTaG93Q2xvc2VSZW9wZW5Ob3RpZmljYXRpb25Qb3BvdmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkY2xvc2VMaW5rID0gJCgnLmpzLWNsb3NlLXF1ZXN0aW9uLWxpbmsnKTtcbiAgICB2YXIgJHBvcG92ZXIgPSAkKCcuanMtY2xvc2UtcmVvcGVuLXBvcG92ZXInKTtcbiAgICBpZiAoJGNsb3NlTGluay5sZW5ndGggJiYgJHBvcG92ZXIubGVuZ3RoKSB7XG4gICAgICAgIC8vIHdpcmUgc3RpbXVsdXMgY29udHJvbGxlclxuICAgICAgICAkY2xvc2VMaW5rLmF0dHIoe1xuICAgICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiAnY2xvc2UtcmVvcGVuLXBvcG92ZXInLFxuICAgICAgICAgICAgJ2RhdGEtY29udHJvbGxlcic6ICdzLXBvcG92ZXInLFxuICAgICAgICAgICAgJ2RhdGEtcy1wb3BvdmVyLXBsYWNlbWVudCc6ICdib3R0b20nXG4gICAgICAgIH0pO1xuICAgICAgICAkY2xvc2VMaW5rLmFmdGVyKCRwb3BvdmVyKTtcblxuICAgICAgICAkcG9wb3Zlci5maW5kKCcuanMtbGVhcm4tbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5sb2FkTW9kYWwoJy9xdWVzdGlvbnMvY2xvc2UtcmVvcGVuLWV4cGxhbmF0aW9uLW1vZGFsJylcbiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRjbG9zZUxpbmsuZGF0YSgnc2hvdy1pbnRlcnN0aXRpYWwnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChlcnJvciwgeyB0eXBlOiAnZGFuZ2VyJyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgICRwb3BvdmVyLmZpbmQoJy5qcy1kaXNtaXNzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnRvZ2dsZVN0YWNrc1BvcG92ZXIoJGNsb3NlTGluaywgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgJGNsb3NlTGluay5vbigncy1wb3BvdmVyOmhpZGRlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy50b2dnbGVVc2VyRmxhZ3MoU3RhY2tPdmVyZmxvdy5Nb2RlbHMuVXNlckZsYWdzLkRpc21pc3NDbG9zZVJlb3BlblByaXZpbGVnZVBvcG92ZXIsIHRydWUpO1xuICAgICAgICAgICAgJHBvcG92ZXIucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5xdWV1ZVN0YWNrc1BvcG92ZXIoJGNsb3NlTGluaywgMTUwKTtcblxuICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiZ3BzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwiY2xvc2VfcG9wb3Zlci52aWV3XCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uYmluZFN1Z2dlc3RlZEVkaXRQb3B1cExpbmtzID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy5qcy1wb3N0LW1lbnUgLmpzLWVkaXQtcGVuZGluZycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnVuYmluZCgnY2xpY2snKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkU3VnZ2VzdGVkRWRpdFBvcHVwKCQodGhpcykpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxvYWRTdWdnZXN0ZWRFZGl0UG9wdXAoJGVkaXRMaW5rKSB7XG4gICAgICAgIHZhciAkbWVudSA9ICRlZGl0TGluay5jbG9zZXN0KCcuanMtcG9zdC1tZW51Jyk7XG4gICAgICAgIHZhciBwb3N0SWQgPSAkbWVudS5hdHRyKCdkYXRhLXBvc3QtaWQnKTtcbiAgICAgICAgdmFyICRjb250YWluZXIgPSAkbWVudS5maW5kKCcuanMtbWVudS1wb3B1cC1jb250YWluZXInKTtcblxuICAgICAgICBpZiAoJGVkaXRMaW5rLmRhdGEoJ3dvcmtpbmcnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJGVkaXRMaW5rXG4gICAgICAgICAgICAuZGF0YSgnd29ya2luZycsIHRydWUpXG4gICAgICAgICAgICAubG9hZFBvcHVwKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmV2aWV3L3N1Z2dlc3RlZC1lZGl0LXBvcHVwLycgKyBwb3N0SWQsXG4gICAgICAgICAgICAgICAgbGlnaHRib3g6IHRydWUsXG4gICAgICAgICAgICAgICAgZG9udFNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAkY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IF9zKCdVbmFibGUgdG8gbG9hZCBzdWdnZXN0ZWQgZWRpdCAtIHBsZWFzZSB0cnkgYWdhaW4nKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoJHBvcHVwLCAkbGlnaHRib3gpIHtcbiAgICAgICAgICAgICAgICAkbGlnaHRib3guZmFkZUluKCdmYXN0Jyk7XG5cbiAgICAgICAgICAgICAgICAkcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnaGVpZ2h0JywgJzYwMHB4JykgLy8gc2luY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBwb3B1cCBhcmUgYWpheCBsb2FkZWQsIGdpdmUgaXQgYSBmYWtlIGhlaWdodCB3aGlsZVxuICAgICAgICAgICAgICAgICAgICAuY2VudGVyKClcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnaGVpZ2h0JywgJycpIC8vIG5vdyB0aGF0IHdlJ3ZlIGNlbnRlcmVkIGl0LCByZW1vdmUgdGhlIGZha2UgaGVpZ2h0IHdlIGp1c3QgZ2F2ZSBpdFxuICAgICAgICAgICAgICAgICAgICAuZmFkZUluKCdmYXN0Jyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGVkaXRMaW5rLnJlbW92ZURhdGEoJ3dvcmtpbmcnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgYmluZEZldGNoVm90ZUNvdW50cyxcbiAgICBib29rbWFya19pbml0LFxuICAgIGRlbGV0ZV9pbml0LFxuICAgIGVsZWN0aW9uX2luaXQsXG4gICAgZm9sbG93X2luaXQsXG4gICAgZ2V0UG9zdElkLFxuICAgIGhpZ2hsaWdodEV4aXN0aW5nVm90ZXMsXG4gICAgaW5pdCxcbiAgICBub3JtYWxpemVQb3N0U2NvcmUsXG4gICAgdm90ZV9kb3duLFxuICAgIHZvdGVfaW5pdCxcbiAgICB2b3RlX3VwLFxuICAgIHN1Ym1pdFxufSBmcm9tIFwiLi8wNF9Wb3RlLm1vZFwiO1xuaW1wb3J0IHsgVm90ZVR5cGVJZCB9IGZyb20gXCIuLi8uLi9fRGVjbGFyYXRpb25zL1R5cGVJZEVudW1zXCI7XG5cblN0YWNrRXhjaGFuZ2Uudm90ZSA9IHtcbiAgICBpbml0OiBpbml0LFxuICAgIGVsZWN0aW9uX2luaXQ6IGVsZWN0aW9uX2luaXQsXG4gICAgdm90ZV91cDogdm90ZV91cCxcbiAgICB2b3RlX2Rvd246IHZvdGVfZG93bixcbiAgICBmb2xsb3dfaW5pdDogZm9sbG93X2luaXQsXG4gICAgYm9va21hcmtfaW5pdDogYm9va21hcmtfaW5pdCxcbiAgICB2b3RlX2luaXQ6IHZvdGVfaW5pdCxcbiAgICBkZWxldGVfaW5pdDogZGVsZXRlX2luaXQsXG4gICAgYmluZEZldGNoVm90ZUNvdW50czogYmluZEZldGNoVm90ZUNvdW50cyxcbiAgICBoaWdobGlnaHRFeGlzdGluZ1ZvdGVzOiBoaWdobGlnaHRFeGlzdGluZ1ZvdGVzLFxuICAgIG5vcm1hbGl6ZVBvc3RTY29yZTogbm9ybWFsaXplUG9zdFNjb3JlLFxuICAgIHN1Ym1pdDogc3VibWl0LFxuICAgIHZvdGVUeXBlSWRzOiBWb3RlVHlwZUlkLFxuICAgIGdldFBvc3RJZDogZ2V0UG9zdElkLFxufTtcbiIsImltcG9ydCB7XG4gICAgY2xvc2VBZnRlckxvYWRMaXN0T3JpZ2luYWxzLFxuICAgIGNsb3NlSW5pdER1cGxpY2F0ZVN1YlBhbmUsXG4gICAgY2xvc2VfdXBkYXRlQ2xvc2VMaW5rQ291bnQsXG4gICAgc2hvd0ZhbmN5UmVvcGVuQ29uZmlybWF0aW9uLFxuICAgIGluaXRWb3RlVG9DbG9zZUFuZEZsYWdcbn0gZnJvbSAnLi8wNV9Wb3RlVG9DbG9zZUFuZEZsYWcubW9kJ1xuXG5cbi8vIFRPRE8gb25jZSBhbGwgcmVmZXJlbmNlcyB0byBgdm90ZV9jbG9zaW5nQW5kRmxhZ2dpbmdgIGhhdmUgYmVlbiBjb252ZXJ0ZWQgdG8gbW9kdWxlc1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9fRGVjbGFyYXRpb25zL1N0YWNrRXhjaGFuZ2VcIikuU3RhY2tFeGNoYW5nZVZvdGVDbG9zaW5nQW5kRmxhZ2dpbmd9ICovXG5TdGFja0V4Y2hhbmdlLnZvdGVfY2xvc2luZ0FuZEZsYWdnaW5nID0ge1xuICAgIGNsb3NlX2FmdGVyTG9hZExpc3RPcmlnaW5hbHM6IGNsb3NlQWZ0ZXJMb2FkTGlzdE9yaWdpbmFscyxcbiAgICBjbG9zZV9pbml0RHVwbGljYXRlU3ViUGFuZTogY2xvc2VJbml0RHVwbGljYXRlU3ViUGFuZSxcbiAgICB1cGRhdGVDbG9zZUxpbmtDb3VudDogY2xvc2VfdXBkYXRlQ2xvc2VMaW5rQ291bnQsXG4gICAgc2hvd1Jlb3BlbkNvbmZpcm1hdGlvbjogc2hvd0ZhbmN5UmVvcGVuQ29uZmlybWF0aW9uLFxuICAgIGluaXQ6IGluaXRWb3RlVG9DbG9zZUFuZEZsYWdcbn1cbiIsImltcG9ydCB7IENvbW1lbnRVaUZsYWcsIHN1Ym1pdENvbW1lbnRWb3RlLCBwb3N0VW5kZWxldGVDb21tZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1lbnRzL2NvbW1lbnRzLWFjdGl2ZS5tb2RcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZU5hbWUgfSBmcm9tIFwiLi4vLi4vY29tbWVudHMvY29tbWVudHMtdGFiLWNvbXBsZXRlci5tb2RcIjtcbmltcG9ydCB7IEtFWV9DT0RFIH0gZnJvbSAnLi4vY29uc3RhbnRzLm1vZCc7XG5cbi8vIGFkZCBhY3RpdmUgZnVuY3Rpb25hbGl0eSB0byBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGF1dG9TaG93Q29tbWVudEhlbHAsXG4gICAgICAgIHN0YWNrRXhjaGFuZ2VDb21tZW50cyA9IFN0YWNrRXhjaGFuZ2UuY29tbWVudHMsXG4gICAgICAgIHVpRm9yUG9zdCA9IHN0YWNrRXhjaGFuZ2VDb21tZW50cy51aUZvclBvc3Q7XG5cbiAgICBzdGFja0V4Y2hhbmdlQ29tbWVudHMuZXh0ZW5kUG9zdFVpKHtcblxuICAgICAgICBlbnN1cmVJbnB1dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGpGb3JtID0gdGhpcy5qRGl2LmZpbmQoJ2Zvcm1baWRePVwiYWRkLWNvbW1lbnQtXCJdJyksXG4gICAgICAgICAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChqRm9ybS5jaGlsZHJlbigpLmxlbmd0aCAmJiAoakZvcm0uZGF0YSgndGVtcGxhdGUtaW5jbHVkZWQnKSAhPT0gdHJ1ZSB8fCBqRm9ybS5kYXRhKCdpbml0aWFsaXplZCcpICE9IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgakZvcm0uYWRkKGpGb3JtLnByZXYoKSkucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7Ly8gcHJldigpIGlzIHRoZSBcImRpc2N1c3Npb25cIiBzdHVmZlxuICAgICAgICAgICAgICAgIHJldHVybiBqRm9ybS5maW5kKCcuanMtY29tbWVudC10ZXh0LWlucHV0Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RVaTogdGhhdCxcbiAgICAgICAgICAgICAgICAgICAgakZvcm06IGpGb3JtLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBfcyhcIkFkZCBjb21tZW50XCIpLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFNZXNzYWdlSHRtbDogdGhpcy5qRGl2LmZpbmQoJy5qcy1hZGQtY29tbWVudC1tZXNzYWdlJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgeyB0aGF0LnN1Ym1pdE5ld0NvbW1lbnQoKTsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlckNvbW1lbnRGb3JtKHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSAkakZvcm0ge0pRdWVyeX0gdGhlIGZvcm0gdGhlIHJlc3VsdCB0ZXh0IGlucHV0IHdpbGwgYmUgYXBwZW5kZWQgdG9cbiAgICAgICAgICogQHJldHVybnMgalF1ZXJ5IHdpdGggdGV4dGFyZWFcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlclRleHRJbnB1dDogZnVuY3Rpb24gKCRqRm9ybSkge1xuICAgICAgICAgICAgdmFyICRqVGV4dCA9ICQoJzx0ZXh0YXJlYSBuYW1lPVwiY29tbWVudFwiIGNsYXNzPVwicy10ZXh0YXJlYSBqcy1jb21tZW50LXRleHQtaW5wdXRcIj48L3RleHRhcmVhPicpO1xuICAgICAgICAgICAgJGpUZXh0LmF0dHIoJ3Jvd3MnLCAzKS5hdHRyKCdjb2xzJywgNjgpO1xuICAgICAgICAgICAgcmV0dXJuICRqVGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBzYXZlRWRpdGluZ0NvbW1lbnRzOiBmdW5jdGlvbiAoc2tpcElkKSB7XG4gICAgICAgICAgICB2YXIgZWRpdGluZyA9IHRoaXMuZWRpdGluZ0NvbW1lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLmpEaXYuZmluZChcIi5qcy1lZGl0LWNvbW1lbnQtZm9ybTp2aXNpYmxlXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB1aSA9IHVpRm9yQ29tbWVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAodWkuY29tbWVudElkID09PSBza2lwSWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpLmZpbmQoXCJ0ZXh0YXJlYVwiKTtcbiAgICAgICAgICAgICAgICBlZGl0aW5nLnB1c2goW3VpLmNvbW1lbnRJZCwgaW5wdXQudmFsKCldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlc3RvcmVFZGl0aW5nQ29tbWVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5lZGl0aW5nQ29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkZGl2ID0gdGhpcy5qRGl2O1xuICAgICAgICAgICAgJC5lYWNoKHRoaXMuZWRpdGluZ0NvbW1lbnRzLCBmdW5jdGlvbiAoaW5kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudElkID0gdmFsWzBdO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gdmFsWzFdO1xuICAgICAgICAgICAgICAgIHZhciBqQ29tbWVudCA9ICRkaXYuZmluZChcIiNjb21tZW50LVwiICsgY29tbWVudElkKTtcbiAgICAgICAgICAgICAgICBpZiAoakNvbW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpRm9yQ29tbWVudChqQ29tbWVudCkuZWRpdCh0ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmVkaXRpbmdDb21tZW50cztcbiAgICAgICAgfSxcblxuICAgICAgICBjb21tZW50c1Nob3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuakRpdi5maW5kKFwiZm9ybVtpZF49J2FkZC1jb21tZW50LSddIC5qcy1jb21tZW50LXRleHQtaW5wdXQ6Zm9jdXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5jb21tZW50cy50YWJDb21wbGV0ZXIuaW5pdChpbnB1dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdDb21tZW50c0NvdW50KDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHVzaW5nIElFNywgZm9yIGhlYXZlbidzIHNha2UhXG4gICAgICAgICAgICAgICAgLy8gKG5vIDpmb2N1cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzdWJtaXROZXdDb21tZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgakZvcm0gPSB0aGlzLmpEaXYuZmluZCgnZm9ybVtpZF49XCJhZGQtY29tbWVudC1cIl0nKSxcbiAgICAgICAgICAgICAgICBqVHh0ID0gakZvcm0uZmluZCgnLmpzLWNvbW1lbnQtdGV4dC1pbnB1dCcpLFxuICAgICAgICAgICAgICAgIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoakZvcm0uaXMoJzp3b3JraW5nJykpIHJldHVybjtcbiAgICAgICAgICAgIGpGb3JtLndvcmtpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzaG91bGRQZXJzaXN0Rm9ybSA9IGpGb3JtLmRhdGEoXCJwZXJzaXN0LWZvcm1cIik7XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICdjb21tZW50JzogZ2V0T3JTZXRJbnB1dFZhbHVlKGpUeHQpLFxuICAgICAgICAgICAgICAgICdma2V5JzogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFsdGVyQWRkRWRpdERhdGFCZWZvcmVTdWJtaXQoZGF0YSk7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUlucHV0ID0gakZvcm0uZmluZCgnI2pzLXNlbGVjdGVkLXRlbXBsYXRlLWlkJyk7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGVJbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkYXRhWydoYXNVc2VyRWRpdGVkVGVtcGxhdGUnXSA9ICQoXCIuY29tbWVudC1mb3JtLWV4cGFuZGVkXCIpLmRhdGEoXCJoYXMtdXNlci1lZGl0ZWQtdGVtcGxhdGVcIik7XG4gICAgICAgICAgICAgICAgZGF0YVsnY29tbWVudFRlbXBsYXRlSWQnXSA9IHRlbXBsYXRlSW5wdXQudmFsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJy9wb3N0cy8nICsgdGhpcy5wb3N0SWQgKyAnL2NvbW1lbnRzJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH0sIF9zKFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgYWRkaW5nIHRoaXMgY29tbWVudFwiKSwgakZvcm0pXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0T3JTZXRJbnB1dFZhbHVlKGpUeHQsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgalR4dC5rZXl1cCgpLmJsdXIoKTsgLy8gcmVzZXRzIHRoZSBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5lbmFibGVTdWJtaXRCdXR0b24oakZvcm0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFBlcnNpc3RGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqRm9ybS5hZGQoakZvcm0ucHJldigpKS5hZGRDbGFzcyhcImQtbm9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqRm9ybS5maW5kKCcubWVzc2FnZS1kaXNtaXNzYWJsZScpLmZhZGVPdXRBbmRSZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zaG93Q29tbWVudHMoaHRtbCwgbnVsbCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmpDb21tZW50c0xpbmtDb250YWluZXIuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCdjb21tZW50JywgdGhhdC5wb3N0SWQpO1xuICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZW5hYmxlU3VibWl0QnV0dG9uKGpGb3JtKTtcbiAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBqRm9ybS53b3JraW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja0Rpc2N1c3Npb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBqVHJpZ2dlciA9IHRoaXMuakRpdi5maW5kKFwiLmlzLWNvbW1lbnQtZGlzY3Vzc2lvblwiKSxcbiAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCFqVHJpZ2dlci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBqVHJpZ2dlci5yZW1vdmUoKTtcblxuICAgICAgICAgICAgdmFyIGpGb3JtQ29udGFpbmVyID0gdGhpcy5qRGl2LmZpbmQoXCIuY29tbWVudC1mb3JtXCIpO1xuICAgICAgICAgICAgaWYgKGpGb3JtQ29udGFpbmVyLmZpbmQoXCIuZGlzY3Vzc2lvbi1pbmZvXCIpLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBkaXNjdXNzaW9uaW5mbyA9ICQoXCI8ZGl2IHN0eWxlPSdtYXJnaW46MTJweCAwIDNweDsgZm9udC13ZWlnaHQ6Ym9sZCcgY2xhc3M9J2Rpc2N1c3Npb24taW5mbyc+XCIgK1xuICAgICAgICAgICAgICAgIF9zKFwiUGxlYXNlIGF2b2lkIGV4dGVuZGVkIGRpc2N1c3Npb25zIGluIGNvbW1lbnRzLiBXb3VsZCB5b3UgbGlrZSB0byAkYVN0YXJ0JGF1dG9tYXRpY2FsbHkgbW92ZSB0aGlzIGRpc2N1c3Npb24gdG8gY2hhdD9cIixcbiAgICAgICAgICAgICAgICAgICAgeyBhU3RhcnQ6IFwiPGEgaHJlZj0nIyc+XCIgfSkgKyBcIjwvYT48L2Rpdj5cIilcbiAgICAgICAgICAgICAgICAuZmluZChcImFcIikuY2xpY2soZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnVuYmluZChcImNsaWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGF0LmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9wb3N0cy9cIiArIHRoYXQucG9zdElkICsgXCIvbW92ZS1kaXNjdXNzaW9uLXRvLWNoYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCJcbiAgICAgICAgICAgICAgICAgICAgfSwgX3MoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBtb3ZlIHRoZSBkaXNjdXNzaW9uIHRvIGNoYXRcIiksIGpGb3JtQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93RXJyb3JNZXNzYWdlKGpGb3JtQ29udGFpbmVyLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuZW5kKCkucHJlcGVuZFRvKGpGb3JtQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGpUcmlnZ2VyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBDb21tZW50VWkoY29tbWVudElkLCBqQ29tbWVudCkge1xuICAgICAgICB0aGlzLmNvbW1lbnRJZCA9IGNvbW1lbnRJZDtcbiAgICAgICAgdGhpcy5qQ29tbWVudCA9IGpDb21tZW50O1xuICAgICAgICB0aGlzLnBvc3RVaSA9IHVpRm9yUG9zdChqQ29tbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IH07XG5cbiAgICAvLyBIQUNLOiB0aGVzZSB3aWxsIGFsbCBnZXQgaW1tZWRpYXRlbHkgZXh0ZW5kZWQgKGFuZCB0aGUgZXh0ZW5zaW9ucyBzYXZlZCksIHNvIHRoYXQgcmV2aWV3L21vZCB0b29scyBjYW4gYWRkIGN1c3RvbSBmdW5jdGlvbmFsaXR5XG4gICAgQ29tbWVudFVpLnByb3RvdHlwZSA9IHtcbiAgICAgICAgdW5kb1ZvdGVVcDogbm9vcCxcbiAgICAgICAgdm90ZVVwOiBub29wLFxuICAgICAgICBcImRlbGV0ZVwiOiBub29wLFxuICAgICAgICB1bmRlbGV0ZTogbm9vcCxcbiAgICAgICAgZmxhZzogbm9vcCxcbiAgICAgICAgc3VibWl0RmxhZzogbm9vcCxcbiAgICAgICAgZWRpdDogbm9vcCxcbiAgICAgICAgY2FuY2VsRWRpdDogbm9vcCxcbiAgICAgICAgc3VibWl0RWRpdDogbm9vcCxcbiAgICAgICAgc3VibWl0Vm90ZTogbm9vcCxcbiAgICAgICAgcmVuZGVyU2NvcmU6IG5vb3AsXG4gICAgICAgIHNob3dFZGl0czogbm9vcFxuICAgIH07XG5cbiAgICB2YXIgZXh0ZW5kQ29tbWVudFVpT2JqO1xuICAgIGZ1bmN0aW9uIGV4dGVuZENvbW1lbnRVaShvYmosIGlzVGVtcCkge1xuICAgICAgICBpZiAoIWlzVGVtcCkge1xuICAgICAgICAgICAgZXh0ZW5kQ29tbWVudFVpT2JqID0gb2JqO1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9IG9iaiB8fCBleHRlbmRDb21tZW50VWlPYmogfHwge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKVxuICAgICAgICAgICAgICAgIENvbW1lbnRVaS5wcm90b3R5cGVba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmRDb21tZW50VWkoe1xuXG4gICAgICAgIHVuZG9Wb3RlVXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5pblJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNvbmZpcm0oX3MoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gdW5kbyB5b3VyIHVwdm90ZSBvbiB0aGlzIGNvbW1lbnQ/IFlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIHVwdm90ZSBpdCBhZ2Fpbi5cIikpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYXJyb3cgPSB0aGlzLmpDb21tZW50LmZpbmQoXCIuY29tbWVudC11cC1vblwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImpzLWNvbW1lbnQtdXAgY29tbWVudC11cC1vZmZcIilcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJjb21tZW50LXVwLW9uIGpzLWNvbW1lbnQtdXAtdW5kb1wiKSxcbiAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgLyogemVybyBpcyB1bmRvbW9kKi9cbiAgICAgICAgICAgIHRoaXMuc3VibWl0Vm90ZSgwKS5kb25lKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFqc29uLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyb3cucmVtb3ZlQ2xhc3MoXCJqcy1jb21tZW50LXVwIGNvbW1lbnQtdXAtb2ZmXCIpLmFkZENsYXNzKFwiY29tbWVudC11cC1vblwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGF0LnJlbmRlclNjb3JlKGpzb24uTmV3U2NvcmUpO1xuICAgICAgICAgICAgICAgIGFycm93LnByb3AoJ3RpdGxlJywgX3MoXCJUaGlzIGNvbW1lbnQgYWRkcyBzb21ldGhpbmcgdXNlZnVsIHRvIHRoZSBwb3N0XCIpKS5hdHRyKCdhcmlhLWxhYmVsJywgX3MoJ1Vwdm90ZSBjb21tZW50JykpO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3VuZG9VcFZvdGVDb21tZW50JywgdGhhdC5wb3N0VWkucG9zdElkKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGpxWEhSKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpxWEhSLnN0YXR1cyA9PT0gNDA5KSAvLyB0aGUgdXNlciB3YXMgdGhyb3R0bGVkIGJlY2F1c2UgdGhleSB1bi12b3RlZCB0b28gZmFzdDsgYWxsb3cgcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgYXJyb3cuYWRkQ2xhc3MoXCJqcy1jb21tZW50LXVwLXVuZG9cIik7XG5cbiAgICAgICAgICAgICAgICBhcnJvdy5yZW1vdmVDbGFzcyhcImpzLWNvbW1lbnQtdXBcIikuYWRkQ2xhc3MoXCJjb21tZW50LXVwLW9uXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICB2b3RlVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFycm93ID0gdGhpcy5qQ29tbWVudC5maW5kKFwiLmpzLWNvbW1lbnQtdXBcIikuYWRkQ2xhc3MoXCJjb21tZW50LXVwLW9uXCIpLnJlbW92ZUNsYXNzKFwianMtY29tbWVudC11cFwiKSxcbiAgICAgICAgICAgICAgICB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zdWJtaXRWb3RlKDIpLmRvbmUoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWpzb24uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBhcnJvdy5yZW1vdmVDbGFzcyhcImNvbW1lbnQtdXAtb25cIikuYWRkQ2xhc3MoXCJqcy1jb21tZW50LXVwXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFycm93LnJlbW92ZUNsYXNzKFwiY29tbWVudC11cC1vZmZcIik7XG4gICAgICAgICAgICAgICAgYXJyb3cuYWRkQ2xhc3MoXCJqcy1jb21tZW50LXVwLXVuZG9cIik7XG4gICAgICAgICAgICAgICAgdGhhdC5yZW5kZXJTY29yZShqc29uLk5ld1Njb3JlKTtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBfcyhcIllvdeKAmXZlIHZvdGVkIGZvciB0aGlzIGFzIGEgdXNlZnVsIGNvbW1lbnQgKGNsaWNrIGFnYWluIHRvIHVuZG8pXCIpO1xuICAgICAgICAgICAgICAgIGFycm93LnByb3AoJ3RpdGxlJywgdGl0bGUpLmF0dHIoJ2FyaWEtbGFiZWwnLCB0aXRsZSk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndXBWb3RlQ29tbWVudCcsIHRoYXQucG9zdFVpLnBvc3RJZCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhcnJvdy5yZW1vdmVDbGFzcyhcImNvbW1lbnQtdXAtb25cIikuYWRkQ2xhc3MoXCJqcy1jb21tZW50LXVwXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgXCJkZWxldGVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5pblJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRjb21tZW50ID0gdGhpcy5qQ29tbWVudDtcbiAgICAgICAgICAgIHZhciAkY29tbWVudENvbnRhaW5lciA9IHRoaXMucG9zdFVpLmpEaXY7XG4gICAgICAgICAgICB2YXIgY29tbWVudElkID0gdGhpcy5jb21tZW50SWQ7XG4gICAgICAgICAgICBpZiAoY29uZmlybShfcyhcIlJlYWxseSBkZWxldGUgdGhpcyBjb21tZW50P1wiKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdFZvdGUoMTApLmRvbmUoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnQucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkY29tbWVudENvbnRhaW5lci5maW5kKCcuanMtY29tbWVudCwgdGV4dGFyZWE6dmlzaWJsZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50Q29udGFpbmVyLmFkZENsYXNzKFwiZG5vXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudENvbnRhaW5lci50cmlnZ2VyKCdjb21tZW50OmRlbGV0ZWQnLCBbK2NvbW1lbnRJZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5kZWxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciAkY29tbWVudCA9IHRoaXMuakNvbW1lbnQ7XG4gICAgICAgICAgICB2YXIgY29tbWVudElkID0gdGhpcy5jb21tZW50SWQ7XG4gICAgICAgICAgICB2YXIgcG9zdElkID0gdGhpcy5wb3N0VWkucG9zdElkO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlybShfcyhcIlJlYWxseSB1bmRlbGV0ZSB0aGlzIGNvbW1lbnQ/XCIpKSkge1xuICAgICAgICAgICAgICAgIHBvc3RVbmRlbGV0ZUNvbW1lbnQocG9zdElkLCBjb21tZW50SWQpXG4gICAgICAgICAgICAgICAgICAgIC5kb25lKChzaW5nbGVDb21tZW50SHRtbCkgPT4gJGNvbW1lbnQucmVwbGFjZVdpdGgoc2luZ2xlQ29tbWVudEh0bWwpKVxuICAgICAgICAgICAgICAgICAgICAuZmFpbCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KF9zKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gdW5kZWxldGUnKSwgeyB0eXBlOiAnZGFuZ2VyJyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmxhZzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBDb21tZW50VWlGbGFnKHRoaXMuakNvbW1lbnQsIHRoaXMuY29tbWVudElkLCB0aGlzLnBvc3RVaSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZWRpdDogZnVuY3Rpb24gKHRleHRPdmVycmlkZSwgbm9Gb2N1cykge1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5pblJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRjb21tZW50ID0gdGhpcy5qQ29tbWVudDtcbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICRjb21tZW50LmZpbmRFeGNsdWRlKCcuanMtZWRpdC1jb21tZW50LWZvcm0nLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpXG4gICAgICAgICAgICB2YXIgJHRleHQgPSAkZm9ybS5maW5kKCcuanMtY29tbWVudC10ZXh0LWlucHV0Jyk7XG4gICAgICAgICAgICB2YXIgY29tbWVudFVpID0gdGhpcztcbiAgICAgICAgICAgIHZhciBwb3N0VWkgPSBjb21tZW50VWkucG9zdFVpO1xuXG4gICAgICAgICAgICAvLyBJZiBlZGl0IHdhcyBjYWxsZWQgd2l0aCBhbiBldmVudCwgaWdub3JlIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dE92ZXJyaWRlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRleHRPdmVycmlkZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiBpZiBlZGl0IGlzIGNhbGxlZCBmcm9tIHJlc3RvcmVFZGl0aW5nQ29tbWVudHNcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tZW50IGVkaXRpbmcgdGltZSBpcyBvdmVyXG4gICAgICAgICAgICBpZiAoISRmb3JtLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICRjb21tZW50LmZpbmRFeGNsdWRlKCcuanMtY29tbWVudC1lZGl0LWhpZGUnLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICRjb21tZW50LmZpbmRFeGNsdWRlKCcuanMtY29tbWVudC10ZXh0LWFuZC1mb3JtJywgJy5qcy1jaGlsZC1jb21tZW50cy1jb250YWluZXInKS5hZGRDbGFzcygnY29tbWVudC1mb3JtJyk7XG4gICAgICAgICAgICAkZm9ybS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG5cbiAgICAgICAgICAgIC8vIE9ubHkgY29uZmlndXJlIHRoZSBlZGl0b3IgaWYgaXQncyBub3QgcHJlc2VudCAoaW4gY2FzZSBgZWRpdGAgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzKVxuICAgICAgICAgICAgaWYgKCEkdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBwb3N0VWk6IHBvc3RVaSxcbiAgICAgICAgICAgICAgICAgICAgakZvcm06ICRmb3JtLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBfcygnU2F2ZSBlZGl0cycpLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgeyBjb21tZW50VWkuc3VibWl0RWRpdCgpOyB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkdGV4dCA9IHJlbmRlckNvbW1lbnRGb3JtKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgZ2V0T3JTZXRJbnB1dFZhbHVlKCR0ZXh0LCB0ZXh0T3ZlcnJpZGUgfHwgJGZvcm0uZGF0YSgnbWFya2Rvd24nKSB8fCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICR0ZXh0LnRyaWdnZXIoJ2NoYXJDb3VudGVyVXBkYXRlJykudHJpZ2dlcignZWRpdFJlYWR5Jyk7XG5cbiAgICAgICAgICAgIGlmICghbm9Gb2N1cykge1xuICAgICAgICAgICAgICAgICR0ZXh0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuaGVscGVycy5oYXNDb250ZW50RWRpdGFibGUoJHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5wbGFjZUNhcmV0QXRFbmQoJHRleHRbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjYW5jZWxFZGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGNvbW1lbnQgPSB0aGlzLmpDb21tZW50O1xuICAgICAgICAgICAgLy8gaGFuZGxlIGJvdGggY29tbWVudHMgYW5kIHJlcGxpZXNcbiAgICAgICAgICAgIHZhciAkZm9ybSA9ICRjb21tZW50LmZpbmRFeGNsdWRlKCcuanMtZWRpdC1jb21tZW50LWZvcm0sLmpzLXJlcGx5LWNvbW1lbnQtZm9ybScsICcuanMtY2hpbGQtY29tbWVudHMtY29udGFpbmVyJylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJGNvbW1lbnQuZmluZEV4Y2x1ZGUoJy5qcy1jb21tZW50LWVkaXQtaGlkZScsICcuanMtY2hpbGQtY29tbWVudHMtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJGNvbW1lbnQuZmluZEV4Y2x1ZGUoJy5qcy1jb21tZW50LXRleHQtYW5kLWZvcm0nLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdjb21tZW50LWZvcm0nKTtcbiAgICAgICAgICAgICRjb21tZW50LmZpbmQoJy5qcy1jb21tZW50LXJlcGx5JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJGZvcm0uY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICRmb3JtLnVuYmluZCgnc3VibWl0Jyk7XG4gICAgICAgICAgICAkY29tbWVudC5maW5kRXhjbHVkZSgnLmpzLWNvbW1lbnQtZWRpdC5qcy1yZXR1cm4tZm9jdXMnLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdqcy1yZXR1cm4tZm9jdXMnKS5mb2N1cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN1Ym1pdEVkaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciAkY29tbWVudCA9IHRoaXMuakNvbW1lbnQ7XG4gICAgICAgICAgICB2YXIgJGZvcm0gPSAkY29tbWVudC5maW5kRXhjbHVkZSgnLmpzLWVkaXQtY29tbWVudC1mb3JtJywgJy5qcy1jaGlsZC1jb21tZW50cy1jb250YWluZXInKTtcbiAgICAgICAgICAgIHZhciAkdGV4dCA9ICRmb3JtLmZpbmQoJy5qcy1jb21tZW50LXRleHQtaW5wdXQnKTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gZ2V0T3JTZXRJbnB1dFZhbHVlKCR0ZXh0KTtcbiAgICAgICAgICAgIHZhciBjb21tZW50SWQgPSB0aGlzLmNvbW1lbnRJZDtcbiAgICAgICAgICAgIHZhciBwb3N0VWkgPSB0aGlzLnBvc3RVaTtcbiAgICAgICAgICAgIHZhciByZXR1cm5Gb2N1cyA9ICRjb21tZW50LmZpbmRFeGNsdWRlKCcuanMtY29tbWVudC1lZGl0LmpzLXJldHVybi1mb2N1cycsICcuanMtY2hpbGQtY29tbWVudHMtY29udGFpbmVyJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIHZhciBkYXRhID0geyAnY29tbWVudCc6IHRleHQsICdma2V5JzogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSB9O1xuXG4gICAgICAgICAgICBwb3N0VWkuYWx0ZXJBZGRFZGl0RGF0YUJlZm9yZVN1Ym1pdChkYXRhKTtcblxuICAgICAgICAgICAgcG9zdFVpLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvcG9zdHMvY29tbWVudHMvJyArIGNvbW1lbnRJZCArICcvZWRpdCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9LCBfcyhcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGVkaXRpbmcgdGhpcyBjb21tZW50XCIpLCAkZm9ybSlcbiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICAkdGV4dC52YWwoJycpLmtleXVwKCkuYmx1cigpOyAvLyByZXNldHMgdGhlIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmVuYWJsZVN1Ym1pdEJ1dHRvbigkZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RVaS5zaG93Q29tbWVudHMoaHRtbCwgY29tbWVudElkLCBmYWxzZSwgdHJ1ZSk7IC8vIG5vdGUgdGhhdCB0aGlzIGFsc28gcmVtb3ZlcyB0aGUgZWRpdCBmb3JtXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaW5mb3JtIHRoZSBtb2RlcmF0b3IgYmFyLCBpZiBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgIHBvc3RVaS5qRGl2LnRyaWdnZXIoJ2NvbW1lbnQ6ZWRpdGVkJywgWytjb21tZW50SWQsIGh0bWxdKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgJGVkaXRlZENvbW1lbnQgPSBwb3N0VWkuakRpdi5maW5kKCcuanMtY29tbWVudFtkYXRhLWNvbW1lbnQtaWQ9JyArIGNvbW1lbnRJZCArICddJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5Gb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVkaXRlZENvbW1lbnQuZmluZCgnLmpzLWNvbW1lbnQtZWRpdCcpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmVuYWJsZVN1Ym1pdEJ1dHRvbigkZm9ybSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBsb2FkcyB0aGUgcmVwbHkgZm9ybVxuICAgICAgICBsb2FkUmVwbHk6IGZ1bmN0aW9uICh0ZXh0T3ZlcnJpZGUsIG5vRm9jdXMpIHtcbiAgICAgICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGVyZSB3ZSB3ZXJlIGNhbGxlZCBmcm9tXG4gICAgICAgICAgICB2YXIgJGJ0biA9ICQodGhpcy5qQ29tbWVudC5jb250ZXh0KVxuICAgICAgICAgICAgLy8gdHJ1ZSBpZiByZXBseSB3aWxsIGJlIG1hZGUgdG8gdGhlIHBhcmVudCBvZiBjdXJyZW50IGNvbW1lbnQgYW5kIGJlIGNyZWF0ZWQgYXMgYSBzaWJsaW5nLCB0byBiZSB1c2VkIHdoZW4gYXQgYm90dG9tIGNvbW1lbnQgZGVwdGhcbiAgICAgICAgICAgIHZhciByZXBseVRvUGFyZW50ID0gJGJ0bi5kYXRhKFwicmVwbHktdG8tcGFyZW50XCIpXG4gICAgICAgICAgICB2YXIgcmVwbHlUb1RocmVhZCA9ICRidG4uZGF0YShcInJlcGx5LXRvLXRocmVhZFwiKVxuICAgICAgICAgICAgdmFyIHJlcGx5VG9Vc2VyID0gU3RyaW5nKCRidG4uZGF0YShcInJlcGx5LXRvLXVzZXJcIikpXG4gICAgICAgICAgICB2YXIgaW5zZXJ0Q29tbWVudE9uVG9wID0gJGJ0bi5kYXRhKFwiaW5zZXJ0LWNvbW1lbnQtb24tdG9wXCIpXG5cbiAgICAgICAgICAgIGlmIChyZXBseVRvUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qQ29tbWVudCA9IHRoaXMuakNvbW1lbnQucGFyZW50KCkuY2xvc2VzdChcIi5qcy1jb21tZW50XCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVwbHlUb1RocmVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuakNvbW1lbnQgPSAkYnRuLmNsb3Nlc3QoXCIuanMtY29tbWVudFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgJGNvbW1lbnQgPSB0aGlzLmpDb21tZW50O1xuICAgICAgICAgICAgdmFyICRmb3JtID0gJGNvbW1lbnQuZmluZEV4Y2x1ZGUoJy5qcy1yZXBseS1jb21tZW50LWZvcm0nLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpXG4gICAgICAgICAgICB2YXIgJGNoaWxkcmVuID0gJGNvbW1lbnQuZmluZEV4Y2x1ZGUoXCIuanMtY2hpbGQtY29tbWVudHMtY29udGFpbmVyXCIsXCIuanMtY2hpbGQtY29tbWVudHMtY29udGFpbmVyXCIpXG4gICAgICAgICAgICB2YXIgJHRleHQgPSAkZm9ybS5maW5kKCcuanMtY29tbWVudC10ZXh0LWlucHV0Jyk7XG4gICAgICAgICAgICB2YXIgY29tbWVudFVpID0gdGhpcztcbiAgICAgICAgICAgIHZhciBwb3N0VWkgPSBjb21tZW50VWkucG9zdFVpO1xuXG4gICAgICAgICAgICBpZiAocmVwbHlUb1VzZXIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0T3ZlcnJpZGUgPSBgQCR7bm9ybWFsaXplTmFtZShyZXBseVRvVXNlcil9IGBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhpcyBtYXkgaGFwcGVuIGlmIHJlcGx5IGlzIGNhbGxlZCBmcm9tIHJlc3RvcmVFZGl0aW5nQ29tbWVudHNcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tZW50IGVkaXRpbmcgdGltZSBpcyBvdmVyXG4gICAgICAgICAgICBpZiAoISRmb3JtLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGhpZGUgYWxsIGNoaWxkIHJlcGx5IGJ1dHRvbnMgc28gdGhleSBkb24ndCBnZXQgY2xpY2tlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgJGNvbW1lbnQuZmluZCgnLmpzLWNvbW1lbnQtcmVwbHknKS5hZGRDbGFzcygnZC1ub25lJyk7XG5cbiAgICAgICAgICAgIGlmIChpbnNlcnRDb21tZW50T25Ub3ApIHtcbiAgICAgICAgICAgICAgICAkZm9ybS5pbnNlcnRCZWZvcmUoJGNoaWxkcmVuKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkZm9ybS5pbnNlcnRBZnRlcigkY2hpbGRyZW4pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRmb3JtLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcblxuICAgICAgICAgICAgLy8gT25seSBjb25maWd1cmUgdGhlIGVkaXRvciBpZiBpdCdzIG5vdCBwcmVzZW50IChpbiBjYXNlIGByZXBseWAgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzKVxuICAgICAgICAgICAgaWYgKCEkdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBwb3N0VWk6IHBvc3RVaSxcbiAgICAgICAgICAgICAgICAgICAgakZvcm06ICRmb3JtLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBfcygnUmVwbHknKSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsgY29tbWVudFVpLnN1Ym1pdFJlcGx5KCk7IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICR0ZXh0ID0gcmVuZGVyQ29tbWVudEZvcm0ocGFyYW1zKTtcbiAgICAgICAgICAgICAgICBnZXRPclNldElucHV0VmFsdWUoJHRleHQsIHRleHRPdmVycmlkZSB8fCAkZm9ybS5kYXRhKCdtYXJrZG93bicpIHx8ICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHRleHQudHJpZ2dlcignY2hhckNvdW50ZXJVcGRhdGUnKS50cmlnZ2VyKCdlZGl0UmVhZHknKTtcblxuICAgICAgICAgICAgaWYgKCFub0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgJHRleHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmhhc0NvbnRlbnRFZGl0YWJsZSgkdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnBsYWNlQ2FyZXRBdEVuZCgkdGV4dFswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHN1Ym1pdFJlcGx5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLmluUmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgJGNvbW1lbnQgPSB0aGlzLmpDb21tZW50O1xuICAgICAgICAgICAgdmFyICRmb3JtID0gJGNvbW1lbnQuZmluZEV4Y2x1ZGUoJy5qcy1yZXBseS1jb21tZW50LWZvcm0nLCAnLmpzLWNoaWxkLWNvbW1lbnRzLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgdmFyICR0ZXh0ID0gJGZvcm0uZmluZCgnLmpzLWNvbW1lbnQtdGV4dC1pbnB1dCcpO1xuICAgICAgICAgICAgdmFyIHRleHQgPSBnZXRPclNldElucHV0VmFsdWUoJHRleHQpO1xuICAgICAgICAgICAgdmFyIHBhcmVudENvbW1lbnRJZCA9ICRmb3JtLmRhdGEoXCJwYXJlbnQtY29tbWVudC1pZFwiKVxuICAgICAgICAgICAgdmFyIHBvc3RVaSA9IHRoaXMucG9zdFVpO1xuICAgICAgICAgICAgdmFyIHBvc3RJZCA9IHBvc3RVaS5wb3N0SWRcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgJ2NvbW1lbnQnOiB0ZXh0LFxuICAgICAgICAgICAgICAgICdma2V5JzogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21tZW50SWQ6IHBhcmVudENvbW1lbnRJZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcG9zdFVpLmFsdGVyQWRkRWRpdERhdGFCZWZvcmVTdWJtaXQoZGF0YSk7XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcG9zdFVpLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGAvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRzYCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH0sIF9zKFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgYWRkaW5nIHRoaXMgY29tbWVudFwiKSwgJGZvcm0pXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRleHQudmFsKCcnKS5rZXl1cCgpLmJsdXIoKTsgLy8gcmVzZXRzIHRoZSBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5lbmFibGVTdWJtaXRCdXR0b24oJGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhcImQtbm9uZVwiKVxuICAgICAgICAgICAgICAgICAgICBwb3N0VWkuc2hvd0NvbW1lbnRzKGh0bWwsIG51bGwsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmVuYWJsZVN1Ym1pdEJ1dHRvbigkZm9ybSk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0ud29ya2luZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VibWl0Vm90ZTogZnVuY3Rpb24gKHZvdGVUeXBlSWQsIGFkZGl0aW9uYWxGb3JtUGFyYW1zKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gdGhpcy5qQ29tbWVudC5maW5kKFwiLmpzLWNvbW1lbnQtYWN0aW9uc1wiKTtcblxuICAgICAgICAgICAgcmV0dXJuIHN1Ym1pdENvbW1lbnRWb3RlKFxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudElkLFxuICAgICAgICAgICAgICAgIHZvdGVUeXBlSWQsXG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbEZvcm1QYXJhbXMsXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3AuU3VjY2VzcyAmJiByZXNwLk1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93RXJyb3JNZXNzYWdlKGFjdGlvbnMsIHJlc3AuTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RVaS5hamF4KG9wdGlvbnMsIF9zKFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHZvdGluZ1wiKSwgYWN0aW9ucywgLypub0xvYWRlckFuaW1hdGlvbj0qLyB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlclNjb3JlOiBmdW5jdGlvbiAoc2NvcmUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHNjb3JlICYmIHNjb3JlID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBjc3MgPSBzY29yZSA8IDUgPyAnJyA6IHNjb3JlIDw9IDE1ID8gJ3dhcm0nIDogc2NvcmUgPD0gMzAgPyAnaG90JyA6ICdzdXBlcm5vdmEnO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnPHNwYW4gdGl0bGU9XCInICsgX3MoXCJudW1iZXIgb2YgJ3VzZWZ1bCBjb21tZW50JyB2b3RlcyByZWNlaXZlZFwiKSArICdcIiBjbGFzcz1cIicgKyBjc3MgKyAnXCI+JyArIHNjb3JlICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5qQ29tbWVudC5maW5kKFwiLmpzLWNvbW1lbnQtc2NvcmVcIikuaHRtbChyZXN1bHQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dFZGl0czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjb21tZW50ID0gdGhpcy5qQ29tbWVudCxcbiAgICAgICAgICAgICAgICAkcGVuY2lsID0gJCgnI2NvbW1lbnQtJyArIHRoaXMuY29tbWVudElkICsgJyAuanMtc2hvdy1lZGl0cycpLFxuICAgICAgICAgICAgICAgIGFqYXhPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3Bvc3RzL2NvbW1lbnRzL3tjb21tZW50SWR9L2VkaXQtaGlzdG9yeScuZm9ybWF0VW5pY29ybih7IGNvbW1lbnRJZDogdGhpcy5jb21tZW50SWQgfSksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnBvc3RVaS5hamF4KGFqYXhPcHRpb25zLCBudWxsLCAvKiBzcGlubmVyIHRhcmdldCAqLyAkcGVuY2lsLnBhcmVudCgpKS5kb25lKGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdyB0aGUgZGlmZiB0YWJsZSBjZW50ZXJlZCByaWdodCBiZWxvdyB0aGUgY29tbWVudFxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93TWVzc2FnZSgkY29tbWVudC5maW5kRXhjbHVkZShcIi5qcy1jb21tZW50LXRleHQtYW5kLWZvcm1cIiwgJy5qcy1jaGlsZC1jb21tZW50cy1jb250YWluZXInKSwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlRWxlbWVudDogaHRtbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbmZpZycsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlVG9Cb2R5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBteTogJ3RvcCBjZW50ZXInLCBhdDogJ2JvdHRvbSBjZW50ZXInLCBvZmZzZXRUb3A6IC0xMCwgb2Zmc2V0TGVmdDogNjAgfSxcbiAgICAgICAgICAgICAgICAgICAgZml4ZWRUbyRlbGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVE9ETzogbW92ZSB0aGlzIHRvIHN0dWIuanMvc29tZXdoZXJlIHNoYXJlZCwgb25jZSB3ZSBzdGFydCB1c2luZyBjb250ZW50ZWRpdGFibGUgbW9yZVxuICAgIC8qKlxuICAgICAqIFdoZW4gc3VwcGxpZWQgd2l0aCBvbmUgYXJndW1lbnQsIHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgJHR4dDsgd2hlbiBzdXBwbGllZCB3aXRoIHR3bywgc2V0c1xuICAgICAqICR0eHQncyB2YWx1ZSB0byB0aGUgc2Vjb25kIGFyZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fEVsZW1lbnR8c3RyaW5nfSAkdHh0IGpxdWVyeSB3cmFwcGluZyBpbnB1dFt0eXBlPVwidGV4dFwiXSwgYSB0ZXh0YXJlYSwgb3IgYSBkaXZbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXVxuICAgICAqIEBwYXJhbSB7YW55fSBvcHRpb25hbFNldFZhbHVlIHdoZW4gc3VwcGxpZWQsIHN0cmluZyB2YWx1ZSB0byBzZXQgJHR4dCB0b1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE9yU2V0SW5wdXRWYWx1ZSgkdHh0LCBvcHRpb25hbFNldFZhbHVlKSB7XG4gICAgICAgIGlmICghJHR4dClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignJHR4dCBpcyByZXF1aXJlZCcpO1xuXG4gICAgICAgIGlmICghKCR0eHQgaW5zdGFuY2VvZiAkKSlcbiAgICAgICAgICAgICR0eHQgPSAkKCR0eHQpO1xuXG4gICAgICAgIHZhciBoYXNDb250ZW50RWRpdGFibGUgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuaGFzQ29udGVudEVkaXRhYmxlKCR0eHQpO1xuXG4gICAgICAgIC8vIGdldFxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZm9yIDxkaXY+LCBzZW5kIGJhY2sgaHRtbCwgc28gd2UgY2FuIHBhcnNlIG1lbnRpb25zXG4gICAgICAgICAgICByZXR1cm4gaGFzQ29udGVudEVkaXRhYmxlID8gJHR4dC5odG1sKCkgOiAkdHh0LnZhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0XG4gICAgICAgIGlmIChoYXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgICAgICAgIC8vIGh0bWwgZW5jb2RlXG4gICAgICAgICAgICAkdHh0Lmh0bWwoJCgnPGRpdi8+JykudGV4dChvcHRpb25hbFNldFZhbHVlKS5odG1sKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHR4dC52YWwob3B0aW9uYWxTZXRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7eyBidXR0b25UZXh0OiBzdHJpbmc/LCBqRm9ybTogalF1ZXJ5LCBwb3N0VWk6IGFueSwgZXh0cmFNZXNzYWdlSHRtbDogc3RyaW5nPywgc2hvd0NhbmNlbDogYm9vbGVhbj8sIG9uU3VibWl0OiAoakZvcm06IGpRdWVyeT8pID0+IHt9IH19IHJlbmRlckNvbW1lbnRGb3JtUGFyYW1zXG4gICAgICogQHBhcmFtIHtyZW5kZXJDb21tZW50Rm9ybVBhcmFtc30gcGFyYW1zXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVuZGVyQ29tbWVudEZvcm0ocGFyYW1zKSB7XG5cbiAgICAgICAgY29uc3QgJGpGb3JtID0gcGFyYW1zLmpGb3JtO1xuICAgICAgICAvLyBpZiBkYXRhLXRlbXBsYXRlLWluY2x1ZGVkIGlzIG5vdCB0cnVlLCB3ZSdsbCB1c2UgZGVmYXVsdCB0ZW1wbGF0ZVxuICAgICAgICBjb25zdCB1c2VEZWZhdWx0VGVtcGxhdGUgPSAkakZvcm0uZGF0YShcInRlbXBsYXRlLWluY2x1ZGVkXCIpICE9PSB0cnVlO1xuXG4gICAgICAgIGlmICh1c2VEZWZhdWx0VGVtcGxhdGUpIHtcblxuICAgICAgICAgICAgdmFyIHB1YmxpY0NvbW1lbnRUZW1wbGF0ZSA9IC8qaHRtbCovIFxuICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwianMtY29tbWVudC1mb3JtLWxheW91dCBkLWZsZXggZnctd3JhcCBqYy1lbmQgbXQ4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3NzUgZmwtZ3JvdzFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jb21tZW50LXRleHQtaW5wdXQtY29udGFpbmVyXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWNvdW50ZXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvcm0tZXJyb3JcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZkLWNvbHVtbiBqYy1zcGFjZS1iZXR3ZWVuIHBiNCBtYjE2IG1sOFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZkLWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJzLWJ0biBzLWJ0bl9fZmlsbGVkXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImpzLWVkaXQtY29tbWVudC1jYW5jZWwgcy1idG4gcy1idG5fX2xpbmsgdGEtbGVmdCBweDIgbXQ2IGQtbm9uZVwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJqcy1jb21tZW50LWhlbHAtbGluayBzLWJ0biBzLWJ0bl9fbGluayB0YS1sZWZ0IHB4MlwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgICAgICB2YXIgc3RhZ2luZ0dyb3VuZENvbW1lbnRUZW1wbGF0ZSA9IC8qaHRtbCovIFxuICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiYmEgYmMtYmxhY2stMjI1XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jb21tZW50LWZvcm0tbGF5b3V0IGQtZmxleCBmdy13cmFwIGpjLWVuZCBwbDFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3MTAwIGpzLWNvbW1lbnQtdGV4dC1pbnB1dC1jb250YWluZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidCBiZy1ibGFjay0xMDAgYmMtYmxhY2stMjI1IHA4IGc4IGFpLWNlbnRlciBkLWZsZXggbWwxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cInMtYnRuIHMtYnRuX19maWxsZWRcIj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwianMtZWRpdC1jb21tZW50LWNhbmNlbCBzLWJ0blwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtbC1hdXRvIHRleHQtY291bnRlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcblxuICAgICAgICAgICAgLy8gc2cgdXNlcyBkaWZmZXJlbnQgY29tbWVudCB0ZW1wbGF0ZSB0aGFuIG1haW4gc2l0ZVxuICAgICAgICAgICAgY29uc3QgaXNTdGFnaW5nR3JvdW5kID0gbG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3N0YWdpbmctZ3JvdW5kLycpO1xuICAgICAgICAgICAgJGpGb3JtLmFwcGVuZChpc1N0YWdpbmdHcm91bmQgPyBzdGFnaW5nR3JvdW5kQ29tbWVudFRlbXBsYXRlIDogcHVibGljQ29tbWVudFRlbXBsYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIHdoZXJlIHdlIGFyZSBub3QgYWRkaW5nIHRoZSB0ZW1wbGF0ZSAoaWU6IHRlbXBsYXRlIGlzIGluY2x1ZGVkKSB0aGUgZm9ybSB3aWxsIGJlIHVzZWRcbiAgICAgICAgICAgIC8vIGFzIGl0IGlzIHRoZXJlIGJ1dCB0aGUgbG9naWMgd2lsbCBzdGlsbCBwcm9jZWVkIGhlcmUgdG8gYmluZCB1cFxuICAgICAgICAgICAgJGpGb3JtLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgfVxuICAgICAgICAkakZvcm0uZGF0YSgnaW5pdGlhbGl6ZWQnLCAndHJ1ZScpO1xuICAgICAgICAkakZvcm0uZmluZCgnW3R5cGU9c3VibWl0XScpLnRleHQocGFyYW1zLmJ1dHRvblRleHQpO1xuXG4gICAgICAgIHZhciAkalRleHQgPSBwYXJhbXMucG9zdFVpLnJlbmRlclRleHRJbnB1dCgkakZvcm0pO1xuXG4gICAgICAgIGNvbnN0IHRleHRBcmVhSWQgPSAkakZvcm0uZGF0YSgndGV4dGFyZWEtaWQnKTtcbiAgICAgICAgaWYgKHRleHRBcmVhSWQpIHtcbiAgICAgICAgICAgICRqVGV4dC5hdHRyKCdpZCcsIHRleHRBcmVhSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dEFyZWFDbGFzcyA9ICRqRm9ybS5kYXRhKCd0ZXh0YXJlYS1jbGFzcycpO1xuICAgICAgICBpZiAodGV4dEFyZWFDbGFzcykge1xuICAgICAgICAgICAgJGpUZXh0LnRvZ2dsZUNsYXNzKHRleHRBcmVhQ2xhc3MsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyICRqSW5wdXRDb250YWluZXIgPSAkakZvcm0uZmluZCgnLmpzLWNvbW1lbnQtdGV4dC1pbnB1dC1jb250YWluZXInKTtcbiAgICAgICAgaWYgKHVzZURlZmF1bHRUZW1wbGF0ZSAmJiBwYXJhbXMuZXh0cmFNZXNzYWdlSHRtbCkge1xuICAgICAgICAgICAgJGpJbnB1dENvbnRhaW5lci5hcHBlbmQoJzxkaXYgY2xhc3M9XCJuZXctY29udHJpYnV0b3ItaW5kaWNhdG9yIGZjLWJsYWNrIHB5MTIgYnRyLXNtIHRhLWNlbnRlclwiPicgKyBwYXJhbXMuZXh0cmFNZXNzYWdlSHRtbCArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICRqVGV4dC5hZGRDbGFzcygnYnRyMCcpO1xuICAgICAgICB9XG4gICAgICAgICRqSW5wdXRDb250YWluZXIuYXBwZW5kKCRqVGV4dCk7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5zaG93Q2FuY2VsKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGNvbW1lbnQgY2FuY2VsbGluZ1xuICAgICAgICAgICAgJGpGb3JtLmZpbmQoJy5qcy1lZGl0LWNvbW1lbnQtY2FuY2VsJylcbiAgICAgICAgICAgICAgICAudGV4dChfcygnQ2FuY2VsJykpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdkLW5vbmUnKVxuICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7IHVpRm9yQ29tbWVudCgkakZvcm0pLmNhbmNlbEVkaXQoKTsgfSk7XG5cbiAgICAgICAgICAgIC8vIGJpbmQgZXNjYXBlIGtleSB0byBjYW5jZWwgY29tbWVudGluZ1xuICAgICAgICAgICAgJGpGb3JtLmtleXVwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gS0VZX0NPREUuRVNDXG4gICAgICAgICAgICAgICAgICAgICYmICRqRm9ybS5maW5kKFwiI3RhYmNvbXBsZXRlID4gbGk6dmlzaWJsZVwiKS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgJiYgISRqRm9ybS5oYXNDbGFzcygnanMtcHJldmVudC1zdWJtaXQtZm9ybS1vbi1lbnRlci1wcmVzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpRm9yQ29tbWVudCgkakZvcm0pLmNhbmNlbEVkaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHZhciBzZXRJc1ZhbGlkID0gZnVuY3Rpb24gKGJvb2wpIHsgaXNWYWxpZCA9IGJvb2w7IH07XG4gICAgICAgIHZhciBtaW5MZW5ndGggPSAkKFwiLmpzLWNvbW1lbnRzLWNvbnRhaW5lclwiKS5kYXRhKFwibWluLWxlbmd0aFwiKTtcblxuICAgICAgICAvLyBzZXQgdXAgdGV4dCBpbnB1dCBiaW5kaW5nc1xuICAgICAgICAkalRleHRcbiAgICAgICAgICAgIC5hdHRyKCdwbGFjZWhvbGRlcicsICRqRm9ybS5kYXRhKFwicGxhY2Vob2xkZXJ0ZXh0XCIpKSAvLyBJRSAxMCBpc3N1ZSAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xMzc2NDYwN1xuICAgICAgICAgICAgLmNoYXJDb3VudGVyKHsgbWluOiBtaW5MZW5ndGgsIG1heDogNjAwLCBzZXRJc1ZhbGlkOiBzZXRJc1ZhbGlkIH0pXG4gICAgICAgICAgICAuZm9jdXMoZnVuY3Rpb24gKCkgeyBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzLnRhYkNvbXBsZXRlci5pbml0KCQodGhpcykpOyB9KTtcblxuICAgICAgICB2YXIgc2hvd0FicmlkZ2VkQ29tbWVudHNIZWxwID0gJGpGb3JtLmhhc0NsYXNzKCdqcy1hYnJpZGdlZC1oZWxwJyk7XG5cbiAgICAgICAgaWYgKGF1dG9TaG93Q29tbWVudEhlbHApIHtcbiAgICAgICAgICAgICRqVGV4dC5vbmUoXCJmb2N1c1wiLCB7IGFicmlkZ2VkOiBzaG93QWJyaWRnZWRDb21tZW50c0hlbHAgfSwgdG9nZ2xlQ29tbWVudEhlbHApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluZCBoZWxwIGxpbmtcbiAgICAgICAgY29uc3QgJGhlbHBMaW5rID0gJGpGb3JtLmZpbmQoJy5qcy1jb21tZW50LWhlbHAtbGluaycpO1xuICAgICAgICBpZiAoJGhlbHBMaW5rKSB7XG4gICAgICAgICAgICB2YXIgc2hvd1RleHQgPSAkaGVscExpbmsuZGF0YShcInRleHQtc2hvd1wiKSB8fCBfcygnSGVscCcpO1xuICAgICAgICAgICAgJGhlbHBMaW5rLnRleHQoc2hvd1RleHQpO1xuICAgICAgICAgICAgJGhlbHBMaW5rLmNsaWNrKHsgYWJyaWRnZWQ6IHNob3dBYnJpZGdlZENvbW1lbnRzSGVscCB9LCB0b2dnbGVDb21tZW50SGVscCk7XG4gICAgICAgICAgICAkaGVscExpbmsuYXR0cignYXJpYS1leHBhbmRlZCcsICEhYXV0b1Nob3dDb21tZW50SGVscCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGEgaGVscCBpY29uIGV4aXN0cywgY2xpY2tpbmcgaXQgc2hvdWxkIHRyaWdnZXIgYSBjbGljayBvbiB0aGUgaGVscCBsaW5rXG4gICAgICAgICAgICB2YXIgJGhlbHBJY29uID0gJGpGb3JtLmZpbmQoJy5qcy1oZWxwLWljb24nKTtcbiAgICAgICAgICAgIGlmICgkaGVscEljb24pIHtcbiAgICAgICAgICAgICAgICAkaGVscEljb24uY2xpY2soZnVuY3Rpb24gKCkgeyAkaGVscExpbmsuY2xpY2soKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkakZvcm0uc3VibWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmRpc2FibGVTdWJtaXRCdXR0b24oJGpGb3JtKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMub25TdWJtaXQoJGpGb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRqRm9ybS5maW5kKCdzcGFuLnRleHQtY291bnRlcicpLmFuaW1hdGUoeyBvcGFjaXR5OiAwIH0sIDEwMCwgZnVuY3Rpb24gKCkgeyAkKHRoaXMpLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIDEwMCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIVN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MuY29tbWVudHMuZG9Ob3RTdWJtaXRPbkVudGVyKSB7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc3VibWl0Rm9ybU9uRW50ZXJQcmVzcygkakZvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRqVGV4dDtcbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgb24gdGhlIFwiaGVscFwiIGxpbmsgYXMgd2VsbCBhcyAocG9zc2libHkpIGZvY3VzIG9uIHRoZSBjb21tZW50IHRleHQgYm94XG4gICAgdmFyIHRvZ2dsZUNvbW1lbnRIZWxwID0gZnVuY3Rpb24gKGV2dCkge1xuXG4gICAgICAgIHZhciAkYnRuID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lckNsYXNzID0gJGJ0bi5kYXRhKFwiaGVscC1jb250YWluZXJcIik7XG4gICAgICAgIHZhciBjb250YWluZXJTZWxlY3RvciA9IGNvbnRhaW5lckNsYXNzID8gXCIuXCIgKyBjb250YWluZXJDbGFzcyA6IFwiLmpzLWNvbW1lbnQtZm9ybS1sYXlvdXRcIlxuICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICRidG4uY2xvc2VzdChjb250YWluZXJTZWxlY3Rvcik7XG4gICAgICAgIHZhciAkaGVscExpbmsgPSAkY29udGFpbmVyLmZpbmQoXCIuY29tbWVudC1oZWxwLWxpbmtcIik7XG4gICAgICAgIHZhciAkb2xkSGVscCA9ICQoXCIuY29tbWVudC1oZWxwXCIsICRjb250YWluZXIpO1xuXG4gICAgICAgIHZhciBkb1Nob3c7XG4gICAgICAgIGlmIChldnQudHlwZSA9PSBcImNsaWNrXCIpIHtcbiAgICAgICAgICAgIGRvU2hvdyA9ICRvbGRIZWxwLmxlbmd0aCA9PSAwIHx8ICEkb2xkSGVscC5pcyhcIjp2aXNpYmxlXCIpO1xuICAgICAgICAgICAgaWYgKCFkb1Nob3cpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBoYXMgZXhwbGljaXRseSBoaWRkZW4gdGhlIGNvbW1lbnQgaGVscCAtLSBkb24ndCBzaG93IGl0IGF1dG9tYXRpY2FsbHkgYWdhaW4gb24gdGhpcyBwYWdlXG4gICAgICAgICAgICAgICAgdG9nZ2xlQ29tbWVudEhlbHAubWFudWFsT25seSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9nZ2xlQ29tbWVudEhlbHAubWFudWFsT25seSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9TaG93ID0gdHJ1ZTsgLy8gZm9jdXMgZXZlbnRcblxuICAgICAgICAkKCcuanMtY29tbWVudC1oZWxwLWxpbmsnKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZG9TaG93KTtcblxuICAgICAgICB2YXIgc2hvd1RleHQgPSAkYnRuLmRhdGEoXCJ0ZXh0LXNob3dcIikgfHwgX3MoXCJIZWxwXCIpO1xuICAgICAgICB2YXIgaGlkZVRleHQgPSAkYnRuLmRhdGEoXCJ0ZXh0LWhpZGVcIikgfHwgX3MoXCJIaWRlIGhlbHBcIik7XG5cbiAgICAgICAgdmFyIHNldEhlbHBMaW5rVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRoZWxwTGluay50ZXh0KGRvU2hvdyA/IGhpZGVUZXh0IDogc2hvd1RleHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkb2xkSGVscC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoZG9TaG93KVxuICAgICAgICAgICAgICAgICRvbGRIZWxwLnNsaWRlRG93bihzZXRIZWxwTGlua1RleHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICRvbGRIZWxwLnNsaWRlVXAoc2V0SGVscExpbmtUZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZG9TaG93KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciAkaGVscENvbnRhaW5lciA9ICQoXCI8ZGl2IGNsYXNzPSd3MTAwJyAvPlwiKS5hcHBlbmRUbygkY29udGFpbmVyKTtcblxuICAgICAgICBpZiAodG9nZ2xlQ29tbWVudEhlbHAuaGVscFRleHQpIHtcbiAgICAgICAgICAgICRoZWxwQ29udGFpbmVyLmh0bWwodG9nZ2xlQ29tbWVudEhlbHAuaGVscFRleHQpO1xuICAgICAgICAgICAgJChcIi5jb21tZW50LWhlbHBcIiwgJGhlbHBDb250YWluZXIpLnNsaWRlRG93bihzZXRIZWxwTGlua1RleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRvZ2dsZUNvbW1lbnRIZWxwLmluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2dnbGVDb21tZW50SGVscC5pblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5hZGRTcGlubmVyKCRoZWxwTGluayk7XG4gICAgICAgICAgICB2YXIgYWJyaWRnZWQgPSBldnQuZGF0YS5hYnJpZGdlZDtcbiAgICAgICAgICAgICRoZWxwQ29udGFpbmVyLmxvYWQoXCIvcG9zdHMvY29tbWVudC1oZWxwP2FicmlkZ2VkPVwiICsgYWJyaWRnZWQsIGZ1bmN0aW9uIChyZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVDb21tZW50SGVscC5oZWxwVGV4dCA9IHJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcigpO1xuICAgICAgICAgICAgICAgICQoXCIuY29tbWVudC1oZWxwXCIsIHRoaXMpLnNsaWRlRG93bihzZXRIZWxwTGlua1RleHQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNvbW1lbnRIZWxwLmluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVpRm9yQ29tbWVudChlbE9ySlF1ZXJ5T3JTZWxlY3Rvcikge1xuICAgICAgICB2YXIgJGNvbW1lbnQgPSAkKGVsT3JKUXVlcnlPclNlbGVjdG9yKS5jbG9zZXN0KCcuanMtY29tbWVudCcpO1xuICAgICAgICB2YXIgY29tbWVudElkID0gKCRjb21tZW50LmRhdGEoJ2NvbW1lbnQtaWQnKSB8fCAnJykudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50VWkoY29tbWVudElkLCAkY29tbWVudCk7XG4gICAgfVxuXG4gICAgLy8gU2V2ZXJhbCBvZiB0aGUgY29tbWVudCBjb250cm9scyBhcmUgdmVyeSBjbG9zZSB0byBlYWNoIG90aGVyIGFuZCB0byBvdGhlciBsaW5rcy4gV2hlbiB0aGVcbiAgICAvLyBBbmRyb2lkIGJyb3dzZXIgdGhpbmtzIGVsZW1lbnQgQSBpcyBjbGlja2FibGUgKGJlY2F1c2UgaXQncyBhIGxpbmsgb3IgaGFzIGFuIG9uY2xpY2sgaGFuZGxlciksXG4gICAgLy8gYW5kIGl0IHRoaW5rcyBlbGVtZW50IEIgaXMgbm90LCBhbmQgQSBpcyBjbG9zZSB0byBCLCBhbmQgeW91IHRhcCBvbiBCLCB0aGUgYnJvd3NlciB0aGlua3MgeW91IGhhdmVcbiAgICAvLyBmYXQgZmluZ2VycyBhbmQgcHJldGVuZHMgeW91IHRhcHBlZCBvbiBBLiBTaW5jZSBldmVudCBkZWxlZ2F0aW9uIGRvZXNuJ3QgY3JlYXRlIGNsaWNrIGhhbmRsZXJzXG4gICAgLy8gb24gdGhlIHBhcnRpY3VsYXIgZWxlbWVudCwgdGhlIEFuZHJvaWQgYnJvd3NlciBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIGNvbnNpZGVyIGl0IGEgaGl0IGFyZWEuXG4gICAgLy9cbiAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzLCB3ZSBkbyB0aGUgZm9sbG93aW5nOiBJZiB0aGUgZWxlbWVudCBpcyAqdG91Y2hlZCogKHRoZSB0b3VjaHN0YXJ0IGV2ZW50IHNlbmRzIHRoZVxuICAgIC8vICpjb3JyZWN0KiB0YXJnZXQgZWxlbWVudCksIHdlIGFkZCBhIGR1bW15IGNsaWNrIGhhbmRsZXIgdG8gaXQgYW5kIGFkZCBhIGR1bW15IGF0dHJpYnV0ZS4gVGhlIGxhdHRlclxuICAgIC8vIERPTSBjaGFuZ2UgaXMgbmVjZXNzYXJ5IGZvciBBbmRyb2lkIHRvIHJlY29uc2lkZXIgaXRzIGhpdCBhcmVhcy4gVGhpcyBhZGRzIGEgZmV3IHVubmVjZXNzYXJ5IGNsaWNrIGhhbmRsZXJzXG4gICAgLy8gb24gdG91Y2gtZW5hYmxlZCBkZXZpY2VzLCBidXQgaXMgb3RoZXJ3aXNlIGZyZWUgb2Ygc2lkZS1lZmZlY3RzLiBBbmQgYXQgbW9zdCBvbmUgaGFuZGxlciB3aWxsIGJlXG4gICAgLy8gYWRkZWQgcGVyIGVsZW1lbnQuXG4gICAgZnVuY3Rpb24gaGV5QW5kcm9pZFRoaXNJc0NsaWNrYWJsZShjb250ZXh0LCBhbmNlc3RvciwgdGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCEvQW5kcm9pZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAkKGFuY2VzdG9yLCBjb250ZXh0KS5iaW5kKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICB2YXIgalRhcmdldCA9ICQoZXZ0LnRhcmdldCk7XG5cbiAgICAgICAgICAgIGlmICghalRhcmdldC5pcyh0YXJnZXRTZWxlY3RvcikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0galRhcmdldC5sZW5ndGggPyAkLl9kYXRhKGpUYXJnZXRbMF0sIFwiZXZlbnRzXCIpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLmNsaWNrICYmIGV2ZW50cy5jbGljay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIHRoZXJlJ3MgYWxyZWFkeSBhIChqUXVlcnktYm91bmQ7IHdlIG1heSBub3Qgc2VlIG90aGVycywgYnV0IHRoYXQncyBub3QgYSBiaWcgdXNzdWUpIGNsaWNrIGhhbmRsZXIgaGVyZTsgbm8gbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgalRhcmdldC5jbGljayhmdW5jdGlvbiAoKSB7IH0pLmF0dHIoXCJkYXRhLW5vdGhpbmctdG8tc2VlLWhlcmVcIiwgXCJYXCIpOyAvLyB0aGlzIGRvbS1jaGFuZ2UgaXMgbmVjZXNzYXJ5IGZvciB0aGUgYW5kcm9pZCBicm93c2VyIHRvIHBpY2sgdXAgdGhlIGNoYW5nZVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbW1lbnRVaURlbGVnYXRlKGNvbnRleHQsIHNlbGVjdG9yLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB1aSA9IHVpRm9yQ29tbWVudCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBtdGQgPSB1aVttZXRob2ROYW1lXTtcbiAgICAgICAgICAgIG10ZC5hcHBseSh1aSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJChcIi5qcy1jb21tZW50cy1jb250YWluZXJcIiwgY29udGV4dCkuZGVsZWdhdGUoc2VsZWN0b3IsIFwiY2xpY2tcIiwgb25DbGljayk7XG4gICAgICAgIGhleUFuZHJvaWRUaGlzSXNDbGlja2FibGUoY29udGV4dCwgXCIuanMtY29tbWVudHMtY29udGFpbmVyXCIsIHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICB2YXIgcGFzc2l2ZUluaXQgPSBzdGFja0V4Y2hhbmdlQ29tbWVudHMuaW5pdDtcblxuICAgIHN0YWNrRXhjaGFuZ2VDb21tZW50cy5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcGFzc2l2ZUluaXQob3B0aW9ucyk7XG4gICAgICAgIGF1dG9TaG93Q29tbWVudEhlbHAgPSBvcHRpb25zICYmIG9wdGlvbnMuYXV0b1Nob3dDb21tZW50SGVscDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSAob3B0aW9ucyAmJiBvcHRpb25zLnBvc3QpIHx8IGRvY3VtZW50O1xuICAgICAgICBjb21tZW50VWlEZWxlZ2F0ZShjb250ZXh0LCBcIi5qcy1jb21tZW50LXVwXCIsIFwidm90ZVVwXCIpO1xuICAgICAgICBjb21tZW50VWlEZWxlZ2F0ZShjb250ZXh0LCBcIi5qcy1jb21tZW50LWRlbGV0ZVwiLCBcImRlbGV0ZVwiKTtcbiAgICAgICAgY29tbWVudFVpRGVsZWdhdGUoY29udGV4dCwgXCIuanMtY29tbWVudC11bmRlbGV0ZVwiLCBcInVuZGVsZXRlXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gZm9yIENvbGxlY3RpdmVzIERpc2N1c3Npb25zLCB0aGUgY29tbWVudCBmbGFnIGljb24gZG9lc24ndCBob29rIGludG8gdGhlIG1vZGVyYXRpb24gc3lzdGVtLFxuICAgICAgICAvLyByYXRoZXIgd2UganVzdCBzZW5kIHRoZSB1c2VyIHRvIHRoZSBjb250YWN0IHVzIHBhZ2Ugc28gdGhlIENNcyB3aWxsIG1vZGVyYXRlLlxuICAgICAgICAvLyBpZiB0aGlzIGV2ZXIgbmVlZCB0byBob29rIGJhY2sgaW50byB0aGUgbW9kZXJhdGlvbiBzeXN0ZW0sIHRha2UgYSBsb29rIGF0IGNvbW1pdCAyMmRlNTk5NjJjNzY2MDJkNWE1ZDYzNmJiNzY0NDkyNDA1NDc5YmNhXG4gICAgICAgIC8vIHRoYXQgd2FzIHBhcnQgb2YgUFIjMTU5NzFcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pc0NvbGxlY3RpdmVzRGlzY3Vzc2lvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRzQ29udGFpbmVyID0gJChcIi5qcy1jb21tZW50cy1jb250YWluZXJcIiwgY29udGV4dCk7XG4gICAgICAgICAgICB2YXIgcG9zdElkID0gY29tbWVudHNDb250YWluZXIuZGF0YShcInBvc3QtaWRcIik7XG4gICAgICAgICAgICBjb21tZW50c0NvbnRhaW5lci5kZWxlZ2F0ZShcIi5qcy1jb21tZW50LWZsYWdcIiwgXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkgeyB3aW5kb3cub3BlbihcIi9jb250YWN0P3RvcGljPTE1JnBvc3RJZD1cIiArIHBvc3RJZCwgJ19ibGFuaycpIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tbWVudFVpRGVsZWdhdGUoY29udGV4dCwgXCIuanMtY29tbWVudC1mbGFnXCIsIFwiZmxhZ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbW1lbnRVaURlbGVnYXRlKGNvbnRleHQsIFwiLmpzLWNvbW1lbnQtZWRpdFwiLCBcImVkaXRcIik7XG4gICAgICAgIGNvbW1lbnRVaURlbGVnYXRlKGNvbnRleHQsIFwiLmpzLWNvbW1lbnQtcmVwbHlcIiwgXCJsb2FkUmVwbHlcIik7XG4gICAgICAgIGNvbW1lbnRVaURlbGVnYXRlKGNvbnRleHQsIFwiLmpzLWNvbW1lbnQtdXAtdW5kb1wiLCBcInVuZG9Wb3RlVXBcIik7XG4gICAgICAgIGNvbW1lbnRVaURlbGVnYXRlKGNvbnRleHQsIFwiLmpzLXNob3ctZWRpdHNcIiwgXCJzaG93RWRpdHNcIik7XG5cbiAgICAgICAgJChcIi5qcy1jb21tZW50cy1jb250YWluZXJcIiwgY29udGV4dCkub24oXCJrZXlwcmVzc1wiLCBcIi5qcy1jb21tZW50LWVkaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IEtFWV9DT0RFLlNQQUNFIHx8IGUua2V5Q29kZSA9PT0gS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdqcy1yZXR1cm4tZm9jdXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYW55IGFuc3dlciBmb3JtcyB3aXRoIGNsYXNzIFwiY29tbWVudC1mb3JtLWV4cGFuZGVkXCIgc2hvdWxkIGJlIGV4cGFuZGVkXG4gICAgICAgICQoJ2Zvcm0uY29tbWVudC1mb3JtLWV4cGFuZGVkJywgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB1aUZvclBvc3QodGhpcykuYWRkU2hvdyh0cnVlLCB0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXh0ZW5kQ29tbWVudFVpKG51bGwsIHRydWUpOyAvLyB3ZSBuZWVkIHRvIHJlLWFwcGx5IHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9uIGluaXQgYmVjYXVzZSBvZiByZXZpZXcgYXVkaXRzXG4gICAgfTtcblxuICAgIC8vIGFsbG93IG92ZXJyaWRpbmcgb2YgY29tbWVudCBhY3Rpb25zOyBlLmcuIHNlZSBtb2RlcmF0b3IuanMgLT4gZmFzdENvbW1lbnREZWxldGlvbigpXG4gICAgc3RhY2tFeGNoYW5nZUNvbW1lbnRzLmV4dGVuZENvbW1lbnRVaSA9IGV4dGVuZENvbW1lbnRVaTtcblxufSkoKTsgLy8gZW5kIG9mIGV4dGVuZGluZyBTdGFja0V4Y2hhbmdlLmNvbW1lbnRzIHdpdGggYWN0aXZlIGZ1bmN0aW9uYWxpdHlcbiIsImltcG9ydCB7IEtFWV9DT0RFIH0gZnJvbSAnLi4vY29uc3RhbnRzLm1vZCc7XG5pbXBvcnQgeyBub3JtYWxpemVOYW1lIH0gZnJvbSBcIi4uLy4uL2NvbW1lbnRzL2NvbW1lbnRzLXRhYi1jb21wbGV0ZXIubW9kXCI7XG5cblN0YWNrRXhjaGFuZ2UuY29tbWVudHMudGFiQ29tcGxldGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICB2YXIgX2NhbmRpZGF0ZXMsIC8vIGFuIGFycmF5IG9mIHVzZXJzIHRoYXQgY2FuIGJlIHJlcGxpZWQgdG8sIGluIHJldmVyc2UgY2hyb25vbG9naWNhbCBvcmRlclxuICAgICAgICBfY3VycmVudFRleHRhcmVhO1xuICAgIFxuICAgIHZhciBfbGFzdFJlYWQgPSBudWxsOyAvLyBjb250YWlucyB0aGUgQHVzZXJuYW1lIHRoYXQgd2FzIGxhc3QgcmVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSB1c2VyIHByZXNzZWQgYW55IGtleSBleGNlcHQgVEFCLiBJbiBvdGhlciB3b3JkczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb250YWlucyB0aGUgQHVzZXJuYW1lIHRoYXQgdGhlIGN1cnNvciBpcyBjdXJyZW50bHkgb24gaW4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlucHV0IGJveCwgKnVubGVzcyogYSB0YWIgY29tcGxldGlvbiB3YXMgbWFkZSAtLSBpbiB0aGF0IGNhc2UsIGl0IHN0aWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBAdXNlcm5hbWVcblxuICAgIC8qKlxuICAgICAqIG1hdGNoZXMgdXNlciB1cmwgb24gYm90aCBwdWJsaWMgYW5kIGNoYW5uZWxzXG4gICAgICovXG4gICAgdmFyIF9tYXRjaFVzZXJJZCA9IC9eKD86XFwvY1xcL1teXFwvXSspP1xcL3VzZXJzXFwvKFxcZCspL2k7XG4gICAgXG4gICAgZnVuY3Rpb24gc2hvd1JlY2lwaWVudHMocmVjaXBpZW50cykge1xuICAgICAgICB2YXIgdGMgPSAkKFwiI3RhYmNvbXBsZXRlXCIpO1xuICAgICAgICB0Yy5lbXB0eSgpO1xuICAgICAgICBpZiAocmVjaXBpZW50cy5sZW5ndGggPiA1IHx8ICFyZWNpcGllbnRzLmxlbmd0aCkgLy8gdG9vIG1hbnkgb3Igbm90IGVub3VnaFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAkLmVhY2gocmVjaXBpZW50cywgZnVuY3Rpb24gKGksIG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBsaSA9ICQoXCI8bGkvPlwiKS50ZXh0KG5hbWUpLmFwcGVuZFRvKHRjKTtcbiAgICAgICAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgPT0gX2xhc3RSZWFkLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoXCJjaG9zZW5cIik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnRBdE5hbWUoKSB7XG4gICAgICAgIHZhciBwb3MgPSBfY3VycmVudFRleHRhcmVhLmNhcmV0KCkuc3RhcnQ7XG4gICAgICAgIHZhciB2YWwgPSBfY3VycmVudFRleHRhcmVhLnZhbCgpO1xuICAgICAgICB2YXIgbW9yZVRoYW5PbmVBdCA9IGZhbHNlO1xuICAgICAgICBpZiAoL0BbXlxccyE/KCk7OitcIl0uKkAvLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgaWYgKCEvYC8udGVzdCh2YWwpKSAvLyBpZiB0aGUgdGV4dCBjb250YWlucyBtb3JlIHRoYW4gb25lIEAsIGJ1dCBkb2VzIG5vdCBjb250YWluIGEgYmFja3RpY2ssIHRoZSBzZXJ2ZXIgd2lsbCByZWplY3RcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIG1vcmVUaGFuT25lQXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgdG9Xb3JkRW5kID0gdmFsLnN1YnN0cmluZyhwb3MpLnNlYXJjaCgvW1xccyE/KCk7OitcIlxcW1xcXVxcXFxdLyk7XG4gICAgICAgIGlmICh0b1dvcmRFbmQgPT0gLTEpXG4gICAgICAgICAgICB0b1dvcmRFbmQgPSB2YWwubGVuZ3RoIC0gcG9zO1xuXG4gICAgICAgIC8vIGlmIGFyZSBpbnNlcnRpbmcgYW4gZXh0cmEgc3BhY2UgYXQgdGhlIGVuZCBvZiB0aGUgbmFtZSwgd2Ugc2hvdWxkIGlnbm9yZSBpdCBiZWZvcmUgY2hlY2tpbmcgZm9yIGEgY3VycmVudCBuYW1lIG1hdGNoXG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuc2l0ZS5pbnNlcnRTcGFjZUFmdGVyTmFtZVRhYkNvbXBsZXRpb24gJiYgdG9Xb3JkRW5kID09PSAwICYmIHZhbC5zdWJzdHJpbmcocG9zIC0gMSwgcG9zKSA9PT0gXCIgXCIpXG4gICAgICAgICAgICB0b1dvcmRFbmQgPSAtMTtcblxuICAgICAgICB2YXIgbWF0Y2ggPSB2YWwuc3Vic3RyaW5nKDAsIHBvcyArIHRvV29yZEVuZCkubWF0Y2goL0BbXlxccyE/KCk7OitcIlxcW1xcXVxcXFxdKiQvKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBcbiAgICAgICAgdmFyIGF0bmFtZSA9IG1hdGNoWzBdLnN1YnN0cigxKTtcbiAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRvV29yZEVuZDtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZW5kIC0gYXRuYW1lLmxlbmd0aDtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBtb3JlIHRoYW4gb25lIGF0LCBvbmx5IGJlIGhlbHBmdWwgaWYgdGhpcyBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgIGlmIChtb3JlVGhhbk9uZUF0ICYmIC9AW15cXHMhPygpOzorXCJdLy50ZXN0KHZhbC5zdWJzdHIoMCwgc3RhcnQgLSAxKSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydCwgLy8gdGhlIHN0YXJ0IG9mIHRoZSB1c2VybmFtZSBwYXJ0IG9mIFwiQHVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgcG9zOiBwb3MsICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJzb3IgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgZW5kOiBlbmQsICAgICAgICAgICAgICAgICAgIC8vIHRoZSBlbmQgb2YgdGhlIHVzZXJuYW1lIHBhcnRcbiAgICAgICAgICAgICAgICAgbmFtZTogYXRuYW1lIH07ICAgICAgICAgICAgIC8vIHRoZSBcInVzZXJuYW1lXCIgcGFydCBpdHNlbGZcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1JlcGxhY2UocmVwbGFjZW1lbnQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjdXJyZW50QXROYW1lKCk7XG4gICAgICAgIGlmIChjdXJyZW50Lm5hbWUgPT09IHJlcGxhY2VtZW50KSB7Ly8gd2UncmUgbm90IGNoYW5naW5nIGFueXRoaW5nLCBzbyBpbiBwYXJ0aWN1bGFyLCB0aGVyZSdzIG5vIG5lZWQgdG8gbW92ZSB0aGUgY3Vyc29yXG4gICAgICAgICAgICBpZiAoIV9jdXJyZW50VGV4dGFyZWEuaXMoXCI6Zm9jdXNcIikpXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRUZXh0YXJlYS5mb2N1cygpOyAvLyBidXQgc3RpbGwgbWFrZSBzdXJlIHRoZSBjdXJzb3IgaXMgaW4gdGhlIGlucHV0IGJveCAoaW4gY2FzZSBhIGNsaWNrIGhhcyBwdWxsZWQgdGhlIGZvY3VzIGZyb20gaXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnNpdGUuaW5zZXJ0U3BhY2VBZnRlck5hbWVUYWJDb21wbGV0aW9uKSB7XG4gICAgICAgICAgICByZXBsYWNlbWVudCArPSBcIiBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbGR2YWwgPSBfY3VycmVudFRleHRhcmVhLnZhbCgpO1xuICAgICAgICBfY3VycmVudFRleHRhcmVhLnZhbChvbGR2YWwuc3Vic3RyaW5nKDAsIGN1cnJlbnQuc3RhcnQpICsgcmVwbGFjZW1lbnQgKyBvbGR2YWwuc3Vic3RyaW5nKGN1cnJlbnQuZW5kKSk7XG4gICAgICAgIHZhciBuZXdwb3MgPSBjdXJyZW50LnN0YXJ0ICsgcmVwbGFjZW1lbnQubGVuZ3RoO1xuICAgICAgICBfY3VycmVudFRleHRhcmVhLmNhcmV0KG5ld3BvcywgbmV3cG9zKTtcbiAgICB9XG5cbiAgICAvLyBXZSdyZSB1c2luZyBtb3VzZWRvd24gKG5vdCBjbGljaykgYW5kIGNhbmNlbCB0aGUgZXZlbnQgZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uOlxuICAgIC8vIEEgY2xpY2sgd2lsbCBwdWxsIHRoZSBmb2N1cyBhd2F5IGZyb20gdGhlIGlucHV0IGJveCBpbiBJRSwgY2F1c2luZyBhY3R1YWxcbiAgICAvLyBwcm9ibGVtcyAoYmVjYXVzZSBvZiB0aGUgd2hvbGUgXCJjdXJzb3IgcG9zaXRpb24gaW4gdW5mb2N1c2VkIHRleHRib3hcIiBpc3N1ZSkuXG4gICAgLy8gSW4gYWxsIGJyb3dzZXJzLCBpdCB3aWxsIG1ha2UgdXMgbG9zZSB0aGUgc2luZ2xlIChjbGlja2VkKSBhdXRvLWNvbXBsZXRlIGNob2ljZSwgc28gdGhlXG4gICAgLy8gYmVoYXZpb3Igd291bGQgYmUgaW5jb3Npc3RlbnQgd2l0aCB0aGUgVEFCIGtleSBiZWhhdmlvci5cbiAgICAkKFwiYm9keVwiKS5vbihcIm1vdXNlZG93blwiLCBcIiN0YWJjb21wbGV0ZSA+IGxpXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGpUaGlzID0gJCh0aGlzKTtcbiAgICAgICAgalRoaXMucGFyZW50KCkuZmluZChcImxpLmNob3NlblwiKS5yZW1vdmVDbGFzcyhcImNob3NlblwiKTtcbiAgICAgICAgZG9SZXBsYWNlKGpUaGlzLmFkZENsYXNzKFwiY2hvc2VuXCIpLnRleHQoKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGRvd25IYW5kbGVyIChldnQpIHtcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50LCBjaG9pY2VzO1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09IEtFWV9DT0RFLlRBQikge1xuICAgICAgICAgICAgY2hvaWNlcyA9ICQoXCIjdGFiY29tcGxldGUgbGlcIik7XG4gICAgICAgICAgICBpZiAoIWNob2ljZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBvbGRjaG9pY2UgPSBjaG9pY2VzLmZpbHRlcihcIi5jaG9zZW5cIikucmVtb3ZlQ2xhc3MoXCJjaG9zZW5cIik7XG4gICAgICAgICAgICB2YXIgbmV3Y2hvaWNlID0gZXZ0LnNoaWZ0S2V5ID8gb2xkY2hvaWNlLnByZXYoKSA6IG9sZGNob2ljZS5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoIW5ld2Nob2ljZS5sZW5ndGgpIC8vIHRoaXMgY292ZXJzIGJvdGggY2FzZXMgd2hlcmUgYSkgbm90aGluZyB3YXMgY2hvc2VuIHlldCBvciBiKSB0aGUgKmxhc3QqIG9uZSB3YXMgY2hvc2VuXG4gICAgICAgICAgICAgICAgbmV3Y2hvaWNlID0gZXZ0LnNoaWZ0S2V5ID8gY2hvaWNlcy5sYXN0KCkgOiBjaG9pY2VzLmZpcnN0KCk7XG4gICAgICAgICAgICByZXBsYWNlbWVudCA9IG5ld2Nob2ljZS5hZGRDbGFzcyhcImNob3NlblwiKS50ZXh0KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT0gS0VZX0NPREUuRVNDKSB7IC8vIHdoZW4gdXNlcm5hbWUgY2hvaWNlcyBhcmUgZGlzcGxheWVkIGdvIGJhY2sgdG8gZGlzcGxheWluZyB3aGF0IHRoZSB1c2VyIG9yaWdpbmFsbHkgdHlwZWRcbiAgICAgICAgICAgIGNob2ljZXMgPSAkKFwiI3RhYmNvbXBsZXRlIGxpXCIpO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICByZXBsYWNlbWVudCA9IF9sYXN0UmVhZDtcbiAgICAgICAgICAgIF9sYXN0UmVhZCA9IG51bGw7IC8vIHRvIGZvcmNlIHJlLWV2YWx1YXRpb24gaW4gdGhlIGtleXVwL2NsaWNrIGhhbmRsZXJcbiAgICAgICAgfSBlbHNlIHsvLyBuZWl0aGVyIHRhYiBub3IgZXNjXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkb1JlcGxhY2UocmVwbGFjZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwSGFuZGxlciAoZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2gpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAvLyB0YWJzIGdldCBoYW5kbGVkIGFib3ZlXG4gICAgICAgICAgICAgICAgY2FzZSAxNjogLy8gc2hpZnRcbiAgICAgICAgICAgICAgICBjYXNlIDE3OiAvLyBjdHJsXG4gICAgICAgICAgICAgICAgY2FzZSAxODogLy8gYWx0XG4gICAgICAgICAgICAgICAgY2FzZSAyMjA6IC8vIGNhcHNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gY3VycmVudEF0TmFtZSgpO1xuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIF9sYXN0UmVhZCA9IG51bGw7XG4gICAgICAgICAgICBzaG93UmVjaXBpZW50cyhbXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9sYXN0UmVhZCA9PSBjdXJyZW50Lm5hbWUpIC8vIHRoZSBlbnRlcmVkIG5hbWUgKHBhcnQpIGlzIHRoZSBzYW1lIGFzIHRoZSBsYXN0IHRpbWUgd2UgY2hlY2tlZFxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByZWNpcGllbnRzID0gW107XG4gICAgICAgIF9sYXN0UmVhZCA9IGN1cnJlbnQubmFtZTtcbiAgICAgICAgdmFyIHJlO1xuICAgICAgICBpZiAoIWN1cnJlbnQubmFtZSlcbiAgICAgICAgICAgIHJlID0gL15cXFcvOyAvLyBpZiB0aGVyZSdzIG9ubHkgdGhlIFwiQFwiIGNoYXJhY3RlciB3aXRob3V0IGFueXRoaW5nIGVsc2UsIHNob3cgYWxsIGNhbmRpZGF0ZXMgd2l0aCBjcmF6eSBtb29uIGNoYXJhY3RlcnMgYXQgdGhlIHN0YXJ0XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIl5cIiArIG5vcm1hbGl6ZU5hbWUoY3VycmVudC5uYW1lKS5yZXBsYWNlKC9cXC4vZywgXCJcXFxcLlwiKSwgXCJpXCIpO1xuICAgICAgICB2YXIgbGVuID0gX2NhbmRpZGF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdXNlciA9IF9jYW5kaWRhdGVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlYWxOYW1lID0gdXNlci5uYW1lO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBvbmx5IHRoZSBcIkBcIiwgbWF0Y2ggYWdhaW5zdCB0aGUgYWN0dWFsIG5hbWU7IGlmIHRoZXkgYWN0dWFsbHkgdHlwZWQgc29tZXRoaW5nLCBtYXRjaCBhZ2FpbnN0IHRoZSBub3JtYWxpemVkIG5hbWVcbiAgICAgICAgICAgIHZhciBub3JtYWxpemVkID0gY3VycmVudC5uYW1lID8gbm9ybWFsaXplTmFtZShyZWFsTmFtZSkgOiByZWFsTmFtZTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkLm1hdGNoKHJlKSkge1xuICAgICAgICAgICAgICAgIHJlY2lwaWVudHMucHVzaChyZWFsTmFtZS5yZXBsYWNlKC8gL2csIFwiXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzaG93UmVjaXBpZW50cyhyZWNpcGllbnRzKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdXNlcklkRnJvbUxpbmsoaHJlZikge1xuICAgICAgICBpZiAoIWhyZWYpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbWF0Y2ggPSBocmVmLm1hdGNoKF9tYXRjaFVzZXJJZCk7XG4gICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSB8fCBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRPd25lckxpbmsoJGNvbW1lbnRzRGl2KSB7XG4gICAgICAgIHJldHVybiAkY29tbWVudHNEaXZcbiAgICAgICAgICAgIC5jbG9zZXN0KFwiLnF1ZXN0aW9uLCAuYW5zd2VyXCIpXG4gICAgICAgICAgICAuZmluZChcIi5wb3N0LXNpZ25hdHVyZTpsYXN0IC51c2VyLWRldGFpbHMgYVtocmVmXj0nLyddXCIpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgaHJlZiB0aHJvdWdoIGpxdWVyeSwgYXMgdGhpcy5ocmVmIHJldHVybiBmdWxsIHVybCwgbm90IHRoZSByZWxhdGl2ZVxuICAgICAgICAgICAgICAgIHJldHVybiBfbWF0Y2hVc2VySWQudGVzdCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSBhcmUgZXhpc3RpbmcgY29tbWVudHMgYWJvdmUgcGFyYW1ldGVyIHRleHRhcmVhICckdHh0JywgYWRkcyBhIHNtYWxsIHBvcHVwIHdpdGggY2FuZGlkYXRlcyBmb3IgXCJAIHJlcGx5aW5nXCIgdGhhdCBtYXlcbiAgICAgKiBiZSBhdXRvLWNvbXBsZXRlZCB2aWEgdGFiYmluZy5cbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJHR4dCAtIHRleHRhcmVhIGJlbG93IGEgYnVuY2ggb2YgY29tbWVudHMgLSBlaXRoZXIgZm9yIGFkZGluZyBvciBlZGl0aW5nIGNvbW1lbnRzXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRjb21tZW50c09wdGlvbmFsIC0gYWxsb3dzIGNvbW1lbnRzIHRvIGJlIHNwZWNpZmllZCAocmU6IGRvY3MpOyB3aGVuIG51bGwsIGFzc3VtZWQgdG8gYmUgdXNlZCBvbiBhIFBvc3RcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJG93bmVyTGlua09wdGlvbmFsIC0gYWxsb3dzIGNvbnRlbnQgb3duZXIgKGUuZy4gcG9zdCBvd25lcikgdG8gYmUgc3BlY2lmaWVkOyB3aGVuIG51bGwsIFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3N1bWVkIHRvIGJlIHVzZWQgb24gYSBQb3N0XG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICR3aGVyZVRvSW5zZXJ0VGFiQ29tcGxldGVPcHRpb25hbCAtICN0YWJjb21wbGV0ZSB3aWxsIGJlIGluc2VydGVkIGhlcmU7IHdoZW4gbnVsbCwgaXQncyBpbnNlcnRlZCBiZWZvcmUgJHR4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXQoJHR4dCwgJGNvbW1lbnRzT3B0aW9uYWwsICRvd25lckxpbmtPcHRpb25hbCwgJHdoZXJlVG9JbnNlcnRUYWJDb21wbGV0ZU9wdGlvbmFsKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmhhc0NvbnRlbnRFZGl0YWJsZSgkdHh0KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHZhciBjb21tZW50c0RpdiA9ICRjb21tZW50c09wdGlvbmFsIHx8ICR0eHQuY2xvc2VzdChcImRpdi5jb21tZW50c1wiKTtcbiAgICAgICAgdmFyIG93bmVyTGluayA9ICRvd25lckxpbmtPcHRpb25hbCB8fCBmaW5kT3duZXJMaW5rKGNvbW1lbnRzRGl2KTtcbiAgICAgICAgdmFyIG93bmVySWQgPSB1c2VySWRGcm9tTGluayhvd25lckxpbmsuYXR0cihcImhyZWZcIikpO1xuICAgICAgICB2YXIgY29tbWVudGVyc0Nocm9ub2xvZ2ljYWwgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICBjb21tZW50c0Rpdi5maW5kKFwiYS5jb21tZW50LXVzZXJcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW0pIHsgLy8gbm90ZSB0aGF0IHRoaXMgZXhjbHVkZXMgZGVsZXRlZCB1c2VyczsgdGhleSBhcmUgc3Bhbi5jb21tZW50LXVzZXJcbiAgICAgICAgICAgIHZhciBub2RlID0gZWxlbS5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IDMpIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmRlYnVnLmxvZyhcInVuZXhwZWN0ZWQgc3RydWN0dXJlIGluIGNvbW1lbnQgb3duZXIgbGlua1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdXNlcm5hbWUgPSBub2RlLm5vZGVWYWx1ZTsgLy8gd2UncmUgZG9pbmcgaXQgdGhpcyB3YXkgdG8gZXhjbHVkZSBkaWFtb25kcyAod2hpY2ggYXJlIGluIGEgc3Bhbi5tb2QtZmxhaXIpXG4gICAgICAgICAgICB2YXIgdXNlcmlkID0gdXNlcklkRnJvbUxpbmsoJChlbGVtKS5hdHRyKFwiaHJlZlwiKSk7XG4gICAgICAgICAgICBpZiAodXNlcmlkID09PSBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci51c2VySWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29tbWVudGVyc0Nocm9ub2xvZ2ljYWwucHVzaCh7IGlkOiB1c2VyaWQsIG5hbWU6IHVzZXJuYW1lfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgX2NhbmRpZGF0ZXMgPSBbXTtcbiAgICAgICAgdmFyIGZvdW5kID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSBjb21tZW50ZXJzQ2hyb25vbG9naWNhbC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGNvbW1lbnRlcnNDaHJvbm9sb2dpY2FsW2ldO1xuICAgICAgICAgICAgaWYgKCFmb3VuZFtjYW5kaWRhdGUuaWRdKSB7XG4gICAgICAgICAgICAgICAgX2NhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIGZvdW5kW2NhbmRpZGF0ZS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJChcIiN0YWJjb21wbGV0ZVwiKS5yZW1vdmUoKTtcbiAgICAgICAgaWYgKF9jdXJyZW50VGV4dGFyZWEpIHtcbiAgICAgICAgICAgIF9jdXJyZW50VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAudW5iaW5kKCQuYnJvd3Nlci5vcGVyYSA/IFwia2V5cHJlc3NcIiA6IFwia2V5ZG93blwiLCBkb3duSGFuZGxlcilcbiAgICAgICAgICAgICAgICAudW5iaW5kKFwia2V5dXAgY2xpY2tcIiwgdXBIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gZXhjZXB0IGZvciBtYXliZSB0aGUgY3VycmVudCB1c2VyIG9yIHRoZSBvd25lciwgbm9ib2R5IGhhcyBjb21tZW50ZWQgaGVyZSB5ZXQ7XG4gICAgICAgIC8vIGRvIG5vdCBvZmZlciB0YWIgY29tcGxldGlvbi5cbiAgICAgICAgaWYgKF9jYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCB8fCAoX2NhbmRpZGF0ZXMubGVuZ3RoID09PSAxICYmIF9jYW5kaWRhdGVzWzBdLmlkID09PSBvd25lcklkKSkge1xuICAgICAgICAgICAgX2N1cnJlbnRUZXh0YXJlYSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIF9jdXJyZW50VGV4dGFyZWEgPSAkdHh0O1xuICAgICAgICBfbGFzdFJlYWQgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdmFyICR0YWJjb21wbGV0ZSA9ICQoXCI8dWwgaWQ9J3RhYmNvbXBsZXRlJyAvPlwiKTtcbiAgICAgICAgaWYgKCR3aGVyZVRvSW5zZXJ0VGFiQ29tcGxldGVPcHRpb25hbCkge1xuICAgICAgICAgICAgJHdoZXJlVG9JbnNlcnRUYWJDb21wbGV0ZU9wdGlvbmFsLmFwcGVuZCgkdGFiY29tcGxldGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJHRhYmNvbXBsZXRlLmluc2VydEJlZm9yZSgkdHh0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgJHR4dC5iaW5kKFwia2V5ZG93blwiLCBkb3duSGFuZGxlcilcbiAgICAgICAgICAgIC5iaW5kKFwia2V5dXAgY2xpY2tcIiwgdXBIYW5kbGVyKTtcbiAgICB9XG4gICAgXG4gICAgXG4gICAgcmV0dXJuIHsgaW5pdDogaW5pdCB9O1xuICAgIFxufSkoKTtcblxuIiwiaW1wb3J0IHsgS0VZX0NPREUgfSBmcm9tICcuLi9jb25zdGFudHMubW9kJztcblxuU3RhY2tFeGNoYW5nZS5pbmxpbmVFZGl0aW5nID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY3Jvc3NGYWRlKG91dEVsZW0sIGluRWxlbSwgZHVyYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpbkVsZW0uZmFkZUluKGR1cmF0aW9uLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBvdXRFbGVtLmhpZGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzbWFydHlQYW50c01pbmkocykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJyAmJiBTdGFja0V4Y2hhbmdlLnNldHRpbmdzLnF1ZXN0aW9ucy5hcHBseUZhbmN5RW5jb2RpbmdUb1F1ZXN0aW9uVGl0bGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoL1xcLnszLH0vZywgXCJcXHUyMDI2XCIpOyAvLyAuLi4gKG9yIG1vcmUpIGJlY29tZXMgJmhlbGxpcDtcbiAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKC8tLS0/KFxccykvZywgXCJcXHUyMDE0JDFcIik7IC8vIC0tLSBvciAtLSBiZWNvbWVzICZtZGFzaDtcbiAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cIiguKj8pXCIvZywgXCJcXHUyMDFjJDFcXHUyMDFkXCIpOyAvLyBcImZvb1wiIGJlY29tZXMgJmxkcXVvO2ZvbyZyZHF1bztcbiAgICAgICAgICAgICAgICAvLyBzLnJlcGxhY2UoLyg/PCFbQS1aYS16XSknKC4qPyknKD8hW0EtWmEtel0pL2csIFwiXFx1MjAxOCQxXFx1MjAxOVwiKTsgLy8gJ2ZvbycgYmVjb21lcyAmbHNxdW87Zm9vJnJzcXVvO1xuICAgICAgICAgICAgICAgIC8vIHMucmVwbGFjZSgvKD88PVtBLVphLXowLTldKScoW0EtWmEtel0rKS9nLCBcIlxcdTIwMTkkMVwiKTsgLy8gQSdzIGFuZCBPJ01hbGxleSBiZWNvbWVzICZyc3F1bztzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWZlcnJlcikge1xuICAgICAgICAgICAgJChcIiNwb3N0LWZvcm0gaW5wdXRbbmFtZT0ncmVmZXJyZXInXVwiKS52YWwoZG9jdW1lbnQucmVmZXJyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5qcy1wb3N0LW1lbnUgLmpzLWVkaXQtcG9zdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0LmN0cmxLZXkgfHwgZXZ0LmFsdEtleSB8fCBldnQubWV0YUtleSB8fCBldnQuc2hpZnRLZXkpIHJldHVybjsgLy8gYWxsb3cgb3BlbiBuZXcgd2luZG93IGV0Y1xuICAgICAgICAgICAgdmFyIGUgPSAkKHRoaXMpLCByb290ID0gZS5jbG9zZXN0KFwiLnF1ZXN0aW9uLCAuYW5zd2VyXCIpO1xuXG4gICAgICAgICAgICBpZiAoZS5kYXRhKCdoYW5kbGluZy1ldmVudCcpID09IDEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGUuZGF0YSgnaGFuZGxpbmctZXZlbnQnLCAxKTtcblxuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuaW5saW5lVGFnRWRpdGluZykge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaW5saW5lVGFnRWRpdGluZy5jYW5jZWxGb3JGdWxsRWRpdG9yKHJvb3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2hvd0VkaXRvckJ1dHRvbiA9ICQoXCIjc2hvdy1lZGl0b3ItYnV0dG9uXCIpO1xuICAgICAgICAgICAgdmFyIHNob3dFZGl0b3JCdXR0b25XYXNIaWRkZW4gPSBzaG93RWRpdG9yQnV0dG9uLmlzKCc6dmlzaWJsZScpO1xuICAgICAgICAgICAgaWYgKHNob3dFZGl0b3JCdXR0b25XYXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBzaG93RWRpdG9yQnV0dG9uLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuYWRkU3Bpbm5lcigpO1xuXG4gICAgICAgICAgICB2YXIgYW5zd2VyID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBpc0Fuc3dlciA9IHJvb3QuaGFzQ2xhc3MoXCJhbnN3ZXJcIik7XG4gICAgICAgICAgICBpZiAoaXNBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBcIiBjbGFzcz0nYW5zd2VyJ1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSByb290LmZpbmQoJy5wb3N0Y2VsbCwuYW5zd2VyY2VsbCcpO1xuICAgICAgICAgICAgdmFyIHRvQmVIaWRkZW4gPSBleGlzdGluZy5maW5kKCc+IConKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGRpdiA9ICQoJzxkaXYgY2xhc3M9XCJpbmxpbmUtZWRpdG9yXCIvPicpLmhpZGUoKS5hcHBlbmRUbyhleGlzdGluZyk7XG5cbiAgICAgICAgICAgIC8vIFBvc3RzQ29udHJvbGxlci5JbmxpbmVFZGl0OiBwb3N0cy97aWQ6SU5UfS9lZGl0LWlubGluZVxuICAgICAgICAgICAgZGl2LmxvYWQoZS5hdHRyKCdocmVmJykgKyAnLWlubGluZScsIGZ1bmN0aW9uIChyLCBzdGF0dXMsIHhocikge1xuXG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsVGl0bGU7XG5cbiAgICAgICAgICAgICAgICBkaXYuZmluZChcIlt0YWJpbmRleF1cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJpbmRleCA9IHBhcnNlSW50KCQodGhpcykuYXR0cihcInRhYmluZGV4XCIpLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBhbnkgdW5zZXQgdGFiaW5kZXggb3IgdGFiaW5kZXggc2V0IHRvIC0xXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTih0YWJpbmRleCkgfHwgdGFiaW5kZXggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJ0YWJpbmRleFwiLCB0YWJpbmRleCAtIDIwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJvb3Qub2Zmc2V0KCkudG9wIDwgJCh3aW5kb3cpLnNjcm9sbFRvcCgpKSAvLyBkb24ndCBzY3JvbGwgaWYgdGhlIHRvcCBvZiB0aGUgcG9zdCBpcyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAkKHJvb3QpLm9mZnNldCgpLnRvcCAtIDU1IH0sIDIwMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBlLmRhdGEoJ2hhbmRsaW5nLWV2ZW50JywgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gNDAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd0Vycm9yTWVzc2FnZShleGlzdGluZywgX3MoJ0VkaXRpbmcgaXMgY3VycmVudGx5IGZvcmJpZGRlbi4nKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGZhaWxlZCBiZWNhdXNlIHRoZXJlJ3MgYSBwZW5kaW5nIHN1Z2dlc3RlZCBlZGl0LCByZXdyaXRlIHRoZSBsaW5rIGFuZCBiaW5kIGZvciBhc3luYyByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoL1xcL3Jldmlld1xcL3N1Z2dlc3RlZC1lZGl0c1xcL1xcZCsvLnRlc3QocikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2pzLWVkaXQtcG9zdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdqcy1lZGl0LXBlbmRpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKHsgaHJlZjogciwgdGl0bGU6IF9zKFwiMSBlZGl0IHRvIHRoaXMgcG9zdCBpcyBwZW5kaW5nLCBwbGVhc2UgcmV2aWV3IGl0XCIpIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoZS50ZXh0KCkgKyBcIiAoMSlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmJpbmRTdWdnZXN0ZWRFZGl0UG9wdXBMaW5rcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dFcnJvck1lc3NhZ2UoZXhpc3RpbmcsIF9zKCdUaGUgcG9zdCBjb3VsZCBub3QgYmUgbG9hZGVkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZSh0b0JlSGlkZGVuLCBkaXYsIDMwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbmNlbEVkaXQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UubmF2UHJldmVudGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghU3RhY2tFeGNoYW5nZS5uYXZQcmV2ZW50aW9uLmNvbmZpcm0oX3MoXCJZb3UgaGF2ZSBzdGFydGVkIGVkaXRpbmcgdGhpcyBwb3N0LiBBYmFuZG9uIHRoaXMgZWRpdD9cIikpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5uYXZQcmV2ZW50aW9uLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImJlZ2luRWRpdEV2ZW50XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmJlZ2luRWRpdEV2ZW50LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93RWRpdG9yQnV0dG9uV2FzSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXRvckJ1dHRvbi5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEoJ2hhbmRsaW5nLWV2ZW50JywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc0ZhZGUoZGl2LCBlbGVtLCAzMDAsIGZ1bmN0aW9uICgpIHsgZGl2LnJlbW92ZSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm9mZnNldCgpLnRvcCA8ICQod2luZG93KS5zY3JvbGxUb3AoKSkgLy8gZG9uJ3Qgc2Nyb2xsIGlmIHRoZSB0b3Agb2YgdGhlIHBvc3QgaXMgdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAkKHJvb3QpLm9mZnNldCgpLnRvcCAtIDU1IH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVRpdGxlRXZlbnQgPSBcImlucHV0IGtleXVwXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudW5iaW5kKHVwZGF0ZVRpdGxlRXZlbnQsIHVwZGF0ZVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpdGxlRGVsYXllZC50cmlnZ2VyKG9yaWdpbmFsVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVUaXRsZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpdGxlRGVsYXllZC50cmlnZ2VyKHRpdGxlWzBdLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5maW5kKCcuY2FuY2VsLWVkaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7IHJlc2V0VGl0bGUoKTsgY2FuY2VsRWRpdCh0b0JlSGlkZGVuKTsgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmVOZXdEZWZhdWx0RGVsYXllZCA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5EZWxheWVkUmVhY3Rpb24oZnVuY3Rpb24gKGhpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LCBoaWRlOiBoaWRlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi91c2VyL3NhdmUtcHJlZi9oaWRlLXByZXZpZXctZm9yLWlubGluZS1lZGl0aW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwLCB7IHNsaWRpbmc6IHRydWUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpZGVQcmV2aWV3ID0gZGl2LmZpbmQoJy5oaWRlLXByZXZpZXcnKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZVByZXZpZXcuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpZXcgPSBkaXYuZmluZChcIi5qcy13bWQtcHJldmlld1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlID0gcHJldmlldy5pcyhcIjp2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3LnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlUHJldmlldy50ZXh0KF9zKFwic2hvdyBwcmV2aWV3XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlldy5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlUHJldmlldy50ZXh0KF9zKFwiaGlkZSBwcmV2aWV3XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5ld0RlZmF1bHREZWxheWVkLnRyaWdnZXIodmlzaWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm0gPSBkaXYuZmluZCgnZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGRpdi5maW5kKCcjdGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9ICQoXCIjcXVlc3Rpb24taGVhZGVyIGEucXVlc3Rpb24taHlwZXJsaW5rXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxUaXRsZVN1ZmZpeCA9IHRpdGxlLmRhdGEoJ3F1ZXN0aW9uLXN0YXRlLXN1ZmZpeCcpO1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRpdGxlU3VmZml4ID0gb3JpZ2luYWxUaXRsZVN1ZmZpeCA/ICcgJyArIG9yaWdpbmFsVGl0bGVTdWZmaXggOiAnJztcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUaXRsZSA9IHRpdGxlLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRUaXRsZURlbGF5ZWQgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuRGVsYXllZFJlYWN0aW9uKGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRleHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIudGV4dChzbWFydHlQYW50c01pbmkodGV4dCkgKyBvcmlnaW5hbFRpdGxlU3VmZml4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIE1hdGhKYXggIT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGhKYXguSHViLlF1ZXVlKFtcIlR5cGVzZXRcIiwgTWF0aEpheC5IdWIsIGhlYWRlclswXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7IHNsaWRpbmc6IHRydWUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGl0bGUuYmluZCh1cGRhdGVUaXRsZUV2ZW50LCB1cGRhdGVUaXRsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LmZpbmQoJyN0aXRsZSwud21kLWlucHV0LCN0YWduYW1lcywuZWRpdC1jb21tZW50Jykua2V5ZG93bihmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0LmN0cmxLZXkgPT09IHRydWUgJiYgZXZ0LmtleUNvZGUgPT0gS0VZX0NPREUuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQua2V5Q29kZSA9PSBLRVlfQ09ERS5FU0MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsRWRpdCh0b0JlSGlkZGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJwb3N0VmFsaWRhdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnBvc3RWYWxpZGF0aW9uLmluaXRPbkJsdXJBbmRTdWJtaXQoZm9ybSwgaXNBbnN3ZXIgPyAyIDogMSwgJ2VkaXQnLCBmYWxzZSwgZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGpzb24uaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQoaHRtbCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnJlcGxhY2VXaXRoKGVsZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fuc3dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3F1ZXN0aW9uLWhlYWRlciBhLnF1ZXN0aW9uLWh5cGVybGlua1wiKS50ZXh0KHNtYXJ0eVBhbnRzTWluaShqc29uLnRpdGxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCcpLnRyaWdnZXIoJ2lubGluZS1lZGl0LWNvbXBsZXRlJywgW2VsZW0sIGpzb24udGl0bGVdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQ29kZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsRWRpdChlbGVtKTsgLy8gcmV2ZXJ0cyB0aGUgVUlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwiYmVnaW5FZGl0RXZlbnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5iZWdpbkVkaXRFdmVudC5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgaW5pdFVzZXJTYXZlcywgaW5pdFNhdmVzIH0gZnJvbSBcIi4uL3NhdmVzLm1vZFwiO1xuXG5TdGFja0V4Y2hhbmdlLnNhdmVzID0ge1xuICAgIGluaXRTYXZlczogaW5pdFNhdmVzLFxuICAgIGluaXRVc2VyU2F2ZXM6IGluaXRVc2VyU2F2ZXMsXG59O1xuIiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4vLi4vLi4vQ29udGVudC9Kcy90aGlyZC1wYXJ0eS9ldmVudC1lbWl0dGVyLmpzJyk7XG5cbnZhciBTdGFja0V4Y2hhbmdlID0gU3RhY2tFeGNoYW5nZSB8fCB7fTtcblxuU3RhY2tFeGNoYW5nZS5yZWFsdGltZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNvY2tldCA9IG51bGw7XG4gICAgdmFyIGFjdGl2ZVRvU2hvdyA9IHt9O1xuICAgIHZhciBhbnN3ZXJzVG9TaG93ID0gW107XG4gICAgdmFyIGNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICB2YXIgY2hhbm5lbEJ1ZmZlciA9IFtdO1xuICAgIHZhciBjb25uZWN0UmV0cnlNYXggPSAxMDsgICAgXG4gICAgdmFyIGNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHZhciBmb3JtYXRTaG9ydERhdGVzID0gZmFsc2U7XG4gICAgdmFyIHN1cHByZXNzZWRUYWdIaWdobGlnaHRzO1xuICAgIHZhciBraWxsZWQgPSBmYWxzZTtcblxuICAgIHZhciBwYXVzZU5vdGlmaWNhdGlvbnMgPSBmYWxzZTtcblxuICAgIHZhciBlZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIGZ1bmN0aW9uIFdlYlNvY2tldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0aW9uZmFpbGVkOiBudWxsLFxuICAgICAgICAgICAgb25vcGVuOiBudWxsLFxuICAgICAgICAgICAgb25tZXNzYWdlOiBudWxsLFxuICAgICAgICAgICAgb25jbG9zZTogbnVsbCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBXZWJTb2NrZXREaXJlY3RXcmFwcGVyKGVuZHBvaW50VXJsKSB7XG4gICAgICAgIHZhciB3ZWJTb2NrZXQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uOiBXZWJTb2NrZXRFdmVudHMoKSxcblxuICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdlYlNvY2tldCAmJiB3ZWJTb2NrZXQucmVhZHlTdGF0ZSA9PT0gMTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlYWR5U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3ZWJTb2NrZXQgPyB3ZWJTb2NrZXQucmVhZHlTdGF0ZSA6IG51bGw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh3ZWJTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb24gPSB0aGlzLm9uO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHdlYlNvY2tldCA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnRVcmwpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbi5jcmVhdGlvbmZhaWxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb24uY3JlYXRpb25mYWlsZWQoZXgubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3ZWJTb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkgeyBpZiAob24ub3Blbikgb24ub3BlbigpOyB9XG4gICAgICAgICAgICAgICAgd2ViU29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7IGlmIChvbi5jbG9zZSkgeyBvbi5jbG9zZSgpOyB9IHdlYlNvY2tldCA9IG51bGw7IH1cbiAgICAgICAgICAgICAgICB3ZWJTb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykgeyBpZiAob24ubWVzc2FnZSkgb24ubWVzc2FnZShtc2cpOyB9XG4gICAgICAgICAgICAgICAgd2ViU29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IGlmIChvbi5lcnJvcikgeyBvbi5lcnJvcigpOyB9IHdlYlNvY2tldCA9IG51bGw7IH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAod2ViU29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlYlNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB3ZWJTb2NrZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICh3ZWJTb2NrZXQpIHdlYlNvY2tldC5zZW5kKGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vQSB3ZWIgc29ja2V0IGlzIG9wZW4gYXMgc29vbiBhcyBpdCBpcyBpbnN0YW50aWF0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNvY2tldERpc3Bvc2UoKSB7XG4gICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgIHNvY2tldC5kaXNwb3NlKCk7XG4gICAgICAgICAgICBzb2NrZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdChlbmRwb2ludCkge1xuICAgICAgICB2YXIgZW5kcG9pbnRTcGxpdCA9IGVuZHBvaW50LnNwbGl0KFwiLFwiKTtcbiAgICAgICAgdmFyIGVuZHBvaW50Q291bnQgPSBlbmRwb2ludFNwbGl0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGVuZHBvaW50SW5kZXggPSBjb25uZWN0UmV0cmllcyAlIChlbmRwb2ludENvdW50KTtcbiAgICAgICAgdmFyIGVuZHBvaW50VXJsID0gZW5kcG9pbnRTcGxpdFtlbmRwb2ludEluZGV4XTtcbiAgICAgICAgdmFyIHN0YWxlRGlzY29ubmVjdEludGVydmFsSW5Ib3VycyA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5yZWFsdGltZS5zdGFsZURpc2Nvbm5lY3RJbnRlcnZhbEluSG91cnM7XG5cbiAgICAgICAgaWYgKFwiV2ViU29ja2V0XCIgaW4gd2luZG93KSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgc29ja2V0ID0gV2ViU29ja2V0RGlyZWN0V3JhcHBlcihlbmRwb2ludFVybCk7XG4gICAgICAgICAgICBpZiAoc29ja2V0ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgc29ja2V0Lm9uLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29ubmVjdFJldHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgIGxvZygnV2ViU29ja2V0IG9wZW5lZCcpO1xuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQgJiYgKHNvY2tldC5yZWFkeVN0YXRlKCkgPT09IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdCA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55IGFkZGl0aW9ucyBoZXJlIHNob3VsZCBhbHNvIGJlIHJlZmxlY3RlZCBpbiBMaXN0QWN0aXZlU29ja2V0cyAoY29sdW1uIGhlYWRlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gJ3wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0LnJvdXRlTmFtZSkgbXNnID0gbXNnICsgb3B0LnJvdXRlTmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnICsgJ3wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdC51c2VyICYmIG9wdC51c2VyLnVzZXJJZCkgbXNnID0gbXNnICsgb3B0LnVzZXIudXNlcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cgKyAnfCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0LnVzZXIgJiYgb3B0LnVzZXIuYWNjb3VudElkKSBtc2cgPSBtc2cgKyBvcHQudXNlci5hY2NvdW50SWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZyArICd8JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHQudXNlciAmJiBvcHQudXNlci5yZXApIG1zZyA9IG1zZyArIG9wdC51c2VyLnJlcC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnICsgJ3wnICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAnfCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0LnNlcnZlclRpbWUpIG1zZyA9IG1zZyArIG9wdC5zZXJ2ZXJUaW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cgKyAnfCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2coJ2FuYWx5dGljOiAnICsgbXNnKTsgLy8gbm90ZTogdGhlc2UgdmFsdWVzIGFyZSAqKm5ldmVyKiogdG8gYmUgdXNlZCBmb3IgaWRlbnRpZmljYXRpb24gKHRydXN0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHVycG9zZXM7IHRoZXkgYXJlIGZvciBhbmFseXRpYyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbmRDaGFubmVsQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0hlYXJ0YmVhdHMoKTtcbiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbCh1cGRhdGVSZWxhdGl2ZURhdGVzLCA2MDAwMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhbGVEaXNjb25uZWN0SW50ZXJ2YWxJbkhvdXJzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGRpc2Nvbm5lY3RTdGFsZUNvbm5lY3Rpb24sIHN0YWxlRGlzY29ubmVjdEludGVydmFsSW5Ib3VycyAqIDEwMDAgKiA2MCAqIDYwIC8qIGhvdXJzICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzb2NrZXQub24ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICQucGFyc2VKU09OKG1zZy5kYXRhIHx8IG1zZyk7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBcInJlYWx0aW1lLWJyb2FkY2FzdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZyhcImJyb2FkY2FzdCBtZXNzYWdlIC0gXCIgKyBtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnJvYWRjYXN0QWN0aW9uID0gJC5wYXJzZUpTT04obWVzc2FnZS5kYXRhKS5hO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJvYWRjYXN0QWN0aW9uID09PSBcImtpbGxXZWJTb2NrZXRcIiB8fCBicm9hZGNhc3RBY3Rpb24gPT09IFwicmVzdGFydFdlYlNvY2tldFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2coXCJBcHBseWluZyBhY3Rpb246IFwiICsgYnJvYWRjYXN0QWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbGxlZCA9IChicm9hZGNhc3RBY3Rpb24gPT09IFwia2lsbFdlYlNvY2tldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChraWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXREaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmFjdGlvbiA9PSBcImRlYnVnLWluZm9cIikge1xuICAgICAgICAgICAgICAgICAgICBsb2cobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVlLmVtaXRFdmVudChtZXNzYWdlLmFjdGlvbiwgW21lc3NhZ2UuZGF0YV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNvY2tldC5vbi5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzb2NrZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxvZygnV2ViU29ja2V0IGNsb3NlZCcpO1xuICAgICAgICAgICAgICAgIGlmICgha2lsbGVkICYmIGNvbm5lY3RSZXRyaWVzIDwgNSAmJiBjb25uZWN0UmV0cnlNYXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RSZXRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RSZXRyeU1heC0tO1xuICAgICAgICAgICAgICAgICAgICBsb2coJ3JlY29ubmVjdCBhdHRlbXB0OicgKyBjb25uZWN0UmV0cmllcyArICcgbWF4IHJldHJpZXM6JyArIGNvbm5lY3RSZXRyeU1heCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLmluaXQoZW5kcG9pbnQpIH0sIE1hdGgucmFuZG9tKCkgKiA1ICogNjAgKiAxMDAwKTsgLy8gU3BhY2UgcmVjb25uZWN0cyBhY3Jvc3MgNSBtaW51dGVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc29ja2V0Lm9uLmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvZygnV2ViU29ja2V0IGZhaWxlZCcpO1xuICAgICAgICAgICAgICAgIHNvY2tldERpc3Bvc2UoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNvY2tldC5vbi5jcmVhdGlvbmZhaWxlZCA9IGZ1bmN0aW9uKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGxvZygnU29ja2V0cyBkaXNhYmxlZCAtICcgKyBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHNvY2tldERpc3Bvc2UoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNvY2tldC5zdGFydCgpO1xuXG4gICAgICAgICAgICBpZihjaGFubmVsQnVmZmVyLmxlbmd0aCA+IDAgJiYgc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmRDaGFubmVsQnVmZmVyKCkge1xuICAgICAgICBpZiAoc29ja2V0ID09IG51bGwgfHwgIXNvY2tldC5pc09wZW4oKSkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hhbm5lbEJ1ZmZlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGxvZyhcInNlbmRpbmcgXCIgKyBjaGFubmVsQnVmZmVyW2ldKTtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKGNoYW5uZWxCdWZmZXJbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2ltdWxhdGUobWVzc2FnZSkge1xuICAgICAgICBlZS5lbWl0RXZlbnQobWVzc2FnZS5hY3Rpb24sIFttZXNzYWdlLmRhdGFdKTtcbiAgICAgICAgY29uc29sZS5kaXIoZWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7XG4gICAgICAgIGlmICghKChTdGFja0V4Y2hhbmdlICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucyAmJiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMuZW5hYmxlTG9nZ2luZykgfHwgKCQgJiYgJC5jb29raWUgJiYgJC5jb29raWUoJ2RldmxvZycpKSkpIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWx0aW1lOiAnICsgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0hlYXJ0YmVhdHMoKSB7XG4gICAgICAgIGVlLmFkZExpc3RlbmVyKCdoYicsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBsb2coJ2hlYXJ0YmVhdCByZWNlaXZlZDsgcmVzcG9uZGluZycpO1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShkYXRhLCBmbHVzaCkge1xuICAgICAgICBjaGFubmVsQnVmZmVyLnB1c2goZGF0YSk7XG4gICAgICAgIGZsdXNoID0gZmx1c2ggPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICBpZiAoZmx1c2gpIHNlbmRDaGFubmVsQnVmZmVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJpY1Vuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbk5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGVlLnJlbW92ZUxpc3RlbmVyKHN1YnNjcmlwdGlvbk5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgdW5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlbmVyaWNTdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgY2FsbGJhY2spO1xuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoZGF0YSkge1xuICAgICAgICBsb2coXCJ1bnN1YnNjcmliaW5nIFwiICsgZGF0YSk7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gJC5pbkFycmF5KGRhdGEsIGNoYW5uZWxCdWZmZXIpO1xuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHJldHVybjtcblxuICAgICAgICBjaGFubmVsQnVmZmVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gdW5zdWJzY3JpYmUgaGFwcGVucyBpbW1lZGlhdGVseSBhbmQgaXMgc2VudCBkaXJlY3RseVxuICAgICAgICBpZiAoc29ja2V0ID09IG51bGwgfHwgIXNvY2tldC5pc09wZW4oKSkgcmV0dXJuO1xuICAgICAgICBzb2NrZXQuc2VuZChcIi1cIiArIGRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlYnVnKHNlY3Rpb24pIHtcbiAgICAgICAgaWYgKHNvY2tldCkgc29ja2V0LnNlbmQoJ2RlYnVnLScgKyBzZWN0aW9uKTtcbiAgICAgICAgZWxzZSBsb2coJ25vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bnN1YnNjcmliZVRvUXVlc3Rpb24oc2lkLCBxaWQpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbk5hbWUgPSBzaWQgKyAnLXF1ZXN0aW9uLScgKyBxaWQ7XG4gICAgICAgIHVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbk5hbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvU3RhZ2luZ0dyb3VuZFF1ZXN0aW9uKHNpZCwgcWlkLCBjb21tZW50QWRkQ2FsbGJhY2ssIHJldmlld0FjdGlvbkNhbGxiYWNrLCBwb3N0RWRpdENhbGxiYWNrLCBwb3N0RGVsZXRlZENhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25OYW1lID0gc2lkICsgJy1xdWVzdGlvbi0nICsgcWlkO1xuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG5cbiAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGRvZXMgdGhpcyBhY3R1YWxseSB3b3JrIG9yIGlzIGl0IGdldHRpbmcgY2FwdHVyZWQ/XG4gICAgICAgICAgICBpZiAocGF1c2VOb3RpZmljYXRpb25zKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0gJC5wYXJzZUpTT04oZGF0YSk7XG5cbiAgICAgICAgICAgIC8vIE5PVEU6IHNvbWUgZXZlbnRzIGRvbid0IHBhc3MgdGhlIGFjY291bnQgaWQsIGUuZy4gcG9zdC1kZWxldGVkLCBhcyB0aGlzIGNhbiBsZWFrIHByaXZpbGVnZWQgaW5mbyB0byBhbGwgbGlzdGVuZXJzXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hY2N0aWQgPT0gU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuYWNjb3VudElkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxvZyhzdWJzY3JpcHRpb25OYW1lICsgJyAnICsgZGF0YSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAocGF5bG9hZC5hKSB7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tbWVudC1hZGRcIjpcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudEFkZENhbGxiYWNrKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmV2aWV3LWFjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICByZXZpZXdBY3Rpb25DYWxsYmFjayhwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBvc3QtZWRpdFwiOlxuICAgICAgICAgICAgICAgICAgICBwb3N0RWRpdENhbGxiYWNrKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicG9zdC1kZWxldGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHBvc3REZWxldGVkQ2FsbGJhY2socGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmVUb1F1ZXN0aW9uKHNpZCwgcWlkKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25OYW1lID0gc2lkICsgJy1xdWVzdGlvbi0nICsgcWlkO1xuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG5cbiAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgICAgICAgICAgLy8gVE9ETzogZG9lcyB0aGlzIGFjdHVhbGx5IHdvcmsgb3IgaXMgaXQgZ2V0dGluZyBjYXB0dXJlZD9cbiAgICAgICAgICAgIGlmIChwYXVzZU5vdGlmaWNhdGlvbnMpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHBheWxvYWQgPSAkLnBhcnNlSlNPTihkYXRhKTtcblxuICAgICAgICAgICAgLy8gTk9URTogc29tZSBldmVudHMgZG9uJ3QgcGFzcyB0aGUgYWNjb3VudCBpZCwgZS5nLiBwb3N0LWRlbGV0ZWQsIGFzIHRoaXMgY2FuIGxlYWsgcHJpdmlsZWdlZCBpbmZvIHRvIGFsbCBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFjY3RpZCA9PSBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5hY2NvdW50SWQpIHJldHVybjtcblxuICAgICAgICAgICAgbG9nKHN1YnNjcmlwdGlvbk5hbWUgKyAnICcgKyBkYXRhKTtcblxuICAgICAgICAgICAgc3dpdGNoIChwYXlsb2FkLmEpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NvcmVcIjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdFNjb3JlVXBkYXRlKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tbWVudC1hZGRcIjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdENvbW1lbnRBZGQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXItYWRkXCI6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RBbnN3ZXJBZGQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhY2NlcHRcIjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdEFuc3dlckFjY2VwdChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuYWNjZXB0XCI6XG4gICAgICAgICAgICAgICAgICAgIHBvc3RBbnN3ZXJBY2NlcHQocGF5bG9hZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwb3N0LWVkaXRcIjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdEVkaXQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwb3N0LWRlbGV0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgcG9zdERlbGV0ZWQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXVzZVF1ZXN0aW9uTm90aWZpY2F0aW9ucyh2YWwpIHtcbiAgICAgICAgcGF1c2VOb3RpZmljYXRpb25zID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZm9ybXMgdmlld2VyIHRoYXQgYSBwb3N0IGhhcyBiZWVuIGRlbGV0ZWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWQgLSBlLmcuIHtcImFcIjpcInBvc3QtZGVsZXRlZFwiLFwicUlkXCI6MjM3ODM1LFwiYUlkXCI6MjQ4NTY3LFwiYWNjdGlkXCI6M31cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwb3N0RGVsZXRlZChwYXlsb2FkKSB7XG5cbiAgICAgICAgdmFyIHBvc3RJZCA9IHBheWxvYWQuYUlkIHx8IHBheWxvYWQucUlkLFxuICAgICAgICAgICAgaXNBbnN3ZXIgPSAhIXBheWxvYWQuYUlkLFxuICAgICAgICAgICAgJHBvc3QgPSBpc0Fuc3dlciA/ICQoJyNhbnN3ZXItJyArIHBheWxvYWQuYUlkKSA6ICQoJyNxdWVzdGlvbicpO1xuXG4gICAgICAgIC8vIGZhZGUgb3V0IHRoZSBwb3N0IGFuZCBwdXQgYSBub3RpZmljYXRpb24gb2YgZGVsZXRpb24gb24gdG9wIG9mIGl0XG4gICAgICAgICRwb3N0LmNzcygnb3BhY2l0eScsIDAuMSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgJGNvdmVyaW5nID0gJCgnPGRpdiBjbGFzcz1cInJlYWx0aW1lLXBvc3QtZGVsZXRlZC1ub3RpZmljYXRpb25cIiAvPicpO1xuXG4gICAgICAgICRjb3ZlcmluZy5pbnNlcnRCZWZvcmUoJHBvc3QpO1xuXG4gICAgICAgIHZhciBtc2cgPSAhIVN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyWydjYW5TZWVEZWxldGVkUG9zdHMnXVxuICAgICAgICAgICAgICAgID8gX3MoJ1RoaXMgcG9zdCBoYXMgYmVlbiBkZWxldGVkIC0gY2xpY2sgdG8gcmVmcmVzaCB0aGUgcGFnZScpXG4gICAgICAgICAgICAgICAgOiBfcygnVGhpcyBwb3N0IGhhcyBiZWVuIGRlbGV0ZWQgYW5kIGlzIG5vIGxvbmdlciB2aWV3YWJsZScpO1xuXG4gICAgICAgIHZhciAkbXNnID0gJCgnPHA+JylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQobXNnKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGNvdmVyaW5nKTtcblxuICAgICAgICAkbXNnLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNsZWFyIG91dCBhbnkgZmxhZ2dpbmcvY2xvc3VyZSBwb3B1cHMsIHRvb1xuICAgICAgICAkKCcucG9wdXBbZGF0YS1wb3N0aWQ9JyArIHBvc3RJZCArICddJykuZmFkZU91dEFuZFJlbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc3RBbnN3ZXJBY2NlcHQoZGF0YSwgdW5hY2NlcHQpIHtcbiAgICAgICAgJCgnLmpzLWFjY2VwdGVkLWFuc3dlci1pbmRpY2F0b3InKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpc0FjY2VwdGVkID0gIXVuYWNjZXB0ICYmICQodGhpcykuY2xvc2VzdCgnLmpzLXZvdGluZy1jb250YWluZXInKS5kYXRhKCdwb3N0LWlkJykgPT09IGRhdGEuYW5zd2VyaWQ7XG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdkLW5vbmUnLCAhaXNBY2NlcHRlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc3RDb21tZW50QWRkKGRhdGEpIHtcbiAgICAgICAgLy8gdGhpcyBvbmUgd2lsbCBpc3N1ZSBhIGdldCBzaW5jZSBjb21tZW50cyBhcmUgcmVuZGVyZWQgYmFzZWQgb24gdXNlclxuXG4gICAgICAgIGlmICgkKCcjY29tbWVudC0nICsgZGF0YS5jb21tZW50aWQpLmxlbmd0aCAhPSAwKSByZXR1cm47XG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS5jb21tZW50cy5yZWFsdGltZU1lc3NhZ2UoZGF0YS5pZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlRGlyZWN0bHlUb1F1ZXN0aW9ucyhzaWQsIGNoYW5uZWwsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25OYW1lID0gc2lkICsgJy0nICsgY2hhbm5lbDtcblxuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG5cbiAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGxvZygncmVjZWl2ZWQgKGFjdGl2ZSkgb24gJyArIHN1YnNjcmlwdGlvbk5hbWUpO1xuICAgICAgICAgICAgdmFyIHBvc3QgPSAkLnBhcnNlSlNPTihkYXRhKTtcblxuICAgICAgICAgICAgaWYgKHRlc3QgJiYgIXRlc3QocG9zdCkpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICBhY3RpdmVRdWVzdGlvbnNVcGRhdGUocG9zdCwgY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHsgY2FsbGJhY2socG9zdCk7IH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG9BY3RpdmVRdWVzdGlvbnMoc2lkLCBjaGFubmVsLCBub0hpZ2hsaWdodFRhZ3MsIHJlcXVpcmVkVGFncywgZm9ybWF0RGF0ZVNob3J0LCBjYWxsYmFjaykge1xuICAgICAgICBzdXBwcmVzc2VkVGFnSGlnaGxpZ2h0cyA9IG5vSGlnaGxpZ2h0VGFncztcbiAgICAgICAgZm9ybWF0U2hvcnREYXRlcyA9IGZvcm1hdERhdGVTaG9ydDtcblxuICAgICAgICBzdWJzY3JpYmVEaXJlY3RseVRvUXVlc3Rpb25zKHNpZCwgY2hhbm5lbCwgZnVuY3Rpb24gKHBvc3QpIHtcblxuICAgICAgICAgICAgLy8gbXVzdCBjb250YWluIHRoZSByZXF1aXJlZCB0YWdzXG4gICAgICAgICAgICBpZiAocmVxdWlyZWRUYWdzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXF1aXJlZFRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShyZXF1aXJlZFRhZ3NbaV0sIHBvc3QudGFncykgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8vIFNwbGl0cyBhIHF1ZXJ5IGludG8gYSBncm91cCBvZiBxdWVyaWVzIGJhc2VkIG9uIFwib3JcIiB0YWdzLlxuICAgIC8vIGUuZy4gWydhJywgJ2FuZCcsICdiJywgJ29yJywgJ2MnLCAnZCddIC0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgIGZ1bmN0aW9uIHBhcnNlVGFnUXVlcnkodGFnUXVlcnkpIHtcbiAgICAgICAgdmFyIHF1ZXJpZXMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnRRdWVyeSA9IFtdO1xuXG4gICAgICAgIHRhZ1F1ZXJ5LmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ29yJykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UXVlcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzLnB1c2goY3VycmVudFF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFF1ZXJ5ID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcubGVuZ3RoID4gMCAmJiB0YWcgIT09ICdhbmQnKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXJ5LnB1c2godGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRRdWVyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBxdWVyaWVzLnB1c2goY3VycmVudFF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcmllcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmVUb1VRTChzaWQsIHNvcnQsIHRhZ1F1ZXJ5LCBmaWx0ZXJzLCBzdXBwcmVzc2VkVGFncykge1xuXG4gICAgICAgIHZhciBtYXRjaGVzRmlsdGVycyA9IGZ1bmN0aW9uIChwb3N0KSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVycy5ub0Fuc3dlcnMgJiYgIXBvc3Qubm9BbnN3ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9nKFwiaWdub3JpbmcgYmVjYXVzZSBoYXMgYW5zd2Vyc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJzLmhhc0JvdW50eSAmJiAhcG9zdC5oYXNCb3VudHkpIHtcbiAgICAgICAgICAgICAgICBsb2coXCJpZ25vcmluZyBiZWNhdXNlIG5vIGJvdW50eVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGxhc3ROb25OZWdhdGl2ZVRhZyA9IGZ1bmN0aW9uIChzdWJxdWVyeSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN1YnF1ZXJ5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnF1ZXJ5W2ldWzBdICE9PSAnLScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnF1ZXJ5W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN1cHByZXNzZWRUYWdIaWdobGlnaHRzID0gc3VwcHJlc3NlZFRhZ3M7XG5cbiAgICAgICAgaWYgKHRhZ1F1ZXJ5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlRGlyZWN0bHlUb1F1ZXN0aW9ucyhzaWQsICdxdWVzdGlvbnMtJyArIHNvcnQsIGZhbHNlLCBtYXRjaGVzRmlsdGVycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZVRhZ1F1ZXJ5KHRhZ1F1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWcgPSBsYXN0Tm9uTmVnYXRpdmVUYWcoc3VicXVlcnkpO1xuICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IG51bGwpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9ICdxdWVzdGlvbnMtJyArIHNvcnQgKyAnLXRhZy0nICsgdGFnO1xuXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlRGlyZWN0bHlUb1F1ZXN0aW9ucyhzaWQsIGNoYW5uZWwsIGZhbHNlLCBmdW5jdGlvbiAocG9zdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXNGaWx0ZXJzKHBvc3QpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGVhY2ggdGFnIGluIHRoZSBzdWJxdWVyeVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnF1ZXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gc3VicXVlcnlbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdbMF0gIT09ICctJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHBvc2l0aXZlLCBiYWlsIGlmIGl0IGlzbid0IGluIHRoZSB0YWcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh0YWcsIHBvc3QudGFncykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZygnaWdub3JpbmcgYmVjYXVzZSBwb3N0IGRvZXMgbm90IGNvbnRhaW4gJyArIHRhZyArICcgaW4gJyArIGNoYW5uZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVnYXRpdmVUYWcgPSB0YWcuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5lZ2F0aXZlLCBiYWlsIGlmIGl0IGlzIGluIHRoZSB0YWcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShuZWdhdGl2ZVRhZywgcG9zdC50YWdzKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nKCdpZ25vcmluZyBiZWNhdXNlIHBvc3QgY29udGFpbnMgJyArIG5lZ2F0aXZlVGFnICsgJyBpbiAnICsgY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG9Db3VudHMoc2lkKSB7XG4gICAgICAgIHN1YnNjcmliZShzaWQgKyAnLXFjbnQtZmVlZCcpO1xuICAgICAgICBlZS5hZGRMaXN0ZW5lcihzaWQgKyAnLXFjbnQtZmVlZCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkKCdkaXYjcS1jbnQnKS5odG1sKGRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdWJzY3JpYmUoc2lkICsgJy1ldmMtZmVlZCcpO1xuICAgICAgICBlZS5hZGRMaXN0ZW5lcihzaWQgKyAnLWV2Yy1mZWVkJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQoJ2RpdiNldmMtY250JykuaHRtbChkYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3Vic2NyaWJlKHNpZCArICctYWNudC1mZWVkJyk7XG4gICAgICAgIGVlLmFkZExpc3RlbmVyKHNpZCArICctYWNudC1mZWVkJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQoJ2RpdiNhLWNudCcpLmh0bWwoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvUmV2aWV3RGFzaGJvYXJkKHNpZCkge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uTmFtZSA9IHNpZCArICctcmV2aWV3LWRhc2hib2FyZC11cGRhdGUnO1xuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTmFtZSk7XG5cbiAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciByZXZpZXdEYXRhID0gJC5wYXJzZUpTT04oZGF0YSk7XG4gICAgICAgICAgICB2YXIgZGFzaGJvYXJkUm93ID0gJCgnLmRhc2hib2FyZC1hY3Rpdml0eVtkYXRhLXJldmlldy10YXNrPVwiJyArIHJldmlld0RhdGEuaSArICdcIl0nKTtcbiAgICAgICAgICAgIGlmIChkYXNoYm9hcmRSb3cuZmluZCgnLmRhc2hib2FyZC11c2VyW2RhdGEtdXNlcj1cIicgKyByZXZpZXdEYXRhLnUgKyAnXCJdJykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBkYXNoYm9hcmRSb3cuZmluZCgnLmRhc2hib2FyZC11c2VyOm50aC1jaGlsZCg2KScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGRhc2hib2FyZFJvdy5jc3MoXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKVxuICAgICAgICAgICAgICAgIGRhc2hib2FyZFJvdy5jaGlsZHJlbigpLmNzcyh7IGxlZnQ6ICctNDRweCcgfSk7XG4gICAgICAgICAgICAgICAgZGFzaGJvYXJkUm93LnByZXBlbmQocmV2aWV3RGF0YS5odG1sKS5jaGlsZHJlbigpLmFuaW1hdGUoeyBsZWZ0OiAwIH0sIGZ1bmN0aW9uICgpIHsgZGFzaGJvYXJkUm93LmNzcyhcIm92ZXJmbG93XCIsIFwidmlzaWJsZVwiKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvVG9wQmFyTm90aWZpY2F0aW9ucyhzaWQpIHtcbiAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmFjY291bnRJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uTmFtZSA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmFjY291bnRJZCArICctdG9wYmFyJztcbiAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpcHRpb25OYW1lKTtcblxuICAgICAgICAgICAgZWUuYWRkTGlzdGVuZXIoc3Vic2NyaXB0aW9uTmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnRvcGJhci5oYW5kbGVSZWFsdGltZU1lc3NhZ2UoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvUmVwdXRhdGlvbk5vdGlmaWNhdGlvbnMoc2lkKSB7XG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5hY2NvdW50SWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbk5hbWUgPSBzaWQgKyAnLScgKyBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci51c2VySWQgKyAnLXJlcHV0YXRpb24nO1xuICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmlwdGlvbk5hbWUpO1xuXG4gICAgICAgICAgICBlZS5hZGRMaXN0ZW5lcihzdWJzY3JpcHRpb25OYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJlcHV0YXRpb24oZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc3RTY29yZVVwZGF0ZShkYXRhKSB7XG4gICAgICAgIHZhciBzY29yZVRvVXBkYXRlID0gJCgnLmpzLXZvdGluZy1jb250YWluZXInKS5maWx0ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gJCh0aGlzKS5kYXRhKCdwb3N0LWlkJykgPT09IGRhdGEuaWQgfSkuZmluZCgnLmpzLXZvdGUtY291bnQnKTtcblxuICAgICAgICBpZiAoc2NvcmVUb1VwZGF0ZS5kYXRhKCd2YWx1ZScpID09PSBkYXRhLnNjb3JlKSByZXR1cm47XG5cbiAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBTdGFja0V4Y2hhbmdlLnZvdGUubm9ybWFsaXplUG9zdFNjb3JlKGRhdGEuc2NvcmUpO1xuXG4gICAgICAgIHNjb3JlVG9VcGRhdGUuZGF0YSgndmFsdWUnLCBkYXRhLnNjb3JlKS50ZXh0KG5vcm1hbGl6ZWQpO1xuXG4gICAgICAgIGlmICgkKCc6YW5pbWF0ZWQnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNjb3JlVG9VcGRhdGUuZmFkZVRvKCdmYXN0JywgMC43KVxuICAgICAgICAgICAgICAgIC5mYWRlVG8oJ2Zhc3QnLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnF1ZXN0aW9uLmNhblZpZXdWb3RlQ291bnRzKCkpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2Uudm90ZS5iaW5kRmV0Y2hWb3RlQ291bnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVSZXB1dGF0aW9uKGRhdGEpIHtcblxuICAgICAgICB2YXIgcmVwdXRhdGlvbiA9ICQoJyNobGlua3MgLnJlcHV0YXRpb24tc2NvcmUsIC5saW5rcy1jb250YWluZXIgLnJlcHV0YXRpb24sIC5qcy1oZWFkZXItcmVwJyk7XG5cbiAgICAgICAgaWYgKHJlcHV0YXRpb24udGV4dCgpID09IGRhdGEuc2NvcmUpIHJldHVybjtcblxuICAgICAgICBpZiAoJCgnOmFuaW1hdGVkJykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJlcHV0YXRpb24uZmFkZVRvKCdmYXN0JywgMC44KVxuICAgICAgICAgICAgICAgIC5mYWRlVG8oJ2Zhc3QnLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcHV0YXRpb24udGV4dChkYXRhKS5hdHRyKCd0aXRsZScsIF9zKCd5b3VyIHJlcHV0YXRpb246ICRyZXB1dGF0aW9uJCcsIHsgcmVwdXRhdGlvbjogZGF0YSB9KSk7XG4gICAgICAgIHJlcHV0YXRpb24udHJpZ2dlcihcInJlcHV0YXRpb25jaGFuZ2VcIik7XG4gICAgfVxuXG4gICAgdmFyIG5ld0Fuc3dlclRhYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFjb3VudCA9IE9iamVjdC5rZXlzKGFuc3dlcnNUb1Nob3cpLmxlbmd0aDtcblxuICAgICAgICBpZiAoYWNvdW50ID09IDApIHtcbiAgICAgICAgICAgICQoJy5qcy1uZXctYW5zd2VyLWFjdGl2aXR5JykucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGl2ID0gJCgnPGRpdiBjbGFzcz1cIm5ldy1hbnN3ZXItYWN0aXZpdHkgdGEtY2VudGVyIGJhci1zbSBtYjE2IGpzLW5ldy1hbnN3ZXItYWN0aXZpdHlcIj4nKS5hcHBlbmQoJCgnPGEgY2xhc3M9XCJkLWJsb2NrIHB5OFwiIGhyZWY9XCIjXCI+JykudGV4dChfcygnI2NvdW50IyBuZXcgYW5zd2VycyB0byB0aGlzIHF1ZXN0aW9uJywgeyBjb3VudDogYWNvdW50IH0pKSk7XG4gICAgICAgIGRpdi5jbGljayhmdW5jdGlvbiAoKSB7IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuZXhwYW5kQW5zd2VycygpOyB9KTtcbiAgICAgICAgZGl2LmZpbmQoJ2EnKS5jbGljayhmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyBTdGFja0V4Y2hhbmdlLnJlYWx0aW1lLmV4cGFuZEFuc3dlcnMoKTsgcmV0dXJuIGZhbHNlO30pO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwb3N0QW5zd2VyQWRkKHBvc3QpIHtcbiAgICAgICAgaWYgKCQoJyNhbnN3ZXItJyArIHBvc3QuYW5zd2VyaWQpLmxlbmd0aCAhPSAwKSByZXR1cm47XG5cbiAgICAgICAgYW5zd2Vyc1RvU2hvdy5wdXNoKHBvc3QuYW5zd2VyaWQpO1xuXG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLmNhcmRpb2xvZ2lzdCkge1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuY2FyZGlvbG9naXN0LmlzSGVhcnRCZWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QW5zd2VycyA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5EZWxheWVkUmVhY3Rpb24oc2hvd05ld0Fuc3dlck5vdGlmaWNhdGlvbiwgNTAwMCk7XG4gICAgICAgICAgICAgICAgbmV3QW5zd2Vycy50cmlnZ2VyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3dOZXdBbnN3ZXJOb3RpZmljYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY2FyZGlvbG9naXN0Lm5vdGlmaWVkT2ZOZXdBbnN3ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dOZXdBbnN3ZXJOb3RpZmljYXRpb24oKSB7XG4gICAgICAgICQoJy5qcy1uZXctYW5zd2VyLWFjdGl2aXR5JykucmVtb3ZlKCk7XG4gICAgICAgICQoJyNhbnN3ZXJzLWhlYWRlcicpLnByZXBlbmQobmV3QW5zd2VyVGFiKTtcbiAgICB9XG5cbiAgICB2YXIgcmVsb2FkUG9zdHMgPSBmdW5jdGlvbiAocG9zdElkcywgaW5jbHVkZUNvbW1lbnRzKSB7XG5cbiAgICAgICAgdmFyIGZvdW5kUG9zdElkcyA9IFtdO1xuICAgICAgICB2YXIgZXhpc3RpbmdQb3N0cyA9IHt9O1xuXG4gICAgICAgICQocG9zdElkcykuZWFjaChmdW5jdGlvbiAoXywgcG9zdElkKSB7XG5cbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoJy5xdWVzdGlvbltkYXRhLXF1ZXN0aW9uaWQ9JyArIHBvc3RJZCArICddLCAuYW5zd2VyW2RhdGEtYW5zd2VyaWQ9JyArIHBvc3RJZCArICddJyk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm91bmRQb3N0SWRzLnB1c2goK3Bvc3RJZCk7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdQb3N0c1srcG9zdElkXSA9ICRlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZm91bmRQb3N0SWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICQuRGVmZXJyZWQoKS5yZXNvbHZlKGV4aXN0aW5nUG9zdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVybCA9ICcvcG9zdHMvYWpheC1sb2FkLXJlYWx0aW1lL3twb3N0SWRzU2VtaUNvbG9uRGVsaW1pdGVkfT90aXRsZT10cnVlJmluY2x1ZGVDb21tZW50cz17aW5jbHVkZUNvbW1lbnRzfScuZm9ybWF0VW5pY29ybih7XG4gICAgICAgICAgICBwb3N0SWRzU2VtaUNvbG9uRGVsaW1pdGVkOiBmb3VuZFBvc3RJZHMuam9pbignOycpLFxuICAgICAgICAgICAgaW5jbHVkZUNvbW1lbnRzOiAhIWluY2x1ZGVDb21tZW50c1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICQuYWpheCh7IHR5cGU6ICdHRVQnLCB1cmw6IHVybCwgZGF0YVR5cGU6ICdqc29uJyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgJGh0bWwgPSAkKGpzb24uSHRtbCk7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2tzID0gJGh0bWwuZmlsdGVyKCcucXVlc3Rpb24sIC5hbnN3ZXInKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBvc3QgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdElkID0gKygkcG9zdC5kYXRhKCdxdWVzdGlvbmlkJykgfHwgJHBvc3QuZGF0YSgnYW5zd2VyaWQnKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRvbGRQb3N0ID0gZXhpc3RpbmdQb3N0c1twb3N0SWRdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZUluZGl2aWR1YWxQb3N0Q29udGVudHMoJG9sZFBvc3QsICRwb3N0LCBwb3N0SWQsIGluY2x1ZGVDb21tZW50cyk7XG4gICAgICAgICAgICAgICAgfSkuZ2V0KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJC53aGVuLmFwcGx5KCQsIHRhc2tzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nUG9zdHM7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlcGxhY2VJbmRpdmlkdWFsUG9zdENvbnRlbnRzID0gZnVuY3Rpb24gKCRvbGRQb3N0LCAkbmV3UG9zdCwgcG9zdElkLCBpbmNsdWRlQ29tbWVudHMpIHtcblxuICAgICAgICAvLyBodG1sIHNlbnQgZG93biBpcyByZW5kZXJpbmcgb2YgZWl0aGVyIH4vVmlld3MvU2hhcmVkL1Nob3dRdWVzdGlvbi5jc2h0bWwgb3Igfi9WaWV3cy9TaGFyZWQvU2hvd0Fuc3dlci5jc2h0bWxcbiAgICAgICAgLy8gbm90ZSB0aGlzIG1lYW5zIHNldmVyYWwgdG9wLWxldmVsIGVsZW1lbnRzLCBlLmcuIDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiPiAuLi4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1zdGF0dXNcIj4gLi4uIDwvZGl2PlxuXG4gICAgICAgIHZhciAkb2xkQm9keUNlbGwgPSAkb2xkUG9zdC5maW5kKCcucG9zdGNlbGwsIC5hbnN3ZXJjZWxsJyksXG4gICAgICAgICAgICAkbmV3Qm9keUNlbGwgPSAkbmV3UG9zdC5maW5kKCcucG9zdGNlbGwsIC5hbnN3ZXJjZWxsJykuY3NzKHsgb3BhY2l0eTogMCB9KSxcbiAgICAgICAgICAgIGlzUXVlc3Rpb24gPSAkb2xkUG9zdC5oYXNDbGFzcygncXVlc3Rpb24nKSxcbiAgICAgICAgICAgIGlzT25RdWVzdGlvblBhZ2UgPSAkKCdib2R5JykuaGFzQ2xhc3MoJ3F1ZXN0aW9uLXBhZ2UnKSxcbiAgICAgICAgICAgICR0aXRsZSA9ICQoJ2gxIGEucXVlc3Rpb24taHlwZXJsaW5rJyksXG4gICAgICAgICAgICBuZXdUaXRsZSA9ICRuZXdQb3N0LmRhdGEoJ3RpdGxlJyksXG4gICAgICAgICAgICBoYXNUaXRsZUNoYW5nZXMgPSBpc1F1ZXN0aW9uICYmIGlzT25RdWVzdGlvblBhZ2UgJiYgJC50cmltKCR0aXRsZS50ZXh0KCkpICE9PSBuZXdUaXRsZSxcbiAgICAgICAgICAgICRjb21tZW50c0xpc3QgPSAkb2xkUG9zdC5maW5kKCcuanMtY29tbWVudHMtbGlzdCcpLFxuICAgICAgICAgICAgYW5pbWF0aW9uU3BlZWQgPSAxNTA7XG5cbiAgICAgICAgLy8gd2Ugd2FudCB0byBmYWRlIG91dCBhbGwgY2hhbmdpbmcgcGFydHMgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICB2YXIgZmFkZU91dCA9IGZ1bmN0aW9uICgkZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkZWwuYW5pbWF0ZSh7IG9wYWNpdHk6IDAgfSwgYW5pbWF0aW9uU3BlZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBmYWRlSW4gPSBmdW5jdGlvbiAoJGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gJGVsLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIGFuaW1hdGlvblNwZWVkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgaXNPblF1ZXN0aW9uUGFnZSkge1xuICAgICAgICAgICAgdmFyIGRvY3VtZW50VGl0bGUgPSBoYXNUaXRsZUNoYW5nZXNcbiAgICAgICAgICAgICAgICA/IF9zKFwiJHBhZ2VUaXRsZSQgLSAkc2l0ZU5hbWUkXCIsIHsgcGFnZVRpdGxlOiBuZXdUaXRsZSwgc2l0ZU5hbWU6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLm5hbWUgfSlcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCBkb2N1bWVudFRpdGxlLCAnIycgKyBwb3N0SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFkZSBvdXQgZWxlbWVudHMgdGhhdCB3aWxsIGNoYW5nZVxuICAgICAgICByZXR1cm4gJC53aGVuKFxuICAgICAgICAgICAgaGFzVGl0bGVDaGFuZ2VzID8gZmFkZU91dCgkdGl0bGUpIDogdHJ1ZSxcbiAgICAgICAgICAgIGluY2x1ZGVDb21tZW50cyA/IGZhZGVPdXQoJGNvbW1lbnRzTGlzdCkgOiB0cnVlLFxuICAgICAgICAgICAgZmFkZU91dCgkb2xkQm9keUNlbGwpXG4gICAgICAgICkudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIFN3YXAgb3V0IGVsZW1lbnRzIHRoYXQgYXJlIGNoYW5naW5nXG5cbiAgICAgICAgICAgICRvbGRQb3N0LnByb3AoJ2NsYXNzTGlzdCcsICRuZXdQb3N0LnByb3AoJ2NsYXNzTGlzdCcpKTtcblxuICAgICAgICAgICAgaWYgKGhhc1RpdGxlQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgICR0aXRsZS50ZXh0KG5ld1RpdGxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluY2x1ZGVDb21tZW50cykge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMucmVwbGFjZUFsbCgkb2xkUG9zdCwgJG5ld1Bvc3QuZmluZCgnLmpzLWNvbW1lbnQnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRvbGRCb2R5Q2VsbC5yZXBsYWNlV2l0aCgkbmV3Qm9keUNlbGwpO1xuXG4gICAgICAgICAgICBzdHlsZUNvZGUoKTtcblxuICAgICAgICAgICAgLy8gRmFkZSBpbiBlbGVtZW50cyB0aGF0IGNoYW5nZWRcblxuICAgICAgICAgICAgcmV0dXJuICQud2hlbihcbiAgICAgICAgICAgICAgICBoYXNUaXRsZUNoYW5nZXMgPyBmYWRlSW4oJHRpdGxlKSA6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5jbHVkZUNvbW1lbnRzID8gZmFkZUluKCRjb21tZW50c0xpc3QpIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWRlSW4oJG5ld0JvZHlDZWxsKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHBvc3RFZGl0KHBvc3QpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgXCJjbGljayB0byBsb2FkIGVkaXRzXCIgYmFyLCBkb24ndCBzaG93IGFub3RoZXIgb25lXG4gICAgICAgIHZhciBkaXYgPSAkKCcucXVlc3Rpb25bZGF0YS1xdWVzdGlvbmlkPScgKyBwb3N0LmlkICsgJ10sIC5hbnN3ZXJbZGF0YS1hbnN3ZXJpZD0nICsgcG9zdC5pZCArICddJyk7XG4gICAgICAgIGlmIChkaXYuZmluZCgnLmpzLW5ldy1wb3N0LWFjdGl2aXR5W2RhdGEtcG9zdGlkPScgKyBwb3N0LmlkICsgJ10nKS5sZW5ndGggPiAwKSByZXR1cm47XG5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkRpdiA9ICQoJzxkaXYgY2xhc3M9XCJuZXctcG9zdC1hY3Rpdml0eSBiYXItc20gdGEtY2VudGVyIG1iMTYganMtbmV3LXBvc3QtYWN0aXZpdHlcIiBkYXRhLXBvc3RpZD1cIicgKyBwb3N0LmlkICsgJ1wiPicpLmFwcGVuZCgkKCc8YSBjbGFzcz1cImQtYmxvY2sgcHk4XCIgaHJlZj1cIiNcIj4nKS50ZXh0KF9zKCdBbiBlZGl0IGhhcyBiZWVuIG1hZGUgdG8gdGhpcyBwb3N0JykpKTtcblxuICAgICAgICAvLyBJZiB0aGUgSW5saW5lIEVkaXRvciBpcyBvcGVuLCBkb24ndCBtYWtlIHRoZSB3aG9sZSBkaXYgY2xpY2thYmxlIChvbmx5IHRoZSBcImFuIGVkaXQgaGFzIGJlZW4gbWFkZVwiIHBhcnQpXG4gICAgICAgIHZhciBjbGlja0RpdlNob3VsZFJlbG9hZCA9IGRpdi5maW5kKCcuaW5saW5lLWVkaXRvcicpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuanMtbmV3LXBvc3QtYWN0aXZpdHlbZGF0YS1wb3N0aWQ9JyArIHBvc3QuaWQgKyAnXScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKGNsaWNrRGl2U2hvdWxkUmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgZGl2Lm9mZignY2xpY2snLCBmdW5jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkKCcjcmV2aWV3LWNvbnRlbnQnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZWxvYWRQb3N0cyhbcG9zdC5pZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigncmVmcmVzaEVkaXQnLCBwb3N0LmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNsaWNrRGl2U2hvdWxkUmVsb2FkKSB7IGRpdi5jbGljayhmdW5jKTsgfVxuICAgICAgICBub3RpZmljYXRpb25EaXYucHJlcGVuZFRvKGRpdikuZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBhbmRBbnN3ZXJzKCkge1xuXG4gICAgICAgICQoJyN0YWJzJykuc2hvdygpO1xuICAgICAgICAkKCcuanMtbmV3LWFuc3dlci1hY3Rpdml0eScpLnJlbW92ZSgpO1xuXG4gICAgICAgIHZhciAkYW5zd2Vyc0hlYWRlciA9ICQoJyNhbnN3ZXJzICNhbnN3ZXJzLWhlYWRlcicpLFxuICAgICAgICAgICAgJGFuc3dlcnNUZXh0ID0gJGFuc3dlcnNIZWFkZXIuZmluZCgnLmFuc3dlcnMtc3ViaGVhZGVyIGgyJyksXG4gICAgICAgICAgICBhbnN3ZXJDb3VudCA9IHBhcnNlSW50KCRhbnN3ZXJzVGV4dC50ZXh0KCkpICsgYW5zd2Vyc1RvU2hvdy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGlzTmFOKGFuc3dlckNvdW50KSkge1xuICAgICAgICAgICAgYW5zd2VyQ291bnQgPSBhbnN3ZXJzVG9TaG93Lmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgICRhbnN3ZXJzVGV4dC50ZXh0KF9zKCcjYW5zd2VyQ291bnQjICBBbnN3ZXJzJywgeyBhbnN3ZXJDb3VudDogYW5zd2VyQ291bnQgfSkpO1xuXG4gICAgICAgIC8vIGZldGNoIGFsbCBwb3N0cyBhdCBvbmNlXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvcG9zdHMvYWpheC1sb2FkLXJlYWx0aW1lL3twb3N0SWRzU2VtaUNvbG9uRGVsaW1pdGVkfScuZm9ybWF0VW5pY29ybih7IHBvc3RJZHNTZW1pQ29sb25EZWxpbWl0ZWQ6IGFuc3dlcnNUb1Nob3cuam9pbignOycpIH0pXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIHdlIGdldCBsb3RzIG9mIHRvcC1sZXZlbCBlbGVtZW50cyBkb3duIGZyb20gdGhlIHNlcnZlciAtIHdyYXAgc28gd2UgY2FuIGJldHRlciBvcGVyYXRlIG9uIHRoZW1cbiAgICAgICAgICAgIHZhciAkYW5zd2VycyA9ICQoJzxkaXYgY2xhc3M9XCJkbm9cIiAvPicpLmFwcGVuZChkYXRhLkh0bWwpO1xuXG4gICAgICAgICAgICAkYW5zd2Vycy5pbnNlcnRBZnRlcigkYW5zd2Vyc0hlYWRlcikuZmFkZUluKDQwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRhbnN3ZXJzLnJlbW92ZUNsYXNzKFwiZG5vXCIpOyAvLyBub3cgdGhhdCBpdCBpcyB2aXNpYmxlLCByZW1vdmUgdGhlIGNvbnRyYWRpY3RvcnkgXCJkbm9cIlxuICAgICAgICAgICAgICAgIHN0eWxlQ29kZSgpO1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2Uudm90ZS5pbml0KGRhdGEuVm90ZXNDYXN0SnNvbik7XG5cbiAgICAgICAgICAgICAgICAkYW5zd2Vycy5maW5kKCcuYW5zd2VyJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuY29tbWVudHMuaW5pdCh7IHBvc3Q6ICQodGhpcykgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5iaW5kU3VnZ2VzdGVkRWRpdFBvcHVwTGlua3MoKTtcbiAgICAgICAgdXBkYXRlUmVsYXRpdmVEYXRlcygpO1xuICAgICAgICBhbnN3ZXJzVG9TaG93ID0gW107XG4gICAgfVxuXG4gICAgdmFyIGFjdGl2ZVRhYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHFjb3VudCA9IE9iamVjdC5rZXlzKGFjdGl2ZVRvU2hvdykubGVuZ3RoO1xuICAgICAgICB1cGRhdGVUaXRsZShxY291bnQpO1xuICAgICAgICB2YXIgZGl2ID0gJCgnPGRpdiBjbGFzcz1cImpzLW5ldy1wb3N0LWFjdGl2aXR5IGJnLWJsYWNrLTE1MCBiYXItc20gdGEtY2VudGVyIG15OFwiPicpLmFwcGVuZCgkKCc8YSBjbGFzcz1cInMtYnRuIGQtYmxvY2tcIiBocmVmPVwiI1wiPicpLnRleHQoX3MoJyNjb3VudCMgcXVlc3Rpb25zIHdpdGggbmV3IGFjdGl2aXR5JywgeyBjb3VudDogcWNvdW50IH0pKSk7XG4gICAgICAgIGRpdi5jbGljayhmdW5jdGlvbiAoKSB7IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuZXhwYW5kQWN0aXZlUXVlc3Rpb25zKCk7IH0pO1xuICAgICAgICBkaXYuZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuZXhwYW5kQWN0aXZlUXVlc3Rpb25zKCk7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2ZVF1ZXN0aW9uc1VwZGF0ZShwb3N0LCBjaGFubmVsKSB7XG4gICAgICAgIC8vIGRvbid0IHVwZGF0ZSBpZiB0aGVyZSBhcmUgbWF0Y2hpbmcgaWdub3JlZCB0YWdzXG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5hY2NvdW50SWQgIT0gbnVsbCAmJiBTdGFja0V4Y2hhbmdlLnRhZ1ByZWZlcmVuY2VzLmlzSWdub3JlZChwb3N0LnRhZ3MpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIFRoZSBib2R5IHdpbGwgYmUgZmV0Y2hlZCB3aGVuIHdlIGNsaWNrIHRvIGFjdHVhbGx5IHNob3cgdGhlbVxuICAgICAgICBhY3RpdmVUb1Nob3dbcG9zdC5pZF0gPSB7IGlkOiBwb3N0LmlkLCBmZXRjaDogdHJ1ZSwgaW5kZXg6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBzaXRlaWQ6IHBvc3Quc2l0ZWlkLCBjaGFubmVsOiBjaGFubmVsIH07XG5cbiAgICAgICAgJCgnLmpzLW5ldy1wb3N0LWFjdGl2aXR5JykucmVtb3ZlKCk7XG5cbiAgICAgICAgJCgnI3F1ZXN0aW9uLW1pbmktbGlzdCwgI3F1ZXN0aW9ucycpXG4gICAgICAgICAgICAucHJlcGVuZChhY3RpdmVUYWIpO1xuXG4gICAgICAgIC8vIHRhZy1zcG9uc29yc2hpcCBmaXhcbiAgICAgICAgaWYgKCQoJy50YWctc3BvbnNvcnNoaXAnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcjcXVlc3Rpb24tbWluaS1saXN0LCAjcXVlc3Rpb25zJykuY3NzKCdtYXJnaW4tdG9wJywgJzBweCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc29ydGVkQWN0aXZlUXVlc3Rpb25zKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuaW5kZXggPCBiLmluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoYS5pbmRleCA+IGIuaW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwYW5kQWN0aXZlUXVlc3Rpb25zKCkge1xuICAgICAgICAvLyBjb3B5IHRoZSB7IGlkIDogcXVlc3Rpb24gfSBvYmplY3QgdG8gYW4gYXJyYXkgZm9yIHNvcnRpbmdcbiAgICAgICAgdmFyIHRvU29ydCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBhY3RpdmUgaW4gYWN0aXZlVG9TaG93KVxuICAgICAgICAgICAgaWYgKGFjdGl2ZVRvU2hvdy5oYXNPd25Qcm9wZXJ0eShhY3RpdmUpKVxuICAgICAgICAgICAgICAgIHRvU29ydC5wdXNoKGFjdGl2ZVRvU2hvd1thY3RpdmVdKTtcblxuICAgICAgICBpZiAodG9Tb3J0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IG9ubHkgdGhlIGxhc3QgNTBcbiAgICAgICAgdmFyIHNvcnRlZEFjdGl2ZVRvU2hvdyA9IHRvU29ydC5zb3J0KHNvcnRlZEFjdGl2ZVF1ZXN0aW9ucykuc2xpY2UoMCwgNTApO1xuXG4gICAgICAgIC8vIEEgc2luZ2xlIHBhZ2Ugd2lsbCBvbmx5IGhhdmUgMSBvZiB0aGUgYWN0aXZlIGNoYW5uZWxzLCBzbyB1c2UgdGhlIG9uZSBmcm9tIHRoZSBmaXJzdCBlbnRyeVxuICAgICAgICAkLnBvc3QoJy9wb3N0cy9hamF4LWxvYWQtcmVhbHRpbWUtbGlzdC8nLCB7IHBvc3RJZHNTZW1pQ29sb25EZWxpbWl0ZWQ6IHNvcnRlZEFjdGl2ZVRvU2hvdy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuaWQ7IH0pLmpvaW4oJzsnKSwgY2hhbm5lbDogc29ydGVkQWN0aXZlVG9TaG93WzBdLmNoYW5uZWwgfSlcbiAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChwb3N0RGljdGlvbmFyeSkge1xuICAgICAgICAgICAgICAgIC8vIEphdmFTY3JpcHQgaXMgeyBcImlkXCIgPSBcImh0bWxcIiwgXCJpZDJcIjogXCJodG1sXCIgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgc29ydGVkQWN0aXZlVG9TaG93Lmxlbmd0aDsgcSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVxID0gc29ydGVkQWN0aXZlVG9TaG93W3FdO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVxLmJvZHkgPSBwb3N0RGljdGlvbmFyeVthY3RpdmVxLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZXEuYm9keSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3F1ZXN0aW9uLXN1bW1hcnktJyArIGFjdGl2ZXEuaWQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChhY3RpdmVxLmJvZHkpLnByZXBlbmRUbygnI3F1ZXN0aW9uLW1pbmktbGlzdCwgI3F1ZXN0aW9ucycpLmhpZGUoKS5mYWRlSW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpdGxlKDApO1xuXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGlmIHRoZXJlIGFyZSBtYXRjaGluZyBpZ25vcmVkIHRhZ3NcbiAgICAgICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuYWNjb3VudElkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS50YWdQcmVmZXJlbmNlcy5hcHBseVByZWZzKHRydWUsIHN1cHByZXNzZWRUYWdIaWdobGlnaHRzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVSZWxhdGl2ZURhdGVzKCk7XG5cbiAgICAgICAgICAgICAgICAkKCcuanMtbmV3LXBvc3QtYWN0aXZpdHknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGFjdGl2ZVRvU2hvdyA9IHt9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRpdGxlKG5ld2NvdW50KSB7XG4gICAgICAgIHZhciBuZXd0aXRsZSA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoL15cXChcXGQqXFwqP1xcKSAvLCBcIlwiKTtcbiAgICAgICAgaWYgKG5ld2NvdW50ID4gMCkge1xuICAgICAgICAgICAgbmV3dGl0bGUgPSBcIihcIiArIG5ld2NvdW50ICsgXCIpIFwiICsgbmV3dGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgaXMgYSBidWcgaW4gQ2hyb21lIHRoYXQgY2F1c2VzIHRoZSB0YWIgdGl0bGUgbm90IHRvIGJlIHVwZGF0ZWQgaWYgaXRcbiAgICAgICAgLy8gY2hhbmdlcyBhdCB0aGUgc2FtZSB0aW1lIHRoZSB0YWIgZ2FpbnMgZm9jdXMuXG4gICAgICAgIC8vIFRoYXQncyBteSBpbnRlcnByZXRhdGlvbiBvZiB0aGUgYmVoYXZpb3IsIGFueXdheS4gQW5kIHNpbmNlIDAuMiBzZWNvbmRzXG4gICAgICAgIC8vIGxhdGVyIGl0IHdvcmtzLCB3ZSdsbCBqdXN0IHdhaXQgZm9yIGEgbW9tZW50LiBXaG8gY2FyZXMsIHJpZ2h0P1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICQoZG9jdW1lbnQpLmF0dHIoXCJ0aXRsZVwiLCBuZXd0aXRsZSk7IH0sIDIwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdFN0YWxlQ29ubmVjdGlvbigpIHtcbiAgICAgICAga2lsbGVkID0gdHJ1ZTtcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5ub3RpZnkuc2hvdyhfcygnSW5zdGFudCB1cGRhdGVzIGhhdmUgYmVlbiBkaXNhYmxlZCBkdWUgdG8gaW5hY3Rpdml0eSAnKSArICc8YSBocmVmPVwiLlwiPicgKyBfcygncmVmcmVzaCcpICsgJzwvYT4nICsgX3MoJyB0byByZWNvbm5lY3QnKSwgMzEyKTtcbiAgICAgICAgc29ja2V0LmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWxhdGl2ZURhdGVzKCkge1xuICAgICAgICB2YXIgc3BhbnMgPSAkKCdzcGFuLnJlbGF0aXZldGltZSwgc3Bhbi5yZWxhdGl2ZXRpbWUtY2xlYW4nKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3BhbnNbaV0udGl0bGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHByZXR0eURhdGUoc3BhbnNbaV0udGl0bGUpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRlKVxuICAgICAgICAgICAgICAgICAgICBzcGFuc1tpXS5pbm5lckhUTUwgPSBkYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJldHR5RGF0ZShyYXdUaXRsZSkge1xuICAgICAgICBpZiAoIXJhd1RpdGxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgZGF0ZSBhbmQgdGltZSBmcm9tIHRoZSBmcm9udCBvZiB0aGUgc3RyaW5nLlxuICAgICAgICB2YXIgbWF0Y2ggPSByYXdUaXRsZS5tYXRjaCgvXihcXGR7NH0tXFxkXFxkLVxcZFxcZCkgKFxcZFxcZDpcXGRcXGQ6XFxkXFxkWikvKTtcbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGZpcmVmb3ggcmVxdWlyZXMgSVNPIDg2MDEgZm9ybWF0dGVkIGRhdGVzXG4gICAgICAgIHZhciB0aW1lID0gbWF0Y2hbMV0gKyBcIlRcIiArIG1hdGNoWzJdO1xuXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZSksXG4gICAgICAgICAgICBkaWZmID0gKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCkgKyBTdGFja0V4Y2hhbmdlLm9wdGlvbnMuc2VydmVyVGltZU9mZnNldFNlYyxcbiAgICAgICAgICAgIGRheV9kaWZmID0gTWF0aC5mbG9vcihkaWZmIC8gODY0MDApO1xuXG4gICAgICAgIGlmIChpc05hTihkYXlfZGlmZikgfHwgZGF5X2RpZmYgPCAwIHx8IGRheV9kaWZmID49IDMxKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHJldHVybiBkYXlfZGlmZiA9PSAwICYmIChcbiAgICAgICAgICAgIGRpZmYgPCAyICYmIF9zKFwianVzdCBub3dcIikgfHxcbiAgICAgICAgICAgIGRpZmYgPCA2MCAmJiAoZm9ybWF0U2hvcnREYXRlcyA/XG4gICAgICAgICAgICAgICAgX3MoXCIjc2Vjb25kcyNzIGFnb1wiLCB7IHNlY29uZHM6IE1hdGguZmxvb3IoZGlmZikgfSkgOlxuICAgICAgICAgICAgICAgIF9zKFwiI3NlY29uZHMjIHNlY3MgYWdvXCIsIHsgc2Vjb25kczogTWF0aC5mbG9vcihkaWZmKSB9KSkgfHxcbiAgICAgICAgICAgIGRpZmYgPCAxMjAgJiYgKGZvcm1hdFNob3J0RGF0ZXMgPyBfcyhcIjFtIGFnb1wiKSA6IF9zKFwiMSBtaW4gYWdvXCIpKSB8fFxuICAgICAgICAgICAgZGlmZiA8IDM2MDAgJiYgKGZvcm1hdFNob3J0RGF0ZXMgP1xuICAgICAgICAgICAgICAgIF9zKFwiI21pbnV0ZXMjbSBhZ29cIiwgeyBtaW51dGVzOiBNYXRoLmZsb29yKGRpZmYgLyA2MCkgfSkgOlxuICAgICAgICAgICAgICAgIF9zKFwiI21pbnV0ZXMjIG1pbnMgYWdvXCIsIHsgbWludXRlczogTWF0aC5mbG9vcihkaWZmIC8gNjApIH0pKSB8fFxuICAgICAgICAgICAgZGlmZiA8IDcyMDAgJiYgKGZvcm1hdFNob3J0RGF0ZXMgPyBfcyhcIjFoIGFnb1wiKSA6IF9zKFwiMSBob3VyIGFnb1wiKSkgfHxcbiAgICAgICAgICAgIGRpZmYgPCA4NjQwMCAmJiAoZm9ybWF0U2hvcnREYXRlcyA/XG4gICAgICAgICAgICAgICAgX3MoXCIjaG91cnMjaCBhZ29cIiwgeyBob3VyczogTWF0aC5mbG9vcihkaWZmIC8gMzYwMCkgfSkgOlxuICAgICAgICAgICAgICAgIF9zKFwiI2hvdXJzIyBob3VycyBhZ29cIiwgeyBob3VyczogTWF0aC5mbG9vcihkaWZmIC8gMzYwMCkgfSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBpbml0LFxuICAgICAgICBsb2c6IGxvZyxcbiAgICAgICAgc2ltdWxhdGU6IHNpbXVsYXRlLFxuICAgICAgICBleHBhbmRBY3RpdmVRdWVzdGlvbnM6IGV4cGFuZEFjdGl2ZVF1ZXN0aW9ucyxcbiAgICAgICAgZXhwYW5kQW5zd2VyczogZXhwYW5kQW5zd2VycyxcbiAgICAgICAgc3Vic2NyaWJlVG9BY3RpdmVRdWVzdGlvbnM6IHN1YnNjcmliZVRvQWN0aXZlUXVlc3Rpb25zLFxuICAgICAgICBzdWJzY3JpYmVUb1VRTDogc3Vic2NyaWJlVG9VUUwsXG5cbiAgICAgICAgc3Vic2NyaWJlVG9RdWVzdGlvbjogc3Vic2NyaWJlVG9RdWVzdGlvbixcbiAgICAgICAgdW5zdWJzY3JpYmVUb1F1ZXN0aW9uOiB1bnN1YnNjcmliZVRvUXVlc3Rpb24sXG4gICAgICAgIHBhdXNlUXVlc3Rpb25Ob3RpZmljYXRpb25zOiBwYXVzZVF1ZXN0aW9uTm90aWZpY2F0aW9ucyxcblxuICAgICAgICBzdWJzY3JpYmVUb1N0YWdpbmdHcm91bmRRdWVzdGlvbjogc3Vic2NyaWJlVG9TdGFnaW5nR3JvdW5kUXVlc3Rpb24sXG5cbiAgICAgICAgc3Vic2NyaWJlVG9SZXB1dGF0aW9uTm90aWZpY2F0aW9uczogc3Vic2NyaWJlVG9SZXB1dGF0aW9uTm90aWZpY2F0aW9ucyxcbiAgICAgICAgdXBkYXRlUmVsYXRpdmVEYXRlczogdXBkYXRlUmVsYXRpdmVEYXRlcyxcbiAgICAgICAgc3Vic2NyaWJlVG9SZXZpZXdEYXNoYm9hcmQ6IHN1YnNjcmliZVRvUmV2aWV3RGFzaGJvYXJkLFxuICAgICAgICBzdWJzY3JpYmVUb1RvcEJhck5vdGlmaWNhdGlvbnM6IHN1YnNjcmliZVRvVG9wQmFyTm90aWZpY2F0aW9ucyxcbiAgICAgICAgc3Vic2NyaWJlVG9Db3VudHM6IHN1YnNjcmliZVRvQ291bnRzLFxuICAgICAgICBnZW5lcmljU3Vic2NyaWJlOiBnZW5lcmljU3Vic2NyaWJlLFxuICAgICAgICBnZW5lcmljVW5zdWJzY3JpYmU6IGdlbmVyaWNVbnN1YnNjcmliZSxcblxuICAgICAgICByZWxvYWRQb3N0czogcmVsb2FkUG9zdHMsXG4gICAgICAgIGRlYnVnOiBkZWJ1Z1xuICAgICAgICAvLyBOT1RFIGhlbHBlciBmb3IgcmVwZWF0aW5nIHJlYWx0aW1lIGZyYW1lcyB3aGVuIHRlc3RpbmcgcmVhbHRpbWUgbG9jYWxseTpcbiAgICAgICAgLy8gICAgQ2hyb21lIENvbnNvbGU+IFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuc2ltdWxhdGUoLypjb3B5IG9mIGJvZHkgZnJvbSBjaHJvbWUgZjEyIHRvb2xzID4gbmV0d29yayA+IFdTIGZyYW1lKi8pO1xuICAgICAgICAvLyBFeGFtcGxlIGZvciBxdWVzdGlvbnMvYWN0aXZlIHZpZXc6XG4gICAgICAgIC8vIFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuc2ltdWxhdGUoe2FjdGlvbjpcIjQtcXVlc3Rpb25zLWFjdGl2ZVwiLGRhdGE6J3tcImlkXCI6XCIzNDM1XCIsXCJzaXRlaWRcIjo0fSd9KTtcbiAgICB9O1xufSkoKTtcbiIsImltcG9ydCB7IGltcG9ydEFsbCB9IGZyb20gXCIuLi91dGlsXCI7XG5cbi8vIHRoaXMgZmlsZSBpcyBpbXBvcnRlZCBmaXJzdCBieSBpbmRleC50cyxcbi8vIHNvIHRoZSBKUyBmaWxlcyBydW4gYmVmb3JlIGFsbCB0aGUgdHlwZXNjcmlwdCBmaWxlc1xuXG4vLyByZXF1aXJlLmNvbnRleHQgaXMgd2VicGFjayBtYWdpYy4gSXQgbWVhbnMgXCJwbGVhc2UgaW5jbHVkZSB0aGlzIHdob2xlIGZvbGRlciBpbiB0aGUgYnVuZGxlXCJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoXCIuLi8uLi9MZWdhY3lKUy9mdWxsLWNvbW1vblwiLCBmYWxzZSwgLyg/PCFcXC5tb2QpXFwuanMkLykpO1xuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dChcIi4uLy4uL0xlZ2FjeUpTL2Z1bGwtY29tbW9uL2NvbnRyb2xsZXJzXCIsIGZhbHNlLCAvKD88IVxcLm1vZClcXC5qcyQvKSk7XG5cbiIsImltcG9ydCB7IERlbGF5ZWRSZWFjdGlvbiB9IGZyb20gXCIuLi8uLi9TaGFyZWQvaGVscGVycy5tb2RcIlxuXG4vLyBodHRwOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9MHBfMVFTVXNic01cbi8vXG4vLyBvcHRpb25zXG4vLyAgIC5zZWxlY3RvcjogICAgIGhvdmVyaW5nIGVsZW1lbnRzIG1hdGNoaW5nIHRoaXMgc2VsZWN0b3Igd2lsbCB0cmlnZ2VyIHRoZSBwb3B1cFxuLy8gICAuZ2V0VXJsOiAgICAgICBhIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQ7IGEgZG9tIGVsZW1lbnQuIEl0J3MgdGhlIGVsZW1lbnRcbi8vICAgICAgICAgICAgICAgICAgdGhhdCB3YXMgaG92ZXJlZC4gU2hvdWxkIHJldHVybiB0aGUgVVJMIGZyb20gd2hlcmUgdGhlIHBvcHVwIGNvbnRlbnQgaXMgQUpBWGVkIGluLlxuLy8gICAgICAgICAgICAgICAgICBJZiBpdCByZXR1cm5zIG51bGwsIG5vIHBvcHVwIHdpbGwgYmUgc2hvd25cbi8vICAgLmlkOiAgICAgICAgICAgb3B0aW9uYWw7IHRoZSBIVE1MIGVsZW1lbnQgSUQgb2YgdGhlIGRpdiBpbiB3aGljaCB0aGUgSFRNTCB3aWxsIGJlIHdyYXBwZWRcbi8vICAgLmNsYXNzTmFtZTogICAgb3B0aW9uYWw7IHRoZSBjbGFzcyBuYW1lcyB0byBhZGQgdG8gdGhlIGRpdiBpbiB3aGljaCB0aGUgSFRNTCB3aWxsIGJlIHdyYXBwZWRcbi8vICAgLmNhY2hlOiAgICAgICAgb3B0aW9uYWw7IGlmIHRydWUsIGNvbnRlbnRzIGZyb20gdGhlIHNhbWUgVVJMIHdpbGwgb25seSBiZSBsb2FkZWQgb25jZTsgYWRkaXRpb25hbFxuLy8gICAgICAgICAgICAgICAgICBob3ZlcnMgd2lsbCBkaXNwbGF5IHRoaXMgY2FjaGVkIGNvbnRlbnQuXG4vLyAgIC5mYWRlOiAgICAgICAgIG9wdGlvbmFsOyBpZiB0cnVlLCB0aGUgcG9wdXAgZmFkZXMgaW4gcmF0aGVyIHRoYW4gZXhwYW5kaW5nXG4vLyAgIC51bmNsaXBwZWQ6ICAgIG9wdGlvbmFsOyBpZiB0cnVlLCB0aGUgcG9wdXAgd2lsbCBiZSBhbGxvd2VkIHRvIG92ZXJmbG93IGl0cyBjb250YWluZXJcbi8vICAgLmRpc21pc3NEZWxheTogb3B0aW9uYWw7IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGhpZGluZyB0aGUgcG9wdXAgb24gbW91c2UgbGVhdmU7XG4vLyAgICAgICAgICAgICAgICAgIGRlZmF1bHRzIHRvIDVtc1xuLy8gICAucmVuZGVySW5saW5lOiBvcHRpb25hbDsgaWYgdHJ1ZSwgdGhlIHBvcHVwIHdpbGwgYmUgYWRkZWQgYXMgYSBzaWJsaW5nIHRvIHRoZSB0cmlnZ2VyaW5nIGVsZW1lbnQgaW4gdGhlIERPTSBpbnN0ZWFkIG9mIGFkZGluZyBpdCB0byB0aGUgZG9jdW1lbnQgYm9keS5cbi8vICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VmdWwgZm9yIGFsbG93aW5nIGtleWJvYXJkIG5hdmlnYXRpb24gaW50byB0aGUgcG9wdXAgZnJvbSB0aGUgdHJpZ2dlcmluZyBlbGVtZW50LlxuLy8gICAgICAgICAgICAgICAgICBkZWZhdWx0cyB0byB0cnVlXG4vL1xuLy8gVGhlIGZvbGxvd2luZyB0aHJlZSBmdW5jdGlvbnMgKHNob3dpbmcsIHNob3duLCByZW1vdmVkKSBnZXQgdHdvIGFyZ3VtZW50cyBwYXNzZWQgaW46XG4vLyBUaGUgb3JpZ2luYWwgZWxlbWVudCwgYW5kIGEgalF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSB0aGUgbWVudSBlbGVtZW50LlxuLy8gSW4gc2hvd2luZygpLCB0aGUgbWVudSB3aWxsIGJlIGluIHRoZSB0b3AgbGVmdCBvZiB0aGUgcGFnZSAoSU9XLCBjYWxsaW5nIC5vZmZzZXQoKSBvbiBhbnkgY2hpbGQgcmV0dXJucyB0aGUgY2hpbGQnc1xuLy8gcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHBvcHVwKSwgc28geW91IGNhbiBtZWFzdXJlIGJlZm9yZSByZXR1cm5pbmcgdGhlIGFjdHVhbCB0by1iZS11c2VkIHBvc2l0aW9uLiBJblxuLy8gc2hvd24oKSwgdGhlIG1lbnUgaXMgaW4gaXRzIGZpbmFsIHBvc2l0aW9uLiBJbiByZW1vdmVkKCksIGl0J3Mgbm90IGF0dGFjaGVkIHRvIHRoZSBET00gYW55bW9yZS5cbi8vL1xuLy8gICAuc2hvd2luZzogICBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBwb3B1cCB3aWxsIGJlIGFuaW1hdGVkIGluLiBTaG91bGQgcmV0dXJuXG4vLyAgICAgICAgICAgICAgIGFuIG9iamVjdCB7IGxlZnQ6IHBhZ2VYLCB0b3A6IHBhZ2VZLCBhZGRpdGlvbmFsOiBlbGVtZW50cyB9IHNheWluZyB3aGVyZSB0aGUgcG9wdXAgc2hvdWxkIGJlIHNob3duLFxuLy8gICAgICAgICAgICAgICBhbmQgd2hhdCBhZGRpdGlvbmFsIGRvbSBlbGVtZW50cyAoaWYgYW55KSBzaG91bGQgYmUgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwb3B1cCB3aXRoIHJlZ2FyZCB0byBob3ZlcmluZy5cbi8vICAgICAgICAgICAgICAgSW5zdGVhZCBvZiBgdG9wYCwgeW91IGNhbiBwYXNzIGBib3R0b21gICh3aXRoIHRoZSBvYnZpb3VzIGNvbnNlcXVlbmNlcylcbi8vICAgLnNob3duOiAgICAgb3B0aW9uYWw7IGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBwb3B1cCBpcyBmdWxseSB2aXNpYmxlXG4vLyAgIC5yZW1vdmVkOiAgIG9wdGlvbmFsOyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcG9wdXAgaGFzIGJlZW4gcmVtb3ZlZC4gR3VhcmFudGVlZCB0byBiZSBjYWxsZWQgYmV0d2VlblxuLy8gICAgICAgICAgICAgICB0d28gY2FsbHMgdG8gc2hvd2luZygpXG5cblN0YWNrRXhjaGFuZ2UuaGVscGVycy5NYWdpY1BvcHVwID0gZnVuY3Rpb24gTWFnaWNQb3B1cChvcHRpb25zOiBJTWFnaWNQb3B1cE9wdGlvbnMpIHtcbiAgICB2YXIgY2FuY2VsLCBjdXJyZW50LFxuICAgICAgICBjYW5jZWxsZXIsIGNhbmNlbGxlZCwgY2FjaGUgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFwcGVhck1hZ2ljYWxseShlbGVtZW50LCBodG1sKSB7XG4gICAgICAgIC8vIGRvbid0IHNob3cgdGhlIHBvcHVwIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIERPTVxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDg2MDY4L2hvdy1kby1pLWNoZWNrLXdoZXRoZXItYS1qcXVlcnktZWxlbWVudC1pcy1pbi10aGUtZG9tXG4gICAgICAgIGlmICghJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlZGljYXRlICYmICFvcHRpb25zLnByZWRpY2F0ZShlbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBqTWVudSA9ICQoXCI8ZGl2IC8+XCIpLmF0dHIoJ2lkJywgb3B0aW9ucy5pZCkuYWRkQ2xhc3Mob3B0aW9ucy5jbGFzc05hbWUpLmh0bWwoaHRtbCk7XG5cblxuICAgICAgICB2YXIgJGxpZ2h0Ym94ID0gJCgnLmxpZ2h0Ym94LCAubGlnaHRib3gtcGFuZWwnKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lWiA9ICRsaWdodGJveC5sZW5ndGggPiAwID8gKyRsaWdodGJveC5jc3MoJ3otaW5kZXgnKSA6IDEwMDA7IC8vIFNlZSBodHRwczovL21ldGEuc3RhY2tleGNoYW5nZS5jb20vcS8xMjk0NjUgYW5kIGh0dHBzOi8vbWV0YS5zdGFja292ZXJmbG93LmNvbS9xLzM3MTI3NVxuXG4gICAgICAgIHZhciBqV3JhcHBlciA9ICQoXCI8ZGl2IC8+XCIpLmNzcyh7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgJ3otaW5kZXgnOiBiYXNlbGluZVogKyAyLFxuICAgICAgICAgICAgd2lkdGg6IDEsIGhlaWdodDogMSxcbiAgICAgICAgICAgIHRvcDogMCwgbGVmdDogMFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMudW5jbGlwcGVkKSB7XG4gICAgICAgICAgICBqV3JhcHBlci5jc3MoeyBvdmVyZmxvdzogXCJoaWRkZW5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcklubGluZSB8fCAhb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgncmVuZGVySW5saW5lJykpIHtcbiAgICAgICAgICAgIC8vSWRlYWxseSwgYWxsIGNhbGxlcnMgc2hvdWxkIHN3aXRjaCB0byBpbmxpbmUgcmVuZGVyaW5nIGZvciBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQgKGkuZS4ga2V5Ym9hcmQgbmF2aWdhdGlvbilcbiAgICAgICAgICAgIGpXcmFwcGVyLmFwcGVuZChqTWVudSkuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqV3JhcHBlci5hcHBlbmQoak1lbnUpLmFwcGVuZFRvKFwiYm9keVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYWJsZSB0byBpbXBvcnQgTWF0aEpheC4gU2VlOmh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS83MTA5MDU0MlxuICAgICAgICBpZiAod2luZG93Lk1hdGhKYXgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5NYXRoSmF4Lkh1Yi5UeXBlc2V0KGpNZW51WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gb3B0aW9ucy5zaG93aW5nKGVsZW1lbnQsIGpNZW51KTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbjogSVBvc2l0aW9uID0geyBsZWZ0OiBkYXRhLmxlZnQgfTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwiYm90dG9tXCIpKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24uYm90dG9tID0gZGF0YS5ib3R0b207XG4gICAgICAgICAgICAgICAgcG9zaXRpb24udG9wID0gXCJhdXRvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi50b3AgPSBkYXRhLnRvcCB8fCAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93bikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBvcHRpb25zLnNob3duKGVsZW1lbnQsIGpNZW51KSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBqV3JhcHBlci5jc3MocG9zaXRpb24gYXMgSlF1ZXJ5Q3NzUHJvcGVydGllcyk7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHsgaGVpZ2h0OiBqTWVudS5vdXRlckhlaWdodCgpICsgOCwgd2lkdGg6IGpNZW51Lm91dGVyV2lkdGgoKSArIDggfTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmFkZSkge1xuICAgICAgICAgICAgICAgIGpXcmFwcGVyLmNzcyhzaXplKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpLmZhZGVJbigzMDAsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaldyYXBwZXIuYW5pbWF0ZShzaXplLCAzMDAsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9tYWtlIGRpc21pc3NhYmxlIHZpYSAnZXNjJ1xuICAgICAgICAgICAgaldyYXBwZXIuYWRkQ2xhc3MoXCJlc2MtcmVtb3ZlIG1hZ2ljLXBvcHVwXCIpLm9uKFwicG9wdXBDbG9zaW5nXCIsIGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnREZWZhdWx0KCkgdGVsbHMgdGhlIEVTQyBoYW5kbGluZyBjb2RlIGluIGJpbmRfaGlkZVBvcHVwc09uRXNjUHJlc3NPckJnQ2xpY2tcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHdlJ2xsIHJlbW92ZSBpdCBvdXJzZWx2ZXNcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY2xvc2VQb3B1cCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqV3JhcHBlci5zdG9wKCkucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZW1vdmVkKGVsZW1lbnQsIGpNZW51KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbmNlbGxlciA9IG51bGw7XG4gICAgICAgICAgICBjYW5jZWwgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNhbmNlbGxlciA9IERlbGF5ZWRSZWFjdGlvbihjYW5jZWwsIG9wdGlvbnMuZGlzbWlzc0RlbGF5IHx8IDUpO1xuXG4gICAgICAgIHZhciBob3ZlckVsZW1lbnRzID0galdyYXBwZXI7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuYWRkaXRpb25hbClcbiAgICAgICAgICAgIGhvdmVyRWxlbWVudHMgPSBob3ZlckVsZW1lbnRzLmFkZCguLi5kYXRhLmFkZGl0aW9uYWwpO1xuXG4gICAgICAgIC8vbWFrZSBzdXJlIHdlIGRvbid0IGNsb3NlIHRoZSBwb3B1cCBpZiB0aGUgdXNlciBtb3ZlcyB0aGVpciBtb3VzZSBvdmVyIGl0XG4gICAgICAgIC8vYW5kIG1ha2Ugc3VyZSB3ZSBjbG9zZSB0aGUgcG9wdXAgaWYgdGhleSBob3ZlciBvdXQgb2YgdGhlIHBvcHVwLlxuICAgICAgICBob3ZlckVsZW1lbnRzLmhvdmVyKGNhbmNlbGxlci5jYW5jZWwsIGNhbmNlbGxlci50cmlnZ2VyKTtcbiAgICAgICAgLy9kbyB0aGUgc2FtZSBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAgICBob3ZlckVsZW1lbnRzLmZvY3VzaW4oY2FuY2VsbGVyLmNhbmNlbCk7XG4gICAgICAgIGhvdmVyRWxlbWVudHMuZm9jdXNvdXQoY2FuY2VsbGVyLnRyaWdnZXIpO1xuICAgIH1cblxuICAgIHZhciBzaG93RGVsYXllZCA9IERlbGF5ZWRSZWFjdGlvbihmdW5jdGlvbiAodXJsLCBlbGVtZW50KSB7XG5cbiAgICAgICAgaWYgKGNhbmNlbGxlZCB8fCAhdXJsKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkZWY7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2FjaGUgJiYgKFwiY19cIiArIHVybCBpbiBjYWNoZSkpIHtcbiAgICAgICAgICAgIGRlZiA9ICQuRGVmZXJyZWQoKS5yZXNvbHZlKGNhY2hlW1wiY19cIiArIHVybF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmID0gJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNhY2hlKVxuICAgICAgICAgICAgICAgIGRlZi5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHsgY2FjaGVbXCJjX1wiICsgdXJsXSA9IHJlc3VsdDsgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZi5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpXG4gICAgICAgICAgICAgICAgY2FuY2VsKCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gXCJcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGFwcGVhck1hZ2ljYWxseShlbGVtZW50LCByZXN1bHQpXG4gICAgICAgIH0pO1xuXG4gICAgfSwgNTAwKTtcblxuICAgIHZhciBvcGVuUG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYW5jZWxsZXIgJiYgdGhpcyA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgY2FuY2VsbGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSB0aGlzO1xuICAgICAgICBzaG93RGVsYXllZC50cmlnZ2VyKG9wdGlvbnMuZ2V0VXJsKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHZhciBjbG9zZVBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICBzaG93RGVsYXllZC5jYW5jZWwoKTtcbiAgICAgICAgaWYgKGNhbmNlbGxlcikge1xuICAgICAgICAgICAgY2FuY2VsbGVyLnRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZShvcHRpb25zLnNlbGVjdG9yLCB7XG4gICAgICAgIC8vaGFuZGxlIG1vdXNlIGhvdmVyXG4gICAgICAgIG1vdXNlZW50ZXI6IG9wZW5Qb3B1cCxcbiAgICAgICAgbW91c2VsZWF2ZTogY2xvc2VQb3B1cCxcbiAgICAgICAgLy9oYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAgICBmb2N1c2luOiBvcGVuUG9wdXAsXG4gICAgICAgIGZvY3Vzb3V0OiBjbG9zZVBvcHVwXG4gICAgfSk7XG59XG5cbiIsIlN0YWNrRXhjaGFuZ2UuYmluZFNob3dNb3JlSG90TmV0d29ya1F1ZXN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgJGhucSA9ICQoJyNob3QtbmV0d29yay1xdWVzdGlvbnMnKTtcbiAgICBsZXQgJG1vcmUgPSAkaG5xLmZpbmQoJy5qcy1zaG93LW1vcmUnKTtcbiAgICBsZXQgJGhpZGRlbiA9ICRobnEuZmluZCgnLmpzLWhpZGRlbicpO1xuXG4gICAgLy8gbm90aGluZyB0byBkb1xuICAgIGlmICghJGhucS5sZW5ndGggfHwgISRtb3JlLmxlbmd0aCB8fCAhJGhpZGRlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtSGVpZ2h0ID0gJCgnI21haW5iYXInKS5oZWlnaHQoKTtcbiAgICBsZXQgc0hlaWdodCA9ICQoJyNzaWRlYmFyJykuaGVpZ2h0KCkgKyA1NTA7IC8vIGFsbG93YW5jZSBmb3Igb3B0aW9uYWwgYWRzIGluIHRoZSBzaWRlYmFyXG5cbiAgICAvLyBmaWd1cmUgb3V0IGhvdyB0YWxsIHRoZXNlIGxpbmtzIGFyZVxuICAgICRoaWRkZW4uYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTpoaWRkZW4nKS5yZW1vdmVDbGFzcygnZG5vJyk7XG4gICAgbGV0IHRvdGFsSGVpZ2h0SGlkZGVuID0gMDtcbiAgICBsZXQgaGlkZGVuSGVpZ2h0czogbnVtYmVyW10gPSBbXTtcbiAgICAkaGlkZGVuLmVhY2goXG4gICAgICAgIChfLCBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaCA9ICQoZSkuaGVpZ2h0KCk7XG4gICAgICAgICAgICBoaWRkZW5IZWlnaHRzLnB1c2goaCk7XG4gICAgICAgICAgICB0b3RhbEhlaWdodEhpZGRlbiArPSBoO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIGxldCBzSGVpZ2h0SWZBbGxWaXNpYmxlID0gc0hlaWdodCArIHRvdGFsSGVpZ2h0SGlkZGVuOyBcblxuICAgIC8vIGV2ZXJ5dGhpbmcgZml0cyFcbiAgICBpZiAobUhlaWdodCA+PSBzSGVpZ2h0SWZBbGxWaXNpYmxlKSB7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbW9yZSBsaW5rXG4gICAgICAgICRtb3JlLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIG1ha2UgZXZlcnl0aGluZyBhY3R1YWxseSB2aXNpYmxlXG4gICAgICAgICRoaWRkZW4uYXR0cignc3R5bGUnLCAnJykuc2hvdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGV0ZXJtaW5lIHdoYXQgbmVlZHMgdG8gYmUgbGVmdCBoaWRkZW5cbiAgICBsZXQgbWFrZVZpc2libGU6IEpRdWVyeVtdID0gW107XG5cbiAgICBsZXQgbmV3U2lkZWJhckhlaWdodCA9IHNIZWlnaHQ7XG4gICAgJGhpZGRlbi5lYWNoKChpLCBlKSA9PiB7XG4gICAgICAgIGxldCAkZSA9ICQoZSk7XG4gICAgICAgIGxldCBoID0gaGlkZGVuSGVpZ2h0c1tpXTtcblxuICAgICAgICBpZiAobmV3U2lkZWJhckhlaWdodCArIGggPD0gbUhlaWdodCkge1xuICAgICAgICAgICAgbWFrZVZpc2libGUucHVzaCgkZSk7XG4gICAgICAgICAgICBuZXdTaWRlYmFySGVpZ2h0ICs9IGg7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGRvIGFsbCB0aGUgdXBkYXRlcyBhdCBvbmNlLCBzbyB3ZSBvbmx5IHRocmFzaCBhIGxpdHRsZSBiaXRcblxuICAgIC8vIHJlLWhpZGUgZXZlcnl0aGluZ1xuICAgICRoaWRkZW4uYXR0cignc3R5bGUnLCAnJykuYWRkQ2xhc3MoJ2RubycpO1xuICAgIC8vIHNob3cgdGhlIG9uZXMgd2Ugd2FudCB0byBtYWtlIHZpc2libGUgbm93XG4gICAgbWFrZVZpc2libGUuZm9yRWFjaChlID0+IGUuc2hvdygpKTtcblxuICAgIC8vIGJpbmQgdGhlIHNob3cgbW9yZSBsaW5rXG4gICAgJG1vcmUuY2xpY2soKCkgPT4ge1xuICAgICAgICAkaGlkZGVuLnNob3coKTtcbiAgICAgICAgJG1vcmUucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbn07IiwiaW1wb3J0IHsgS0VZX0NPREUgfSBmcm9tIFwiLi4vLi4vTGVnYWN5SlMvY29uc3RhbnRzLm1vZFwiO1xuXG5TdGFja0V4Y2hhbmdlLm1vY2t1cHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7IGluaXQ6IGluaXQgfTtcblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuZXh0ZXJuYWxFZGl0b3IuaW5pdCh7XG4gICAgICAgICAgICB0aGluZ05hbWU6IFwibW9ja3VwXCIsXG4gICAgICAgICAgICBnZXRJZnJhbWVVcmw6IGZ1bmN0aW9uIChvbGRJbWFnZSkge1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBcIi9wbHVnaW5zL21vY2t1cHMvZWRpdG9yXCI7XG4gICAgICAgICAgICAgICAgaWYgKG9sZEltYWdlKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCI/ZWRpdD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvbGRJbWFnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidXR0b25Ub29sdGlwOiBcIlVJIHdpcmVmcmFtZVwiLFxuICAgICAgICAgICAgb25TaG93OiBmdW5jdGlvbiAoZWRpdG9yQ2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5hZGRNb2NrdXBUb0VkaXRvciA9IGVkaXRvckNsb3NlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuYWRkTW9ja3VwVG9FZGl0b3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG5TdGFja0V4Y2hhbmdlLnNjaGVtYXRpY3MgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGVudW0gQ29uZmlkZW5jZVJlc3VsdCB7IE5PID0gMCwgTUFZQkUgPSAxLCBQUk9CQUJMWSA9IDIsIFlFUyA9IDMgfTtcblxuICAgIHJldHVybiB7IGluaXQ6IGluaXQgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBzdXBwb3J0Q29uZmlkZW5jZSgpOiBDb25maWRlbmNlUmVzdWx0IHtcbiAgICAgICAgaWYgKCF3aW5kb3cucG9zdE1lc3NhZ2UpXG4gICAgICAgICAgICByZXR1cm4gQ29uZmlkZW5jZVJlc3VsdC5OTztcbiAgICAgICAgLy8gU1ZHIGNoZWNrIGZyb20gTW9kZXJuaXplciwgaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL3N2Zy9pbmxpbmUuanNcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPHN2Zy8+JztcbiAgICAgICAgY29uc3Qgc3ZnU3VwcG9ydCA9IChkaXYuZmlyc3RDaGlsZCAmJiAoPEVsZW1lbnQ+ZGl2LmZpcnN0Q2hpbGQpLm5hbWVzcGFjZVVSSSkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgICAgIGlmICghc3ZnU3VwcG9ydClcbiAgICAgICAgICAgIHJldHVybiBDb25maWRlbmNlUmVzdWx0Lk5PO1xuICAgICAgICBjb25zdCBVQSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIGlmICgvRmlyZWZveHxDaHJvbWUvLnRlc3QoVUEpKVxuICAgICAgICAgICAgcmV0dXJuIENvbmZpZGVuY2VSZXN1bHQuWUVTO1xuICAgICAgICBpZiAoL0FwcGxlLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpIHx8IC9PcGVyYS8udGVzdChVQSkpXG4gICAgICAgICAgICByZXR1cm4gQ29uZmlkZW5jZVJlc3VsdC5QUk9CQUJMWTtcbiAgICAgICAgcmV0dXJuIENvbmZpZGVuY2VSZXN1bHQuTUFZQkU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgbGV0ICBtZXNzYWdlSGFuZGxlcjtcbiAgICAgICAgXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuZXh0ZXJuYWxFZGl0b3IuaW5pdCh7XG4gICAgICAgICAgICB0aGluZ05hbWU6IFwic2NoZW1hdGljXCIsXG4gICAgICAgICAgICBnZXRJZnJhbWVVcmw6IGZ1bmN0aW9uIChvbGRJbWFnZSkge1xuICAgICAgICAgICAgICAgIGxldCAgcmVzdWx0ID0gXCIvcGx1Z2lucy9zY2hlbWF0aWNzL2VkaXRvclwiO1xuICAgICAgICAgICAgICAgIGlmIChvbGRJbWFnZSlcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiP2VkaXQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQob2xkSW1hZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnV0dG9uVG9vbHRpcDogXCJTY2hlbWF0aWNcIixcbiAgICAgICAgICAgIGNoZWNrU3VwcG9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZGVuY2VMZXZlbCA9IHN1cHBvcnRDb25maWRlbmNlKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb25maWRlbmNlTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25maWRlbmNlUmVzdWx0LllFUzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uZmlkZW5jZVJlc3VsdC5QUk9CQUJMWTogcmV0dXJuIGNvbmZpcm0oXCJZb3VyIGJyb3dzZXIgaXMgbm90IG9mZmljaWFsbHkgc3VwcG9ydGVkIGJ5IHRoZSBzY2hlbWF0aWNzIGVkaXRvcjsgaG93ZXZlciBpdCBoYXMgYmVlbiByZXBvcnRlZCB0byB3b3JrLiBMYXVuY2ggdGhlIGVkaXRvcj9cIik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uZmlkZW5jZVJlc3VsdC5NQVlCRTogcmV0dXJuIGNvbmZpcm0oXCJZb3VyIGJyb3dzZXIgaXMgbm90IG9mZmljaWFsbHkgc3VwcG9ydGVkIGJ5IHRoZSBzY2hlbWF0aWNzIGVkaXRvcjsgaXQgbWF5IG9yIG1heSBub3Qgd29yay4gTGF1bmNoIHRoZSBlZGl0b3IgYW55d2F5P1wiKTtcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbmZpZGVuY2VSZXN1bHQuTk86IGFsZXJ0KFwiU29ycnksIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGFsbCB0aGUgbmVjZXNzYXJ5IGZlYXR1cmVzIGZvciB0aGUgc2NoZW1hdGljcyBlZGl0b3IuXCIpOyByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU2hvdzogZnVuY3Rpb24gKGVkaXRvckNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdQb3B1cCA9ICQoXCI8ZGl2IGNsYXNzPSdwb3B1cCc+XCIpLmNzcyhcInotaW5kZXhcIiwgMTExMSkudGV4dChcIkxvYWRpbmcgZWRpdG9yXCIpLmFwcGVuZFRvKFwiYm9keVwiKS5zaG93KCkuYWRkU3Bpbm5lcih7bWFyZ2luTGVmdDogNX0pLmNlbnRlcih7ZHk6IC0yMDB9KTtcbiAgICAgICAgICAgICAgICAkKFwiPGRpdiBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodDttYXJnaW4tdG9wOiAxMHB4Jz5cIikuYXBwZW5kKCQoXCI8YnV0dG9uPmNhbmNlbDwvYnV0dG9uPlwiKS5jbGljayhmdW5jdGlvbiAoKSB7IGxvYWRpbmdQb3B1cC5yZW1vdmUoKTsgZWRpdG9yQ2xvc2VkKCk7IH0pKS5hcHBlbmRUbyhsb2FkaW5nUG9wdXApO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBldnQgPSBldnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5vcmlnaW4gIT09IFwiaHR0cHM6Ly93d3cuY2lyY3VpdGxhYi5jb21cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFldnQuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvckNsb3NlZCgpOyAvLyBlZGl0b3Igc2VuZHMgYW4gZW1wdHkgbWVzc2FnZSB3aGVuIHRoZSB1c2VyIGNhbmNlbHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgIGRhdGEgPSAkLnBhcnNlSlNPTihldnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubG9hZCA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdQb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEgfHwgIShkYXRhLmVkaXRfdXJsICYmIGRhdGEuaW1hZ2VfdXJsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyB3aGF0ZXZlciB0aGlzIG1lc3NhZ2Ugd2FzLCBpdCB3YXMgbm90IGZvciB1c2VcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZmtleSA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3B1cCA9ICQoXCI8ZGl2IGNsYXNzPSdwb3B1cCc+XCIpLmNzcyhcInotaW5kZXhcIiwgMTExMSkuYXBwZW5kVG8oXCJib2R5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAudGV4dChcIlN0b3JpbmcgaW1hZ2VcIikuYWRkU3Bpbm5lcih7bWFyZ2luTGVmdDogNX0pLmNlbnRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQucG9zdChcIi9wbHVnaW5zL3NjaGVtYXRpY3Mvc2F2ZVwiLCBkYXRhKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yQ2xvc2VkKHJlc3BvbnNlLmltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgIG1zZyA9IFwiU3RvcmluZyBhYm9ydGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2VUZXh0Lmxlbmd0aCA8IDIwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwLnRleHQobXNnICsgXCIsIHdpbGwgcmV0cnkgc2hvcnRseVwiKS5hZGRTcGlubmVyKHttYXJnaW5MZWZ0OiA1fSkuY2VudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNhdmUsIDEwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gdXBsb2FkIHRoZSBzY2hlbWF0aWMgaW1hZ2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oXCJtZXNzYWdlXCIsIG1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5vZmYoXCJtZXNzYWdlXCIsIG1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuXG5TdGFja0V4Y2hhbmdlLmV4dGVybmFsRWRpdG9yID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGluaXRcbiAgICB9O1xuXG4gICAgLy8gdGhlcmUncyBhIGxvdCBvZiBjb21tb25hbGl0eSBiZXR3ZWVuIFwidGhpbmdzXCIsIHNvIHRoaXMgd2lsbCBoZWxwZnVsbHkganVzdCBsb29rIGZvciB0aGUgY29tbW9uIEhUTUwgY29tbWVudFxuICAgIC8vICAgaWYganVzdCBhIHN0cmluZyBpcyBwYXNzZWQgLSBvdGhlcndpc2UgaXQnbGwganVzdCByZXR1cm4gdGhlIHByb3ZpZGUgZnVuY3Rpb25cbiAgICBmdW5jdGlvbiBtYWtlVGhpbmdGaW5kZXIobmFtZU9yRnVuYykge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWVPckZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWVPckZ1bmM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjk2OTQ4Ni84MDU3MlxuICAgICAgICBjb25zdCBjbGVhbk5hbWUgPSBuYW1lT3JGdW5jLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG5cbiAgICAgICAgY29uc3QgcmVnZXggPSBcIjwhLS0gQmVnaW4gXCIgKyBjbGVhbk5hbWUgKyBcIltePl0qPyAtLT5cXFxccyohXFxcXFtbXlxcXFxdXSpcXFxcXVxcXFwoKGh0dHBzPzovL1teICldKylbXildKlxcXFwpXFxcXHMqPCEtLSBFbmQgXCIgKyBjbGVhbk5hbWUgKyBcIiAtLT5cIjtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGhpbmdGaW5kZXIobWFya2Rvd24sIHRleHRhcmVhQ29udGVudCwgc2VudGluZWwsIHRoaW5nTmFtZSwgdGhpbmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFya2Rvd24ucmVwbGFjZShuZXcgUmVnRXhwKHJlZ2V4LCBcImdcIiksIGZ1bmN0aW9uICh3aG9sZW1hdGNoLCB0aGluZ1BheWxvYWQsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB0aGluZ1BheWxvYWQucmVwbGFjZSgvW14tQS1aYS16MC05KyZAI1xcLyU/PX5ffCE6LC47XFwoXFwpXS9nLCBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgcG9zOiBmaW5kVGhpbmcod2hvbGVtYXRjaCwgdGV4dGFyZWFDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICBsZW46IHdob2xlbWF0Y2gubGVuZ3RoXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGluZy5wb3MgPT09IC0xKSB7IC8vIHRoaXMgd291bGQgYmUgdmVyeSB3ZWlyZCAtLSBwcm9iYWJseSBhIHByZUNvbnZlcnNpb24gcGx1Z2luIHRoYXQgY2hhbmdlZCB0aGUgcmVsZXZhbnQgY29udGVudFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hvbGVtYXRjaDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGluZ3MucHVzaCh0aGluZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdob2xlbWF0Y2ggKyBcIlxcblxcblwiICsgc2VudGluZWwgKyB0aGluZ05hbWUgKyBcIi1cIiArICh0aGluZ3MubGVuZ3RoIC0gMSkgKyBcIiVcIjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBmaW5kVGhpbmcobmVlZGxlLCBoYXlzdGFjaywgcG9zSGludCkge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IC0xLCBpbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgaXMgZW50aXJlbHkgcG9zc2libGUgKHRob3VnaCB1bmxpa2VseSkgdGhhdCB0aGUgc2FtZSB0aGluZyBhcHBlYXJzIHR3aWNlLiBQaWNrIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBvbmUgd2hvc2UgcG9zaXRpb24gaXMgY2xvc2VyIHRvIHRoZSBwb3NpdGlvbiB0aGF0IHdhcyBwYXNzZWQgdG8gdGhlIHByZUNvbnZlcnNpb24gaG9vayxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCBzaG91bGQgYmUgYSBnb29kIGVub3VnaCBndWVzcyBleGNlcHQgZm9yIHBhdGhvbG9naWNhbCBjYXNlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCB8fCBNYXRoLmFicyhpbmRleCAtIHBvc0hpbnQpIDwgTWF0aC5hYnMoaW5kZXggLSBmb3VuZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zOiBTdGFja0V4Y2hhbmdlU2NoZW1hdGljc0luaXRPcHRpb25zKSB7XG5cbiAgICAgICAgLy8gdGhpbmdOYW1lIGlzIHVzZWQgaW4gYSByZWdleCwgaW4gYSBDU1MgY2xhc3MsIGluIGhlbHB0ZXh0LCBldGMuIEluIHBhcnRpY3VsYXIgaXQgaGFzIHRvIGJlIGEgc2luZ2xlIHdvcmQuXG4gICAgICAgIGxldCB0aGluZ05hbWUgPSBvcHRpb25zLnRoaW5nTmFtZSxcbiAgICAgICAgICAgIHRoaW5nRmluZGVyID0gbWFrZVRoaW5nRmluZGVyKG9wdGlvbnMudGhpbmdGaW5kZXIgfHwgb3B0aW9ucy50aGluZ05hbWUpLCAvLyBhIGZ1bmN0aW9uIHVzZWQgdG8gZmluZCBhbmQgc3RvcmUgdGhlIHRoaW5nIGluIG1hcmtkb3duIChmb3IgZWRpdGluZylcbiAgICAgICAgICAgIGdldElmcmFtZVVybCA9IG9wdGlvbnMuZ2V0SWZyYW1lVXJsLFxuICAgICAgICAgICAgZ2V0RGl2Q29udGVudCA9IG9wdGlvbnMuZ2V0RGl2Q29udGVudCxcbiAgICAgICAgICAgIGJ1dHRvblRvb2x0aXAgPSBvcHRpb25zLmJ1dHRvblRvb2x0aXAsXG4gICAgICAgICAgICBvblNob3cgPSBvcHRpb25zLm9uU2hvdywgLy8gY2FsbGVkIHdpdGggYSBlZGl0b3JDbG9zZWQgY2FsbGJhY2ssIHdoaWNoIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgVVJMIG9mIHRoZSBuZXcgaW1hZ2UsIG9yIG5vdGhpbmcgaWYgdGhlIGVkaXRvciB3YXMgY2FuY2VsbGVkXG4gICAgICAgICAgICBvblJlbW92ZSA9IG9wdGlvbnMub25SZW1vdmUgfHwgZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgZWRpdExhYmVsID0gb3B0aW9ucy5lZGl0TGFiZWwgfHwgKFwiZWRpdCB0aGUgYWJvdmUgXCIgKyB0aGluZ05hbWUpLFxuICAgICAgICAgICAgY2hlY2tTdXBwb3J0ID0gb3B0aW9ucy5jaGVja1N1cHBvcnQ7IC8vIGEgZnVuY3Rpb247IG9wdGlvbmFsXG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS5NYXJrZG93bkVkaXRvci5jcmVhdGlvbkNhbGxiYWNrcy5hZGQocHJlcGFyZVdtZCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcHJlcGFyZVdtZChlZGl0b3IsIHBvc3RmaXgpIHtcbiAgICAgICAgICAgICQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4gLndtZC0nICsgdGhpbmdOYW1lICsgJy1idXR0b24gc3BhbiB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgMDsgfSAud21kLScgKyB0aGluZ05hbWUgKyAnLWJ1dHRvbjpob3ZlciBzcGFuIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtNDBweDsgfTwvc3R5bGU+KScpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKFwiaGVhZFwiKTtcblxuICAgICAgICAgICAgbGV0IHNlbnRpbmVsLCB0aGluZ3MsIGllU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGhvb2tzID0gZWRpdG9yLmdldENvbnZlcnRlcigpLmhvb2tzLFxuICAgICAgICAgICAgICAgIGpUZXh0QXJlYSA9ICQoXCIjd21kLWlucHV0XCIgKyBwb3N0Zml4KTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnNvciBzbyBzdGFydCBhbmQgZW5kIGFyZSBzYW1lIHdoZW4gc2VsZWN0ZWQgdGV4dCBpcyBkZWxldGVkLlxuICAgICAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjdXJzb3IgYHJlbW92ZUNvdW50YCBtaXNjYWxjdWxhdGlvbiBpbiBgc2hvd0VkaXRvcigpYC5cbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL21ldGEuc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1MDIxMC9zbmlwcGV0LWluc2VydGlvbi1jb3JydXB0cy1jb250ZW50XG4gICAgICAgICAgICBqVGV4dEFyZWEub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSA4IHx8IGtleSA9PT0gNDYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBqVGV4dEFyZWEuY2FyZXQoKS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgalRleHRBcmVhLmNhcmV0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGhvb2tzLmNoYWluKFwicHJlQ29udmVyc2lvblwiLCBmdW5jdGlvbiAobWFya2Rvd24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50Q291bnQgPSAobWFya2Rvd24ubWF0Y2goLyUvZykgfHwgW10pLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGJlIGRpZmZlcmVudCBmcm9tIG1hcmtkb3duIGlmIHdlJ3JlIG5vdCB0aGUgZmlyc3QgcGx1Z2luIGluIHRoZSBwcmVDb252ZXJzaW9uIGNoYWluXG4gICAgICAgICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZWxlY3Ryb25pY3MubWV0YS5zdGFja2V4Y2hhbmdlLmNvbS9xLzI5ODhcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYUNvbnRlbnQgPSBqVGV4dEFyZWEubGVuZ3RoID8gKDxIVE1MVGV4dEFyZWFFbGVtZW50PmpUZXh0QXJlYVswXSkudmFsdWUgfHwgXCJcIiA6IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmUgcGVyY2VudCBjaGFyYWN0ZXIgbW9yZSB0aGFuIHRoZSB3aG9sZSBtYXJrZG93biBzb3VyY2UgY29udGFpbnMsXG4gICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgaGF2ZSBjb2xsaXNpb25zLlxuICAgICAgICAgICAgICAgIHNlbnRpbmVsID0gbmV3IEFycmF5KHBlcmNlbnRDb3VudCArIDIpLmpvaW4oXCIlXCIpO1xuXG4gICAgICAgICAgICAgICAgdGhpbmdzID0gW107XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpbmdGaW5kZXIobWFya2Rvd24sIHRleHRhcmVhQ29udGVudCwgc2VudGluZWwsIHRoaW5nTmFtZSwgdGhpbmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBob29rcy5jaGFpbihcInBvc3RDb252ZXJzaW9uXCIsIGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShuZXcgUmVnRXhwKHNlbnRpbmVsICsgdGhpbmdOYW1lICsgXCItKFxcXFxkKyklXCIsIFwiZ1wiKSwgZnVuY3Rpb24gKF8sIGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjxzdXA+PGEgaHJlZj0nIycgY2xhc3M9J2VkaXQtXCIgKyB0aGluZ05hbWUgKyBcIicgZGF0YS1pZD0nXCIgKyBpZCArIFwiJz5cIiArIGVkaXRMYWJlbCArIFwiPC9hPjwvc3VwPlwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dFZGl0b3Iob2xkVGhpbmc/KSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnNvciA9IGllU2VsZWN0aW9uIHx8IGpUZXh0QXJlYS5jYXJldCgpLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZG93biA9ICg8SFRNTFRleHRBcmVhRWxlbWVudD5qVGV4dEFyZWFbMF0pLnZhbHVlIHx8IFwiXCIsIC8vIG5vdGUgd2UncmUgbm90IHVzaW5nIGpRdWVyeSdzIC52YWwoKSBoZXJlIC0tIGl0IHJlbW92ZXMgdGhlIFxcciAoZnJvbSBJRSdzIFxcclxcbiksIHdoaWNoIGNhdXNlcyB0aGUgc2VsZWN0aW9uIHRvIHBvaW50IHRvIHRoZSB3cm9uZyBwYXJ0IG9mIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRib3gsXG4gICAgICAgICAgICAgICAgICAgIGluc2VydEF0ID0gb2xkVGhpbmcgPyBvbGRUaGluZy5wb3MgOiBjdXJzb3Iuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvdW50ID0gb2xkVGhpbmcgPyBvbGRUaGluZy5sZW4gOiBjdXJzb3IuZW5kIC0gY3Vyc29yLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBwcmVNYXJrZG93biA9IG1hcmtkb3duLnN1YnN0cmluZygwLCBpbnNlcnRBdCksXG4gICAgICAgICAgICAgICAgICAgIHBvc3RNYXJrZG93biA9IG1hcmtkb3duLnN1YnN0cmluZyhpbnNlcnRBdCArIHJlbW92ZUNvdW50KTtcblxuICAgICAgICAgICAgICAgIGllU2VsZWN0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGxldCBpZnJhbWVPckRpdjogSlF1ZXJ5IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIGluIGEgemVyby10aW1lb3V0LCBzaW5jZSBpdCdzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgSUZSQU1FLFxuICAgICAgICAgICAgICAgIC8vIHRodXMgY2FsbGluZyBpdCBpbW1lZGlhdGVseSAoYW5kIGhlbmNlIHJlbW92aW5nIHRoZSBJRlJBTUUpIGNhdXNlcyBhbiB1Z2x5XG4gICAgICAgICAgICAgICAgLy8gXCJyZXF1ZXN0IGNhbmNlbGxlZFwiIGluIHRoZSBjb25zb2xlLlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZUVkaXRvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmNsb3NlUG9wdXBzKCg8SlF1ZXJ5PmlmcmFtZU9yRGl2KS5hZGQobGlnaHRib3gpKTtcbiAgICAgICAgICAgICAgICAgICAgb25SZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3JDbG9zZWQgPSBmdW5jdGlvbiAobmV3SW1hZ2VVcmwsIGN1c3RvbVJlbmRlckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChyZW1vdmVFZGl0b3IsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgalRleHRBcmVhLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLm5hdlByZXZlbnRpb24uc3RhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGhpbmcgPSBjdXN0b21SZW5kZXJDb2RlID09PSB1bmRlZmluZWQgPyBtYWtlVGhpbmdNYXJrZG93bihuZXdJbWFnZVVybCkgOiBjdXN0b21SZW5kZXJDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlVHJpbW1lZCA9IHByZU1hcmtkb3duLnJlcGxhY2UoLyg/OlxcclxcbnxcXHJ8XFxuKXsxLDJ9JC8sIFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFya2Rvd24gPSBwcmVUcmltbWVkICsgdGhpbmcgKyBwb3N0TWFya2Rvd24ucmVwbGFjZSgvXig/OlxcclxcbnxcXHJ8XFxuKXsxLDJ9LywgXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDdXJzb3JQb3MgPSBjdXJzb3Iuc3RhcnQgKyB0aGluZy5sZW5ndGggLSBwcmVNYXJrZG93bi5sZW5ndGggKyBwcmVUcmltbWVkLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci50ZXh0T3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqVGV4dEFyZWEudmFsKG5ld01hcmtkb3duKS5mb2N1cygpLmNhcmV0KG5ld0N1cnNvclBvcywgbmV3Q3Vyc29yUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWRpdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBVUkwgb3IgQ29udGVudFxuICAgICAgICAgICAgICAgIGlmIChnZXRJZnJhbWVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lVXJsID0gZ2V0SWZyYW1lVXJsKG9sZFRoaW5nID8gb2xkVGhpbmcucGF5bG9hZCA6IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWVPckRpdiA9ICQoJzxpZnJhbWU+JywgeyBzcmM6IGlmcmFtZVVybCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2V0RGl2Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXZDb250ZW50ID0gZ2V0RGl2Q29udGVudChvbGRUaGluZyA/IG9sZFRoaW5nLnBheWxvYWQgOiBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lT3JEaXYgPSAkKGRpdkNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICg8SlF1ZXJ5PmlmcmFtZU9yRGl2KS5hZGRDbGFzcyhcImVzYy1yZW1vdmVcIikuY3NzKHsgcG9zaXRpb246ICdmaXhlZCcsIHRvcDogJzIuNSUnLCBsZWZ0OiAnMi41JScsIHdpZHRoOiAnOTUlJywgaGVpZ2h0OiAnOTUlJywgYmFja2dyb3VuZDogJ3doaXRlJywgJ3otaW5kZXgnOiAxMDAxIH0pO1xuXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmxvYWRQb3B1cCh7XG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IDxKUXVlcnk+aWZyYW1lT3JEaXYsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJCgnYm9keScpLFxuICAgICAgICAgICAgICAgICAgICBsaWdodGJveDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvd3MgdGhlIHJlc2l6ZSBldmVudCBmb3IgdmFyaW91cyBpbnRlZ3JhdGlvbnMgdG8gZmlyZVxuICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uU2hvdyhlZGl0b3JDbG9zZWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBOT1RPVUNIID0gXCJUaGUgXCIgKyB0aGluZ05hbWUgKyBcIiBlZGl0b3IgZG9lcyBub3Qgc3VwcG9ydCB0b3VjaCBkZXZpY2VzLlwiO1xuXG4gICAgICAgICAgICBsZXQgdG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJChcIiN3bWQtcHJldmlld1wiICsgcG9zdGZpeCkub24oXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbiAoKSB7IHRvdWNoZWQgPSB0cnVlOyB9KS5vbihcImNsaWNrXCIsIFwiYS5lZGl0LVwiICsgdGhpbmdOYW1lLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvdWNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoTk9UT1VDSCk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b3VjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGVja1N1cHBvcnQgfHwgY2hlY2tTdXBwb3J0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXRvcih0aGluZ3NbJChldnQudGFyZ2V0KS5hdHRyKFwiZGF0YS1pZFwiKV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKFwiI3dtZC1pbnB1dFwiICsgcG9zdGZpeCkua2V5dXAoZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGlmIChldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSB8fCBldnQubWV0YUtleSB8fCAhZXZ0LmN0cmxLZXkgfHwgZXZ0LndoaWNoICE9PSBLRVlfQ09ERS5NKSAvLyBDdHJsLU1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghY2hlY2tTdXBwb3J0IHx8IGNoZWNrU3VwcG9ydCgpKVxuICAgICAgICAgICAgICAgICAgICBzaG93RWRpdG9yKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdGhpcyBoYXMgdG8gYmUgaW4gbmV4dFRpY2ssIHNpbmNlIHRoZSBidXR0b25zIGFyZSBvbmx5IGNyZWF0ZWQgaW4gZWRpdG9yLnJ1bigpLCB3aGljaCBpcyBjYWxsZWQgKmFmdGVyKiB0aGUgY3JlYXRpb24gY2FsbGJhY2tzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUJ1dHRvbiA9ICQoXCIjd21kLWltYWdlLWJ1dHRvblwiICsgcG9zdGZpeCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsaSA9ICQoXCI8bGkgY2xhc3M9J3dtZC1idXR0b24gd21kLVwiICsgdGhpbmdOYW1lICsgXCItYnV0dG9uJyBpZD0nd21kLVwiICsgdGhpbmdOYW1lICsgXCItYnV0dG9uXCIgKyBwb3N0Zml4ICsgXCInIHRpdGxlPSdcIiArIGJ1dHRvblRvb2x0aXAgKyBcIiBDdHJsLU0nPlwiKVxuICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoaW1hZ2VCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgbGV0IHRvdWNoZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIikuYXBwZW5kVG8obGkpLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKCkgeyB0b3VjaGVkID0gdHJ1ZTsgfSkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoTk9UT1VDSCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrU3VwcG9ydCB8fCBjaGVja1N1cHBvcnQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFZGl0b3IoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0gLy8gZW5kIHByZXBhcmVXbWRcblxuICAgICAgICBmdW5jdGlvbiBtYWtlVGhpbmdNYXJrZG93bihpbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuIChcIlxcblxcbjwhLS0gQmVnaW4ge1RISU5HfTogSW4gb3JkZXIgdG8gcHJlc2VydmUgYW4gZWRpdGFibGUge1RISU5HfSwgcGxlYXNlXFxuICAgICBkb24ndCBlZGl0IHRoaXMgc2VjdGlvbiBkaXJlY3RseS5cXG4gICAgIENsaWNrIHRoZSBcXFwiZWRpdFxcXCIgbGluayBiZWxvdyB0aGUgaW1hZ2UgaW4gdGhlIHByZXZpZXcgaW5zdGVhZC4gLS0+XFxuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiIVt7VEhJTkd9XShcIiArIGltYWdlVXJsICsgXCIpXFxuXFxuPCEtLSBFbmQge1RISU5HfSAtLT5cXG5cXG5cIikucmVwbGFjZSgve1RISU5HfS9nLCB0aGluZ05hbWUpO1xuICAgICAgICB9XG5cbiAgICB9Ly8gZW5kIGluaXRcblxuXG5cbn0pKCk7XG4iLCJpbXBvcnQgeyBJY29uUGxheSB9IGZyb20gXCJAc3RhY2tvdmVyZmxvdy9zdGFja3MtaWNvbnMvaWNvbnNcIjtcbmltcG9ydCB7IGNyZWF0ZVN2Z0VsZW1lbnQgfSBmcm9tIFwiLi4vLi4vU2hhcmVkL3N2Zy11dGlscy5tb2RcIjtcblxuXG5kZWNsYXJlIHZhciBDb2RlTWlycm9yOiBhbnk7XG5kZWNsYXJlIHZhciBodG1sX2JlYXV0aWZ5OiAoaHRtbDogc3RyaW5nLCBvcHRpb25zOiBhbnkpID0+IHN0cmluZztcbmRlY2xhcmUgdmFyIGpzX2JlYXV0aWZ5OiAoanM6IHN0cmluZywgb3B0aW9uczogYW55KSA9PiBzdHJpbmc7XG5kZWNsYXJlIHZhciBjc3NfYmVhdXRpZnk6IChjc3M6IHN0cmluZywgb3B0aW9uczogYW55KSA9PiBzdHJpbmc7XG5cbi8vIHNlZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9kb2MvbWFudWFsLmh0bWxcbmludGVyZmFjZSBDb2RlTWlycm9yRG9jdW1lbnQge1xuICAgIGdldFZhbHVlKHNlcGFyYXRvcj86IHN0cmluZyk6IHN0cmluZztcbiAgICBzZXRWYWx1ZShjb250ZW50OiBzdHJpbmcpOiB2b2lkO1xuICAgIHNhdmUoKTogdm9pZDtcbiAgICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gdm9pZCk7XG59XG5cbihmdW5jdGlvbiAoJCwgd2luZG93KSB7XG5cbiAgICBpZiAoIVN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MgfHwgIVN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3Muc25pcHBldHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjb2RlSGFzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgX3JlbmRlckRvbWFpbiA9IFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3Muc25pcHBldHMucmVuZGVyRG9tYWluO1xuXG4gICAgbGV0IGVkaXRvcklubmVySHRtbCA9IG51bGw7XG4gICAgY29uc3QgbG9hZEVkaXRvcklubmVySHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFlZGl0b3JJbm5lckh0bWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoXCIvc25pcHBldHMvZWRpdG9yLXVpXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9ySW5uZXJIdG1sID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQud2hlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZURpdihjbGF6ejogc3RyaW5nKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxkaXY+JykuYWRkQ2xhc3MoY2xhenopO1xuICAgIH1cblxuICAgIGxldCBsYXN0SWQgPSAxO1xuICAgIGZ1bmN0aW9uIG5leHRJZCgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBuYW1lID0gXCJzaWZcIiArIGxhc3RJZDtcbiAgICAgICAgbGFzdElkKys7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VJRnJhbWUoKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxpZnJhbWU+JykuYXR0cih7XG4gICAgICAgICAgICBuYW1lOiBuZXh0SWQoKSxcbiAgICAgICAgICAgIHNhbmRib3g6IFwiYWxsb3ctZm9ybXMgYWxsb3ctbW9kYWxzIGFsbG93LXNjcmlwdHNcIixcbiAgICAgICAgICAgIGNsYXNzOiBcInNuaXBwZXQtYm94LWVkaXQgc25pcHBldC1ib3gtcmVzdWx0XCIsXG4gICAgICAgICAgICBmcmFtZUJvcmRlcjogMFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQ29kZWJsb2NrT3ZlcnJpZGVQcmUobDogc3RyaW5nKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxwcmU+JykuYWRkQ2xhc3MoXCJwcmV0dHlwcmludC1vdmVycmlkZSBsYW5nLVwiICsgbCArIFwiIHNuaXBwZXQtY29kZS1cIiArIGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VBbmNob3IodGV4dDogc3RyaW5nKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxhPicpLnRleHQodGV4dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVRleHRBcmVhKG5hbWU6IHN0cmluZywgdmFsOiBzdHJpbmcpOiBKUXVlcnkge1xuICAgICAgICByZXR1cm4gJCgnPHRleHRhcmVhPicpLmF0dHIoXCJuYW1lXCIsIG5hbWUpLnZhbCh2YWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtKGFjdGlvbjogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgdGFyZ2V0OiBzdHJpbmcpOiBKUXVlcnkge1xuICAgICAgICByZXR1cm4gJCgnPGZvcm0+JykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIikuYXR0cih7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVRleHRJbnB1dChuYW1lOiBzdHJpbmcsIHZhbDogc3RyaW5nKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxpbnB1dD4nKS5hdHRyKHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIG1ha2VCdXR0b24oKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicy1idG5cIj4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQ29kZSh0ZXh0OiBzdHJpbmcpOiBKUXVlcnkge1xuICAgICAgICByZXR1cm4gJCgnPGNvZGU+JykudGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgU25pcHBldE9wdGlvbnMge1xuICAgICAgICBtYXJrZG93blBsdWdpbk1vZGU/OiBib29sZWFuO1xuICAgICAgICBzdGF0ZT86IFNuaXBwZXRFZGl0b3JTdGF0ZSB8IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVNuaXBwZXQoJGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zOiBTbmlwcGV0T3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAkY29udGFpbmVyLmVhY2goZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZXhpc3RzXG4gICAgICAgICAgICBsZXQgc25pcHBldDogU25pcHBldE9iamVjdCB8IFNuaXBwZXRFZGl0b3JPYmplY3QgfCB1bmRlZmluZWQgPSBlbGVtLmRhdGEoJ19zbmlwcGV0Jyk7XG4gICAgICAgICAgICBpZiAoIXNuaXBwZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0VkaXRvciA9IG9wdGlvbnMubWFya2Rvd25QbHVnaW5Nb2RlO1xuXG4gICAgICAgICAgICAgICAgc25pcHBldCA9IGlzRWRpdG9yID8gU25pcHBldEVkaXRvcigpIDogU25pcHBldCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNuaXBwZXQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ga25vd24gdHlwZSBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgICg8U25pcHBldEVkaXRvck9iamVjdD5zbmlwcGV0KS5zZXRVSUlubmVySHRtbChlZGl0b3JJbm5lckh0bWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhbmQgYXBwZW5kIHRvIGVsZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZ2VuZXJhdGUoZWxlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBpbml0aWFsbHkgcmVzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LnJlc2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNpemUgd2hlbiB0aGUgd2luZG93IHJlc2l6ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc25pcHBldCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25pcHBldC5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5kYXRhKCdfc25pcHBldCcsIHNuaXBwZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LmxvYWQob3B0aW9ucy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTGF6eSBsb2FkIHRoZSBjb2RlIG1pcnJvciBzdHVmZlxuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKFwic25pcHBldHNKc0NvZGVNaXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBoYXMgdG8gYmUgY2FsbGVkIGluIHRoZSBuZXh0IHRpY2sgKGV2ZW4gaWYgdGhlIGNvZGUgbWlycm9yIHN0dWZmIGlzIGFscmVhZHkgbG9hZGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIHNjcmV3IHVwIHRoZSBvcmRlciBpbiB3aGljaCBldmVudCBoYW5kbGVycyBhcmUgYXR0YWNoZWQgYW5kIHN0dWZmIGZyb20gbG9hZFBvcHVwIG92ZXJyaWRlcyBjdXN0b20gb25lc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+bG9hZEVkaXRvcklubmVySHRtbCgpKS50aGVuKGluaXRFZGl0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYW5kIGFwcGVuZCB0byBlbGVtXG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZ2VuZXJhdGUoZWxlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5kYXRhKCdfc25pcHBldCcsIHNuaXBwZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LmxvYWQob3B0aW9ucy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKiBTTklQUEVUIEVESVRPUiBNT0RFICAgICAgICAgICAgICoqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgaW50ZXJmYWNlIFNuaXBwZXRFZGl0b3JTdGF0ZSB7XG4gICAgICAgIGh0bWw6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIGNzczogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAganM6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIGNvbnNvbGU6IGJvb2xlYW4gfCBudWxsO1xuICAgICAgICBoaWRlOiBib29sZWFuIHwgbnVsbDtcbiAgICAgICAgYmFiZWw6IGJvb2xlYW4gfCBudWxsO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBTbmlwcGV0RWRpdG9yT2JqZWN0IHtcbiAgICAgICAgc2V0VUlJbm5lckh0bWw6IChzdHJpbmcpID0+IHZvaWQsXG4gICAgICAgIHJlc2l6ZTogKCkgPT4gdm9pZCxcbiAgICAgICAgd3JpdGVSZXN1bHQ6ICgpID0+IHZvaWQsXG4gICAgICAgIHNhdmU6ICgpID0+IFNuaXBwZXRFZGl0b3JTdGF0ZSxcbiAgICAgICAgY2xlYXI6ICgpID0+IHZvaWQsXG4gICAgICAgIGxvYWQ6IChzdGF0ZTogU25pcHBldEVkaXRvclN0YXRlKSA9PiB2b2lkLFxuICAgICAgICBydW46ICgpID0+IHZvaWQsXG4gICAgICAgIGdlbmVyYXRlOiAodGFyZ2V0OiBKUXVlcnkpID0+IHZvaWQsXG4gICAgICAgIHJlZ2lzdGVyRXh0ZXJuYWxMaWJDaGFuZ2U6IChcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IEpRdWVyeSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpb25Db2RlT3JGbjogKCh2ZXJzaW9uOiBzdHJpbmcsIGZpbGU6IHN0cmluZykgPT4gc3RyaW5nKSB8IHN0cmluZyxcbiAgICAgICAgICAgICAgICBjb2RlTWlycm9yVGFyZ2V0OiBDb2RlTWlycm9yRG9jdW1lbnRcbiAgICAgICAgICAgICkgPT4gdm9pZFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNuaXBwZXRFZGl0b3IoKTogU25pcHBldEVkaXRvck9iamVjdCB7XG4gICAgICAgIGNvbnN0IF9zdGF0ZTogU25pcHBldEVkaXRvclN0YXRlID0ge1xuICAgICAgICAgICAgaHRtbDogbnVsbCxcbiAgICAgICAgICAgIGNzczogbnVsbCxcbiAgICAgICAgICAgIGpzOiBudWxsLFxuICAgICAgICAgICAgY29uc29sZTogdHJ1ZSxcbiAgICAgICAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgICAgICAgYmFiZWw6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgX3NuaXA6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX2pRdWVyeVNlbGVjdDogSlF1ZXJ5IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGxldCBfZDNTZWxlY3Q6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX2tub2Nrb3V0U2VsZWN0OiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IF9hbmd1bGFySlNTZWxlY3Q6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX3Z1ZUpTU2VsZWN0OiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IF9yZWFjdEpTU2VsZWN0OiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IF9yZWFjdERvbUpTU2VsZWN0OiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IF9oaWRlOiBKUXVlcnkgfCBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIGxldCBfY29uc29sZTogYm9vbGVhbiB8IEpRdWVyeSA9IHRydWU7XG4gICAgICAgIGxldCBfYmFiZWw6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX2JveEh0bWwgOiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IF9ib3hDc3M6IEpRdWVyeSB8IG51bGwgID0gbnVsbDtcbiAgICAgICAgbGV0IF9ib3hKczogSlF1ZXJ5IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGxldCBfYm94UmVzdWx0VGVtcGxhdGU6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX2JveFJlc3VsdDogSlF1ZXJ5IHwgbnVsbCAgPSBudWxsO1xuICAgICAgICBsZXQgX2NvZGVNaXJyb3JIdG1sOiBhbnkgPSBudWxsO1xuICAgICAgICBsZXQgX2NvZGVNaXJyb3JDc3M6IGFueSA9IG51bGw7XG4gICAgICAgIGxldCBfY29kZU1pcnJvckpzOiBhbnkgPSBudWxsO1xuICAgICAgICBsZXQgX3VpSW5uZXJIdG1sOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgICAgICBmdW5jdGlvbiBzZXRVSUlubmVySHRtbCh1aUlubmVySHRtbCkge1xuICAgICAgICAgICAgX3VpSW5uZXJIdG1sID0gdWlJbm5lckh0bWw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlKFxuICAgICAgICAgICAgc2VsZWN0OiBKUXVlcnksXG4gICAgICAgICAgICBpbmNsdXNpb25Db2RlT3JGbjogKCh2ZXJzaW9uOiBzdHJpbmcsIGZpbGU6IHN0cmluZykgPT4gc3RyaW5nKSB8IHN0cmluZyxcbiAgICAgICAgICAgIGNvZGVNaXJyb3JUYXJnZXQ6IENvZGVNaXJyb3JEb2N1bWVudFxuICAgICAgICApIHtcblxuICAgICAgICAgICAgY29uc3QgcmVwbGFjZUZuID0gdHlwZW9mIGluY2x1c2lvbkNvZGVPckZuID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICA/IGluY2x1c2lvbkNvZGVPckZuXG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAodmVyc2lvbiwgZmlsZSkgeyByZXR1cm4gaW5jbHVzaW9uQ29kZU9yRm4ucmVwbGFjZSgvXFwqdmVyc2lvblxcKi9nLCB2ZXJzaW9uKS5yZXBsYWNlKC9cXCpmaWxlXFwqL2csIGZpbGUpOyB9O1xuICAgICAgICAgICAgLy8gZ29vZCBvbCcgYm9iaW5jZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdC8zNTYxNzExIzM1NjE3MTFcbiAgICAgICAgICAgIGNvbnN0IGxpYnJhcnlNYXRjaFBhdHRlcm4gPSByZXBsYWNlRm4oXCIjI3ZlcnNpb24jI1wiLCBcIiMjZmlsZSMjXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJjZG5qc1xcXFwuY2xvdWRmbGFyZVxcXFwuY29tXCIsIFwiKD86Y2RuanNcXFxcLmNsb3VkZmxhcmVcXFxcLmNvbXxhamF4XFxcXC5nb29nbGVhcGlzXFxcXC5jb20pXCIpIC8vIHJlY29nbml6ZSBnb29nbGUgQ0ROIHBhdGhzXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyMjdmVyc2lvbiMjL2csIFwiKC4qPylcIikucmVwbGFjZSgvIyNmaWxlIyMvZywgXCIoLio/KVwiKTtcblxuICAgICAgICAgICAgc2VsZWN0LmNoYW5nZShmdW5jdGlvbiAodGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmVyc2lvbiA9ICQodGhpcykudmFsKCkuc3BsaXQoXCI6XCIpLFxuICAgICAgICAgICAgICAgICAgICBmaWxlID0gdmVyc2lvbi5sZW5ndGggPiAxID8gdmVyc2lvblsxXSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgdmVyc2lvbiA9IHZlcnNpb25bMF07XG5cbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IGNvZGVNaXJyb3JUYXJnZXQuZ2V0VmFsdWUoKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHNlZSBpZiBjdXJyZW50IGxpbmUgZXhpc3RzXG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWZXJzaW9uID0gdmVyc2lvbiA9PT0gXCJcIiA/IFwiXCIgOiByZXBsYWNlRm4odmVyc2lvbiwgZmlsZSk7XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5yZXBsYWNlKG5ldyBSZWdFeHAobGlicmFyeU1hdGNoUGF0dGVybiwgXCJnXCIpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkVmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnRyaW0oKTtcblxuICAgICAgICAgICAgICAgIC8vIEV4aXN0cywgcmVwbGFjZVxuICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBjb2RlTWlycm9yVGFyZ2V0LnNldFZhbHVlKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZlcnNpb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmV3LCBhZGQgdG8gdG9wXG4gICAgICAgICAgICAgICAgICAgIGNvZGVNaXJyb3JUYXJnZXQuc2V0VmFsdWUoc2VsZWN0ZWRWZXJzaW9uICsgXCJcXG5cIiArIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlTWlycm9yVGFyZ2V0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHVwZGF0ZVRpbWVyO1xuICAgICAgICAgICAgY29kZU1pcnJvclRhcmdldC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodXBkYXRlVGltZXIpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoVXBkYXRlU2VsZWN0ZWRMaWJyYXJ5LCAxMDAwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTZWxlY3RlZExpYnJhcnkoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGNvZGVNaXJyb3JUYXJnZXQuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY3VycmVudC5tYXRjaChsaWJyYXJ5TWF0Y2hQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnZhbChtYXRjaGVzWzFdICsgXCI6XCIgKyBtYXRjaGVzWzJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdC52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGUodGFyZ2V0OiBKUXVlcnkpIHtcbiAgICAgICAgICAgIGlmIChfc25pcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc25pcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3NuaXAgPSAkKDxzdHJpbmc+X3VpSW5uZXJIdG1sKTtcblxuICAgICAgICAgICAgLy9DbG9zZSBidXR0b25cbiAgICAgICAgICAgICQoX3NuaXApLmZpbmQoXCIjc25wdGUtY2xvc2UtYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uICh0aGlzOiBIVE1MRWxlbWVudCwgZSkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5jbG9zZVBvcHVwcygkKHRoaXMpLmNsb3Nlc3QoJy5zbmlwcGV0LW1vZGFsJyksICdlc2MnKTsgLy8gc2FtZSBhcyBFc2Mga2V5IGhhbmRsaW5nLCB3ZSB3YW50IGEgY29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL0V4dGVybmFsIGxpYnJhcnkgc2VsZWN0b3JzXG4gICAgICAgICAgICBfalF1ZXJ5U2VsZWN0ID0gX3NuaXAuZmluZChcIiNzbnB0ZS1qcXVlcnktc2VsZWN0XCIpO1xuICAgICAgICAgICAgX2QzU2VsZWN0ID0gX3NuaXAuZmluZChcIiNzbnB0ZS1kMy1zZWxlY3RcIik7XG4gICAgICAgICAgICBfa25vY2tvdXRTZWxlY3QgPSBfc25pcC5maW5kKFwiI3NucHRlLWtub2Nrb3V0LXNlbGVjdFwiKTtcbiAgICAgICAgICAgIF9hbmd1bGFySlNTZWxlY3QgPSBfc25pcC5maW5kKFwiI3NucHRlLWFuZ3VsYXItc2VsZWN0XCIpO1xuICAgICAgICAgICAgX3Z1ZUpTU2VsZWN0ID0gX3NuaXAuZmluZChcIiNzbnB0ZS12dWUtc2VsZWN0XCIpO1xuICAgICAgICAgICAgX3JlYWN0SlNTZWxlY3QgPSBfc25pcC5maW5kKFwiI3NucHRlLXJlYWN0LXNlbGVjdFwiKTtcbiAgICAgICAgICAgIF9yZWFjdERvbUpTU2VsZWN0ID0gX3NuaXAuZmluZChcIiNzbnB0ZS1yZWFjdC1kb20tc2VsZWN0XCIpO1xuXG4gICAgICAgICAgICAvL1Nob3cgY29uc29sZSBhbmQgaGlkZSBieSBkZWZhdWx0IGNoZWNrYm94ZXNcbiAgICAgICAgICAgIF9oaWRlID0gX3NuaXAuZmluZChcIiNzbnB0ZS1oaWRlLXNuaXBwZXRcIik7XG4gICAgICAgICAgICBfY29uc29sZSA9IF9zbmlwLmZpbmQoXCIjc25wdGUtc2hvdy1jb25zb2xlXCIpO1xuICAgICAgICAgICAgX2JhYmVsID0gX3NuaXAuZmluZChcIiNzbnB0ZS11c2UtYmFiZWxcIik7XG5cbiAgICAgICAgICAgIC8vUnVuLCBUaWR5LCBJbnNlcnQsIFJlc2V0IGJ1dHRvbnNcbiAgICAgICAgICAgIF9zbmlwLmZpbmQoXCIjc25wdGUtYnV0dG9uLXJ1blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9zbmlwLmZpbmQoXCIjc25wdGUtYnV0dG9uLXRpZHlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9jb2RlTWlycm9ySHRtbC5iZWF1dGlmeSgpO1xuICAgICAgICAgICAgICAgIF9jb2RlTWlycm9yQ3NzLmJlYXV0aWZ5KCk7XG4gICAgICAgICAgICAgICAgX2NvZGVNaXJyb3JKcy5iZWF1dGlmeSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfc25pcC5maW5kKFwiI3NucHRlLWJ1dHRvbi1pbnNlcnRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5jbG9zZVBvcHVwcygkKCcuc25pcHBldC1tb2RhbCcpKTsgLy8gdHJpZ2dlcnMgcG9wdXBDbG9zZSwgd2hpY2ggc2F2ZXMgc3R1ZmZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3NuaXAuZmluZChcIiNzbnB0ZS1idXR0b24tcmVzZXRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQWRkIHRvIHRhcmdldFxuICAgICAgICAgICAgdGFyZ2V0LmVtcHR5KCkuYXBwZW5kKF9zbmlwKTtcblxuICAgICAgICAgICAgLy8gQ29kZSBtaXJyb3IgdGhlIHRleHQgYXJlYXNcbiAgICAgICAgICAgIF9ib3hIdG1sID0gX3NuaXAuZmluZChcIiNzbnB0ZS1ib3gtZWRpdC1odG1sXCIpO1xuICAgICAgICAgICAgX2JveENzcyA9IF9zbmlwLmZpbmQoXCIjc25wdGUtYm94LWVkaXQtY3NzXCIpO1xuICAgICAgICAgICAgX2JveEpzID0gX3NuaXAuZmluZChcIiNzbnB0ZS1ib3gtZWRpdC1qc1wiKTtcbiAgICAgICAgICAgIF9ib3hSZXN1bHQgPSBfc25pcC5maW5kKFwiI3NucHRlLWJveC1lZGl0LXJlc3VsdFwiKTtcbiAgICAgICAgICAgIF9ib3hSZXN1bHRUZW1wbGF0ZSA9IF9ib3hSZXN1bHQuY2xvbmUoKTsgICAgLy8ga2VlcCBhIHByaXN0aW5lIHJlc3VsdCBib3ggYXJvdW5kIGZvciByZXNldGluZ1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgaW5kZW50YXRpb24gc2hvcnRjdXRzIHdvcmsgYXMgZXhwZWN0ZWRcbiAgICAgICAgICAgIENvZGVNaXJyb3IuY29tbWFuZHMuaW5zZXJ0VGFiID0gQ29kZU1pcnJvci5jb21tYW5kcy5pbnNlcnRTb2Z0VGFiOyAvLyB3ZSB3YW50IHNwYWNlcyBpbnN0ZWFkIG9mIHRhYnMuLi5cbiAgICAgICAgICAgIENvZGVNaXJyb3Iua2V5TWFwLmRlZmF1bHRbXCJTaGlmdC1UYWJcIl0gPSBcImluZGVudExlc3NcIjtcbiAgICAgICAgICAgIENvZGVNaXJyb3IuY29tbWFuZHMuaW5kZW50QXV0byA9IGZ1bmN0aW9uIChjbSkgeyBjbS5iZWF1dGlmeSgpOyB9IC8vIGp1c3QgaW4gY2FzZSBhbnkgd2VpcmQvY3VzdG9tIGtleWJvYXJkIHNob3J0Y3V0IGV2ZXIgY2FsbHMgdGhpcywgbWFrZSBpdCBiZWhhdmUgbGlrZSB0aGUgdGlkeSBidXR0b25cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0dXBDb2RlTWlycm9yKGVsZW1lbnQsIG1vZGUsIGJlYXV0aWZpZXIpOiBhbnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNtID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICBlbGVjdHJpY0NoYXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc21hcnRJbmRlbnQ6IGZhbHNlLCAvLyBub3Qgc28gc21hcnQgYWZ0ZXIgYWxsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaW5lV3JhcHBpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgICAgICAgICAgIHRhYlNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBXaXJlIHVwIGNoYW5nZS1zYXZlIHRvIGtlZXAgdGV4dGFyZWEgaW4gc3luY1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBmaXJlIG9uIEVWRVJZIEtFWVNUUk9LRSAtIHRoYXQgbWFrZXMgdHlwaW5nIHByZXR0eSBqZXJreSBpZiB0aGVyZSdzIGEgbG90IG9mIHRleHQgdG8gc3luY1xuICAgICAgICAgICAgICAgIC8vIHNvIGRlbGF5IHN5bmMgdW50aWwgdGhlcmUncyBhIHNob3J0IGJyZWFrIGluIHR5cGluZ1xuICAgICAgICAgICAgICAgIGxldCBjb2RlU3luY1RpbWVyO1xuICAgICAgICAgICAgICAgIGNtLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGVIYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChjb2RlU3luY1RpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29kZVN5bmNUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNtLmJlYXV0aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBnb3R0YSB0cmltIHRvIGZpeCBDU1Mgc3BhY2luZyBidWdcbiAgICAgICAgICAgICAgICAgICAgY20uc2V0VmFsdWUoYmVhdXRpZmllcihjbS5nZXRWYWx1ZSgpLnRyaW0oKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGVudF9zaXplJzogY20ub3B0aW9ucy50YWJTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGVudF9jaGFyJzogJyAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VuZm9ybWF0dGVkJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGpzLWJlYXV0aWZ5IGRvZXNuJ3QgZm9ybWF0IHNlbGVjdCB0YWdzIGJ5IGRlZmF1bHQuIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF1dGlmeS13ZWIvanMtYmVhdXRpZnkvaXNzdWVzLzEwOTdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsICdhYmJyJywgJ2FyZWEnLCAnYXVkaW8nLCAnYicsICdiZGknLCAnYmRvJywgJ2JyJywgJ2J1dHRvbicsICdjYW52YXMnLCAnY2l0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvZGUnLCAnZGF0YScsICdkYXRhbGlzdCcsICdkZWwnLCAnZGZuJywgJ2VtJywgJ2VtYmVkJywgJ2knLCAnaWZyYW1lJywgJ2ltZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lucHV0JywgJ2lucycsICdrYmQnLCAna2V5Z2VuJywgJ2xhYmVsJywgJ21hcCcsICdtYXJrJywgJ21hdGgnLCAnbWV0ZXInLCAnbm9zY3JpcHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3QnLCAnb3V0cHV0JywgJ3Byb2dyZXNzJywgJ3EnLCAncnVieScsICdzJywgJ3NhbXAnLCAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJywgJ3N0cm9uZycsICdzdWInLCAnc3VwJywgJ3N2ZycsICd0ZW1wbGF0ZScsICd0ZXh0YXJlYScsICd0aW1lJywgJ3UnLCAndmFyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlkZW8nLCAnd2JyJywgJ3RleHQnLCAnYWNyb255bScsICdhZGRyZXNzJywgJ2JpZycsICdkdCcsICdpbnMnLCAnc3RyaWtlJywgJ3R0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBtYWtlU2NyaXB0VGFnKGxpYk5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8c2NyaXB0IHNyYz1cImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzLycrbGliTmFtZSsnLyp2ZXJzaW9uKi8qZmlsZSpcIj48L3NjcmlwdD4nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb2RlTWlycm9ySHRtbCA9IHNldHVwQ29kZU1pcnJvcihfYm94SHRtbFswXSwgXCJodG1sbWl4ZWRcIiwgaHRtbF9iZWF1dGlmeSk7XG4gICAgICAgICAgICBfY29kZU1pcnJvckNzcyA9IHNldHVwQ29kZU1pcnJvcihfYm94Q3NzWzBdLCBcImNzc1wiLCBjc3NfYmVhdXRpZnkpO1xuICAgICAgICAgICAgX2NvZGVNaXJyb3JKcyA9IHNldHVwQ29kZU1pcnJvcihfYm94SnNbMF0sIFwiamF2YXNjcmlwdFwiLCBqc19iZWF1dGlmeSk7XG5cbiAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgICAqIEJFR0lOIEVYVEVSTkFMIExJQlJBUlkgSU5TRVJUU1xuICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgICAgICAgLy8galF1ZXJ5XG4gICAgICAgICAgICByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlKF9qUXVlcnlTZWxlY3QsXG4gICAgICAgICAgICAgICAgbWFrZVNjcmlwdFRhZygnanF1ZXJ5JyksXG4gICAgICAgICAgICAgICAgX2NvZGVNaXJyb3JIdG1sKTtcblxuICAgICAgICAgICAgLy8gZDNcbiAgICAgICAgICAgIHJlZ2lzdGVyRXh0ZXJuYWxMaWJDaGFuZ2UoX2QzU2VsZWN0LFxuICAgICAgICAgICAgICAgIG1ha2VTY3JpcHRUYWcoJ2QzJyksXG4gICAgICAgICAgICAgICAgX2NvZGVNaXJyb3JIdG1sKTtcblxuICAgICAgICAgICAgLy8gS25vY2tvdXRcbiAgICAgICAgICAgIHJlZ2lzdGVyRXh0ZXJuYWxMaWJDaGFuZ2UoX2tub2Nrb3V0U2VsZWN0LFxuICAgICAgICAgICAgICAgIG1ha2VTY3JpcHRUYWcoJ2tub2Nrb3V0JyksXG4gICAgICAgICAgICAgICAgX2NvZGVNaXJyb3JIdG1sKTtcblxuICAgICAgICAgICAgLy8gQW5ndWxhckpTXG4gICAgICAgICAgICByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlKF9hbmd1bGFySlNTZWxlY3QsXG4gICAgICAgICAgICAgICAgbWFrZVNjcmlwdFRhZygnYW5ndWxhci5qcycpLFxuICAgICAgICAgICAgICAgIF9jb2RlTWlycm9ySHRtbCk7XG5cbiAgICAgICAgICAgIC8vIFZ1ZUpTXG4gICAgICAgICAgICByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlKF92dWVKU1NlbGVjdCxcbiAgICAgICAgICAgICAgICBtYWtlU2NyaXB0VGFnKCd2dWUnKSxcbiAgICAgICAgICAgICAgICBfY29kZU1pcnJvckh0bWwpO1xuXG4gICAgICAgICAgICAvLyBSZWFjdEpTXG4gICAgICAgICAgICByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlKF9yZWFjdEpTU2VsZWN0LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2ZXJzaW9uLCBmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbVZlciA9ICgoPEpRdWVyeT5fcmVhY3REb21KU1NlbGVjdCkuZmluZChcIm9wdGlvblt2YWx1ZV49J1wiICsgdmVyc2lvbiArIFwiJ11cIikuYXR0cihcInZhbHVlXCIpIHx8IFwiXCIpLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tRmlsZSA9IGRvbVZlclsxXSB8fCBmaWxlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcmVhY3QvJyArIHZlcnNpb24gKyAnLycgKyBmaWxlICsgJ1wiPjwvc2NyaXB0PlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcmVhY3QtZG9tLycgKyB2ZXJzaW9uICsgJy8nICsgZG9tRmlsZSArICdcIj48L3NjcmlwdD4nO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX2NvZGVNaXJyb3JIdG1sKTtcblxuICAgICAgICAgICAgLy8gRXh0ZXJuYWwgTGlicmFyeVxuICAgICAgICAgICAgX3NuaXAuZmluZChcIiNzbnB0ZS1idXR0b24tZXh0bGliXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBwcm9tcHQoX3MoXCJQbGVhc2UgZW50ZXIgdGhlIFVSTCBvZiBhbiBleHRlcm5hbCBKUyBvciBDU1MgZmlsZVwiKSk7XG4gICAgICAgICAgICAgICAgaWYgKHVybCA9PSBudWxsIHx8IHVybCA9PSBcIlwiIHx8IHVybC50cmltKCkgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IF9jb2RlTWlycm9ySHRtbC5nZXRWYWx1ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlKHVybCwgXCIuY3NzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSAnPGxpbmsgaHJlZj1cIicgKyB1cmwgKyAnXCIgcmVsPVwic3R5bGVzaGVldFwiLz4nO1xuICAgICAgICAgICAgICAgICAgICBfY29kZU1pcnJvckh0bWwuc2V0VmFsdWUobGluayArIFwiXFxuXCIgKyBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsaWRhdGUodXJsLCBcIi5qc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gJzxzY3JpcHQgc3JjPVwiJyArIHVybCArICdcIj48L3NjcmlwdD4nO1xuICAgICAgICAgICAgICAgICAgICBfY29kZU1pcnJvckh0bWwuc2V0VmFsdWUobGluayArIFwiXFxuXCIgKyBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KF9zKFwiU29ycnksIGJ1dCB0aGF0IHJlc291cmNlIGlzIGludmFsaWQuIFJlc291cmNlcyBtdXN0IGJlZ2luIHdpdGggaHR0cDovLyBvciBodHRwczovLyBhbmQgYWxsb3dlZCBleHRlbnNpb25zIGFyZTogLmNzcywgLmpzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZShmaWxlTmFtZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZS5sZW5ndGggPCBleHRlbnNpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lLmluZGV4T2YoXCJodHRwczovL1wiKSAhPSAwICYmIGZpbGVOYW1lLmluZGV4T2YoXCJodHRwOi8vXCIpICE9IDAgJiYgZmlsZU5hbWUuaW5kZXhPZihcIi8vXCIpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZS5zdWJzdHIoZmlsZU5hbWUubGVuZ3RoIC0gZXh0ZW5zaW9uLmxlbmd0aCwgZXh0ZW5zaW9uLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PSBleHRlbnNpb24udG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgICAqIEVORCBFWFRFUk5BTCBMSUJSQVJZIElOU0VSVFNcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgICAgICAgIC8vIEZvY3VzIGFuZCBibHVyIGVmZmVjdHNcbiAgICAgICAgICAgICQuZWFjaChbX2NvZGVNaXJyb3JIdG1sLCBfY29kZU1pcnJvckNzcywgX2NvZGVNaXJyb3JKc10sIGZ1bmN0aW9uIChfLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5vbihcImZvY3VzXCIsIGZ1bmN0aW9uICgpIHsgJChpdGVtLmdldElucHV0RmllbGQoKSkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuY2hpbGRyZW4oXCIuanMtbmFtZVwiKS5oaWRlKCk7IH0pO1xuICAgICAgICAgICAgICAgIGl0ZW0ub24oXCJibHVyXCIsIGZ1bmN0aW9uICgpIHsgJChpdGVtLmdldElucHV0RmllbGQoKSkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuY2hpbGRyZW4oXCIuanMtbmFtZVwiKS5zaG93KCk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgICAgICAvLyBTeW5jIGJveGVzXG4gICAgICAgICAgICBzYXZlKCk7XG5cbiAgICAgICAgICAgIC8vIFVzaW5nIHNhbmRib3hlZCBpZnJhbWVcbiAgICAgICAgICAgIHdyaXRlUmVzdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2FkKHN0YXRlOiBTbmlwcGV0RWRpdG9yU3RhdGUpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkaXNwbGF5c1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9IHN0YXRlLmh0bWw7XG4gICAgICAgICAgICBjb25zdCBjc3MgPSBzdGF0ZS5jc3M7XG4gICAgICAgICAgICBjb25zdCBqcyA9IHN0YXRlLmpzO1xuICAgICAgICAgICAgY29uc3QgY29uc29sZSA9IHN0YXRlLmNvbnNvbGU7XG4gICAgICAgICAgICBjb25zdCBoaWRlID0gc3RhdGUuaGlkZTtcbiAgICAgICAgICAgIGNvbnN0IGJhYmVsID0gc3RhdGUuYmFiZWw7XG5cbiAgICAgICAgICAgIGlmIChodG1sICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuaHRtbCA9IGh0bWw7XG4gICAgICAgICAgICAgICAgKDxKUXVlcnk+X2JveEh0bWwpLnZhbChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjc3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZS5jc3MgPSBjc3M7XG4gICAgICAgICAgICAgICAgKDxKUXVlcnk+X2JveENzcykudmFsKGNzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoanMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZS5qcyA9IGpzO1xuICAgICAgICAgICAgICAgICg8SlF1ZXJ5Pl9ib3hKcykudmFsKGpzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25zb2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuY29uc29sZSA9IGNvbnNvbGU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICg8SlF1ZXJ5Pl9jb25zb2xlKS5wcm9wKFwiY2hlY2tlZFwiLCBjb25zb2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZS5oaWRlID0gaGlkZTtcbiAgICAgICAgICAgICAgICAoPEpRdWVyeT5faGlkZSkucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFiZWwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuYmFiZWwgPSBiYWJlbDtcbiAgICAgICAgICAgICAgICAoPEpRdWVyeT5fYmFiZWwpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgY29kZSBtaXJyb3JzXG4gICAgICAgICAgICBfY29kZU1pcnJvckh0bWwuc2V0VmFsdWUoaHRtbCk7XG4gICAgICAgICAgICBfY29kZU1pcnJvckNzcy5zZXRWYWx1ZShjc3MpO1xuICAgICAgICAgICAgX2NvZGVNaXJyb3JKcy5zZXRWYWx1ZShqcyk7XG5cbiAgICAgICAgICAgIGNvZGVIYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgICAgICg8SlF1ZXJ5Pl9ib3hIdG1sKS52YWwoJycpO1xuICAgICAgICAgICAgKDxKUXVlcnk+X2JveENzcykudmFsKCcnKTtcbiAgICAgICAgICAgICg8SlF1ZXJ5Pl9ib3hKcykudmFsKCcnKTtcbiAgICAgICAgICAgICg8SlF1ZXJ5Pl9qUXVlcnlTZWxlY3QpLnZhbCgnJyk7XG4gICAgICAgICAgICAoPEpRdWVyeT5fZDNTZWxlY3QpLnZhbCgnJyk7XG4gICAgICAgICAgICAoPEpRdWVyeT5fa25vY2tvdXRTZWxlY3QpLnZhbCgnJyk7XG4gICAgICAgICAgICAoPEpRdWVyeT5fYW5ndWxhckpTU2VsZWN0KS52YWwoJycpO1xuICAgICAgICAgICAgKDxKUXVlcnk+X3Z1ZUpTU2VsZWN0KS52YWwoJycpO1xuICAgICAgICAgICAgKDxKUXVlcnk+X3JlYWN0SlNTZWxlY3QpLnZhbCgnJyk7XG4gICAgICAgICAgICAoPEpRdWVyeT5fY29uc29sZSkucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAoPEpRdWVyeT5faGlkZSkucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgKDxKUXVlcnk+X2JhYmVsKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpZnJhbWVcbiAgICAgICAgICAgIGxldCBwcmVwZW5kID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChfcmVuZGVyRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9IFwiLy9cIiArIF9yZW5kZXJEb21haW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc2V0Qm94UmVzdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHByZXBlbmQgKyBcIi9qc1wiO1xuICAgICAgICAgICAgY29uc3QgZm9ybSA9IG1ha2VGb3JtKGFjdGlvbiwgXCJHRVRcIiwgKDxKUXVlcnk+X2JveFJlc3VsdCkuYXR0cihcIm5hbWVcIikpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCdib2R5Jyk7XG5cbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyXG4gICAgICAgICAgICBfY29kZU1pcnJvckh0bWwuc2V0VmFsdWUoJycpO1xuICAgICAgICAgICAgX2NvZGVNaXJyb3JDc3Muc2V0VmFsdWUoJycpO1xuICAgICAgICAgICAgX2NvZGVNaXJyb3JKcy5zZXRWYWx1ZSgnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xuICAgICAgICAgICAgX3N0YXRlLmh0bWwgPSAoPEpRdWVyeT5fYm94SHRtbCkudmFsKCk7XG4gICAgICAgICAgICBfc3RhdGUuY3NzID0gKDxKUXVlcnk+X2JveENzcykudmFsKCk7XG4gICAgICAgICAgICBfc3RhdGUuanMgPSAoPEpRdWVyeT5fYm94SnMpLnZhbCgpO1xuICAgICAgICAgICAgX3N0YXRlLmNvbnNvbGUgPSAoPEpRdWVyeT5fY29uc29sZSkucHJvcChcImNoZWNrZWRcIik7XG4gICAgICAgICAgICBfc3RhdGUuaGlkZSA9ICg8SlF1ZXJ5Pl9oaWRlKS5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgIF9zdGF0ZS5iYWJlbCA9ICg8SlF1ZXJ5Pl9iYWJlbCkucHJvcChcImNoZWNrZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gd3JpdGVSZXN1bHQoKSB7XG4gICAgICAgICAgICBjb25zdCBjc3M9IF9zdGF0ZS5jc3M7XG4gICAgICAgICAgICBjb25zdCBqcz0gX3N0YXRlLmpzO1xuICAgICAgICAgICAgY29uc3QgaHRtbD0gX3N0YXRlLmh0bWw7XG4gICAgICAgICAgICBjb25zdCBjb25zb2xlID0gX3N0YXRlLmNvbnNvbGU7XG4gICAgICAgICAgICBjb25zdCBiYWJlbCA9IF9zdGF0ZS5iYWJlbDtcblxuICAgICAgICAgICAgaWYgKGNzcyA9PSAnJyAmJiBqcyA9PSAnJyAmJiBodG1sID09ICcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJlcGVuZCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoX3JlbmRlckRvbWFpbikge1xuICAgICAgICAgICAgICAgIHByZXBlbmQgPSBcIi8vXCIgKyBfcmVuZGVyRG9tYWluO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGEgZnJlc2ggaWZyYW1lIGVhY2ggdGltZVxuICAgICAgICAgICAgcmVzZXRCb3hSZXN1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gcHJlcGVuZCArIFwiL2pzXCI7XG4gICAgICAgICAgICBjb25zdCBmb3JtID0gbWFrZUZvcm0oYWN0aW9uLCBcIlBPU1RcIiwgKDxKUXVlcnk+X2JveFJlc3VsdCkuYXR0cihcIm5hbWVcIikpO1xuICAgICAgICAgICAgbWFrZVRleHRBcmVhKFwianNcIiwgPHN0cmluZz5qcykuYXBwZW5kVG8oZm9ybSk7XG4gICAgICAgICAgICBtYWtlVGV4dEFyZWEoXCJjc3NcIiwgPHN0cmluZz5jc3MpLmFwcGVuZFRvKGZvcm0pO1xuICAgICAgICAgICAgbWFrZVRleHRBcmVhKFwiaHRtbFwiLCA8c3RyaW5nPmh0bWwpLmFwcGVuZFRvKGZvcm0pO1xuICAgICAgICAgICAgbWFrZVRleHRJbnB1dChcImNvbnNvbGVcIiwgXCJcIiArIChjb25zb2xlID09PSB0cnVlKSkuYXBwZW5kVG8oZm9ybSk7XG4gICAgICAgICAgICBtYWtlVGV4dElucHV0KFwiYmFiZWxcIiwgXCJcIiArIChiYWJlbCA9PT0gdHJ1ZSkpLmFwcGVuZFRvKGZvcm0pO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRUbygnYm9keScpO1xuXG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCgpLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzZXRCb3hSZXN1bHQoKSB7XG4gICAgICAgICAgICBpZiAoIV9ib3hSZXN1bHRUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiTm8gdGVtcGxhdGUgYXZhaWxhYmxlIGZvciByZXN1bHQgZGVzdGluYXRpb25cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFfYm94UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDYW5ub3QgaW5zZXJ0IG5ldyByZXN1bHQgZGVzdGluYXRpb25cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgJG5ld0JveFJlc3VsdCA9IF9ib3hSZXN1bHRUZW1wbGF0ZS5jbG9uZSgpO1xuXG4gICAgICAgICAgICBfYm94UmVzdWx0LnJlcGxhY2VXaXRoKCRuZXdCb3hSZXN1bHQpO1xuICAgICAgICAgICAgX2JveFJlc3VsdCA9ICRuZXdCb3hSZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZU9mQ29kZUhhc0NoYW5nZWQgPSBjb2RlSGFzQ2hhbmdlZDtcblxuICAgICAgICAgICAgX2NvZGVNaXJyb3JIdG1sLnJlZnJlc2goKTtcbiAgICAgICAgICAgIF9jb2RlTWlycm9yQ3NzLnJlZnJlc2goKTtcbiAgICAgICAgICAgIF9jb2RlTWlycm9ySnMucmVmcmVzaCgpO1xuXG4gICAgICAgICAgICBjb2RlSGFzQ2hhbmdlZCA9IHZhbHVlT2ZDb2RlSGFzQ2hhbmdlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXRVSUlubmVySHRtbDogc2V0VUlJbm5lckh0bWwsXG4gICAgICAgICAgICByZXNpemU6IHJlc2l6ZSxcbiAgICAgICAgICAgIHdyaXRlUmVzdWx0OiB3cml0ZVJlc3VsdCxcbiAgICAgICAgICAgIHNhdmU6IHNhdmUsXG4gICAgICAgICAgICBjbGVhcjogY2xlYXIsXG4gICAgICAgICAgICBsb2FkOiBsb2FkLFxuICAgICAgICAgICAgcnVuOiBydW4sXG4gICAgICAgICAgICBnZW5lcmF0ZTogZ2VuZXJhdGUsXG4gICAgICAgICAgICByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlOiByZWdpc3RlckV4dGVybmFsTGliQ2hhbmdlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqIFNOSVBQRVQgRElTUExBWSBNT0RFICAgICAgICAgICAgICoqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgaW50ZXJmYWNlIFNuaXBwZXRFeHBhbmRlZFNuaXBwZXQge1xuICAgICAgICBlbGVtZW50OiBKUXVlcnk7XG4gICAgICAgIGluZGV4V2l0aGluUGFyZW50OiBudW1iZXI7XG4gICAgICAgIHBhcmVudDogSlF1ZXJ5O1xuICAgIH1cblxuICAgIGludGVyZmFjZSBTbmlwcGV0T2JqZWN0IHtcbiAgICAgICAgcmVzaXplOiAoKSA9PiB2b2lkO1xuICAgICAgICB3cml0ZVJlc3VsdDogKCkgPT4gdm9pZDtcbiAgICAgICAgbG9hZDogKHN0YXRlOiBTbmlwcGV0RWRpdG9yU3RhdGUpID0+IHZvaWQ7XG4gICAgICAgIGhpZGU6ICgpID0+IHZvaWQ7XG4gICAgICAgIHJ1bjogKCkgPT4gdm9pZDtcbiAgICAgICAgZ2VuZXJhdGU6ICh0YXJnZXQ6IEpRdWVyeSkgPT4gYm9vbGVhbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBTbmlwcGV0KCk6IFNuaXBwZXRPYmplY3Qge1xuICAgICAgICBjb25zdCBfc3RhdGU6IFNuaXBwZXRFZGl0b3JTdGF0ZSA9IHtcbiAgICAgICAgICAgIGh0bWw6IG51bGwsXG4gICAgICAgICAgICBjc3M6IG51bGwsXG4gICAgICAgICAgICBqczogbnVsbCxcbiAgICAgICAgICAgIGNvbnNvbGU6IGZhbHNlLFxuICAgICAgICAgICAgaGlkZTogZmFsc2UsXG4gICAgICAgICAgICBiYWJlbDogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBfc25pcDogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX3Jlc3VsdHM6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgX2JveFJlc3VsdDogSlF1ZXJ5IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGxldCBfZXhwYW5kZWRTbmlwcGV0OiBTbmlwcGV0RXhwYW5kZWRTbmlwcGV0IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGUodGFyZ2V0OiBKUXVlcnkpIHtcbiAgICAgICAgICAgIGxldCBidXR0b25FeHBhbmQ6IEpRdWVyeSB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKF9zbmlwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zbmlwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfZXhwYW5kZWRTbmlwcGV0ID0gbnVsbDtcblxuICAgICAgICAgICAgX2JveFJlc3VsdCA9IG1ha2VJRnJhbWUoKTtcblxuICAgICAgICAgICAgX3NuaXAgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBBZGQgcnVuLCBoaWRkZW4sIGNvcHkgcmVzdWx0cyB0byB0YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvblJ1biA9XG4gICAgICAgICAgICAgICAgbWFrZUJ1dHRvbigpLmFkZENsYXNzKCdzLWJ0bl9fZmlsbGVkJykuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdmdFbGVtZW50KEljb25QbGF5KSxcbiAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4+JykudGV4dChcIiBcIitfcyhcIlJ1biBjb2RlIHNuaXBwZXRcIikpXG4gICAgICAgICAgICAgICAgKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuKCk7XG4gICAgICAgICAgICAgICAgKDxKUXVlcnk+YnV0dG9uRXhwYW5kKS5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgYnV0dG9uSGlkZSA9IG1ha2VCdXR0b24oKS5hZGRDbGFzcygnaGlkZVJlc3VsdHMnKS50ZXh0KF9zKFwiSGlkZSByZXN1bHRzXCIpKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICg8SlF1ZXJ5PmJ1dHRvbkV4cGFuZCkuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidXR0b25IaWRlLmhpZGUoKTtcblxuICAgICAgICAgICAgYnV0dG9uRXhwYW5kID0gbWFrZURpdihcInBvcG91dC1jb2RlXCIpLmFwcGVuZChtYWtlQW5jaG9yKF9zKFwiRXhwYW5kIHNuaXBwZXRcIikpLmFkZENsYXNzKFwic25pcHBldC1leHBhbmQtbGlua1wiKSlcbiAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkU25pcHBldCA9IF9leHBhbmRlZFNuaXBwZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBhbmRlZFNuaXBwZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuaXBwZXRDb250YWluZXIgPSBleHBhbmRlZFNuaXBwZXQuZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXRDb250YWluZXIucmVtb3ZlQ2xhc3MoXCJleHBhbmRlZC1zbmlwcGV0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc25pcHBldENvbnRhaW5lci5maW5kKFwiLnNuaXBwZXQtZXhwYW5kLWxpbmtcIikudGV4dChfcyhcIkV4cGFuZCBzbmlwcGV0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXRDb250YWluZXIuZmluZChcIi5zbmlwcGV0LXNob3ctbGluaywgLnNuaXBwZXQtc2hvdy1saW5rLWNoZXZyb25cIikuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBhbmRlZFNuaXBwZXRQYXJlbnQgPSBleHBhbmRlZFNuaXBwZXQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwYW5kZWRTbmlwcGV0UGFyZW50Q2hpbGRyZW4gPSBleHBhbmRlZFNuaXBwZXRQYXJlbnQuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHBhbmRlZFNuaXBwZXRQYXJlbnRDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGV4cGFuZGVkU25pcHBldFBhcmVudENoaWxkcmVuW2V4cGFuZGVkU25pcHBldC5pbmRleFdpdGhpblBhcmVudF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iZWZvcmUoc25pcHBldENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGV4cGFuZGVkU25pcHBldFBhcmVudCkuYXBwZW5kKHNuaXBwZXRDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZXhwYW5kZWRTbmlwcGV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIudG9wYmFyLCAuY29udGFpbmVyLCAuanMtdG9wLWJhciwgI2Zvb3RlclwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25Db3B5LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGxUb3AocGFnZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlT2Zmc2V0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmlwcGV0Q29udGFpbmVyID0gJCh0aGlzKS5jbG9zZXN0KFwiLnNuaXBwZXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZXhwYW5kZWRTbmlwcGV0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNuaXBwZXRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhXaXRoaW5QYXJlbnQ6IHNuaXBwZXRDb250YWluZXIuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHNuaXBwZXRDb250YWluZXIucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0Q29udGFpbmVyLmFkZENsYXNzKFwiZXhwYW5kZWQtc25pcHBldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXRDb250YWluZXIuZmluZChcIi5zbmlwcGV0LWV4cGFuZC1saW5rXCIpLnRleHQoX3MoXCJSZXR1cm4gdG8gcG9zdFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0Q29udGFpbmVyLmZpbmQoXCIuc25pcHBldC1zaG93LWxpbmssIC5zbmlwcGV0LXNob3ctbGluay1jaGV2cm9uXCIpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi50b3BiYXIsIC5jb250YWluZXIsIC5qcy10b3AtYmFyLCAjZm9vdGVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChzbmlwcGV0Q29udGFpbmVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ29weS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgYnV0dG9uQ29weSA9ICQoJzxpbnB1dCBjbGFzcz1cImNvcHlTbmlwcGV0IHMtYnRuIHMtYnRuX19vdXRsaW5lZFwiIHR5cGU9XCJidXR0b25cIj4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2sgdGhlIFwiQWRkIEFub3RoZXIgQW5zd2VyXCIgb3IgXCJBbnN3ZXIgWW91ciBPd24gUXVlc3Rpb25cIiBidXR0b25cbiAgICAgICAgICAgICAgICBjb25zdCBzaG93RWRpdG9yQnV0dG9uID0gJChcIiNzaG93LWVkaXRvci1idXR0b25cIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2Rvd25UZXh0YXJlYSA9ICQoXCIjcG9zdC1lZGl0b3JcIikuZmluZChcInRleHRhcmVhLndtZC1pbnB1dFwiKTtcblxuICAgICAgICAgICAgICAgIGlmIChzaG93RWRpdG9yQnV0dG9uLmlzKFwiOnZpc2libGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvd0VkaXRvckJ1dHRvblRvcCA9IHNob3dFZGl0b3JCdXR0b24ub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgICAgICAkKFwiaHRtbFwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBzaG93RWRpdG9yQnV0dG9uVG9wIC0gNjAgfSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IHNob3dFZGl0b3JCdXR0b25Ub3AgLSA2MCB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFZGl0b3JCdXR0b24uY2hpbGRyZW4oXCJpbnB1dFwiKS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNjcm9sbCB0byBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdG9yVG9wID0gbWFya2Rvd25UZXh0YXJlYS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IGVkaXRvclRvcCAtIDYwIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duID0gbWFya2Rvd25HZW5lcmF0b3IoX3N0YXRlKTtcblxuICAgICAgICAgICAgICAgIG1hcmtkb3duVGV4dGFyZWEudmFsKG1hcmtkb3duVGV4dGFyZWEudmFsKCkgKyBcIlxcblxcblwiICsgbWFya2Rvd24pO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBwcmV2aWV3IHdpdGggbmV3IGNvZGVcbiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLk1hcmtkb3duRWRpdG9yLnJlZnJlc2hBbGxQcmV2aWV3cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidXR0b25Db3B5LnZhbChfcyhcIkNvcHkgc25pcHBldCB0byBhbnN3ZXJcIikpO1xuXG4gICAgICAgICAgICBjb25zdCBydW5EaXYgPSBtYWtlRGl2KFwic25pcHBldC1jdGFzXCIpLmFwcGVuZChidXR0b25SdW4sIGJ1dHRvbkNvcHksIGJ1dHRvbkhpZGUpO1xuXG4gICAgICAgICAgICBydW5EaXYuYXBwZW5kKDxKUXVlcnk+YnV0dG9uRXhwYW5kKTtcblxuICAgICAgICAgICAgX3Jlc3VsdHMgPSBtYWtlRGl2KFwic25pcHBldC1yZXN1bHQtY29kZVwiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoX2JveFJlc3VsdClcbiAgICAgICAgICAgICAgICAuaGlkZSgpO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzV3JhcHBlckRpdiA9IG1ha2VEaXYoXCJzbmlwcGV0LXJlc3VsdFwiKS5hcHBlbmQocnVuRGl2LCBfcmVzdWx0cyk7XG5cbiAgICAgICAgICAgIHRhcmdldC5hcHBlbmQocmVzdWx0c1dyYXBwZXJEaXYpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3NuaXA7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgICAgICAvLyBhbHdheXMgc3RhcnQgZnJlc2hcbiAgICAgICAgICAgIGlmIChfYm94UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgX2JveFJlc3VsdC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2JveFJlc3VsdCA9IG1ha2VJRnJhbWUoKTtcbiAgICAgICAgICAgICg8SlF1ZXJ5Pl9yZXN1bHRzKS5hcHBlbmQoX2JveFJlc3VsdCk7XG5cbiAgICAgICAgICAgIGlmIChfYm94UmVzdWx0LnBhcmVudCgpLmlzKFwiOmhpZGRlblwiKSkge1xuICAgICAgICAgICAgICAgIF9ib3hSZXN1bHQuY2xvc2VzdChcIi5zbmlwcGV0LXJlc3VsdFwiKS5maW5kKFwiLmhpZGVSZXN1bHRzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJcIik7XG5cbiAgICAgICAgICAgICAgICBfYm94UmVzdWx0LnBhcmVudCgpLnNsaWRlRG93bigyMDAsIGZ1bmN0aW9uICh0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2V4cGFuZGVkU25pcHBldClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3BvdXQgPSBtYWtlRGl2KFwicG9wb3V0XCIpLmFwcGVuZChtYWtlQW5jaG9yKF9zKFwiRnVsbCBwYWdlXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcGluID0gbWFrZURpdihcInBvcGluXCIpLmFwcGVuZChtYWtlQW5jaG9yKF9zKFwiQ2xvc2VcIikpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHBvcG91dC5jbGljayhmdW5jdGlvbiAodGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8SlF1ZXJ5Pl9ib3hSZXN1bHQpLmRhdGEoXCJfc3R5bGVcIiwgKDxKUXVlcnk+X2JveFJlc3VsdCkuYXR0cihcInN0eWxlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8SlF1ZXJ5Pl9ib3hSZXN1bHQpLmNzcyh7IHBvc2l0aW9uOiBcImZpeGVkXCIsIHRvcDogMCwgbGVmdDogMCwgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBcImJhY2tncm91bmQtY29sb3JcIjogXCIjRkZGRkZGXCIsIFwiei1pbmRleFwiOiA5MDAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxKUXVlcnk+X2JveFJlc3VsdCkucGFyZW50KCkuY3NzKFwicG9zaXRpb25cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcGluLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcG9waW4uY2xpY2soZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPEpRdWVyeT5fYm94UmVzdWx0KS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPEpRdWVyeT5fYm94UmVzdWx0KS5hdHRyKFwic3R5bGVcIiwgKDxKUXVlcnk+X2JveFJlc3VsdCkuZGF0YShcIl9zdHlsZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPEpRdWVyeT5fYm94UmVzdWx0KS5wYXJlbnQoKS5jc3MoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3BvdXQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKHBvcG91dCwgcG9waW4pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2luZyBzYW5kYm94ZWQgaWZyYW1lXG4gICAgICAgICAgICB3cml0ZVJlc3VsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveFJlc3VsdFBhcmVudCA9ICg8SlF1ZXJ5Pl9ib3hSZXN1bHQpLnBhcmVudCgpO1xuICAgICAgICAgICAgaWYgKGJveFJlc3VsdFBhcmVudC5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgKDxKUXVlcnk+X2JveFJlc3VsdCkuY2xvc2VzdChcIi5zbmlwcGV0LXJlc3VsdFwiKS5maW5kKFwiLmhpZGVSZXN1bHRzXCIpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGJveFJlc3VsdFBhcmVudC5jaGlsZHJlbihcIi5wb3BvdXQsIC5wb3BpblwiKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIGJveFJlc3VsdFBhcmVudC5zbGlkZVVwKDIwMCwgZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBpdFxuICAgICAgICAgICAgICAgICAgICAoPEpRdWVyeT5fYm94UmVzdWx0KS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgX2JveFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsb2FkKHN0YXRlOiBTbmlwcGV0RWRpdG9yU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNzcyA9IHN0YXRlLmNzcztcbiAgICAgICAgICAgIGNvbnN0IGpzID0gc3RhdGUuanM7XG4gICAgICAgICAgICBjb25zdCBodG1sID0gc3RhdGUuaHRtbDtcbiAgICAgICAgICAgIGNvbnN0IGNvbnNvbGUgPSBzdGF0ZS5jb25zb2xlO1xuICAgICAgICAgICAgY29uc3QgaGlkZSA9IHN0YXRlLmhpZGU7XG4gICAgICAgICAgICBjb25zdCBiYWJlbCA9IHN0YXRlLmJhYmVsO1xuXG4gICAgICAgICAgICBpZiAoY3NzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuY3NzID0gY3NzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGpzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuanMgPSBqcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChodG1sICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUuaHRtbCA9IGh0bWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uc29sZSkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZS5jb25zb2xlID0gY29uc29sZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICAgICAgX3N0YXRlLmhpZGUgPSBoaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJhYmVsKSB7XG4gICAgICAgICAgICAgICAgX3N0YXRlLmJhYmVsID0gYmFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3cml0ZVJlc3VsdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNzcyA9IF9zdGF0ZS5jc3M7XG4gICAgICAgICAgICBjb25zdCBqcyA9IF9zdGF0ZS5qcztcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBfc3RhdGUuaHRtbDtcbiAgICAgICAgICAgIGNvbnN0IGNvbnNvbGUgPSBfc3RhdGUuY29uc29sZTtcbiAgICAgICAgICAgIGNvbnN0IGJhYmVsID0gX3N0YXRlLmJhYmVsO1xuXG4gICAgICAgICAgICBpZiAoY3NzID09ICcnICYmIGpzID09ICcnICYmIGh0bWwgPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwcmVwZW5kID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChfcmVuZGVyRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9IFwiLy9cIiArIF9yZW5kZXJEb21haW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHByZXBlbmQgKyBcIi9qc1wiO1xuICAgICAgICAgICAgY29uc3QgZm9ybSA9IG1ha2VGb3JtKGFjdGlvbiwgXCJQT1NUXCIsICg8SlF1ZXJ5Pl9ib3hSZXN1bHQpLmF0dHIoXCJuYW1lXCIpKS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgbWFrZVRleHRBcmVhKFwianNcIiwgPHN0cmluZz5qcyksXG4gICAgICAgICAgICAgICAgbWFrZVRleHRBcmVhKFwiY3NzXCIsIDxzdHJpbmc+Y3NzKSxcbiAgICAgICAgICAgICAgICBtYWtlVGV4dEFyZWEoXCJodG1sXCIsIDxzdHJpbmc+aHRtbCksXG4gICAgICAgICAgICAgICAgbWFrZVRleHRJbnB1dChcImNvbnNvbGVcIiwgXCJcIiArIChjb25zb2xlID09PSB0cnVlKSksXG4gICAgICAgICAgICAgICAgbWFrZVRleHRJbnB1dChcImJhYmVsXCIsIFwiXCIgKyAoYmFiZWwgPT09IHRydWUpKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9ybS5hcHBlbmRUbygnYm9keScpLnN1Ym1pdCgpLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2l6ZTogcmVzaXplLFxuICAgICAgICAgICAgd3JpdGVSZXN1bHQ6IHdyaXRlUmVzdWx0LFxuICAgICAgICAgICAgbG9hZDogbG9hZCxcbiAgICAgICAgICAgIGhpZGU6IGhpZGUsXG4gICAgICAgICAgICBydW46IHJ1bixcbiAgICAgICAgICAgIGdlbmVyYXRlOiBnZW5lcmF0ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKiBCRUdJTiBNQVJLRE9XTiBDT0RFICAgICAgICAgICAgICAqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIGZ1bmN0aW9uIGluZGVudChzdHIsIG51bU9mSW5kZW50cywgc3BhY2VzUGVySW5kZW50KSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXig/PS4pL2dtLCBuZXcgQXJyYXkoKG51bU9mSW5kZW50cyAqIHNwYWNlc1BlckluZGVudCkgKyAxKS5qb2luKCcgJykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcmtkb3duR2VuZXJhdG9yKHN0YXRlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlxcblxcbjwhLS0gYmVnaW4gc25pcHBldDoganNcIiArXG4gICAgICAgICAgICBcIiBoaWRlOiBcIiArIHN0YXRlLmhpZGUgK1xuICAgICAgICAgICAgXCIgY29uc29sZTogXCIgKyBzdGF0ZS5jb25zb2xlICtcbiAgICAgICAgICAgIFwiIGJhYmVsOiBcIiArIHN0YXRlLmJhYmVsICtcbiAgICAgICAgICAgIFwiIC0tPlxcblxcblwiO1xuXG4gICAgICAgIGNvbnN0IGpzID0gc3RhdGUuanM7XG4gICAgICAgIGNvbnN0IGNzcyA9IHN0YXRlLmNzcztcbiAgICAgICAgY29uc3QgaHRtbCA9IHN0YXRlLmh0bWw7XG5cbiAgICAgICAgaWYgKGpzICE9ICcnKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCI8IS0tIGxhbmd1YWdlOiBsYW5nLWpzIC0tPlxcblxcblxcXG5cIiArIGluZGVudChqcywgMSwgNCkgKyBcIlxcblxcblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjc3MgIT0gJycpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIjwhLS0gbGFuZ3VhZ2U6IGxhbmctY3NzIC0tPlxcblxcblxcXG5cIiArIGluZGVudChjc3MsIDEsIDQpICsgXCJcXG5cXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaHRtbCAhPSAnJykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFwiPCEtLSBsYW5ndWFnZTogbGFuZy1odG1sIC0tPlxcblxcblxcXG5cIiArIGluZGVudChodG1sLCAxLCA0KSArIFwiXFxuXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IFwiPCEtLSBlbmQgc25pcHBldCAtLT5cXG5cXG5cIjtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXRlR2VuZXJhdG9yKHNuaXBwZXRDb2RlOiBzdHJpbmcsIGhpZGU6IGJvb2xlYW4sIGNvbnNvbGU6IGJvb2xlYW4sIGJhYmVsOiBib29sZWFuKTogU25pcHBldEVkaXRvclN0YXRlIHwgbnVsbCB7XG4gICAgICAgIC8vIEdldCB0aGUgc25pcHBldCBjb2RlXG4gICAgICAgIGNvbnN0IGpzUmVnZXggPSAvPCEtLVxccytsYW5ndWFnZTpcXHMqbGFuZy1qc1xccystLT4oW1xcc1xcU10qPykoPzo8IS0tXFxzK2xhbmd1YWdlOnwkKS9naTtcbiAgICAgICAgY29uc3QgY3NzUmVnZXggPSAvPCEtLVxccytsYW5ndWFnZTpcXHMqbGFuZy1jc3NcXHMrLS0+KFtcXHNcXFNdKj8pKD86PCEtLVxccytsYW5ndWFnZTp8JCkvZ2k7XG4gICAgICAgIGNvbnN0IGh0bWxSZWdleCA9IC88IS0tXFxzK2xhbmd1YWdlOlxccypsYW5nLWh0bWxcXHMrLS0+KFtcXHNcXFNdKj8pKD86PCEtLVxccytsYW5ndWFnZTp8JCkvZ2k7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGpzUmVzdWx0ID0ganNSZWdleC5leGVjKHNuaXBwZXRDb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGNzc1Jlc3VsdCA9IGNzc1JlZ2V4LmV4ZWMoc25pcHBldENvZGUpO1xuICAgICAgICAgICAgY29uc3QgaHRtbFJlc3VsdCA9IGh0bWxSZWdleC5leGVjKHNuaXBwZXRDb2RlKTtcblxuICAgICAgICAgICAgbGV0IGpzID0gJycsIGNzcyA9ICcnLCBodG1sID0gJyc7XG5cbiAgICAgICAgICAgIC8vIFRyaW0gPHByZT4gYmxvY2sgbWFya2Rvd24gaW5kZW50YXRpb24gYW5kIGxlYWRpbmcvdHJhaWxpbmcgd2hpdGUgc3BhY2VcbiAgICAgICAgICAgIGlmIChqc1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIGpzID0ganNSZXN1bHRbMV0udHJpbSgpLnJlcGxhY2UoL14gICAgL2dtLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjc3NSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjc3MgPSBjc3NSZXN1bHRbMV0udHJpbSgpLnJlcGxhY2UoL14gICAgL2dtLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChodG1sUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaHRtbCA9IGh0bWxSZXN1bHRbMV0udHJpbSgpLnJlcGxhY2UoL14gICAgL2dtLCBcIlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbmVlZHMgdG8gYmUgU09NRVRISU5HIHRvIHJlbmRlclxuICAgICAgICAgICAgaWYgKGpzID09ICcnICYmIGNzcyA9PSAnJyAmJiBodG1sID09ICcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGpzOiBqcyxcbiAgICAgICAgICAgICAgICBjc3M6IGNzcyxcbiAgICAgICAgICAgICAgICBodG1sOiBodG1sLFxuICAgICAgICAgICAgICAgIGNvbnNvbGU6IGNvbnNvbGUsXG4gICAgICAgICAgICAgICAgaGlkZTogaGlkZSxcbiAgICAgICAgICAgICAgICBiYWJlbDogYmFiZWxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTm8gc3RhdGVcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgX3NuaXBwZXRDYWNoZSA9IHt9O1xuICAgIGxldCBwYWdlT2Zmc2V0O1xuXG4gICAgLy8gVGhpcyBpcyBjYWxsZWQgYnkgdGhlIHByb21pc2UgSlMgc3lzdGVtXG4gICAgU3RhY2tFeGNoYW5nZS5zbmlwcGV0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBleHRlcm5hbEVkaXRvckluaXQgPSB0cnVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgICAgIGluaXRTbmlwcGV0UmVuZGVyZXI6IGluaXRTbmlwcGV0UmVuZGVyZXIsXG4gICAgICAgICAgICBtYWtlU25pcHBldHM6IG1ha2VTbmlwcGV0c1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRoaW5nRmluZGVyKG1hcmtkb3duOiBzdHJpbmcsIHRleHRhcmVhQ29udGVudDogc3RyaW5nLCBzZW50aW5lbDogc3RyaW5nLCB0aGluZ05hbWU6IHN0cmluZywgdGhpbmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcmtkb3duLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgLzwhLS1cXHMrYmVnaW4gc25pcHBldDpcXHMqW2Etel0rXFxzKig/OmhpZGU6XFxzKihbYS16QS1aXSspKT9cXHMqKD86Y29uc29sZTpcXHMqKFthLXpBLVpdKykpP1xccyooPzpiYWJlbDpcXHMqKFthLXpBLVpdKykpP1xccystLT4oW1xcc1xcU10qPyk8IS0tXFxzK2VuZCBzbmlwcGV0XFxzKy0tPi9naSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAod2hvbGVtYXRjaDogc3RyaW5nLCBoaWRlOiBzdHJpbmcsIGNvbnNvbGU6IHN0cmluZywgYmFiZWw6IHN0cmluZywgdGhpbmdQYXlsb2FkOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaW5nUGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiAoaGlkZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlOiAoY29uc29sZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWJlbDogKGJhYmVsIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBmaW5kVGhpbmcod2hvbGVtYXRjaCwgdGV4dGFyZWFDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuOiB3aG9sZW1hdGNoLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGluZy5wb3MgPT09IC0xKSB7IC8vIHRoaXMgd291bGQgYmUgdmVyeSB3ZWlyZCAtLSBwcm9iYWJseSBhIHByZUNvbnZlcnNpb24gcGx1Z2luIHRoYXQgY2hhbmdlZCB0aGUgcmVsZXZhbnQgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdob2xlbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGluZ3MucHVzaCh0aGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aG9sZW1hdGNoICsgXCJcXG5cXG5cIiArIHNlbnRpbmVsICsgdGhpbmdOYW1lICsgXCItXCIgKyAodGhpbmdzLmxlbmd0aCAtIDEpICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZmluZFRoaW5nKG5lZWRsZTogc3RyaW5nLCBoYXlzdGFjazogc3RyaW5nLCBwb3NIaW50OiBudW1iZXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSAtMSwgaW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGhheXN0YWNrLmluZGV4T2YobmVlZGxlLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgaXMgZW50aXJlbHkgcG9zc2libGUgKHRob3VnaCB1bmxpa2VseSkgdGhhdCB0aGUgc2FtZSB0aGluZyBhcHBlYXJzIHR3aWNlLiBQaWNrIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBvbmUgd2hvc2UgcG9zaXRpb24gaXMgY2xvc2VyIHRvIHRoZSBwb3NpdGlvbiB0aGF0IHdhcyBwYXNzZWQgdG8gdGhlIHByZUNvbnZlcnNpb24gaG9vayxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCBzaG91bGQgYmUgYSBnb29kIGVub3VnaCBndWVzcyBleGNlcHQgZm9yIHBhdGhvbG9naWNhbCBjYXNlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCB8fCBNYXRoLmFicyhpbmRleCAtIHBvc0hpbnQpIDwgTWF0aC5hYnMoaW5kZXggLSBmb3VuZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgLy8gaW5pdCBzbmlwcGV0IHJlbmRlcmVyXG4gICAgICAgICAgICBpbml0U25pcHBldFJlbmRlcmVyKCk7XG5cbiAgICAgICAgICAgIC8vIGluaXQgZXh0ZXJuYWwgZWRpdG9yIG9ubHkgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBleHRlcm5hbEVkaXRvcnNBdmFpbGFibGUgPSAoPGFueT53aW5kb3cuU3RhY2tFeGNoYW5nZSkuTWFya2Rvd25FZGl0b3IgJiYgd2luZG93LlN0YWNrRXhjaGFuZ2UuZXh0ZXJuYWxFZGl0b3I7XG4gICAgICAgICAgICBpZiAoZXh0ZXJuYWxFZGl0b3JzQXZhaWxhYmxlICYmIGV4dGVybmFsRWRpdG9ySW5pdCkge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsRWRpdG9ySW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZXh0ZXJuYWxFZGl0b3IuaW5pdCh7XG4gICAgICAgICAgICAgICAgICAgIHRoaW5nTmFtZTogXCJzbmlwcGV0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRoaW5nRmluZGVyOiB0aGluZ0ZpbmRlcixcbiAgICAgICAgICAgICAgICAgICAgZWRpdExhYmVsOiBfcyhcImVkaXQgdGhlIGFib3ZlIHNuaXBwZXRcIiksXG4gICAgICAgICAgICAgICAgICAgIGdldERpdkNvbnRlbnQ6IGZ1bmN0aW9uIChvbGRUaGluZzogeyBjb2RlOiBzdHJpbmcsIGhpZGU6IGJvb2xlYW4sIGNvbnNvbGU6IGJvb2xlYW4sIGJhYmVsOiBib29sZWFuIH0gfCB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gb2xkVGhpbmcgPyBzdGF0ZUdlbmVyYXRvcihvbGRUaGluZy5jb2RlLCBvbGRUaGluZy5oaWRlLCBvbGRUaGluZy5jb25zb2xlLCBvbGRUaGluZy5iYWJlbCkgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gbWFrZURpdihcIm1vZGFsIGF1dG8tY2VudGVyIHNuaXBwZXQtbW9kYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTbmlwcGV0KGRpdiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtkb3duUGx1Z2luTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGl2O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBidXR0b25Ub29sdGlwOiBfcyhcIkphdmFTY3JpcHQvSFRNTC9DU1Mgc25pcHBldFwiKSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uSW1hZ2VVcmw6IFwiL0NvbnRlbnQvU2hhcmVkL2JhbHNhbWlxL3dtZC1tb2NrdXAtYnV0dG9uLnBuZ1wiLFxuICAgICAgICAgICAgICAgICAgICBvblNob3c6IGZ1bmN0aW9uIChlZGl0b3JDbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuaXBwZXRQb3B1cCA9ICQoJy5zbmlwcGV0LW1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYXZlID0gZnVuY3Rpb24gKGlzRXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzbmlwcGV0UG9wdXAuZGF0YSgnX3NuaXBwZXQnKS5zYXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGFueXRoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXNjYXBlIHx8IChzdGF0ZS5odG1sID09ICcnICYmIHN0YXRlLmNzcyA9PSAnJyAmJiBzdGF0ZS5qcyA9PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yQ2xvc2VkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbWFya2Rvd25HZW5lcmF0b3Ioc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JDbG9zZWQocmVzdWx0LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc25pcHBldFBvcHVwLm9uKCdwb3B1cENsb3NpbmcnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXNjYXBlID0gKDxhbnk+ZSkuY2xvc2VUcmlnZ2VyID09ICdlc2MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VzY2FwZSAmJiAhY29kZUhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFc2NhcGUgJiYgIWNvbmZpcm0oX3MoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYWJhbmRvbiBhbnkgY2hhbmdlcz9cIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbmNlbCB0aGUgY2xvc2luZyBvZiB0aGUgc3VnZ2VzdGVkIGVkaXQgcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmUoaXNFc2NhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2lyZSBpbnRvIGVkaXRvciBjcmVhdGlvbiBvbmx5IGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuTWFya2Rvd25FZGl0b3IpIHtcbiAgICAgICAgICAgICAgICAoPGFueT5TdGFja0V4Y2hhbmdlLk1hcmtkb3duRWRpdG9yLmNyZWF0aW9uQ2FsbGJhY2tzKS5hZGQoZnVuY3Rpb24gKGVkaXRvciwgcG9zdGZpeCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rcyA9IGVkaXRvci5nZXRDb252ZXJ0ZXIoKS5ob29rcztcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuY2hhaW4oXCJwcmVDb252ZXJzaW9uXCIsIG1ha2VTbmlwcGV0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlcmVkIGJ5IGNoYW5nZXMgdG8gbGl2ZSBtYXJrZG93biBwcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpQcmV2aWV3ID0gJChcIiN3bWQtcHJldmlld1wiICsgcG9zdGZpeCk7XG4gICAgICAgICAgICAgICAgICAgIGpQcmV2aWV3Lm9uKFwid21kcmVmcmVzaFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUHJldmlldy5maW5kKFwicHJlXCIpLmVhY2goZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbSA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VpZCA9IGVsZW0udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfc25pcHBldENhY2hlW2d1aWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IF9zbmlwcGV0Q2FjaGVbZ3VpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3NuaXBwZXRDYWNoZVtndWlkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3U25pcHBldChkaXYpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucmVwbGFjZVdpdGgoJChcIjxwPlwiKS5hcHBlbmQoZGl2KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkoKTtcblxuICAgIGZ1bmN0aW9uIG1ha2VTbmlwcGV0cyh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlbmRlcmVyID0gU3RhY2tFeGNoYW5nZS5zbmlwcGV0cy5yZW5kZXJlcjtcbiAgICAgICAgaWYgKCFyZW5kZXJlcikge1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBub2JvZHkgdG8gZG8gdGhlIHJlbmRlcmluZyBmb3IgdXNcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHlwZSBndWFyZCBhYm92ZSBjaGFuZ2VzIHRoaXMgdmFsdWUuLi4gc28gYSBuby1vcCwgYnV0IGl0XG4gICAgICAgIC8vIGhlbHBzIFRTIHJlYWxpemUgdGhpcyBpcyBzYWZlXG4gICAgICAgIGxldCBub25OdWxsUmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvLyBJTVBPUlRBTlQ6IFdFICpPTkxZKiBTVVBQT1JUIFNBTkRCT1hFRCBJRlJBTUVTIEZPUiBOT1dcbiAgICAgICAgLy8gU28sIGlmIHNhbmRib3hpbmcgaXNuJ3QgYXZhaWxhYmxlLCBkb24ndCByZW5kZXIgdGhlIHNuaXBwZXQgKGdyYWNlZnVsIGZhaWxvdmVyIHRvIGNvZGUvcHJlIGRpc3BsYXkpXG4gICAgICAgIC8vIE1vc3QgYnJvd3NlcnMgd2lsbCBiZSBqdXN0IGZpbmU6IGh0dHA6Ly9jYW5pdXNlLmNvbS9pZnJhbWUtc2FuZGJveFxuICAgICAgICBjb25zdCBzYW5kYm94U3VwcG9ydGVkID0gXCJzYW5kYm94XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgaWYgKCFzYW5kYm94U3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb2tpbmcgZm9yIHNuaXBwZXRzXG4gICAgICAgIGNvbnN0IHNuaXBwZXRSZWdleCA9IC88IS0tXFxzK2JlZ2luIHNuaXBwZXQ6XFxzKlthLXpdK1xccyooPzpoaWRlOlxccyooW2EtekEtWl0rKSk/XFxzKig/OmNvbnNvbGU6XFxzKihbYS16QS1aXSspKT9cXHMqKD86YmFiZWw6XFxzKihbYS16QS1aXSspKT9cXHMrLS0+KFtcXHNcXFNdKj8pPCEtLVxccytlbmQgc25pcHBldFxccystLT4vZ2k7XG5cbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShzbmlwcGV0UmVnZXgsIGZ1bmN0aW9uIChfOiBzdHJpbmcsIGhpZGU6IHN0cmluZywgY29uc29sZTogc3RyaW5nLCBiYWJlbDogc3RyaW5nLCBzbmlwcGV0Q29kZTogc3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9uTnVsbFJlbmRlcmVyKHNuaXBwZXRDb2RlLCBoaWRlLCBjb25zb2xlLCBiYWJlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRTbmlwcGV0UmVuZGVyZXIoKSB7XG4gICAgICAgIGlmIChTdGFja0V4Y2hhbmdlLnNuaXBwZXRzLnJlbmRlcmVyICYmIFN0YWNrRXhjaGFuZ2Uuc25pcHBldHMucmVkcmF3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBTdGFja0V4Y2hhbmdlLnNuaXBwZXRzLnJlZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCJkaXYuc25pcHBldFwiKS5lYWNoKGZ1bmN0aW9uICh0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCByZW5kZXIgZm9yIGRvd252b3RlZCBhbnN3ZXJzXG4gICAgICAgICAgICAgICAgaWYgKGRpdi5jbG9zZXN0KFwiLmRvd252b3RlZC1hbnN3ZXJcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFcXVpdmFsZW50IG9mIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRyYXdTbmlwcGV0KGRpdik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2Uuc25pcHBldHMucmVuZGVyZXIgPSBmdW5jdGlvbiAoXG4gICAgICAgICAgICBzbmlwcGV0Q29kZTogc3RyaW5nLFxuICAgICAgICAgICAgaGlkZTogc3RyaW5nIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbnNvbGU6IHN0cmluZyB8IGJvb2xlYW4gfCB1bmRlZmluZWQsXG4gICAgICAgICAgICBiYWJlbDogc3RyaW5nIHwgYm9vbGVhbiB8IHVuZGVmaW5lZFxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGphdmFzY3JpcHQgdHlwZXMgYXJlIGdhcmJhZ2VcbiAgICAgICAgICAgIGhpZGUgPSBoaWRlID09PSB0cnVlIHx8IChoaWRlIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgY29uc29sZSA9IGNvbnNvbGUgPT09IHRydWUgfHwgKGNvbnNvbGUgfHwgXCJcIikudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgICBiYWJlbCA9IGJhYmVsID09PSB0cnVlIHx8IChiYWJlbCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIjtcblxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZUdlbmVyYXRvcihzbmlwcGV0Q29kZSwgaGlkZSwgY29uc29sZSwgYmFiZWwpO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gcmVuZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNuaXBwZXRDb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBtYWtlRGl2KFwic25pcHBldFwiKS5kYXRhKHsgbGFuZzogXCJqc1wiLCBoaWRlOiBoaWRlLCBcImNvbnNvbGVcIjogY29uc29sZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRpdkNvZGUgPSBtYWtlRGl2KFwic25pcHBldC1jb2RlXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgICAgIGRpdkNvZGUuYWRkQ2xhc3MoXCJzbmlwcGV0LWN1cnJlbnRseS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpdi5hcHBlbmQoZGl2Q29kZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGpzID0gc3RhdGUuanM7XG4gICAgICAgICAgICBjb25zdCBjc3MgPSBzdGF0ZS5jc3M7XG4gICAgICAgICAgICBjb25zdCBodG1sID0gc3RhdGUuaHRtbDtcblxuICAgICAgICAgICAgaWYgKGpzKSB7XG4gICAgICAgICAgICAgICAgZGl2Q29kZS5hcHBlbmQobWFrZUNvZGVibG9ja092ZXJyaWRlUHJlKCdqcycpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQobWFrZUNvZGUoanMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgZGl2Q29kZS5hcHBlbmQobWFrZUNvZGVibG9ja092ZXJyaWRlUHJlKCdjc3MnKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKG1ha2VDb2RlKGNzcykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAgICAgZGl2Q29kZS5hcHBlbmQobWFrZUNvZGVibG9ja092ZXJyaWRlUHJlKCdodG1sJylcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChtYWtlQ29kZShodG1sKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBc3NpZ24gYW4gSURcbiAgICAgICAgICAgIGNvbnN0IGlkID0gbmV4dElkKCk7XG5cbiAgICAgICAgICAgIG1ha2VTbmlwcGV0KGRpdkNvZGUsIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDYWNoZVxuICAgICAgICAgICAgX3NuaXBwZXRDYWNoZVtpZF0gPSBkaXY7XG5cbiAgICAgICAgICAgIHJldHVybiAnPHByZT4nICsgaWQgKyAnPC9wcmU+JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIGEgcmVkcmF3IGluaXRpYWxseVxuICAgICAgICBTdGFja0V4Y2hhbmdlLnNuaXBwZXRzLnJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdTbmlwcGV0KGRpdikge1xuICAgICAgICBsZXQgZGl2Q29kZSA9IGRpdi5maW5kKFwiLnNuaXBwZXQtY29kZVwiKTtcblxuICAgICAgICAvLyBCYWNrd2FyZHMgY29tcGF0YWJpbGl0eSB0byBiZWZvcmUgd2UgaGFkIHRoZSBzbmlwcGV0LWNvZGUgZGl2XG4gICAgICAgIGlmIChkaXZDb2RlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBkaXZDb2RlID0gZGl2O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QganMgPSBkaXZDb2RlLmZpbmQoXCJwcmUuc25pcHBldC1jb2RlLWpzXCIpLnRleHQoKTtcbiAgICAgICAgY29uc3QgY3NzID0gZGl2Q29kZS5maW5kKFwicHJlLnNuaXBwZXQtY29kZS1jc3NcIikudGV4dCgpO1xuICAgICAgICBjb25zdCBodG1sID0gZGl2Q29kZS5maW5kKFwicHJlLnNuaXBwZXQtY29kZS1odG1sXCIpLnRleHQoKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgIGpzOiBqcyxcbiAgICAgICAgICAgIGNzczogY3NzLFxuICAgICAgICAgICAgaHRtbDogaHRtbCxcbiAgICAgICAgICAgIGNvbnNvbGU6IGRpdi5kYXRhKFwiY29uc29sZVwiKSA9PT0gdHJ1ZSxcbiAgICAgICAgICAgIGhpZGU6IGRpdi5kYXRhKFwiaGlkZVwiKSA9PT0gdHJ1ZSxcbiAgICAgICAgICAgIGJhYmVsOiBkaXYuZGF0YShcImJhYmVsXCIpID09PSB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgbWFrZVNuaXBwZXQoZGl2Q29kZSwge1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9ubHkgc2hvdyBjb3B5IGJ1dHRvbiB3aGVuIGxvZ2dlZCBpbiBhbmQgbm90IGEgcHJldmlldyAobm90IHlldCBhdHRhY2hlZCB0byBET00pIGFuZCB3aGVuIHRoZSBtYXJrZG93biBlZGl0b3IgaXMgZGVmaW5lZFxuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuaXNBbm9ueW1vdXMgfHwgZGl2LnBhcmVudCgpLmxlbmd0aCA9PSAwIHx8ICQoXCJ0ZXh0YXJlYSN3bWQtaW5wdXRcIikubGVuZ3RoID09IDAgfHwgJCgnLmpzLXBvcHVwLXN1Z2dlc3RlZC1lZGl0JykubGVuZ3RoKSB7XG4gICAgICAgICAgICBkaXYuZmluZChcIi5jb3B5U25pcHBldFwiKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93L2hpZGUgY2hlY2tcbiAgICAgICAgaWYgKGRpdi5kYXRhKFwiaGlkZVwiKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZGl2Q29kZS5oaWRlKCk7XG4gICAgICAgICAgICBkaXZDb2RlLmFkZENsYXNzKFwic25pcHBldC1jdXJyZW50bHktaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgb2xkIHNob3cgbGluayBhbHdheXMgdG8ga2VlcCB0aGluZ3MgaW4gc3luY1xuICAgICAgICAgICAgZGl2LmZpbmQoXCIuc25pcHBldC1kaXNwbGF5XCIpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBkaXZTaG93ID0gbWFrZURpdihcInNuaXBwZXQtZGlzcGxheVwiKS5hdHRyKFwic3R5bGVcIiwgXCJ2ZXJ0aWNhbC1hbGlnbjogY2VudGVyXCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8cD4nKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGEgY2xhc3M9XCJzbmlwcGV0LXNob3ctbGluay1jaGV2cm9uXCI+PHNwYW4gY2xhc3M9XCJleHBhbmRlci1hcnJvdy1oaWRlXCIgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPjwvc3Bhbj48YSBjbGFzcz1cInNuaXBwZXQtc2hvdy1saW5rXCI+PHNwYW4gY2xhc3M9XCJzaG93LWhpZGVcIiBkYXRhLWlzaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwidmVydGljYWwtYWxpZ246IG1pZGRsZVwiPjwvc3Bhbj48L2E+JylcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGl2U2hvdy5maW5kKCdzcGFuLnNob3ctaGlkZScpLnRleHQoX3MoXCJTaG93IGNvZGUgc25pcHBldFwiKSk7XG5cbiAgICAgICAgICAgIGRpdlNob3cuY2xpY2soZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZGl2Q29kZS50b2dnbGUoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtID0gJHRoaXMuZmluZChcIi5zaG93LWhpZGVcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5kYXRhKFwiaXNoaWRkZW5cIikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS50ZXh0KF9zKFwiSGlkZSBjb2RlIHNuaXBwZXRcIikpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5maW5kKFwiLmV4cGFuZGVyLWFycm93LWhpZGVcIikucmVtb3ZlQ2xhc3MoXCJleHBhbmRlci1hcnJvdy1oaWRlXCIpLmFkZENsYXNzKFwiZXhwYW5kZXItYXJyb3ctc2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5kYXRhKFwiaXNoaWRkZW5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS50ZXh0KF9zKFwiU2hvdyBjb2RlIHNuaXBwZXRcIikpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5maW5kKFwiLmV4cGFuZGVyLWFycm93LXNob3dcIikucmVtb3ZlQ2xhc3MoXCJleHBhbmRlci1hcnJvdy1zaG93XCIpLmFkZENsYXNzKFwiZXhwYW5kZXItYXJyb3ctaGlkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5kYXRhKFwiaXNoaWRkZW5cIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRpdi5wcmVwZW5kKGRpdlNob3cpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGl2Q29kZS5zaG93KCkucmVtb3ZlQ2xhc3MoXCJzbmlwcGV0LWN1cnJlbnRseS1oaWRkZW5cIik7XG4gICAgICAgICAgICBkaXYuZmluZChcIi5zbmlwcGV0LWRpc3BsYXlcIikucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59KShqUXVlcnksIHdpbmRvdyk7XG4iLCJTdGFja0V4Y2hhbmdlLnNpZGViYXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFdoZW4gUG9zdCBDb2xsZWN0aW9ucyBhcmUgZW5hYmxlZCBvbiB0aGUgY3VycmVudCBzaXRlLCB0aGUgc2lkZWJhciB3aWxsIHJlbmRlclxuICAgICAqIFN0YWNrT3ZlcmZsb3cvVmlld3MvUG9zdENvbGxlY3Rpb25zL1BhcnRpYWxzL1NpZGViYXJXaWRnZXQuY3NodG1sIGFuZCBpdCB3aWxsIGNhbGwgdGhpcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q29sbGVjdGlvbldpZGdldCAocG9zdElkKSB7XG4gICAgICAgIC8vIG9uIHN1Y2Nlc3NmdWwgYWRkLCB3ZSByZXBsYWNlIHRoZSBlbnRpcmUgd2lkZ2V0LCBzbyBiaW5kIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgdmFyICRzaWRlYmFyID0gJCgnLmpzLWluLXRoZXNlLWNvbGxlY3Rpb25zLXdpZGdldCcpLnBhcmVudCgpO1xuXG4gICAgICAgIC8vIGxvYWQgbW9kYWwgd2l0aCBlZGl0YWJsZSBjb2xsZWN0aW9uc1xuICAgICAgICAkc2lkZWJhci5vbignY2xpY2snLCAnLmpzLWZldGNoLWFkZC10by1jb2xsZWN0aW9uLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldCk7XG5cbiAgICAgICAgICAgIGlmICgkYnRuLmhhc0NsYXNzKCdpcy1sb2FkaW5nJykpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAkYnRuLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XG5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5sb2FkTW9kYWwoXG4gICAgICAgICAgICAgICAgJy9jb2xsZWN0aW9ucy9tb2RhbC1hZGQtdG8tY29sbGVjdGlvbj9wb3N0SWQ9JyArIHBvc3RJZFxuICAgICAgICAgICAgKS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRidG4ucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB3ZSBvbmx5IHNob3cgMTAgY29sbGVjdGlvbnMgbWF4LCBzbyBhbGxvdyBzaG93aW5nIHRoZW0gYWxsXG4gICAgICAgICRzaWRlYmFyLm9uKCdjbGljaycsICcuanMtY29sbGVjdGlvbnMtd2lkZ2V0LS1zaG93LWFsbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5hZGQoJy5qcy13aWRnZXQtY29sbGVjdGlvbi5kLW5vbmUnKS50b2dnbGVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRDb2xsZWN0aW9uV2lkZ2V0OiBpbml0Q29sbGVjdGlvbldpZGdldFxuICAgIH07XG59KSgpOyIsIlN0YWNrRXhjaGFuZ2UuZXhwYW5kYWJsZU92ZXJmbG93ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgY29udGFpbmVyRWwgaXMgc2Nyb2xsYWJsZSwgdmlzdWFsbHkgdHJ1bmNhdGluZyB0aGUgY29udGVudCBhbmQgc2hvd2luZyB0aGUgbW9yZUJ0bkVsIGlmIHNvXG4gICAgICogQHBhcmFtIGNvbnRhaW5lckVsIFRoZSB0YXJnZXQgZWxlbWVudCB3aG9zZSBjb250ZW50cyB0byBjaGVja1xuICAgICAqIEBwYXJhbSBtb3JlQnRuRWwgVGhlIGVsZW1lbnQgdG8gdG9nZ2xlIGNvbnRhaW5lckVsJ3MgY29udGVudCdzIGZ1bGwgdmlzaWJpbGl0eSBvbiBjbGlja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXQoY29udGFpbmVyRWw6IEVsZW1lbnQsIG1vcmVCdG5FbDogRWxlbWVudCkge1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsIHx8ICFtb3JlQnRuRWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWlnaHRPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldDogRWxlbWVudCA9IGVsZW1lbnRbMF0udGFyZ2V0O1xuICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgaW5uZXIgY29udGVudFxuICAgICAgICAgICAgY29uc3QgY29udGVudEhlaWdodCA9IHRhcmdldC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9uIHRoZSBjb250YWluZXIgaXRzZWxmXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBpZiB0aGUgY29udGVudCBpcyBjYXVzaW5nIHRoZSBjb250YWluZXIgdG8gc2Nyb2xsLCBmYWRlIGl0IG91dCBhbmQgc2hvdyB0aGUgXCJSZWFkIG1vcmVcIiBidXR0b25cbiAgICAgICAgICAgIGlmIChjb250ZW50SGVpZ2h0ID4gY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJ2LXRydW5jYXRlLWZhZGVcIik7XG4gICAgICAgICAgICAgICAgbW9yZUJ0bkVsPy5jbGFzc0xpc3QucmVtb3ZlKFwidi1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcInYtdHJ1bmNhdGUtZmFkZVwiKTtcbiAgICAgICAgICAgICAgICBtb3JlQnRuRWw/LmNsYXNzTGlzdC5hZGQoXCJ2LWhpZGRlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9yZUJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaGVpZ2h0T2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuY2xhc3NMaXN0LnJlbW92ZShcInYtdHJ1bmNhdGUtZmFkZVwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsLmNsYXNzTGlzdC5hZGQoXCJoLWF1dG9cIiwgXCJobXgtaW5pdGlhbFwiKTtcbiAgICAgICAgICAgIG1vcmVCdG5FbC5jbGFzc0xpc3QuYWRkKFwidi1oaWRkZW5cIik7XG4gICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICBoZWlnaHRPYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lckVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBpbml0OiBpbml0IH07XG59KSgpO1xuIiwibmFtZXNwYWNlIFN0YWNrRXhjaGFuZ2Uge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBiaW5kQ29tbXVuaXR5V2lraUNvbmZpcm1hdGlvbigkc2NvcGU6IEpRdWVyeSkge1xuICAgICAgICAkc2NvcGVcbiAgICAgICAgICAgIC5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XVtuYW1lPWNvbW11bml0eW1vZGVdJylcbiAgICAgICAgICAgIC5vZmYoJ2NsaWNrJylcbiAgICAgICAgICAgIC5vbmUoJ2NsaWNrJywgKCkgPT4gY29uZmlybShfcygnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG1ha2UgdGhpcyBwb3N0IENvbW11bml0eSBXaWtpPyRibGFua0xpbmUkRG9pbmcgc28gd2lsbCByZW1vdmUgZXhwbGljaXQgb3duZXJzaGlwIGFuZCB5b3Ugd2lsbCBubyBsb25nZXIgZWFybiByZXB1dGF0aW9uIGZvciB1cHZvdGVzIG9uIGl0LiBPbmNlIHNhdmVkLCB0aGlzIG9wdGlvbiBjYW5ub3QgYmUgdW5jaGVja2VkIHdpdGhvdXQgbW9kZXJhdG9yIGFzc2lzdGFuY2UuJywgeyBibGFua0xpbmU6ICdcXG5cXG4nIH0pKSk7XG4gICAgfVxufVxuIiwiJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1mZWVkLWxpbmsnLCBmdW5jdGlvbiAodGhpczogYW55LCBlKSB7XG4gICAgY29uc3QgJGxpbmsgPSAkKHRoaXMpO1xuICAgIGNvbnN0ICRtb2RhbCA9ICRsaW5rLnNpYmxpbmdzKFwiLmpzLWZlZWQtbGluay1tb2RhbFwiKS5jbG9uZSgpO1xuICAgIGlmICgkbW9kYWwubGVuZ3RoID4gMCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dNb2RhbCgkbW9kYWwsIHtcbiAgICAgICAgICAgIHJldHVybkVsZW1lbnRzOiAkbGluayxcbiAgICAgICAgICAgIHNob3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJG1vZGFsLmZpbmQoXCIucy1pbnB1dFwiKS5mb2N1cygpLnNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KTsiLCJTdGFja0V4Y2hhbmdlLmdhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoU3RhY2tFeGNoYW5nZS5nYSAmJiBTdGFja0V4Y2hhbmdlLmdhLmluaXRlZCkge1xuICAgICAgICByZXR1cm4gU3RhY2tFeGNoYW5nZS5nYTtcbiAgICB9XG4gICAgdmFyIF9nYTM6IFN0YWNrRXhjaGFuZ2VBbmFseXRpY3NTZXR0aW5ncztcbiAgICB2YXIgX2dhNDogU3RhY2tFeGNoYW5nZUdBNEFuYWx5dGljc1NldHRpbmdzO1xuICAgIHZhciBfaW5jcmVtZW50aW5nRm9ybUlkID0gMDtcbiAgICB2YXIgX2dhM0NsaWVudElkID0gbnVsbDtcbiAgICB2YXIgX2dhNENsaWVudElkID0gbnVsbDtcblxuICAgIGNvbnN0IF9mb3JtSW5wdXRDaGFuZ2VzOiB7IFtmb3JtSWQ6IHN0cmluZ106IHsgW2lucHV0TmFtZTogc3RyaW5nXTogc3RyaW5nIH07IH0gPSB7fTtcblxuICAgIHZhciBiaW5kSGFuZGxlcnMgPSBmdW5jdGlvbiAoZWw6IEpRdWVyeSkge1xuICAgICAgICAvLyBUcmFjayBlbGVtZW50IGNsaWNrcyBhbmQgZm9ybSBzdWJtaXRzXG4gICAgICAgIGVsLmZpbmQoXCJbZGF0YS1nYV1cIikuZWFjaChmdW5jdGlvbiAodGhpczogRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgaXNGb3JtID0gJHRoaXMuaXMoXCJmb3JtXCIpO1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBpc0Zvcm0gPyBcInN1Ym1pdFwiIDogXCJjbGlja1wiO1xuXG4gICAgICAgICAgICAkdGhpcy5vbihldmVudCwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gZ2V0VHJhY2tBcmdzKCR0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJncyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gdHJhY2sgY2xpY2svc3VibWl0XG4gICAgICAgICAgICAgICAgdHJhY2tFbGVtZW50KCR0aGlzLCBhcmdzKTtcblxuICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsbHkgdHJhY2sgZm9ybSBpbnB1dCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0Zvcm1JbnB1dHMoJHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUcmFjayBmb3JtIGlucHV0IGNoYW5nZXNcbiAgICAgICAgLy8gQ2hhbmdlcyBhcmUgc3VibWl0dGVkIHRvIEdBIG9uIGZvcm0gc3VibWl0LCBvciB3aGVuXG4gICAgICAgIC8vIGB0cmFja0Zvcm1JbnB1dHNgIGlzIGNhbGxlZC5cbiAgICAgICAgZWwuZmluZChcIltkYXRhLWdhLWFjdGlvbl1cIikuZWFjaChmdW5jdGlvbiAodGhpczogRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgJGlucHV0ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICRpbnB1dC5vbignY2hhbmdlJywgKCkgPT4gcmVjb3JkSW5wdXRDaGFuZ2UoJGlucHV0KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc2V0Q2FtcGFpZ24gPSBmdW5jdGlvbiAobWVkaXVtOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgc291cmNlPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghX2dhMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGl1bSkge1xuICAgICAgICAgICAgc2V0RGltZW5zaW9uKFwiY2FtcGFpZ25NZWRpdW1cIiwgbWVkaXVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lKSB7XG5cbiAgICAgICAgICAgIHNldERpbWVuc2lvbihcImNhbXBhaWduTmFtZVwiLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHNldERpbWVuc2lvbihcImNhbXBhaWduU291cmNlXCIsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHNldERpbWVuc2lvbiA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlVHJhY2tlciA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pIHtcblxuICAgICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgICAgIGxvZyhgc2V0OiBuYW1lOiAnJHtuYW1lfScsIHZhbHVlOiAnJHt2YWx1ZX0nYCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIV9nYTMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2dhMy50cmFja2luZ0NvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdBM1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2dhMy50cmFja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2EzLnRyYWNrZXIoZm9ybWF0Q29tbWFuZChpLCBcInNldFwiKSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoYHNldDogbmFtZTogJyR7bmFtZX0nLCB2YWx1ZTogJyR7dmFsdWV9J2AsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVUcmFja2VyKG5hbWUsIHZhbHVlKSwgMCk7XG4gICAgfTtcblxuICAgIHZhciBzZXRVcmwgPSBmdW5jdGlvbiAodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFfZ2EzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICBzZXREaW1lbnNpb24oXCJwYWdlXCIsIHVybClcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2V0VGl0bGUgPSBmdW5jdGlvbiAodGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAoIV9nYTMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgc2V0RGltZW5zaW9uKFwidGl0bGVcIiwgdGl0bGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0cmFjayA9IGZ1bmN0aW9uIChjYXRlZ29yeTogc3RyaW5nLCBhY3Rpb246IHN0cmluZywgbGFiZWw/OiBzdHJpbmcsIGZpZWxkcz86IFVuaXZlcnNhbEFuYWx5dGljcy5GaWVsZHNPYmplY3QpIHtcblxuICAgICAgICBjb25zdCBoYW5kbGVUcmFja2VyID0gZnVuY3Rpb24oY2F0ZWdvcnk6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcsIGxhYmVsPzogc3RyaW5nLCBmaWVsZHM/OiBVbml2ZXJzYWxBbmFseXRpY3MuRmllbGRzT2JqZWN0KSB7XG5cbiAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICBsb2coYHRyYWNrOiBjYXRlZ29yeTogJyR7Y2F0ZWdvcnl9JywgYWN0aW9uOiAnJHthY3Rpb259JywgbGFiZWw6ICcke2xhYmVsfSdgKTtcblxuICAgICAgICAgICAgICAgIGlmICghX2dhMyAmJiAhX2dhNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09IG51bGwgfHwgYWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFkZEV4dHJhRGltZW5zaW9ucygpO1xuXG4gICAgICAgICAgICAgICAgLy8gR0EzXG4gICAgICAgICAgICAgICAgaWYgKF9nYTMgJiYgX2dhMy50cmFja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2dhMy50cmFja2luZ0NvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2EzLnRyYWNrZXIoZm9ybWF0Q29tbWFuZChpLCBcInNlbmRcIiksIFwiZXZlbnRcIiwgY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHVuZGVmaW5lZCwgZmllbGRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdBNFxuICAgICAgICAgICAgICAgIGlmIChfZ2E0ICYmIF9nYTQudHJhY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBfZ2E0LnRyYWNrZXIoXCJldmVudFwiLCBjYXRlZ29yeSwge2NhdGVnb3J5OiBjYXRlZ29yeSwgYWN0aW9uOiBhY3Rpb24sIGxhYmVsOiBsYWJlbCwgZmllbGRzOiBmaWVsZHN9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dFcnJvcihgdHJhY2s6IGNhdGVnb3J5OiAnJHtjYXRlZ29yeX0nLCBhY3Rpb246ICcke2FjdGlvbn0nLCBsYWJlbDogJyR7bGFiZWx9J2AsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVUcmFja2VyKGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCBmaWVsZHMpLCAwKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhY2tFbGVtZW50ID0gZnVuY3Rpb24gKCRlbDogSlF1ZXJ5LCBhcmdzPzogVHJhY2tBcmdzIHwgbnVsbCkge1xuICAgICAgICBpZiAoIV9nYTMgJiYgIV9nYTQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBnZXRUcmFja0FyZ3MoJGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjayhhcmdzLmNhdGVnb3J5LCBhcmdzLmFjdGlvbiwgYXJncy5sYWJlbCwgYXJncy5maWVsZHMpO1xuICAgIH07XG5cbiAgICB2YXIgdHJhY2tQYWdlVmlldyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBjb25zdCBoYW5kbGVUcmFja2VyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICBsb2coYHNlbmQ6IHBhZ2V2aWV3OiAnJHtnZXRTYW5pdGl6ZWRVcmwoKS5yZWxhdGl2ZVBhdGh9J2ApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfZ2EzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhZGRFeHRyYURpbWVuc2lvbnMoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2dhMy50cmFja2luZ0NvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdBM1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2dhMy50cmFja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2EzLnRyYWNrZXIoZm9ybWF0Q29tbWFuZChpLCBcInNlbmRcIiksIFwicGFnZXZpZXdcIiwgZ2V0U2FuaXRpemVkVXJsKCkucmVsYXRpdmVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGBzZW5kOiBwYWdldmlldzogJyR7Z2V0U2FuaXRpemVkVXJsKCkucmVsYXRpdmVQYXRofSdgLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlVHJhY2tlcigpLCAwKTtcblxuICAgIH1cblxuICAgIHZhciB0cmFja0Zvcm1JbnB1dHMgPSBmdW5jdGlvbiAoJGZvcm06IEpRdWVyeSwgYXJncz86IFRyYWNrQXJncyB8IG51bGwpIHtcbiAgICAgICAgaWYgKCFfZ2EzICYmICFfZ2E0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcmdzID0gZ2V0VHJhY2tBcmdzKCRmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3JtSWQgPSAkZm9ybS5hdHRyKCdpZCcpO1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0gX2Zvcm1JbnB1dENoYW5nZXNbZm9ybUlkXTtcblxuICAgICAgICBpZiAoY2hhbmdlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIG5vIGNoYW5nZXMgdG8gdHJhY2tcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGlucHV0TmFtZSBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBgJHthcmdzLmlucHV0QWN0aW9uUHJlZml4fSB8ICR7aW5wdXROYW1lfWA7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGNoYW5nZXNbaW5wdXROYW1lXTtcblxuICAgICAgICAgICAgdHJhY2soYXJncy5jYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgeyBub25JbnRlcmFjdGlvbjogZmFsc2UgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfZm9ybUlucHV0Q2hhbmdlc1tmb3JtSWRdID0ge307IC8vIHJlc2V0XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZElucHV0Q2hhbmdlID0gZnVuY3Rpb24gKCRpbnB1dDogSlF1ZXJ5KSB7XG4gICAgICAgIGlmICghX2dhMyAmJiAhX2dhNCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbDtcblxuICAgICAgICBpZiAoJGlucHV0LmlzKCc6Y2hlY2tib3gnKSkge1xuICAgICAgICAgICAgdmFsID0gJGlucHV0LmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCRpbnB1dC5pcygnc2VsZWN0JykpIHtcbiAgICAgICAgICAgIHZhbCA9ICRpbnB1dC5maW5kKCc6c2VsZWN0ZWQnKVxuICAgICAgICAgICAgICAgIC50b0FycmF5KClcbiAgICAgICAgICAgICAgICAubWFwKGVsID0+ICQoZWwpLmRhdGEoJ2dhLXZhbHVlJykgfHwgJChlbCkudmFsKCkpXG4gICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9ICRpbnB1dC5kYXRhKCdnYS12YWx1ZScpIHx8ICRpbnB1dC52YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0ICRmb3JtID0gJGlucHV0LmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgaWYgKCRmb3JtLmxlbmd0aCA9PT0gMCB8fCB2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmb3JtSWQgPSAkZm9ybS5hdHRyKCdpZCcpO1xuXG4gICAgICAgIC8vIGlmIHRoZSBmb3JtIGhhcyBubyBcImlkXCIgYXR0cmlidXRlLCBjcmVhdGUgb25lXG4gICAgICAgIGlmIChmb3JtSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9ybUlkID0gXCJnYS1mb3JtLVwiICsgX2luY3JlbWVudGluZ0Zvcm1JZCsrO1xuICAgICAgICAgICAgJGZvcm0uYXR0cignaWQnLCBmb3JtSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGludGVyYWN0aW9ucyA9IF9mb3JtSW5wdXRDaGFuZ2VzW2Zvcm1JZF07XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbnMgPSBfZm9ybUlucHV0Q2hhbmdlc1tmb3JtSWRdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3Rpb24gPSAkaW5wdXQuYXR0cignZGF0YS1nYS1hY3Rpb24nKTtcbiAgICAgICAgY29uc3QgaXNQSUkgPSAkaW5wdXQuYXR0cignZGF0YS1nYS1pcy1waWknKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBpc1BJSSA/IFwiUElJIE9taXR0ZWRcIiA6IHZhbDtcblxuICAgICAgICBpbnRlcmFjdGlvbnNbYWN0aW9uXSA9IGxhYmVsO1xuICAgIH1cblxuICAgIHZhciBnZXRUcmFja0FyZ3MgPSBmdW5jdGlvbiAoJGVsOiBKUXVlcnkpOiBUcmFja0FyZ3MgfCBudWxsIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IDxUcmFja0FyZ3NBcnJheT4kZWwuZGF0YShcImdhXCIpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IGRhdGFbMF0sXG4gICAgICAgICAgICBhY3Rpb246IGRhdGFbMV0sXG4gICAgICAgICAgICBsYWJlbDogZGF0YVsyXSxcbiAgICAgICAgICAgIGlucHV0QWN0aW9uUHJlZml4OiBkYXRhWzNdLFxuICAgICAgICAgICAgZmllbGRzOiBkYXRhWzRdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGdldFRyYWNrZXJOYW1lID0gZnVuY3Rpb24gKGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGB0cmFja2VyXyR7aW5kZXh9YDtcbiAgICB9O1xuXG4gICAgdmFyIGZvcm1hdENvbW1hbmQgPSBmdW5jdGlvbiAoaW5kZXg6IG51bWJlciwgY29tbWFuZDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYWNrZXJOYW1lID0gZ2V0VHJhY2tlck5hbWUoaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBgJHt0cmFja2VyTmFtZX0uJHtjb21tYW5kfWA7XG4gICAgfVxuXG4gICAgdmFyIGdldENsaWVudElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV9nYTMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2dhM0NsaWVudElkO1xuICAgIH1cblxuICAgIHZhciBnZXRHQTRDbGllbnRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfZ2E0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9nYTRDbGllbnRJZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2cobXNnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghU3RhY2tFeGNoYW5nZS5vcHRpb25zLmVuYWJsZUxvZ2dpbmcpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGFja0V4Y2hhbmdlLmdhOiAnICsgbXNnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9nRXJyb3IobXNnOiBzdHJpbmcsIGVycjogYW55KTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIVN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5lbmFibGVMb2dnaW5nKSByZXR1cm47XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTdGFja0V4Y2hhbmdlLmdhOiAke21zZ31gLCBlcnIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHNlbnNpdGl2ZSBQSUkgZGF0YSByZW1vdmVkXG4gICAgZnVuY3Rpb24gZ2V0U2FuaXRpemVkVXJsKCk6IHsgaHJlZjogc3RyaW5nOyByZWxhdGl2ZVBhdGg6IHN0cmluZzsgfSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgICAgICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ2VtYWlsJyk7IC8vIGVtYWlsL2NvbmZpcm0gcm91dGUgdXNlcyA/ZT08ZW1haWw+XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdhdXRoJyk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdlJyk7XG5cbiAgICAgICAgLy8gT3VyIGhyZWYgd2l0aCBvZmZlbmRpbmcgcGFyYW1zIHJlbW92ZWRcbiAgICAgICAgdmFyIGhyZWYgPSB1cmwuaHJlZjtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIG9yaWdpbiBmcm9tIHRoZSBocmVmIHRvIGdpdmUgdXMgdGhlIHJlbGF0aXZlIHBhdGggdy8gcXVlcnkgc3RyaW5nXG4gICAgICAgIHZhciByZWxhdGl2ZVBhdGggPSBocmVmLnJlcGxhY2Uob3JpZ2luLCAnJyk7XG5cbiAgICAgICAgcmV0dXJuIHsgaHJlZiwgcmVsYXRpdmVQYXRoIH07XG4gICAgfVxuXG4gICAgLyoqIEdldCBsb2NhbCB0aW1lIGFzIElTTyBzdHJpbmcgd2l0aCBvZmZzZXQgYXQgdGhlIGVuZCwgZS5nLiAyMDIxLTA5LTI3VDE1OjMwOjM0LjE1OS0wNDowMCAqL1xuICAgIGZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciB0em8gPSAtbm93LmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgIHZhciBkaWYgPSB0em8gPj0gMCA/ICcrJyA6ICcnO1xuICAgICAgICAvLyBnZXQgdGhlIGlzbyBzdHJpbmcsIGJ1dCBzbGljZSBvZmYgdGhlIHRyYWlsaW5nIFogY2hhcmFjdGVyXG4gICAgICAgIHZhciBpc29TdHJpbmcgPSBub3cudG9JU09TdHJpbmcoKS5zbGljZSgwLCAtMSk7XG4gICAgICAgIHJldHVybiBpc29TdHJpbmdcbiAgICAgICAgICAgICsgZGlmICsgcGFkVGltZSh0em8gLyA2MClcbiAgICAgICAgICAgICsgJzonICsgcGFkVGltZSh0em8gJSA2MCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFkVGltZShpbnQ6IG51bWJlcikge1xuICAgICAgICB2YXIgaSA9IGludC50b0ZpeGVkKDApLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBpLmxlbmd0aCA8IDIgPyAnMCcgKyBpIDogaTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRFeHRyYURpbWVuc2lvbnMoKSB7XG4gICAgICAgIGlmICghX2dhMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFfZ2EzLnNlbmRUaXRsZXMpIHtcbiAgICAgICAgICAgIHNldERpbWVuc2lvbihcInRpdGxlXCIsIFwiQ2hhbm5lbCBQYWdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZlbnRGaWVsZHMuRGltZW5zaW9ucy5DbGllbnRJZFxuICAgICAgICBpZiAoX2dhM0NsaWVudElkKSB7XG4gICAgICAgICAgICBzZXREaW1lbnNpb24oXCJkaW1lbnNpb242XCIsIF9nYTNDbGllbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFdmVudEZpZWxkcy5EaW1lbnNpb25zLlRpbWVzdGFtcFxuICAgICAgICBzZXREaW1lbnNpb24oXCJkaW1lbnNpb244XCIsIGdldFRpbWVzdGFtcCgpKTtcblxuICAgICAgICAvLyBFdmVudEZpZWxkcy5EaW1lbnNpb25zLkZ1bGxVcmxcbiAgICAgICAgc2V0RGltZW5zaW9uKFwiZGltZW5zaW9uMTFcIiwgZ2V0U2FuaXRpemVkVXJsKCkuaHJlZik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdEdBMyhnYTNTZXR0aW5nczogU3RhY2tFeGNoYW5nZUFuYWx5dGljc1NldHRpbmdzKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUFyZ3M6IFVuaXZlcnNhbEFuYWx5dGljcy5GaWVsZHNPYmplY3QgPSB7XG4gICAgICAgICAgICBhbGxvd0xpbmtlcjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjb29raWVEb21haW4gPSBcImF1dG9cIjtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoXCJzdGFja2V4Y2hhbmdlLmNvbVwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjb29raWVEb21haW4gPSBcInN0YWNrZXhjaGFuZ2UuY29tXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuYWNjb3VudElkKSB7XG4gICAgICAgICAgICBjcmVhdGVBcmdzLnVzZXJJZCA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmFjY291bnRJZC50b1N0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2EzU2V0dGluZ3MudHJhY2tlcihcImNyZWF0ZVwiLCBnYTNTZXR0aW5ncy50cmFja2luZ0NvZGVzWzBdLCBjb29raWVEb21haW4sIGNyZWF0ZUFyZ3MpO1xuXG4gICAgICAgIGlmIChnYTNTZXR0aW5ncy5hdXRvTGluayAmJiBnYTNTZXR0aW5ncy5hdXRvTGluay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnYTNTZXR0aW5ncy50cmFja2VyKFwicmVxdWlyZVwiLCBcImxpbmtlclwiKTtcbiAgICAgICAgICAgIGdhM1NldHRpbmdzLnRyYWNrZXIoXCJsaW5rZXI6YXV0b0xpbmtcIiwgZ2EzU2V0dGluZ3MuYXV0b0xpbmspO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0RGltZW5zaW9uKFwidHJhbnNwb3J0XCIsIFwiYmVhY29uXCIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZ2EzU2V0dGluZ3MudHJhY2tpbmdDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2EzU2V0dGluZ3MudHJhY2tlcihcImNyZWF0ZVwiLCBnYTNTZXR0aW5ncy50cmFja2luZ0NvZGVzW2ldLCBjb29raWVEb21haW4sIGdldFRyYWNrZXJOYW1lKGkpLCBjcmVhdGVBcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnYTNTZXR0aW5ncy5jaGVja0RpbWVuc2lvbikge1xuICAgICAgICAgICAgdmFyIGFkQmxvY2tFbmFibGVkID0gYWRCbG9ja0NoZWNrZXIoKTtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ2Euc2V0RGltZW5zaW9uKGdhM1NldHRpbmdzLmNoZWNrRGltZW5zaW9uLCAoYWRCbG9ja0VuYWJsZWQgPyAnMScgOiAnMCcpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRHQTQoZ2E0U2V0dGluZ3M6IFN0YWNrRXhjaGFuZ2VHQTRBbmFseXRpY3NTZXR0aW5ncykge1xuICAgICAgICAvLyBBbHdheXMgZGVmYXVsdHMgdG8gZGVuaWVkIGZvciBjb29raWVsZXNzIHBpbmdzXG4gICAgICAgIGdhNFNldHRpbmdzLnRyYWNrZXIoJ2NvbnNlbnQnLCAnZGVmYXVsdCcsIHtcbiAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXG4gICAgICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiAnZGVuaWVkJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGVzIHRoZSBjb25zZW50IHRvIHdoYXRldmVyIHRoZSB1c2VyIGhhcyBjdXJyZW50bHkgc2V0IG9uIHBhZ2UgbG9hZGVkXG4gICAgICAgIHVwZGF0ZUdBNENvbnNlbnQoZ2E0U2V0dGluZ3MuY29uc2VudHNUb1BlcmZvcm1hbmNlQ29va2llcywgZ2E0U2V0dGluZ3MuY29uc2VudHNUb1RhcmdldGluZ0Nvb2tpZXMpO1xuXG4gICAgICAgIGlmIChnYTRTZXR0aW5ncy5jaGVja0ZvckFkQmxvY2spIHtcbiAgICAgICAgICAgIHZhciBhZEJsb2NrRW5hYmxlZCA9IGFkQmxvY2tDaGVja2VyKCk7XG4gICAgICAgICAgICBnYTRTZXR0aW5ncy5ldmVudFBhcmFtZXRlcnNbXCJhZHNfYmxvY2tlZFwiXSA9IGFkQmxvY2tFbmFibGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2E0U2V0dGluZ3MudHJhY2tlcignanMnLCBuZXcgRGF0ZSgpKTtcblxuICAgICAgICBpZiAoIWdhNFNldHRpbmdzLnNlbmRUaXRsZXMpIHtcbiAgICAgICAgICAgIGdhNFNldHRpbmdzLmV2ZW50UGFyYW1ldGVyc1tcInBhZ2VfdGl0bGVcIl0gPSAnQ2hhbm5lbCBQYWdlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQ3VzdG9tIGV2ZW50IHBhcmFtZXRlcnMgdGhhdCB3ZSBzZXQgd2l0aCAnY29uZmlnJyBiZWxvdyB3ZXJlbid0IGZsb3dpbmcgcHJvcGVybHkuXG4gICAgICAgIC8vU28gdHJ5aW5nIG91dCB0aGlzIGZpeCB0byBzZWUgaWYgaXQgaGVscHM6IGh0dHBzOi8vaXRob3VnaHRoZWNhbWV3aXRoeW91LmNvbS9wb3N0L3NlbmQtZXZlbnQtcGFyYW1ldGVycy13aXRoLWV2ZXJ5LWV2ZW50LWFuZC1tdWx0aXBsZS10YWdzLWluLWdvb2dsZS1hbmFseXRpY3MtNFxuICAgICAgICBnYTRTZXR0aW5ncy50cmFja2VyKCdzZXQnLCBnYTRTZXR0aW5ncy5ldmVudFBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGdhNFNldHRpbmdzLnRyYWNrZXIoJ2NvbmZpZycsIGdhNFNldHRpbmdzLnRyYWNraW5nQ29kZXNbMF0sIGdhNFNldHRpbmdzLmV2ZW50UGFyYW1ldGVycyk7XG4gICAgICAgIGlmIChnYTRTZXR0aW5ncy50cmFja0NsaWNrcykge1xuICAgICAgICAgICAgdHJhY2tHQTRDbGlja3MoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkQmxvY2tDaGVja2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgYWRCbG9ja0VuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnMnKTtcbiAgICAgICAgYWQuY2xhc3NOYW1lID0gJ0FkU2Vuc2UnO1xuICAgICAgICBhZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgYWQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBhZC5zdHlsZS50b3AgPSAnLTFweCc7XG4gICAgICAgIGFkLnN0eWxlLmhlaWdodCA9ICcxcHgnO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWQpO1xuXG4gICAgICAgIGFkQmxvY2tFbmFibGVkID0gIWFkLmNsaWVudEhlaWdodDtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFkKTtcblxuICAgICAgICByZXR1cm4gYWRCbG9ja0VuYWJsZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlR0E0Q29uc2VudChwZXJmb3JtYW5jZUNvb2tpZXM6IENvbnNlbnRBcmdzLCB0YXJnZXRpbmdDb29raWVzOiBDb25zZW50QXJncykge1xuICAgICAgICBfZ2E0LnRyYWNrZXIoJ2NvbnNlbnQnLCAndXBkYXRlJywge1xuICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogcGVyZm9ybWFuY2VDb29raWVzLFxuICAgICAgICAgICAgJ2FkX3N0b3JhZ2UnOiB0YXJnZXRpbmdDb29raWVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyYWNrR0E0KGV2ZW50TmFtZTogR3RhZy5FdmVudE5hbWVzIHwgc3RyaW5nLCAgZXZlbnRQYXJhbXM/OiBHdGFnLkNvbnRyb2xQYXJhbXMgfCBHdGFnLkV2ZW50UGFyYW1zIHwgR3RhZy5DdXN0b21QYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvZyhgdHJhY2tHQTQ6IGV2ZW50TmFtZTogJyR7ZXZlbnROYW1lfSdgKTtcblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2d0YWdqcy9zZW5kaW5nLWRhdGEja25vd193aGVuX2FuX2V2ZW50X2hhc19iZWVuX3NlbnRcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnNlbmRCZWFjb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnRQYXJhbXMgPSAkLmV4dGVuZChldmVudFBhcmFtcywgeyB0cmFuc3BvcnRfdHlwZTogJ2JlYWNvbicgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHB1c2hpbmcgdG8gdGhlIGRhdGFMYXllciBtYWtlcyBzdXJlIGl0IGdldHMgcGlja2VkIHVwIGFmdGVyIEdBIGluaXQgcnVucywgd2l0aG91dCB0aGUgbmVlZCBmb3IgZnVua3kgdGltZW91dHMgZXRjXG4gICAgICAgICAgICBpZiAoX2dhND8udHJhY2tlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfZ2E0Py50cmFja2VyKFwiZXZlbnRcIiwgZXZlbnROYW1lLCBldmVudFBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0Vycm9yKGB0cmFja0dBNDogZXZlbnROYW1lOiAnJHtldmVudE5hbWV9J2AsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhY2tHQTRDbGlja3MoKSB7XG4gICAgICAgIC8vIHNoYW1lbGVzc2x5IGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGFja0VuZy9NYXJrZXRpbmcvYmxvYi9kOWQwNWNjOGFlODM1NTkxNDc2Y2VmM2QxYzBiMzMyMGVmOWMyNWVjL3BsdWdpbnMvdHJhY2tpbmdFdmVudHMuY2xpZW50LnRzXG4gICAgICAgIC8vIEJpbmQgY2xpY2sgaGFuZGxlclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSA8SFRNTEVsZW1lbnQ+Z2V0Q2xvc2VzdEFuY2hvclRhZyhlLnRhcmdldClcblxuICAgICAgICAgICAgaWYgKGVsICYmICdnZXRBdHRyaWJ1dGUnIGluIGVsKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyBhbiBvYmplY3QgaWYgdGhpcyB1cmwgaXNcbiAgICAgICAgICAgICAgICBsZXQgZXh0ZXJuYWxVcmwgPSBwYXJzZVVybChlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJylcblxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ2FSZWFkeSgoKSA9PiB0cmFja0dBNCgnY2xpY2snLCB7XG4gICAgICAgICAgICAgICAgICAgIG91dGJvdW5kOiBleHRlcm5hbFVybC5vdXRib3VuZCxcbiAgICAgICAgICAgICAgICAgICAgbGlua190ZXh0OiBlbC5pbm5lclRleHQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmtfY2xhc3NlczogZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rX2lkOiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyksXG4gICAgICAgICAgICAgICAgICAgIGxpbmtfdXJsOiBlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0cnVlIGJlY2F1c2Ugb3RoZXJ3aXNlIHRoZSBldmVudCBtaWdodCBiZSBjYW5jZWxsZWRcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VVcmwodXJsUmF3OiBzdHJpbmcpIDogeyBvdXRib3VuZDogYm9vbGVhbiwgaHJlZjogc3RyaW5nIH0ge1xuICAgICAgICAgICAgbGV0IHVybFxuXG4gICAgICAgICAgICAvLyBSZXR1cm5zIGFuIGVycm9yIGlmIGl0J3MgYSByZWxhdGl2ZSB1cmxcbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgd2UgY2FuIGFzc3VtZSBpdCdzIGFic29sdXRlIGlmIGl0IHJldHVybnNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdXJsID0gbmV3IFVSTCh1cmxSYXcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2Vycikge1xuICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogdXJsUmF3LFxuICAgICAgICAgICAgICAgICAgICBvdXRib3VuZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnVybCxcbiAgICAgICAgICAgICAgICBvdXRib3VuZDogISh1cmwuaG9zdCA9PT0gd2luZG93LmxvY2F0aW9uLmhvc3QpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RBbmNob3JUYWcoY3VycmVudE5vZGU6IGFueSkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLm5vZGVOYW1lID09PSAnQScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbTBzYTogYWRkZWQgc2luY2UgdGhlIHNwZWMgcmVxdWVzdHMgdG8gdHJhY2sgYWxsIGJ1dHRvbiBjbGlja3MsIHRvb1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlTmFtZSA9PT0gJ0JVVFRPTicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLm5vZGVOYW1lID09PSAnSU5QVVQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBjdXJyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpPy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0JVVFRPTicgfHwgdHlwZSA9PT0gJ1NVQk1JVCcpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Tm9kZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGVkOiBmYWxzZSxcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKHNldHRpbmdzOiBTdGFja0V4Y2hhbmdlQWxsQW5hbHl0aWNzU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdhMyA9IHNldHRpbmdzLkdBMztcbiAgICAgICAgICAgIGNvbnN0IGdhNCA9IHNldHRpbmdzLkdBNDtcblxuICAgICAgICAgICAgaWYgKGdhMyAmJiBnYTMudHJhY2tlciAmJiBnYTMudHJhY2tpbmdDb2RlcyAmJiBnYTMudHJhY2tpbmdDb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgX2dhMyA9IGdhMztcbiAgICAgICAgICAgICAgICBpbml0R0EzKF9nYTMpO1xuXG4gICAgICAgICAgICAgICAgX2dhMy50cmFja2VyKCh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2EzQ2xpZW50SWQgPSB0LmdldChcImNsaWVudElkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBpcyBpbml0aWFsaXplZCwgbGV0IG9ic2VydmVycyBrbm93IHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5nYUluaXRpYWxpemVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGdhNCAmJiBnYTQudHJhY2tlciAmJiBnYTQudHJhY2tpbmdDb2RlcyAmJiBnYTQudHJhY2tpbmdDb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgX2dhNCA9IGdhNDtcbiAgICAgICAgICAgICAgICBpbml0R0E0KF9nYTQpO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBUZXN0IHRoaXNcbiAgICAgICAgICAgICAgICBfZ2E0LnRyYWNrZXIoXCJnZXRcIiwgZ2E0LnRyYWNraW5nQ29kZXNbMF0sIFwiY2xpZW50X2lkXCIsICh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2E0Q2xpZW50SWQgPSB0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBldmVyeXRoaW5nIGlzIGluaXRpYWxpemVkLCBsZXQgb2JzZXJ2ZXJzIGtub3cgd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ2FJbml0aWFsaXplZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJpbmRIYW5kbGVycygkKGRvY3VtZW50KSk7XG5cbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ2EuaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYmluZEhhbmRsZXJzOiBiaW5kSGFuZGxlcnMsXG4gICAgICAgIHNldENhbXBhaWduOiBzZXRDYW1wYWlnbixcbiAgICAgICAgc2V0RGltZW5zaW9uOiBzZXREaW1lbnNpb24sXG4gICAgICAgIHNldFRpdGxlOiBzZXRUaXRsZSxcbiAgICAgICAgc2V0VXJsOiBzZXRVcmwsXG4gICAgICAgIHRyYWNrOiB0cmFjayxcbiAgICAgICAgdHJhY2tFbGVtZW50OiB0cmFja0VsZW1lbnQsXG4gICAgICAgIHRyYWNrRm9ybUlucHV0czogdHJhY2tGb3JtSW5wdXRzLFxuICAgICAgICB0cmFja0dBNDogdHJhY2tHQTQsXG4gICAgICAgIHRyYWNrUGFnZVZpZXc6IHRyYWNrUGFnZVZpZXcsXG4gICAgICAgIHJlY29yZElucHV0Q2hhbmdlOiByZWNvcmRJbnB1dENoYW5nZSxcbiAgICAgICAgZ2V0Q2xpZW50SWQ6IGdldENsaWVudElkLFxuICAgICAgICBnZXRHQTRDbGllbnRJZDogZ2V0R0E0Q2xpZW50SWQsXG4gICAgICAgIHVwZGF0ZUdBNENvbnNlbnQ6IHVwZGF0ZUdBNENvbnNlbnRcbiAgICB9O1xufSkoKTtcbiIsIm5hbWVzcGFjZSBTdGFja0V4Y2hhbmdlLk5vdGljZVxue1xuICAgIGNsYXNzIE5vdGljZVN0YXRlIHtcbiAgICAgICAgY29va2llSWQ6IHN0cmluZztcbiAgICAgICAgZXhwaXJlRGF0ZTogRGF0ZTtcblxuICAgICAgICBjb25zdHJ1Y3Rvcigkbm90aWNlOiBKUXVlcnkpIHtcbiAgICAgICAgICAgIHRoaXMuY29va2llSWQgPSAkbm90aWNlLmF0dHIoJ2RhdGEtY29va2llJyk7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZURhdGUgPSBuZXcgRGF0ZSgrJG5vdGljZS5hdHRyKCdkYXRhLWV4cGlyZS1kYXRlJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRDb29raWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICAgICAgJC5jb29raWUhKHRoaXMuY29va2llSWQsIHZhbHVlLCB7XG4gICAgICAgICAgICAgICAgZXhwaXJlczogdGhpcy5leHBpcmVEYXRlLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdGFDbGlja2VkKCkgeyB0aGlzLnNldENvb2tpZShgMjske0RhdGUubm93KCl9YCk7IH1cbiAgICAgICAgZGlzbWlzc2VkKCkgeyB0aGlzLnNldENvb2tpZShgNDske0RhdGUubm93KCl9YCk7IH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5kU3RhbmRhcmRMaW5rQW5kRGlzbWlzc0J1dHRvbnMoJGJhbm5lcjogSlF1ZXJ5LCBoaWRlTm90aWNlOiAoKSA9PiB2b2lkLCBjdGFMaW5rVXJsPzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IG5vdGljZVN0YXRlID0gbmV3IE5vdGljZVN0YXRlKCRiYW5uZXIpO1xuXG4gICAgICAgICRiYW5uZXIuZmluZChcIi5qcy1saW5rXCIpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIG5vdGljZVN0YXRlLmN0YUNsaWNrZWQoKTtcbiAgICAgICAgICAgIGlmIChjdGFMaW5rVXJsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oY3RhTGlua1VybCwgJ19ibGFuaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGlkZU5vdGljZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkYmFubmVyLmZpbmQoXCIuanMtZGlzbWlzc1wiKS5jbGljayhldmVudCA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbm90aWNlU3RhdGUuZGlzbWlzc2VkKCk7XG4gICAgICAgICAgICBoaWRlTm90aWNlKCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGluIHNhdGlzZmFjdGlvbiBzdXJ2ZXkgYmFubmVyLCB0aGVuIGFsc28gc2VuZCBhamF4IG5vdGlmaWNhdGlvbiB0byBkaXNtaXNzIHJvdXRlXG4gICAgICAgICAgICBpZiAoJGJhbm5lci5hdHRyKCdkYXRhLWlzLXNpdGUtc2F0JykgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICQucG9zdChcIi9zdXJ2ZXkvc2l0ZS1zYXRpc2ZhY3Rpb24vZGlzbWlzc1wiLCB7IGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXkgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRiYW5uZXIuYXR0cignZGF0YS1pcy1jb3NvLXN1cnZleScpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAkLnBvc3QoXCIvc3VydmV5L2NvbGxlY3RpdmVzL2Rpc21pc3NcIiwgeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LCBzbHVnOiAkYmFubmVyLmRhdGEoXCJjb3NvLXNsdWdcIikgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBub3RpY2VTdGF0ZTtcbiAgICB9XG5cbiAgICAvLyBJdCBhc3N1bWVkIHRoYXQgaWYgdGhlIGFubm91bmNlbWVudCBiYW5uZXIgYW5kIHNpZGViYXIgcG9wb3ZlciBib3RoIGV4aXN0IG9uIGEgcGFnZSxcbiAgICAvLyB0aGV5IGFyZSByZXByZXNlbnRpbmcgdGhlIHNhbWUgY2FtcGFpZ24gYW5kIGNhbiBiZSBoaWRkZW4gdG9nZXRoZXIuICBUaGlzIG1ha2VzIHNlbnNlXG4gICAgLy8gd2l0aCB0aGUgY3VycmVudCB1bmRlcnN0YW5kaW5nIHRoYXQgd2UnbGwgb25seSBldmVyIHNob3cgb25lIGluLXlvdXItZmFjZSBtZXNzYWdlIHBlclxuICAgIC8vIHBhZ2UgbG9hZC4gIElmIHRoaXMgYXNzdW1wdGlvbiBicmVha3MgaW4gdGhlIGZ1dHVyZSwgd2Ugd2lsbCBuZWVkIHRvIGJlIGFibGUgdG8gdmFsaWRhdGVcbiAgICAvLyB0aGF0IHRoZSB0d28gYXJlIGxpbmtlZC5cbiAgICBmdW5jdGlvbiBoaWRlQW5ub3VjZW1lbnRCYW5uZXJBbmRTaWRlYmFyUG9wb3ZlcigpIHtcbiAgICAgICAgY29uc3QgJHBvcG92ZXJSZWZlcmVuY2UgPSAkKCcuanMtcG9wb3Zlci1yZWZlcmVuY2UnKTtcbiAgICAgICAgJChcIi5qcy1hbm5vdW5jZW1lbnQtYmFubmVyXCIpLmFuaW1hdGUoeyBoZWlnaHQ6IFwiMFwiLCBvcGFjaXR5OiAwIH0sIFwiZmFzdFwiLCBcImxpbmVhclwiLCBmdW5jdGlvbiAodGhpczogRWxlbWVudCkgeyAkKHRoaXMpLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgaWYgKCRwb3BvdmVyUmVmZXJlbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgU3RhY2tzLmhpZGVQb3BvdmVyKCRwb3BvdmVyUmVmZXJlbmNlWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBhbm5vdW5jZW1lbnRCYW5uZXJJbml0KCkge1xuICAgICAgICBjb25zdCAkYmFubmVyID0gJChcIi5qcy1hbm5vdW5jZW1lbnQtYmFubmVyXCIpO1xuICAgICAgICBiaW5kU3RhbmRhcmRMaW5rQW5kRGlzbWlzc0J1dHRvbnMoJGJhbm5lciwgaGlkZUFubm91Y2VtZW50QmFubmVyQW5kU2lkZWJhclBvcG92ZXIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaWRlYmFyUG9wb3ZlckluaXQoKSB7XG4gICAgICAgIGNvbnN0ICRwb3BvdmVyID0gJChcIi5qcy1ub3RpY2Utc2lkZWJhci1wb3BvdmVyXCIpO1xuICAgICAgICBjb25zdCAkcG9wb3ZlclJlZmVyZW5jZSA9ICQoJy5qcy1wb3BvdmVyLXJlZmVyZW5jZScpO1xuICAgICAgICBiaW5kU3RhbmRhcmRMaW5rQW5kRGlzbWlzc0J1dHRvbnMoJHBvcG92ZXIsIGhpZGVBbm5vdWNlbWVudEJhbm5lckFuZFNpZGViYXJQb3BvdmVyKTtcblxuICAgICAgICBpZiAoJHBvcG92ZXIubGVuZ3RoICYmICRwb3BvdmVyUmVmZXJlbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgU3RhY2tzLnNob3dQb3BvdmVyKCRwb3BvdmVyUmVmZXJlbmNlWzBdKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlc2VhcmNoQmFubmVySW5pdCgpIHtcbiAgICAgICAgdmFyICRyZXNlYXJjaEJhbm5lciA9ICQoXCIuanMtcmVzZWFyY2gtYmFubmVyXCIpO1xuICAgICAgICB2YXIgbm90aWNlU3RhdGUgPSBuZXcgTm90aWNlU3RhdGUoJHJlc2VhcmNoQmFubmVyKTtcblxuICAgICAgICAvLyBzaG93IHRoZSBuZXh0IHJlc2VhcmNoIGJhbm5lciBzdGF0ZVxuICAgICAgICB2YXIgc2hvd05leHRTdGF0ZSA9IGZ1bmN0aW9uICh0aGlzOiBFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKHRoaXMpLmNsb3Nlc3QoXCIucmVzZWFyY2gtYmFubmVyX19zdGF0ZVwiKTtcblxuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJhbm5lciA9ICQoXCIuanMtcmVzZWFyY2gtYmFubmVyXCIpO1xuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IGJhbm5lci5maW5kKFwiLnJlc2VhcmNoLWJhbm5lcl9fc3RhdGVcIik7XG5cbiAgICAgICAgICAgIHN0YXRlcy5oaWRlKCk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZUluZGV4ID0gc3RhdGVzLmluZGV4KHN0YXRlKTtcbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSAkKHN0YXRlcy5nZXQoc3RhdGVJbmRleCArIDEpKTtcblxuICAgICAgICAgICAgYmFubmVyLnJlbW92ZUNsYXNzKHN0YXRlLmRhdGEoXCJwcm9wYWdhdGVDbGFzc1wiKSk7XG4gICAgICAgICAgICBiYW5uZXIuYWRkQ2xhc3MobmV4dFN0YXRlLmRhdGEoXCJwcm9wYWdhdGVDbGFzc1wiKSk7XG5cbiAgICAgICAgICAgIG5leHRTdGF0ZS5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFsZXJ0T25GYWlsdXJlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QobWVzc2FnZSwgeyB0eXBlOiBcImRhbmdlclwiLCB0cmFuc2llbnRUaW1lb3V0OiAzMDAwIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlbmQgYW4gYWpheCBjYWxsIG9uIG9wdC1pblxuICAgICAgICAkcmVzZWFyY2hCYW5uZXIuZmluZChcImZvcm0uanMtc3VibWl0XCIpLnN1Ym1pdChmdW5jdGlvbiAodGhpczogSFRNTEZvcm1FbGVtZW50LCBlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiAkcmVzZWFyY2hCYW5uZXIuZGF0YShcImN0YS11cmxcIiksXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRPbkZhaWx1cmUocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub3RpY2VTdGF0ZS5jdGFDbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuZmFpbChhbGVydE9uRmFpbHVyZSk7XG5cbiAgICAgICAgICAgIHNob3dOZXh0U3RhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBkaXNtaXNzIG5vdGljZVxuICAgICAgICAkcmVzZWFyY2hCYW5uZXIuZmluZChcIi5qcy1yZXNlYXJjaC1kaXNtaXNzXCIpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIG5vdGljZVN0YXRlLmRpc21pc3NlZCgpO1xuICAgICAgICAgICAgJHJlc2VhcmNoQmFubmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBwcm9jZWVkIHRvIHRoZSBuZXh0IHN0YXRlIG9uIGNvbmZpcm1hdGlvblxuICAgICAgICAkcmVzZWFyY2hCYW5uZXIuZmluZChcIi5qcy1yZXNlYXJjaC1iYW5uZXItc3RhdGUgLmpzLXJlc2VhcmNoLWNvbmZpcm1cIikuY2xpY2soc2hvd05leHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlc2VhcmNoVG9hc3RJbml0KGN0YUxpbmtVcmw/OiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCAkdG9hc3QgPSAkKFwiLmpzLXJlc2VhcmNoLXRvYXN0XCIpO1xuICAgICAgICBjb25zdCBjYW1wYWlnbiA9ICR0b2FzdC5hdHRyKCdkYXRhLWNhbXBhaWduJyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBiaW5kU3RhbmRhcmRMaW5rQW5kRGlzbWlzc0J1dHRvbnMoJHRvYXN0LCAoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuaGlkZVRvYXN0cygpLCBjdGFMaW5rVXJsKTtcblxuICAgICAgICAkdG9hc3QuZmluZChcIi5qcy1saW5rXCIpLmNsaWNrKCgpID0+IFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwicmVzZWFyY2hfdG9hc3QuY2xpY2tcIiwgeyBjYW1wYWlnbiB9KSk7XG5cbiAgICAgICAgLy8gVGhpcyBmaW5kcyBib3RoIHRoZSBcIm5vIHRoYW5rc1wiIGJ1dHRvbiBhbmQgdG9hc3QncyBkaXNtaXNzIGJ1dHRvbixcbiAgICAgICAgLy8gY2F1c2luZyBib3RoIHRvIGxvZyB0aGUgZGlzbWlzc2FsIGFuZCBhZHZhbmNlIHRoZSBjb29raWUncyBzdGF0ZS5cbiAgICAgICAgJHRvYXN0LmNsb3Nlc3QoJy5qcy10b2FzdCcpLmZpbmQoXCIuanMtZGlzbWlzc1wiKS5jbGljaygoKSA9PiB7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy50cmFjayhcInJlc2VhcmNoX3RvYXN0LmRpc21pc3NcIiwgeyBjYW1wYWlnbiB9KTtcbiAgICAgICAgICAgIHN0YXRlLmRpc21pc3NlZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBTdGFja0V4Y2hhbmdlLmdwcy50cmFjayhcInJlc2VhcmNoX3RvYXN0LnNob3dcIiwgeyBjYW1wYWlnbiB9KTtcbiAgICB9XG59XG4iLCJuYW1lc3BhY2UgU3RhY2tFeGNoYW5nZS5PdXRkYXRlZEFuc3dlcnNcbntcbiAgICBcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdEFub24oaXNBbm9ueW1vdXM6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKGlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAkKCcuanMtb3V0ZGF0ZWQteWVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24odGhpczogRWxlbWVudCwgZTogSlF1ZXJ5RXZlbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtID0gdGhpcztcbiAgICAgICAgICAgICAgICBsZXQgcG9zdElkID0gJChlbGVtKS5kYXRhKCdwb3N0LWlkJyk7XG4gICAgICAgICAgICAgICAgb3Blbk1vZGFsKCQoZWxlbSkpO1xuICAgICAgICAgICAgICAgIHVzZXJWb3RlZChwb3N0SWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuanMtb3V0ZGF0ZWQtbm8nKS5vbignY2xpY2snLCBmdW5jdGlvbih0aGlzOiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvc3RJZCA9ICQodGhpcykuZGF0YSgncG9zdC1pZCcpO1xuICAgICAgICAgICAgICAgIHVzZXJWb3RlZChwb3N0SWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9wZW5Nb2RhbCgkZWxlbTogSlF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0ICRjb250YWluZXIgPSAkZWxlbS5jbG9zZXN0KCcuanMtb3V0ZGF0ZWQtYW5zd2VycycpLmZpbmQoJy5qcy1tb2RhbC1jb250YWluZXInKTtcbiAgICAgICAgbGV0IHBvc3RJZCA9ICRlbGVtLmRhdGEoJ3Bvc3QtaWQnKTtcblxuICAgICAgICAkLmFqYXgoIHtcbiAgICAgICAgICAgIHVybDogJy9wb3N0cy9vdXRkYXRlZC9tb2RhbC8nICsgcG9zdElkLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICRjb250YWluZXIuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrcy5zaG93TW9kYWwoJGNvbnRhaW5lci5maW5kKFwiI2pzLW91dGRhdGVkLWFuc3dlcnMtbW9kYWxcIilbMF0pLCA1MCk7XG5cbiAgICAgICAgICAgICAgICAkKCcuanMtc3VibWl0LW91dGRhdGVkLWFuc3dlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0T3V0ZGF0ZWRBbnN3ZXJSZXN1bHQocG9zdElkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHN1Ym1pdE91dGRhdGVkQW5zd2VyUmVzdWx0KHBvc3RJZCkge1xuICAgICAgICBcbiAgICAgICAgbGV0IGNoZWNrZWRPcHRpb25zID0gMDtcbiAgICAgICAgbGV0ICRvdXRkYXRlZE9wdGlvbnMgPSAkKCcuanMtb3V0ZGF0ZWQtb3B0aW9ucycpO1xuICAgICAgICBsZXQgJGNvbnRhaW5lciA9ICRvdXRkYXRlZE9wdGlvbnMuY2xvc2VzdCgnLmpzLW91dGRhdGVkLWFuc3dlcnMnKTtcbiAgICAgICAgbGV0IGFuc3dlclR5cGUgPSAkY29udGFpbmVyLmRhdGEoJ2Fuc3dlci10eXBlJyk7XG4gICAgICAgIGxldCBwb3NpdGlvbk9uUGFnZSA9ICRjb250YWluZXIuZGF0YSgncG9zaXRpb24tb24tcGFnZScpO1xuICAgICAgICBsZXQgc2NvcmUgPSAkY29udGFpbmVyLmRhdGEoJ3Njb3JlJyk7XG5cbiAgICAgICAgJG91dGRhdGVkT3B0aW9ucy5maW5kKFwiLnMtY2hlY2tib3g6Y2hlY2tlZFwiKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjaGVja2VkRmxhZyA9ICQoZWxlbSkuZGF0YSgnYW5zd2VyLWZsYWctdmFsdWUnKTtcbiAgICAgICAgICAgIGNoZWNrZWRPcHRpb25zID0gY2hlY2tlZE9wdGlvbnMgfCBjaGVja2VkRmxhZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgU3RhY2tFeGNoYW5nZS51c2luZyhcImdwc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuZ3BzLnRyYWNrKFwib3V0ZGF0ZWRfcHJvbXB0Lnllc19kZXRhaWxcIiwgeyBPdXRkYXRlZEFuc3dlck9wdGlvbnM6IGNoZWNrZWRPcHRpb25zLCBBbnN3ZXJUeXBlOiBhbnN3ZXJUeXBlLCBQb3NpdGlvbk9uUGFnZTogcG9zaXRpb25PblBhZ2UsIEFuc3dlcklkOiBwb3N0SWQsIFNjb3JlOiBzY29yZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBleHBvcnQgZnVuY3Rpb24gdXNlclZvdGVkKHBvc3RJZDogbnVtYmVyKSB7XG5cbiAgICAgICAgbGV0ICRvdXRkYXRlZENvbnRhaW5lciA9ICQoYC5qcy1vdXRkYXRlZC1hbnN3ZXJzW2RhdGEtcG9zdC1pZD0ke3Bvc3RJZH1dYCk7XG4gICAgICAgICRvdXRkYXRlZENvbnRhaW5lci5maW5kKFwiLmpzLW91dGRhdGVkLWludGVyYWN0aW9uc1wiKS5hZGRDbGFzcyhcImQtbm9uZVwiKTtcbiAgICAgICAgJG91dGRhdGVkQ29udGFpbmVyLmZpbmQoJy5qcy1vdXRkYXRlZC1zdmcnKS5yZW1vdmVDbGFzcyhcIm5hdGl2ZVwiKTtcbiAgICAgICAgJG91dGRhdGVkQ29udGFpbmVyLmZpbmQoJy5qcy1vdXRkYXRlZC1hbnN3ZXItcHJvbXB0JykudGV4dChfcyhcIlRoYW5rcyBmb3IgeW91ciBmZWVkYmFjayBvbiB0aGlzIGFuc3dlci5cIikpO1xuICAgICAgICBcbiAgICB9XG4gICAgXG59IiwiLy8gU3RhY2tPdmVyZmxvdy5Nb2RlbHMuUG9zdFR5cGVJZFxuLy9cbi8vIElmIHdlIHdlcmUgaW4gdGhlIGdvb2QgdW5pdmVyc2UsIHRoaXMgd291bGQgYmUgYW4gZW51bSBpbiBDIy5cbi8vIFxuLy8gTW9kdWxpZnlpbmcgbm90ZTogaW50ZW50aW9uYWxseSBub3QgZGVsZXRpbmcgdGhpcyBmaWxlIHNpbmNlIGxlZ2FjeSBjb2RlIG1heSByZWZlcmVuY2UgaXQgZGlyZWN0bHlcbi8vXG5uYW1lc3BhY2UgU3RhY2tPdmVyZmxvdy5Nb2RlbHMge1xuICAgIGV4cG9ydCBlbnVtIFBvc3RUeXBlSWQge1xuICAgICAgICBRdWVzdGlvbiA9IDFcbiAgICAgICAgLCBBbnN3ZXIgPSAyXG4gICAgICAgICwgV2lraSA9IDNcbiAgICAgICAgLCBUYWdXaWtpRXhjZXJwdCA9IDRcbiAgICAgICAgLCBUYWdXaWtpID0gNVxuICAgICAgICAsIE1vZGVyYXRvck5vbWluYXRpb24gPSA2XG4gICAgICAgICwgV2lraVBsYWNlaG9sZGVyID0gN1xuICAgICAgICAsIFByaXZpbGVnZVdpa2kgPSA4XG4gICAgICAgICwgQXJ0aWNsZSA9IDlcbiAgICAgICAgLCBIZWxwQXJ0aWNsZSA9IDEwXG4gICAgICAgIC8vLCBUZWFtUGFnZSA9IDExOyAvLyAob2xkKSBUZWFtcyB3ZXJlIHJlbW92ZWQsIGRvIG5vdCByZXVzZVxuICAgICAgICAsIENvbGxlY3Rpb24gPSAxMlxuICAgICAgICAsIE1vZGVyYXRvclF1ZXN0aW9ubmFpcmVSZXNwb25zZSA9IDEzXG4gICAgICAgICwgQW5ub3VuY2VtZW50ID0gMTRcbiAgICAgICAgLCBDb2xsZWN0aXZlRGlzY3Vzc2lvbiA9IDE1XG4gICAgICAgICwgQ29sbGVjdGl2ZUNvbGxlY3Rpb24gPSAxN1xuICAgIH1cbn1cbiIsIm5hbWVzcGFjZSBTdGFja0V4Y2hhbmdlLmFkcyB7XG4gICAgY29uc3QgbW9kYWxDbGFzcyA9ICcuanMtYWQtcmVwb3J0JztcblxuICAgIGRlY2xhcmUgdmFyIGNsYzogYW55O1xuICAgIGxldCBhZFJlcG9ydHM6IEFkUmVwb3J0cztcblxuICAgIGNsYXNzIEFkUmVwb3J0cyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZ29vZ2xldGFnOiBhbnksIHByaXZhdGUgYWRSZXBvcnRVcmw6IHN0cmluZywgcHJpdmF0ZSBhZFJlcG9ydFRleHQ6IHN0cmluZykge1xuICAgICAgICAgICAgLy8gV2F0Y2ggZm9yIHdoZW4gc2xvdHMgYXJlIHJlbmRlcmVkLCBzYXZlIHRoZWlyIGluZm8gYW5kIGFkZCB0aGUgcmVwb3J0IGJ1dHRvblxuICAgICAgICAgICAgdGhpcy5nb29nbGV0YWcucHViYWRzKCkuYWRkRXZlbnRMaXN0ZW5lcignc2xvdFJlbmRlckVuZGVkJywgdGhpcy5oYW5kbGVTbG90UmVuZGVyZWQpO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgc2xvdHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZW5kZXJlZFxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xjPy5kZnA/LnNsb3RzUmVuZGVyZWRFdmVudHMpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGMuZGZwLnNsb3RzUmVuZGVyZWRFdmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTbG90UmVuZGVyZWQoY2xjLmRmcC5zbG90c1JlbmRlcmVkRXZlbnRzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGhhbmRsZVNsb3RSZW5kZXJlZCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBidXR0b25cbiAgICAgICAgICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnNsb3QgfHwgZXZlbnQuaXNFbXB0eSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBhZFVuaXRFbGVtZW50SWQgPSBldmVudC5zbG90LmdldFNsb3RFbGVtZW50SWQoKTtcblxuICAgICAgICAgICAgaWYgKCFhZFVuaXRFbGVtZW50SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgJGFkVW5pdCA9ICQoJyMnICsgYWRVbml0RWxlbWVudElkKTtcbiAgICAgICAgICAgIHZhciAkYWRVbml0QnV0dG9uUGxhY2Vob2xkZXIgPSAkYWRVbml0LnBhcmVudCgnLmpzLXpvbmUtY29udGFpbmVyJykuZmluZCgnLmpzLXJlcG9ydC1hZC1idXR0b24tY29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgIGlmICghZXZlbnQuY3JlYXRpdmVJZCAmJiAhZXZlbnQubGluZUl0ZW1JZCAmJiBldmVudC5pc0VtcHR5KVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gSWdub3JlIHRoZSBUYWxlbnQgUGxhY2Vob2xkZXIgTGluZSBJdGVtcyAoRG91YmxlIEhlaWdodCBBbmNob3IpXG4gICAgICAgICAgICBpZiAoY2xjLm9wdGlvbnMuZGggJiYgY2xjLm9wdGlvbnMuZGguaW5kZXhPZihldmVudC5saW5lSXRlbUlkKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgJGFkUmVwb3J0QnV0dG9uID0gJChgPGJ1dHRvbiBjbGFzcz1cImpzLXJlcG9ydC1hZCBzLWJ0biBzLWJ0bl9fbGluayBmcy1maW5lIG10MiBmbG9hdC1yaWdodFwiPiR7dGhpcy5hZFJlcG9ydFRleHR9PC9idXR0b24+YCk7XG5cbiAgICAgICAgICAgICRhZFVuaXRCdXR0b25QbGFjZWhvbGRlci5hcHBlbmQoJGFkUmVwb3J0QnV0dG9uKTtcblxuICAgICAgICAgICAgJGFkUmVwb3J0QnV0dG9uLmRhdGEoJ21vZGFsLXVybCcsIHRoaXMuYWRSZXBvcnRVcmwpO1xuICAgICAgICAgICAgJGFkUmVwb3J0QnV0dG9uLmRhdGEoJ2FkLXVuaXQnLCBldmVudC5zbG90LmdldFNsb3RFbGVtZW50SWQoKSk7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBkYXRhXG4gICAgICAgICAgICB2YXIganNvbkV2ZW50RGF0YSA9IEpTT04uc3RyaW5naWZ5KGV2ZW50KTtcbiAgICAgICAgICAgICRhZFJlcG9ydEJ1dHRvbi5kYXRhKCdnb29nbGUtZXZlbnQtZGF0YScsIGpzb25FdmVudERhdGEpXG5cbiAgICAgICAgICAgIHRoaXMuaW5pdEJ1dHRvbigkYWRSZXBvcnRCdXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpbml0QnV0dG9uKCRhZFJlcG9ydEJ1dHRvbikge1xuICAgICAgICAgICAgJGFkUmVwb3J0QnV0dG9uLm9mZigpLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAkYWRSZXBvcnRCdXR0b24uZGF0YShcIm1vZGFsLXVybFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnb29nbGVFdmVudERhdGEgPSAkYWRSZXBvcnRCdXR0b24uZGF0YShcImdvb2dsZS1ldmVudC1kYXRhXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZE1vZGFsKHVybCwgJGFkUmVwb3J0QnV0dG9uLCBnb29nbGVFdmVudERhdGEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBsb2FkTW9kYWwodXJsOiBzdHJpbmcsICRsaW5rOiBKUXVlcnksIGdvb2dsZUV2ZW50RGF0YTogc3RyaW5nKSB7XG4gICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMubG9hZE1vZGFsKHVybCwgeyByZXR1cm5FbGVtZW50czogJGxpbmsgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEZvcm0oZ29vZ2xlRXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mYWlsKChyZXNwb25zZVRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBldmFsKFwiKFwiICsgcmVzcG9uc2VUZXh0ICsgXCIpXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5pc0xvZ2dlZE91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9zKCdZb3VyIGxvZ2luIHNlc3Npb24gaGFzIGV4cGlyZWQsIHBsZWFzZSBsb2dpbiBhbmQgdHJ5IGFnYWluLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9zKCdBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGxvYWRpbmcgdGhlIHJlcG9ydCBmb3JtIC0gcGxlYXNlIHRyeSBhZ2FpbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChtZXNzYWdlLCB7IHR5cGU6ICdkYW5nZXInIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHByaXZhdGUgcmVtb3ZlTW9kYWwgKCkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmNsb3NlUG9wdXBzKCQobW9kYWxDbGFzcyksICdkaXNtaXNzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGluaXRGb3JtIChnb29nbGVFdmVudERhdGE6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgJGZvcm0gPSAkKFwiLmpzLWFkLXJlcG9ydC1mb3JtXCIpO1xuICAgICAgICAgICAgY29uc3QgJGdvb2dsZUV2ZW50RGF0YSA9ICRmb3JtLmZpbmQoJy5qcy1qc29uLWRhdGEnKTtcbiAgICAgICAgICAgIGNvbnN0ICRhZFJlcG9ydFJlYXNvbiA9ICRmb3JtLmZpbmQoXCIuanMtYWQtcmVwb3J0LXJlYXNvblwiKTtcbiAgICAgICAgICAgIGNvbnN0ICRhZFJlcG9ydFJlYXNvbk90aGVyID0gJGZvcm0uZmluZChcIi5qcy1hZC1yZXBvcnQtcmVhc29uLW90aGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgJGZpbGVVcGxvYWRlcklucHV0ID0gJGZvcm0uZmluZChcIi5qcy1maWxlLXVwbG9hZGVyLWlucHV0XCIpO1xuICAgICAgICAgICAgY29uc3QgJGltYWdlVXBsb2FkZXIgPSAkZm9ybS5maW5kKFwiLmpzLWltYWdlLXVwbG9hZGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgJGNsZWFySW1hZ2VVcGxvYWQgPSAkZm9ybS5maW5kKFwiLmpzLWNsZWFyLWltYWdlLXVwbG9hZFwiKTtcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZVVwbG9hZGVyVGV4dCA9ICRmb3JtLmZpbmQoXCIuanMtaW1hZ2UtdXBsb2FkZXItdGV4dFwiKTtcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZVVwbG9hZGVyUHJldmlldyA9ICRmb3JtLmZpbmQoXCIuanMtaW1hZ2UtdXBsb2FkZXItcHJldmlld1wiKTtcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZVVwbG9hZGVyTGluayA9ICRmb3JtLmZpbmQoXCIuanMtaW1hZ2UtdXBsb2FkZXItbGlua1wiKTtcbiAgICAgICAgICAgIGNvbnN0ICRmaWxlRXJyb3JNZXNzYWdlID0gJGZvcm0uZmluZChcIi5qcy1maWxlLWVycm9yXCIpO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZEZpbGVUeXBlcyA9IFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZycsICdpbWFnZS9qcGVnJ107XG5cbiAgICAgICAgICAgIGNvbnN0ICRkcmFnRHJvcEVuYWJsZWRTZWN0aW9uID0gJGZvcm0uZmluZCgnLmpzLWRyYWctZHJvcC1lbmFibGVkJyk7XG4gICAgICAgICAgICBjb25zdCAkZHJhZ0Ryb3BEaXNhYmxlZFNlY3Rpb24gPSAkZm9ybS5maW5kKCcuanMtZHJhZy1kcm9wLWRpc2FibGVkJyk7XG5cbiAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyTGluay5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkZmlsZVVwbG9hZGVySW5wdXQudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkZ29vZ2xlRXZlbnREYXRhLnZhbChnb29nbGVFdmVudERhdGEpO1xuXG4gICAgICAgICAgICAkYWRSZXBvcnRSZWFzb24ub24oXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAkYWRSZXBvcnRSZWFzb25PdGhlci50b2dnbGVDbGFzcygnZC1ub25lJywgJChlLnRhcmdldCkudmFsKCkgIT09ICczJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHByZXZlbnREZWZhdWx0cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLnJlbW92ZUNsYXNzKFwiYmFzLWRhc2hlZFwiKTtcbiAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlci5hZGRDbGFzcyhcImJhcy1zb2xpZCBiYy1ibGFjay0yMjVcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGVEcmFnRW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlci5yZW1vdmVDbGFzcyhcImJhcy1zb2xpZCBiYy1ibGFjay0yMjVcIik7XG4gICAgICAgICAgICAgICAgJGltYWdlVXBsb2FkZXIuYWRkQ2xhc3MoXCJiYXMtZGFzaGVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaGFuZGxlRHJvcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVzID0gZS5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcblxuICAgICAgICAgICAgICAgIGlmIChGaWxlUmVhZGVyICYmIGZpbGVzICYmIGZpbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZmlsZSBwaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVJbnB1dCA9IDxIVE1MSW5wdXRFbGVtZW50PiRmaWxlVXBsb2FkZXJJbnB1dFswXTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlucHV0LmZpbGVzID0gZmlsZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlRmlsZUlucHV0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbWFnZVByZXZpZXcoZmlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGZpbGVVcGxvYWRlcklucHV0LmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVJbnB1dCA9IDxIVE1MSW5wdXRFbGVtZW50PiRmaWxlVXBsb2FkZXJJbnB1dFswXTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUZpbGVJbnB1dCgpKVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbWFnZVByZXZpZXcoZmlsZUlucHV0LmZpbGVzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgdmFsaWRhdGVGaWxlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVR5cGVFcnJvck1lc3NhZ2UgPSBfcyhcIlBsZWFzZSBzZWxlY3QgYSBQTkcgb3IgSlBHIGZpbGVcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVNpemVFcnJvck1lc3NhZ2UgPSBfcyhcIlRoZSBmaWxlIG11c3QgYmUgdW5kZXIgMiBNaUJcIik7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmlsZUlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+JGZpbGVVcGxvYWRlcklucHV0WzBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTtcblxuICAgICAgICAgICAgICAgIGlmIChmaWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZEZpbGVUeXBlcy5pbmRleE9mKGZpbGUudHlwZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRmaWxlRXJyb3JNZXNzYWdlLnRleHQoZmlsZVR5cGVFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAkZmlsZUVycm9yTWVzc2FnZS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEVycm9yKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IDJfMDk3XzE1Mikge1xuICAgICAgICAgICAgICAgICAgICAkZmlsZUVycm9yTWVzc2FnZS50ZXh0KGZpbGVTaXplRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgJGZpbGVFcnJvck1lc3NhZ2UucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRmaWxlRXJyb3JNZXNzYWdlLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzZXRFcnJvciA9IGZ1bmN0aW9uIChoYXNFcnJvcjogYm9vbGVhbikge1xuICAgICAgICAgICAgICAgICRmaWxlRXJyb3JNZXNzYWdlLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdoYXMtZXJyb3InLCBoYXNFcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB1cGRhdGVJbWFnZVByZXZpZXcgPSBmdW5jdGlvbiAoZmlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3R5bGluZ1xuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLnJlbW92ZUNsYXNzKCdwMTYgYmEgYmFzLWRhc2hlZCBiYy1ibGFjay0yMjUnKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgJGNsZWFySW1hZ2VVcGxvYWQucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgJGltYWdlVXBsb2FkZXJUZXh0LmFkZENsYXNzKFwiZC1ub25lXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBpbWFnZSBwcmV2aWV3XG4gICAgICAgICAgICAgICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICAgICAgICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlclByZXZpZXcucHJvcChcInNyY1wiLCA8c3RyaW5nPmUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlclByZXZpZXcucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlc1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjbGVhckltYWdlVXBsb2FkLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCBmaWxlIHBpY2tlclxuICAgICAgICAgICAgICAgICRmaWxlVXBsb2FkZXJJbnB1dC52YWwoXCJcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaW1hZ2VcbiAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlclByZXZpZXcucHJvcChcInNyY1wiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAkaW1hZ2VVcGxvYWRlclByZXZpZXcuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgJGNsZWFySW1hZ2VVcGxvYWQuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgICAgICAgICAgICAgJGltYWdlVXBsb2FkZXJUZXh0LnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgc3R5bGluZ1xuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLmFkZENsYXNzKCdwMTYgYmEgYmFzLWRhc2hlZCBiYy1ibGFjay0yMjUnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBFZGdlIGJsb2NrcyBzZXR0aW5nIGZpbGUgaW5wdXRzIGluIHN0cmljdCBtb2RlLFxuICAgICAgICAgICAgLy8gVGVzdCBmb3IgdGhlIGFiaWxpdHkgdG8gdXNlIGRyYWcgLyBkcm9wLCB3aGljaCByZWxpZXMgb24gdGhhdFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZUlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+JGZpbGVVcGxvYWRlcklucHV0WzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGluZSB0aGF0IHdpbGwgZmFpbCBvbiBFZGdlXG4gICAgICAgICAgICAgICAgZmlsZUlucHV0LmZpbGVzID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLm9uKCdkcmFnZW50ZXIgZHJhZ292ZXIgZHJhZ2xlYXZlIGRyb3AnLCBwcmV2ZW50RGVmYXVsdHMpO1xuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLm9uKCdkcmFnZW50ZXIgZHJhZ292ZXInLCBoYW5kbGVEcmFnU3RhcnQpO1xuICAgICAgICAgICAgICAgICRpbWFnZVVwbG9hZGVyLm9uKCdkcmFnbGVhdmUgZHJvcCcsIGhhbmRsZURyYWdFbmQpO1xuXG4gICAgICAgICAgICAgICAgJGltYWdlVXBsb2FkZXIub24oXCJkcm9wXCIsIGhhbmRsZURyb3ApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICRkcmFnRHJvcEVuYWJsZWRTZWN0aW9uLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAkZHJhZ0Ryb3BEaXNhYmxlZFNlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkZm9ybS5vZmYoKS5vbihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVGaWxlSW5wdXQoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgJGZvcm0uZmluZChcIlt0eXBlPXN1Ym1pdF1cIikucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nRGF0YSA9IEpTT04ucGFyc2UoJGdvb2dsZUV2ZW50RGF0YS52YWwoKSB8fCBcInt9XCIpO1xuXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdEYXRhLlJlYXNvbiA9IHBhcnNlSW50KCRmb3JtLmZpbmQoXCIuanMtYWQtcmVwb3J0LXJlYXNvbjpjaGVja2VkXCIpLnZhbCgpLCAxMClcbiAgICAgICAgICAgICAgICBleGlzdGluZ0RhdGEuRGVzY3JpcHRpb24gPSAkYWRSZXBvcnRSZWFzb25PdGhlci52YWwoKTtcblxuICAgICAgICAgICAgICAgICRnb29nbGVFdmVudERhdGEudmFsKEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nRGF0YSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2UncmUgdXNpbmcgRm9ybURhdGEgaGVyZSB0byBpbmNsdWRlIHRoZSBGaWxlIElucHV0XG4gICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKDxIVE1MRm9ybUVsZW1lbnQ+JGZvcm1bMF0pO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJGZvcm0ucHJvcChcIm1ldGhvZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5wcm9wKFwiYWN0aW9uXCIpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlOiBzdHJpbmcsIHRleHRTdGF0dXMsIHhocikgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpIHx8IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSA9PT0gXCJzdHJpbmdcIiAmJiBjb250ZW50VHlwZS5pbmRleE9mKFwidGV4dC9odG1sXCIpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGV4aXN0aW5nIHBvcHVwXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkcG9wdXBDb250ZW50ID0gJChyZXNwb25zZSkuZmluZChcIi5qcy1tb2RhbC1jb250ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRwb3B1cENvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuanMtbW9kYWwtY29udGVudFwiKS5yZXBsYWNlV2l0aCgkcG9wdXBDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTW9kYWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChfcyhcIlRoYW5rcyBmb3IgeW91ciBmZWVkYmFjay4gV2XigJlsbCByZXZpZXcgdGhpcyBhZ2FpbnN0IG91ciBjb2RlIG9mIGNvbmR1Y3QgYW5kIHRha2UgYWN0aW9uIGlmIG5lY2Vzc2FyeS5cIiksIHsgdHlwZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1RvYXN0KF9zKFwiRXJyb3IgdXBsb2FkaW5nIGFkIHJlcG9ydC5cIiksIHsgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0uZmluZChcIlt0eXBlPXN1Ym1pdF1cIikucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGluaXQoZ29vZ2xldGFnLCBhZFJlcG9ydFVybCwgYWRSZXBvcnRUZXh0KSB7XG4gICAgICAgIGlmIChhZFJlcG9ydHMpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgYWRSZXBvcnRzID0gbmV3IEFkUmVwb3J0cyhnb29nbGV0YWcsIGFkUmVwb3J0VXJsLCBhZFJlcG9ydFRleHQpO1xuICAgIH1cbn0iLCJuYW1lc3BhY2UgU3RhY2tFeGNoYW5nZS5oZWxwZXJzIHtcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29uZmlybU1vZGFsT3B0aW9ucyBleHRlbmRzIFNob3dNb2RhbE9wdGlvbnMge1xuICAgICAgICB0aXRsZT86IHN0cmluZztcbiAgICAgICAgdGl0bGVIdG1sPzogc3RyaW5nIHwgSlF1ZXJ5IHwgRWxlbWVudDtcbiAgICAgICAgYm9keT86IHN0cmluZztcbiAgICAgICAgYm9keUh0bWw/OiBzdHJpbmcgfCBKUXVlcnkgfCBFbGVtZW50O1xuICAgICAgICBidXR0b25MYWJlbD86IHN0cmluZztcbiAgICAgICAgYnV0dG9uTGFiZWxIdG1sPzogc3RyaW5nIHwgSlF1ZXJ5IHwgRWxlbWVudDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2hvd0NvbmZpcm1Nb2RhbChvcHRpb25zOiBDb25maXJtTW9kYWxPcHRpb25zKTogUHJvbWlzZTxib29sZWFuPiB7XG5cbiAgICAgICAgdmFyICRtb2RhbCA9ICQoYFxuPGFzaWRlIGNsYXNzPVwicy1tb2RhbFwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnk9XCJjb25maXJtLW1vZGFsLXRpdGxlXCIgYXJpYS1kZXNjcmliZWRieT1cImNvbmZpcm0tbW9kYWwtYm9keVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJzLW1vZGFsLS1kaWFsb2cgcHMtcmVsYXRpdmVcIiBkYXRhLWNvbnRyb2xsZXI9XCJzZS1kcmFnZ2FibGVcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGgxIGNsYXNzPVwicy1tb2RhbC0taGVhZGVyIGZ3LWJvbGRcIiBpZD1cImNvbmZpcm0tbW9kYWwtdGl0bGVcIiBkYXRhLXNlLWRyYWdnYWJsZS10YXJnZXQ9XCJoYW5kbGVcIj48L2gxPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicy1tb2RhbC0tYm9keSBmcy1ib2R5MlwiIGlkPVwiY29uZmlybS1tb2RhbC1ib2R5XCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggZ3M4IGdzeCBzLW1vZGFsLS1mb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmbGV4LS1pdGVtIHMtYnRuIGpzLW9rLWJ1dHRvbiBzLWJ0bl9fZmlsbGVkXCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImZsZXgtLWl0ZW0gcy1idG4ganMtY2FuY2VsLWJ1dHRvbiBqcy1tb2RhbC1jbG9zZSBqcy1tb2RhbC1pbml0aWFsLWZvY3VzXCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvYXNpZGU+XG5gKTtcbiAgICAgICAgY29uc3Qgc2V0Q29udGVudCA9IChzZWxlY3Rvcjogc3RyaW5nLCBodG1sPzogc3RyaW5nIHwgSlF1ZXJ5IHwgRWxlbWVudCwgdGV4dD86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgJHRhcmdldCA9ICRtb2RhbC5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChodG1sKSB7ICR0YXJnZXQuYXBwZW5kKGh0bWwpOyB9IGVsc2UgaWYgKHRleHQpIHsgJHRhcmdldC50ZXh0KHRleHQpOyB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0Q29udGVudCgnI2NvbmZpcm0tbW9kYWwtdGl0bGUnLCBvcHRpb25zLnRpdGxlSHRtbCwgb3B0aW9ucy50aXRsZSk7XG4gICAgICAgIHNldENvbnRlbnQoJyNjb25maXJtLW1vZGFsLWJvZHknLCBvcHRpb25zLmJvZHlIdG1sLCBvcHRpb25zLmJvZHkpO1xuICAgICAgICBzZXRDb250ZW50KCcuanMtb2stYnV0dG9uJywgb3B0aW9ucy5idXR0b25MYWJlbEh0bWwsIG9wdGlvbnMuYnV0dG9uTGFiZWwgfHwgX3MoXCJPS1wiKSk7XG4gICAgICAgIHNldENvbnRlbnQoJy5qcy1jYW5jZWwtYnV0dG9uJywgdW5kZWZpbmVkLCBfcygnQ2FuY2VsJykpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgXykgPT4ge1xuICAgICAgICAgICAgc2hvd01vZGFsKCRtb2RhbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICRtb2RhbC5maW5kKCcuanMtb2stYnV0dG9uJykuY2xpY2soZSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmNsb3NlUG9wdXBzKCRtb2RhbCwgJ2Rpc21pc3MnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkbW9kYWwub24oJ3BvcHVwQ2xvc2UnLCBfID0+IHJlc29sdmUoZmFsc2UpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFwiLi4vcmVhbHRpbWVcIjtcbmltcG9ydCBcIi4vMDBfaW1wb3J0LWpzXCI7XG5pbXBvcnQgXCIuLzA2X01hZ2ljUG9wdXBcIjtcbmltcG9ydCBcIi4vMzhfTW9yZUhvdE5ldHdvcmtRdWVzdGlvbnNcIjtcbmltcG9ydCBcIi4vNDZfRXh0ZXJuYWxFZGl0b3JcIjtcbmltcG9ydCBcIi4vNDdfU25pcHBldEphdmFzY3JpcHRcIjtcbmltcG9ydCBcIi4vNDhfUG9zdFNpZGViYXJcIjtcbmltcG9ydCBcIi4vNDlfRXhwYW5kYWJsZU92ZXJmbG93XCI7XG5pbXBvcnQgXCIuLzk5X2Fkc1wiO1xuaW1wb3J0IFwiLi85OV9Db21tdW5pdHlXaWtpXCI7XG5pbXBvcnQgXCIuLzk5X0ZlZWRMaW5rXCI7XG5pbXBvcnQgXCIuLzk5X0dvb2dsZUFuYWx5dGljc1wiO1xuaW1wb3J0IFwiLi85OV9oZWxwZXJzXCI7XG5pbXBvcnQgXCIuLzk5X05vdGljZVwiO1xuaW1wb3J0IFwiLi85OV9PdXRkYXRlZEFuc3dlcnNcIjtcbmltcG9ydCBcIi4vOTlfUG9zdFR5cGVJZFwiO1xuaW1wb3J0IFwiZXhwb3NlLWxvYWRlcj9leHBvc2VzPVN2Z3xTdmchZXhwb3J0cy1sb2FkZXI/ZXhwb3J0cz1TdmchLi85OV9zdmdcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJBbGxHZW5lcmFsQ29udHJvbGxlcnN9IGZyb20gXCIuLi8uLi9tb2R1bGVzL2dlbmVyYWwvaW5kZXgubW9kXCI7XG5pbXBvcnQgbG9hZFNpdGVJbmNsdWRlcyBmcm9tIFwiLi4vLi4vc2l0ZS1pbmNsdWRlcy9pbmRleC5tb2RcIjtcbmltcG9ydCB7IHNlUmVhZHkgfSBmcm9tIFwiLi4vLi4vU2hhcmVkL2hlbHBlcnMubW9kXCI7XG5cbnJlZ2lzdGVyQWxsR2VuZXJhbENvbnRyb2xsZXJzKCk7XG5cbnNlUmVhZHkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbG9hZFNpdGVJbmNsdWRlcygpO1xufSk7XG4iLCIvLyB0aGlzIGZpbGUgaXMgaW1wb3J0ZWQgZmlyc3QgYnkgaW5kZXgudHMsXG4vLyBzbyBmdWxsLWNvbW1vbiBhbmQgdGhlIEpTIGZpbGVzIHJ1biBiZWZvcmVcbi8vIGFsbCB0aGUgdHlwZXNjcmlwdCBmaWxlcyBpbiB0aGlzIGZvbGRlclxuXG5pbXBvcnQgeyBpbXBvcnRBbGwgfSBmcm9tIFwiLi4vdXRpbFwiO1xuXG4vLyByZXF1aXJlLmNvbnRleHQgaXMgd2VicGFjayBtYWdpYy4gSXQgbWVhbnMgXCJwbGVhc2UgaW5jbHVkZSB0aGlzIHdob2xlIGZvbGRlciBpbiB0aGUgYnVuZGxlXCJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoXCIuLi8uLi9MZWdhY3lKUy9mdWxsXCIsIGZhbHNlLCAvKD88IVxcLm1vZClcXC5qcyQvKSk7XG5cblxuIiwiLyoqIE5vdGUgdGhhdCBUYWcgU3Vic2NyaXB0aW9ucyBleGlzdCBvbiB0aGUgaG9tZXBhZ2UgQU5EIG9uIHRoZSBVc2VyIFByZWZlcmVuY2VzIHBhZ2VzLCBhbmQgcG9zc2libHkgZWxzZXdoZXJlISAqL1xuZGVjbGFyZSB2YXIgZm9yVXNlcklkOiBudW1iZXI7XG5cblN0YWNrRXhjaGFuZ2UudGFnUHJlZmVyZW5jZXMgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgZW51bSBFZGl0TW9kZSB7XG4gICAgICAgIEZ1bGwsXG4gICAgICAgIFdhdGNoaW5nLFxuICAgICAgICBJZ25vcmVkLFxuICAgICAgICBOb25lXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZChzZWxlY3Rvcjogc3RyaW5nKTogSlF1ZXJ5IHtcbiAgICAgICAgcmV0dXJuICQoJy5qcy10YWctcHJlZmVyZW5jZXMtY29udGFpbmVyJykuZmluZChzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRNb2RlID0gRWRpdE1vZGUuTm9uZTtcbiAgICB2YXIgJGxhc3RFcnJvclBvcHVwOiBKUXVlcnkgfCBudWxsID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIHNob3dFZGl0b3IobW9kZTogRWRpdE1vZGUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSBFZGl0TW9kZS5GdWxsIHx8IGN1cnJlbnRNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50TW9kZSA9IGN1cnJlbnRNb2RlID09PSBFZGl0TW9kZS5Ob25lID8gbW9kZSA6IEVkaXRNb2RlLkZ1bGw7XG4gICAgICAgIHVwZGF0ZVZpc3VhbFN0YXRlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUVkaXRvcigpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSBFZGl0TW9kZS5Ob25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50TW9kZSA9IEVkaXRNb2RlLk5vbmU7XG4gICAgICAgIHVwZGF0ZVZpc3VhbFN0YXRlKCk7XG4gICAgICAgIGhpZGVFcnJvclBvcHVwKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUVycm9yUG9wdXAoKSB7XG4gICAgICAgIGlmICgkbGFzdEVycm9yUG9wdXApIHtcbiAgICAgICAgICAgICRsYXN0RXJyb3JQb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICRsYXN0RXJyb3JQb3B1cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVWaXN1YWxTdGF0ZSgpIHtcblxuICAgICAgICBmdW5jdGlvbiBzaG93SWZmKHNlbGVjdG9yOiBzdHJpbmcsIGNvbmRpdGlvbjogYm9vbGVhbikge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIGZpbmQoc2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluZChzZWxlY3RvcikuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWRpdGluZ0FsbCA9IGN1cnJlbnRNb2RlID09IEVkaXRNb2RlLkZ1bGw7XG4gICAgICAgIGNvbnN0IGVkaXRpbmdXYXRjaGVkID0gZWRpdGluZ0FsbCB8fCBjdXJyZW50TW9kZSA9PSBFZGl0TW9kZS5XYXRjaGluZztcbiAgICAgICAgY29uc3QgZWRpdGluZ0lnbm9yZWQgPSBlZGl0aW5nQWxsIHx8IGN1cnJlbnRNb2RlID09IEVkaXRNb2RlLklnbm9yZWQ7XG5cbiAgICAgICAgY29uc3QgaGFzV2F0Y2hlZFRhZ3MgPSBmaW5kKCcuanMtd2F0Y2hlZC10YWctbGlzdCAucG9zdC10YWcnKS5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCBoYXNJZ25vcmVkVGFncyA9IGZpbmQoJy5qcy1pZ25vcmVkLXRhZy1saXN0IC5wb3N0LXRhZycpLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgLy8gT25seSBzaG93IHRoZSBsaXN0cyBpZiB0aGV5IGhhdmUgY29udGVudFxuICAgICAgICBzaG93SWZmKCcuanMtd2F0Y2hlZC10YWctbGlzdCcsIGhhc1dhdGNoZWRUYWdzKTtcbiAgICAgICAgc2hvd0lmZignLmpzLWlnbm9yZWQtdGFnLWxpc3QnLCBoYXNJZ25vcmVkVGFncyk7XG5cbiAgICAgICAgLy8gU2hvdyBvciBoaWRlIGVkaXRpbmcgZWxlbWVudHNcblxuICAgICAgICBpZiAoZWRpdGluZ1dhdGNoZWQpIHtcbiAgICAgICAgICAgIGFkZERlbGV0ZUJ1dHRvbnMoJy5qcy13YXRjaGVkLXRhZy1saXN0Jyk7XG5cbiAgICAgICAgICAgIGluc2VydEZvcm1JZk1pc3NpbmcoJy5qcy1hZGQtd2F0Y2hlZC1jb250YWluZXInLCBcImpzLWFkZC13YXRjaGVkLWxhYmVsXCIsICgkaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVUYWdzKCcuanMtaWdub3JlZC10YWctbGlzdCcsICRpbnB1dCk7XG4gICAgICAgICAgICAgICAgc2F2ZVRhZ3MoJGlucHV0LCAnLmpzLXdhdGNoZWQtdGFnLWxpc3QnLCAyMCwgdHJ1ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmaW5kKCcuanMtd2F0Y2hlZC10YWctbGlzdC5qcy1oYXMtc3Vic2NyaXB0aW9ucycpLmFkZENsYXNzKCdmZC1jb2x1bW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmQoJy5qcy1hZGQtd2F0Y2hlZC1jb250YWluZXIgZm9ybSwgLmpzLXdhdGNoZWQtdGFnLWxpc3QgLmRlbGV0ZS10YWcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGZpbmQoJy5qcy13YXRjaGVkLXRhZy1saXN0LmpzLWhhcy1zdWJzY3JpcHRpb25zJykucmVtb3ZlQ2xhc3MoJ2ZkLWNvbHVtbicpO1xuICAgICAgICAgICAgZmluZCgnLmpzLXdhdGNoZWQtdGFnLWxpc3QgLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVkaXRpbmdJZ25vcmVkKSB7XG4gICAgICAgICAgICBzaG93SWdub3JlZFRhZ3MoKTtcbiAgICAgICAgICAgIGFkZERlbGV0ZUJ1dHRvbnMoJy5qcy1pZ25vcmVkLXRhZy1saXN0Jyk7XG5cbiAgICAgICAgICAgIGluc2VydEZvcm1JZk1pc3NpbmcoJy5qcy1hZGQtaWdub3JlZC1jb250YWluZXInLCBcImpzLWFkZC1pZ25vcmVkLWxhYmVsXCIsICgkaW5wdXQpID0+IHtcbiAgICAgICAgICAgICAgICBzaG93UmVtYWluaW5nSWdub3JlZCgpO1xuICAgICAgICAgICAgICAgIHJlbW92ZVRhZ3MoJy5qcy13YXRjaGVkLXRhZy1saXN0JywgJGlucHV0KTtcbiAgICAgICAgICAgICAgICBzYXZlVGFncygkaW5wdXQsICcuanMtaWdub3JlZC10YWctbGlzdCcsIDI1LCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmQoJy5qcy1hZGQtaWdub3JlZC1jb250YWluZXIgZm9ybSwgLmpzLWlnbm9yZWQtdGFnLWxpc3QgLmRlbGV0ZS10YWcnKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgcmVsZXZhbnQgXCJlZGl0XCIgcHJvbXB0cyB3aGVuIG5vdCBlZGl0aW5nLlxuICAgICAgICBzaG93SWZmKCcuanMtZWRpdC1hbGwtdGFncycsICFlZGl0aW5nQWxsKTtcblxuICAgICAgICBzaG93SWZmKCcuanMtZWRpdC13YXRjaGVkLXRhZ3MnLCAoIWVkaXRpbmdXYXRjaGVkICYmIGhhc1dhdGNoZWRUYWdzKSk7XG4gICAgICAgIHNob3dJZmYoJy5qcy1zaG93LWFkZC13YXRjaGVkLCAuanMtc2hvdy1hZGQtd2F0Y2hlZC1jb250YWluZXInLCAhZWRpdGluZ1dhdGNoZWQgJiYgIWhhc1dhdGNoZWRUYWdzKTtcblxuICAgICAgICBzaG93SWZmKCcuanMtZWRpdC1pZ25vcmVkLXRhZ3MnLCAhZWRpdGluZ0lnbm9yZWQgJiYgaGFzSWdub3JlZFRhZ3MpO1xuICAgICAgICBzaG93SWZmKCcuanMtc2hvdy1hZGQtaWdub3JlZCwgLmpzLXNob3ctYWRkLWlnbm9yZWQtY29udGFpbmVyJywgIWVkaXRpbmdJZ25vcmVkICYmICFoYXNJZ25vcmVkVGFncyk7XG5cbiAgICAgICAgc2hvd0lmZignLmpzLWZ1bGwtZWRpdC12aXNpYmxlJywgZWRpdGluZ0FsbCk7XG4gICAgICAgIHNob3dJZmYoJy5qcy13YXRjaGVkLWVkaXQtdmlzaWJsZScsIGVkaXRpbmdXYXRjaGVkKTtcbiAgICAgICAgc2hvd0lmZignLmpzLWlnbm9yZWQtZWRpdC12aXNpYmxlJywgZWRpdGluZ0lnbm9yZWQpO1xuXG4gICAgICAgIGZpbmQoJy5wb3N0LXRhZycpLmFkZENsYXNzKCd1c2VyLXRhZycpO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCBoaWRlRWRpdG9yT25PdXRzaWRlQ2xpY2tzKTtcbiAgICAgICAgaWYgKGN1cnJlbnRNb2RlICE9IEVkaXRNb2RlLk5vbmUpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGhpZGVFZGl0b3JPbk91dHNpZGVDbGlja3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zZXJ0Rm9ybUlmTWlzc2luZyhpbnB1dENvbnRhaW5lclNlbGVjdG9yOiBzdHJpbmcsIGxhYmVsRWxlbWVudElkOiBzdHJpbmcsIGNhbGxiYWNrOiAoSlF1ZXJ5KSA9PiBhbnkpIHtcbiAgICAgICAgdmFyICRpbnB1dENvbnRhaW5lciA9IGZpbmQoaW5wdXRDb250YWluZXJTZWxlY3Rvcik7XG4gICAgICAgIGlmICgkaW5wdXRDb250YWluZXIuY2hpbGRyZW4oJ2Zvcm0nKS5sZW5ndGggPiAwKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciAkZm9ybSA9ICQoYFxuICAgICAgICAgICAgPGZvcm0gY2xhc3M9XCJtdDggZC1mbGV4XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmbGV4LS1pdGVtIGZsMSBtMCBtcm4xIHMtaW5wdXQgcy1pbnB1dF9fc20gYnJyMFwiIGFyaWEtbGFiZWxsZWRieT1cIiR7bGFiZWxFbGVtZW50SWR9XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJmbGV4LS1pdGVtIHMtYnRuIHMtYnRuX19maWxsZWQgYmxyMCBtMFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPmApO1xuICAgICAgICAkZm9ybS5maW5kKCdidXR0b24nKS50ZXh0KF9zKFwiQWRkXCIpKVxuICAgICAgICB2YXIgJGlucHV0ID0gJGZvcm0uZmluZCgnaW5wdXRbdHlwZT10ZXh0XScpO1xuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoXCJ0YWdBdXRvY29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmluZFRhZ0ZpbHRlckF1dG9Db21wbGV0ZSgkaW5wdXQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCRpbnB1dCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbnB1dENvbnRhaW5lci5hcHBlbmQoJGZvcm0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZERlbGV0ZUJ1dHRvbnMobGlzdFNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgICAgICAgZmluZChsaXN0U2VsZWN0b3IpLmZpbmQoJy5wb3N0LXRhZycpLmVhY2goZnVuY3Rpb24gKHRoaXM6IEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciAkdGFnID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGlmICgkdGFnLmNoaWxkcmVuKCcuZGVsZXRlLXRhZycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQoJzxzcGFuPicpLmFkZENsYXNzKCdkZWxldGUtdGFnJykuYXR0cigndGl0bGUnLCBfcygnUmVtb3ZlIHRhZycpKS5hcHBlbmRUbygkdGFnKS5jbGljaygoZSkgPT4geyByZW1vdmVUYWdQcmVmZXJlbmNlKCR0YWcpOyBlLnByZXZlbnREZWZhdWx0KCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZVRhZ1ByZWZlcmVuY2UoJHRhZzogSlF1ZXJ5KSB7XG5cbiAgICAgICAgdmFyICR3cmFwcGVyID0gJHRhZy5jbG9zZXN0KCcuanMtdGFnJyk7XG4gICAgICAgIHZhciAkbGlzdCA9ICR0YWcuY2xvc2VzdCgnLmpzLWlnbm9yZWQtdGFnLWxpc3QsIC5qcy13YXRjaGVkLXRhZy1saXN0Jyk7XG5cbiAgICAgICAgaWYgKCRsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHdyYXBwZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgbGV0IHByZWZlcmVuY2VJZCA9ICRsaXN0LmlzKCcuanMtaWdub3JlZC10YWctbGlzdCcpID8gMjUgOiAyMDtcbiAgICAgICAgbGV0IHByZWZlcmVuY2VWYWx1ZSA9IGdldFRhZ05hbWVzRnJvbUNvbnRhaW5lcigkbGlzdCkuam9pbihcIiBcIik7XG5cbiAgICAgICAgc2F2ZVByZWZlcmVuY2UocHJlZmVyZW5jZUlkLCBwcmVmZXJlbmNlVmFsdWUpO1xuICAgICAgICBhcHBseVByZWZzKCk7XG4gICAgICAgIHVwZGF0ZVZpc3VhbFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSBqdXN0IG9uZSBlZGl0IGJ1dHRvbiwgd2Ugb25seSB3YW50IGhpZGUgaXQgd2hlbiBzaG93aW5nIGV2ZXJ5dGhpbmcuXG4gICAgZnVuY3Rpb24gaGFzU2luZ2xlRWRpdEJ1dHRvbigpIHtcbiAgICAgICAgcmV0dXJuIGZpbmQoJy5qcy1lZGl0LWlnbm9yZWQtdGFncycpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cblxuICAgIC8vIEluIHNvbWUgY2FzZXMsIHRoZSBpZ25vcmVkIHNlY3Rpb24gbWF5IGluaXRpYWxseSBiZSBoaWRkZW4uICBJdCBuZXZlciByZXR1cm5zIHRvIHRoaXMgc3RhdGUuXG4gICAgZnVuY3Rpb24gc2hvd0lnbm9yZWRUYWdzKCkge1xuICAgICAgICBmaW5kKCcuanMtaWdub3JlZC1zZWN0aW9uJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHNob3dSZW1haW5pbmdJZ25vcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiLmpzLXNob3ctcmVtYWluaW5nLWlnbm9yZWRcIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XG4gICAgICAgICQoXCIuanMtaWdub3JlZC10YWctbGlzdCAuanMtdGFnXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xuICAgIH07XG5cbiAgICBsZXQgcHJldmlvdXNseURvbnRBcHBseTogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIHNlZSBhbHNvOiBTdGFja092ZXJmbG93LkNvbW1vbiA+IFRhZ3MuY3MgPiBSZW5kZXJKUXVlcnlIaWdobGlnaHRTZWxlY3RvckhlbHBlckNsYXNzXG4gICAgZnVuY3Rpb24gZ2V0U2luZ2xlVGFnU2VsZWN0b3IodGFnbmFtZSkge1xuICAgICAgICAvLyBjc3MgY2xhc3MgbmFtZXMgY2FuIGNvbnRhaW4gdW5pY29kZSwgYnV0IG5vdCByYXc6IC4gIyArXG4gICAgICAgIHRhZ25hbWUgPSB0YWduYW1lLnJlcGxhY2UoLyMvZywgXCLDsVwiKS5yZXBsYWNlKC9cXCsvZywgXCLDp1wiKS5yZXBsYWNlKC9cXC4vZywgXCLDu1wiKTtcbiAgICAgICAgaWYgKC9cXCovLnRlc3QodGFnbmFtZSkpIHtcbiAgICAgICAgICAgIGlmICh0YWduYW1lLmluZGV4T2YoJyonKSA9PSAodGFnbmFtZS5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIC8vIG9wdGltaXplZCBzdGFydHMtd2l0aFxuICAgICAgICAgICAgICAgIC8vIHRhZyogPiBbY2xhc3MqPScgdC10YWcnXVxuICAgICAgICAgICAgICAgIHJldHVybiBcIltjbGFzcyo9JyB0LVwiICsgdGFnbmFtZS5zdWJzdHIoMCwgdGFnbmFtZS5sZW5ndGggLSAxKSArIFwiJ11cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdlbmVyaWMgcmVnZXggc29sdXRpb25cbiAgICAgICAgICAgIC8vIHQqbmFtZSA+IDpyZWdleChjbGFzcywgdC10W15cXHNdKm5hbWUpXG4gICAgICAgICAgICByZXR1cm4gXCI6cmVnZXgoY2xhc3MsIHQtXCIgKyB0YWduYW1lLnJlcGxhY2UoL1xcKi9nLCBcIlteXFxzXSpcIikgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGV4YWN0IGNsYXNzIG1hdGNoXG4gICAgICAgICAgICAvLyB0YWduYW1lID4gLnQtdGFnbmFtZVxuICAgICAgICAgICAgcmV0dXJuIFwiLnQtXCIgKyB0YWduYW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VGFnc1NlbGVjdG9yID0gZnVuY3Rpb24gKGpQcmVmcywgZG9udEFmZmVjdCkge1xuICAgICAgICByZXR1cm4galByZWZzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpLCBlbGVtKSB7IHJldHVybiAkKGVsZW0pLnRleHQoKTsgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGksIHByZWZUYWcpIHsgLy8gb25seSBhcHBseSB0aG9zZSBwcmVmZXJlbmNlcyB0aGF0IGRvbid0IG1hdGNoIGFueSBvZiB0aGUgbm90LWFmZmVjdGVkIHRhZ3NcblxuICAgICAgICAgICAgICAgIGlmICghZG9udEFmZmVjdCkgLy8gbm90aGluZyB0byBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJlZlRhZ1JlZ2V4O1xuICAgICAgICAgICAgICAgIGlmICgvXFwqLy50ZXN0KHByZWZUYWcpKVxuICAgICAgICAgICAgICAgICAgICBwcmVmVGFnUmVnZXggPSBuZXcgUmVnRXhwKHByZWZUYWcucmVwbGFjZSgvKFsuK10pL2csIFwiXFxcXCQxXCIpLnJlcGxhY2UoL1xcKi9nLCBcIi4qXCIpKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9udEFmZmVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdW5hZmZlY3RlZFRhZyA9IGRvbnRBZmZlY3RbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZWZlcmVuY2UgaXMgcHJlY2lzZWx5IHRoZSB1bmFmZmVjdGVkIHRhZyAoZS5nLiB1c2VyIGlzIGlnbm9yaW5nIFtpcGhvbmVdLCBidXQgaGFzIHNlYXJjaGVkIGZvciBbaXBob25lXSkuIERvbid0IGFwcGx5LlxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZlRhZyA9PT0gdW5hZmZlY3RlZFRhZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSdzIGEgd2lsZGNhcmQsIGFuZCB0aGUgcHJlZmVyZW5jZSBtYXRjaGVzIHRoZSB1bmFmZmVjdGVkIHRhZyAoZS5nLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBpcyBpZ25vcmluZyBbanF1ZXJ5Kl0sIGJ1dCBoYXMgc2VhcmNoZWQgZm9yIFtqcXVlcnktdWldKS4gRG9uJ3QgYXBwbHkuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVmVGFnUmVnZXggJiYgcHJlZlRhZ1JlZ2V4LnRlc3QodW5hZmZlY3RlZFRhZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGZvdW5kIG5vIHJlYXNvbiBub3QgdG8gYXBwbHkgdGhlIHByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpLCB0ZXh0KSB7IHJldHVybiBnZXRTaW5nbGVUYWdTZWxlY3Rvcih0ZXh0KTsgfSlcbiAgICAgICAgICAgIC5nZXQoKS5qb2luKFwiLFwiKTtcbiAgICB9XG5cbiAgICBsZXQgc2F2ZVByZWZlcmVuY2VGb3JVc2VySWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGZ1bmN0aW9uIHNhdmVQcmVmZXJlbmNlKHByZWZJZDogbnVtYmVyLCB2YWx1ZTogYW55LCBjYWxsYmFjaz86ICgobzogYW55KSA9PiB2b2lkKSwgcmVuZGVyPzogYm9vbGVhbik6IEpRdWVyeVhIUiB7XG4gICAgICAgIHZhciB1aWQ6IHN0cmluZyA9ICcnO1xuICAgICAgICBpZiAodHlwZW9mIHNhdmVQcmVmZXJlbmNlRm9yVXNlcklkICE9ICd1bmRlZmluZWQnKSB7IC8vIG1vZGVyYXRvcnMgd2lsbCBoYXZlIHRoaXMgdmFyaWFibGUgc2V0XG4gICAgICAgICAgICB1aWQgPSBTdHJpbmcoc2F2ZVByZWZlcmVuY2VGb3JVc2VySWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFyZ3M6IGFueSA9IHsgXCJma2V5XCI6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXksIFwia2V5XCI6IHByZWZJZCwgXCJ2YWx1ZVwiOiB2YWx1ZSwgXCJmb3JVc2VySWRcIjogdWlkIH07XG4gICAgICAgIGlmIChyZW5kZXIpIGFyZ3MucmVuZGVyID0gMTtcbiAgICAgICAgcmV0dXJuICQucG9zdChcIi91c2Vycy9zYXZlLXByZWZlcmVuY2VcIiwgYXJncywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciByZWdpc3RlcmVkVGVtcGxhdGVQb3N0VGFnczogeyBbaWQ6IHN0cmluZ106IEpRdWVyeSB9ID0ge307XG5cbiAgICBmdW5jdGlvbiByZWdpc3RlclRlbXBsYXRlUG9zdFRhZygkcG9zdFRhZ3M6IEpRdWVyeSkge1xuICAgICAgICAkcG9zdFRhZ3MuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgIHZhciAkcG9zdFRhZyA9ICQoZWwpO1xuICAgICAgICAgICAgaWYgKCRwb3N0VGFnLmlzKCcucG9zdC10YWcnKSkge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWRUZW1wbGF0ZVBvc3RUYWdzWyRwb3N0VGFnLnRleHQoKV0gPSAkcG9zdFRhZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBzYXZlVGFncyA9IGZ1bmN0aW9uICh0YWdTZWxlY3Rvcjogc3RyaW5nIHwgSlF1ZXJ5LCBzcGFuU2VsZWN0b3I6IHN0cmluZyB8IEpRdWVyeSwgcHJlZmVyZW5jZUlkOiBudW1iZXIsIGZvY3VzOiBib29sZWFuID0gZmFsc2UsIGNsaWVudE9ubHk6IGJvb2xlYW4gPSBmYWxzZSwgcmVuZGVyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgbGV0ICRpbnB1dCA9ICQodGFnU2VsZWN0b3IpO1xuICAgICAgICBsZXQgJHNwYW4gPSAkKHNwYW5TZWxlY3Rvcik7XG4gICAgICAgIGxldCB0YWdzID0gJGlucHV0LnZhbCgpO1xuICAgICAgICAvLyB0YWdzU3BsaXQgPSBuZXdseSBhZGRlZCB0YWdzIGluIGFuIGFycmF5LCBlLmcuLCBbXCJDI1wiLCBcImh0bWxcIl1cbiAgICAgICAgbGV0IHRhZ3NTcGxpdCA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zYW5pdGl6ZUFuZFNwbGl0VGFncyh0YWdzLCAvKiBhbGxvd1dpbGRjYXJkcyA9ICovdHJ1ZSwgLyogYWxsb3dPcGVyYXRvcnMgPSAqL2ZhbHNlKTtcbiAgICAgICAgbGV0IGR1cGxpY2F0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGhpZGVFcnJvclBvcHVwKCk7XG5cbiAgICAgICAgZm9yIChsZXQgdGFnVG9DaGVjayBvZiB0YWdzU3BsaXQpIHtcbiAgICAgICAgICAgIGlmICgkLnRyaW0odGFnVG9DaGVjaykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSB0YWcgYWxyZWFkeSBleGlzdHMuLi5cbiAgICAgICAgICAgIGxldCBleGlzdGluZyA9ICRzcGFuLmZpbmQoJy5wb3N0LXRhZycpO1xuICAgICAgICAgICAgZXhpc3RpbmcuZWFjaChmdW5jdGlvbiAodGhpczogRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnRleHQoKSA9PSB0YWdUb0NoZWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZVRvKDUwMCwgMC4xKS5mYWRlVG8oNTAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyAuLi5hbmQgaWYgbm90LCBhZGQgaXQgdG8gdGhlIERPTVxuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5jb2RlZFRhZyA9IGVuY29kZVVSSUNvbXBvbmVudCh0YWdUb0NoZWNrKTtcblxuICAgICAgICAgICAgICAgIHZhciAkdGFnID0gJCgkc3Bhbi5maW5kKCcuanMtdGFnLXRlbXBsYXRlJykuaHRtbCgpKTtcblxuICAgICAgICAgICAgICAgIHZhciAkcG9zdFRhZ1RlbXBsYXRlID0gcmVnaXN0ZXJlZFRlbXBsYXRlUG9zdFRhZ3NbdGFnVG9DaGVja107XG4gICAgICAgICAgICAgICAgaWYgKCRwb3N0VGFnVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhZy5maW5kKCcucG9zdC10YWcnKS5yZXBsYWNlV2l0aCgkcG9zdFRhZ1RlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkdGFnLmZpbmQoJy5wb3N0LXRhZycpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLnJvdXRlUHJlZml4IHx8ICcnKSArICcvcXVlc3Rpb25zL3RhZ2dlZC8nICsgZW5jb2RlZFRhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfcyhcInNob3cgcXVlc3Rpb25zIHRhZ2dlZCAnJHRhZyQnXCIsIHsgdGFnOiB0YWdUb0NoZWNrIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KHRhZ1RvQ2hlY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL35cXCovLnRlc3QodGFnVG9DaGVjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhZy5maW5kKCcuanMtdGFnLWZyZXF1ZW5jeS1tZW51LXRvZ2dsZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciAkbmV4dFNpYmxpbmcgPSAkc3Bhbi5jaGlsZHJlbignLmpzLXRhZycpLmZpbHRlcihmdW5jdGlvbiAoXywgZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9ICQoZWwpLmZpbmQoJy5wb3N0LXRhZycpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZyAmJiB0YWdUb0NoZWNrLmxvY2FsZUNvbXBhcmUodGFnKSA8IDA7XG4gICAgICAgICAgICAgICAgfSkuZmlyc3QoKTtcblxuICAgICAgICAgICAgICAgIGlmICgkbmV4dFNpYmxpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAkdGFnLmluc2VydEJlZm9yZSgkbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzcGFuLmFwcGVuZCgkdGFnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGR1cGxpY2F0ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgJGlucHV0LnZhbChcIlwiKTtcbiAgICAgICAgaWYgKGZvY3VzKSAkaW5wdXQuZm9jdXMoKTtcblxuICAgICAgICB2YXIgYWxsVGFncyA9IGdldFRhZ05hbWVzRnJvbUNvbnRhaW5lcigkc3Bhbik7XG4gICAgICAgIHZhciBhbGxUYWdOYW1lcyA9IGFsbFRhZ3Muam9pbihcIiBcIik7XG5cbiAgICAgICAgaWYgKCFjbGllbnRPbmx5KSB7XG4gICAgICAgICAgICBzYXZlUHJlZmVyZW5jZShwcmVmZXJlbmNlSWQsIGFsbFRhZ05hbWVzLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgIGlmIChvICYmIHJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoby5odG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3Bhbi5maW5kKCcuanMtdGFnJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3Bhbi5hcHBlbmQoby5odG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5UHJlZnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpc3VhbFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcklmSW5wdXRWaXNpYmxlKCRpbnB1dCwgby5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZW5kZXIpLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcklmSW5wdXRWaXNpYmxlKCRpbnB1dCwgX3MoJ0FuIGVycm9yIG9jY3VycmVkOyBwbGVhc2UgdHJ5IGFnYWluJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlQcmVmcygpO1xuICAgICAgICB1cGRhdGVWaXN1YWxTdGF0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93RXJyb3JJZklucHV0VmlzaWJsZSA9IGZ1bmN0aW9uICgkaW5wdXQ6IEpRdWVyeSwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChjdXJyZW50TW9kZSAhPT0gRWRpdE1vZGUuTm9uZSAmJiAkaW5wdXQucGFyZW50cygnaHRtbCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICRsYXN0RXJyb3JQb3B1cCA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93RXJyb3JNZXNzYWdlKCRpbnB1dCwgbWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG15OiAndG9wIGxlZnQnLFxuICAgICAgICAgICAgICAgICAgICBhdDogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdDogMTBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdldFRhZ05hbWVzRnJvbUNvbnRhaW5lciA9IGZ1bmN0aW9uIChjb250YWluZXI6IEpRdWVyeSk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICBsZXQgbmV3VGFnVmFsdWUgPSBBcnJheTxzdHJpbmc+KCk7XG4gICAgICAgIGNvbnRhaW5lci5maW5kKFwiLnBvc3QtdGFnXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IHRhZ05hbWUgPSAkKHZhbHVlKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICBuZXdUYWdWYWx1ZS5wdXNoKHRhZ05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1RhZ1ZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IGhpZGVJZ25vcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmluZCgnLmpzLWhpZGUtaWdub3JlZCcpLmlzKCc6Y2hlY2tlZCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0lnbm9yZWQgPSBmdW5jdGlvbiAodGFnczogc3RyaW5nW10pIHtcbiAgICAgICAgaWYgKCFoaWRlSWdub3JlZCgpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciAkaWdub3JlZFRhZ3MgPSBmaW5kKCcuanMtaWdub3JlZC10YWctbGlzdCAucG9zdC10YWcnKTtcbiAgICAgICAgdmFyIGlnbm9yZWRTZWxlY3Rvcjogc3RyaW5nID0gZ2V0VGFnc1NlbGVjdG9yKCRpZ25vcmVkVGFncywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gdHJhbnNsYXRlIHJldHVybiB2YWx1ZSAoanF1ZXJ5IHNwZWNpZmljIHNlbGVjdG9ycykgb2YgZ2V0U2luZ2xlVGFnU2VsZWN0b3IgdG8gYSByZWdleCB3ZSBjYW4gdGVzdCBhZ2FpbnN0IGEgc3RyaW5nXG4gICAgICAgIHZhciBpZ25vcmVkVGFnRXhwcmVzc2lvbnM6IFJlZ0V4cFtdID0gaWdub3JlZFNlbGVjdG9yLnNwbGl0KC8sKD8hXFxzKS8pLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JTdGFydHNXaXRoID0gL15cXFtjbGFzc1xcKj0nIHQtKC4rPyknXFxdJC87XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvclJlZ2V4ID0gL146cmVnZXhcXChjbGFzcywgdC0oLis/KVxcKSQvO1xuXG4gICAgICAgICAgICBsZXQgcmVnZXhTdHI6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChzZWxlY3RvclN0YXJ0c1dpdGgudGVzdChzKSkge1xuICAgICAgICAgICAgICAgIC8vIFtjbGFzcyo9JyB0LXRhZyddID4gdGFnLipcbiAgICAgICAgICAgICAgICByZWdleFN0ciA9IHMubWF0Y2goc2VsZWN0b3JTdGFydHNXaXRoKVsxXSArICcuKic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RvclJlZ2V4LnRlc3QocykpIHtcbiAgICAgICAgICAgICAgICAvLyA6cmVnZXgoY2xhc3MsIHQtdC4qbmFtZSkgPiB0LipuYW1lXG4gICAgICAgICAgICAgICAgcmVnZXhTdHIgPSBzLm1hdGNoKHNlbGVjdG9yUmVnZXgpWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gLnQtdGFnbmFtZSA+IHRhZ25hbWVcbiAgICAgICAgICAgICAgICByZWdleFN0ciA9IHMucmVwbGFjZSgvXlxcLnQtLywgJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwdXQgdGhlIGNsYXNzTmFtZSByZXNlcnZlZCBjaGFyYWN0ZXJzIGJhY2ssIGJ1dCBlc2NhcGVkIHNvIHRoZXkgYXJlbid0IG1pc3Rha2VuIGZvciByZWdleCByZXNlcnZlZCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICByZWdleFN0ciA9IHJlZ2V4U3RyLnJlcGxhY2UoJ8OxJywgJyMnKS5yZXBsYWNlKCfDpycsIFN0cmluZy5yYXdgXFwrYCkucmVwbGFjZSgnw7snLCBTdHJpbmcucmF3YFxcLmApO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleFN0cik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpZ25vcmVkVGFnRXhwcmVzc2lvbnMubGVuZ3RoID4gMCAmJiB0YWdzLnNvbWUoKHQpID0+IGlnbm9yZWRUYWdFeHByZXNzaW9ucy5zb21lKChzKSA9PiBzLnRlc3QodCkpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gd2l0aFRpbWluZyhsYWJlbCwgY2FsbGJhY2ssIG1pbGxpcywgaW5mbykge1xuICAgICAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB2YXIgdGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgICAgICAgdmFyIGlzRGV2ID0gU3RhY2tFeGNoYW5nZS5vcHRpb25zICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyICYmIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmlzRGV2ZWxvcGVyO1xuICAgICAgICAgICAgaWYgKGlzRGV2IHx8ICh0aW1lID4gbWlsbGlzKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcXCcnICsgbGFiZWwgKyAnXFwnIHRvb2sgJyArIHRpbWUudG9TdHJpbmcoKSArICdtcycpO1xuICAgICAgICAgICAgICAgIGlmIChpc0RldiAmJiBpbmZvICYmICh0aW1lID4gbWlsbGlzKSkgY29uc29sZS5sb2coaW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSAvLyB0aW1pbmcgbm90IGF2YWlsYWJsZVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW51bSBBcHBseVN0YXRlIHtcbiAgICAgICAgSWdub3JlZCxcbiAgICAgICAgSGlkZGVuLFxuICAgICAgICBXYXRjaGVkLFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5VG9TdW1tYXJ5KHNlbGVjdG9yOiBzdHJpbmcsICRjb250YWluZXJFbDogSlF1ZXJ5LCBzdGF0ZTogQXBwbHlTdGF0ZSkge1xuICAgICAgICBjb25zdCBpc1N0YWNrc1Bvc3RTdW1tYXJ5ID0gJGNvbnRhaW5lckVsLmlzKCcuanMtcG9zdC1zdW1tYXJ5Jyk7XG4gICAgICAgIGxldCBjc3NDbGFzczogc3RyaW5nO1xuICAgICAgICBsZXQgdGFnQ2xhc3M6IHN0cmluZztcblxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIEFwcGx5U3RhdGUuSWdub3JlZDpcbiAgICAgICAgICAgICAgICBjc3NDbGFzcyA9IGlzU3RhY2tzUG9zdFN1bW1hcnkgPyAncy1wb3N0LXN1bW1hcnlfX2lnbm9yZWQnIDogJ3RhZ2dlZC1pZ25vcmVkJztcbiAgICAgICAgICAgICAgICB0YWdDbGFzcyA9IGlzU3RhY2tzUG9zdFN1bW1hcnkgPyAncy10YWdfX2lnbm9yZWQnIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXBwbHlTdGF0ZS5IaWRkZW46XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3MgPSBpc1N0YWNrc1Bvc3RTdW1tYXJ5ID8gJ2Qtbm9uZScgOiAndGFnZ2VkLWlnbm9yZWQtaGlkZGVuJztcbiAgICAgICAgICAgICAgICB0YWdDbGFzcyA9IGlzU3RhY2tzUG9zdFN1bW1hcnkgPyAncy10YWdfX2lnbm9yZWQnIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXBwbHlTdGF0ZS5XYXRjaGVkOlxuICAgICAgICAgICAgICAgIGNzc0NsYXNzID0gaXNTdGFja3NQb3N0U3VtbWFyeSA/ICdzLXBvc3Qtc3VtbWFyeV9fd2F0Y2hlZCcgOiAndGFnZ2VkLWludGVyZXN0aW5nJztcbiAgICAgICAgICAgICAgICB0YWdDbGFzcyA9IGlzU3RhY2tzUG9zdFN1bW1hcnkgPyAncy10YWdfX3dhdGNoZWQnIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgICRjb250YWluZXJFbC5hZGRDbGFzcyhjc3NDbGFzcyk7XG4gICAgICAgIGlmICh0YWdDbGFzcykge1xuICAgICAgICAgICAgLy8gc2VlOiBUYWcuUmVuZGVyTGlua1xuICAgICAgICAgICAgY29uc3QgdGFnU2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKC8oWy5cXHNdKXQtL2csICckMWpzLXRhZ25hbWUtJyk7XG4gICAgICAgICAgICAkY29udGFpbmVyRWwuZmluZCh0YWdTZWxlY3RvcikuYWRkQ2xhc3ModGFnQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlQcmVmcyhpc0luaXRpYWxMb2FkPzogYm9vbGVhbiwgZG9udEFmZmVjdD86IHN0cmluZ1tdLCBmb3JVc2VySWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgc2F2ZVByZWZlcmVuY2VGb3JVc2VySWQgPSBmb3JVc2VySWQ7XG5cbiAgICAgICAgLy8gc2F2ZSBvdXIgZG9udEFmZmVjdCBsaXN0XG4gICAgICAgIGlmIChkb250QWZmZWN0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbnRBZmZlY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNseURvbnRBcHBseS5pbmRleE9mKGRvbnRBZmZlY3RbaV0pID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzbHlEb250QXBwbHkucHVzaChkb250QWZmZWN0W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkb250QWZmZWN0ID0gcHJldmlvdXNseURvbnRBcHBseTtcblxuICAgICAgICB2YXIgJGlnbm9yZWRUYWdzID0gZmluZCgnLmpzLWlnbm9yZWQtdGFnLWxpc3QgLnBvc3QtdGFnJyk7XG4gICAgICAgIHZhciAkd2F0Y2hlZFRhZ3MgPSBmaW5kKCcuanMtd2F0Y2hlZC10YWctbGlzdCAucG9zdC10YWcnKTtcblxuICAgICAgICBpZiAoaXNJbml0aWFsTG9hZCAmJiAkaWdub3JlZFRhZ3MubGVuZ3RoID09IDAgJiYgJHdhdGNoZWRUYWdzLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc3VtbWFyeVNlbGVjdG9yID0gXCJkaXYucXVlc3Rpb24tc3VtbWFyeSwgLmpzLXBvc3Qtc3VtbWFyeVwiO1xuXG4gICAgICAgIC8vIHJlc2V0IGNsYXNzZXMuLlxuICAgICAgICAkKHN1bW1hcnlTZWxlY3RvcilcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInRhZ2dlZC1pZ25vcmVkIHRhZ2dlZC1pZ25vcmVkLWhpZGRlbiB0YWdnZWQtaW50ZXJlc3RpbmdcIilcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImQtbm9uZSBzLXBvc3Qtc3VtbWFyeV9faWdub3JlZCBzLXBvc3Qtc3VtbWFyeV9fd2F0Y2hlZFwiKTtcbiAgICAgICAgJCgnZGl2LnRhZ3MnKS5maW5kKFwiLnMtdGFnX19pZ25vcmVkLCAucy10YWdfX3dhdGNoZWRcIikucmVtb3ZlQ2xhc3MoXCIucy10YWdfX2lnbm9yZWQsIC5zLXRhZ19fd2F0Y2hlZFwiKTtcblxuICAgICAgICAvLyBjcmVhdGUgc2VsZWN0b3JzIGZvciBpbnRlcmVzdGluZy9pZ25vcmVkL2luZmVycmVkIHRhZ3MuLlxuICAgICAgICB2YXIgaWdub3JlZFNlbGVjdG9yID0gZ2V0VGFnc1NlbGVjdG9yKCRpZ25vcmVkVGFncywgZG9udEFmZmVjdCk7XG4gICAgICAgIHZhciBpbnRlcmVzdGVkU2VsZWN0b3IgPSBnZXRUYWdzU2VsZWN0b3IoJHdhdGNoZWRUYWdzLCBkb250QWZmZWN0KTtcblxuICAgICAgICBpZiAoaWdub3JlZFNlbGVjdG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBpZ25vcmVkQ2xhc3MgPSBoaWRlSWdub3JlZCgpID8gQXBwbHlTdGF0ZS5IaWRkZW4gOiBBcHBseVN0YXRlLklnbm9yZWQ7XG4gICAgICAgICAgICB3aXRoVGltaW5nKCdpZ25vcmVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoJ2Rpdi50YWdzJykuZmlsdGVyKGlnbm9yZWRTZWxlY3RvcikuY2xvc2VzdChzdW1tYXJ5U2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIGFwcGx5VG9TdW1tYXJ5KGlnbm9yZWRTZWxlY3RvciwgY29udGFpbmVyLCBpZ25vcmVkQ2xhc3MpO1xuICAgICAgICAgICAgfSwgMTUwMCwgaWdub3JlZFNlbGVjdG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcmVzdGVkU2VsZWN0b3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2l0aFRpbWluZygnaW50ZXJlc3RpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gJCgnZGl2LnRhZ3MnKS5maWx0ZXIoaW50ZXJlc3RlZFNlbGVjdG9yKS5jbG9zZXN0KHN1bW1hcnlTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgYXBwbHlUb1N1bW1hcnkoaW50ZXJlc3RlZFNlbGVjdG9yLCBjb250YWluZXIsIEFwcGx5U3RhdGUuV2F0Y2hlZCk7XG4gICAgICAgICAgICB9LCAxNTAwLCBpbnRlcmVzdGVkU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZVRhZ3MgPSBmdW5jdGlvbiAodGFnTGlzdFNlbGVjdG9yOiBzdHJpbmcsIGlucHV0U2VsZWN0b3I6IHN0cmluZyB8IEpRdWVyeSkge1xuICAgICAgICB2YXIgdGFncyA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zYW5pdGl6ZUFuZFNwbGl0VGFncygkKGlucHV0U2VsZWN0b3IpLnZhbCgpLCAvKiBhbGxvd1dpbGRjYXJkcyA9ICovdHJ1ZSwgLyogYWxsb3dPcGVyYXRvcnMgPSAqL2ZhbHNlKTtcbiAgICAgICAgZmluZCh0YWdMaXN0U2VsZWN0b3IpLmZpbmQoJy5qcy10YWcnKS5maWx0ZXIoZnVuY3Rpb24gKHRoaXM6IEVsZW1lbnQpIHsgcmV0dXJuIHRhZ3MuaW5kZXhPZigkKHRoaXMpLmRhdGEoJ3RhZy1uYW1lJykgfHwgJCh0aGlzKS5maW5kKCcucG9zdC10YWcnKS50ZXh0KCkpICE9PSAtMTsgfSkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlVmlzaWJsZVRhZ1ByZWZzID0gZnVuY3Rpb24gKHRhZ05hbWU6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcpIHtcblxuICAgICAgICB2YXIgaW5wdXQgPSAkKCc8aW5wdXQ+JykudmFsKHRhZ05hbWUpO1xuXG4gICAgICAgIGlmIChhY3Rpb24gPT0gJ2Zhdm9yaXRlJykge1xuICAgICAgICAgICAgcmVtb3ZlVGFncygnLmpzLWlnbm9yZWQtdGFnLWxpc3QnLCBpbnB1dCk7XG4gICAgICAgICAgICBzYXZlVGFncyhpbnB1dCwgJy5qcy13YXRjaGVkLXRhZy1saXN0JywgMjAsIGZhbHNlLCAvKiBjbGllbnRPbmx5ID0gKi90cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24gPT0gJ2lnbm9yZScpIHtcbiAgICAgICAgICAgIHJlbW92ZVRhZ3MoJy5qcy13YXRjaGVkLXRhZy1saXN0JywgaW5wdXQpO1xuICAgICAgICAgICAgc2hvd0lnbm9yZWRUYWdzKCk7XG4gICAgICAgICAgICBzaG93UmVtYWluaW5nSWdub3JlZCgpO1xuICAgICAgICAgICAgc2F2ZVRhZ3MoaW5wdXQsICcuanMtaWdub3JlZC10YWctbGlzdCcsIDI1LCBmYWxzZSwgLyogY2xpZW50T25seSA9ICovdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uID09ICdjbGVhcicpIHtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5oaWRlVG9hc3RzKCk7XG4gICAgICAgICAgICByZW1vdmVUYWdzKCcuanMtd2F0Y2hlZC10YWctbGlzdCwgLmpzLWlnbm9yZWQtdGFnLWxpc3QnLCBpbnB1dCk7XG4gICAgICAgICAgICBhcHBseVByZWZzKCk7XG4gICAgICAgICAgICB1cGRhdGVWaXN1YWxTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGhpZGVFZGl0b3JPbk91dHNpZGVDbGlja3MoZXZ0OiBKUXVlcnlFdmVudE9iamVjdCkge1xuXG4gICAgICAgIGlmICghJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGV2dC50YXJnZXQpIHx8XG4gICAgICAgICAgICAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJy5qcy10YWctcHJlZmVyZW5jZXMtY29udGFpbmVyLCAuanMtZWRpdC1pbnRlcmVzdGluZywgLnMtbW9kYWwsIC5tZXNzYWdlJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlkZUVkaXRvcigpO1xuICAgIH1cblxuICAgIGNvbnN0IGluaXRUYWdGb3JtSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gJChcIi5qcy10YWctcHJlZmVyZW5jZXMtY29udGFpbmVyXCIpO1xuICAgICAgICAkY29udGFpbmVyLm9uKCdjbGljaycsICcuanMtc2hvdy1hZGQtaWdub3JlZCwgLmpzLWVkaXQtaWdub3JlZC10YWdzJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNob3dFZGl0b3IoRWRpdE1vZGUuSWdub3JlZCk7XG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5qcy1hZGQtaWdub3JlZC1jb250YWluZXIgaW5wdXRbdHlwZT10ZXh0XScpLmZvY3VzKClcbiAgICAgICAgfSk7XG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrJywgJy5qcy1zaG93LWFkZC13YXRjaGVkLCAuanMtZWRpdC13YXRjaGVkLXRhZ3MnLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2hvd0VkaXRvcihFZGl0TW9kZS5XYXRjaGluZyk7XG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5qcy1hZGQtd2F0Y2hlZC1jb250YWluZXIgaW5wdXRbdHlwZT10ZXh0XScpLmZvY3VzKClcbiAgICAgICAgfSk7XG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrJywgJy5qcy1lZGl0LWFsbC10YWdzJywgKGUpID0+IHsgc2hvd0VkaXRvcihFZGl0TW9kZS5GdWxsKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2snLCAnLmpzLXNob3ctcmVtYWluaW5nLWlnbm9yZWQnLCAoKSA9PiBzaG93UmVtYWluaW5nSWdub3JlZCgpKTtcbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2snLCAnLmpzLWhpZGUtaWdub3JlZCwgLmpzLWRpbS1pZ25vcmVkJywgKCkgPT4geyBzYXZlUHJlZmVyZW5jZSgzMCwgaGlkZUlnbm9yZWQoKSk7IGFwcGx5UHJlZnMoKTsgfSk7XG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrJywgJy5qcy1oaWRlLWVkaXRvcicsICgpID0+IGhpZGVFZGl0b3IoKSk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2snLCAnLmpzLXRhZy1mcmVxdWVuY3ktbWVudS10b2dnbGUnLCBmdW5jdGlvbiAodGhpczogRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKHRoaXMpO1xuICAgICAgICAgICAgJGJ1dHRvbi5maW5kKCcuZHJvcGRvd24nKS50b2dnbGVDbGFzcyhcImQtbm9uZVwiKS5maW5kKCdhJykuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgJGVsID0gJChlbCk7XG4gICAgICAgICAgICAgICAgaWYgKCRlbC5kYXRhKCdmcmVxdWVuY3knKSA9PT0gJGJ1dHRvbi5maW5kKCcuanMtdGFnLWZyZXF1ZW5jeS1sYWJlbCcpLmRhdGEoJ2ZyZXF1ZW5jeScpKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrJywgJy5kcm9wZG93biBhJywgZnVuY3Rpb24gKHRoaXM6IEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICBsZXQgdGFnTmFtZSA9ICR0aGlzLmNsb3Nlc3QoJy5qcy10YWcnKS5maW5kKCcucG9zdC10YWcnKS50ZXh0KCk7XG4gICAgICAgICAgICBsZXQgZnJlcXVlbmN5ID0gJHRoaXMuZGF0YSgnZnJlcXVlbmN5Jyk7XG5cbiAgICAgICAgICAgIGlmICh0YWdOYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBjaGFuZ2VTdWJzY3JpcHRpb25GcmVxdWVuY3kodGFnTmFtZSwgZnJlcXVlbmN5LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmNsb3Nlc3QoJy5kcm9wZG93bicpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyB0aGVzZSBhcmUgPGE+IGFuZCBzaG91bGRuJ3QgYWZmZWN0IG5hdmlnYXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZHJvcGRvd25Ob3RUb0hpZGUgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJy5qcy10YWctZnJlcXVlbmN5LW1lbnUtdG9nZ2xlJykuZmluZCgnLmRyb3Bkb3duJykuZ2V0KDApO1xuICAgICAgICAgICAgZmluZCgnLmRyb3Bkb3duJykuZmlsdGVyKChfLCBlbCkgPT4gZWwgIT0gZHJvcGRvd25Ob3RUb0hpZGUpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5qcy1lZGl0LWludGVyZXN0aW5nXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3dFZGl0b3IoRWRpdE1vZGUuV2F0Y2hpbmcpO1xuICAgICAgICAgICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICRjb250YWluZXIub2Zmc2V0KCkudG9wIH0sIDQwMCwgKCkgPT4gJGNvbnRhaW5lci5maW5kKCcuanMtYWRkLXdhdGNoZWQtY29udGFpbmVyIGlucHV0W3R5cGU9dGV4dF0nKS5mb2N1cygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0YWNrRXhjaGFuZ2UudGFnbWVudS5pbml0KCk7XG4gICAgICAgIGJpbmRUYWdFbWJlZENsaWNrcygpO1xuICAgICAgICBpbml0VGFnRm9ybUhhbmRsZXJzKCk7XG4gICAgICAgIHVwZGF0ZVZpc3VhbFN0YXRlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoYW5nZVN1YnNjcmlwdGlvbkZyZXF1ZW5jeSA9IGZ1bmN0aW9uICh0YWdOYW1lOiBzdHJpbmcsIGZyZXF1ZW5jeTogU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkLCBjYWxsYmFjaz86IChkYXRhOiBhbnksIHRleHRTdGF0dXM6IHN0cmluZywganFYSFI6IEpRdWVyeVhIUikgPT4gYW55KSB7XG4gICAgICAgIHZhciB1aWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGZvclVzZXJJZCAhPSAndW5kZWZpbmVkJykgeyAvLyBtb2RlcmF0b3JzIHdpbGwgaGF2ZSB0aGlzIHZhcmlhYmxlIHNldFxuICAgICAgICAgICAgdWlkID0gU3RyaW5nKGZvclVzZXJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJnczogYW55ID0geyBcImZrZXlcIjogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSwgXCJ0YWdOYW1lXCI6IHRhZ05hbWUsIFwibm90aWZpY2F0aW9uRnJlcXVlbmN5SWRcIjogZnJlcXVlbmN5LCBcImZvclVzZXJJZFwiOiB1aWQgfTtcbiAgICAgICAgJC5wb3N0KFwiL3VzZXJzL3RhZ3Mvc3Vic2NyaWJlXCIsIGFyZ3MsIGZ1bmN0aW9uIChyZXN1bHQsIHRleHRTdGF0dXMsIGpxWEhSKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgZmluZCgnLmpzLXdhdGNoZWQtdGFnLWxpc3QuanMtaGFzLXN1YnNjcmlwdGlvbnMgLmpzLXRhZycpLmVhY2goZnVuY3Rpb24gKHRoaXM6IEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0YWcgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHRhZy5maW5kKCcucG9zdC10YWcnKS50ZXh0KCkgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWcuZmluZCgnLmpzLXRhZy1mcmVxdWVuY3ktbGFiZWwnKS50ZXh0KGxhYmVsRm9yRnJlcXVlbmN5KGZyZXF1ZW5jeSkpLmRhdGEoJ2ZyZXF1ZW5jeScsIGZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0LCB0ZXh0U3RhdHVzLCBqcVhIUik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSByZXNwb25zZS5yZXNwb25zZUpTT04uRXJyb3JNZXNzYWdlID8/IHJlc3BvbnNlLnJlc3BvbnNlSlNPTjtcbiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3QoXCJFcnJvciB1cGRhdGluZyBub3RpZmljYXRpb24gZnJlcXVlbmN5OiBcIiArIGVycm9yLCB7IHR5cGU6IFwiZGFuZ2VyXCIgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsRm9yRnJlcXVlbmN5ID0gZnVuY3Rpb24gKGZyZXF1ZW5jeTogU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkKTogc3RyaW5nIHtcbiAgICAgICAgLyoqIFRoaXMgaXMgbWlycm9yZWQgaW4gVGFnU2V0Um93LmNzID0+IExhYmVsRm9yTm90aWZpY2F0aW9uRnJlcXVlbmN5ICovXG4gICAgICAgIHN3aXRjaCAoZnJlcXVlbmN5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLk5vdGlmaWNhdGlvbkZyZXF1ZW5jeVR5cGVJZC5Ob25lOlxuICAgICAgICAgICAgICAgIHJldHVybiBfcyhcIk5ldmVyXCIpO1xuICAgICAgICAgICAgY2FzZSBTdGFja092ZXJmbG93Lk1vZGVscy5Ob3RpZmljYXRpb25GcmVxdWVuY3lUeXBlSWQuRGFpbHk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zKFwiRGFpbHlcIik7XG4gICAgICAgICAgICBjYXNlIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLk5vdGlmaWNhdGlvbkZyZXF1ZW5jeVR5cGVJZC5GaWZ0ZWVuTWludXRlczpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3MoXCJBcyBzb29uIGFzIHBvc3NpYmxlXCIpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3MoXCJVbmtub3duXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0RW1iZWRkZWRUYWdQcmVmcyA9IGZ1bmN0aW9uICgkZW1iZWQ6IEpRdWVyeSwgYWN0aW9uOiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCB0YWdOYW1lID0gJGVtYmVkLmRhdGEoJ3RhZy1uYW1lJyk7XG4gICAgICAgIGNvbnN0IHNsdWcgPSAkZW1iZWQuZGF0YSgnc2x1ZycpLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGludGVyZXN0aW5nIHRhZ3MgKGNsaWVudCBzaWRlKVxuICAgICAgICByZWdpc3RlclRlbXBsYXRlUG9zdFRhZygkZW1iZWQuZmluZCgnLmpzLXRlbXBsYXRlcyAucG9zdC10YWcnKSk7XG4gICAgICAgIHVwZGF0ZVZpc2libGVUYWdQcmVmcyh0YWdOYW1lLCBhY3Rpb24pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB1cGRhdGUgZmF2b3JpdGVzIChzZXJ2ZXIgc2lkZSlcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogJy90YWdzLycgKyBlbmNvZGVVUklDb21wb25lbnQoc2x1ZykgKyAnL3ByZWZzJyxcbiAgICAgICAgICAgIGRhdGE6IHsgJ2FjdGlvbic6IGFjdGlvbiwgJ2ZrZXknOiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5IH0sXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICQoJy5qcy1lbWJlZGRlZC10YWctcHJlZmVyZW5jZXMnKS5lYWNoKChfLCBlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZW1iZWQgPSAkKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGVtYmVkLmRhdGEoJ3NsdWcnKT8udG9TdHJpbmcoKSA9PT0gc2x1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGV4aXN0aW5nIGVtYmVkIG1heSBoYXZlIGFkZGl0aW9uYWwgY2xhc3NlcyBmcm9tIHRoZSBDU0hUTUwuIENvcHkgdGhlbSBvdmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRuZXdFbWJlZCA9ICQoJycgKyByZXN1bHQpLmFkZENsYXNzKGVsZW0uY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdFbWJlZC5maW5kKCcuanMtdGFnLWZyZXF1ZW5jeS1wb3B1cCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVtYmVkLnJlcGxhY2VXaXRoKCRuZXdFbWJlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzaG93V2F0Y2hpbmdUb2FzdCh0YWdOYW1lLCByZXN1bHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkZW1iZWQuZmluZCgnLmlzLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1dhdGNoaW5nVG9hc3QgPSBmdW5jdGlvbiAodGFnTmFtZTogc3RyaW5nLCByZXN1bHQ6IHN0cmluZykge1xuICAgICAgICB2YXIgJHJlc3VsdCA9ICQoJycgKyByZXN1bHQpLFxuICAgICAgICAgICAgJGZyZXF1ZW5jeVBvcHVwID0gJHJlc3VsdC5maW5kKCcuanMtdGFnLWZyZXF1ZW5jeS1wb3B1cCcpLnJlbW92ZSgpLFxuICAgICAgICAgICAgbmV3RnJlcXVlbmN5ID0gJHJlc3VsdC5kYXRhKCduZXctZnJlcXVlbmN5Jyk7XG5cbiAgICAgICAgaWYgKCRmcmVxdWVuY3lQb3B1cC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbFRhZyA9ICQoXCJzcGFuLmpzLWNoYW5uZWx0YWctXCIgKyB0YWdOYW1lKS5jbG9uZSgpO1xuICAgICAgICAgICAgY2hhbm5lbFRhZ1swXS5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xuICAgICAgICAgICAgdmFyIHdhdGNoaW5nTWVzc2FnZSA9IF9tKCdZb3VcXCdyZSBub3cgd2F0Y2hpbmcgJHRhZyQuJywgeyB0YWc6IGNoYW5uZWxUYWdbMF0ub3V0ZXJIVE1MIH0pO1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdCh3YXRjaGluZ01lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICByb2xlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICB1c2VSYXdIdG1sOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDb250ZW50czogXCI8c3BhbiBjbGFzcz0ndGQtdW5kZXJsaW5lJz5NYW5hZ2Ugbm90aWZpY2F0aW9uIGZyZXF1ZW5jeTwvc3Bhbj5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiBzaG93RnJlcXVlbmN5UG9wdXAodGFnTmFtZSwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93RnJlcXVlbmN5VG9hc3QodGFnTmFtZSwgbmV3RnJlcXVlbmN5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNob3dGcmVxdWVuY3lQb3B1cCA9IGZ1bmN0aW9uICh0YWdOYW1lOiBzdHJpbmcsIHJlc3VsdDogc3RyaW5nKSB7XG4gICAgICAgIHZhciAkcmVzdWx0ID0gJChyZXN1bHQpLFxuICAgICAgICAgICAgJGZyZXF1ZW5jeVBvcHVwID0gJHJlc3VsdC5maW5kKCcuanMtdGFnLWZyZXF1ZW5jeS1wb3B1cCcpLnJlbW92ZSgpO1xuXG4gICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93TW9kYWwoJGZyZXF1ZW5jeVBvcHVwKTtcblxuICAgICAgICAkZnJlcXVlbmN5UG9wdXAuZmluZCgnLmpzLWZyZXF1ZW5jeS1zdWJtaXQnKS5jbGljayhmdW5jdGlvbiAodGhpczogRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tlZEZyZXF1ZW5jeVZhbHVlID0gJGZyZXF1ZW5jeVBvcHVwLmZpbmQoXCIuanMtZnJlcXVlbmN5OmNoZWNrZWRcIikudmFsKCkgYXMga2V5b2YgdHlwZW9mIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLk5vdGlmaWNhdGlvbkZyZXF1ZW5jeVR5cGVJZDtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWRGcmVxdWVuY3kgPSBTdGFja092ZXJmbG93Lk1vZGVscy5Ob3RpZmljYXRpb25GcmVxdWVuY3lUeXBlSWRbY2hlY2tlZEZyZXF1ZW5jeVZhbHVlXTtcbiAgICAgICAgICAgIGNoYW5nZVN1YnNjcmlwdGlvbkZyZXF1ZW5jeSh0YWdOYW1lLCBjaGVja2VkRnJlcXVlbmN5LCAoKSA9PiAkZnJlcXVlbmN5UG9wdXAuZmFkZU91dEFuZFJlbW92ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dGcmVxdWVuY3lUb2FzdCA9IGZ1bmN0aW9uICh0YWdOYW1lOiBzdHJpbmcsIG5ld0ZyZXF1ZW5jeTogU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkKSB7XG4gICAgICAgIHZhciBmcmVxdWVuY3lNZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGlmIChuZXdGcmVxdWVuY3kgPT0gU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkLkRhaWx5KSB7XG4gICAgICAgICAgICBmcmVxdWVuY3lNZXNzYWdlID0gX3MoXCJZb3UnbGwgcmVjZWl2ZSBkYWlseSBlbWFpbHMgd2hlbiB0aGVyZSBpcyBuZXcgYWN0aXZpdHkgaW4gdGhpcyB0YWcuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld0ZyZXF1ZW5jeSA9PSBTdGFja092ZXJmbG93Lk1vZGVscy5Ob3RpZmljYXRpb25GcmVxdWVuY3lUeXBlSWQuRmlmdGVlbk1pbnV0ZXMpIHtcbiAgICAgICAgICAgIGZyZXF1ZW5jeU1lc3NhZ2UgPSBfcyhcIllvdSdsbCByZWNlaXZlIGFuIGVtYWlsIHdoZW4gdGhlcmUgaXMgbmV3IGFjdGl2aXR5IGluIHRoaXMgdGFnLlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3YXRjaGluZ01lc3NhZ2UgPSBfbSgnWW91XFwncmUgbm93IHdhdGNoaW5nICR0YWckLicsIHsgdGFnOiAnPHNwYW4gY2xhc3M9XCJkLWlubGluZS1ibG9jayBiZy1ncmVlbi0zMDAgcHg0IHB5MiBiYXItc21cIj4nICsgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmh0bWxFbmNvZGUodGFnTmFtZSkgKyAnPC9zcGFuPicgfSk7XG4gICAgICAgIHZhciAkbWVzc2FnZSA9IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93VG9hc3Qod2F0Y2hpbmdNZXNzYWdlICsgJyAnICsgZnJlcXVlbmN5TWVzc2FnZSwge1xuICAgICAgICAgICAgcm9sZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsQ29udGVudHM6IFN2Zy5VbmRvU20oKS5hZGQoJCgnPHNwYW4vPicpLnRleHQoX3MoXCJVbmRvXCIpKSksXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiBjaGFuZ2VTdWJzY3JpcHRpb25GcmVxdWVuY3kodGFnTmFtZSwgU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkLk5vbmUsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWVzc2FnZS5mYWRlT3V0QW5kUmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHVzZVJhd0h0bWw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGJpbmRUYWdFbWJlZENsaWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1lbWJlZGRlZC10YWctcHJlZmVyZW5jZXMgYnV0dG9uJywgZnVuY3Rpb24gKHRoaXM6IEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGVtYmVkID0gJHRoaXMuY2xvc2VzdCgnLmpzLWVtYmVkZGVkLXRhZy1wcmVmZXJlbmNlcycpLFxuICAgICAgICAgICAgICAgIGFjdGlvbiA9ICR0aGlzLmRhdGEoJ2FjdGlvbicpO1xuXG4gICAgICAgICAgICBpZiAoISR0aGlzLmlzKFwiLmlzLWxvYWRpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIHNldEVtYmVkZGVkVGFnUHJlZnMoJGVtYmVkLCBhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBseVByZWZzOiBhcHBseVByZWZzLCAvLyBzdGlsbCBjYWxsZWQgaW4gVGFnUHJlZmVyZW5jZXMuY3NodG1sXG4gICAgICAgIGlzSWdub3JlZDogaXNJZ25vcmVkLCAvLyBjYW4gYmUgY2FsbGVkIGJ5IHJlYWx0aW1lLXNlLmpzXG4gICAgICAgIHJlc2V0RG9udEFwcGx5Q2FjaGU6IGZ1bmN0aW9uICgpIHsgcHJldmlvdXNseURvbnRBcHBseSA9IFtdOyB9LFxuICAgICAgICBpbml0OiBpbml0LFxuICAgIH07XG59KSgpO1xuIiwiLy9cbi8vIE1vZHVsaWZ5aW5nIG5vdGU6IGludGVudGlvbmFsbHkgbm90IGRlbGV0aW5nIHRoaXMgZmlsZSBzaW5jZSBsZWdhY3kgY29kZSBtYXkgcmVmZXJlbmNlIGl0IGRpcmVjdGx5XG4vL1xuXG5uYW1lc3BhY2UgU3RhY2tFeGNoYW5nZS5oZWxwZXJzIHtcbiAgICBleHBvcnQgZnVuY3Rpb24gdG9nZ2xlVXNlckZsYWdzKGZsYWdzOiBTdGFja092ZXJmbG93Lk1vZGVscy5Vc2VyRmxhZ3MsIHZhbHVlOiBib29sZWFuLCB1c2VySWQ/OiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgdXNlciA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyO1xuXG4gICAgICAgIHJldHVybiAkLnBvc3QoYC91c2Vycy90b2dnbGUtZmxhZy8ke2ZsYWdzfS8keyEhdmFsdWV9YCwge1xuICAgICAgICAgICAgZmtleTogdXNlci5ma2V5LFxuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQgfHwgdXNlci5wcm94aWVkVXNlcklkIHx8IHVzZXIudXNlcklkXG4gICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gISFyZXNwb25zZS5oYXNGbGFncyk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUFjY291bnRQcmVmZXJlbmNlRmxhZ3MoZmxhZ3M6IFN0YWNrT3ZlcmZsb3cuTW9kZWxzLkFjY291bnRQcmVmZXJlbmNlRmxhZ3MsIHZhbHVlOiBib29sZWFuLCBhY2NvdW50SWQ/OiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgdXNlciA9IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyO1xuXG4gICAgICAgIHJldHVybiAkLnBvc3QoYC9hY2NvdW50L3RvZ2dsZS1wcmVmZXJlbmNlLWZsYWdgLCB7XG4gICAgICAgICAgICBma2V5OiB1c2VyLmZrZXksXG4gICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCB8fCB1c2VyLmFjY291bnRJZCxcbiAgICAgICAgICAgIGZsYWc6IGZsYWdzLFxuICAgICAgICAgICAgc3RhdHVzOiB2YWx1ZVxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+ICEhcmVzcG9uc2UuaGFzRmxhZ3MpO1xuICAgIH07XG59XG4iLCJuYW1lc3BhY2UgU3RhY2tFeGNoYW5nZS5yb2xsYmFjayB7XG5cbiAgICBhc3luYyBmdW5jdGlvbiByb2xsYmFja1JldmlzaW9uKCRidXR0b246IEpRdWVyeSkge1xuICAgICAgICBsZXQgdXJsID0gJGJ1dHRvbi5hdHRyKCdkYXRhLXVybCcpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICRidXR0b24uYXR0cignZGF0YS1kZXNjcmlwdGlvbicpO1xuXG4gICAgICAgIGxldCBjb25maXJtZWQgPSBhd2FpdCBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd0NvbmZpcm1Nb2RhbCh7XG4gICAgICAgICAgICB0aXRsZTogX3MoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByb2xsYmFjaz8nKSxcbiAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UsXG4gICAgICAgICAgICBidXR0b25MYWJlbDogX3MoJ1JvbGxiYWNrJyksXG4gICAgICAgICAgICByZXR1cm5FbGVtZW50czogJGJ1dHRvbixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjb25maXJtZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IDxTdGFja092ZXJmbG93LkhlbHBlcnMuR2VuZXJpY0pzb25SZXN1bHQ+YXdhaXQgJC5wb3N0KHVybCwgeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5IH0pO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdChyZXN1bHQubWVzc2FnZSwgeyB0eXBlOiAnZGFuZ2VyJyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBiaW5kQnV0dG9ucygpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1yb2xsYmFjay1yZXZpc2lvbicsIGZ1bmN0aW9uICh0aGlzOiBFbGVtZW50KSB7IHJvbGxiYWNrUmV2aXNpb24oJCh0aGlzKSk7IH0pO1xuICAgIH1cbn0iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cbi8vIFRISVMgRklMRSBJUyBBVVRPTUFUSUNBTExZIEdFTkVSQVRFRCAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vLyBDaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkIG9uIG5leHQgY29tcGlsZSAgICAgICAgICAgICAgICAgLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gVG8gbW9kaWZ5IHRoaXMgZmlsZSwgbWFrZSBjaGFuZ2VzIHRvOiAgICAgICAgICAgICAgICAgICAgIC8vXG4vLyBfU2NyaXB0c1xcUGFydGlhbEpTXFxmdWxsXFxkZWZpbml0aW9uc1xcQ1NoYXJwVG9UeXBlc2NyaXB0LmNzIC8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cblxuICAgICAgICAgICAgXG4vLyBTdGFja092ZXJmbG93Lk1vZGVscy5Ob3RpZmljYXRpb25GcmVxdWVuY3lUeXBlSWRcbm5hbWVzcGFjZSBTdGFja092ZXJmbG93Lk1vZGVscyB7XG4gICAgZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkIHtcbiAgICAgICAgTm9uZSA9IDBcbiAgICAgICwgRmlmdGVlbk1pbnV0ZXMgPSAxXG4gICAgICAsIERhaWx5ID0gMlxuICAgIH1cbn1cblxuXG4gICAgICAgICAgICBcbi8vIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLkFjY291bnRQcmVmZXJlbmNlRmxhZ3Ncbm5hbWVzcGFjZSBTdGFja092ZXJmbG93Lk1vZGVscyB7XG4gICAgZXhwb3J0IGVudW0gQWNjb3VudFByZWZlcmVuY2VGbGFncyB7XG4gICAgICAgIE5vbmUgPSAwXG4gICAgICAsIEhpZGVMZWZ0TmF2aWdhdGlvbiA9IDFcbiAgICAgICwgRW5hYmxlS2V5Ym9hcmRTaG9ydGN1dHMgPSAyXG4gICAgICAsIEhpZGVIb3ROZXR3b3JrUXVlc3Rpb25zU2lkZWJhciA9IDhcbiAgICAgICwgRGlzYWJsZU5ld3NsZXR0ZXJQZXJzb25hbGl6YXRpb24gPSAxNlxuICAgICAgLCBEaXNtaXNzRnJlZW1pdW1UZWFtc0NyZWF0aW9uQ1RBID0gMzJcbiAgICAgICwgVW5pZmllZFNlYXJjaEFjdGl2ZUJ5RGVmYXVsdCA9IDY0XG4gICAgICAsIERpc21pc3NSZXZpZXdRdWV1ZU5vdGljZUNhbXBhaWduID0gMTI4XG4gICAgICAsIEZvcllvdVVucmVhZE9ubHlCeURlZmF1bHQgPSAyNTZcbiAgICAgICwgRGlzbWlzc0NvbGxlY3RpdmVzTmF2YmFyQ1RBID0gNTEyXG4gICAgICAsIFNlYXJjaFRhZ05hbWVzT25seSA9IDEwMjRcbiAgICAgICwgSGlkZVNHUG9zdHNPdXRzaWRlT2ZTdGFnaW5nR3JvdW5kID0gMjA0OFxuICAgIH1cbn1cblxuXG4gICAgICAgICAgICBcbi8vIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLlVzZXJGbGFnc1xubmFtZXNwYWNlIFN0YWNrT3ZlcmZsb3cuTW9kZWxzIHtcbiAgICBleHBvcnQgZW51bSBVc2VyRmxhZ3Mge1xuICAgICAgICBOb25lID0gMFxuICAgICAgLCBEaXNhYmxlU2lkZU5hdiA9IDEwNzM3NDE4MjRcbiAgICAgICwgVGVhbUd1aWRlID0gMVxuICAgICAgLCBEaXNtaXNzTWFya2Rvd25FZGl0b3JIZWxwID0gMlxuICAgICAgLCBIaWRlTGVmdE5hdmlnYXRpb24gPSA0XG4gICAgICAsIERpc21pc3NNZW50aW9uc0NhbGxvdXQgPSA4XG4gICAgICAsIERpc21pc3NRdWVzdGlvblBhZ2VQcm9kdWN0QmFubmVyID0gMTZcbiAgICAgICwgRGlzbWlzc1dlbGNvbWVNb2RhbCA9IDMyXG4gICAgICAsIERpc21pc3NDbG9zZVJlb3BlblByaXZpbGVnZVBvcG92ZXIgPSA2NFxuICAgICAgLCBEaXNtaXNzQ2xvc2VSZW9wZW5Qcml2aWxlZ2VFeHBsYW5hdGlvbk1vZGFsID0gMTI4XG4gICAgICAsIERpc21pc3NQb3N0UmVhY3Rpb25JbnRyb1BvcG92ZXIgPSAyNTZcbiAgICAgICwgRGlzbWlzc0ZvbGxvd1F1ZXN0aW9uSW50cm9Qb3BvdmVyID0gNTEyXG4gICAgICAsIERpc21pc3NDbG9zZWRFZGl0TW9kYWwgPSAxMDI0XG4gICAgICAsIERpc21pc3NNb2RhbEZvckNvbXBsZXRlZEVkaXRPbkNsb3NlZFF1ZXN0aW9uID0gMjA0OFxuICAgICAgLCBEaXNtaXNzQWRkQWRtaW5Ob3RpY2UgPSA0MDk2XG4gICAgICAsIFNob3dSZXZpZXdRdWV1ZU5vdGljZSA9IDgxOTJcbiAgICAgICwgUmV2aWV3UXVldWVOb3RpY2VJc0ZvckNhbXBhaWduID0gMTYzODRcbiAgICAgICwgRGlzbWlzc1Jldmlld09uYm9hcmRpbmcgPSAzMjc2OFxuICAgICAgLCBTaG93TmV3UmV2aWV3ZXJPbmJvYXJkaW5nID0gNjU1MzZcbiAgICAgICwgRGlzbWlzc01vZGFsRm9yRmlyc3RQb3N0UXVldWUgPSAxMzEwNzJcbiAgICAgICwgRGlzbWlzc01vZGFsRm9yTGF0ZUFuc3dlclF1ZXVlID0gMjYyMTQ0XG4gICAgICAsIERpc21pc3NNb2RhbEZvckNsb3NlVm90ZVF1ZXVlID0gNTI0Mjg4XG4gICAgICAsIERpc21pc3NNb2RhbEZvclJlb3BlblZvdGVRdWV1ZSA9IDEwNDg1NzZcbiAgICAgICwgRGlzbWlzc01vZGFsRm9yVHJpYWdlUXVldWUgPSAyMDk3MTUyXG4gICAgICAsIERpc21pc3NNb2RhbEZvckhlbHBlclF1ZXVlID0gNDE5NDMwNFxuICAgICAgLCBEaXNtaXNzTW9kYWxGb3JTdWdnZXN0ZWRFZGl0UXVldWUgPSA4Mzg4NjA4XG4gICAgICAsIERpc21pc3NNb2RhbEZvckxvd1F1YWxpdHlQb3N0UXVldWUgPSAxNjc3NzIxNlxuICAgICAgLCBEaXNtaXNzTW9kYWxGb3JGaXJzdFF1ZXN0aW9uc1F1ZXVlID0gMzM1NTQ0MzJcbiAgICAgICwgRGlzbWlzc01vZGFsRm9yRmlyc3RBbnN3ZXJzUXVldWUgPSA2NzEwODg2NFxuICAgICAgLCBEaXNtaXNzTW9kYWxGb3JDb250ZW50SGVhbHRoUXVldWUgPSAxMzQyMTc3MjhcbiAgICAgICwgSXNTaGFyZUZlZWRiYWNrRGVmYXVsdFNlbGYgPSAyNjg0MzU0NTZcbiAgICAgICwgRGlzbWlzc05ld1N0YWdpbmdHcm91bmRSZXZpZXdlck5vdGljZSA9IDUzNjg3MDkxMlxuICAgICAgLCBEaXNtaXNzTmV3U3RhZ2luZ0dyb3VuZEF1dGhvck5vdGljZSA9IDEwNzM3NDE4MjRcbiAgICAgICwgQ29sbGVjdGl2ZXNFeHBsb3JlZEZlYXR1cmVzID0gLTIxNDc0ODM2NDhcbiAgICAgICwgQ29sbGVjdGl2ZXNSZWFkQnVsbGV0aW4gPSAxXG4gICAgICAsIENvbGxlY3RpdmVzQ2hlY2tlZExlYWRlcmJvYXJkID0gMlxuICAgICAgLCBDb2xsZWN0aXZlc0xlYXJuZWRBYm91dFJvbGVzID0gNFxuICAgICAgLCBDb2xsZWN0aXZlc0Rpc2NvdmVyZWRSZWNBbnN3ZXJzID0gOFxuICAgICAgLCBDb2xsZWN0aXZlc1NlZW5BbGwgPSAxNlxuICAgIH1cbn1cblxuXG5cbiAgICAgICAgICAgIFxuZGVjbGFyZSBuYW1lc3BhY2UgU3RhY2tPdmVyZmxvdy5IZWxwZXJzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEdlbmVyaWNKc29uUmVzdWx0IHtcbiAgICAgICAgc3VjY2Vzcz86IGJvb2xlYW47XG4gICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgfX1cblxuIiwiaW1wb3J0IFwiZXhwb3NlLWxvYWRlcj9leHBvc2VzPUV2ZW50RW1pdHRlciEuLi8uLi9Db250ZW50L0pzL3RoaXJkLXBhcnR5L2V2ZW50LWVtaXR0ZXIuanNcIjtcbmltcG9ydCBcIi4uL0xlZ2FjeUpTL3JlYWx0aW1lLXNlLmpzXCI7XG4iLCJleHBvcnQgZnVuY3Rpb24gaW1wb3J0QWxsKGN0eDogX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XG4gICAgLy8gaW1wb3J0IGVhY2ggZmlsZSBpbiB0aGUgZm9sZGVyLCBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICBjb25zdCBmaWxlcyA9IFsuLi5jdHgua2V5cygpXTtcbiAgICBmaWxlcy5zb3J0KCk7XG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgIGN0eChmaWxlKTtcbiAgICB9XG59XG4iLCJjb25zdCBJTlFVRVNUSU9OX0tFWVdPUkQ6IHN0cmluZyA9ICdpbnF1ZXN0aW9uJztcbmNvbnN0IElOUVVFU1RJT05fVEhJU19TRUFSQ0hfVEVSTTogc3RyaW5nID0gYCR7SU5RVUVTVElPTl9LRVlXT1JEfTp0aGlzYDtcbmNvbnN0IFFVRVNUSU9OX1VSTF9SRUdFWDogUmVnRXhwID0gL1xcL3F1ZXN0aW9uc1xcLyhcXGQrKS9pO1xuXG4vKipcbiAqIFJld3JpdGUgcXVlcnkgcGFyYW1ldGVyIGlucXVlc3Rpb246dGhpcyB0byBpbnF1ZXN0aW9uOjxxdWVzdGlvbiBpZD4gYmVmb3JlIHN1Ym1pdHRpbmcuXG4gKiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaEluUXVlc3Rpb25VcmxSZXdyaXRlcihpbnB1dEVsOiBIVE1MSW5wdXRFbGVtZW50LCBsb2NhdGlvbjogTG9jYXRpb24gPSBkb2N1bWVudC5sb2NhdGlvbik6IHZvaWQge1xuXG4gICAgaW5wdXRFbD8uZm9ybT8uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChpbnB1dEVsLnZhbHVlLmluY2x1ZGVzKElOUVVFU1RJT05fVEhJU19TRUFSQ0hfVEVSTSkpIHtcbiAgICAgICAgICAgIGxldCBxdWVzdGlvbklkID0gKGxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKFFVRVNUSU9OX1VSTF9SRUdFWCkgfHwgW10pWzFdO1xuICAgICAgICAgICAgaWYgKCEhcXVlc3Rpb25JZCkge1xuICAgICAgICAgICAgICAgIGlucHV0RWwudmFsdWUgPSBpbnB1dEVsLnZhbHVlLnJlcGxhY2UoSU5RVUVTVElPTl9USElTX1NFQVJDSF9URVJNLCBgJHtJTlFVRVNUSU9OX0tFWVdPUkR9OiR7cXVlc3Rpb25JZH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwiLy8gVE9ETyAtIGl0IHdvdWxkIGJlIHJlYWxseSBuaWNlIHRvIGdlbmVyYXRlIHRoaXMgdmlhIF9DU2hhcnBUb1R5cGVTY3JpcHQuY3MsIGJ1dCBub3QgYW4gZW51bSwganVzdCBjbGFzcyB3aXRoIHN0YXRpYyBpbnQgcHJvcGVydGllc1xuLy8gTXVzdCBtYXRjaCBgVm90ZVR5cGVJZC5jc2BcbmV4cG9ydCBlbnVtIFZvdGVUeXBlSWQge1xuICAgIGluZm9ybU1vZGVyYXRvciA9IC0xLCAvLyBub3Qgc3VibWl0dGVkIHRvIHZvdGVzLCBidXQgdG8gbWVzc2FnZXMgY29udHJvbGxlclxuICAgIHVuZG9Nb2QgPSAwLFxuICAgIGFjY2VwdGVkQnlPd25lciA9IDEsXG4gICAgdXBNb2QgPSAyLFxuICAgIGRvd25Nb2QgPSAzLFxuICAgIG9mZmVuc2l2ZSA9IDQsXG4gICAgYm9va21hcmsgPSA1LFxuICAgIGNsb3NlID0gNixcbiAgICByZW9wZW4gPSA3LFxuICAgIGJvdW50eUNsb3NlID0gOSxcbiAgICBkZWxldGlvbiA9IDEwLFxuICAgIHVuZGVsZXRpb24gPSAxMSxcbiAgICBzcGFtID0gMTIsXG4gICAgcmVhY3Rpb24xID0gMTcsXG4gICAgaGVscGZ1bCA9IDE4LFxuICAgIHRoYW5rWW91ID0gMTksXG4gICAgd2VsbFdyaXR0ZW4gPSAyMCxcbiAgICBmb2xsb3cgPSAyMSxcbiAgICByZWFjdGlvbjIgPSAyMixcbiAgICByZWFjdGlvbjMgPSAyMyxcbiAgICByZWFjdGlvbjQgPSAyNCxcbiAgICByZWFjdGlvbjUgPSAyNSxcbiAgICByZWFjdGlvbjYgPSAyNixcbiAgICByZWFjdGlvbjcgPSAyNyxcbiAgICByZWFjdGlvbjggPSAyOCxcbiAgICBvdXRkYXRlZCA9IDI5LFxuICAgIG5vdE91dGRhdGVkID0gMzAsXG4gICAgcHJlVm90ZSA9IDMxLFxuICAgIGNvbGxlY3RpdmVEaXNjdXNzaW9uVXB2b3RlID0gMzIsXG4gICAgY29sbGVjdGl2ZURpc2N1c3Npb25Eb3dudm90ZSA9IDMzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FzdFZvdGUge1xuICAgIFBvc3RJZDogbnVtYmVyLFxuICAgIFZvdGVUeXBlSWQ6IFZvdGVUeXBlSWRcbn1cbiIsImltcG9ydCB7IENoYXJhY3RlckNvdW50ZXJfTWVzc2FnZUZvcm1hdCBhcyBDaGFyYWN0ZXJDb3VudGVyTW9kZSB9IGZyb20gXCIuLi8uLi8uLi9fRGVjbGFyYXRpb25zL0VudW1zLmdlbmVyYXRlZC5tb2RcIjtcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9kZWJvdW5jZVwiO1xuaW1wb3J0IHtcbiAgICBidWlsZENvbnRyb2xsZXIsXG4gICAgb2JqZWN0T2ZTaGFwZSxcbn0gZnJvbSBcIi4uLy4uL3NoYXJlZC9jb250cm9sbGVyLWJ1aWxkZXJcIjtcblxudHlwZSBTdXBwb3J0ZWRFbGVtZW50ID0gSFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cbi8qKlxuICogVGhlIGV2ZW50cyB0byBsaXN0ZW4gdG8gb24gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCB0byB1cGRhdGUgdGhlIHZpc3VhbFxuICogY2hhcmFjdGVyIGNvdW50ZXIuXG4gKi9cbmNvbnN0IG1zZ1VwZGF0ZUV2ZW50cyA9IFtcImJsdXJcIiwgXCJmb2N1c1wiLCBcImtleXVwXCIsIFwicGFzdGVcIl07XG4vKipcbiAqIEV2ZW50cyB3aGVyZSB3ZSB3YW50IHRvIGFsbW9zdCBpbW1lZGlhdGVseSBhbm5vdW5jZSB0byBzY3JlZW4gcmVhZGVycyB0aGVcbiAqIHJlbWFpbmluZyBjaGFyYWN0ZXIgY291bnQuIEZvciBleGFtcGxlLCB3aGVuIHNvbWVvbmUgZm9jdXNlcyBvbiB0aGUgaW5wdXRcbiAqIGZpZWxkLCB3ZSB3YW50IHRvIGxldCB0aGVtIGtub3cgaG93IG1hbnkgY2hhcmFjdGVycyBhcmUgcmVtYWluaW5nIGltbWVkaWF0ZWx5XG4gKiBzbyB0aGF0IHRoZXkgY2FuIGtlZXAgdGhhdCBpbiBtaW5kIGFzIHRoZXkgc3RhcnQgdHlwaW5nLlxuICovXG5jb25zdCBzck1zZ0ltbWVkaWF0ZVVwZGF0ZUV2ZW50cyA9IFtcImZvY3VzXCIsIFwicGFzdGVcIl07XG4vKipcbiAqIEV2ZW50cyB3aGVyZSB3ZSB3YW50IGEgZGVib3VuY2VkIGFubm91bmNlbWVudCB0byBzY3JlZW4gcmVhZGVycyBiZWNhdXNlIGl0XG4gKiB3b3VsZCBub3QgbWFrZSBzZW5zZSB0byBzcGFtIHRoZSB1c2VyIHdpdGggdGhlc2UgdXBkYXRlcy4gRm9yIGV4YW1wbGUsIGlmXG4gKiBzb21lb25lIGlzIHR5cGluZyBub3JtYWxseSB3ZSBkb24ndCB3YW50IHRvIHRyeSBhbm5vdW5jaW5nIHRoZSBuZXcgY2hhcmFjdGVyXG4gKiBjb3VudCBhZnRlciBlYWNoIGtleS4gSW5zdGVhZCwgd2Ugd2FpdCB1bnRpbCB0aGV5J3ZlIHBhdXNlZCBpbiB0eXBpbmcuXG4gKi9cbmNvbnN0IHNyTXNnUG9saXRlVXBkYXRlRXZlbnRzID0gW1wia2V5dXBcIl07XG4vKipcbiAqIEV2ZW50cyB3aGVyZSB3ZSB3YW50IHRvIHN0b3AgYW55IHBlbmRpbmcgYW5ub3VuY2VtZW50cyB0byBzY3JlZW4gcmVhZGVyc1xuICogYmVjYXVzZSB0aGUgbWVzc2FnZSB3b3VsZCBubyBsb25nZXIgbWFrZSBzZW5zZS4gRm9yIGV4YW1wbGUsIHdoZW4gdGhlIHVzZXJcbiAqIGhhcyBuYXZpZ2F0ZWQgdG8gYW5vdGhlciBmaWVsZCwgd2UgZG9uJ3Qgd2FudCB0byBhbm5vdW5jZSB0byB0aGVtIHRoZSByZW1haW5pbmdcbiAqIGNvdW50IGluIHRoZSBwcmV2aW91cyBmaWVsZCB0aGV5IHdlcmUgaW4uXG4gKi9cbmNvbnN0IHNyTXNnQ2FuY2VsRXZlbnRzID0gW1wiYmx1clwiXTtcblxuY29uc3QgeyBCYXNlLCBzdGltdWx1c0NhbGxiYWNrIH0gPSBidWlsZENvbnRyb2xsZXIoXCJzZS1jaGFyYWN0ZXItY291bnRlclwiKVxuICAgIC53aXRoRWxlbWVudFR5cGU8SFRNTEVsZW1lbnQ+KClcbiAgICAud2l0aFRhcmdldHMoXCJ2aXNpYmxlTWVzc2FnZVwiLCBcInNjcmVlblJlYWRlck1lc3NhZ2VcIilcbiAgICAud2l0aFZhbHVlcyh7XG4gICAgICAgIGNzc0NsYXNzZXM6IG9iamVjdE9mU2hhcGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oKSxcbiAgICAgICAgaWdub3JlV2hpdGVzcGFjZTogQm9vbGVhbixcbiAgICAgICAgaW52YWxpZFN0YXRlOiBCb29sZWFuLFxuICAgICAgICBtYXhMZW5ndGg6IE51bWJlcixcbiAgICAgICAgbWluTGVuZ3RoOiBOdW1iZXIsXG4gICAgICAgIG1lc3NhZ2VNb2RlOiBTdHJpbmcsXG4gICAgICAgIHRhcmdldDogU3RyaW5nLFxuICAgIH0pXG4gICAgLmJ1aWxkKCk7XG5cbi8qKlxuICogQSBTdGltdWx1cyBjb250cm9sbGVyIGZvciBoYW5kbGluZyBjaGFyYWN0ZXIgY291bnRpbmcgKG5vdCB0byBiZSBjb25mdXNlZCB3aXRoXG4gKiBjYXJkIGNvdW50aW5nKS5cbiAqXG4gKiAjIyBBcmd1bWVudHNcbiAqXG4gKiBMaWtlIGFsbCBTdGltdWx1cyBjb250cm9sbGVycywgdGhlIGFyZ3VtZW50cyBhcmUgcHJlZml4ZWQgd2l0aFxuICogYGRhdGEtc2UtY2hhcmFjdGVyLWNvdW50ZXItYC5cbiAqXG4gKiAtIGBjc3MtY2xhc3Nlcy12YWx1ZWA6IGEgSlNPTiBvYmplY3QgcmVwcmVzZW50aW5nIENTUyBjbGFzc2VzIHRvIGFwcGx5IHRvXG4gKiAgIGJyZWFrcG9pbnRzIHdoZW4gY2VydGFpbiB0aHJlc2hvbGRzIGFyZSBtZXQgb2YgdGhlIGNoYXJhY3RlciBsaW1pdC4gVGhlIGtleXNcbiAqICAgc2hvdWxkIHJhbmdlIGZyb20gMCB0byAxLCBpbmNsdXNpdmVseS5cbiAqXG4gKiAgIGBgYGpzXG4gKiAgIHtcbiAqICAgICAgIFwiMS4wXCI6IFwiZmMtcmVkLTQwMFwiLFxuICogICAgICAgXCIwLjVcIjogXCJzdXBlcm5vdmFcIixcbiAqICAgICAgIFwiMFwiOiBcImNvb2xcIlxuICogICB9XG4gKiAgIGBgYFxuICogLSBgaWdub3JlLXdoaXRlc3BhY2UtdmFsdWVgOiB3aGVuIGNvbmZpZ3VyZWQgdG8gdHJ1ZSwgd2hpdGUgc3BhY2UgYXQgdGhlXG4gKiAgIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSB1c2VyIGlucHV0IGFyZSBpZ25vcmVkIGZyb20gY2FsY3VsYXRpb25zOyBhbHNvLFxuICogICBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBhcmUgY2FsY3VsYXRlZCBhcyBvbmUuXG4gKiAtIGBpbnZhbGlkLXN0YXRlLXZhbHVlYDogYSBib29sZWFuIHZhbHVlIHRoYXQgaXMgdXBkYXRlZCBhdXRvbWF0aWNhbGx5IG9uXG4gKiAgIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBpbnB1dCBtZWV0cyB0aGUgbGVuZ3RoIGNyaXRlcmlhLlxuICogLSBgbWF4LWxlbmd0aC12YWx1ZWA6IHRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgd291bGQgYmUgYWxsb3dlZFxuICogICBpbiB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkLiBVc2UgdGhpcyBhdHRyaWJ1dGUgd2hlbiB5b3UgKipkb24ndCoqIHVzZVxuICogICBgbWF4bGVuZ3RoYCBvbiB0aGUgYDxpbnB1dCAvPmAgYmVjYXVzZSBgbWF4bGVuZ3RoYCByZXN0cmljdHMgaW5wdXQgYWZ0ZXJcbiAqICAgdGhhdCB0aHJlc2hvbGQuXG4gKiAtIGBtZXNzYWdlLW1vZGUtdmFsdWVgOiBlaXRoZXIgYG1pbmltYWxgIG9yIGBkZXNjcmlwdGl2ZWAuXG4gKiAgICAqIGBtaW5pbWFsYCBsb29rcyBsaWtlOiBgNSAvIDcwIGNoYXJhY3RlcnNgXG4gKiAgICAqIGBkZXNjcmlwdGl2ZWAgbG9va3MgbGlrZTpcbiAqICAgICAgLSBgRW50ZXIgdXAgdG8gNzAgY2hhcmFjdGVyc2BcbiAqICAgICAgLSBgMjAgY2hhcmFjdGVycyBsZWZ0YFxuICogICAgICAtIGBUb28gbG9uZyBieSAxMCBjaGFyYWN0ZXJzYFxuICogLSBgbWluLWxlbmd0aC12YWx1ZWA6IHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgYXJlIHJlcXVpcmVkIGluXG4gKiAgIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQuIFVzZSB0aGlzIGF0dHJpYnV0ZSB3aGVuIHlvdSAqKmRvbid0KiogdXNlXG4gKiAgIGBtaW5sZW5ndGhgIG9uIHRoZSBgPGlucHV0IC8+YC5cbiAqIC0gYHRhcmdldC12YWx1ZWA6IGEgdmFsaWQgYGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoKWAgdmFsdWUgZm9yIHRoZSBgPGlucHV0IC8+YFxuICogICB0byB3YXRjaCBmb3IgY2hhcmFjdGVyIGNvdW50cy5cbiAqXG4gKiAgIFRoaXMgZ29lcyBhZ2FpbnN0IFN0aW11bHVzIGNvbnZlbnRpb25zLCBob3dldmVyLCB0aGVyZSdzIG5vIGNvbnRyb2xsZXIgdG9cbiAqICAgc2VydmUgYXMgYSBwYXJlbnQgZm9yIGA8aW5wdXQgLz5gcyByaWdodCBub3cgc28gdGhpcyB3aWxsIGhhdmUgdG8gZG8gYXMgYVxuICogICB3b3JrYXJvdW5kLlxuICpcbiAqICMjIEFjdGlvbnNcbiAqXG4gKiAtIGBzdGF0ZUNoYW5nZWA6IHdoZW4gdGhlIHN0YXRlIG9mIHRoaXMgY291bnRlciBjaGFuZ2VzIGZyb20gaW52YWxpZCB0byB2YWxpZCxcbiAqICAgYmFzZWQgb24gbWluL21heCBsaW1pdHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3RlckNvdW50ZXJDb250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgcHJpdmF0ZSBicmVha1BvaW50czogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIGNzc0NsYXNzZXM6IFJlY29yZDxudW1iZXIsIHN0cmluZ1tdPiA9IHt9O1xuICAgIHByaXZhdGUgdGFyZ2V0RmllbGQhOiBTdXBwb3J0ZWRFbGVtZW50O1xuICAgIHByaXZhdGUgc3JUaW1lciA9IC0xO1xuXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5sb2FkVGFyZ2V0KHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgICAgICB0aGlzLmJpbmRFdmVudHModGhpcy50YXJnZXRGaWVsZCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmlzdWFsTWVzc2FnZUltbWVkaWF0ZSgpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMudW5iaW5kRXZlbnRzKHRoaXMudGFyZ2V0RmllbGQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVZpc3VhbE1lc3NhZ2VJbW1lZGlhdGUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLmdldEN1cnJlbnRDb3VudCgpO1xuICAgICAgICBjb25zdCBtYXhMZW5ndGggPSB0aGlzLmdldE1heExlbmd0aCgpO1xuICAgICAgICBjb25zdCBtaW5MZW5ndGggPSB0aGlzLmdldE1pbkxlbmd0aCgpO1xuXG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2VNb2RlVmFsdWUgPT09IENoYXJhY3RlckNvdW50ZXJNb2RlLk1pbmltYWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZU1lc3NhZ2VUYXJnZXQuaW5uZXJUZXh0ID0gdGhpcy5taW5pbWFsTWVzc2FnZShcbiAgICAgICAgICAgICAgICBjdXJyLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2VNb2RlVmFsdWUgPT09IENoYXJhY3RlckNvdW50ZXJNb2RlLkRlc2NyaXB0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGVNZXNzYWdlVGFyZ2V0LmlubmVyVGV4dCA9IHRoaXMuZGVzY3JpcHRpdmVNZXNzYWdlKFxuICAgICAgICAgICAgICAgIGN1cnIsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZU1lc3NhZ2VUYXJnZXQuaW5uZXJUZXh0ID0gXCJcIjtcblxuICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5kZWJ1Zy5sb2coXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIG1lc3NhZ2UgbW9kZSBmb3IgdGhpcyBDaGFyYWN0ZXIgQ291bnRlciBjb250cm9sbGVyXCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW52YWxpZFN0YXRlVmFsdWUgPSBjdXJyIDwgbWluTGVuZ3RoIHx8IGN1cnIgPiBtYXhMZW5ndGg7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4uT2JqZWN0LnZhbHVlcyh0aGlzLmNzc0NsYXNzZXMpLmZsYXQoKSk7XG5cbiAgICAgICAgY29uc3QgY3NzQ2xhc3MgPSB0aGlzLmdldENzc0NsYXNzKCk7XG4gICAgICAgIGlmIChjc3NDbGFzcykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY3NzQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVwZGF0ZVZpc3VhbE1lc3NhZ2UgPSBkZWJvdW5jZSh0aGlzLnVwZGF0ZVZpc3VhbE1lc3NhZ2VJbW1lZGlhdGUsIDEwMCwge1xuICAgICAgICBzbGlkaW5nOiB0cnVlLFxuICAgIH0pLnRyaWdnZXI7XG5cbiAgICAvKipcbiAgICAgKiBBbm5vdW5jZSB0aGUgY3VycmVudCBjaGFyYWN0ZXIgY291bnQgcmVtYWluaW5nIHRvIHRoZSBzY3JlZW4gcmVhZGVyXG4gICAgICogaW1tZWRpYXRlbHkgd2l0aG91dCByZXNwZWN0aW5nIGFueSBkZWJvdW5jaW5nLlxuICAgICAqXG4gICAgICogKipOT1RFKio6IElmIHRoZSBwcmV2aW91cyBjaGFyYWN0ZXIgY291bnQgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnRcbiAgICAgKiBjb3VudCwgdGhlbiBub3RoaW5nIG5ldyB3aWxsIGJlIGFubm91bmNlZCB0byBzY3JlZW4gcmVhZGVycy4gSWYgeW91IG5lZWRcbiAgICAgKiB0byByZS1hbm5vdW5jZSBzb21ldGhpbmcsIHNlZSB7QGxpbmsgYW5ub3VuY2VUb1NjcmVlblJlYWRlckZvcmNlZnVsbHl9LlxuICAgICAqXG4gICAgICogVXNlIHdpdGggY2F1dGlvbiFcbiAgICAgKi9cbiAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVySW1tZWRpYXRlID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gdGhpcy5nZXRDdXJyZW50Q291bnQoKTtcbiAgICAgICAgY29uc3QgbWF4TGVuZ3RoID0gdGhpcy5nZXRNYXhMZW5ndGgoKTtcbiAgICAgICAgY29uc3QgbWluTGVuZ3RoID0gdGhpcy5nZXRNaW5MZW5ndGgoKTtcblxuICAgICAgICB0aGlzLnNjcmVlblJlYWRlck1lc3NhZ2VUYXJnZXQuaW5uZXJUZXh0ID0gdGhpcy5zY3JlZW5SZWFkZXJNZXNzYWdlKFxuICAgICAgICAgICAgY3VycixcbiAgICAgICAgICAgIG1heExlbmd0aCxcbiAgICAgICAgICAgIG1pbkxlbmd0aFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGRlYm91bmNlVXBkYXRlU2NyZWVuUmVhZGVyID0gZGVib3VuY2UoXG4gICAgICAgIHRoaXMuYW5ub3VuY2VUb1NjcmVlblJlYWRlckltbWVkaWF0ZSxcbiAgICAgICAgMjAwMCwgLy8gMiBzZWNvbmRzOyB3ZSBkb24ndCB3YW50IHRvIHNwYW0gb3VyIGFubm91bmNlbWVudHMgdG8gU1JzIGFmdGVyIGV2ZXJ5IGtleXN0cm9rZVxuICAgICAgICB7IHNsaWRpbmc6IHRydWUgfVxuICAgICk7XG5cbiAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyID0gdGhpcy5kZWJvdW5jZVVwZGF0ZVNjcmVlblJlYWRlci50cmlnZ2VyO1xuXG4gICAgLyoqXG4gICAgICogQW5ub3VuY2UgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGNvdW50IHJlbWFpbmluZyB0byB0aGUgc2NyZWVuIHJlYWRlclxuICAgICAqIGltbWVkaWF0ZWx5IHdpdGhvdXQgcmVzcGVjdGluZyBhbnkgZGVib3VuY2luZy4gSG93ZXZlciwgdGhpcyB3aWxsXG4gICAgICogcmUtYW5ub3VuY2UgYW55IG1lc3NhZ2VzIHRvIHNjcmVlbiByZWFkZXJzIGlmIGl0J3MgdGhlIHNhbWUgbWVzc2FnZSBhc1xuICAgICAqIGJlZm9yZS5cbiAgICAgKlxuICAgICAqIFVzZSB3aXRoIGNhdXRpb24hXG4gICAgICovXG4gICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlckZvcmNlZnVsbHkgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuc2NyZWVuUmVhZGVyTWVzc2FnZVRhcmdldC5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLnNyVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFubm91bmNlVG9TY3JlZW5SZWFkZXJJbW1lZGlhdGUoKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9O1xuXG4gICAgY2FuY2VsQW5ub3VuY2VUb1NjcmVlblJlYWRlciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZVVwZGF0ZVNjcmVlblJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3JUaW1lcik7XG4gICAgfTtcblxuICAgIEBzdGltdWx1c0NhbGxiYWNrXG4gICAgY3NzQ2xhc3Nlc1ZhbHVlQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5icmVha1BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXMgPSB7fTtcblxuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmNzc0NsYXNzZXNWYWx1ZSkuZm9yRWFjaCgoW2tleSwgY2xhc3Nlc10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnJlYWtQb2ludHMucHVzaCgra2V5KTtcbiAgICAgICAgICAgIHRoaXMuY3NzQ2xhc3Nlc1sra2V5XSA9IGNsYXNzZXMuc3BsaXQoXCIgXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJyZWFrUG9pbnRzLnNvcnQoKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIEBzdGltdWx1c0NhbGxiYWNrXG4gICAgaW52YWxpZFN0YXRlVmFsdWVDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChcInN0YXRlQ2hhbmdlXCIsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZDogdGhpcy5pbnZhbGlkU3RhdGVWYWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgQHN0aW11bHVzQ2FsbGJhY2tcbiAgICB0YXJnZXRWYWx1ZUNoYW5nZWQgPSAobmV3VGFyZ2V0OiBzdHJpbmcsIG9sZFRhcmdldDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChvbGRUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kRXZlbnRzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2xkVGFyZ2V0KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRUYXJnZXQobmV3VGFyZ2V0KTtcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKHRoaXMudGFyZ2V0RmllbGQpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGdldENzc0NsYXNzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgY3VyckNvdW50ID0gdGhpcy5nZXRDdXJyZW50Q291bnQoKTtcbiAgICAgICAgY29uc3QgbWF4TGVuZ3RoID0gdGhpcy5nZXRNYXhMZW5ndGgoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGJyZWFrcG9pbnQgb2YgdGhpcy5icmVha1BvaW50cykge1xuICAgICAgICAgICAgY29uc3QgY2xzID0gdGhpcy5jc3NDbGFzc2VzW2JyZWFrcG9pbnRdO1xuXG4gICAgICAgICAgICBpZiAoY3VyckNvdW50ID4gbWF4TGVuZ3RoICogYnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50Q291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnRhcmdldEZpZWxkLnZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLmlnbm9yZVdoaXRlc3BhY2VWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrLywgXCJcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzKyQvLCBcIlwiKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3JtYWxpemUgbGluZSBlbmRpbmdzIGZvciBsZW5ndGggY2hlY2tzLCB1c2UgQ1JMRiwgYmVjYXVzZSB0aGF0J3Mgd2hhdCB0aGUgc2VydmVyIHJlY2VpdmVzIHdoZW4gd2Ugc3VibWl0IExGc1xuICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxyXFxuL2csIFwiXFxuXCIpLnJlcGxhY2UoL1xcbi9nLCBcIlxcclxcblwiKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRNYXhMZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGxlbmd0aDogbnVsbCB8IHN0cmluZztcblxuICAgICAgICBpZiAoKGxlbmd0aCA9IHRoaXMudGFyZ2V0RmllbGQuZ2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICtsZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXRpYmlsaXR5IHdpdGggcG9zdC12YWxpZGF0aW9uLmpzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChsZW5ndGggPSB0aGlzLnRhcmdldEZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtbWF4LWxlbmd0aFwiKSkgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gK2xlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1heExlbmd0aFZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWluTGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBsZW5ndGg6IG51bGwgfCBzdHJpbmc7XG5cbiAgICAgICAgaWYgKChsZW5ndGggPSB0aGlzLnRhcmdldEZpZWxkLmdldEF0dHJpYnV0ZShcIm1pbmxlbmd0aFwiKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiArbGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcGF0YWJpbGl0eSB3aXRoIHBvc3QtdmFsaWRhdGlvbi5qc1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAobGVuZ3RoID0gdGhpcy50YXJnZXRGaWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1pbi1sZW5ndGhcIikpICE9PSBudWxsXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuICtsZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5taW5MZW5ndGhWYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRUYXJnZXQgPSAodGFyZ2V0UXVlcnk6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFF1ZXJ5KTtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYFNlbGVjdG9yIGRpZCBub3QgZmluZCBhIERPTSBlbGVtZW50IG1hdGNoaW5nOiAke3RhcmdldFF1ZXJ5fWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0YWcgPSB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmICh0YWcgIT09IFwiaW5wdXRcIiAmJiB0YWcgIT09IFwidGV4dGFyZWFcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBPbmx5IGlucHV0cyBhbmQgdGV4dCBhcmVhcyBhcmUgc3VwcG9ydGVkIGFzIHRhcmdldHMuIEdpdmVuOiAke3RhZ31gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YXJnZXRGaWVsZCA9IHRhcmdldCBhcyBTdXBwb3J0ZWRFbGVtZW50O1xuICAgIH07XG5cbiAgICBwcml2YXRlIGJpbmRFdmVudHMgPSAoZWxlbWVudDogU3VwcG9ydGVkRWxlbWVudCkgPT4ge1xuICAgICAgICBtc2dVcGRhdGVFdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy51cGRhdGVWaXN1YWxNZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNyTXNnSW1tZWRpYXRlVXBkYXRlRXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgdGhpcy5hbm5vdW5jZVRvU2NyZWVuUmVhZGVyRm9yY2VmdWxseVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNyTXNnUG9saXRlVXBkYXRlRXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuYW5ub3VuY2VUb1NjcmVlblJlYWRlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzck1zZ0NhbmNlbEV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmNhbmNlbEFubm91bmNlVG9TY3JlZW5SZWFkZXIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSB1bmJpbmRFdmVudHMgPSAoZWxlbWVudDogbnVsbCB8IFN1cHBvcnRlZEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1zZ1VwZGF0ZUV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLnVwZGF0ZVZpc3VhbE1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3JNc2dJbW1lZGlhdGVVcGRhdGVFdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICB0aGlzLmFubm91bmNlVG9TY3JlZW5SZWFkZXJGb3JjZWZ1bGx5XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgc3JNc2dQb2xpdGVVcGRhdGVFdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5hbm5vdW5jZVRvU2NyZWVuUmVhZGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNyTXNnQ2FuY2VsRXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxBbm5vdW5jZVRvU2NyZWVuUmVhZGVyXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBtaW5pbWFsTWVzc2FnZSA9IChjdXJyZW50OiBudW1iZXIsIG1heDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICAgICAgcmV0dXJuIF9zKFwiI2N1cnJlbnQjIC8gI21heCMgY2hhcmFjdGVyc1wiLCB7IGN1cnJlbnQsIG1heCB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBkZXNjcmlwdGl2ZU1lc3NhZ2UgPSAoXG4gICAgICAgIGN1cnJDb3VudDogbnVtYmVyLFxuICAgICAgICBtYXhMZW5ndGg6IG51bWJlcixcbiAgICAgICAgbWluTGVuZ3RoOiBudW1iZXJcbiAgICApOiBzdHJpbmcgPT4ge1xuICAgICAgICBpZiAoY3VyckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zKFwiRW50ZXIgdXAgdG8gI21heCMgY2hhcmFjdGVyc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIG1heDogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3MoXCJFbnRlciBhdCBsZWFzdCAjbWluIyBjaGFyYWN0ZXJzXCIsIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbkxlbmd0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJDb3VudCA8IG1pbkxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zKFwiI2NvdW50IyBtb3JlIHRvIGdvLi4uXCIsIHtcbiAgICAgICAgICAgICAgICBjb3VudDogbWluTGVuZ3RoIC0gY3VyckNvdW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaWZmID0gbWF4TGVuZ3RoIC0gY3VyckNvdW50O1xuXG4gICAgICAgIGlmIChkaWZmID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfcyhcIiNjb3VudCMgY2hhcmFjdGVycyBsZWZ0XCIsIHsgY291bnQ6IGRpZmYgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3MoXCJUb28gbG9uZyBieSAjY291bnQjIGNoYXJhY3RlcnNcIiwge1xuICAgICAgICAgICAgY291bnQ6IE1hdGguYWJzKGRpZmYpLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSWRlbnRpY2FsIGxvZ2ljIHRvIHtAbGluayBkZXNjcmlwdGl2ZU1lc3NhZ2V9IGV4Y2VwdCB0aGUgd29yZGluZyByZXR1cm5lZFxuICAgICAqIGZyb20gdGhpcyBtZXRob2QgaXMgbW9yZSBnZWFyZWQgdG93YXJkcyBodW1hbiB1bmRlcnN0YW5kYWJsZSBwaHJhc2luZ1xuICAgICAqIGluc3RlYWQgb2Ygc2hvcnRoYW5kLlxuICAgICAqL1xuICAgIHByaXZhdGUgc2NyZWVuUmVhZGVyTWVzc2FnZSA9IChcbiAgICAgICAgY3VyckNvdW50OiBudW1iZXIsXG4gICAgICAgIG1heExlbmd0aDogbnVtYmVyLFxuICAgICAgICBtaW5MZW5ndGg6IG51bWJlclxuICAgICk6IHN0cmluZyA9PiB7XG4gICAgICAgIGlmIChjdXJyQ291bnQgPT09IDAgJiYgbWluTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3MoXCJZb3UgaGF2ZSAjbWF4IyBjaGFyYWN0ZXJzIHJlbWFpbmluZ1wiLCB7XG4gICAgICAgICAgICAgICAgbWF4OiBtYXhMZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyQ291bnQgPCBtaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcyhcIllvdSBuZWVkIGF0IGxlYXN0ICNtaW4jIG1vcmUgY2hhcmFjdGVyc1wiLCB7XG4gICAgICAgICAgICAgICAgbWluOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRpZmYgPSBtYXhMZW5ndGggLSBjdXJyQ291bnQ7XG5cbiAgICAgICAgaWYgKGRpZmYgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zKFwiWW91IGhhdmUgI2NvdW50IyBjaGFyYWN0ZXJzIHJlbWFpbmluZ1wiLCB7IGNvdW50OiBkaWZmIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9zKFwiWW91IGhhdmUgI2NvdW50IyBjaGFyYWN0ZXJzIHRvbyBtYW55XCIsIHtcbiAgICAgICAgICAgIGNvdW50OiBNYXRoLmFicyhkaWZmKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IGJ1aWxkQ29udHJvbGxlciB9IGZyb20gXCIuLi8uLi9zaGFyZWQvY29udHJvbGxlci1idWlsZGVyXCI7XG5cbmNvbnN0IHsgQmFzZSB9ID0gYnVpbGRDb250cm9sbGVyKFwic2UtZGVsYXllZC1wb3BvdmVyXCIpXG4gICAgLndpdGhUYXJnZXRzKFwiY29udHJvbGxlclwiKVxuICAgIC53aXRoVmFsdWVzKHtcbiAgICAgICAgZGVsYXk6IE51bWJlcixcbiAgICAgICAgYWZ0ZXJWaXNpYmxlOiBCb29sZWFuLFxuICAgIH0pXG4gICAgLmJ1aWxkKCk7XG5cbi8qKlxuICogVGhpcyBjb250cm9sbGVyIGFsbG93cyB5b3UgdG8gc2V0IGEgdGltZSBkZWxheSB0byBhdXRvbWF0aWNhbGx5IHNob3cgYSBwb3BvdmVyXG4gKiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LlxuICpcbiAqIC0gXCJjb250cm9sbGVyXCIgdGFyZ2V0IGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHRoYXQgaG9sZHMgdGhlIHMtcG9wb3ZlciBjb250cm9sbGVyLlxuICogLSBcImRlbGF5XCIgdmFsdWUgc2hvdWxkIGJlIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHNob3dpbmcgdGhlIHBvcG92ZXIuXG4gKiAtIFwiYWZ0ZXJWaXNpYmxlXCIgdmFsdWUgc2hvdWxkIGJlIHRydWUgaWYgeW91IHdhbnQgdG8gd2FpdCB1bnRpbCB0aGUgY29udHJvbGxlciBlbGVtZW50IGlzIHZpc2libGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVsYXllZFBvcG92ZXJDb250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgZGVjbGFyZSByZWFkb25seSBoYXNDb250cm9sbGVyVGFyZ2V0OiBib29sZWFuO1xuICAgIGRlY2xhcmUgcmVhZG9ubHkgY29udHJvbGxlclRhcmdldDogSFRNTEVsZW1lbnQ7XG4gICAgZGVjbGFyZSByZWFkb25seSBkZWxheVZhbHVlOiBudW1iZXI7XG4gICAgZGVjbGFyZSByZWFkb25seSBhZnRlclZpc2libGVWYWx1ZTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBjb25uZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ29udHJvbGxlclRhcmdldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcG9wb3ZlciBjb250cm9sbGVyIGVsZW1lbnQgc2VsZWN0b3IgcHJvdmlkZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hZnRlclZpc2libGVWYWx1ZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIHRvIHdhdGNoIGZvciB0aGUgY29udHJvbGxlciBlbGVtZW50IHRvIGJlY29tZSB2aXNpYmxlLlxuICAgICAgICAgICAgLy8gT25jZSB2aXNpYmxlLCB3ZSBzdGFydCB0aGUgb25lLXNob3QgdGltZXIgdG8gc2hvdyB0aGUgcG9wb3ZlciwgYW5kIHVucmVnaXN0ZXJcbiAgICAgICAgICAgIC8vIHRoZSBvYnNlcnZlci5cbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzWzBdLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcG92ZXJBZnRlckRlbGF5KHRoaXMuZGVsYXlWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmNvbnRyb2xsZXJUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udHJvbGxlclRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dQb3BvdmVyQWZ0ZXJEZWxheSh0aGlzLmRlbGF5VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93UG9wb3ZlckFmdGVyRGVsYXkoZGVsYXk6IG51bWJlcikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIFN0YWNrcy5zaG93UG9wb3Zlcih0aGlzLmNvbnRyb2xsZXJUYXJnZXQpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYnVpbGRDb250cm9sbGVyIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9jb250cm9sbGVyLWJ1aWxkZXJcIjtcblxuY29uc3QgeyBCYXNlIH0gPSBidWlsZENvbnRyb2xsZXIoXCJzZS1kaXNtaXNzXCIpXG4gICAgLndpdGhUYXJnZXRzKFwiZGVsZXRhYmxlXCIpXG4gICAgLndpdGhWYWx1ZXMoe1xuICAgICAgICBlbmRwb2ludDogU3RyaW5nLFxuICAgICAgICBma2V5OiBTdHJpbmcsXG4gICAgfSlcbiAgICAuYnVpbGQoKTtcblxuLyoqXG4gKiBUaGlzIGNvbnRyb2xsZXIgZW5hYmxlcyBxdWljayB3aXJlIHVwIG9mIGJ1dHRvbnMgdG8gZGlzbWlzcyBub3RpZmljYXRpb25zLCBiYW5uZXJzLCBwb3BvcHZlcnMsIGV0Yy5cbiAqIEl0IHJlcXVpcmVzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyB0byBiZSB3aXJlZCB1cDpcbiAqXG4gKiAtIFwiZGVsZXRhYmxlXCIgdGFyZ2V0IG9uIHRoZSBlbGVtZW50KHMpIHRoYXQgc2hvdWxkIGJlIGRlbGV0ZWQgZnJvbSB0aGUgcGFnZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZGlzbWlzc1xuICogLSBcImVuZHBvaW50XCIgdmFsdWUgdGhhdCBzcGVjaWZpZXMgd2hpY2ggZW5kcG9pbnQgc2hvdWxkIGJlIGhpdCB0byByZWNvcmQgdGhlIGRpc21pc3MgYWN0aW9uXG4gKiAtIFwiZmtleVwiIHZhbHVlIHVzZWQgZm9yIFhTUkYgcHJvdGVjdGlvblxuICogLSBBIGNhbGwgdG8gdGhlIHBlcmZvcm1EaXNtaXNzIGFjdGlvbiBvbiB0aGUgY29udHJvbGxlciB0byBwZXJmb3JtIHRoZSBkaXNtaXNzICh3aXJlIHRoaXMgdXAgb24gdGhlIGNsaWNrYWJsZSBlbGVtZW50IHRoYXQgZGlzbWlzc2VzKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNtaXNzQ29udHJvbGxlciBleHRlbmRzIEJhc2Uge1xuICAgIGRlY2xhcmUgZW5kcG9pbnRWYWx1ZTogc3RyaW5nO1xuICAgIGRlY2xhcmUgZktleVZhbHVlOiBzdHJpbmc7XG5cbiAgICBwZXJmb3JtRGlzbWlzcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0VuZHBvaW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpc21pc3MgZW5kcG9pbnQgcmVxdWlyZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaGFzRGVsZXRhYmxlVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgZGVsZXRhYmxlIHRhcmdldCByZXF1aXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5oYXNGa2V5VmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZrZXkgdmFsdWUgcmVxdWlyZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJma2V5XCIsIHRoaXMuZmtleVZhbHVlKTtcblxuICAgICAgICBmZXRjaCh0aGlzLmVuZHBvaW50VmFsdWUsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0YWJsZVRhcmdldHMuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5yZW1vdmUoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGJ1aWxkQ29udHJvbGxlciB9IGZyb20gXCIuLi8uLi9zaGFyZWQvY29udHJvbGxlci1idWlsZGVyXCI7XG5pbXBvcnQgXCJqcXVlcnktdWkvdWkvd2lkZ2V0cy9zb3J0YWJsZVwiO1xuXG5jb25zdCB7IEJhc2UgfSA9IGJ1aWxkQ29udHJvbGxlcihcInNlLWRyYWdnYWJsZS1zb3J0XCIpXG4gICAgLndpdGhWYWx1ZXMoe1xuICAgICAgICBzb3J0QXhpczogU3RyaW5nLFxuICAgICAgICBwbGFjZWhvbGRlckNsYXNzOiBTdHJpbmcsXG4gICAgICAgIGhhbmRsZVNlbGVjdG9yOiBTdHJpbmcsXG4gICAgfSlcbiAgICAud2l0aFRhcmdldHMoXCJzb3J0YWJsZVwiKVxuICAgIC5idWlsZCgpO1xuXG4vKipcbiAqIEEgU3RpbXVsdXNKUyBjb250cm9sbGVyIHRoYXQgYWxsb3dzIGRyYWdnaW5nIEhUTUwgZWxlbWVudHMgdG8gc29ydCB0aGVtLlxuICogSXQgcmVxdWlyZXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHRvIGJlIHdpcmVkIHVwOlxuICpcbiAqIC0gXCJzb3J0YWJsZVwiIHRhcmdldCBvbiB0aGUgZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgZHJhZyBzb3J0YWJsZVxuICogLSBcInNvcnQtYXhpc1wiIHZhbHVlIHRoYXQgc3BlY2lmaWVzIHdoaWNoIGF4aXMgdGhlIGVsZW1lbnRzIHNob3VsZCBiZSBzb3J0YWJsZSBvbiAoZWl0aGVyIFwieFwiIG9yIFwieVwiKVxuICogLSBcInBsYWNlaG9sZGVyLWNsYXNzXCIgdmFsdWUgdGhhdCBzcGVjaWZpZXMgdGhlIGNsYXNzIHRvIHVzZSBmb3IgdGhlIHBsYWNlaG9sZGVyIGVsZW1lbnQgKG9wdGlvbmFsKVxuICogLSBcImhhbmRsZS1zZWxlY3RvclwiIHZhbHVlIHRoYXQgc3BlY2lmaWVzIHRoZSBzZWxlY3RvciB0byB1c2UgZm9yIHRoZSBoYW5kbGUgZWxlbWVudC4gQnkgZGVmYXVsdCBpdCB1c2VzIHRoZSB3aG9sZSBzb3J0YWJsZSBlbGVtZW50LiAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdnYWJsZVNvcnRDb250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKFtcInhcIiwgXCJ5XCJdLmluZGV4T2YodGhpcy5zb3J0QXhpc1ZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzb3J0LWF4aXMgdmFsdWUgbXVzdCBiZSBlaXRoZXIgJ3gnIG9yICd5Jy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuZWxlbWVudCkuc29ydGFibGUoe1xuICAgICAgICAgICAgYXhpczogdGhpcy5zb3J0QXhpc1ZhbHVlLFxuICAgICAgICAgICAgaXRlbXM6IFwiW2RhdGEtc2UtZHJhZ2dhYmxlLXNvcnQtdGFyZ2V0PSdzb3J0YWJsZSddXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLjAsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5oYXNQbGFjZWhvbGRlckNsYXNzVmFsdWVcbiAgICAgICAgICAgICAgICA/IHRoaXMucGxhY2Vob2xkZXJDbGFzc1ZhbHVlXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoYW5kbGU6IHRoaXMuaGFzSGFuZGxlU2VsZWN0b3JWYWx1ZVxuICAgICAgICAgICAgICAgID8gdGhpcy5oYW5kbGVTZWxlY3RvclZhbHVlXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNvcnRhYmxlVGFyZ2V0Q29ubmVjdGVkKCkge1xuICAgICAgICBpZiAoJCh0aGlzLmVsZW1lbnQpLnNvcnRhYmxlKFwiaW5zdGFuY2VcIikpIHtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5zb3J0YWJsZShcInJlZnJlc2hcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0YWJsZVRhcmdldERpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgaWYgKCQodGhpcy5lbGVtZW50KS5zb3J0YWJsZShcImluc3RhbmNlXCIpKSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuc29ydGFibGUoXCJyZWZyZXNoXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYnVpbGRDb250cm9sbGVyIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9jb250cm9sbGVyLWJ1aWxkZXJcIjtcbmltcG9ydCB7IFBvc3RUeXBlSWQgfSBmcm9tIFwiLi8uLi8uLi8uLi9QYXJ0aWFsSlMvZnVsbC1jb21tb24vOTlfUG9zdFR5cGVJZC5tb2RcIjtcbmltcG9ydCB7IFZvdGVUeXBlSWQgfSBmcm9tIFwiLi4vLi4vLi4vX0RlY2xhcmF0aW9ucy9UeXBlSWRFbnVtc1wiO1xuaW1wb3J0IHtcbiAgICBzaG93VG9hc3QsXG4gICAgdG9nZ2xlU3RhY2tzUG9wb3ZlcixcbiAgICBoaWRlVG9hc3RzLFxufSBmcm9tIFwiLi4vLi4vLi4vU2hhcmVkL2hlbHBlcnMubW9kXCI7XG5pbXBvcnQgeyBWb3RlUmVzdWx0IH0gZnJvbSBcIi4uLy4uLy4uL0xlZ2FjeUpTL2Z1bGwvMDRfVm90ZS5tb2RcIjtcbmltcG9ydCB7IHNldFRvb2x0aXBUZXh0IH0gZnJvbSBcIi4uLy4uLy4uL0xlZ2FjeUpTL3N0dWIubW9kXCI7XG5pbXBvcnQgb3B0aW9ucyBmcm9tIFwiLi4vLi4vLi4vU2hhcmVkL29wdGlvbnMubW9kXCI7XG5pbXBvcnQgeyBzaG93TG9naW5Nb2RhbCB9IGZyb20gXCIuLi8uLi8uLi9MZWdhY3lKUy9mdWxsLWNvbW1vbi8yMV9PcGVuSUQubW9kXCI7XG5cbmNvbnN0IHsgQmFzZSB9ID0gYnVpbGRDb250cm9sbGVyKFwic2UtZm9sbG93LXBvc3RcIilcbiAgICAud2l0aFRhcmdldHMoXCJmb2xsb3dcIilcbiAgICAud2l0aFZhbHVlcyh7XG4gICAgICAgIHBvc3RJZDogTnVtYmVyLFxuICAgICAgICBwb3N0VHlwZUlkOiBOdW1iZXIsXG4gICAgICAgIGlzRm9sbG93aW5nOiBCb29sZWFuLFxuICAgICAgICBmb2xsb3dTdWNjZXNzVG9hc3RPdmVycmlkZTogU3RyaW5nLFxuICAgICAgICB1bmZvbGxvd1N1Y2Nlc3NUb2FzdE92ZXJyaWRlOiBTdHJpbmcsXG4gICAgICAgIHNob3dQb3BvdmVyOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgICAgYW5vbnltb3VzVXJsOiBTdHJpbmcsXG4gICAgfSlcbiAgICAuYnVpbGQoKTtcblxuLyoqXG4gKiBUaGlzIGNvbnRyb2xsZXIgZW5hYmxlcyBwb3N0IGZvbGxvd3MvdW5mb2xsb3dzLiBDdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBldmVudCB0cmFja2luZy5cbiAqIEl0IHJlcXVpcmVzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyB0byBiZSB3aXJlZCB1cDpcbiAqXG4gKiAtIFwiZm9sbG93XCIgdGFyZ2V0IG9uIHRoZSBlbGVtZW50IHRoYXQgdHJpZ2dlcnMgdGhlIGZvbGxvdy91bmZvbGxvdyBhY3Rpb25cbiAqIC0gXCJwb3N0SWRcIiB2YWx1ZSB0aGF0IHNwZWNpZmllcyB0aGUgcG9zdCB0byBiZSBmb2xsb3dlZC91bmZvb2xlZHNcbiAqIC0gXCJwb3N0VHlwZUlkXCIgdmFsdWUgdXNlZCBmb3IgdG8gY3VzdG9taXplIHRvb2x0aXBzIGFuZCBub3RpZmljYXRpb24gbWVzc2FnZVxuICouLSBcImlzRm9sbG93aW5nXCIgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcG9zdCBpcyBhbHJlYWR5IGJlaW5nIGZvbGxvd2VkXG4gKiAtIFwiZm9sbG93U3VjY2Vzc1RvYXN0T3ZlcnJpZGVcIiAtIG9wdGlvbmFsIHBhcmFtZXRlciwgb3ZlcnJpZGVzIHRoZSBvbiBmb2xsb3cgc3VjY2VzcyB0b2FzdCBtZXNzYWdlXG4gKiAtIFwidW5mb2xsb3dTdWNjZXNzVG9hc3RPdmVycmlkZVwiIC0gb3B0aW9uYWwgcGFyYW1ldGVyLCBvdmVycmlkZXMgdGhlIG9uIHVuZm9sbG93IHN1Y2Nlc3MgdG9hc3QgbWVzc2FnZVxuICogLSBcInNob3dQb3BvdmVyXCIgLSBvcHRpb25hbCBwYXJhbWV0ZXIsIGRlZmF1bHRzIHRvIHRydWUgYW5kIHNob3cgYSBwb3BvdmVyIG9uIGZvbGxvd1xuICogLSBcImFub255bW91c1VybFwiIC0gb3B0aW9uYWwgcGFyYW1ldGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvbGxvd1Bvc3RDb250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVVSSh0aGlzLmlzRm9sbG93aW5nVmFsdWUpO1xuICAgICAgICB0aGlzLmZvbGxvd1RhcmdldC5vbmNsaWNrID0gb3B0aW9ucy51c2VyLmlzQW5vbnltb3VzXG4gICAgICAgICAgICA/IHRoaXMuYmluZEFub255bW91c1BvcHVwLmJpbmQodGhpcylcbiAgICAgICAgICAgIDogdGhpcy5iaW5kRm9sbG93VW5mb2xsb3cuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBiaW5kRm9sbG93VW5mb2xsb3coKSB7XG4gICAgICAgIGNvbnN0IGZvbGxvd1RhcmdldCA9IHRoaXMuZm9sbG93VGFyZ2V0O1xuICAgICAgICBjb25zdCBvcmlnaW5hbElzRm9sbG93aW5nID1cbiAgICAgICAgICAgIHRoaXMuZm9sbG93VGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGNvbnN0IG5ld0lzRm9sbG93aW5nID0gIW9yaWdpbmFsSXNGb2xsb3dpbmc7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBgL3Bvc3RzLyR7dGhpcy5wb3N0SWRWYWx1ZX0vdm90ZS8ke1ZvdGVUeXBlSWQuZm9sbG93fWAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZmtleTogb3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICAgICAgdW5kbzogb3JpZ2luYWxJc0ZvbGxvd2luZywgLy8gaWYgaXQgaXMgY3VycmVudGx5IGZvbGxvd2luZywgdGhhdCBtZWFucyB0aGF0IHdlIG5vdyBoYXZlIHRvIHVuZG8gdGhlIHZvdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YTogVm90ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZGF0YS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVUkob3JpZ2luYWxJc0ZvbGxvd2luZyk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChkYXRhLk1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZVJhd0h0bWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNtaXNzYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaWVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9sbG93UG9wb3ZlckV4aXN0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2RpdkZvbGxvd2luZ0NvbmZpcm0tXCIgKyB0aGlzLnBvc3RJZFZhbHVlKS5sZW5ndGggPlxuICAgICAgICAgICAgICAgICAgICAgICAgMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5NZXNzYWdlICYmIHRoaXMuc2hvd1BvcG92ZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb2xsb3dQb3BvdmVyRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkYXRhLk1lc3NhZ2UpLmluc2VydEFmdGVyKGZvbGxvd1RhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93UG9wb3ZlckV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kUG9wb3ZlclVuZm9sbG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IHRoZXNlIGFyZSBzZXQgcHJvcGVybHksIHNpbmNlIG90aGVyIGNvZGUgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lc3NlcyB3aXRoIHRoaXMgZm9yIHJlbW92aW5nIHRoZSBuZXcgZmVhdHVyZSBwb3BvdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dUYXJnZXQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1jb250cm9sc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2Rm9sbG93aW5nQ29uZmlybS1cIiArIHRoaXMucG9zdElkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dUYXJnZXQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1jb250cm9sbGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzLXBvcG92ZXIgcy10b29sdGlwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SXNGb2xsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGp1c3Qgc3RhcnRlZCBmb2xsb3dpbmcsIHNob3cgdGhlIHBvcG92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2xsb3dQb3BvdmVyRXhpc3RzICYmIHRoaXMuc2hvd1BvcG92ZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUb2FzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTdGFja3NQb3BvdmVyKCQoZm9sbG93VGFyZ2V0KSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IGZpbmQgdGhlIHBvcG92ZXIgY29udHJvbGxlciBmb3IgYW55IHJlYXNvbiwgc3RpbGwgc2hvdyBhIGNvbmZpcm1hdGlvbiB3aXRoIHRvYXN0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dGb2xsb3dTdWNjZXNzVG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgdW5mb2xsb3dlZCwgc2hvdyBtZXNzYWdlIGF0IHRvcCBvZiBzY3JlZW4gY29uZmlybWluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VW5mb2xsb3dTdWNjZXNzVG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2xsb3dQb3BvdmVyRXhpc3RzICYmIHRoaXMuc2hvd1BvcG92ZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwb3BvdmVyIHdhcyBvcGVuIChmb3IgZXhhbXBsZSwgdXNlciBjbGlja2VkIHRoZSBwb3BvdmVyIHVuZm9sbG93IGJ1dHRvbikgdGhlbiBoaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU3RhY2tzUG9wb3ZlcigkKGZvbGxvd1RhcmdldCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVUkobmV3SXNGb2xsb3dpbmcpO1xuICAgICAgICAgICAgICAgIGZvbGxvd1RhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVUkob3JpZ2luYWxJc0ZvbGxvd2luZyk7XG4gICAgICAgICAgICAgICAgZm9sbG93VGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmluZEFub255bW91c1BvcHVwKCk6IHZvaWQge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IHRoaXMuaGFzQW5vbnltb3VzVXJsVmFsdWVcbiAgICAgICAgICAgICAgICA/IHRoaXMuYW5vbnltb3VzVXJsVmFsdWVcbiAgICAgICAgICAgICAgICA6IGAvcG9zdHMvcG9wdXAvYW5vbi12b3RlLyR7dGhpcy5wb3N0SWRWYWx1ZX0/dm90ZVR5cGVJZD0ke1ZvdGVUeXBlSWQuZm9sbG93fWAsXG4gICAgICAgICAgICBkYXRhOiB7IGZrZXk6IFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmZrZXkgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvZ2luTW9kYWwoaHRtbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCJBbiBlcnJvciBvY2N1cnJlZC5cIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhbmdlclwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmluZFBvcG92ZXJVbmZvbGxvdygpOiB2b2lkIHtcbiAgICAgICAgJChcIi5qcy11bmZvbGxvdy1wb3N0LWNvbmZpcm1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJpbmRGb2xsb3dVbmZvbGxvdygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVVSShpc0ZvbGxvd2luZzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZm9sbG93VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvbGxvd1RhcmdldC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBcImFyaWEtcHJlc3NlZFwiLFxuICAgICAgICAgICAgaXNGb2xsb3dpbmcgPyBcInRydWVcIiA6IFwiZmFsc2VcIlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnNob3dQb3BvdmVyVmFsdWUpIHtcbiAgICAgICAgICAgIHNldFRvb2x0aXBUZXh0KFxuICAgICAgICAgICAgICAgICQodGhpcy5mb2xsb3dUYXJnZXQpLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VG9vbHRpcFRleHQoaXNGb2xsb3dpbmcpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mb2xsb3dUYXJnZXQuaW5uZXJIVE1MID0gaXNGb2xsb3dpbmdcbiAgICAgICAgICAgID8gX3MoXCIkfnBvc3QkRm9sbG93aW5nXCIpXG4gICAgICAgICAgICA6IF9zKFwiRm9sbG93XCIpO1xuICAgIH1cblxuICAgIHNob3dGb2xsb3dTdWNjZXNzVG9hc3QoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmhhc0ZvbGxvd1N1Y2Nlc3NUb2FzdE92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCh0aGlzLmZvbGxvd1N1Y2Nlc3NUb2FzdE92ZXJyaWRlVmFsdWUsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlUmF3SHRtbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvc3RUeXBlSWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgUG9zdFR5cGVJZC5Db2xsZWN0aXZlRGlzY3Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KF9tKFwiWW914oCZcmUgbm93IGZvbGxvd2luZyB0aGlzIGRpc2N1c3Npb25cIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChfbShcIllvdeKAmXJlIG5vdyBmb2xsb3dpbmcgdGhpcyBwb3N0XCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd1VuZm9sbG93U3VjY2Vzc1RvYXN0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5oYXNVbmZvbGxvd1N1Y2Nlc3NUb2FzdE92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCh0aGlzLnVuZm9sbG93U3VjY2Vzc1RvYXN0T3ZlcnJpZGVWYWx1ZSwge1xuICAgICAgICAgICAgICAgIHRyYW5zaWVudDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvc3RUeXBlSWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgUG9zdFR5cGVJZC5Db2xsZWN0aXZlRGlzY3Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgX20oXCJZb3XigJlyZSBubyBsb25nZXIgZm9sbG93aW5nIHRoaXMgZGlzY3Vzc2lvbi5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zaWVudDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChfbShcIllvdeKAmXJlIG5vIGxvbmdlciBmb2xsb3dpbmcgdGhpcyBwb3N0XCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VG9vbHRpcFRleHQoaXNGb2xsb3dpbmc6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICBpZiAoaXNGb2xsb3dpbmcpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3N0VHlwZUlkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFBvc3RUeXBlSWQuQ29sbGVjdGl2ZURpc2N1c3Npb246XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVW5mb2xsb3cgdGhpcyBkaXNjdXNzaW9uIHRvIHN0b3AgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVW5mb2xsb3cgdGhpcyBwb3N0IHRvIHN0b3AgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvc3RUeXBlSWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgUG9zdFR5cGVJZC5Db2xsZWN0aXZlRGlzY3Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGb2xsb3cgdGhpcyBkaXNjdXNzaW9uIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zKFwiRm9sbG93IHRoaXMgcG9zdCB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBidWlsZENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2NvbnRyb2xsZXItYnVpbGRlclwiO1xuXG5jb25zdCB7IEJhc2UgfSA9IGJ1aWxkQ29udHJvbGxlcihcInNlLW5hdi1wcmV2ZW50aW9uXCIpLmJ1aWxkKCk7XG5cbi8qKlxuICogVGhpcyBjb250cm9sbGVyIHByZXZlbnRzIG5hdmlnYXRpb24gYXdheSBmcm9tIHRoZSBwYWdlIGlmIHRoZSB1c2VyIGhhcyB1bnNhdmVkIGNoYW5nZXNcbiAqXG4gKiBJdCB1c2VzIGV2ZW50IGRlbGVnYXRpb24gdG8gbGlzdGVuIGZvciBpbnB1dCBldmVudHMgb24gaW5wdXQgYW5kIHRleHRhcmVhIGVsZW1lbnRzIHRoYXRcbiAqIGFyZSBjaGlsZHJlbiBvZiB0aGUgY29udHJvbGxlcidzIGVsZW1lbnQuIEJ5IHVzaW5nIGV2ZW50IGRlbGVnYXRpb24gYnkgbGlzdGVuaW5nIHRvIHRoZVxuICogY29udHJvbGxlcidzIGVsZW1lbnQsIHdlIGNhbiBsaXN0ZW4gZm9yIGlucHV0IGV2ZW50cyBvbiBlbGVtZW50cyB0aGF0IGFyZSBhZGRlZCB0byB0aGVcbiAqIHBhZ2UgYWZ0ZXIgdGhlIGNvbnRyb2xsZXIgaXMgaW5pdGlhbGl6ZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdlByZXZlbnRpb25Db250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgcHJpdmF0ZSBfc2hvdWxkSW50ZXJydXB0TmF2ID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfd2FzSW50ZXJydXB0aW5nID0gZmFsc2U7XG5cbiAgICBjb25uZWN0KCkge1xuICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIFwidGhpc1wiIGJpbmRpbmcgZm9yIHRoZSBoYW5kbGVyIG1ldGhvZHNcbiAgICAgICAgdGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyID0gdGhpcy53aW5kb3dVbmxvYWRIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubmF2UHJldmVudGlvbklucHV0SGFuZGxlciA9XG4gICAgICAgICAgICB0aGlzLm5hdlByZXZlbnRpb25JbnB1dEhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wYXVzZSA9IHRoaXMucGF1c2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXN1bWUgPSB0aGlzLnJlc3VtZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMud2luZG93VW5sb2FkSGFuZGxlciwge1xuICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgdGhpcy5uYXZQcmV2ZW50aW9uSW5wdXRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLndpbmRvd1VubG9hZEhhbmRsZXIsIHtcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgIHRoaXMubmF2UHJldmVudGlvbklucHV0SGFuZGxlclxuICAgICAgICApO1xuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl93YXNJbnRlcnJ1cHRpbmcgPSB0aGlzLl9zaG91bGRJbnRlcnJ1cHROYXY7XG4gICAgICAgIHRoaXMuX3Nob3VsZEludGVycnVwdE5hdiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5fc2hvdWxkSW50ZXJydXB0TmF2ID0gdGhpcy5fd2FzSW50ZXJydXB0aW5nO1xuICAgIH1cblxuICAgIHByaXZhdGUgd2luZG93VW5sb2FkSGFuZGxlcihldmVudDogQmVmb3JlVW5sb2FkRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEludGVycnVwdE5hdikge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgc3RhbmRhcmQgcHJvY2VkdXJlIHRvIGFjdGl2YXRlIG5hdiBwcmV2ZW50aW9uLiBUaGUgZGlhbG9nIHNob3duIHRvIHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBpcyBoYW5kbGVkIGJ5IHRoZSBicm93c2VyIGFuZCBjYW5ub3QgYmUgY3VzdG9taXplZC4gSGVyZSBpcyB0aGUgcmVmZXJlbmNlIFVSTDpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvYmVmb3JldW5sb2FkX2V2ZW50I2V4YW1wbGVzXG4gICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBmb2xsb3cgc3RhbmRhcmQgYXMgb2YgdGhlIHRpbWUgdGhpcyBjb2RlIHdhcyB3cml0dGVuLCBzbyBpdCByZXF1aXJlc1xuICAgICAgICAgICAgLy8gZXZlbnQucmV0dXJuVmFsdWUgdG8gYmUgYSBub24tbnVsbCBzdHJpbmcuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBuYXZQcmV2ZW50aW9uSW5wdXRIYW5kbGVyKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgIC8vIE9ubHkgbGlzdGVuIGZvciBpbnB1dCBldmVudHMgb24gaW5wdXQgYW5kIHRleHRhcmVhIGVsZW1lbnRzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZEludGVycnVwdE5hdiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQge1xuICAgIGJ1aWxkQ29udHJvbGxlcixcbiAgICBhcnJheU9mLFxuICAgIG9iamVjdE9mU2hhcGUsXG59IGZyb20gXCIuL2xpYi9jb250cm9sbGVyLWJ1aWxkZXIubW9kXCI7XG5leHBvcnQgeyByZWdpc3RlckNvbnRyb2xsZXJzIH0gZnJvbSBcIi4vbGliL2NvbnRyb2xsZXItcmVnaXN0cmF0aW9uXCI7XG4iLCJpbXBvcnQgeyBhcHBsaWNhdGlvbiB9IGZyb20gXCJAc3RhY2tvdmVyZmxvdy9zdGFja3NcIjtcbmltcG9ydCB0eXBlIHsgQ29udHJvbGxlckNvbnN0cnVjdG9yIGFzIFN0aW11bHVzQ29udHJvbGxlckNvbnN0cnVjdG9yIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuaW1wb3J0IHsgQ29udHJvbGxlckNvbW1vblByb3BlcnRpZXMgfSBmcm9tIFwiLi9jb250cm9sbGVyLm1vZFwiO1xuXG50eXBlIEJhc2VTdGltdWx1c0NvbnRyb2xsZXIgPSBTdGltdWx1c0NvbnRyb2xsZXJDb25zdHJ1Y3RvciAmXG4gICAgQ29udHJvbGxlckNvbW1vblByb3BlcnRpZXM8c3RyaW5nPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ29udHJvbGxlcnMoXG4gICAgY29udHJvbGxlcnM6IEJhc2VTdGltdWx1c0NvbnRyb2xsZXJbXSxcbiAgICBuYW1lc3BhY2U/OiBzdHJpbmdcbikge1xuICAgIGZvciAoY29uc3QgY29udHJvbGxlciBvZiBjb250cm9sbGVycykge1xuICAgICAgICBpZiAobmFtZXNwYWNlICYmICFjb250cm9sbGVyLmNvbnRyb2xsZXJOYW1lLnN0YXJ0c1dpdGgobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBUaGUgcHJvdmlkZWQgU3RpbXVsdXMgY29udHJvbGxlcnMgbXVzdCBiZSBuYW1lc3BhY2VkIHdpdGggXCIke25hbWVzcGFjZX1cImBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBsaWNhdGlvbi5yZWdpc3Rlcihjb250cm9sbGVyLmNvbnRyb2xsZXJOYW1lLCBjb250cm9sbGVyKTtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIERlYm91bmNlT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkICppbW1lZGlhdGVseSogb24gZXZlcnkgLnRyaWdnZXIoKSBjYWxsLFxuICAgICAqIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGFsd2F5cz86IEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgYSBjYWxsIHRvIGB0cmlnZ2VyYCB3aWxsIGNhdXNlIHRoZSB0aW1lciB0byBiZSByZXNldDsgaW4gb3RoZXJcbiAgICAgKiB3b3JkcywgYmVmb3JlIGBjYWxsYmFja2AgaXMgY2FsbGVkLCB0aGVyZSBoYXMgdG8gYmUgYSBwYXVzZSBvZiBgZGVsYXlgXG4gICAgICogbWlsbGlzZWNvbmRzIGluIHdoaWNoIGB0cmlnZ2VyYCBpcyAqbm90KiBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBJZiBmYWxzZSAob3Igbm90IHNldCksIHRoZSBjYWxsIHRvIGBjYWxsYmFja2Agd2lsbCBoYXBwZW4gYGRlbGF5YFxuICAgICAqIG1pbGxpc2Vjb25kcyBhZnRlciB0aGUgZmlyc3QgY2FsbCB0byBgdHJpZ2dlcmAsIG5vIG1hdHRlciBob3cgbWFueSB0aW1lc1xuICAgICAqIGB0cmlnZ2VyYCBpcyBjYWxsZWQgYWZ0ZXJ3YXJkcy5cbiAgICAgKi9cbiAgICBzbGlkaW5nPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWJvdW5jZVJldHVybiB7XG4gICAgLyoqXG4gICAgICogQ2F1c2VzIGBjYWxsYmFja2AgdG8gYmUgY2FsbGVkIGFmdGVyIGBkZWxheWAgbWlsbGlzZWNvbmRzLiBBbnkgYXJndW1lbnRzXG4gICAgICogZ2l2ZW4gdG8gYHRyaWdnZXJgIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay4gSWYgYHRyaWdnZXJgIGlzIGNhbGxlZFxuICAgICAqIHdoaWxlIGEgcmVhY3Rpb24gaXMgcGVuZGluZywgdGhlIGNhbGxiYWNrIHdpbGwgc3RpbGwgb25seSBiZSBjYWxsZWRcbiAgICAgKiAqb25jZSouIFRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjayBpbiB0aGlzIGNhc2UgYXJlIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlICpsYXN0KiBjYWxsIHRvIGB0cmlnZ2VyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmdzXG4gICAgICovXG4gICAgdHJpZ2dlcjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgZGVsYXllZCByZWFjdGlvbiAtLSBldmVuIGlmIGEgdHJpZ2dlcigpIGNhbGwgaGFzIGhhcHBlbmVkXG4gICAgICogcHJldmlvdXNseSwgdGhlIGNhbGxiYWNrIHdvbid0IGJlIGNhbGxlZC4gTm8tb3AgaWYgbm8gY2FsbCBpcyBwZW5kaW5nLlxuICAgICAqL1xuICAgIGNhbmNlbDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgRGVib3VuY2VhYmxlRnVuY3Rpb24gPSBEZWJvdW5jZVJldHVyblsndHJpZ2dlciddO1xuXG4vKipcbiAqIENyZWF0ZSBhIHNlcGFyYXRlIHZlcnNpb24gb2YgYSBnaXZlbiBjYWxsYmFjayB0aGF0IGd1YXJhbnRlZXMgb25seSB0byBiZVxuICogZXhlY3V0ZWQgb25jZSBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlIHRoZSBudW1iZXIgb2YgdGltZXMgaXQncyBjYWxsZWQuXG4gKiBAcGFyYW0gZGVsYXkgICAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCBpbiBiZXR3ZWVuIGNhbGxzIHRvXG4gKiAgICAgICAgICAgICAgICAgYGNhbGxiYWNrYC5cbiAqIEBwYXJhbSBvcHRpb25zICBPcHRpb25zIHRvIGNvbmZpZ3VyZSBiZWhhdmlvciwge0BzZWUgRGVib3VuY2VPcHRpb25zfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyBEZWJvdW5jZWFibGVGdW5jdGlvbj4oXG4gICAgY2FsbGJhY2s6IFQsXG4gICAgZGVsYXk6IG51bWJlcixcbiAgICBvcHRpb25zOiBEZWJvdW5jZU9wdGlvbnMgPSB7fSxcbik6IERlYm91bmNlUmV0dXJuIHtcbiAgICBsZXQgdGltZW91dCxcbiAgICAgICAgYWx3YXlzID0gb3B0aW9ucy5hbHdheXM7XG5cbiAgICBjb25zdCBnbyA9ICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRyaWdnZXI6ICguLi5hcmdzOiBhbnlbXSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGFsd2F5cykge1xuICAgICAgICAgICAgICAgIGFsd2F5cyhhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zbGlkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ28oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ28oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbiIsIi8qIVxuICogalF1ZXJ5IFVJIDpkYXRhIDEuMTMuMlxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiA6ZGF0YSBTZWxlY3RvclxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFNlbGVjdHMgZWxlbWVudHMgd2hpY2ggaGF2ZSBkYXRhIHN0b3JlZCB1bmRlciB0aGUgc3BlY2lmaWVkIGtleS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kYXRhLXNlbGVjdG9yL1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICkoIGZ1bmN0aW9uKCAkICkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnJldHVybiAkLmV4dGVuZCggJC5leHByLnBzZXVkb3MsIHtcblx0ZGF0YTogJC5leHByLmNyZWF0ZVBzZXVkbyA/XG5cdFx0JC5leHByLmNyZWF0ZVBzZXVkbyggZnVuY3Rpb24oIGRhdGFOYW1lICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGRhdGFOYW1lICk7XG5cdFx0XHR9O1xuXHRcdH0gKSA6XG5cblx0XHQvLyBTdXBwb3J0OiBqUXVlcnkgPDEuOFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBpLCBtYXRjaCApIHtcblx0XHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgbWF0Y2hbIDMgXSApO1xuXHRcdH1cbn0gKTtcbn0gKTtcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9kYXRlcGlja2VyLWFmLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItYWYuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hZl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1hci1EWi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWFyLURaLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItYXItRFpfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItYXIuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1hci5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWFyX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWF6LmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItYXouanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hel9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1iZS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWJlLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItYmVfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItYmcuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1iZy5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWJnX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWJzLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItYnMuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ic19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1jYS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWNhLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItY2FfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItY3MuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1jcy5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWNzX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWN5LUdCLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItY3ktR0IuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1jeS1HQl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1kYS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWRhLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZGFfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZGUtQVQuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1kZS1BVC5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWRlLUFUX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWRlLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZGUuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1kZV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1lbC5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWVsLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZWxfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZW4tQVUuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1lbi1BVS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWVuLUFVX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWVuLUdCLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZW4tR0IuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lbi1HQl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1lbi1OWi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWVuLU5aLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZW4tTlpfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZW8uanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1lby5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWVvX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWVzLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZXMuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1ldC5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWV0LmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZXRfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZXUuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1ldS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWV1X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWZhLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZmEuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1maS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWZpLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZmlfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZm8uanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1mby5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWZvX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWZyLUNBLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZnItQ0EuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mci1DQV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1mci1DSC5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWZyLUNILmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItZnItQ0hfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItZnIuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1mci5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWZyX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWdsLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItZ2wuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1nbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1oZS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWhlLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItaGVfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItaGkuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1oaS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWhpX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWhyLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItaHIuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ocl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1odS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWh1LmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItaHVfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItaHkuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1oeS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWh5X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWlkLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItaWQuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pZF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1pcy5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWlzLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItaXNfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItaXQtQ0guanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1pdC1DSC5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWl0LUNIX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWl0LmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItaXQuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pdF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1qYS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWphLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItamFfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXIta2EuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1rYS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWthX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWtrLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXIta2suanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ra19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1rbS5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWttLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXIta21fanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXIta28uanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1rby5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWtvX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWt5LmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXIta3kuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1reV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1sYi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLWxiLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItbGJfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItbHQuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1sdC5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLWx0X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLWx2LmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItbHYuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1sdl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1tay5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLW1rLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItbWtfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItbWwuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1tbC5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLW1sX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLW1zLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItbXMuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1tc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1uYi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLW5iLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItbmJfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItbmwtQkUuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1ubC1CRS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLW5sLUJFX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLW5sLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItbmwuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ubF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1ubi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLW5uLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItbm5fanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItbm8uanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1uby5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLW5vX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXBsLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItcGwuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1wbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1wdC1CUi5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXB0LUJSLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItcHQtQlJfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItcHQuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1wdC5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXB0X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXJtLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItcm0uanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ybV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1yby5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXJvLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItcm9fanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItcnUuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1ydS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXJ1X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXNrLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItc2suanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1za19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1zbC5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXNsLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItc2xfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItc3EuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1zcS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXNxX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXNyLVNSLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItc3ItU1IuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zci1TUl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci1zci5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXNyLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItc3JfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItc3YuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci1zdi5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXN2X2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXRhLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItdGEuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10YV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci10aC5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXRoLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItdGhfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItdGouanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci10ai5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXRqX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXRyLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItdHIuanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10cl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci11ay5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXVrLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItdWtfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItdmkuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci12aS5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXZpX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF0sXG5cdFwiLi9kYXRlcGlja2VyLXpoLUNOLmpzXCI6IFtcblx0XHRcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuL2RhdGVwaWNrZXItemgtQ04uanNcIixcblx0XHRcImRlZmF1bHRWZW5kb3JzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfd2lkZ2V0c19kYXRlcGlja2VyX2pzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci16aC1DTl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIlxuXHRdLFxuXHRcIi4vZGF0ZXBpY2tlci16aC1ISy5qc1wiOiBbXG5cdFx0XCIuL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLXpoLUhLLmpzXCIsXG5cdFx0XCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV9pMThuX2RhdGVwaWNrZXItemgtSEtfanMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV92ZXJzaW9uX2pzXCJcblx0XSxcblx0XCIuL2RhdGVwaWNrZXItemgtVFcuanNcIjogW1xuXHRcdFwiLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2kxOG4vZGF0ZXBpY2tlci16aC1UVy5qc1wiLFxuXHRcdFwiZGVmYXVsdFZlbmRvcnMtbm9kZV9tb2R1bGVzX2pxdWVyeS11aV91aV93aWRnZXRzX2RhdGVwaWNrZXJfanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfaTE4bl9kYXRlcGlja2VyLXpoLVRXX2pzLW5vZGVfbW9kdWxlc19qcXVlcnktdWlfdWlfdmVyc2lvbl9qc1wiXG5cdF1cbn07XG5mdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0KHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHRcdHRocm93IGU7XG5cdFx0fSk7XG5cdH1cblxuXHR2YXIgaWRzID0gbWFwW3JlcV0sIGlkID0gaWRzWzBdO1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoaWRzLnNsaWNlKDEpLm1hcChfX3dlYnBhY2tfcmVxdWlyZV9fLmUpKS50aGVuKCgpID0+IHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KGlkLCA3IHwgMTYpO1xuXHR9KTtcbn1cbndlYnBhY2tBc3luY0NvbnRleHQua2V5cyA9ICgpID0+IChPYmplY3Qua2V5cyhtYXApKTtcbndlYnBhY2tBc3luY0NvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9pMThuIGxhenkgcmVjdXJzaXZlIF5cXFxcLlxcXFwvZGF0ZXBpY2tlclxcXFwtLipcXFxcLmpzJFwiO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQXN5bmNDb250ZXh0OyIsIiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKSggZnVuY3Rpb24oICQgKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuLy8gVGhpcyBmaWxlIGlzIGRlcHJlY2F0ZWRcbnJldHVybiAkLnVpLmllID0gISEvbXNpZSBbXFx3Ll0rLy5leGVjKCBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgKTtcbn0gKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIFNjcm9sbCBQYXJlbnQgMS4xMy4yXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IHNjcm9sbFBhcmVudFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IEdldCB0aGUgY2xvc2VzdCBhbmNlc3RvciBlbGVtZW50IHRoYXQgaXMgc2Nyb2xsYWJsZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zY3JvbGxQYXJlbnQvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKSggZnVuY3Rpb24oICQgKSB7XG5cInVzZSBzdHJpY3RcIjtcblxucmV0dXJuICQuZm4uc2Nyb2xsUGFyZW50ID0gZnVuY3Rpb24oIGluY2x1ZGVIaWRkZW4gKSB7XG5cdHZhciBwb3NpdGlvbiA9IHRoaXMuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRleGNsdWRlU3RhdGljUGFyZW50ID0gcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIixcblx0XHRvdmVyZmxvd1JlZ2V4ID0gaW5jbHVkZUhpZGRlbiA/IC8oYXV0b3xzY3JvbGx8aGlkZGVuKS8gOiAvKGF1dG98c2Nyb2xsKS8sXG5cdFx0c2Nyb2xsUGFyZW50ID0gdGhpcy5wYXJlbnRzKCkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwYXJlbnQgPSAkKCB0aGlzICk7XG5cdFx0XHRpZiAoIGV4Y2x1ZGVTdGF0aWNQYXJlbnQgJiYgcGFyZW50LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvdmVyZmxvd1JlZ2V4LnRlc3QoIHBhcmVudC5jc3MoIFwib3ZlcmZsb3dcIiApICsgcGFyZW50LmNzcyggXCJvdmVyZmxvdy15XCIgKSArXG5cdFx0XHRcdHBhcmVudC5jc3MoIFwib3ZlcmZsb3cteFwiICkgKTtcblx0XHR9ICkuZXEoIDAgKTtcblxuXHRyZXR1cm4gcG9zaXRpb24gPT09IFwiZml4ZWRcIiB8fCAhc2Nyb2xsUGFyZW50Lmxlbmd0aCA/XG5cdFx0JCggdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSA6XG5cdFx0c2Nyb2xsUGFyZW50O1xufTtcblxufSApO1xuIiwiKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSApKCBmdW5jdGlvbiggJCApIHtcblwidXNlIHN0cmljdFwiO1xuXG4kLnVpID0gJC51aSB8fCB7fTtcblxucmV0dXJuICQudWkudmVyc2lvbiA9IFwiMS4xMy4yXCI7XG5cbn0gKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIFdpZGdldCAxLjEzLjJcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogV2lkZ2V0XG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogUHJvdmlkZXMgYSBmYWN0b3J5IGZvciBjcmVhdGluZyBzdGF0ZWZ1bCB3aWRnZXRzIHdpdGggYSBjb21tb24gQVBJLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS53aWRnZXQvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vd2lkZ2V0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICkoIGZ1bmN0aW9uKCAkICkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB3aWRnZXRVdWlkID0gMDtcbnZhciB3aWRnZXRIYXNPd25Qcm9wZXJ0eSA9IEFycmF5LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB3aWRnZXRTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBldmVudHMsIGVsZW0sIGk7XG5cdFx0Zm9yICggaSA9IDA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cblx0XHRcdC8vIE9ubHkgdHJpZ2dlciByZW1vdmUgd2hlbiBuZWNlc3NhcnkgdG8gc2F2ZSB0aW1lXG5cdFx0XHRldmVudHMgPSAkLl9kYXRhKCBlbGVtLCBcImV2ZW50c1wiICk7XG5cdFx0XHRpZiAoIGV2ZW50cyAmJiBldmVudHMucmVtb3ZlICkge1xuXHRcdFx0XHQkKCBlbGVtICkudHJpZ2dlckhhbmRsZXIoIFwicmVtb3ZlXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0b3JpZyggZWxlbXMgKTtcblx0fTtcbn0gKSggJC5jbGVhbkRhdGEgKTtcblxuJC53aWRnZXQgPSBmdW5jdGlvbiggbmFtZSwgYmFzZSwgcHJvdG90eXBlICkge1xuXHR2YXIgZXhpc3RpbmdDb25zdHJ1Y3RvciwgY29uc3RydWN0b3IsIGJhc2VQcm90b3R5cGU7XG5cblx0Ly8gUHJveGllZFByb3RvdHlwZSBhbGxvd3MgdGhlIHByb3ZpZGVkIHByb3RvdHlwZSB0byByZW1haW4gdW5tb2RpZmllZFxuXHQvLyBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFzIGEgbWl4aW4gZm9yIG11bHRpcGxlIHdpZGdldHMgKCM4ODc2KVxuXHR2YXIgcHJveGllZFByb3RvdHlwZSA9IHt9O1xuXG5cdHZhciBuYW1lc3BhY2UgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAwIF07XG5cdG5hbWUgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAxIF07XG5cdHZhciBmdWxsTmFtZSA9IG5hbWVzcGFjZSArIFwiLVwiICsgbmFtZTtcblxuXHRpZiAoICFwcm90b3R5cGUgKSB7XG5cdFx0cHJvdG90eXBlID0gYmFzZTtcblx0XHRiYXNlID0gJC5XaWRnZXQ7XG5cdH1cblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHByb3RvdHlwZSApICkge1xuXHRcdHByb3RvdHlwZSA9ICQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIHt9IF0uY29uY2F0KCBwcm90b3R5cGUgKSApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW5cblx0JC5leHByLnBzZXVkb3NbIGZ1bGxOYW1lLnRvTG93ZXJDYXNlKCkgXSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgZnVsbE5hbWUgKTtcblx0fTtcblxuXHQkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9O1xuXHRleGlzdGluZ0NvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXTtcblx0Y29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgXCJuZXdcIiBrZXl3b3JkXG5cdFx0aWYgKCAhdGhpcyB8fCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xuXHRcdFx0cmV0dXJuIG5ldyBjb25zdHJ1Y3Rvciggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZVxuXHRcdC8vIG11c3QgdXNlIFwibmV3XCIga2V5d29yZCAodGhlIGNvZGUgYWJvdmUgYWx3YXlzIHBhc3NlcyBhcmdzKVxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblx0fTtcblxuXHQvLyBFeHRlbmQgd2l0aCB0aGUgZXhpc3RpbmcgY29uc3RydWN0b3IgdG8gY2Fycnkgb3ZlciBhbnkgc3RhdGljIHByb3BlcnRpZXNcblx0JC5leHRlbmQoIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLCB7XG5cdFx0dmVyc2lvbjogcHJvdG90eXBlLnZlcnNpb24sXG5cblx0XHQvLyBDb3B5IHRoZSBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhlIHByb3RvdHlwZSBpbiBjYXNlIHdlIG5lZWQgdG9cblx0XHQvLyByZWRlZmluZSB0aGUgd2lkZ2V0IGxhdGVyXG5cdFx0X3Byb3RvOiAkLmV4dGVuZCgge30sIHByb3RvdHlwZSApLFxuXG5cdFx0Ly8gVHJhY2sgd2lkZ2V0cyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIHdpZGdldCBpbiBjYXNlIHRoaXMgd2lkZ2V0IGlzXG5cdFx0Ly8gcmVkZWZpbmVkIGFmdGVyIGEgd2lkZ2V0IGluaGVyaXRzIGZyb20gaXRcblx0XHRfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXG5cdH0gKTtcblxuXHRiYXNlUHJvdG90eXBlID0gbmV3IGJhc2UoKTtcblxuXHQvLyBXZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Vcblx0Ly8gb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZVxuXHQvLyBpbmhlcml0aW5nIGZyb21cblx0YmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7XG5cdCQuZWFjaCggcHJvdG90eXBlLCBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnVuY3Rpb24gX3N1cGVyKCkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIF9zdXBlckFwcGx5KCBhcmdzICkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXI7XG5cdFx0XHRcdHZhciBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5O1xuXHRcdFx0XHR2YXIgcmV0dXJuVmFsdWU7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9fc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fTtcblx0XHR9ICkoKTtcblx0fSApO1xuXHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLndpZGdldC5leHRlbmQoIGJhc2VQcm90b3R5cGUsIHtcblxuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/ICggYmFzZVByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lICkgOiBuYW1lXG5cdH0sIHByb3hpZWRQcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsXG5cdFx0d2lkZ2V0TmFtZTogbmFtZSxcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcblx0fSApO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gUmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLFxuXHRcdFx0XHRjaGlsZC5fcHJvdG8gKTtcblx0XHR9ICk7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldFNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHR2YXIgaW5wdXRJbmRleCA9IDA7XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGtleTtcblx0dmFyIHZhbHVlO1xuXG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCB3aWRnZXRIYXNPd25Qcm9wZXJ0eS5jYWxsKCBpbnB1dFsgaW5wdXRJbmRleCBdLCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIENsb25lIG9iamVjdHNcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9ICQuaXNQbGFpbk9iamVjdCggdGFyZ2V0WyBrZXkgXSApID9cblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHRhcmdldFsga2V5IF0sIHZhbHVlICkgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBleHRlbmQgc3RyaW5ncywgYXJyYXlzLCBldGMuIHdpdGggb2JqZWN0c1xuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiO1xuXHRcdHZhciBhcmdzID0gd2lkZ2V0U2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICk7XG5cdFx0dmFyIHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGVtcHR5IGNvbGxlY3Rpb24sIHdlIG5lZWQgdG8gaGF2ZSB0aGUgaW5zdGFuY2UgbWV0aG9kXG5cdFx0XHQvLyByZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgdGhlIGpRdWVyeSBpbnN0YW5jZVxuXHRcdFx0aWYgKCAhdGhpcy5sZW5ndGggJiYgb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblxuXHRcdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICtcblx0XHRcdFx0XHRcdFx0XCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFx0XCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJ1wiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgaW5zdGFuY2VbIG9wdGlvbnMgXSAhPT0gXCJmdW5jdGlvblwiIHx8XG5cdFx0XHRcdFx0XHRvcHRpb25zLmNoYXJBdCggMCApID09PSBcIl9cIiApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcIm5vIHN1Y2ggbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIicgZm9yIFwiICsgbmFtZSArXG5cdFx0XHRcdFx0XHRcdFwiIHdpZGdldCBpbnN0YW5jZVwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bWV0aG9kVmFsdWUgPSBpbnN0YW5jZVsgb3B0aW9ucyBdLmFwcGx5KCBpbnN0YW5jZSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHJldHVyblZhbHVlID0gbWV0aG9kVmFsdWUgJiYgbWV0aG9kVmFsdWUuanF1ZXJ5ID9cblx0XHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUucHVzaFN0YWNrKCBtZXRob2RWYWx1ZS5nZXQoKSApIDpcblx0XHRcdFx0XHRcdFx0bWV0aG9kVmFsdWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQWxsb3cgbXVsdGlwbGUgaGFzaGVzIHRvIGJlIHBhc3NlZCBvbiBpbml0XG5cdFx0XHRpZiAoIGFyZ3MubGVuZ3RoICkge1xuXHRcdFx0XHRvcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIG9wdGlvbnMgXS5jb25jYXQoIGFyZ3MgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XG5cdFx0XHRcdGlmICggaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2Uub3B0aW9uKCBvcHRpb25zIHx8IHt9ICk7XG5cdFx0XHRcdFx0aWYgKCBpbnN0YW5jZS5faW5pdCApIHtcblx0XHRcdFx0XHRcdGluc3RhbmNlLl9pbml0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQuZGF0YSggdGhpcywgZnVsbE5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHR9O1xufTtcblxuJC5XaWRnZXQgPSBmdW5jdGlvbiggLyogb3B0aW9ucywgZWxlbWVudCAqLyApIHt9O1xuJC5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzID0gW107XG5cbiQuV2lkZ2V0LnByb3RvdHlwZSA9IHtcblx0d2lkZ2V0TmFtZTogXCJ3aWRnZXRcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxkaXY+XCIsXG5cblx0b3B0aW9uczoge1xuXHRcdGNsYXNzZXM6IHt9LFxuXHRcdGRpc2FibGVkOiBmYWxzZSxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNyZWF0ZTogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgdGhpcyApWyAwIF07XG5cdFx0dGhpcy5lbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdHRoaXMudXVpZCA9IHdpZGdldFV1aWQrKztcblx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlID0gXCIuXCIgKyB0aGlzLndpZGdldE5hbWUgKyB0aGlzLnV1aWQ7XG5cblx0XHR0aGlzLmJpbmRpbmdzID0gJCgpO1xuXHRcdHRoaXMuaG92ZXJhYmxlID0gJCgpO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCgpO1xuXHRcdHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXAgPSB7fTtcblxuXHRcdGlmICggZWxlbWVudCAhPT0gdGhpcyApIHtcblx0XHRcdCQuZGF0YSggZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyApO1xuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudCApIHtcblx0XHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0dGhpcy5kb2N1bWVudCA9ICQoIGVsZW1lbnQuc3R5bGUgP1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgd2l0aGluIHRoZSBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50Lm93bmVyRG9jdW1lbnQgOlxuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgd2luZG93IG9yIGRvY3VtZW50XG5cdFx0XHRcdGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudCApO1xuXHRcdFx0dGhpcy53aW5kb3cgPSAkKCB0aGlzLmRvY3VtZW50WyAwIF0uZGVmYXVsdFZpZXcgfHwgdGhpcy5kb2N1bWVudFsgMCBdLnBhcmVudFdpbmRvdyApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sXG5cdFx0XHR0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksXG5cdFx0XHRvcHRpb25zICk7XG5cblx0XHR0aGlzLl9jcmVhdGUoKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiY3JlYXRlXCIsIG51bGwsIHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpICk7XG5cdFx0dGhpcy5faW5pdCgpO1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge307XG5cdH0sXG5cblx0X2dldENyZWF0ZUV2ZW50RGF0YTogJC5ub29wLFxuXG5cdF9jcmVhdGU6ICQubm9vcCxcblxuXHRfaW5pdDogJC5ub29wLFxuXG5cdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuX2Rlc3Ryb3koKTtcblx0XHQkLmVhY2goIHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXAsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0dGhhdC5fcmVtb3ZlQ2xhc3MoIHZhbHVlLCBrZXkgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBXZSBjYW4gcHJvYmFibHkgcmVtb3ZlIHRoZSB1bmJpbmQgY2FsbHMgaW4gMi4wXG5cdFx0Ly8gYWxsIGV2ZW50IGJpbmRpbmdzIHNob3VsZCBnbyB0aHJvdWdoIHRoaXMuX29uKClcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LnJlbW92ZURhdGEoIHRoaXMud2lkZ2V0RnVsbE5hbWUgKTtcblx0XHR0aGlzLndpZGdldCgpXG5cdFx0XHQub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZGlzYWJsZWRcIiApO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgZXZlbnRzIGFuZCBzdGF0ZXNcblx0XHR0aGlzLmJpbmRpbmdzLm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiAkLm5vb3AsXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xuXHR9LFxuXG5cdG9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSBrZXk7XG5cdFx0dmFyIHBhcnRzO1xuXHRcdHZhciBjdXJPcHRpb247XG5cdFx0dmFyIGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgKSB7XG5cblx0XHRcdC8vIERvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaFxuXHRcdFx0cmV0dXJuICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gSGFuZGxlIG5lc3RlZCBrZXlzLCBlLmcuLCBcImZvby5iYXJcIiA9PiB7IGZvbzogeyBiYXI6IF9fXyB9IH1cblx0XHRcdG9wdGlvbnMgPSB7fTtcblx0XHRcdHBhcnRzID0ga2V5LnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0a2V5ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdGlmICggcGFydHMubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJPcHRpb24gPSBvcHRpb25zWyBrZXkgXSA9ICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9uc1sga2V5IF0gKTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKysgKSB7XG5cdFx0XHRcdFx0Y3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXSB8fCB7fTtcblx0XHRcdFx0XHRjdXJPcHRpb24gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRrZXkgPSBwYXJ0cy5wb3AoKTtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiBjdXJPcHRpb25bIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogY3VyT3B0aW9uWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXJPcHRpb25bIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLm9wdGlvbnNbIGtleSBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0T3B0aW9ucyggb3B0aW9ucyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBrZXk7XG5cblx0XHRmb3IgKCBrZXkgaW4gb3B0aW9ucyApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbigga2V5LCBvcHRpb25zWyBrZXkgXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImNsYXNzZXNcIiApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkNsYXNzZXMoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25DbGFzc2VzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzS2V5LCBlbGVtZW50cywgY3VycmVudEVsZW1lbnRzO1xuXG5cdFx0Zm9yICggY2xhc3NLZXkgaW4gdmFsdWUgKSB7XG5cdFx0XHRjdXJyZW50RWxlbWVudHMgPSB0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwWyBjbGFzc0tleSBdO1xuXHRcdFx0aWYgKCB2YWx1ZVsgY2xhc3NLZXkgXSA9PT0gdGhpcy5vcHRpb25zLmNsYXNzZXNbIGNsYXNzS2V5IF0gfHxcblx0XHRcdFx0XHQhY3VycmVudEVsZW1lbnRzIHx8XG5cdFx0XHRcdFx0IWN1cnJlbnRFbGVtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSBhcmUgZG9pbmcgdGhpcyB0byBjcmVhdGUgYSBuZXcgalF1ZXJ5IG9iamVjdCBiZWNhdXNlIHRoZSBfcmVtb3ZlQ2xhc3MoKSBjYWxsXG5cdFx0XHQvLyBvbiB0aGUgbmV4dCBsaW5lIGlzIGdvaW5nIHRvIGRlc3Ryb3kgdGhlIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBlbGVtZW50cyBiZWluZ1xuXHRcdFx0Ly8gdHJhY2tlZC4gV2UgbmVlZCB0byBzYXZlIGEgY29weSBvZiB0aGlzIGNvbGxlY3Rpb24gc28gdGhhdCB3ZSBjYW4gYWRkIHRoZSBuZXcgY2xhc3Nlc1xuXHRcdFx0Ly8gYmVsb3cuXG5cdFx0XHRlbGVtZW50cyA9ICQoIGN1cnJlbnRFbGVtZW50cy5nZXQoKSApO1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGN1cnJlbnRFbGVtZW50cywgY2xhc3NLZXkgKTtcblxuXHRcdFx0Ly8gV2UgZG9uJ3QgdXNlIF9hZGRDbGFzcygpIGhlcmUsIGJlY2F1c2UgdGhhdCB1c2VzIHRoaXMub3B0aW9ucy5jbGFzc2VzXG5cdFx0XHQvLyBmb3IgZ2VuZXJhdGluZyB0aGUgc3RyaW5nIG9mIGNsYXNzZXMuIFdlIHdhbnQgdG8gdXNlIHRoZSB2YWx1ZSBwYXNzZWQgaW4gZnJvbVxuXHRcdFx0Ly8gX3NldE9wdGlvbigpLCB0aGlzIGlzIHRoZSBuZXcgdmFsdWUgb2YgdGhlIGNsYXNzZXMgb3B0aW9uIHdoaWNoIHdhcyBwYXNzZWQgdG9cblx0XHRcdC8vIF9zZXRPcHRpb24oKS4gV2UgcGFzcyB0aGlzIHZhbHVlIGRpcmVjdGx5IHRvIF9jbGFzc2VzKCkuXG5cdFx0XHRlbGVtZW50cy5hZGRDbGFzcyggdGhpcy5fY2xhc3Nlcygge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50cyxcblx0XHRcdFx0a2V5czogY2xhc3NLZXksXG5cdFx0XHRcdGNsYXNzZXM6IHZhbHVlLFxuXHRcdFx0XHRhZGQ6IHRydWVcblx0XHRcdH0gKSApO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uRGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLl90b2dnbGVDbGFzcyggdGhpcy53aWRnZXQoKSwgdGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkXCIsIG51bGwsICEhdmFsdWUgKTtcblxuXHRcdC8vIElmIHRoZSB3aWRnZXQgaXMgYmVjb21pbmcgZGlzYWJsZWQsIHRoZW4gbm90aGluZyBpcyBpbnRlcmFjdGl2ZVxuXHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5ob3ZlcmFibGUsIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuZm9jdXNhYmxlLCBudWxsLCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyggeyBkaXNhYmxlZDogZmFsc2UgfSApO1xuXHR9LFxuXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKCB7IGRpc2FibGVkOiB0cnVlIH0gKTtcblx0fSxcblxuXHRfY2xhc3NlczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGZ1bGwgPSBbXTtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoIHtcblx0XHRcdGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcblx0XHRcdGNsYXNzZXM6IHRoaXMub3B0aW9ucy5jbGFzc2VzIHx8IHt9XG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdFx0ZnVuY3Rpb24gYmluZFJlbW92ZUV2ZW50KCkge1xuXHRcdFx0dmFyIG5vZGVzVG9CaW5kID0gW107XG5cblx0XHRcdG9wdGlvbnMuZWxlbWVudC5lYWNoKCBmdW5jdGlvbiggXywgZWxlbWVudCApIHtcblx0XHRcdFx0dmFyIGlzVHJhY2tlZCA9ICQubWFwKCB0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbiggZWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0XHQuc29tZSggZnVuY3Rpb24oIGVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzLmlzKCBlbGVtZW50ICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdGlmICggIWlzVHJhY2tlZCApIHtcblx0XHRcdFx0XHRub2Rlc1RvQmluZC5wdXNoKCBlbGVtZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdFx0dGhhdC5fb24oICQoIG5vZGVzVG9CaW5kICksIHtcblx0XHRcdFx0cmVtb3ZlOiBcIl91bnRyYWNrQ2xhc3Nlc0VsZW1lbnRcIlxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NDbGFzc1N0cmluZyggY2xhc3NlcywgY2hlY2tPcHRpb24gKSB7XG5cdFx0XHR2YXIgY3VycmVudCwgaTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y3VycmVudCA9IHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdIHx8ICQoKTtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmFkZCApIHtcblx0XHRcdFx0XHRiaW5kUmVtb3ZlRXZlbnQoKTtcblx0XHRcdFx0XHRjdXJyZW50ID0gJCggJC51bmlxdWVTb3J0KCBjdXJyZW50LmdldCgpLmNvbmNhdCggb3B0aW9ucy5lbGVtZW50LmdldCgpICkgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGN1cnJlbnQgPSAkKCBjdXJyZW50Lm5vdCggb3B0aW9ucy5lbGVtZW50ICkuZ2V0KCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBjbGFzc2VzWyBpIF0gXSA9IGN1cnJlbnQ7XG5cdFx0XHRcdGZ1bGwucHVzaCggY2xhc3Nlc1sgaSBdICk7XG5cdFx0XHRcdGlmICggY2hlY2tPcHRpb24gJiYgb3B0aW9ucy5jbGFzc2VzWyBjbGFzc2VzWyBpIF0gXSApIHtcblx0XHRcdFx0XHRmdWxsLnB1c2goIG9wdGlvbnMuY2xhc3Nlc1sgY2xhc3Nlc1sgaSBdIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy5rZXlzICkge1xuXHRcdFx0cHJvY2Vzc0NsYXNzU3RyaW5nKCBvcHRpb25zLmtleXMubWF0Y2goIC9cXFMrL2cgKSB8fCBbXSwgdHJ1ZSApO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMuZXh0cmEgKSB7XG5cdFx0XHRwcm9jZXNzQ2xhc3NTdHJpbmcoIG9wdGlvbnMuZXh0cmEubWF0Y2goIC9cXFMrL2cgKSB8fCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBmdWxsLmpvaW4oIFwiIFwiICk7XG5cdH0sXG5cblx0X3VudHJhY2tDbGFzc2VzRWxlbWVudDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHQkLmVhY2goIHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXAsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0aWYgKCAkLmluQXJyYXkoIGV2ZW50LnRhcmdldCwgdmFsdWUgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGtleSBdID0gJCggdmFsdWUubm90KCBldmVudC50YXJnZXQgKS5nZXQoKSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdHRoaXMuX29mZiggJCggZXZlbnQudGFyZ2V0ICkgKTtcblx0fSxcblxuXHRfcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSApIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3MoIGVsZW1lbnQsIGtleXMsIGV4dHJhLCBmYWxzZSApO1xuXHR9LFxuXG5cdF9hZGRDbGFzczogZnVuY3Rpb24oIGVsZW1lbnQsIGtleXMsIGV4dHJhICkge1xuXHRcdHJldHVybiB0aGlzLl90b2dnbGVDbGFzcyggZWxlbWVudCwga2V5cywgZXh0cmEsIHRydWUgKTtcblx0fSxcblxuXHRfdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgYWRkICkge1xuXHRcdGFkZCA9ICggdHlwZW9mIGFkZCA9PT0gXCJib29sZWFuXCIgKSA/IGFkZCA6IGV4dHJhO1xuXHRcdHZhciBzaGlmdCA9ICggdHlwZW9mIGVsZW1lbnQgPT09IFwic3RyaW5nXCIgfHwgZWxlbWVudCA9PT0gbnVsbCApLFxuXHRcdFx0b3B0aW9ucyA9IHtcblx0XHRcdFx0ZXh0cmE6IHNoaWZ0ID8ga2V5cyA6IGV4dHJhLFxuXHRcdFx0XHRrZXlzOiBzaGlmdCA/IGVsZW1lbnQgOiBrZXlzLFxuXHRcdFx0XHRlbGVtZW50OiBzaGlmdCA/IHRoaXMuZWxlbWVudCA6IGVsZW1lbnQsXG5cdFx0XHRcdGFkZDogYWRkXG5cdFx0XHR9O1xuXHRcdG9wdGlvbnMuZWxlbWVudC50b2dnbGVDbGFzcyggdGhpcy5fY2xhc3Nlcyggb3B0aW9ucyApLCBhZGQgKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfb246IGZ1bmN0aW9uKCBzdXBwcmVzc0Rpc2FibGVkQ2hlY2ssIGVsZW1lbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBkZWxlZ2F0ZUVsZW1lbnQ7XG5cdFx0dmFyIGluc3RhbmNlID0gdGhpcztcblxuXHRcdC8vIE5vIHN1cHByZXNzRGlzYWJsZWRDaGVjayBmbGFnLCBzaHVmZmxlIGFyZ3VtZW50c1xuXHRcdGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuXHRcdFx0c3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gTm8gZWxlbWVudCBhcmd1bWVudCwgc2h1ZmZsZSBhbmQgdXNlIHRoaXMuZWxlbWVudFxuXHRcdGlmICggIWhhbmRsZXJzICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblx0XHRcdGRlbGVnYXRlRWxlbWVudCA9IHRoaXMud2lkZ2V0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQgPSBkZWxlZ2F0ZUVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0XHR0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQkLmVhY2goIGhhbmRsZXJzLCBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXIgKSB7XG5cdFx0XHRmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cblx0XHRcdFx0Ly8gQWxsb3cgd2lkZ2V0cyB0byBjdXN0b21pemUgdGhlIGRpc2FibGVkIGhhbmRsaW5nXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgYXMgYW4gYXJyYXkgaW5zdGVhZCBvZiBib29sZWFuXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgY2xhc3MgYXMgbWV0aG9kIGZvciBkaXNhYmxpbmcgaW5kaXZpZHVhbCBwYXJ0c1xuXHRcdFx0XHRpZiAoICFzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgJiZcblx0XHRcdFx0XHRcdCggaW5zdGFuY2Uub3B0aW9ucy5kaXNhYmxlZCA9PT0gdHJ1ZSB8fFxuXHRcdFx0XHRcdFx0JCggdGhpcyApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcblx0XHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29weSB0aGUgZ3VpZCBzbyBkaXJlY3QgdW5iaW5kaW5nIHdvcmtzXG5cdFx0XHRpZiAoIHR5cGVvZiBoYW5kbGVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRoYW5kbGVyUHJveHkuZ3VpZCA9IGhhbmRsZXIuZ3VpZCA9XG5cdFx0XHRcdFx0aGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWF0Y2ggPSBldmVudC5tYXRjaCggL14oW1xcdzotXSopXFxzKiguKikkLyApO1xuXHRcdFx0dmFyIGV2ZW50TmFtZSA9IG1hdGNoWyAxIF0gKyBpbnN0YW5jZS5ldmVudE5hbWVzcGFjZTtcblx0XHRcdHZhciBzZWxlY3RvciA9IG1hdGNoWyAyIF07XG5cblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGRlbGVnYXRlRWxlbWVudC5vbiggZXZlbnROYW1lLCBzZWxlY3RvciwgaGFuZGxlclByb3h5ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50Lm9uKCBldmVudE5hbWUsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfb2ZmOiBmdW5jdGlvbiggZWxlbWVudCwgZXZlbnROYW1lICkge1xuXHRcdGV2ZW50TmFtZSA9ICggZXZlbnROYW1lIHx8IFwiXCIgKS5zcGxpdCggXCIgXCIgKS5qb2luKCB0aGlzLmV2ZW50TmFtZXNwYWNlICsgXCIgXCIgKSArXG5cdFx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlO1xuXHRcdGVsZW1lbnQub2ZmKCBldmVudE5hbWUgKTtcblxuXHRcdC8vIENsZWFyIHRoZSBzdGFjayB0byBhdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHR0aGlzLmJpbmRpbmdzID0gJCggdGhpcy5iaW5kaW5ncy5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCggdGhpcy5mb2N1c2FibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoIHRoaXMuaG92ZXJhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdH0sXG5cblx0X2RlbGF5OiBmdW5jdGlvbiggaGFuZGxlciwgZGVsYXkgKSB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KCBoYW5kbGVyUHJveHksIGRlbGF5IHx8IDAgKTtcblx0fSxcblxuXHRfaG92ZXJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9mb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7XG5cdFx0dmFyIHByb3AsIG9yaWc7XG5cdFx0dmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07XG5cblx0XHRkYXRhID0gZGF0YSB8fCB7fTtcblx0XHRldmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XG5cdFx0ZXZlbnQudHlwZSA9ICggdHlwZSA9PT0gdGhpcy53aWRnZXRFdmVudFByZWZpeCA/XG5cdFx0XHR0eXBlIDpcblx0XHRcdHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIFRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIENvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLmVsZW1lbnRbIDAgXSwgWyBldmVudCBdLmNvbmNhdCggZGF0YSApICkgPT09IGZhbHNlIHx8XG5cdFx0XHRldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApO1xuXHR9XG59O1xuXG4kLmVhY2goIHsgc2hvdzogXCJmYWRlSW5cIiwgaGlkZTogXCJmYWRlT3V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgZGVmYXVsdEVmZmVjdCApIHtcblx0JC5XaWRnZXQucHJvdG90eXBlWyBcIl9cIiArIG1ldGhvZCBdID0gZnVuY3Rpb24oIGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvcHRpb25zID0geyBlZmZlY3Q6IG9wdGlvbnMgfTtcblx0XHR9XG5cblx0XHR2YXIgaGFzT3B0aW9ucztcblx0XHR2YXIgZWZmZWN0TmFtZSA9ICFvcHRpb25zID9cblx0XHRcdG1ldGhvZCA6XG5cdFx0XHRvcHRpb25zID09PSB0cnVlIHx8IHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiID9cblx0XHRcdFx0ZGVmYXVsdEVmZmVjdCA6XG5cdFx0XHRcdG9wdGlvbnMuZWZmZWN0IHx8IGRlZmF1bHRFZmZlY3Q7XG5cblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZHVyYXRpb246IG9wdGlvbnMgfTtcblx0XHR9IGVsc2UgaWYgKCBvcHRpb25zID09PSB0cnVlICkge1xuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdH1cblxuXHRcdGhhc09wdGlvbnMgPSAhJC5pc0VtcHR5T2JqZWN0KCBvcHRpb25zICk7XG5cdFx0b3B0aW9ucy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuXG5cdFx0aWYgKCBvcHRpb25zLmRlbGF5ICkge1xuXHRcdFx0ZWxlbWVudC5kZWxheSggb3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblxuXHRcdGlmICggaGFzT3B0aW9ucyAmJiAkLmVmZmVjdHMgJiYgJC5lZmZlY3RzLmVmZmVjdFsgZWZmZWN0TmFtZSBdICkge1xuXHRcdFx0ZWxlbWVudFsgbWV0aG9kIF0oIG9wdGlvbnMgKTtcblx0XHR9IGVsc2UgaWYgKCBlZmZlY3ROYW1lICE9PSBtZXRob2QgJiYgZWxlbWVudFsgZWZmZWN0TmFtZSBdICkge1xuXHRcdFx0ZWxlbWVudFsgZWZmZWN0TmFtZSBdKCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5xdWV1ZSggZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKVsgbWV0aG9kIF0oKTtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCBlbGVtZW50WyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQ7XG5cbn0gKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIE1vdXNlIDEuMTMuMlxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBNb3VzZVxuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLz4+ZGVzY3JpcHRpb246IEFic3RyYWN0cyBtb3VzZS1iYXNlZCBpbnRlcmFjdGlvbnMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGNlcnRhaW4gd2lkZ2V0cy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9tb3VzZS9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL2llXCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSApKCBmdW5jdGlvbiggJCApIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbW91c2VIYW5kbGVkID0gZmFsc2U7XG4kKCBkb2N1bWVudCApLm9uKCBcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG5cdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkubW91c2VcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTMuMlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y2FuY2VsOiBcImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QsIG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0Lm9uKCBcIm1vdXNlZG93bi5cIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VEb3duKCBldmVudCApO1xuXHRcdFx0fSApXG5cdFx0XHQub24oIFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICk7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5vZmYoIFwiLlwiICsgdGhpcy53aWRnZXROYW1lICk7XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApIHtcblx0XHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdFx0Lm9mZiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gZG9uJ3QgbGV0IG1vcmUgdGhhbiBvbmUgd2lkZ2V0IGhhbmRsZSBtb3VzZVN0YXJ0XG5cdFx0aWYgKCBtb3VzZUhhbmRsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VNb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gV2UgbWF5IGhhdmUgbWlzc2VkIG1vdXNldXAgKG91dCBvZiB3aW5kb3cpXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXHRcdH1cblxuXHRcdHRoaXMuX21vdXNlRG93bkV2ZW50ID0gZXZlbnQ7XG5cblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidG5Jc0xlZnQgPSAoIGV2ZW50LndoaWNoID09PSAxICksXG5cblx0XHRcdC8vIGV2ZW50LnRhcmdldC5ub2RlTmFtZSB3b3JrcyBhcm91bmQgYSBidWcgaW4gSUUgOCB3aXRoXG5cdFx0XHQvLyBkaXNhYmxlZCBpbnB1dHMgKCM3NjIwKVxuXHRcdFx0ZWxJc0NhbmNlbCA9ICggdHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWwgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID9cblx0XHRcdFx0JCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggdGhpcy5vcHRpb25zLmNhbmNlbCApLmxlbmd0aCA6IGZhbHNlICk7XG5cdFx0aWYgKCAhYnRuSXNMZWZ0IHx8IGVsSXNDYW5jZWwgfHwgIXRoaXMuX21vdXNlQ2FwdHVyZSggZXZlbnQgKSApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHRoaXMubW91c2VEZWxheU1ldCA9ICF0aGlzLm9wdGlvbnMuZGVsYXk7XG5cdFx0aWYgKCAhdGhpcy5tb3VzZURlbGF5TWV0ICkge1xuXHRcdFx0dGhpcy5fbW91c2VEZWxheVRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQubW91c2VEZWxheU1ldCA9IHRydWU7XG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuZGVsYXkgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoIGV2ZW50ICkgJiYgdGhpcy5fbW91c2VEZWxheU1ldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9ICggdGhpcy5fbW91c2VTdGFydCggZXZlbnQgKSAhPT0gZmFsc2UgKTtcblx0XHRcdGlmICggIXRoaXMuX21vdXNlU3RhcnRlZCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2xpY2sgZXZlbnQgbWF5IG5ldmVyIGhhdmUgZmlyZWQgKEdlY2tvICYgT3BlcmEpXG5cdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0JC5yZW1vdmVEYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIgKTtcblx0XHR9XG5cblx0XHQvLyBUaGVzZSBkZWxlZ2F0ZXMgYXJlIHJlcXVpcmVkIHRvIGtlZXAgY29udGV4dFxuXHRcdHRoaXMuX21vdXNlTW92ZURlbGVnYXRlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlTW92ZSggZXZlbnQgKTtcblx0XHR9O1xuXHRcdHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZVVwKCBldmVudCApO1xuXHRcdH07XG5cblx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHQub24oIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQub24oIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0bW91c2VIYW5kbGVkID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VNb3ZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBPbmx5IGNoZWNrIGZvciBtb3VzZXVwcyBvdXRzaWRlIHRoZSBkb2N1bWVudCBpZiB5b3UndmUgbW92ZWQgaW5zaWRlIHRoZSBkb2N1bWVudFxuXHRcdC8vIGF0IGxlYXN0IG9uY2UuIFRoaXMgcHJldmVudHMgdGhlIGZpcmluZyBvZiBtb3VzZXVwIGluIHRoZSBjYXNlIG9mIElFPDksIHdoaWNoIHdpbGxcblx0XHQvLyBmaXJlIGEgbW91c2Vtb3ZlIGV2ZW50IGlmIGNvbnRlbnQgaXMgcGxhY2VkIHVuZGVyIHRoZSBjdXJzb3IuIFNlZSAjNzc3OFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw5XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVkICkge1xuXG5cdFx0XHQvLyBJRSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBoYXBwZW5lZCB3aGVuIG1vdXNlIHdhcyBvdXQgb2Ygd2luZG93XG5cdFx0XHRpZiAoICQudWkuaWUgJiYgKCAhZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDkgKSAmJlxuXHRcdFx0XHRcdCFldmVudC5idXR0b24gKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXG5cdFx0XHQvLyBJZnJhbWUgbW91c2V1cCBjaGVjayAtIG1vdXNldXAgb2NjdXJyZWQgaW4gYW5vdGhlciBkb2N1bWVudFxuXHRcdFx0fSBlbHNlIGlmICggIWV2ZW50LndoaWNoICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTggLSA5XG5cdFx0XHRcdC8vIFNhZmFyaSBzZXRzIHdoaWNoIHRvIDAgaWYgeW91IHByZXNzIGFueSBvZiB0aGUgZm9sbG93aW5nIGtleXNcblx0XHRcdFx0Ly8gZHVyaW5nIGEgZHJhZyAoIzE0NDYxKVxuXHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY3RybEtleSB8fFxuXHRcdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAhdGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGV2ZW50LndoaWNoIHx8IGV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdHRoaXMuX21vdXNlTW92ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0dGhpcy5fbW91c2VEcmFnKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZURpc3RhbmNlTWV0KCBldmVudCApICYmIHRoaXMuX21vdXNlRGVsYXlNZXQoIGV2ZW50ICkgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPVxuXHRcdFx0XHQoIHRoaXMuX21vdXNlU3RhcnQoIHRoaXMuX21vdXNlRG93bkV2ZW50LCBldmVudCApICE9PSBmYWxzZSApO1xuXHRcdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHRcdHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLl9tb3VzZVN0YXJ0ZWQ7XG5cdH0sXG5cblx0X21vdXNlVXA6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHQub2ZmKCBcIm1vdXNlbW92ZS5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKVxuXHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGlmICggdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gZmFsc2U7XG5cblx0XHRcdGlmICggZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQgKSB7XG5cdFx0XHRcdCQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX21vdXNlU3RvcCggZXZlbnQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGVsYXlUaW1lciApIHtcblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5fbW91c2VEZWxheVRpbWVyICk7XG5cdFx0XHRkZWxldGUgdGhpcy5fbW91c2VEZWxheVRpbWVyO1xuXHRcdH1cblxuXHRcdHRoaXMuaWdub3JlTWlzc2luZ1doaWNoID0gZmFsc2U7XG5cdFx0bW91c2VIYW5kbGVkID0gZmFsc2U7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fSxcblxuXHRfbW91c2VEaXN0YW5jZU1ldDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiAoIE1hdGgubWF4KFxuXHRcdFx0XHRNYXRoLmFicyggdGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVggLSBldmVudC5wYWdlWCApLFxuXHRcdFx0XHRNYXRoLmFicyggdGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVkgLSBldmVudC5wYWdlWSApXG5cdFx0XHQpID49IHRoaXMub3B0aW9ucy5kaXN0YW5jZVxuXHRcdCk7XG5cdH0sXG5cblx0X21vdXNlRGVsYXlNZXQ6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0O1xuXHR9LFxuXG5cdC8vIFRoZXNlIGFyZSBwbGFjZWhvbGRlciBtZXRob2RzLCB0byBiZSBvdmVycmlkZW4gYnkgZXh0ZW5kaW5nIHBsdWdpblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59ICk7XG5cbn0gKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIFNvcnRhYmxlIDEuMTMuMlxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTb3J0YWJsZVxuLy8+Pmdyb3VwOiBJbnRlcmFjdGlvbnNcbi8vPj5kZXNjcmlwdGlvbjogRW5hYmxlcyBpdGVtcyBpbiBhIGxpc3QgdG8gYmUgc29ydGVkIHVzaW5nIHRoZSBtb3VzZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zb3J0YWJsZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9zb3J0YWJsZS9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9zb3J0YWJsZS5jc3NcblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4vbW91c2VcIixcblx0XHRcdFwiLi4vZGF0YVwiLFxuXHRcdFx0XCIuLi9pZVwiLFxuXHRcdFx0XCIuLi9zY3JvbGwtcGFyZW50XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSApKCBmdW5jdGlvbiggJCApIHtcblwidXNlIHN0cmljdFwiO1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkuc29ydGFibGVcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTMuMlwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzb3J0XCIsXG5cdHJlYWR5OiBmYWxzZSxcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcInBhcmVudFwiLFxuXHRcdGF4aXM6IGZhbHNlLFxuXHRcdGNvbm5lY3RXaXRoOiBmYWxzZSxcblx0XHRjb250YWlubWVudDogZmFsc2UsXG5cdFx0Y3Vyc29yOiBcImF1dG9cIixcblx0XHRjdXJzb3JBdDogZmFsc2UsXG5cdFx0ZHJvcE9uRW1wdHk6IHRydWUsXG5cdFx0Zm9yY2VQbGFjZWhvbGRlclNpemU6IGZhbHNlLFxuXHRcdGZvcmNlSGVscGVyU2l6ZTogZmFsc2UsXG5cdFx0Z3JpZDogZmFsc2UsXG5cdFx0aGFuZGxlOiBmYWxzZSxcblx0XHRoZWxwZXI6IFwib3JpZ2luYWxcIixcblx0XHRpdGVtczogXCI+ICpcIixcblx0XHRvcGFjaXR5OiBmYWxzZSxcblx0XHRwbGFjZWhvbGRlcjogZmFsc2UsXG5cdFx0cmV2ZXJ0OiBmYWxzZSxcblx0XHRzY3JvbGw6IHRydWUsXG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDIwLFxuXHRcdHNjcm9sbFNwZWVkOiAyMCxcblx0XHRzY29wZTogXCJkZWZhdWx0XCIsXG5cdFx0dG9sZXJhbmNlOiBcImludGVyc2VjdFwiLFxuXHRcdHpJbmRleDogMTAwMCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZVN0b3A6IG51bGwsXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGRlYWN0aXZhdGU6IG51bGwsXG5cdFx0b3V0OiBudWxsLFxuXHRcdG92ZXI6IG51bGwsXG5cdFx0cmVjZWl2ZTogbnVsbCxcblx0XHRyZW1vdmU6IG51bGwsXG5cdFx0c29ydDogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsLFxuXHRcdHVwZGF0ZTogbnVsbFxuXHR9LFxuXG5cdF9pc092ZXJBeGlzOiBmdW5jdGlvbiggeCwgcmVmZXJlbmNlLCBzaXplICkge1xuXHRcdHJldHVybiAoIHggPj0gcmVmZXJlbmNlICkgJiYgKCB4IDwgKCByZWZlcmVuY2UgKyBzaXplICkgKTtcblx0fSxcblxuXHRfaXNGbG9hdGluZzogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0cmV0dXJuICggL2xlZnR8cmlnaHQvICkudGVzdCggaXRlbS5jc3MoIFwiZmxvYXRcIiApICkgfHxcblx0XHRcdCggL2lubGluZXx0YWJsZS1jZWxsLyApLnRlc3QoIGl0ZW0uY3NzKCBcImRpc3BsYXlcIiApICk7XG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jb250YWluZXJDYWNoZSA9IHt9O1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLXNvcnRhYmxlXCIgKTtcblxuXHRcdC8vR2V0IHRoZSBpdGVtc1xuXHRcdHRoaXMucmVmcmVzaCgpO1xuXG5cdFx0Ly9MZXQncyBkZXRlcm1pbmUgdGhlIHBhcmVudCdzIG9mZnNldFxuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0Ly9Jbml0aWFsaXplIG1vdXNlIGV2ZW50cyBmb3IgaW50ZXJhY3Rpb25cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblxuXHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXG5cdFx0Ly9XZSdyZSByZWFkeSB0byBnb1xuXHRcdHRoaXMucmVhZHkgPSB0cnVlO1xuXG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImhhbmRsZVwiICkge1xuXHRcdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLXNvcnRhYmxlLWhhbmRsZVwiICksIFwidWktc29ydGFibGUtaGFuZGxlXCIgKTtcblx0XHQkLmVhY2goIHRoaXMuaXRlbXMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhhdC5fYWRkQ2xhc3MoXG5cdFx0XHRcdHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUgP1xuXHRcdFx0XHRcdHRoaXMuaXRlbS5maW5kKCB0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlICkgOlxuXHRcdFx0XHRcdHRoaXMuaXRlbSxcblx0XHRcdFx0XCJ1aS1zb3J0YWJsZS1oYW5kbGVcIlxuXHRcdFx0KTtcblx0XHR9ICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX21vdXNlRGVzdHJveSgpO1xuXG5cdFx0Zm9yICggdmFyIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0dGhpcy5pdGVtc1sgaSBdLml0ZW0ucmVtb3ZlRGF0YSggdGhpcy53aWRnZXROYW1lICsgXCItaXRlbVwiICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIGV2ZW50LCBvdmVycmlkZUhhbmRsZSApIHtcblx0XHR2YXIgY3VycmVudEl0ZW0gPSBudWxsLFxuXHRcdFx0dmFsaWRIYW5kbGUgPSBmYWxzZSxcblx0XHRcdHRoYXQgPSB0aGlzO1xuXG5cdFx0aWYgKCB0aGlzLnJldmVydGluZyApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLm9wdGlvbnMudHlwZSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvL1dlIGhhdmUgdG8gcmVmcmVzaCB0aGUgaXRlbXMgZGF0YSBvbmNlIGZpcnN0XG5cdFx0dGhpcy5fcmVmcmVzaEl0ZW1zKCBldmVudCApO1xuXG5cdFx0Ly9GaW5kIG91dCBpZiB0aGUgY2xpY2tlZCBub2RlIChvciBvbmUgb2YgaXRzIHBhcmVudHMpIGlzIGEgYWN0dWFsIGl0ZW0gaW4gdGhpcy5pdGVtc1xuXHRcdCQoIGV2ZW50LnRhcmdldCApLnBhcmVudHMoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggJC5kYXRhKCB0aGlzLCB0aGF0LndpZGdldE5hbWUgKyBcIi1pdGVtXCIgKSA9PT0gdGhhdCApIHtcblx0XHRcdFx0Y3VycmVudEl0ZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0aWYgKCAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCItaXRlbVwiICkgPT09IHRoYXQgKSB7XG5cdFx0XHRjdXJyZW50SXRlbSA9ICQoIGV2ZW50LnRhcmdldCApO1xuXHRcdH1cblxuXHRcdGlmICggIWN1cnJlbnRJdGVtICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oYW5kbGUgJiYgIW92ZXJyaWRlSGFuZGxlICkge1xuXHRcdFx0JCggdGhpcy5vcHRpb25zLmhhbmRsZSwgY3VycmVudEl0ZW0gKS5maW5kKCBcIipcIiApLmFkZEJhY2soKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzID09PSBldmVudC50YXJnZXQgKSB7XG5cdFx0XHRcdFx0dmFsaWRIYW5kbGUgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRpZiAoICF2YWxpZEhhbmRsZSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuY3VycmVudEl0ZW0gPSBjdXJyZW50SXRlbTtcblx0XHR0aGlzLl9yZW1vdmVDdXJyZW50c0Zyb21JdGVtcygpO1xuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgb3ZlcnJpZGVIYW5kbGUsIG5vQWN0aXZhdGlvbiApIHtcblxuXHRcdHZhciBpLCBib2R5LFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMuY3VycmVudENvbnRhaW5lciA9IHRoaXM7XG5cblx0XHQvL1dlIG9ubHkgbmVlZCB0byBjYWxsIHJlZnJlc2hQb3NpdGlvbnMsIGJlY2F1c2UgdGhlIHJlZnJlc2hJdGVtcyBjYWxsIGhhcyBiZWVuIG1vdmVkIHRvXG5cdFx0Ly8gbW91c2VDYXB0dXJlXG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cblx0XHQvL1ByZXBhcmUgdGhlIGRyYWdnZWQgaXRlbXMgcGFyZW50XG5cdFx0dGhpcy5hcHBlbmRUbyA9ICQoIG8uYXBwZW5kVG8gIT09IFwicGFyZW50XCIgP1xuXHRcdFx0XHRvLmFwcGVuZFRvIDpcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKSApO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGFwcGVuZCB0aGUgdmlzaWJsZSBoZWxwZXJcblx0XHR0aGlzLmhlbHBlciA9IHRoaXMuX2NyZWF0ZUhlbHBlciggZXZlbnQgKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vVGhlIGVsZW1lbnQncyBhYnNvbHV0ZSBwb3NpdGlvbiBvbiB0aGUgcGFnZSBtaW51cyBtYXJnaW5zXG5cdFx0dGhpcy5vZmZzZXQgPSB0aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpO1xuXHRcdHRoaXMub2Zmc2V0ID0ge1xuXHRcdFx0dG9wOiB0aGlzLm9mZnNldC50b3AgLSB0aGlzLm1hcmdpbnMudG9wLFxuXHRcdFx0bGVmdDogdGhpcy5vZmZzZXQubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0XG5cdFx0fTtcblxuXHRcdCQuZXh0ZW5kKCB0aGlzLm9mZnNldCwge1xuXHRcdFx0Y2xpY2s6IHsgLy9XaGVyZSB0aGUgY2xpY2sgaGFwcGVuZWQsIHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50XG5cdFx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQubGVmdCxcblx0XHRcdFx0dG9wOiBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LnRvcFxuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVGhpcyBpcyBhIHJlbGF0aXZlIHRvIGFic29sdXRlIHBvc2l0aW9uIG1pbnVzIHRoZSBhY3R1YWwgcG9zaXRpb24gY2FsY3VsYXRpb24gLVxuXHRcdFx0Ly8gb25seSB1c2VkIGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIGhlbHBlclxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KClcblx0XHR9ICk7XG5cblx0XHQvLyBBZnRlciB3ZSBnZXQgdGhlIGhlbHBlciBvZmZzZXQsIGJ1dCBiZWZvcmUgd2UgZ2V0IHRoZSBwYXJlbnQgb2Zmc2V0IHdlIGNhblxuXHRcdC8vIGNoYW5nZSB0aGUgaGVscGVyJ3MgcG9zaXRpb24gdG8gYWJzb2x1dGVcblx0XHQvLyBUT0RPOiBTdGlsbCBuZWVkIHRvIGZpZ3VyZSBvdXQgYSB3YXkgdG8gbWFrZSByZWxhdGl2ZSBzb3J0aW5nIHBvc3NpYmxlXG5cdFx0dGhpcy5oZWxwZXIuY3NzKCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIiApO1xuXHRcdHRoaXMuY3NzUG9zaXRpb24gPSB0aGlzLmhlbHBlci5jc3MoIFwicG9zaXRpb25cIiApO1xuXG5cdFx0Ly9BZGp1c3QgdGhlIG1vdXNlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgaGVscGVyIGlmIFwiY3Vyc29yQXRcIiBpcyBzdXBwbGllZFxuXHRcdGlmICggby5jdXJzb3JBdCApIHtcblx0XHRcdHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoIG8uY3Vyc29yQXQgKTtcblx0XHR9XG5cblx0XHQvL0NhY2hlIHRoZSBmb3JtZXIgRE9NIHBvc2l0aW9uXG5cdFx0dGhpcy5kb21Qb3NpdGlvbiA9IHtcblx0XHRcdHByZXY6IHRoaXMuY3VycmVudEl0ZW0ucHJldigpWyAwIF0sXG5cdFx0XHRwYXJlbnQ6IHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbIDAgXVxuXHRcdH07XG5cblx0XHQvLyBJZiB0aGUgaGVscGVyIGlzIG5vdCB0aGUgb3JpZ2luYWwsIGhpZGUgdGhlIG9yaWdpbmFsIHNvIGl0J3Mgbm90IHBsYXlpbmcgYW55IHJvbGUgZHVyaW5nXG5cdFx0Ly8gdGhlIGRyYWcsIHdvbid0IGNhdXNlIGFueXRoaW5nIGJhZCB0aGlzIHdheVxuXHRcdGlmICggdGhpcy5oZWxwZXJbIDAgXSAhPT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0dGhpcy5jdXJyZW50SXRlbS5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0Ly9DcmVhdGUgdGhlIHBsYWNlaG9sZGVyXG5cdFx0dGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKTtcblxuXHRcdC8vR2V0IHRoZSBuZXh0IHNjcm9sbGluZyBwYXJlbnRcblx0XHR0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMucGxhY2Vob2xkZXIuc2Nyb2xsUGFyZW50KCk7XG5cblx0XHQkLmV4dGVuZCggdGhpcy5vZmZzZXQsIHtcblx0XHRcdHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KClcblx0XHR9ICk7XG5cblx0XHQvL1NldCBhIGNvbnRhaW5tZW50IGlmIGdpdmVuIGluIHRoZSBvcHRpb25zXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0dGhpcy5fc2V0Q29udGFpbm1lbnQoKTtcblx0XHR9XG5cblx0XHRpZiAoIG8uY3Vyc29yICYmIG8uY3Vyc29yICE9PSBcImF1dG9cIiApIHsgLy8gY3Vyc29yIG9wdGlvblxuXHRcdFx0Ym9keSA9IHRoaXMuZG9jdW1lbnQuZmluZCggXCJib2R5XCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdHRoaXMuc3RvcmVkQ3Vyc29yID0gYm9keS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHRcdGJvZHkuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXG5cdFx0XHR0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPVxuXHRcdFx0XHQkKCBcIjxzdHlsZT4qeyBjdXJzb3I6IFwiICsgby5jdXJzb3IgKyBcIiAhaW1wb3J0YW50OyB9PC9zdHlsZT5cIiApLmFwcGVuZFRvKCBib2R5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgbmVlZCB0byBtYWtlIHN1cmUgdG8gZ3JhYiB0aGUgekluZGV4IGJlZm9yZSBzZXR0aW5nIHRoZVxuXHRcdC8vIG9wYWNpdHksIGJlY2F1c2Ugc2V0dGluZyB0aGUgb3BhY2l0eSB0byBhbnl0aGluZyBsb3dlciB0aGFuIDFcblx0XHQvLyBjYXVzZXMgdGhlIHpJbmRleCB0byBjaGFuZ2UgZnJvbSBcImF1dG9cIiB0byAwLlxuXHRcdGlmICggby56SW5kZXggKSB7IC8vIHpJbmRleCBvcHRpb25cblx0XHRcdGlmICggdGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiICkgKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZFpJbmRleCA9IHRoaXMuaGVscGVyLmNzcyggXCJ6SW5kZXhcIiApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiLCBvLnpJbmRleCApO1xuXHRcdH1cblxuXHRcdGlmICggby5vcGFjaXR5ICkgeyAvLyBvcGFjaXR5IG9wdGlvblxuXHRcdFx0aWYgKCB0aGlzLmhlbHBlci5jc3MoIFwib3BhY2l0eVwiICkgKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZE9wYWNpdHkgPSB0aGlzLmhlbHBlci5jc3MoIFwib3BhY2l0eVwiICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoIFwib3BhY2l0eVwiLCBvLm9wYWNpdHkgKTtcblx0XHR9XG5cblx0XHQvL1ByZXBhcmUgc2Nyb2xsaW5nXG5cdFx0aWYgKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbIDAgXS50YWdOYW1lICE9PSBcIkhUTUxcIiApIHtcblx0XHRcdHRoaXMub3ZlcmZsb3dPZmZzZXQgPSB0aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKTtcblx0XHR9XG5cblx0XHQvL0NhbGwgY2FsbGJhY2tzXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzdGFydFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblxuXHRcdC8vUmVjYWNoZSB0aGUgaGVscGVyIHNpemVcblx0XHRpZiAoICF0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zICkge1xuXHRcdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXHRcdH1cblxuXHRcdC8vUG9zdCBcImFjdGl2YXRlXCIgZXZlbnRzIHRvIHBvc3NpYmxlIGNvbnRhaW5lcnNcblx0XHRpZiAoICFub0FjdGl2YXRpb24gKSB7XG5cdFx0XHRmb3IgKCBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJhY3RpdmF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL1ByZXBhcmUgcG9zc2libGUgZHJvcHBhYmxlc1xuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5jdXJyZW50ID0gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoICQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmhlbHBlciwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXG5cdFx0Ly9Nb3ZlIHRoZSBoZWxwZXIsIGlmIG5lZWRlZFxuXHRcdGlmICggIXRoaXMuaGVscGVyLnBhcmVudCgpLmlzKCB0aGlzLmFwcGVuZFRvICkgKSB7XG5cdFx0XHR0aGlzLmhlbHBlci5kZXRhY2goKS5hcHBlbmRUbyggdGhpcy5hcHBlbmRUbyApO1xuXG5cdFx0XHQvL1VwZGF0ZSBwb3NpdGlvblxuXHRcdFx0dGhpcy5vZmZzZXQucGFyZW50ID0gdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCk7XG5cdFx0fVxuXG5cdFx0Ly9HZW5lcmF0ZSB0aGUgb3JpZ2luYWwgcG9zaXRpb25cblx0XHR0aGlzLnBvc2l0aW9uID0gdGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5fZ2VuZXJhdGVQb3NpdGlvbiggZXZlbnQgKTtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVggPSBldmVudC5wYWdlWDtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVkgPSBldmVudC5wYWdlWTtcblx0XHR0aGlzLmxhc3RQb3NpdGlvbkFicyA9IHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyggXCJhYnNvbHV0ZVwiICk7XG5cblx0XHR0aGlzLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9zY3JvbGw6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHNjcm9sbGVkID0gZmFsc2U7XG5cblx0XHRpZiAoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXG5cdFx0XHRpZiAoICggdGhpcy5vdmVyZmxvd09mZnNldC50b3AgKyB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLm9mZnNldEhlaWdodCApIC1cblx0XHRcdFx0XHRldmVudC5wYWdlWSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wID1cblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wICsgby5zY3JvbGxTcGVlZDtcblx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VZIC0gdGhpcy5vdmVyZmxvd09mZnNldC50b3AgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbFRvcCA9XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbFRvcCAtIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggKCB0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQgKyB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLm9mZnNldFdpZHRoICkgLVxuXHRcdFx0XHRcdGV2ZW50LnBhZ2VYIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbIDAgXS5zY3JvbGxMZWZ0ID0gc2Nyb2xsZWQgPVxuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHR9IGVsc2UgaWYgKCBldmVudC5wYWdlWCAtIHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID1cblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbExlZnQgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpIC0gby5zY3JvbGxTcGVlZCApO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy53aW5kb3cuaGVpZ2h0KCkgLSAoIGV2ZW50LnBhZ2VZIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSApIDxcblx0XHRcdFx0XHRvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpICsgby5zY3JvbGxTcGVlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdChcblx0XHRcdFx0XHR0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWRcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSBpZiAoIHRoaXMud2luZG93LndpZHRoKCkgLSAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgKSA8XG5cdFx0XHRcdFx0by5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoXG5cdFx0XHRcdFx0dGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgKyBvLnNjcm9sbFNwZWVkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc2Nyb2xsZWQ7XG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpLCBpdGVtLCBpdGVtRWxlbWVudCwgaW50ZXJzZWN0aW9uLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblxuXHRcdC8vQ29tcHV0ZSB0aGUgaGVscGVycyBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKCBldmVudCApO1xuXHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyggXCJhYnNvbHV0ZVwiICk7XG5cblx0XHQvL1NldCB0aGUgaGVscGVyIHBvc2l0aW9uXG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5vcHRpb25zLmF4aXMgIT09IFwieVwiICkge1xuXHRcdFx0dGhpcy5oZWxwZXJbIDAgXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgXCJweFwiO1xuXHRcdH1cblx0XHRpZiAoICF0aGlzLm9wdGlvbnMuYXhpcyB8fCB0aGlzLm9wdGlvbnMuYXhpcyAhPT0gXCJ4XCIgKSB7XG5cdFx0XHR0aGlzLmhlbHBlclsgMCBdLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24udG9wICsgXCJweFwiO1xuXHRcdH1cblxuXHRcdC8vRG8gc2Nyb2xsaW5nXG5cdFx0aWYgKCBvLnNjcm9sbCApIHtcblx0XHRcdGlmICggdGhpcy5fc2Nyb2xsKCBldmVudCApICE9PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvL1VwZGF0ZSBpdGVtIHBvc2l0aW9ucyB1c2VkIGluIHBvc2l0aW9uIGNoZWNrc1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoSXRlbVBvc2l0aW9ucyggdHJ1ZSApO1xuXG5cdFx0XHRcdGlmICggJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggdGhpcywgZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ0RpcmVjdGlvbiA9IHtcblx0XHRcdHZlcnRpY2FsOiB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxcblx0XHRcdGhvcml6b250YWw6IHRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKClcblx0XHR9O1xuXG5cdFx0Ly9SZWFycmFuZ2Vcblx0XHRmb3IgKCBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblxuXHRcdFx0Ly9DYWNoZSB2YXJpYWJsZXMgYW5kIGludGVyc2VjdGlvbiwgY29udGludWUgaWYgbm8gaW50ZXJzZWN0aW9uXG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1sgaSBdO1xuXHRcdFx0aXRlbUVsZW1lbnQgPSBpdGVtLml0ZW1bIDAgXTtcblx0XHRcdGludGVyc2VjdGlvbiA9IHRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlciggaXRlbSApO1xuXHRcdFx0aWYgKCAhaW50ZXJzZWN0aW9uICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBwdXQgdGhlIHBsYWNlaG9sZGVyIGluc2lkZSB0aGUgY3VycmVudCBDb250YWluZXIsIHNraXAgYWxsXG5cdFx0XHQvLyBpdGVtcyBmcm9tIG90aGVyIGNvbnRhaW5lcnMuIFRoaXMgd29ya3MgYmVjYXVzZSB3aGVuIG1vdmluZ1xuXHRcdFx0Ly8gYW4gaXRlbSBmcm9tIG9uZSBjb250YWluZXIgdG8gYW5vdGhlciB0aGVcblx0XHRcdC8vIGN1cnJlbnRDb250YWluZXIgaXMgc3dpdGNoZWQgYmVmb3JlIHRoZSBwbGFjZWhvbGRlciBpcyBtb3ZlZC5cblx0XHRcdC8vXG5cdFx0XHQvLyBXaXRob3V0IHRoaXMsIG1vdmluZyBpdGVtcyBpbiBcInN1Yi1zb3J0YWJsZXNcIiBjYW4gY2F1c2Vcblx0XHRcdC8vIHRoZSBwbGFjZWhvbGRlciB0byBqaXR0ZXIgYmV0d2VlbiB0aGUgb3V0ZXIgYW5kIGlubmVyIGNvbnRhaW5lci5cblx0XHRcdGlmICggaXRlbS5pbnN0YW5jZSAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2Fubm90IGludGVyc2VjdCB3aXRoIGl0c2VsZlxuXHRcdFx0Ly8gbm8gdXNlbGVzcyBhY3Rpb25zIHRoYXQgaGF2ZSBiZWVuIGRvbmUgYmVmb3JlXG5cdFx0XHQvLyBubyBhY3Rpb24gaWYgdGhlIGl0ZW0gbW92ZWQgaXMgdGhlIHBhcmVudCBvZiB0aGUgaXRlbSBjaGVja2VkXG5cdFx0XHRpZiAoIGl0ZW1FbGVtZW50ICE9PSB0aGlzLmN1cnJlbnRJdGVtWyAwIF0gJiZcblx0XHRcdFx0dGhpcy5wbGFjZWhvbGRlclsgaW50ZXJzZWN0aW9uID09PSAxID9cblx0XHRcdFx0XCJuZXh0XCIgOiBcInByZXZcIiBdKClbIDAgXSAhPT0gaXRlbUVsZW1lbnQgJiZcblx0XHRcdFx0ISQuY29udGFpbnMoIHRoaXMucGxhY2Vob2xkZXJbIDAgXSwgaXRlbUVsZW1lbnQgKSAmJlxuXHRcdFx0XHQoIHRoaXMub3B0aW9ucy50eXBlID09PSBcInNlbWktZHluYW1pY1wiID9cblx0XHRcdFx0XHQhJC5jb250YWlucyggdGhpcy5lbGVtZW50WyAwIF0sIGl0ZW1FbGVtZW50ICkgOlxuXHRcdFx0XHRcdHRydWVcblx0XHRcdFx0KVxuXHRcdFx0KSB7XG5cblx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSBpbnRlcnNlY3Rpb24gPT09IDEgPyBcImRvd25cIiA6IFwidXBcIjtcblxuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8XG5cdFx0XHRcdFx0XHR0aGlzLl9pbnRlcnNlY3RzV2l0aFNpZGVzKCBpdGVtICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVhcnJhbmdlKCBldmVudCwgaXRlbSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUG9zdCBldmVudHMgdG8gY29udGFpbmVyc1xuXHRcdHRoaXMuX2NvbnRhY3RDb250YWluZXJzKCBldmVudCApO1xuXG5cdFx0Ly9JbnRlcmNvbm5lY3Qgd2l0aCBkcm9wcGFibGVzXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWcoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0Ly9DYWxsIGNhbGxiYWNrc1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwic29ydFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblxuXHRcdHRoaXMubGFzdFBvc2l0aW9uQWJzID0gdGhpcy5wb3NpdGlvbkFicztcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggZXZlbnQsIG5vUHJvcGFnYXRpb24gKSB7XG5cblx0XHRpZiAoICFldmVudCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvL0lmIHdlIGFyZSB1c2luZyBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgYWJvdXQgdGhlIGRyb3Bcblx0XHRpZiAoICQudWkuZGRtYW5hZ2VyICYmICF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyb3AoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucmV2ZXJ0ICkge1xuXHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRjdXIgPSB0aGlzLnBsYWNlaG9sZGVyLm9mZnNldCgpLFxuXHRcdFx0XHRheGlzID0gdGhpcy5vcHRpb25zLmF4aXMsXG5cdFx0XHRcdGFuaW1hdGlvbiA9IHt9O1xuXG5cdFx0XHRpZiAoICFheGlzIHx8IGF4aXMgPT09IFwieFwiICkge1xuXHRcdFx0XHRhbmltYXRpb24ubGVmdCA9IGN1ci5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQgLSB0aGlzLm1hcmdpbnMubGVmdCArXG5cdFx0XHRcdFx0KCB0aGlzLm9mZnNldFBhcmVudFsgMCBdID09PSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSA/XG5cdFx0XHRcdFx0XHQwIDpcblx0XHRcdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50WyAwIF0uc2Nyb2xsTGVmdFxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFheGlzIHx8IGF4aXMgPT09IFwieVwiICkge1xuXHRcdFx0XHRhbmltYXRpb24udG9wID0gY3VyLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgLSB0aGlzLm1hcmdpbnMudG9wICtcblx0XHRcdFx0XHQoIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gPT09IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5ID9cblx0XHRcdFx0XHRcdDAgOlxuXHRcdFx0XHRcdFx0dGhpcy5vZmZzZXRQYXJlbnRbIDAgXS5zY3JvbGxUb3Bcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5yZXZlcnRpbmcgPSB0cnVlO1xuXHRcdFx0JCggdGhpcy5oZWxwZXIgKS5hbmltYXRlKFxuXHRcdFx0XHRhbmltYXRpb24sXG5cdFx0XHRcdHBhcnNlSW50KCB0aGlzLm9wdGlvbnMucmV2ZXJ0LCAxMCApIHx8IDUwMCxcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhhdC5fY2xlYXIoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NsZWFyKCBldmVudCwgbm9Qcm9wYWdhdGlvbiApO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9LFxuXG5cdGNhbmNlbDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIHRoaXMuZHJhZ2dpbmcgKSB7XG5cblx0XHRcdHRoaXMuX21vdXNlVXAoIG5ldyAkLkV2ZW50KCBcIm1vdXNldXBcIiwgeyB0YXJnZXQ6IG51bGwgfSApICk7XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmhlbHBlciA9PT0gXCJvcmlnaW5hbFwiICkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmNzcyggdGhpcy5fc3RvcmVkQ1NTICk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmN1cnJlbnRJdGVtLCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9Qb3N0IGRlYWN0aXZhdGluZyBldmVudHMgdG8gY29udGFpbmVyc1xuXHRcdFx0Zm9yICggdmFyIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcImRlYWN0aXZhdGVcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCB0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5vdmVyICkge1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcIm91dFwiLCBudWxsLCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIHRoaXMucGxhY2Vob2xkZXIgKSB7XG5cblx0XHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSxcblx0XHRcdC8vIGl0IHVuYmluZHMgQUxMIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIVxuXHRcdFx0aWYgKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wbGFjZWhvbGRlclsgMCBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRoaXMucGxhY2Vob2xkZXJbIDAgXSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGVscGVyICE9PSBcIm9yaWdpbmFsXCIgJiYgdGhpcy5oZWxwZXIgJiZcblx0XHRcdFx0XHR0aGlzLmhlbHBlclsgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQkLmV4dGVuZCggdGhpcywge1xuXHRcdFx0XHRoZWxwZXI6IG51bGwsXG5cdFx0XHRcdGRyYWdnaW5nOiBmYWxzZSxcblx0XHRcdFx0cmV2ZXJ0aW5nOiBmYWxzZSxcblx0XHRcdFx0X25vRmluYWxTb3J0OiBudWxsXG5cdFx0XHR9ICk7XG5cblx0XHRcdGlmICggdGhpcy5kb21Qb3NpdGlvbi5wcmV2ICkge1xuXHRcdFx0XHQkKCB0aGlzLmRvbVBvc2l0aW9uLnByZXYgKS5hZnRlciggdGhpcy5jdXJyZW50SXRlbSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQgKS5wcmVwZW5kKCB0aGlzLmN1cnJlbnRJdGVtICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCBvICkge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSggbyAmJiBvLmNvbm5lY3RlZCApLFxuXHRcdFx0c3RyID0gW107XG5cdFx0byA9IG8gfHwge307XG5cblx0XHQkKCBpdGVtcyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJlcyA9ICggJCggby5pdGVtIHx8IHRoaXMgKS5hdHRyKCBvLmF0dHJpYnV0ZSB8fCBcImlkXCIgKSB8fCBcIlwiIClcblx0XHRcdFx0Lm1hdGNoKCBvLmV4cHJlc3Npb24gfHwgKCAvKC4rKVtcXC09X10oLispLyApICk7XG5cdFx0XHRpZiAoIHJlcyApIHtcblx0XHRcdFx0c3RyLnB1c2goXG5cdFx0XHRcdFx0KCBvLmtleSB8fCByZXNbIDEgXSArIFwiW11cIiApICtcblx0XHRcdFx0XHRcIj1cIiArICggby5rZXkgJiYgby5leHByZXNzaW9uID8gcmVzWyAxIF0gOiByZXNbIDIgXSApICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0aWYgKCAhc3RyLmxlbmd0aCAmJiBvLmtleSApIHtcblx0XHRcdHN0ci5wdXNoKCBvLmtleSArIFwiPVwiICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0ci5qb2luKCBcIiZcIiApO1xuXG5cdH0sXG5cblx0dG9BcnJheTogZnVuY3Rpb24oIG8gKSB7XG5cblx0XHR2YXIgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KCBvICYmIG8uY29ubmVjdGVkICksXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdG8gPSBvIHx8IHt9O1xuXG5cdFx0aXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXQucHVzaCggJCggby5pdGVtIHx8IHRoaXMgKS5hdHRyKCBvLmF0dHJpYnV0ZSB8fCBcImlkXCIgKSB8fCBcIlwiICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiByZXQ7XG5cblx0fSxcblxuXHQvKiBCZSBjYXJlZnVsIHdpdGggdGhlIGZvbGxvd2luZyBjb3JlIGZ1bmN0aW9ucyAqL1xuXHRfaW50ZXJzZWN0c1dpdGg6IGZ1bmN0aW9uKCBpdGVtICkge1xuXG5cdFx0dmFyIHgxID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0LFxuXHRcdFx0eDIgPSB4MSArIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsXG5cdFx0XHR5MSA9IHRoaXMucG9zaXRpb25BYnMudG9wLFxuXHRcdFx0eTIgPSB5MSArIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LFxuXHRcdFx0bCA9IGl0ZW0ubGVmdCxcblx0XHRcdHIgPSBsICsgaXRlbS53aWR0aCxcblx0XHRcdHQgPSBpdGVtLnRvcCxcblx0XHRcdGIgPSB0ICsgaXRlbS5oZWlnaHQsXG5cdFx0XHRkeUNsaWNrID0gdGhpcy5vZmZzZXQuY2xpY2sudG9wLFxuXHRcdFx0ZHhDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsXG5cdFx0XHRpc092ZXJFbGVtZW50SGVpZ2h0ID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgKSB8fCAoICggeTEgKyBkeUNsaWNrICkgPiB0ICYmXG5cdFx0XHRcdCggeTEgKyBkeUNsaWNrICkgPCBiICksXG5cdFx0XHRpc092ZXJFbGVtZW50V2lkdGggPSAoIHRoaXMub3B0aW9ucy5heGlzID09PSBcInlcIiApIHx8ICggKCB4MSArIGR4Q2xpY2sgKSA+IGwgJiZcblx0XHRcdFx0KCB4MSArIGR4Q2xpY2sgKSA8IHIgKSxcblx0XHRcdGlzT3ZlckVsZW1lbnQgPSBpc092ZXJFbGVtZW50SGVpZ2h0ICYmIGlzT3ZlckVsZW1lbnRXaWR0aDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnRvbGVyYW5jZSA9PT0gXCJwb2ludGVyXCIgfHxcblx0XHRcdHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzIHx8XG5cdFx0XHQoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgIT09IFwicG9pbnRlclwiICYmXG5cdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnNbIHRoaXMuZmxvYXRpbmcgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiIF0gPlxuXHRcdFx0XHRpdGVtWyB0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIiBdIClcblx0XHQpIHtcblx0XHRcdHJldHVybiBpc092ZXJFbGVtZW50O1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiAoIGwgPCB4MSArICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgKSAmJiAvLyBSaWdodCBIYWxmXG5cdFx0XHRcdHgyIC0gKCB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMiApIDwgciAmJiAvLyBMZWZ0IEhhbGZcblx0XHRcdFx0dCA8IHkxICsgKCB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIgKSAmJiAvLyBCb3R0b20gSGFsZlxuXHRcdFx0XHR5MiAtICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICkgPCBiICk7IC8vIFRvcCBIYWxmXG5cblx0XHR9XG5cdH0sXG5cblx0X2ludGVyc2VjdHNXaXRoUG9pbnRlcjogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0dmFyIHZlcnRpY2FsRGlyZWN0aW9uLCBob3Jpem9udGFsRGlyZWN0aW9uLFxuXHRcdFx0aXNPdmVyRWxlbWVudEhlaWdodCA9ICggdGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiICkgfHxcblx0XHRcdFx0dGhpcy5faXNPdmVyQXhpcyhcblx0XHRcdFx0XHR0aGlzLnBvc2l0aW9uQWJzLnRvcCArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCwgaXRlbS50b3AsIGl0ZW0uaGVpZ2h0ICksXG5cdFx0XHRpc092ZXJFbGVtZW50V2lkdGggPSAoIHRoaXMub3B0aW9ucy5heGlzID09PSBcInlcIiApIHx8XG5cdFx0XHRcdHRoaXMuX2lzT3ZlckF4aXMoXG5cdFx0XHRcdFx0dGhpcy5wb3NpdGlvbkFicy5sZWZ0ICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCwgaXRlbS5sZWZ0LCBpdGVtLndpZHRoICksXG5cdFx0XHRpc092ZXJFbGVtZW50ID0gaXNPdmVyRWxlbWVudEhlaWdodCAmJiBpc092ZXJFbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoICFpc092ZXJFbGVtZW50ICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZlcnRpY2FsRGlyZWN0aW9uID0gdGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsO1xuXHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLmRyYWdEaXJlY3Rpb24uaG9yaXpvbnRhbDtcblxuXHRcdHJldHVybiB0aGlzLmZsb2F0aW5nID9cblx0XHRcdCggKCBob3Jpem9udGFsRGlyZWN0aW9uID09PSBcInJpZ2h0XCIgfHwgdmVydGljYWxEaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyAyIDogMSApIDpcblx0XHRcdCggdmVydGljYWxEaXJlY3Rpb24gJiYgKCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgPyAyIDogMSApICk7XG5cblx0fSxcblxuXHRfaW50ZXJzZWN0c1dpdGhTaWRlczogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cblx0XHR2YXIgaXNPdmVyQm90dG9tSGFsZiA9IHRoaXMuX2lzT3ZlckF4aXMoIHRoaXMucG9zaXRpb25BYnMudG9wICtcblx0XHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCArICggaXRlbS5oZWlnaHQgLyAyICksIGl0ZW0uaGVpZ2h0ICksXG5cdFx0XHRpc092ZXJSaWdodEhhbGYgPSB0aGlzLl9pc092ZXJBeGlzKCB0aGlzLnBvc2l0aW9uQWJzLmxlZnQgK1xuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0LCBpdGVtLmxlZnQgKyAoIGl0ZW0ud2lkdGggLyAyICksIGl0ZW0ud2lkdGggKSxcblx0XHRcdHZlcnRpY2FsRGlyZWN0aW9uID0gdGhpcy5kcmFnRGlyZWN0aW9uLnZlcnRpY2FsLFxuXHRcdFx0aG9yaXpvbnRhbERpcmVjdGlvbiA9IHRoaXMuZHJhZ0RpcmVjdGlvbi5ob3Jpem9udGFsO1xuXG5cdFx0aWYgKCB0aGlzLmZsb2F0aW5nICYmIGhvcml6b250YWxEaXJlY3Rpb24gKSB7XG5cdFx0XHRyZXR1cm4gKCAoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiAmJiBpc092ZXJSaWdodEhhbGYgKSB8fFxuXHRcdFx0XHQoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwibGVmdFwiICYmICFpc092ZXJSaWdodEhhbGYgKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmVydGljYWxEaXJlY3Rpb24gJiYgKCAoIHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc092ZXJCb3R0b21IYWxmICkgfHxcblx0XHRcdFx0KCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJ1cFwiICYmICFpc092ZXJCb3R0b21IYWxmICkgKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcImRvd25cIiA6IFwidXBcIiApO1xuXHR9LFxuXG5cdF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlbHRhID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0IC0gdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiApO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoIGV2ZW50ICk7XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2Nvbm5lY3RXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHRyZXR1cm4gb3B0aW9ucy5jb25uZWN0V2l0aC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID9cblx0XHRcdFsgb3B0aW9ucy5jb25uZWN0V2l0aCBdIDpcblx0XHRcdG9wdGlvbnMuY29ubmVjdFdpdGg7XG5cdH0sXG5cblx0X2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uKCBjb25uZWN0ZWQgKSB7XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LFxuXHRcdFx0aXRlbXMgPSBbXSxcblx0XHRcdHF1ZXJpZXMgPSBbXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmICggY29ubmVjdFdpdGggJiYgY29ubmVjdGVkICkge1xuXHRcdFx0Zm9yICggaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHRjdXIgPSAkKCBjb25uZWN0V2l0aFsgaSBdLCB0aGlzLmRvY3VtZW50WyAwIF0gKTtcblx0XHRcdFx0Zm9yICggaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSApIHtcblx0XHRcdFx0XHRpbnN0ID0gJC5kYXRhKCBjdXJbIGogXSwgdGhpcy53aWRnZXRGdWxsTmFtZSApO1xuXHRcdFx0XHRcdGlmICggaW5zdCAmJiBpbnN0ICE9PSB0aGlzICYmICFpbnN0Lm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRxdWVyaWVzLnB1c2goIFsgdHlwZW9mIGluc3Qub3B0aW9ucy5pdGVtcyA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRcdFx0XHRcdFx0aW5zdC5vcHRpb25zLml0ZW1zLmNhbGwoIGluc3QuZWxlbWVudCApIDpcblx0XHRcdFx0XHRcdFx0JCggaW5zdC5vcHRpb25zLml0ZW1zLCBpbnN0LmVsZW1lbnQgKVxuXHRcdFx0XHRcdFx0XHRcdC5ub3QoIFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiIClcblx0XHRcdFx0XHRcdFx0XHQubm90KCBcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiICksIGluc3QgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHF1ZXJpZXMucHVzaCggWyB0eXBlb2YgdGhpcy5vcHRpb25zLml0ZW1zID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0dGhpcy5vcHRpb25zLml0ZW1zXG5cdFx0XHRcdC5jYWxsKCB0aGlzLmVsZW1lbnQsIG51bGwsIHsgb3B0aW9uczogdGhpcy5vcHRpb25zLCBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0gKSA6XG5cdFx0XHQkKCB0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCApXG5cdFx0XHRcdC5ub3QoIFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiIClcblx0XHRcdFx0Lm5vdCggXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiApLCB0aGlzIF0gKTtcblxuXHRcdGZ1bmN0aW9uIGFkZEl0ZW1zKCkge1xuXHRcdFx0aXRlbXMucHVzaCggdGhpcyApO1xuXHRcdH1cblx0XHRmb3IgKCBpID0gcXVlcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHF1ZXJpZXNbIGkgXVsgMCBdLmVhY2goIGFkZEl0ZW1zICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICQoIGl0ZW1zICk7XG5cblx0fSxcblxuXHRfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGxpc3QgPSB0aGlzLmN1cnJlbnRJdGVtLmZpbmQoIFwiOmRhdGEoXCIgKyB0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtKVwiICk7XG5cblx0XHR0aGlzLml0ZW1zID0gJC5ncmVwKCB0aGlzLml0ZW1zLCBmdW5jdGlvbiggaXRlbSApIHtcblx0XHRcdGZvciAoIHZhciBqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdGlmICggbGlzdFsgaiBdID09PSBpdGVtLml0ZW1bIDAgXSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdF9yZWZyZXNoSXRlbXM6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHRoaXMuaXRlbXMgPSBbXTtcblx0XHR0aGlzLmNvbnRhaW5lcnMgPSBbIHRoaXMgXTtcblxuXHRcdHZhciBpLCBqLCBjdXIsIGluc3QsIHRhcmdldERhdGEsIF9xdWVyaWVzLCBpdGVtLCBxdWVyaWVzTGVuZ3RoLFxuXHRcdFx0aXRlbXMgPSB0aGlzLml0ZW1zLFxuXHRcdFx0cXVlcmllcyA9IFsgWyB0eXBlb2YgdGhpcy5vcHRpb25zLml0ZW1zID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdFx0JCggdGhpcy5vcHRpb25zLml0ZW1zLCB0aGlzLmVsZW1lbnQgKSwgdGhpcyBdIF0sXG5cdFx0XHRjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7XG5cblx0XHQvL1Nob3VsZG4ndCBiZSBydW4gdGhlIGZpcnN0IHRpbWUgdGhyb3VnaCBkdWUgdG8gbWFzc2l2ZSBzbG93LWRvd25cblx0XHRpZiAoIGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkgKSB7XG5cdFx0XHRmb3IgKCBpID0gY29ubmVjdFdpdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdGN1ciA9ICQoIGNvbm5lY3RXaXRoWyBpIF0sIHRoaXMuZG9jdW1lbnRbIDAgXSApO1xuXHRcdFx0XHRmb3IgKCBqID0gY3VyLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tICkge1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoIGN1clsgaiBdLCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0XHRcdFx0aWYgKCBpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRcdHF1ZXJpZXMucHVzaCggWyB0eXBlb2YgaW5zdC5vcHRpb25zLml0ZW1zID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0XHRcdFx0XHRpbnN0Lm9wdGlvbnMuaXRlbXNcblx0XHRcdFx0XHRcdFx0XHQuY2FsbCggaW5zdC5lbGVtZW50WyAwIF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdFx0XHRcdFx0JCggaW5zdC5vcHRpb25zLml0ZW1zLCBpbnN0LmVsZW1lbnQgKSwgaW5zdCBdICk7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnMucHVzaCggaW5zdCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoIGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0dGFyZ2V0RGF0YSA9IHF1ZXJpZXNbIGkgXVsgMSBdO1xuXHRcdFx0X3F1ZXJpZXMgPSBxdWVyaWVzWyBpIF1bIDAgXTtcblxuXHRcdFx0Zm9yICggaiA9IDAsIHF1ZXJpZXNMZW5ndGggPSBfcXVlcmllcy5sZW5ndGg7IGogPCBxdWVyaWVzTGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdGl0ZW0gPSAkKCBfcXVlcmllc1sgaiBdICk7XG5cblx0XHRcdFx0Ly8gRGF0YSBmb3IgdGFyZ2V0IGNoZWNraW5nIChtb3VzZSBtYW5hZ2VyKVxuXHRcdFx0XHRpdGVtLmRhdGEoIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiwgdGFyZ2V0RGF0YSApO1xuXG5cdFx0XHRcdGl0ZW1zLnB1c2goIHtcblx0XHRcdFx0XHRpdGVtOiBpdGVtLFxuXHRcdFx0XHRcdGluc3RhbmNlOiB0YXJnZXREYXRhLFxuXHRcdFx0XHRcdHdpZHRoOiAwLCBoZWlnaHQ6IDAsXG5cdFx0XHRcdFx0bGVmdDogMCwgdG9wOiAwXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0fSxcblxuXHRfcmVmcmVzaEl0ZW1Qb3NpdGlvbnM6IGZ1bmN0aW9uKCBmYXN0ICkge1xuXHRcdHZhciBpLCBpdGVtLCB0LCBwO1xuXG5cdFx0Zm9yICggaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1sgaSBdO1xuXG5cdFx0XHQvL1dlIGlnbm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbnMgb2YgYWxsIGNvbm5lY3RlZCBjb250YWluZXJzIHdoZW4gd2UncmUgbm90IG92ZXIgdGhlbVxuXHRcdFx0aWYgKCB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgaXRlbS5pbnN0YW5jZSAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyICYmXG5cdFx0XHRcdFx0aXRlbS5pdGVtWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHQgPSB0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCA/XG5cdFx0XHRcdCQoIHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LCBpdGVtLml0ZW0gKSA6XG5cdFx0XHRcdGl0ZW0uaXRlbTtcblxuXHRcdFx0aWYgKCAhZmFzdCApIHtcblx0XHRcdFx0aXRlbS53aWR0aCA9IHQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRpdGVtLmhlaWdodCA9IHQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblxuXHRcdFx0cCA9IHQub2Zmc2V0KCk7XG5cdFx0XHRpdGVtLmxlZnQgPSBwLmxlZnQ7XG5cdFx0XHRpdGVtLnRvcCA9IHAudG9wO1xuXHRcdH1cblx0fSxcblxuXHRyZWZyZXNoUG9zaXRpb25zOiBmdW5jdGlvbiggZmFzdCApIHtcblxuXHRcdC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW1zIGFyZSBiZWluZyBkaXNwbGF5ZWQgaG9yaXpvbnRhbGx5XG5cdFx0dGhpcy5mbG9hdGluZyA9IHRoaXMuaXRlbXMubGVuZ3RoID9cblx0XHRcdHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIiB8fCB0aGlzLl9pc0Zsb2F0aW5nKCB0aGlzLml0ZW1zWyAwIF0uaXRlbSApIDpcblx0XHRcdGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBoYXMgdG8gYmUgcmVkb25lIGJlY2F1c2UgZHVlIHRvIHRoZSBpdGVtIGJlaW5nIG1vdmVkIG91dC9pbnRvIHRoZSBvZmZzZXRQYXJlbnQsXG5cdFx0Ly8gdGhlIG9mZnNldFBhcmVudCdzIHBvc2l0aW9uIHdpbGwgY2hhbmdlXG5cdFx0aWYgKCB0aGlzLm9mZnNldFBhcmVudCAmJiB0aGlzLmhlbHBlciApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3JlZnJlc2hJdGVtUG9zaXRpb25zKCBmYXN0ICk7XG5cblx0XHR2YXIgaSwgcDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmN1c3RvbSAmJiB0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHAgPSB0aGlzLmNvbnRhaW5lcnNbIGkgXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS50b3AgPSBwLnRvcDtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUud2lkdGggPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfY3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCB0aGF0ICkge1xuXHRcdHRoYXQgPSB0aGF0IHx8IHRoaXM7XG5cdFx0dmFyIGNsYXNzTmFtZSwgbm9kZU5hbWUsXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zO1xuXG5cdFx0aWYgKCAhby5wbGFjZWhvbGRlciB8fCBvLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgKSB7XG5cdFx0XHRjbGFzc05hbWUgPSBvLnBsYWNlaG9sZGVyO1xuXHRcdFx0bm9kZU5hbWUgPSB0aGF0LmN1cnJlbnRJdGVtWyAwIF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdG8ucGxhY2Vob2xkZXIgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSAkKCBcIjxcIiArIG5vZGVOYW1lICsgXCI+XCIsIHRoYXQuZG9jdW1lbnRbIDAgXSApO1xuXG5cdFx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIGVsZW1lbnQsIFwidWktc29ydGFibGUtcGxhY2Vob2xkZXJcIixcblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHRoYXQuY3VycmVudEl0ZW1bIDAgXS5jbGFzc05hbWUgKVxuXHRcdFx0XHRcdFx0Ll9yZW1vdmVDbGFzcyggZWxlbWVudCwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXG5cdFx0XHRcdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJ0Ym9keVwiICkge1xuXHRcdFx0XHRcdFx0dGhhdC5fY3JlYXRlVHJQbGFjZWhvbGRlcihcblx0XHRcdFx0XHRcdFx0dGhhdC5jdXJyZW50SXRlbS5maW5kKCBcInRyXCIgKS5lcSggMCApLFxuXHRcdFx0XHRcdFx0XHQkKCBcIjx0cj5cIiwgdGhhdC5kb2N1bWVudFsgMCBdICkuYXBwZW5kVG8oIGVsZW1lbnQgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJ0clwiICkge1xuXHRcdFx0XHRcdFx0dGhhdC5fY3JlYXRlVHJQbGFjZWhvbGRlciggdGhhdC5jdXJyZW50SXRlbSwgZWxlbWVudCApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImltZ1wiICkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5hdHRyKCBcInNyY1wiLCB0aGF0LmN1cnJlbnRJdGVtLmF0dHIoIFwic3JjXCIgKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggIWNsYXNzTmFtZSApIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuY3NzKCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGU6IGZ1bmN0aW9uKCBjb250YWluZXIsIHAgKSB7XG5cblx0XHRcdFx0XHQvLyAxLiBJZiBhIGNsYXNzTmFtZSBpcyBzZXQgYXMgJ3BsYWNlaG9sZGVyIG9wdGlvbiwgd2UgZG9uJ3QgZm9yY2Ugc2l6ZXMgLVxuXHRcdFx0XHRcdC8vIHRoZSBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhhdFxuXHRcdFx0XHRcdC8vIDIuIFRoZSBvcHRpb24gJ2ZvcmNlUGxhY2Vob2xkZXJTaXplIGNhbiBiZSBlbmFibGVkIHRvIGZvcmNlIGl0IGV2ZW4gaWYgYVxuXHRcdFx0XHRcdC8vIGNsYXNzIG5hbWUgaXMgc3BlY2lmaWVkXG5cdFx0XHRcdFx0aWYgKCBjbGFzc05hbWUgJiYgIW8uZm9yY2VQbGFjZWhvbGRlclNpemUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGEgYWN0dWFsIGhlaWdodCBvciB3aWR0aCBieSBpdHNlbGYgKHdpdGhvdXRcblx0XHRcdFx0XHQvLyBzdHlsZXMgY29taW5nIGZyb20gYSBzdHlsZXNoZWV0KSwgaXQgcmVjZWl2ZXMgdGhlIGlubGluZSBoZWlnaHQgYW5kIHdpZHRoXG5cdFx0XHRcdFx0Ly8gZnJvbSB0aGUgZHJhZ2dlZCBpdGVtLiBPciwgaWYgaXQncyBhIHRib2R5IG9yIHRyLCBpdCdzIGdvaW5nIHRvIGhhdmUgYSBoZWlnaHRcblx0XHRcdFx0XHQvLyBhbnl3YXkgc2luY2Ugd2UncmUgcG9wdWxhdGluZyB0aGVtIHdpdGggPHRkPnMgYWJvdmUsIGJ1dCB0aGV5J3JlIHVubGlrZWx5IHRvXG5cdFx0XHRcdFx0Ly8gYmUgdGhlIGNvcnJlY3QgaGVpZ2h0IG9uIHRoZWlyIG93biBpZiB0aGUgcm93IGhlaWdodHMgYXJlIGR5bmFtaWMsIHNvIHdlJ2xsXG5cdFx0XHRcdFx0Ly8gYWx3YXlzIGFzc2lnbiB0aGUgaGVpZ2h0IG9mIHRoZSBkcmFnZ2VkIGl0ZW0gZ2l2ZW4gZm9yY2VQbGFjZWhvbGRlclNpemVcblx0XHRcdFx0XHQvLyBpcyB0cnVlLlxuXHRcdFx0XHRcdGlmICggIXAuaGVpZ2h0KCkgfHwgKCBvLmZvcmNlUGxhY2Vob2xkZXJTaXplICYmXG5cdFx0XHRcdFx0XHRcdCggbm9kZU5hbWUgPT09IFwidGJvZHlcIiB8fCBub2RlTmFtZSA9PT0gXCJ0clwiICkgKSApIHtcblx0XHRcdFx0XHRcdHAuaGVpZ2h0KFxuXHRcdFx0XHRcdFx0XHR0aGF0LmN1cnJlbnRJdGVtLmlubmVySGVpZ2h0KCkgLVxuXHRcdFx0XHRcdFx0XHRwYXJzZUludCggdGhhdC5jdXJyZW50SXRlbS5jc3MoIFwicGFkZGluZ1RvcFwiICkgfHwgMCwgMTAgKSAtXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KCB0aGF0LmN1cnJlbnRJdGVtLmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSB8fCAwLCAxMCApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggIXAud2lkdGgoKSApIHtcblx0XHRcdFx0XHRcdHAud2lkdGgoXG5cdFx0XHRcdFx0XHRcdHRoYXQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpIC1cblx0XHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRoYXQuY3VycmVudEl0ZW0uY3NzKCBcInBhZGRpbmdMZWZ0XCIgKSB8fCAwLCAxMCApIC1cblx0XHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRoYXQuY3VycmVudEl0ZW0uY3NzKCBcInBhZGRpbmdSaWdodFwiICkgfHwgMCwgMTAgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXJcblx0XHR0aGF0LnBsYWNlaG9sZGVyID0gJCggby5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwoIHRoYXQuZWxlbWVudCwgdGhhdC5jdXJyZW50SXRlbSApICk7XG5cblx0XHQvL0FwcGVuZCBpdCBhZnRlciB0aGUgYWN0dWFsIGN1cnJlbnQgaXRlbVxuXHRcdHRoYXQuY3VycmVudEl0ZW0uYWZ0ZXIoIHRoYXQucGxhY2Vob2xkZXIgKTtcblxuXHRcdC8vVXBkYXRlIHRoZSBzaXplIG9mIHRoZSBwbGFjZWhvbGRlciAoVE9ETzogTG9naWMgdG8gZnV6enksIHNlZSBsaW5lIDMxNi8zMTcpXG5cdFx0by5wbGFjZWhvbGRlci51cGRhdGUoIHRoYXQsIHRoYXQucGxhY2Vob2xkZXIgKTtcblxuXHR9LFxuXG5cdF9jcmVhdGVUclBsYWNlaG9sZGVyOiBmdW5jdGlvbiggc291cmNlVHIsIHRhcmdldFRyICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHNvdXJjZVRyLmNoaWxkcmVuKCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCBcIjx0ZD4mIzE2MDs8L3RkPlwiLCB0aGF0LmRvY3VtZW50WyAwIF0gKVxuXHRcdFx0XHQuYXR0ciggXCJjb2xzcGFuXCIsICQoIHRoaXMgKS5hdHRyKCBcImNvbHNwYW5cIiApIHx8IDEgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIHRhcmdldFRyICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9jb250YWN0Q29udGFpbmVyczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpLCBqLCBkaXN0LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIHBvc1Byb3BlcnR5LCBzaXplUHJvcGVydHksIGN1ciwgbmVhckJvdHRvbSxcblx0XHRcdGZsb2F0aW5nLCBheGlzLFxuXHRcdFx0aW5uZXJtb3N0Q29udGFpbmVyID0gbnVsbCxcblx0XHRcdGlubmVybW9zdEluZGV4ID0gbnVsbDtcblxuXHRcdC8vIEdldCBpbm5lcm1vc3QgY29udGFpbmVyIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGl0ZW1cblx0XHRmb3IgKCBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXG5cdFx0XHQvLyBOZXZlciBjb25zaWRlciBhIGNvbnRhaW5lciB0aGF0J3MgbG9jYXRlZCB3aXRoaW4gdGhlIGl0ZW0gaXRzZWxmXG5cdFx0XHRpZiAoICQuY29udGFpbnMoIHRoaXMuY3VycmVudEl0ZW1bIDAgXSwgdGhpcy5jb250YWluZXJzWyBpIF0uZWxlbWVudFsgMCBdICkgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoaXMuX2ludGVyc2VjdHNXaXRoKCB0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZSApICkge1xuXG5cdFx0XHRcdC8vIElmIHdlJ3ZlIGFscmVhZHkgZm91bmQgYSBjb250YWluZXIgYW5kIGl0J3MgbW9yZSBcImlubmVyXCIgdGhhbiB0aGlzLCB0aGVuIGNvbnRpbnVlXG5cdFx0XHRcdGlmICggaW5uZXJtb3N0Q29udGFpbmVyICYmXG5cdFx0XHRcdFx0XHQkLmNvbnRhaW5zKFxuXHRcdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5lbGVtZW50WyAwIF0sXG5cdFx0XHRcdFx0XHRcdGlubmVybW9zdENvbnRhaW5lci5lbGVtZW50WyAwIF0gKSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1sgaSBdO1xuXHRcdFx0XHRpbm5lcm1vc3RJbmRleCA9IGk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gY29udGFpbmVyIGRvZXNuJ3QgaW50ZXJzZWN0LiB0cmlnZ2VyIFwib3V0XCIgZXZlbnQgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdGlmICggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJvdXRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIElmIG5vIGludGVyc2VjdGluZyBjb250YWluZXJzIGZvdW5kLCByZXR1cm5cblx0XHRpZiAoICFpbm5lcm1vc3RDb250YWluZXIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTW92ZSB0aGUgaXRlbSBpbnRvIHRoZSBjb250YWluZXIgaWYgaXQncyBub3QgdGhlcmUgYWxyZWFkeVxuXHRcdGlmICggdGhpcy5jb250YWluZXJzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGlmICggIXRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5jb250YWluZXJDYWNoZS5vdmVyICkge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uX3RyaWdnZXIoIFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFdoZW4gZW50ZXJpbmcgYSBuZXcgY29udGFpbmVyLCB3ZSB3aWxsIGZpbmQgdGhlIGl0ZW0gd2l0aCB0aGUgbGVhc3QgZGlzdGFuY2UgYW5kXG5cdFx0XHQvLyBhcHBlbmQgb3VyIGl0ZW0gbmVhciBpdFxuXHRcdFx0ZGlzdCA9IDEwMDAwO1xuXHRcdFx0aXRlbVdpdGhMZWFzdERpc3RhbmNlID0gbnVsbDtcblx0XHRcdGZsb2F0aW5nID0gaW5uZXJtb3N0Q29udGFpbmVyLmZsb2F0aW5nIHx8IHRoaXMuX2lzRmxvYXRpbmcoIHRoaXMuY3VycmVudEl0ZW0gKTtcblx0XHRcdHBvc1Byb3BlcnR5ID0gZmxvYXRpbmcgPyBcImxlZnRcIiA6IFwidG9wXCI7XG5cdFx0XHRzaXplUHJvcGVydHkgPSBmbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cdFx0XHRheGlzID0gZmxvYXRpbmcgPyBcInBhZ2VYXCIgOiBcInBhZ2VZXCI7XG5cblx0XHRcdGZvciAoIGogPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tICkge1xuXHRcdFx0XHRpZiAoICEkLmNvbnRhaW5zKFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLmVsZW1lbnRbIDAgXSwgdGhpcy5pdGVtc1sgaiBdLml0ZW1bIDAgXSApXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggdGhpcy5pdGVtc1sgaiBdLml0ZW1bIDAgXSA9PT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VyID0gdGhpcy5pdGVtc1sgaiBdLml0ZW0ub2Zmc2V0KClbIHBvc1Byb3BlcnR5IF07XG5cdFx0XHRcdG5lYXJCb3R0b20gPSBmYWxzZTtcblx0XHRcdFx0aWYgKCBldmVudFsgYXhpcyBdIC0gY3VyID4gdGhpcy5pdGVtc1sgaiBdWyBzaXplUHJvcGVydHkgXSAvIDIgKSB7XG5cdFx0XHRcdFx0bmVhckJvdHRvbSA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBldmVudFsgYXhpcyBdIC0gY3VyICkgPCBkaXN0ICkge1xuXHRcdFx0XHRcdGRpc3QgPSBNYXRoLmFicyggZXZlbnRbIGF4aXMgXSAtIGN1ciApO1xuXHRcdFx0XHRcdGl0ZW1XaXRoTGVhc3REaXN0YW5jZSA9IHRoaXMuaXRlbXNbIGogXTtcblx0XHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IG5lYXJCb3R0b20gPyBcInVwXCIgOiBcImRvd25cIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvL0NoZWNrIGlmIGRyb3BPbkVtcHR5IGlzIGVuYWJsZWRcblx0XHRcdGlmICggIWl0ZW1XaXRoTGVhc3REaXN0YW5jZSAmJiAhdGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5ICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGhpcy5jdXJyZW50Q29udGFpbmVyID09PSB0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0gKSB7XG5cdFx0XHRcdGlmICggIXRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyICkge1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXRlbVdpdGhMZWFzdERpc3RhbmNlICkge1xuXHRcdFx0XHR0aGlzLl9yZWFycmFuZ2UoIGV2ZW50LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIG51bGwsIHRydWUgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3JlYXJyYW5nZSggZXZlbnQsIG51bGwsIHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5lbGVtZW50LCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF07XG5cblx0XHRcdC8vVXBkYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdFx0dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSggdGhpcy5jdXJyZW50Q29udGFpbmVyLCB0aGlzLnBsYWNlaG9sZGVyICk7XG5cblx0XHRcdC8vVXBkYXRlIHNjcm9sbFBhcmVudFxuXHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQgPSB0aGlzLnBsYWNlaG9sZGVyLnNjcm9sbFBhcmVudCgpO1xuXG5cdFx0XHQvL1VwZGF0ZSBvdmVyZmxvd09mZnNldFxuXHRcdFx0aWYgKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0XHR0aGlzLm92ZXJmbG93T2Zmc2V0ID0gdGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGVscGVyID0gdHlwZW9mIG8uaGVscGVyID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0XHQkKCBvLmhlbHBlci5hcHBseSggdGhpcy5lbGVtZW50WyAwIF0sIFsgZXZlbnQsIHRoaXMuY3VycmVudEl0ZW0gXSApICkgOlxuXHRcdFx0XHQoIG8uaGVscGVyID09PSBcImNsb25lXCIgPyB0aGlzLmN1cnJlbnRJdGVtLmNsb25lKCkgOiB0aGlzLmN1cnJlbnRJdGVtICk7XG5cblx0XHQvL0FkZCB0aGUgaGVscGVyIHRvIHRoZSBET00gaWYgdGhhdCBkaWRuJ3QgaGFwcGVuIGFscmVhZHlcblx0XHRpZiAoICFoZWxwZXIucGFyZW50cyggXCJib2R5XCIgKS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmFwcGVuZFRvWyAwIF0uYXBwZW5kQ2hpbGQoIGhlbHBlclsgMCBdICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWxwZXJbIDAgXSA9PT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0dGhpcy5fc3RvcmVkQ1NTID0ge1xuXHRcdFx0XHR3aWR0aDogdGhpcy5jdXJyZW50SXRlbVsgMCBdLnN0eWxlLndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuY3VycmVudEl0ZW1bIDAgXS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRcdHBvc2l0aW9uOiB0aGlzLmN1cnJlbnRJdGVtLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwidG9wXCIgKSxcblx0XHRcdFx0bGVmdDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibGVmdFwiIClcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCAhaGVscGVyWyAwIF0uc3R5bGUud2lkdGggfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIud2lkdGgoIHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSApO1xuXHRcdH1cblx0XHRpZiAoICFoZWxwZXJbIDAgXS5zdHlsZS5oZWlnaHQgfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIuaGVpZ2h0KCB0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IG9iai5zcGxpdCggXCIgXCIgKTtcblx0XHR9XG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHtcblx0XHRcdG9iaiA9IHsgbGVmdDogK29ialsgMCBdLCB0b3A6ICtvYmpbIDEgXSB8fCAwIH07XG5cdFx0fVxuXHRcdGlmICggXCJsZWZ0XCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IG9iai5sZWZ0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmICggXCJyaWdodFwiIGluIG9iaiApIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gb2JqLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmICggXCJ0b3BcIiBpbiBvYmogKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgPSBvYmoudG9wICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdFx0aWYgKCBcImJvdHRvbVwiIGluIG9iaiApIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gb2JqLmJvdHRvbSArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHR9LFxuXG5cdF9nZXRQYXJlbnRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly9HZXQgdGhlIG9mZnNldFBhcmVudCBhbmQgY2FjaGUgaXRzIHBvc2l0aW9uXG5cdFx0dGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTtcblx0XHR2YXIgcG8gPSB0aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtcblxuXHRcdC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgbmVlZCB0byBtb2RpZnkgYSBvZmZzZXQgY2FsY3VsYXRlZCBvbiBzdGFydCwgc2luY2UgdGhlXG5cdFx0Ly8gZm9sbG93aW5nIGhhcHBlbmVkOlxuXHRcdC8vIDEuIFRoZSBwb3NpdGlvbiBvZiB0aGUgaGVscGVyIGlzIGFic29sdXRlLCBzbyBpdCdzIHBvc2l0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlXG5cdFx0Ly8gbmV4dCBwb3NpdGlvbmVkIHBhcmVudFxuXHRcdC8vIDIuIFRoZSBhY3R1YWwgb2Zmc2V0IHBhcmVudCBpcyBhIGNoaWxkIG9mIHRoZSBzY3JvbGwgcGFyZW50LCBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXNuJ3Rcblx0XHQvLyB0aGUgZG9jdW1lbnQsIHdoaWNoIG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5pdGlhbCBjYWxjdWxhdGlvbiBvZiB0aGVcblx0XHQvLyBvZmZzZXQgb2YgdGhlIHBhcmVudCwgYW5kIG5ldmVyIHJlY2FsY3VsYXRlZCB1cG9uIGRyYWdcblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJiB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0JC5jb250YWlucyggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSwgdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkge1xuXHRcdFx0cG8ubGVmdCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRwby50b3AgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBuZWVkcyB0byBiZSBhY3R1YWxseSBkb25lIGZvciBhbGwgYnJvd3NlcnMsIHNpbmNlIHBhZ2VYL3BhZ2VZIGluY2x1ZGVzIHRoaXNcblx0XHQvLyBpbmZvcm1hdGlvbiB3aXRoIGFuIHVnbHkgSUUgZml4XG5cdFx0aWYgKCB0aGlzLm9mZnNldFBhcmVudFsgMCBdID09PSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSB8fFxuXHRcdFx0XHQoIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0udGFnTmFtZSAmJlxuXHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudFsgMCBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJodG1sXCIgJiYgJC51aS5pZSApICkge1xuXHRcdFx0cG8gPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBvLnRvcCArICggcGFyc2VJbnQoIHRoaXMub2Zmc2V0UGFyZW50LmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0bGVmdDogcG8ubGVmdCArICggcGFyc2VJbnQoIHRoaXMub2Zmc2V0UGFyZW50LmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgKSB7XG5cdFx0XHR2YXIgcCA9IHRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvcDogcC50b3AgLSAoIHBhcnNlSW50KCB0aGlzLmhlbHBlci5jc3MoIFwidG9wXCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLFxuXHRcdFx0XHRsZWZ0OiBwLmxlZnQgLSAoIHBhcnNlSW50KCB0aGlzLmhlbHBlci5jc3MoIFwibGVmdFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KClcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWFyZ2lucyA9IHtcblx0XHRcdGxlZnQ6ICggcGFyc2VJbnQoIHRoaXMuY3VycmVudEl0ZW0uY3NzKCBcIm1hcmdpbkxlZnRcIiApLCAxMCApIHx8IDAgKSxcblx0XHRcdHRvcDogKCBwYXJzZUludCggdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibWFyZ2luVG9wXCIgKSwgMTAgKSB8fCAwIClcblx0XHR9O1xuXHR9LFxuXG5cdF9jYWNoZUhlbHBlclByb3BvcnRpb25zOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zID0ge1xuXHRcdFx0d2lkdGg6IHRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxcblx0XHRcdGhlaWdodDogdGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKVxuXHRcdH07XG5cdH0sXG5cblx0X3NldENvbnRhaW5tZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBjZSwgY28sIG92ZXIsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXHRcdGlmICggby5jb250YWlubWVudCA9PT0gXCJwYXJlbnRcIiApIHtcblx0XHRcdG8uY29udGFpbm1lbnQgPSB0aGlzLmhlbHBlclsgMCBdLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdGlmICggby5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiIHx8IG8uY29udGFpbm1lbnQgPT09IFwid2luZG93XCIgKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LFxuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCxcblx0XHRcdFx0by5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiID9cblx0XHRcdFx0XHR0aGlzLmRvY3VtZW50LndpZHRoKCkgOlxuXHRcdFx0XHRcdHRoaXMud2luZG93LndpZHRoKCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdCggby5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiID9cblx0XHRcdFx0XHQoIHRoaXMuZG9jdW1lbnQuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCApIDpcblx0XHRcdFx0XHR0aGlzLndpbmRvdy5oZWlnaHQoKSB8fCB0aGlzLmRvY3VtZW50WyAwIF0uYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodFxuXHRcdFx0XHQpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXG5cdFx0XHRdO1xuXHRcdH1cblxuXHRcdGlmICggISggL14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLyApLnRlc3QoIG8uY29udGFpbm1lbnQgKSApIHtcblx0XHRcdGNlID0gJCggby5jb250YWlubWVudCApWyAwIF07XG5cdFx0XHRjbyA9ICQoIG8uY29udGFpbm1lbnQgKS5vZmZzZXQoKTtcblx0XHRcdG92ZXIgPSAoICQoIGNlICkuY3NzKCBcIm92ZXJmbG93XCIgKSAhPT0gXCJoaWRkZW5cIiApO1xuXG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHRjby5sZWZ0ICsgKCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwiYm9yZGVyTGVmdFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcInBhZGRpbmdMZWZ0XCIgKSwgMTAgKSB8fCAwICkgLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0Y28udG9wICsgKCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwiYm9yZGVyVG9wV2lkdGhcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwicGFkZGluZ1RvcFwiICksIDEwICkgfHwgMCApIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdFx0Y28ubGVmdCArICggb3ZlciA/IE1hdGgubWF4KCBjZS5zY3JvbGxXaWR0aCwgY2Uub2Zmc2V0V2lkdGggKSA6IGNlLm9mZnNldFdpZHRoICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcImJvcmRlckxlZnRXaWR0aFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0XHQoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJwYWRkaW5nUmlnaHRcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHRjby50b3AgKyAoIG92ZXIgPyBNYXRoLm1heCggY2Uuc2Nyb2xsSGVpZ2h0LCBjZS5vZmZzZXRIZWlnaHQgKSA6IGNlLm9mZnNldEhlaWdodCApIC1cblx0XHRcdFx0XHQoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0XHQoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHR9XG5cblx0fSxcblxuXHRfY29udmVydFBvc2l0aW9uVG86IGZ1bmN0aW9uKCBkLCBwb3MgKSB7XG5cblx0XHRpZiAoICFwb3MgKSB7XG5cdFx0XHRwb3MgPSB0aGlzLnBvc2l0aW9uO1xuXHRcdH1cblx0XHR2YXIgbW9kID0gZCA9PT0gXCJhYnNvbHV0ZVwiID8gMSA6IC0xLFxuXHRcdFx0c2Nyb2xsID0gdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmXG5cdFx0XHRcdCEoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHQkLmNvbnRhaW5zKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLCB0aGlzLm9mZnNldFBhcmVudFsgMCBdICkgKSA/XG5cdFx0XHRcdFx0dGhpcy5vZmZzZXRQYXJlbnQgOlxuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50LFxuXHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9ICggLyhodG1sfGJvZHkpL2kgKS50ZXN0KCBzY3JvbGxbIDAgXS50YWdOYW1lICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBvcy50b3BcdCtcblxuXHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUudG9wICogbW9kICtcblxuXHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQudG9wICogbW9kIC1cblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/XG5cdFx0XHRcdFx0LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpIDpcblx0XHRcdFx0XHQoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbFRvcCgpICkgKSAqIG1vZCApXG5cdFx0XHQpLFxuXHRcdFx0bGVmdDogKFxuXG5cdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHRwb3MubGVmdCArXG5cblx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBtb2QgK1xuXG5cdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICogbW9kXHQtXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkgOiBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6XG5cdFx0XHRcdFx0c2Nyb2xsLnNjcm9sbExlZnQoKSApICogbW9kIClcblx0XHRcdClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2dlbmVyYXRlUG9zaXRpb246IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciB0b3AsIGxlZnQsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0cGFnZVggPSBldmVudC5wYWdlWCxcblx0XHRcdHBhZ2VZID0gZXZlbnQucGFnZVksXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiZcblx0XHRcdFx0ISggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5kb2N1bWVudFsgMCBdICYmXG5cdFx0XHRcdCQuY29udGFpbnMoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0sIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApID9cblx0XHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudCA6XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQsXG5cdFx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSAoIC8oaHRtbHxib2R5KS9pICkudGVzdCggc2Nyb2xsWyAwIF0udGFnTmFtZSApO1xuXG5cdFx0Ly8gVGhpcyBpcyBhbm90aGVyIHZlcnkgd2VpcmQgc3BlY2lhbCBjYXNlIHRoYXQgb25seSBoYXBwZW5zIGZvciByZWxhdGl2ZSBlbGVtZW50czpcblx0XHQvLyAxLiBJZiB0aGUgY3NzIHBvc2l0aW9uIGlzIHJlbGF0aXZlXG5cdFx0Ly8gMi4gYW5kIHRoZSBzY3JvbGwgcGFyZW50IGlzIHRoZSBkb2N1bWVudCBvciBzaW1pbGFyIHRvIHRoZSBvZmZzZXQgcGFyZW50XG5cdFx0Ly8gd2UgaGF2ZSB0byByZWZyZXNoIHRoZSByZWxhdGl2ZSBvZmZzZXQgZHVyaW5nIHRoZSBzY3JvbGwgc28gdGhlcmUgYXJlIG5vIGp1bXBzXG5cdFx0aWYgKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgJiYgISggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5kb2N1bWVudFsgMCBdICYmXG5cdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlID0gdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdCAqIC0gUG9zaXRpb24gY29uc3RyYWluaW5nIC1cblx0XHQgKiBDb25zdHJhaW4gdGhlIHBvc2l0aW9uIHRvIGEgbWl4IG9mIGdyaWQsIGNvbnRhaW5tZW50LlxuXHRcdCAqL1xuXG5cdFx0aWYgKCB0aGlzLm9yaWdpbmFsUG9zaXRpb24gKSB7IC8vSWYgd2UgYXJlIG5vdCBkcmFnZ2luZyB5ZXQsIHdlIHdvbid0IGNoZWNrIGZvciBvcHRpb25zXG5cblx0XHRcdGlmICggdGhpcy5jb250YWlubWVudCApIHtcblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPCB0aGlzLmNvbnRhaW5tZW50WyAwIF0gKSB7XG5cdFx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50WyAwIF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPCB0aGlzLmNvbnRhaW5tZW50WyAxIF0gKSB7XG5cdFx0XHRcdFx0cGFnZVkgPSB0aGlzLmNvbnRhaW5tZW50WyAxIF0gKyB0aGlzLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiB0aGlzLmNvbnRhaW5tZW50WyAyIF0gKSB7XG5cdFx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50WyAyIF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPiB0aGlzLmNvbnRhaW5tZW50WyAzIF0gKSB7XG5cdFx0XHRcdFx0cGFnZVkgPSB0aGlzLmNvbnRhaW5tZW50WyAzIF0gKyB0aGlzLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLmdyaWQgKSB7XG5cdFx0XHRcdHRvcCA9IHRoaXMub3JpZ2luYWxQYWdlWSArIE1hdGgucm91bmQoICggcGFnZVkgLSB0aGlzLm9yaWdpbmFsUGFnZVkgKSAvXG5cdFx0XHRcdFx0by5ncmlkWyAxIF0gKSAqIG8uZ3JpZFsgMSBdO1xuXHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnQgP1xuXHRcdFx0XHRcdCggKCB0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gdGhpcy5jb250YWlubWVudFsgMSBdICYmXG5cdFx0XHRcdFx0XHR0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPD0gdGhpcy5jb250YWlubWVudFsgMyBdICkgP1xuXHRcdFx0XHRcdFx0XHR0b3AgOlxuXHRcdFx0XHRcdFx0XHQoICggdG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID49IHRoaXMuY29udGFpbm1lbnRbIDEgXSApID9cblx0XHRcdFx0XHRcdFx0XHR0b3AgLSBvLmdyaWRbIDEgXSA6IHRvcCArIG8uZ3JpZFsgMSBdICkgKSA6XG5cdFx0XHRcdFx0XHRcdFx0dG9wO1xuXG5cdFx0XHRcdGxlZnQgPSB0aGlzLm9yaWdpbmFsUGFnZVggKyBNYXRoLnJvdW5kKCAoIHBhZ2VYIC0gdGhpcy5vcmlnaW5hbFBhZ2VYICkgL1xuXHRcdFx0XHRcdG8uZ3JpZFsgMCBdICkgKiBvLmdyaWRbIDAgXTtcblx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50ID9cblx0XHRcdFx0XHQoICggbGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPj0gdGhpcy5jb250YWlubWVudFsgMCBdICYmXG5cdFx0XHRcdFx0XHRsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8PSB0aGlzLmNvbnRhaW5tZW50WyAyIF0gKSA/XG5cdFx0XHRcdFx0XHRcdGxlZnQgOlxuXHRcdFx0XHRcdFx0XHQoICggbGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPj0gdGhpcy5jb250YWlubWVudFsgMCBdICkgP1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQgLSBvLmdyaWRbIDAgXSA6IGxlZnQgKyBvLmdyaWRbIDAgXSApICkgOlxuXHRcdFx0XHRcdFx0XHRcdGxlZnQ7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBhZ2VZIC1cblxuXHRcdFx0XHQvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KVxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgLVxuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLVxuXG5cdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgK1xuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApIClcblx0XHRcdCksXG5cdFx0XHRsZWZ0OiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBhZ2VYIC1cblxuXHRcdFx0XHQvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KVxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0IC1cblxuXHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgK1xuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDpcblx0XHRcdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxMZWZ0KCkgKSApXG5cdFx0XHQpXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9yZWFycmFuZ2U6IGZ1bmN0aW9uKCBldmVudCwgaSwgYSwgaGFyZFJlZnJlc2ggKSB7XG5cblx0XHRpZiAoIGEgKSB7XG5cdFx0XHRhWyAwIF0uYXBwZW5kQ2hpbGQoIHRoaXMucGxhY2Vob2xkZXJbIDAgXSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpLml0ZW1bIDAgXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggdGhpcy5wbGFjZWhvbGRlclsgMCBdLFxuXHRcdFx0XHQoIHRoaXMuZGlyZWN0aW9uID09PSBcImRvd25cIiA/IGkuaXRlbVsgMCBdIDogaS5pdGVtWyAwIF0ubmV4dFNpYmxpbmcgKSApO1xuXHRcdH1cblxuXHRcdC8vVmFyaW91cyB0aGluZ3MgZG9uZSBoZXJlIHRvIGltcHJvdmUgdGhlIHBlcmZvcm1hbmNlOlxuXHRcdC8vIDEuIHdlIGNyZWF0ZSBhIHNldFRpbWVvdXQsIHRoYXQgY2FsbHMgcmVmcmVzaFBvc2l0aW9uc1xuXHRcdC8vIDIuIG9uIHRoZSBpbnN0YW5jZSwgd2UgaGF2ZSBhIGNvdW50ZXIgdmFyaWFibGUsIHRoYXQgZ2V0J3MgaGlnaGVyIGFmdGVyIGV2ZXJ5IGFwcGVuZFxuXHRcdC8vIDMuIG9uIHRoZSBsb2NhbCBzY29wZSwgd2UgY29weSB0aGUgY291bnRlciB2YXJpYWJsZSwgYW5kIGNoZWNrIGluIHRoZSB0aW1lb3V0LFxuXHRcdC8vIGlmIGl0J3Mgc3RpbGwgdGhlIHNhbWVcblx0XHQvLyA0LiB0aGlzIGxldHMgb25seSB0aGUgbGFzdCBhZGRpdGlvbiB0byB0aGUgdGltZW91dCBzdGFjayB0aHJvdWdoXG5cdFx0dGhpcy5jb3VudGVyID0gdGhpcy5jb3VudGVyID8gKyt0aGlzLmNvdW50ZXIgOiAxO1xuXHRcdHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyO1xuXG5cdFx0dGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb3VudGVyID09PSB0aGlzLmNvdW50ZXIgKSB7XG5cblx0XHRcdFx0Ly9QcmVjb21wdXRlIGFmdGVyIGVhY2ggRE9NIGluc2VydGlvbiwgTk9UIG9uIG1vdXNlbW92ZVxuXHRcdFx0XHR0aGlzLnJlZnJlc2hQb3NpdGlvbnMoICFoYXJkUmVmcmVzaCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdF9jbGVhcjogZnVuY3Rpb24oIGV2ZW50LCBub1Byb3BhZ2F0aW9uICkge1xuXG5cdFx0dGhpcy5yZXZlcnRpbmcgPSBmYWxzZTtcblxuXHRcdC8vIFdlIGRlbGF5IGFsbCBldmVudHMgdGhhdCBoYXZlIHRvIGJlIHRyaWdnZXJlZCB0byBhZnRlciB0aGUgcG9pbnQgd2hlcmUgdGhlIHBsYWNlaG9sZGVyXG5cdFx0Ly8gaGFzIGJlZW4gcmVtb3ZlZCBhbmQgZXZlcnl0aGluZyBlbHNlIG5vcm1hbGl6ZWQgYWdhaW5cblx0XHR2YXIgaSxcblx0XHRcdGRlbGF5ZWRUcmlnZ2VycyA9IFtdO1xuXG5cdFx0Ly8gV2UgZmlyc3QgaGF2ZSB0byB1cGRhdGUgdGhlIGRvbSBwb3NpdGlvbiBvZiB0aGUgYWN0dWFsIGN1cnJlbnRJdGVtXG5cdFx0Ly8gTm90ZTogZG9uJ3QgZG8gaXQgaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhbHJlYWR5IHJlbW92ZWQgKGJ5IGEgdXNlciksIG9yIGl0IGdldHNcblx0XHQvLyByZWFwcGVuZGVkIChzZWUgIzQwODgpXG5cdFx0aWYgKCAhdGhpcy5fbm9GaW5hbFNvcnQgJiYgdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSggdGhpcy5jdXJyZW50SXRlbSApO1xuXHRcdH1cblx0XHR0aGlzLl9ub0ZpbmFsU29ydCA9IG51bGw7XG5cblx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gPT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdGZvciAoIGkgaW4gdGhpcy5fc3RvcmVkQ1NTICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuX3N0b3JlZENTU1sgaSBdID09PSBcImF1dG9cIiB8fCB0aGlzLl9zdG9yZWRDU1NbIGkgXSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0XHR0aGlzLl9zdG9yZWRDU1NbIGkgXSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uY3NzKCB0aGlzLl9zdG9yZWRDU1MgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmN1cnJlbnRJdGVtLCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5mcm9tT3V0c2lkZSAmJiAhbm9Qcm9wYWdhdGlvbiApIHtcblx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwicmVjZWl2ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCB0aGlzLmZyb21PdXRzaWRlICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFx0aWYgKCAoIHRoaXMuZnJvbU91dHNpZGUgfHxcblx0XHRcdFx0dGhpcy5kb21Qb3NpdGlvbi5wcmV2ICE9PVxuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiIClbIDAgXSB8fFxuXHRcdFx0XHR0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCAhPT0gdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVsgMCBdICkgJiYgIW5vUHJvcGFnYXRpb24gKSB7XG5cblx0XHRcdC8vIFRyaWdnZXIgdXBkYXRlIGNhbGxiYWNrIGlmIHRoZSBET00gcG9zaXRpb24gaGFzIGNoYW5nZWRcblx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwidXBkYXRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHRoZSBpdGVtcyBDb250YWluZXIgaGFzIENoYW5nZWQgYW5kIHRyaWdnZXIgYXBwcm9wcmlhdGVcblx0XHQvLyBldmVudHMuXG5cdFx0aWYgKCB0aGlzICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgKSB7XG5cdFx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwicmVtb3ZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCAoIGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRjLl90cmlnZ2VyKCBcInJlY2VpdmVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSApLmNhbGwoIHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lciApICk7XG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCAoIGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRjLl90cmlnZ2VyKCBcInVwZGF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9ICkuY2FsbCggdGhpcywgdGhpcy5jdXJyZW50Q29udGFpbmVyICkgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL1Bvc3QgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHRmdW5jdGlvbiBkZWxheUV2ZW50KCB0eXBlLCBpbnN0YW5jZSwgY29udGFpbmVyICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0Y29udGFpbmVyLl90cmlnZ2VyKCB0eXBlLCBldmVudCwgaW5zdGFuY2UuX3VpSGFzaCggaW5zdGFuY2UgKSApO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0Zm9yICggaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdGlmICggIW5vUHJvcGFnYXRpb24gKSB7XG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCBkZWxheUV2ZW50KCBcImRlYWN0aXZhdGVcIiwgdGhpcywgdGhpcy5jb250YWluZXJzWyBpIF0gKSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5vdmVyICkge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJvdXRcIiwgdGhpcywgdGhpcy5jb250YWluZXJzWyBpIF0gKSApO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5vdmVyID0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL0RvIHdoYXQgd2FzIG9yaWdpbmFsbHkgaW4gcGx1Z2luc1xuXHRcdGlmICggdGhpcy5zdG9yZWRDdXJzb3IgKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50LmZpbmQoIFwiYm9keVwiICkuY3NzKCBcImN1cnNvclwiLCB0aGlzLnN0b3JlZEN1cnNvciApO1xuXHRcdFx0dGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX3N0b3JlZE9wYWNpdHkgKSB7XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoIFwib3BhY2l0eVwiLCB0aGlzLl9zdG9yZWRPcGFjaXR5ICk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5fc3RvcmVkWkluZGV4ICkge1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiLCB0aGlzLl9zdG9yZWRaSW5kZXggPT09IFwiYXV0b1wiID8gXCJcIiA6IHRoaXMuX3N0b3JlZFpJbmRleCApO1xuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRcdGlmICggIW5vUHJvcGFnYXRpb24gKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImJlZm9yZVN0b3BcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0fVxuXG5cdFx0Ly8kKHRoaXMucGxhY2Vob2xkZXJbMF0pLnJlbW92ZSgpOyB3b3VsZCBoYXZlIGJlZW4gdGhlIGpRdWVyeSB3YXkgLSB1bmZvcnR1bmF0ZWx5LFxuXHRcdC8vIGl0IHVuYmluZHMgQUxMIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIVxuXHRcdHRoaXMucGxhY2Vob2xkZXJbIDAgXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0gKTtcblxuXHRcdGlmICggIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbCApIHtcblx0XHRcdGlmICggdGhpcy5oZWxwZXJbIDAgXSAhPT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaGVscGVyID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxheWVkVHJpZ2dlcnMubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdFx0Ly8gVHJpZ2dlciBhbGwgZGVsYXllZCBldmVudHNcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzWyBpIF0uY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwic3RvcFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHR9XG5cblx0XHR0aGlzLmZyb21PdXRzaWRlID0gZmFsc2U7XG5cdFx0cmV0dXJuICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWw7XG5cblx0fSxcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAkLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApID09PSBmYWxzZSApIHtcblx0XHRcdHRoaXMuY2FuY2VsKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKCBfaW5zdCApIHtcblx0XHR2YXIgaW5zdCA9IF9pbnN0IHx8IHRoaXM7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlbHBlcjogaW5zdC5oZWxwZXIsXG5cdFx0XHRwbGFjZWhvbGRlcjogaW5zdC5wbGFjZWhvbGRlciB8fCAkKCBbXSApLFxuXHRcdFx0cG9zaXRpb246IGluc3QucG9zaXRpb24sXG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiBpbnN0Lm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRvZmZzZXQ6IGluc3QucG9zaXRpb25BYnMsXG5cdFx0XHRpdGVtOiBpbnN0LmN1cnJlbnRJdGVtLFxuXHRcdFx0c2VuZGVyOiBfaW5zdCA/IF9pbnN0LmVsZW1lbnQgOiBudWxsXG5cdFx0fTtcblx0fVxuXG59ICk7XG5cbn0gKTtcbiIsImltcG9ydCB7YWRkU3Bpbm5lciwgcmVtb3ZlU3Bpbm5lcn0gZnJvbSBcIi4uL1NoYXJlZC9oZWxwZXJzLm1vZFwiO1xuXG5leHBvcnQgY29uc3Qgc2hvd0NpdGF0aW9uID0gZnVuY3Rpb24gKCRsaW5rOiBKUXVlcnkpIHtcbiAgICBjb25zdCAkbWVudSA9ICRsaW5rLmNsb3Nlc3QoJy5qcy1wb3N0LW1lbnUnKTtcbiAgICBjb25zdCBwb3N0SWQgPSAkbWVudS5hdHRyKCdkYXRhLXBvc3QtaWQnKTtcbiAgICBjb25zdCAkY29udGFpbmVyID0gJG1lbnUuZmluZCgnLmpzLW1lbnUtcG9wdXAtY29udGFpbmVyJyk7XG5cbiAgICAvLyBJZiBhIHBvcHVwIGlzIGFscmVhZHkgc2hvd24sIGxldCBwb3B1cCBjb2RlIGhpZGUgaXQgYW5kIGRvbid0IHJlc2hvdy5cbiAgICBpZiAoJGNvbnRhaW5lci5maW5kKCcuanMtY2l0ZS1wb3B1cCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0ICRwb3B1cCA9ICQoYFxuICAgICAgICA8ZGl2IGNsYXNzPVwianMtY2l0ZS1wb3B1cCBwb3B1cCBkLWJsb2NrIHdzNiBjLWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jaXRlLWV4YW1wbGUgbWI0XCI+PC9kaXY+XG4gICAgICAgICAgICA8Zm9ybSBjbGFzcz1cImQtZmxleCBnczhcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4LS1pdGVtXCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwicy1yYWRpbyBqcy1jaXRlLWJpYnRleFwiIG5hbWU9XCJyZWZ0eXBlXCIgY2hlY2tlZD1cImNoZWNrZWRcIi8+IEJpYlRlWDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleC0taXRlbVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cInMtcmFkaW8ganMtY2l0ZS1hbXNyZWZzXCIgbmFtZT1cInJlZnR5cGVcIiAvPiBhbXNyZWZzPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImpzLWNpdGUtdGV4dCBzLXRleHRhcmVhIHcxMDAgZC1ibG9jayBtdDRcIiByb3dzPVwiOVwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInMtYnRuIGpzLWNpdGUtY2xvc2UgbXQ4IG1ibjQgcDJcIj5DbG9zZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gKTtcblxuICAgICRwb3B1cC5maW5kKFwiLmpzLWNpdGUtY2xvc2VcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAkcG9wdXAuZmFkZU91dEFuZFJlbW92ZSgpOyB9KTtcbiAgICAkcG9wdXAuZmluZCgnZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXG4gICAgY29uc3QgJGV4YW1wbGUgPSAkcG9wdXAuZmluZCgnLmpzLWNpdGUtZXhhbXBsZScpO1xuICAgIGNvbnN0ICRiaWJ0ZXh0T3B0aW9uID0gJHBvcHVwLmZpbmQoJy5qcy1jaXRlLWJpYnRleCcpO1xuICAgIGNvbnN0ICRhbXNzcmVmc09wdGlvbiA9ICRwb3B1cC5maW5kKCcuanMtY2l0ZS1hbXNyZWZzJyk7XG4gICAgY29uc3QgJHRleHQgPSAkcG9wdXAuZmluZCgnLmpzLWNpdGUtdGV4dCcpO1xuXG4gICAgJGNvbnRhaW5lci5hcHBlbmQoJHBvcHVwKTtcbiAgICBhZGRTcGlubmVyKCRleGFtcGxlKTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgIHVybDogXCIvcG9zdHMvXCIgKyBwb3N0SWQgKyBcIi9jaXRhdGlvblwiLFxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgICAgICByZW1vdmVTcGlubmVyKCk7XG4gICAgICAgICAgICAkZXhhbXBsZS5odG1sKGRhdGEuZXhhbXBsZSk7XG4gICAgICAgICAgICAkdGV4dC52YWwoZGF0YS5iaWJ0ZXgpO1xuICAgICAgICAgICAgJGJpYnRleHRPcHRpb24uY2xpY2soZnVuY3Rpb24gKCkgeyAkdGV4dC52YWwoZGF0YS5iaWJ0ZXgpOyB9KTtcbiAgICAgICAgICAgICRhbXNzcmVmc09wdGlvbi5jbGljayhmdW5jdGlvbiAoKSB7ICR0ZXh0LnZhbChkYXRhLmFtc3JlZik7IH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuIiwiLy8gdGFrZW4gZnJvbSBQb3J0bWFuIFdpbGxzJyBodHRwOi8vc2NvcmVhd2luLmNvbS9zY3JpcHRzL21hc3Rlci5qc1xuXG5mdW5jdGlvbiBwb3AodXJpOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgb3B0aW9ucykge1xuICAgIGlmICghd2luZG93Lm9wZW4odXJpLCBuYW1lLCBvcHRpb25zKSkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVyaTtcbiAgICB9O1xufTtcblxuZnVuY3Rpb24gYWRkVHJhY2tlcih1cmw6IHN0cmluZywgc2x1Zzogc3RyaW5nLCBzbHVnVmFsdWU6IHN0cmluZykge1xuICAgIHNsdWdWYWx1ZSA9IHR5cGVvZiBzbHVnVmFsdWUgIT09ICd1bmRlZmluZWQnID8gc2x1Z1ZhbHVlIDogJzEnO1xuICAgIHNsdWcgKz0gXCI9XCIgKyBzbHVnVmFsdWU7XG4gICAgdmFyIHF1b3RlID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICB2YXIgaGFzaCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKHF1b3RlID09IC0xKSB7XG4gICAgICAgIGlmIChoYXNoID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsICsgJz8nICsgc2x1ZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIGhhc2gpICsgJz8nICsgc2x1ZyArIHVybC5zdWJzdHJpbmcoaGFzaCk7XG4gICAgfVxuXG4gICAgaWYgKGhhc2ggPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHVybCArICcmJyArIHNsdWc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgaGFzaCkgKyAnJicgKyBzbHVnICsgdXJsLnN1YnN0cmluZyhoYXNoKTtcbn07XG5cblxuXG5mdW5jdGlvbiBzaGFyZVR3aXR0ZXIgKGxpbms6IEpRdWVyeSwgdXJsOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgc2x1Z1ZhbHVlOiBzdHJpbmcpIHtcbiAgICB1cmwgPSBhZGRUcmFja2VyKHVybCwgJ3N0dycsIHNsdWdWYWx1ZSk7XG5cbiAgICB2YXIgdHdpdHRlck1heFR3ZWV0TGVuZ3RoID0gMjgwIC0gMjM7IC8vIDIyIGZvciB0LmNvIHdyYXBwaW5nIG91ciB1cmxzICsgYSBzcGFjZVxuXG4gICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gdHdpdHRlck1heFR3ZWV0TGVuZ3RoKVxuICAgIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIHR3aXR0ZXJNYXhUd2VldExlbmd0aCAtIDMpICsgXCIuLi5cIjtcbiAgICB9XG5cbiAgICBsaW5rLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9wKFxuICAgICAgICAgICAgJ2h0dHBzOi8vdHdpdHRlci5jb20vc2hhcmU/dXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQodXJsKSArICcmcmVmPXR3aXRidG4mdGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG1lc3NhZ2UpLFxuICAgICAgICAgICAgJ3NoYXJldHdpdHRlcicsXG4gICAgICAgICAgICAndG9vbGJhcj0xLHN0YXR1cz0xLHJlc2l6YWJsZT0xLHNjcm9sbGJhcnM9MSx3aWR0aD04MDAsaGVpZ2h0PTUyNidcbiAgICAgICAgKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2hhcmVGYWNlYm9vayAobGluazogSlF1ZXJ5LCB1cmw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBzbHVnVmFsdWU6IHN0cmluZykge1xuICAgIHVybCA9IGFkZFRyYWNrZXIodXJsLCAnc2ZiJywgc2x1Z1ZhbHVlKTtcblxuICAgIGxpbmsuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBwb3AoXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHVybCkgKyAnJnJlZj1mYnNoYXJlJnQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlKSxcbiAgICAgICAgICAgICdzaGFyZWZhY2Vib29rJyxcbiAgICAgICAgICAgICd0b29sYmFyPTEsc3RhdHVzPTEscmVzaXphYmxlPTEsc2Nyb2xsYmFycz0xLHdpZHRoPTYyNixoZWlnaHQ9NDM2J1xuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaGFyZURldlRvIChsaW5rOiBKUXVlcnksIHVybDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBzbHVnVmFsdWU6IHN0cmluZykge1xuICAgIHZhciBib2R5OiBzdHJpbmcsXG4gICAgICAgIG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmIChtYXRjaCA9IHVybC5tYXRjaCgvXi4qOlxcL1xcL3N0YWNrb3ZlcmZsb3dcXC5jb21cXC9bcWFdXFwvKFxcZCspKD86XFwvXFxkKyk/JC8pKSB7XG4gICAgICAgIC8vIHN0YWNrb3ZlcmZsb3cuY29tXG4gICAgICAgIGJvZHkgPSAneyUgc3RhY2tvdmVyZmxvdyB7cG9zdElkfSAlfScuZm9ybWF0VW5pY29ybih7IHBvc3RJZDogbWF0Y2hbMV0gfSk7XG4gICAgfSBlbHNlIGlmIChtYXRjaCA9IHVybC5tYXRjaCgvXi4qOlxcL1xcLyhbYS16XSooPzpcXC5tZXRhKT9cXC5zdGFja292ZXJmbG93KVxcLmNvbVxcL1txYV1cXC8oXFxkKykoPzpcXC9cXGQrKT8kLykpIHtcbiAgICAgICAgLy8gcnUuc3RhY2tvdmVyZmxvdy5jb20sIHJ1Lm1ldGEuc3RhY2tvdmVyZmxvdy5jb20sIGV0Yy5cbiAgICAgICAgYm9keSA9ICd7JSBzdGFja2V4Y2hhbmdlIHtwb3N0SWR9IHtob3N0fSAlfScuZm9ybWF0VW5pY29ybih7IHBvc3RJZDogbWF0Y2hbMl0sIGhvc3Q6IG1hdGNoWzFdIH0pO1xuICAgIH0gZWxzZSBpZiAobWF0Y2ggPSB1cmwubWF0Y2goL14uKjpcXC9cXC8oKFthLXowLTldKig/OlxcLm1ldGEpPylcXC5zdGFja2V4Y2hhbmdlXFwuY29tKVxcL1txYV1cXC8oXFxkKykoPzpcXC9cXGQrKT8kLykpIHtcbiAgICAgICAgLy8gbWV0YS5zdGFja2V4Y2hhbmdlLmNvbSwgZGl5LnN0YWNrZXhjaGFuZ2UuY29tLCBkaXkubWV0YS5zdGFja2V4Y2hhbmdlLmNvbSwgZXRjLlxuICAgICAgICBib2R5ID0gJ3slIHN0YWNrZXhjaGFuZ2Uge3Bvc3RJZH0ge2hvc3R9ICV9Jy5mb3JtYXRVbmljb3JuKHsgcG9zdElkOiBtYXRjaFszXSwgaG9zdDogbWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfSk7XG4gICAgfSBlbHNlIGlmIChtYXRjaCA9IHVybC5tYXRjaCgvXi4qOlxcL1xcLygoPzptZXRhXFwuKT9bYS16MC05XSopXFwuKD86Y29tfG5ldHxvcmcpXFwvW3FhXVxcLyhcXGQrKSg/OlxcL1xcZCspPyQvKSkge1xuICAgICAgICAvLyBtYXRob3ZlcmZsb3cubmV0LCBtZXRhLm1hdGhvdmVyZmxvdy5uZXQsIGV0Yy5cbiAgICAgICAgYm9keSA9ICd7JSBzdGFja2V4Y2hhbmdlIHtwb3N0SWR9IHtob3N0fSAlfScuZm9ybWF0VW5pY29ybih7IHBvc3RJZDogbWF0Y2hbMl0sIGhvc3Q6IG1hdGNoWzFdIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHkgPSBhZGRUcmFja2VyKHVybCwgJ3NkdicsIHNsdWdWYWx1ZSk7XG4gICAgfVxuXG4gICAgbGluay5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBvcChcbiAgICAgICAgICAgICdodHRwczovL2Rldi50by9uZXc/cHJlZmlsbD0tLS0lMEF0aXRsZSUzQSUyMHt0aXRsZX0lMEFwdWJsaXNoZWQlM0ElMjB0cnVlJTBBLS0tJTBBJTBBe2JvZHl9Jy5mb3JtYXRVbmljb3JuKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZW5jb2RlVVJJQ29tcG9uZW50KHRpdGxlKSxcbiAgICAgICAgICAgICAgICBib2R5OiBlbmNvZGVVUklDb21wb25lbnQoYm9keSlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgJ3NoYXJlZGV2JyxcbiAgICAgICAgICAgICd0b29sYmFyPTEsc3RhdHVzPTEscmVzaXphYmxlPTEsc2Nyb2xsYmFycz0xLHdpZHRoPTgwMCxoZWlnaHQ9NTI2J1xuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5leHBvcnQgY29uc3Qgc2hhcmUgPSB7XG4gICAgZmFjZWJvb2s6IHNoYXJlRmFjZWJvb2ssXG4gICAgdHdpdHRlcjogc2hhcmVUd2l0dGVyLFxuICAgIGRldlRvOiBzaGFyZURldlRvXG59XG4iLCJpbXBvcnQgeyBzdWdnZXN0ZWRUcmFuc2llbnRUaW1lb3V0LCBzaG93VG9hc3QsIGhpZGVUb2FzdHMsIHRvZ2dsZVN0YWNrc1BvcG92ZXIsIGxvYWRNb2RhbCwgc2hvd01vZGFsLCByZW1vdmVNZXNzYWdlcywgcXVldWVTdGFja3NQb3BvdmVyIH0gZnJvbSBcIi4uLy4uL1NoYXJlZC9oZWxwZXJzLm1vZFwiO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSBcIi4uLy4uL1NoYXJlZC9vcHRpb25zLm1vZFwiO1xuaW1wb3J0ICogYXMgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyBVc2VyRmxhZ3MgfSBmcm9tIFwiLi4vLi4vUGFydGlhbEpTL2Z1bGwvZGVmaW5pdGlvbnMvRW51bXMuZ2VuZXJhdGVkLm1vZFwiO1xuaW1wb3J0IHsgdG9nZ2xlVXNlckZsYWdzIH0gZnJvbSBcIi4uLy4uL1BhcnRpYWxKUy9mdWxsLzk5X1VzZXJGbGFncy5tb2RcIjtcbmltcG9ydCB7IGJpbmRBbm9ueW1vdXNWb3RlRGlzY2xhaW1lcnMsIGJpbmRGZXRjaEFjY2VwdGVkQW5zd2VyRGF0ZXMsIGNhblZpZXdWb3RlQ291bnRzIH0gZnJvbSBcIi4uL2Z1bGwtY29tbW9uLzExX1F1ZXN0aW9uLm1vZFwiO1xuaW1wb3J0ICogYXMgb3V0ZGF0ZWRBbnN3ZXJzIGZyb20gXCIuLi8uLi9QYXJ0aWFsSlMvZnVsbC1jb21tb24vOTlfT3V0ZGF0ZWRBbnN3ZXJzLm1vZFwiO1xuaW1wb3J0ICogYXMgZ3BzIGZyb20gXCIuLi9mdWxsLWNvbW1vbi8yMF9BbmFseXRpY3MubW9kXCI7XG5pbXBvcnQgKiBhcyByZWFsdGltZSBmcm9tIFwiLi4vcmVhbHRpbWUtc2UubW9kXCI7XG5pbXBvcnQgeyBkZWJ1Zywgc2V0VG9vbHRpcFRleHQsIHNldFRvb2x0aXBIdG1sIH0gZnJvbSBcIi4uL3N0dWIubW9kXCI7XG5pbXBvcnQgeyBpbml0Vm90ZVRvQ2xvc2VBbmRGbGFnIH0gZnJvbSBcIi4vMDVfVm90ZVRvQ2xvc2VBbmRGbGFnLm1vZFwiO1xuaW1wb3J0IHsgVm90ZVR5cGVJZCwgQ2FzdFZvdGUgfSBmcm9tIFwiLi4vLi4vX0RlY2xhcmF0aW9ucy9UeXBlSWRFbnVtc1wiO1xuaW1wb3J0IHsgS0VZX0NPREUgfSBmcm9tIFwiLi4vLi4vTGVnYWN5SlMvY29uc3RhbnRzLm1vZFwiO1xuaW1wb3J0IHsgUG9zdFR5cGVJZCB9IGZyb20gXCIuLy4uLy4uL1BhcnRpYWxKUy9mdWxsLWNvbW1vbi85OV9Qb3N0VHlwZUlkLm1vZFwiO1xuXG50eXBlIFZvdGVSZXN1bHRDYWxsYmFjayA9IChjbGlja2VkRWxlbWVudDogSlF1ZXJ5LCBwb3N0SWQ6IG51bWJlciwgZGF0YTogVm90ZVJlc3VsdCkgPT4gdm9pZDtcbnR5cGUgRm9ybURhdGEgPSB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZvdGVSZXN1bHQge1xuICAgIFN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgTmV3U2NvcmU6IG51bWJlcixcbiAgICBNZXNzYWdlOiBzdHJpbmcsXG4gICAgVHJhbnNpZW50OiBib29sZWFuLFxuICAgIExhc3RWb3RlVHlwZUlkPzogVm90ZVR5cGVJZCxcbiAgICBJbmZvOiBib29sZWFuLFxuICAgIEhhc0FjY2VwdGVkQnlNb2RSaWdodHM6IGJvb2xlYW4sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVm90ZVN1Ym1pdE9wdGlvbnMge1xuICAgIC8qKiBKUXVlcnkgb2JqZWN0IHdyYXBwaW5nIHRoZSBjbGlja2VkIGVsZW1lbnQgKi9cbiAgICAkdGFyZ2V0OiBKUXVlcnk7XG4gICAgLyoqIFRoZSBJZCBvZiB0aGUgcG9zdCBiZWluZyB2b3RlZCBvbiAqL1xuICAgIHBvc3RJZDogbnVtYmVyO1xuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGUgdm90ZSBiZWluZyBjYXN0ICovXG4gICAgdm90ZVR5cGVJZDogVm90ZVR5cGVJZDtcbiAgICAvKiogT3B0aW9uYWwgcmVmZXJyZXIgZm9yIHRoZSB2b3RlICovXG4gICAgcmVmZXJyZXI/OiBzdHJpbmc7XG4gICAgLyoqIE9wdGlvbmFsIGZvcm0gZGF0YSAqL1xuICAgIGRhdGE/OiBGb3JtRGF0YTtcbiAgICAvKiogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIHVuZG8gYSB2b3RlICh1c2VkIGZvciBib29rbWFya3MsIHJlYWN0aW9ucywgZGVsZXRlIHZvdGVzKSAqL1xuICAgIHVuZG8/OiBib29sZWFuO1xuICAgIHN1Y2Nlc3M/OiBWb3RlUmVzdWx0Q2FsbGJhY2s7XG4gICAgZXJyb3I/OiBWb3RlUmVzdWx0Q2FsbGJhY2s7XG4gICAgLyoqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgZm9yIGJvdGggc3VjY2VzcyBhbmQgZXJyb3IgY29uZGl0aW9ucyAqL1xuICAgIGNvbXBsZXRlPzogKCkgPT4gdm9pZDtcbn1cblxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQodm90ZXNDYXN0PzogQ2FzdFZvdGVbXSk6IHZvaWQge1xuICAgIC8vIHdoZW4gdm90aW5nLCBzaG91bGQgdGhlIHVzZXIgYmUgZGlyZWN0ZWQgdG8gbG9naW4/XG4gICAgY29uc3QgcHJvbXB0VG9Mb2dpbiA9ICEob3B0aW9ucy51c2VyLmlzUmVnaXN0ZXJlZCk7XG5cbiAgICBpZiAocHJvbXB0VG9Mb2dpbikge1xuICAgICAgICBiaW5kQW5vbnltb3VzVm90ZURpc2NsYWltZXJzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBiaW5kTG9nZ2VkSW4odm90ZXNDYXN0KTtcbiAgICB9XG5cbiAgICBnZXRBY2NlcHRlZEFuc3dlckxpbmtzKCkubm90KCc6ZGF0YShib3VuZCknKVxuICAgICAgICAudW5hZG9ybmVkQnV0dG9uQ2xpY2soYWNjZXB0QW5zd2VyX2NsaWNrKVxuICAgICAgICAub24oJ3VwZGF0ZScsIGFjY2VwdEFuc3dlcl91cGRhdGUpXG4gICAgICAgIC5kYXRhKCdib3VuZCcsIHRydWUpIC8vIHByZXZlbnQgbXVsdGlwbGUgZHVwbGljYXRlIGV2ZW50c1xuICAgICAgICAudHJpZ2dlcigndXBkYXRlJyk7ICAvLyBlbnN1cmUgVUkgaGFzIHByb3BlciB0ZXh0L3RpdGxlc1xuXG4gICAgYmluZEZldGNoQWNjZXB0ZWRBbnN3ZXJEYXRlcygpO1xuICAgIGlmIChjYW5WaWV3Vm90ZUNvdW50cygpKSB7XG4gICAgICAgIGJpbmRGZXRjaFZvdGVDb3VudHMoKTtcbiAgICB9XG5cbiAgICBkZWxldGVfaW5pdCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWxlY3Rpb25faW5pdChjYW5Wb3RlOiBib29sZWFuLCB2b3Rlc0Nhc3Q/OiBDYXN0Vm90ZVtdKSB7XG4gICAgaWYgKGNhblZvdGUpIHtcbiAgICAgICAgaGlnaGxpZ2h0RXhpc3RpbmdWb3Rlcyh2b3Rlc0Nhc3QpO1xuICAgICAgICBiaW5kRmV0Y2hWb3RlQ291bnRzKCk7XG4gICAgfVxuICAgIGJpbmRWb3RlQ2xpY2tzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2b3RlX3VwKCR2b3RlQnV0dG9uOiBKUXVlcnkpIHtcblxuICAgIGNvbnN0ICRqRGl2ID0gZ2V0Vm90aW5nQ29udGFpbmVyKCR2b3RlQnV0dG9uKTtcbiAgICBjb25zdCAkalVwID0gJGpEaXYuZmluZCgnLmpzLXZvdGUtdXAtYnRuJyk7XG4gICAgY29uc3QgJGpEb3duID0gJGpEaXYuZmluZCgnLmpzLXZvdGUtZG93bi1idG4nKTtcbiAgICBjb25zdCBpc1NlbGVjdGluZyA9ICFpc1NlbGVjdGVkKCRqVXApO1xuICAgIGNvbnN0IGlzUmV2ZXJzaW5nID0gaXNTZWxlY3RlZCgkakRvd24pO1xuICAgIGNvbnN0IGluY3JlbWVudEFtb3VudCA9IGlzU2VsZWN0aW5nID8gKGlzUmV2ZXJzaW5nID8gMiA6IDEpIDogLTE7XG5cbiAgICB1cGRhdGVNb2RTY29yZSgkakRpdiwgaW5jcmVtZW50QW1vdW50KTtcbiAgICBzZXRTZWxlY3RlZCgkalVwLCBpc1NlbGVjdGluZyk7XG4gICAgc2V0U2VsZWN0ZWQoJGpEb3duLCBmYWxzZSk7XG5cbiAgICBzdWJtaXRNb2RWb3RlKCR2b3RlQnV0dG9uLCBpc1NlbGVjdGluZyA/IFZvdGVUeXBlSWQudXBNb2QgOiBWb3RlVHlwZUlkLnVuZG9Nb2QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdm90ZV9kb3duKCR2b3RlQnV0dG9uOiBKUXVlcnkpIHtcblxuICAgIGNvbnN0ICRqRGl2ID0gZ2V0Vm90aW5nQ29udGFpbmVyKCR2b3RlQnV0dG9uKTtcbiAgICBjb25zdCAkalVwID0gJGpEaXYuZmluZCgnLmpzLXZvdGUtdXAtYnRuJyk7XG4gICAgY29uc3QgJGpEb3duID0gJGpEaXYuZmluZCgnLmpzLXZvdGUtZG93bi1idG4nKTtcbiAgICBjb25zdCBpc1NlbGVjdGluZyA9ICFpc1NlbGVjdGVkKCRqRG93bik7XG4gICAgY29uc3QgaXNSZXZlcnNpbmcgPSBpc1NlbGVjdGVkKCRqVXApO1xuICAgIGNvbnN0IGluY3JlbWVudEFtb3VudCA9IGlzU2VsZWN0aW5nID8gKGlzUmV2ZXJzaW5nID8gLTIgOiAtMSkgOiAxO1xuXG4gICAgdXBkYXRlTW9kU2NvcmUoJGpEaXYsIGluY3JlbWVudEFtb3VudCk7XG4gICAgc2V0U2VsZWN0ZWQoJGpEb3duLCBpc1NlbGVjdGluZyk7XG4gICAgc2V0U2VsZWN0ZWQoJGpVcCwgZmFsc2UpO1xuXG4gICAgc3VibWl0TW9kVm90ZSgkdm90ZUJ1dHRvbiwgaXNTZWxlY3RpbmcgPyBWb3RlVHlwZUlkLmRvd25Nb2QgOiBWb3RlVHlwZUlkLnVuZG9Nb2QpO1xufVxuXG4vLyB1c2VkIGJ5IHRoZSByZXZpZXcgZGFzaGJvYXJkXG5leHBvcnQgZnVuY3Rpb24gZm9sbG93X2luaXQoKSB7XG4gICAgaWYgKCFvcHRpb25zLnVzZXIuaXNSZWdpc3RlcmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJChkb2N1bWVudClcbiAgICAgICAgLm9mZignLmZvbGxvd2luZycpXG4gICAgICAgIC5vbignY2xpY2suZm9sbG93aW5nJywgJy5qcy1mb2xsb3ctcG9zdCcsIGZ1bmN0aW9uICgpIHsgZm9sbG93KCQodGhpcykpOyB9KVxuICAgICAgICAub24oJ2NsaWNrLmZvbGxvd2luZycsICcuanMtdW5mb2xsb3ctcG9zdC1jb25maXJtJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IHRoYXQgdXNlciBjbGlja3Mgb24gdGhlIHVuZm9sbG93IGJ1dHRvbiBpbnNpZGUgdGhlIHBvcG92ZXIgdGhhdCBzaG93cyBhZnRlciB5b3UgY2xpY2sgdG8gZm9sbG93XG4gICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCB0aGUgZm9sbG93IGJ1dHRvbiBpdHNlbGYgd2lsbCBoYXZlIGJlZW4gc2V0IHRvIEZvbGxvd2luZywgYW5kIG9uIGNsaWNrIHdpbGwgdW5mb2xsb3dcbiAgICAgICAgICAgIC8vIHNvIHRoZSBjbGljayBvbiB0aGUgYnV0dG9uIGluIHRoZSBwb3BvdmVyIHNob3VsZCByZWFsbHkgdHJpZ2dlciB0aGUgZnVuY3Rpb24gdXNpbmcgdGhlIG1haW4gYnV0dG9uIHRvIHVuZm9sbG93XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0aGF0IGFsbCBvZiB0aGUgdGV4dCBhbmQgZGF0YSBhdHRyaWJ1dGVzIGNvbm5lY3RlZCB0byB0aGUgbWFpbiBidXR0b24gd2lsbCB1cGRhdGUgcHJvcGVybHlcbiAgICAgICAgICAgIGNvbnN0ICRidG5VbmZvbGxvd1Bvc3RDb25maXJtID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0ICRwYXJlbnREaXYgPSAkYnRuVW5mb2xsb3dQb3N0Q29uZmlybS5jbG9zZXN0KFwiLmpzLWZvbGxvd2luZy1jb25maXJtXCIpO1xuICAgICAgICAgICAgY29uc3QgJGJ0bkZvbGxvd1Bvc3QgPSAkcGFyZW50RGl2LnByZXYoXCIuanMtZm9sbG93LXBvc3RcIik7XG4gICAgICAgICAgICBmb2xsb3coJGJ0bkZvbGxvd1Bvc3QpO1xuICAgICAgICB9KTtcbn1cblxuLy8gdXNlZCBvbiB0aGUgdXNlcidzIG93biBib29rbWFya3MgcGFnZVxuZXhwb3J0IGZ1bmN0aW9uIGJvb2ttYXJrX2luaXQoKSB7XG4gICAgdXBkYXRlQm9va21hcmtCdXR0b25UaXRsZXMoKTtcbiAgICAkKGRvY3VtZW50KS51bmFkb3JuZWRCdXR0b25DbGljayhmdW5jdGlvbiAoKSB7IGJvb2ttYXJrKCQodGhpcykpOyB9LCB7IHNlbGVjdG9yOiAnLmpzLWJvb2ttYXJrLWJ0bjpub3QoLmRpc2FibGVkKScgfSk7XG59XG5cbi8vIHVzZWQgYnkgdGhlIHJldmlldyBkYXNoYm9hcmRcbmV4cG9ydCBmdW5jdGlvbiB2b3RlX2luaXQodm90ZXNDYXN0PzogQ2FzdFZvdGVbXSk6IHZvaWQge1xuICAgIGhpZ2hsaWdodEV4aXN0aW5nVm90ZXModm90ZXNDYXN0KTtcblxuICAgIGJpbmRWb3RlQ2xpY2tzKCk7XG4gICAgdXBkYXRlVm90ZUJ1dHRvblRpdGxlcygpO1xuXG4gICAgcmVhY3Rpb25faW5pdCgpO1xuXG4gICAgb3V0ZGF0ZWRfaW5pdCgpO1xufVxuXG4vLyB1c2VkIGJ5IHN1Z2dlc3RlZCBlZGl0c1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZV9pbml0KG9wdGlvbmFsQ2FsbGJhY2s/OiBWb3RlUmVzdWx0Q2FsbGJhY2ssIG9wdGlvbmFsRm9ybURhdGE/OiBGb3JtRGF0YSkge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gXCIuanMtcG9zdC1tZW51IC5qcy1kZWxldGUtcG9zdFwiO1xuICAgIGNvbnN0ICRwYXJlbnQgPSAkKGRvY3VtZW50KTtcblxuICAgICRwYXJlbnQub2ZmKFwiY2xpY2tcIiwgc2VsZWN0b3IpO1xuICAgICRwYXJlbnQub24oXCJjbGlja1wiLCBzZWxlY3RvciwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkZWxldGlvbigkKHRoaXMpLCBvcHRpb25hbENhbGxiYWNrLCBvcHRpb25hbEZvcm1EYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEVuYWJsZSBkZWxldGluZyBmcm9tIHBvc3Qgbm90aWNlcy5cbiAgICAvLyBBIGxvdCBvZiBkZWxldGlvbiBiZWhhdmlvciBpcyBiYWtlZCBpbnRvIHRoZSBhY3R1YWwgZGVsZXRlIGJ1dHRvbiwgc28gd2Ugd2lsbCBzaW1wbHkgc2ltdWxhdGUgY2xpY2tpbmcgaXQuXG4gICAgJHBhcmVudFxuICAgICAgICAub2ZmKFwiY2xpY2tcIiwgXCIuanMtcG9zdC1ub3RpY2UtZGVsZXRlLXBvc3RcIilcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgXCIuanMtcG9zdC1ub3RpY2UtZGVsZXRlLXBvc3RcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLnF1ZXN0aW9uLCAuYW5zd2VyLCAuanMtc2ctcXVlc3Rpb25cIilcbiAgICAgICAgICAgICAgICAuZmluZChzZWxlY3RvcilcbiAgICAgICAgICAgICAgICAuZmlyc3QoKVxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xuICAgICAgICB9KTtcblxuICAgICQoYC5qcy1wb3N0LW1lbnVbZGF0YS1wb3N0LXR5cGUtaWQ9JHtQb3N0VHlwZUlkLkFydGljbGV9XWApLmVhY2goKGksIG1lbnUpID0+IHtcbiAgICAgICAgY29uc3QgYXJ0aWNsZUlkID0gcGFyc2VJbnQoJChtZW51KS5hdHRyKCdkYXRhLXBvc3QtaWQnKSk7XG4gICAgICAgIGNvbnN0ICRtb2RhbCA9ICQobWVudSkuZmluZCgnLmpzLWRlbGV0ZS1hcnRpY2xlLW1vZGFsJyk7XG5cbiAgICAgICAgJG1vZGFsLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLmNoYW5nZSgoZSkgPT4ge1xuICAgICAgICAgICAgJG1vZGFsLmZpbmQoJy5zLWxhYmVsJykucmVtb3ZlQ2xhc3MoJ2JnLWJsYWNrLTIwMCcpO1xuICAgICAgICAgICAgJCgkKGUudGFyZ2V0KS5wYXJlbnRzKCcucy1sYWJlbCcpWzBdKS5hZGRDbGFzcygnYmctYmxhY2stMjAwJyk7XG5cbiAgICAgICAgICAgICRtb2RhbC5maW5kKCd0ZXh0YXJlYScpLmF0dHIoJ3JlYWRvbmx5JywgJ3RydWUnKTtcbiAgICAgICAgICAgICQoJChlLnRhcmdldCkucGFyZW50cygnLnMtbGFiZWwnKVswXSkuZmluZCgndGV4dGFyZWEnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkbW9kYWwuZmluZCgnLmpzLWRlbGV0ZS1hcnRpY2xlLWJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5kaXNhYmxlKCk7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5hZGRDbGFzcyhcImlzLWxvYWRpbmdcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBvc3RVcmwgPSBgL2NvbGxlY3RpdmVzL21vZC9kZWxldGUtYXJ0aWNsZS8ke2FydGljbGVJZH1gO1xuICAgICAgICAgICAgY29uc3QgZGVsZXRlUmVhc29uID0gcGFyc2VJbnQoJG1vZGFsLmZpbmQoJ2lucHV0W25hbWU9XCJkZWxldGVSZWFzb25cIl06Y2hlY2tlZCcpLnZhbCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUNvbW1lbnQgPSAkbW9kYWwuZmluZCgndGV4dGFyZWEnKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBwb3N0VXJsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBma2V5OiBvcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb21tZW50LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFN0YWNrcy5oaWRlTW9kYWwoJG1vZGFsWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgJChlLnRhcmdldCkuZW5hYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIGhhcyBiZWVuIGFuIGVycm9yIHdoaWxlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LicpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRGZXRjaFZvdGVDb3VudHMoJG9wdGlvbmFsVm90ZUNvdW50UG9zdFNwYW5zPyA6IEpRdWVyeSk6IHZvaWQge1xuICAgIGNvbnN0ICRlbGVtcyA9ICgkb3B0aW9uYWxWb3RlQ291bnRQb3N0U3BhbnMgfHwgJCgnLmpzLXZvdGUtY291bnQnKSkubm90KCcubW9iaWxlLXZvdGUtY291bnQnKS5ub3QoJzpkYXRhKGJvdW5kKScpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgYmluZCBpZiB0aGVyZSBpcyBubyBwb3N0IGlkIChTdXBwcmVzc1ZvdGVBcnJvd3MgY2FzZSBpbiBWb3RlLmNzaHRtbCwgdXNlZCBtYWlubHkgaW4gcmV2aWV3KVxuICAgICAgICAgICAgcmV0dXJuIGdldFBvc3RJZCgkKHRoaXMpKSA+IDA7IC8vIChtaW4gcG9zdGlkIGlzIDEpXG4gICAgICAgIH0pO1xuXG4gICAgJGVsZW1zLmF0dHIoe1xuICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgdGFiaW5kZXg6ICcwJ1xuICAgIH0pXG4gICAgLmFkZENsYXNzKCdjLXBvaW50ZXInKVxuICAgIC51bmFkb3JuZWRCdXR0b25DbGljayhmdW5jdGlvbiAoKSB7IGZldGNoVm90ZUNvdW50cygkKHRoaXMpKTsgfSlcbiAgICAuZGF0YSgnYm91bmQnLCB0cnVlKTtcblxuICAgIHNldFRvb2x0aXBUZXh0KCRlbGVtcywgX3MoJ1ZpZXcgdXB2b3RlIGFuZCBkb3dudm90ZSB0b3RhbHMuJyksIHZvdGVDb250YWluZXJUb29sdGlwT3B0aW9ucylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodEV4aXN0aW5nVm90ZXModm90ZXNDYXN0OiBDYXN0Vm90ZVtdKSB7XG4gICAgY29uc3QgcmVhY3Rpb25zOiBSZWFjdGlvblBvc3RzID0ge307XG5cbiAgICAkLmVhY2godm90ZXNDYXN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IHRoaXMuUG9zdElkO1xuICAgICAgICBjb25zdCAkakRpdiA9IGFsbFZvdGluZ0NvbnRhaW5lcnMoKS5maWx0ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0UG9zdElkKCQodGhpcykpID09PSBwb3N0SWQ7IH0pO1xuICAgICAgICBjb25zdCB2b3RlVHlwZUlkID0gdGhpcy5Wb3RlVHlwZUlkO1xuXG4gICAgICAgIHN3aXRjaCAodm90ZVR5cGVJZCkge1xuICAgICAgICAgICAgY2FzZSBWb3RlVHlwZUlkLnVwTW9kOlxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkKCRqRGl2LmZpbmQoJy5qcy12b3RlLXVwLWJ0bicpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBWb3RlVHlwZUlkLmRvd25Nb2Q6XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoJGpEaXYuZmluZCgnLmpzLXZvdGUtZG93bi1idG4nKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgVm90ZVR5cGVJZC5ib29rbWFyazpcbiAgICAgICAgICAgICAgICBjb25zdCAkYm9va21hcmtCdG4gPSAkakRpdi5maW5kKCcuanMtYm9va21hcmstYnRuJyk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoJGJvb2ttYXJrQnRuLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVCb29rbWFya0J1dHRvblRpdGxlcygkYm9va21hcmtCdG4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFZvdGVUeXBlSWQuZm9sbG93OlxuICAgICAgICAgICAgICAgIGNvbnN0ICRmb2xsb3dCdG4gPSAkKFwiLmpzLXBvc3QtbWVudVtkYXRhLXBvc3QtaWQ9XCIgKyBwb3N0SWQgKyBcIl0gLmpzLWZvbGxvdy1wb3N0XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUXVlc3Rpb24gPSAkZm9sbG93QnRuLmhhc0NsYXNzKCdqcy1mb2xsb3ctcXVlc3Rpb24nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uID0gJGZvbGxvd0J0bi5oYXNDbGFzcygnanMtZm9sbG93LWNvbGxlY3RpdmUtY29sbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbGxlY3RpdmVDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25Gb2xsb3dVSSgkZm9sbG93QnRuLCBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb2xsb3dVSSgkZm9sbG93QnRuLCBpc1F1ZXN0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgVm90ZVR5cGVJZC5vdXRkYXRlZDpcbiAgICAgICAgICAgIGNhc2UgVm90ZVR5cGVJZC5ub3RPdXRkYXRlZDpcbiAgICAgICAgICAgICAgICBvdXRkYXRlZEFuc3dlcnMudXNlclZvdGVkKHBvc3RJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSZWFjdGlvbih2b3RlVHlwZUlkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlYWN0aW9uc1twb3N0SWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFjdGlvbnNbcG9zdElkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3N0RWxlbWVudDogJGpEaXYuZmluZCgnLmpzLXJlYWN0aW9ucycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZvdGVzQ2FzdDogW3ZvdGVUeXBlSWRdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb25zW3Bvc3RJZF0uVm90ZXNDYXN0LnB1c2godm90ZVR5cGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCJzaXRlLnZvdGUuanMgPiBoaWdobGlnaHRFeGlzdGluZ1ZvdGVzIGhhcyBubyBjYXNlIGZvciBcIiArIHZvdGVUeXBlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LnZhbHVlcyhyZWFjdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKHBvc3QpIHtcbiAgICAgICAgcG9zdC5Qb3N0RWxlbWVudC5hdHRyKCdkYXRhLXZvdGVzLWNhc3QnLCBKU09OLnN0cmluZ2lmeShwb3N0LlZvdGVzQ2FzdCkpO1xuXG4gICAgICAgIC8vIFRPRE86IHJlLWltcGxlbWVudCBzYW1lIHdheSB0aGUgZGlzcGF0Y2hFdmVudCBleHRlbnNpb24gZG9lcyBpdCBpbiBzdHViLmpzXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdwb3N0OnJlYWN0aW9uc0luaXQnKTtcbiAgICAgICAgcG9zdC5Qb3N0RWxlbWVudFswXT8uZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG59XG5cbmludGVyZmFjZSBSZWFjdGlvblBvc3Qge1xuICAgIFBvc3RFbGVtZW50OiBKUXVlcnk7XG4gICAgVm90ZXNDYXN0OiBudW1iZXJbXTtcbn1cblxudHlwZSBSZWFjdGlvblBvc3RzID0geyBbcG9zdElkOiBudW1iZXJdOiBSZWFjdGlvblBvc3QgfVxuXG4vLyBUT0RPOiBUaGlzIHdhcyB3cml0dGVuIGZvciBhbiBleHBlcmltZW50IHRoYXQgZGlkIG5vdCBncmFkdWF0ZSBhbmQgY2FuIGJlIHJlbW92ZWQuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUG9zdFNjb3JlKHNjb3JlKSB7XG4gICAgY29uc3QgbmVnYXRpdmVWb3RlU2NvcmVGbG9vciA9IG9wdGlvbnMuc2l0ZS5uZWdhdGl2ZVZvdGVTY29yZUZsb29yO1xuICAgIHJldHVybiBuZWdhdGl2ZVZvdGVTY29yZUZsb29yID09PSBudWxsID8gc2NvcmUgOiBNYXRoLm1heChuZWdhdGl2ZVZvdGVTY29yZUZsb29yLCBzY29yZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJtaXQodm90ZU9wdGlvbnM6IFZvdGVTdWJtaXRPcHRpb25zKSB7XG4gICAgY29uc3QgakNsaWNrZWQgPSB2b3RlT3B0aW9ucy4kdGFyZ2V0O1xuICAgIGNvbnN0IHBvc3RJZCA9IHZvdGVPcHRpb25zLnBvc3RJZDtcbiAgICBjb25zdCByZWZlcnJlciA9IHZvdGVPcHRpb25zLnJlZmVycmVyO1xuICAgIGNvbnN0IG9wdGlvbmFsRm9ybURhdGEgPSB2b3RlT3B0aW9ucy5kYXRhO1xuICAgIGNvbnN0IHZvdGVUeXBlSWQgPSB2b3RlT3B0aW9ucy52b3RlVHlwZUlkO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLldhcm5pbmcpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKGRhdGEuTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBmb3JtRGF0YVsnaWdub3JlV2FybmluZ3MnXSA9ICd0cnVlJztcbiAgICAgICAgICAgICAgICBzZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodm90ZU9wdGlvbnMuc3VjY2Vzcykgdm90ZU9wdGlvbnMuc3VjY2VzcyhqQ2xpY2tlZCwgcG9zdElkLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2b3RlT3B0aW9ucy5jb21wbGV0ZSkgdm90ZU9wdGlvbnMuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBzaG93R2VuZXJpY0Vycm9yTWVzc2FnZSgpO1xuICAgICAgICBpZiAodm90ZU9wdGlvbnMuZXJyb3IpIHZvdGVPcHRpb25zLmVycm9yKGpDbGlja2VkLCBwb3N0SWQsIGRhdGEpO1xuICAgICAgICBpZiAodm90ZU9wdGlvbnMuY29tcGxldGUpIHZvdGVPcHRpb25zLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN0dWJEYXRhID0gakNsaWNrZWQuZGF0YSgndm90ZS1zdHViJyk7XG4gICAgaWYgKHN0dWJEYXRhKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzdWNjZXNzKHN0dWJEYXRhKTsgfSwgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IHsgJ2ZrZXknOiBvcHRpb25zLnVzZXIuZmtleSB9O1xuICAgIC8vIG1lcmdlIGNhbGwtc3BlY2lmaWMgZm9ybSBkYXRhXG4gICAgaWYgKG9wdGlvbmFsRm9ybURhdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIG9wdGlvbmFsRm9ybURhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhW25hbWVdID0gb3B0aW9uYWxGb3JtRGF0YVtuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCB1cmwgPSBgL3Bvc3RzLyR7cG9zdElkfS92b3RlLyR7dm90ZVR5cGVJZH1gO1xuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcblxuICAgIC8vIHB1dHRpbmcgdGhpcyBvbiB0aGUgcXVlcnkgbWVhbnMgaGFwcm94eSBsb2dzIHdpbGwgcmVjb3JkIGl0XG4gICAgaWYgKHZvdGVPcHRpb25zLnVuZG8pIHtcbiAgICAgICAgdXJsUGFyYW1zLmFwcGVuZChcInVuZG9cIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICBpZiAocmVmZXJyZXIpIHtcbiAgICAgICAgdXJsUGFyYW1zLmFwcGVuZChcInJcIiwgcmVmZXJyZXIpO1xuICAgIH1cblxuICAgIGlmICh1cmxQYXJhbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgdXJsICs9IFwiP1wiICsgdXJsUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VuZCgpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RJZCgkZWw6IEpRdWVyeSk6IG51bWJlciB7XG4gICAgcmV0dXJuICtnZXRWb3RpbmdDb250YWluZXIoJGVsKS5kYXRhKCdwb3N0LWlkJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWZlcnJlcigkZWw6IEpRdWVyeSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGdldFZvdGluZ0NvbnRhaW5lcigkZWwpLmRhdGEoJ3JlZmVycmVyJyk7XG59XG5cbmZ1bmN0aW9uIGlzUmVhY3Rpb24odm90ZVR5cGVJZDogVm90ZVR5cGVJZCkge1xuICAgIHN3aXRjaCAodm90ZVR5cGVJZCkge1xuICAgICAgICBjYXNlIFZvdGVUeXBlSWQuaGVscGZ1bDpcbiAgICAgICAgY2FzZSBWb3RlVHlwZUlkLnRoYW5rWW91OlxuICAgICAgICBjYXNlIFZvdGVUeXBlSWQud2VsbFdyaXR0ZW46XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjE6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjI6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjM6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjQ6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjU6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjY6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjc6XG4gICAgICAgIGNhc2UgVm90ZVR5cGVJZC5yZWFjdGlvbjg6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmNvbnN0IHZvdGVDb250YWluZXJUb29sdGlwT3B0aW9ucyA9IHsgcGxhY2VtZW50OiBcInJpZ2h0XCIgfTtcbmNvbnN0IHJlYWN0aW9uQ29udGFpbmVyVG9vbHRpcE9wdGlvbnMgPSB7IHBsYWNlbWVudDogJ3RvcC1zdGFydCcgfTtcblxuZnVuY3Rpb24gdXBkYXRlVm90ZUJ1dHRvblRpdGxlcygkakRpdlZvdGU/OiBKUXVlcnkpOiB2b2lkIHtcbiAgICAvLyBpZiB3ZSBkb24ndCBwYXNzIGFuIGVsZW1lbnQsIG9wZXJhdGUgb24gYWxsIHZvdGluZyBkaXZzXG4gICAgY29uc3QgJGpEaXYgPSAkakRpdlZvdGUgPyBnZXRWb3RpbmdDb250YWluZXIoJGpEaXZWb3RlKSA6IGFsbFZvdGluZ0NvbnRhaW5lcnMoKTtcbiAgICBjb25zdCBpc1JlYWRPbmx5ID0gJCgnYm9keS5yZWFkLW9ubHknKS5sZW5ndGggPiAwO1xuXG4gICAgJGpEaXYuZmluZCgnLmpzLXZvdGUtZG93bi1idG4sIC5qcy12b3RlLXVwLWJ0bicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGNvbnN0ICRqVm90ZSA9ICQodGhpcyk7XG4gICAgICAgIGxldCB0aXRsZTtcbiAgICAgICAgY29uc3QgaXNVcFZvdGUgPSAkalZvdGUuaGFzQ2xhc3MoJ2pzLXZvdGUtdXAtYnRuJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gb3B0aW9ucy51c2VyLmlzUmVnaXN0ZXJlZCAmJiBpc1NlbGVjdGVkKCRqVm90ZSk7XG4gICAgICAgIGNvbnN0IHBvc3RJc0Fuc3dlciA9IGlzQW5zd2VyKCRqVm90ZSk7XG5cbiAgICAgICAgaWYgKGlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHRpdGxlID0gX3MoJ1ZvdGluZyBpcyBkaXNhYmxlZCB3aGlsZSB0aGUgc2l0ZSBpcyBpbiByZWFkLW9ubHkgbW9kZS4nKTtcbiAgICAgICAgfSBlbHNlIGlmICgkakRpdi5kYXRhKCdpcy1lbGVjdGlvbicpKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIHN0YXRpYyB0aXRsZSBvbiB0aGUgZWxlY3Rpb24gcGFnZSAoZm9yIG5vdylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IHNlbGVjdGVkID8gJyAoJyArIF9zKCdjbGljayBhZ2FpbiB0byB1bmRvJykgKyAnKScgOiAnJztcblxuICAgICAgICAgICAgaWYgKGlzVXBWb3RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3RJc0Fuc3dlcikge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF9zKCdUaGlzIGFuc3dlciBpcyB1c2VmdWwnKSArIHN1ZmZpeDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF9zKCdUaGlzIHF1ZXN0aW9uIHNob3dzIHJlc2VhcmNoIGVmZm9ydDsgaXQgaXMgdXNlZnVsIGFuZCBjbGVhcicpICsgc3VmZml4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3RJc0Fuc3dlcikge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF9zKCdUaGlzIGFuc3dlciBpcyBub3QgdXNlZnVsJykgKyBzdWZmaXg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfcygnVGhpcyBxdWVzdGlvbiBkb2VzIG5vdCBzaG93IGFueSByZXNlYXJjaCBlZmZvcnQ7IGl0IGlzIHVuY2xlYXIgb3Igbm90IHVzZWZ1bCcpICsgc3VmZml4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOT1RFIHRoZSBzYW1lIHN0cmluZ3MgYXJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgaW4gVm90ZS5jc2h0bWxcblxuICAgICAgICBzZXRUb29sdGlwVGV4dCgkalZvdGUsIHRpdGxlLCB2b3RlQ29udGFpbmVyVG9vbHRpcE9wdGlvbnMpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVCb29rbWFya0J1dHRvblRpdGxlcygkc291cmNlPzogSlF1ZXJ5KTogdm9pZCB7XG5cbiAgICAvLyBpZiB3ZSBkb24ndCBwYXNzIGFuIGVsZW1lbnQsIG9wZXJhdGUgb24gYWxsIHZvdGluZyBkaXZzXG4gICAgY29uc3QgJGNvbnRhaW5lcnMgPSAkc291cmNlID8gZ2V0Vm90aW5nQ29udGFpbmVyKCRzb3VyY2UpIDogYWxsVm90aW5nQ29udGFpbmVycygpO1xuXG4gICAgJGNvbnRhaW5lcnMuZmluZCgnLmpzLWJvb2ttYXJrLWJ0bicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCAkYnV0dG9uID0gJCh0aGlzKTtcblxuICAgICAgICAvLyBObyBsb2NhbGl6YXRpb24gZm9yIGJvb2ttYXJrcyBjb3B5LCBzaW5jZSBpdCBvbmx5IHNob3dzIHVwIG9uIFRlYW1zXG4gICAgICAgIGxldCBwb3N0VHlwZSA9IFwicG9zdFwiO1xuICAgICAgICBzd2l0Y2ggKGdldFBvc3RUeXBlKCRidXR0b24pKSB7XG4gICAgICAgICAgICBjYXNlIFBvc3RUeXBlSWQuUXVlc3Rpb246XG4gICAgICAgICAgICAgICAgcG9zdFR5cGUgPSBcInF1ZXN0aW9uXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBvc3RUeXBlSWQuQXJ0aWNsZTpcbiAgICAgICAgICAgICAgICBwb3N0VHlwZSA9IFwiYXJ0aWNsZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQb3N0VHlwZUlkLkNvbGxlY3Rpb246XG4gICAgICAgICAgICAgICAgcG9zdFR5cGUgPSAgXCJjb2xsZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bmJvb2ttYXJrVGV4dCA9IGBZb3UgaGF2ZSBib29rbWFya2VkIHRoaXMgJHtwb3N0VHlwZX0gKGNsaWNrIHRvIHVuZG8pLmA7XG4gICAgICAgIGNvbnN0IGJvb2ttYXJrVGV4dCA9IGBCb29rbWFyayB0aGlzICR7cG9zdFR5cGV9LmA7XG5cbiAgICAgICAgc2V0VG9vbHRpcFRleHQoJGJ1dHRvbiwgaXNTZWxlY3RlZCgkYnV0dG9uKSA/IHVuYm9va21hcmtUZXh0IDogYm9va21hcmtUZXh0LCB2b3RlQ29udGFpbmVyVG9vbHRpcE9wdGlvbnMpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBiaW5kVm90ZUNsaWNrcyhqRGl2Vm90ZT86IEpRdWVyeSk6IHZvaWQge1xuXG4gICAgLy8gaWYgd2UgZG9uJ3QgcGFzcyBhbiBlbGVtZW50LCBvcGVyYXRlIG9uIGFsbCB2b3RpbmcgZGl2c1xuICAgIGNvbnN0IGpEaXYgPSBqRGl2Vm90ZSA/IGdldFZvdGluZ0NvbnRhaW5lcihqRGl2Vm90ZSkgOiBhbGxWb3RpbmdDb250YWluZXJzKCk7XG5cbiAgICB1bmJpbmRWb3RlQ2xpY2tzKGpEaXZWb3RlKTtcbiAgICBqRGl2LmZpbmQoJy5qcy12b3RlLXVwLWJ0bicpLnVuYWRvcm5lZEJ1dHRvbkNsaWNrKGZ1bmN0aW9uICgpIHsgdm90ZV91cCgkKHRoaXMpKTsgfSwgeyBuYW1lc3BhY2U6ICd2b3RlJyB9KTtcbiAgICBqRGl2LmZpbmQoJy5qcy12b3RlLWRvd24tYnRuJykudW5hZG9ybmVkQnV0dG9uQ2xpY2soZnVuY3Rpb24gKCkgeyB2b3RlX2Rvd24oJCh0aGlzKSk7IH0sIHsgbmFtZXNwYWNlOiAndm90ZScgfSk7XG59XG5cbmZ1bmN0aW9uIHVuYmluZFZvdGVDbGlja3MoJGpEaXZWb3RlOiBKUXVlcnkpIHtcblxuICAgIC8vIGlmIHdlIGRvbid0IHBhc3MgYW4gZWxlbWVudCwgb3BlcmF0ZSBvbiBhbGwgdm90aW5nIGRpdnNcbiAgICBjb25zdCAkakRpdiA9ICRqRGl2Vm90ZSA/IGdldFZvdGluZ0NvbnRhaW5lcigkakRpdlZvdGUpIDogYWxsVm90aW5nQ29udGFpbmVycygpO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBlbGVtZW50cyB0aGF0IHdlcmUganVzdCB1bmJvdW5kXG4gICAgcmV0dXJuICRqRGl2LmZpbmQoJy5qcy12b3RlLWRvd24tYnRuLCAuanMtdm90ZS11cC1idG4nKS51bmJpbmQoJ2tleXByZXNzLnZvdGUgY2xpY2sudm90ZScpO1xufVxuXG5mdW5jdGlvbiBvdXRkYXRlZF9pbml0KCkge1xuICAgICQoJy5qcy1vdXRkYXRlZC1ubycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICskKGVsZW0pLmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgc3VibWl0KHtcbiAgICAgICAgICAgICR0YXJnZXQ6ICQoZWxlbSksXG4gICAgICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgICAgIHZvdGVUeXBlSWQ6IFZvdGVUeXBlSWQubm90T3V0ZGF0ZWQsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7IG91dGRhdGVkQW5zd2Vycy51c2VyVm90ZWQocG9zdElkKSB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLW91dGRhdGVkLXllcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICskKGVsZW0pLmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgc3VibWl0KHtcbiAgICAgICAgICAgICR0YXJnZXQ6ICQoZWxlbSksXG4gICAgICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgICAgIHZvdGVUeXBlSWQ6IFZvdGVUeXBlSWQub3V0ZGF0ZWQsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb3V0ZGF0ZWRBbnN3ZXJzLm9wZW5Nb2RhbCgkKGVsZW0pKTtcbiAgICAgICAgICAgICAgICBvdXRkYXRlZEFuc3dlcnMudXNlclZvdGVkKHBvc3RJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBY2NlcHRlZEFuc3dlckxpbmtzKCkgeyByZXR1cm4gYWxsVm90aW5nQ29udGFpbmVycygpLmZpbmQoXCIuanMtYWNjZXB0LWFuc3dlci1idG5cIik7IH1cblxuZnVuY3Rpb24gZ2V0UHJvdGVjdExpbmtzKCkgeyByZXR1cm4gJChcIi5qcy1wb3N0LW1lbnUgLmpzLXByb3RlY3QtYnRuXCIpOyB9XG5cbmZ1bmN0aW9uIGdldFVucHJvdGVjdExpbmtzKCkgeyByZXR1cm4gJChcIi5qcy1wb3N0LW1lbnUgLmpzLXVucHJvdGVjdC1idG5cIik7IH1cblxuZnVuY3Rpb24gaXNTZWxlY3RlZCgkZWw6IEpRdWVyeSkgeyByZXR1cm4gJGVsLmF0dHIoJ2FyaWEtcHJlc3NlZCcpID09PSAndHJ1ZSc7IH1cblxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoJGVsOiBKUXVlcnksIHZhbHVlKSB7XG4gICAgJGVsXG4gICAgICAgIC5hdHRyKCdhcmlhLXByZXNzZWQnLCB2YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZScpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2xhc3NlcyA9ICQodGhpcykuZGF0YSgnc2VsZWN0ZWQtY2xhc3NlcycpO1xuICAgICAgICAgICAgY29uc3QgdW5zZWxlY3RlZENsYXNzZXMgPSAkKHRoaXMpLmRhdGEoJ3Vuc2VsZWN0ZWQtY2xhc3NlcycpO1xuXG4gICAgICAgICAgICAvLyBPcmRlciBtYXR0ZXJzIHdoZW4gYWRkaW5nIGFuZCByZW1vdmluZyBjbGFzc2VzXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHNvbWVvbmUgbWVzc2VzIHVwIGFuZCB0aGVyZSdzIG92ZXJsYXAuXG4gICAgICAgICAgICBpZiAodW5zZWxlY3RlZENsYXNzZXMgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKHVuc2VsZWN0ZWRDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3Moc2VsZWN0ZWRDbGFzc2VzLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1bnNlbGVjdGVkQ2xhc3NlcyAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKHVuc2VsZWN0ZWRDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFBvc3RUeXBlKCRlbDogSlF1ZXJ5KTogUG9zdFR5cGVJZCB8IG51bGwge1xuICAgIGNvbnN0ICRwb3N0U3VtbWFyeSA9ICRlbC5jbG9zZXN0KFwiLmpzLXBvc3Qtc3VtbWFyeVwiKTtcbiAgICBjb25zdCBwb3N0VHlwZUlkID0gcGFyc2VJbnQoJHBvc3RTdW1tYXJ5Py5kYXRhKFwicG9zdC10eXBlLWlkXCIpKTtcblxuICAgIGlmIChpc0Fuc3dlcigkZWwpKSB7XG4gICAgICAgIHJldHVybiBQb3N0VHlwZUlkLkFuc3dlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zdFR5cGVJZCB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Fuc3dlcigkZWw6IEpRdWVyeSkge1xuICAgIHJldHVybiAkZWwuY2xvc2VzdCgnLmFuc3dlcicpLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIGdldExvY2FsaXplZFBvc3RUeXBlKCRlbDogSlF1ZXJ5KSB7XG4gICAgcmV0dXJuIGlzQW5zd2VyKCRlbCkgPyBfcygnYW5zd2VyJykgOiBfcygncXVlc3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gZ2V0Vm90aW5nQ29udGFpbmVyKCRlbDogSlF1ZXJ5KSB7XG4gICAgcmV0dXJuICRlbC5jbG9zZXN0KCcuanMtdm90aW5nLWNvbnRhaW5lcicpO1xufVxuXG5mdW5jdGlvbiBhbGxWb3RpbmdDb250YWluZXJzKCkge1xuICAgIHJldHVybiAkKCcuanMtdm90aW5nLWNvbnRhaW5lcicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRTaW11bGF0ZVZvdGluZygkZWw6IEpRdWVyeSkge1xuICAgIHJldHVybiBnZXRWb3RpbmdDb250YWluZXIoJGVsKS5kYXRhKCdzdXBwcmVzcy12b3RlLXJlcXVlc3RzJyk7XG59XG5cbmZ1bmN0aW9uIGdldEx0dVZhbCgkZWw6IEpRdWVyeSkge1xuICAgIHJldHVybiBnZXRWb3RpbmdDb250YWluZXIoJGVsKS5kYXRhKCdsdHUnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hlY2ttYXJrQ29waWVzKCkge1xuICAgIHJldHVybiBnZXRBY2NlcHRlZEFuc3dlckxpbmtzKCkuZmluZChcIi5qcy1jaGVja21hcmstY29weVwiKTtcbn1cblxuZnVuY3Rpb24gc2hvd0Vycm9yTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBTaG93VG9hc3RPcHRpb25zKSB7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgZGlzbWlzc2FibGU6IHRydWUsXG4gICAgICAgIHRyYW5zaWVudDogZmFsc2UsXG4gICAgICAgIHRyYW5zaWVudFRpbWVvdXQ6IHN1Z2dlc3RlZFRyYW5zaWVudFRpbWVvdXQobWVzc2FnZSwgdHJ1ZSksXG4gICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICBhY3Rpb25zOiBbXSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgc2hvd1RvYXN0KG1lc3NhZ2UsIHNldHRpbmdzKTtcbn1cblxuZnVuY3Rpb24gc2hvd0dlbmVyaWNFcnJvck1lc3NhZ2UoKSB7XG4gICAgc2hvd0Vycm9yTWVzc2FnZShfcygnQW4gZXJyb3IgaGFzIG9jY3VycmVkIC0gcGxlYXNlIHJldHJ5IHlvdXIgcmVxdWVzdC4nKSwgeyB0cmFuc2llbnQ6IHRydWUgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dJbmZvTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBTaG93VG9hc3RPcHRpb25zKSB7XG4gICAgc2hvd1RvYXN0KG1lc3NhZ2UsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVNb2RTY29yZSgkZWw6IEpRdWVyeSwgaW5jcmVtZW50QW1vdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCAkc2NvcmUgPSBnZXRWb3RpbmdDb250YWluZXIoJGVsKS5maW5kKFwiLmpzLXZvdGUtY291bnRcIik7XG4gICAgY29uc3QgbmV3U2NvcmUgPSAkc2NvcmUuZGF0YSgndmFsdWUnKSArIGluY3JlbWVudEFtb3VudDtcbiAgICBjb25zdCBkaXNwbGF5U2NvcmUgPSBub3JtYWxpemVQb3N0U2NvcmUobmV3U2NvcmUpO1xuXG4gICAgJHNjb3JlLmRhdGEoJ3ZhbHVlJywgbmV3U2NvcmUpLnRleHQoZGlzcGxheVNjb3JlKTtcblxuICAgIC8vIFJlYmluZCB0aGUgc3BsaXQgZGV0YWlscyBpZiB3ZSBjbGVhcmVkIHRoZW0uXG4gICAgaWYgKCRzY29yZS5kYXRhKCdoYWQtc3BsaXQnKSkge1xuICAgICAgICBiaW5kRmV0Y2hWb3RlQ291bnRzKCRzY29yZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRNb2RTY29yZSgkZWw6IEpRdWVyeSkge1xuICAgIHJldHVybiBnZXRWb3RpbmdDb250YWluZXIoJGVsKS5maW5kKFwiLmpzLXZvdGUtY291bnRcIikuZGF0YSgndmFsdWUnKTtcbn1cblxuZnVuY3Rpb24gc3VibWl0TW9kVm90ZSgkYnV0dG9uOiBKUXVlcnksIHZvdGVUeXBlSWQ6IFZvdGVUeXBlSWQpIHtcblxuICAgIHVuYmluZFZvdGVDbGlja3MoJGJ1dHRvbik7IC8vIGRpc2FibGUgdm90aW5nIGR1cmluZyBhIHZvdGVcblxuICAgIC8vIHByZXZlbnQgcmVhbHRpbWUgdXBkYXRlcyB3aGlsZSB3ZSBwcm9jZXNzIHRoZSB2b3RlXG4gICAgcmVhbHRpbWUucGF1c2VRdWVzdGlvbk5vdGlmaWNhdGlvbnModHJ1ZSk7XG5cbiAgICBjb25zdCBwb3N0SWQgPSBnZXRQb3N0SWQoJGJ1dHRvbik7XG4gICAgY29uc3QgcmVmZXJyZXIgPSBnZXRSZWZlcnJlcigkYnV0dG9uKVxuXG4gICAgLy8gRXhpc3RpbmcgZnVuY3Rpb25hbGl0eSB3aWxsIGNhdXNlIHRoaXMgcmVxdWVzdCB0byBiZSBzaW11bGF0ZWQuXG4gICAgaWYgKHNob3VsZFNpbXVsYXRlVm90aW5nKCRidXR0b24pKSB7XG4gICAgICAgICRidXR0b24uZGF0YSgndm90ZS1zdHViJywgeyBTdWNjZXNzOiB0cnVlLCBMYXN0Vm90ZVR5cGVJZDogdm90ZVR5cGVJZCwgTmV3U2NvcmU6IGdldE1vZFNjb3JlKCRidXR0b24pIH0pO1xuICAgIH1cblxuICAgIHN1Ym1pdCh7XG4gICAgICAgICR0YXJnZXQ6ICRidXR0b24sXG4gICAgICAgIHBvc3RJZDogcG9zdElkLFxuICAgICAgICB2b3RlVHlwZUlkOiB2b3RlVHlwZUlkLFxuICAgICAgICByZWZlcnJlcjogcmVmZXJyZXIsXG4gICAgICAgIHN1Y2Nlc3M6IG1vZFZvdGVSZXN1bHQsXG4gICAgICAgIGRhdGE6IHsgJ2x0dSc6IGdldEx0dVZhbCgkYnV0dG9uKSB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vZFZvdGVSZXN1bHQoJGpDbGlja2VkOiBKUXVlcnksIHBvc3RJZDogbnVtYmVyLCBkYXRhOiBWb3RlUmVzdWx0KSB7XG4gICAgaWYgKGRhdGEuU3VjY2Vzcykge1xuICAgICAgICBpZiAoZGF0YS5NZXNzYWdlKSB7XG4gICAgICAgICAgICBzaG93SW5mb01lc3NhZ2UoZGF0YS5NZXNzYWdlLCB7IHRyYW5zaWVudDogZGF0YS5UcmFuc2llbnQsIHVzZVJhd0h0bWw6IHRydWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5MYXN0Vm90ZVR5cGVJZCA9PSBWb3RlVHlwZUlkLnVwTW9kKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCd1cFZvdGUnLCBbcG9zdElkLCBkYXRhLk5ld1Njb3JlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS5MYXN0Vm90ZVR5cGVJZCA9PSBWb3RlVHlwZUlkLmRvd25Nb2QpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ2Rvd25Wb3RlJywgW3Bvc3RJZCwgZGF0YS5OZXdTY29yZV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndW5kb1ZvdGUnLCBbcG9zdElkLCBkYXRhLk5ld1Njb3JlXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChkYXRhLk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLkluZm8pIHtcbiAgICAgICAgICAgICAgICBzaG93SW5mb01lc3NhZ2UoZGF0YS5NZXNzYWdlLCB7IHRyYW5zaWVudDogdHJ1ZSwgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhLk1lc3NhZ2UsIHsgdHJhbnNpZW50OiB0cnVlLCB1c2VSYXdIdG1sOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hvd0dlbmVyaWNFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVuZG8gc2NvcmUgY2hhbmdlXG4gICAgICAgIGNvbnN0IGRpc3BsYXlTY29yZSA9IG5vcm1hbGl6ZVBvc3RTY29yZShkYXRhLk5ld1Njb3JlKTtcbiAgICAgICAgZ2V0Vm90aW5nQ29udGFpbmVyKCRqQ2xpY2tlZCkuZmluZCgnLmpzLXZvdGUtY291bnQnKS5kYXRhKCd2YWx1ZScsIGRpc3BsYXlTY29yZSkudGV4dChkaXNwbGF5U2NvcmUpO1xuXG4gICAgICAgIC8vIGFsd2F5cyB1bmNsaWNrIHRoZSBidXR0b24sIGFuZCB0aGVuIHNldCBpdCB0byB0aGUgcHJldmlvdXMgdm90ZSBpZiBhIHByZXZpb3VzIHZvdGUgZXhpc3RzXG4gICAgICAgIHNldFNlbGVjdGVkKCRqQ2xpY2tlZCwgZmFsc2UpO1xuICAgICAgICBpZiAoZGF0YS5MYXN0Vm90ZVR5cGVJZCkge1xuICAgICAgICAgICAgc2VsZWN0UHJldmlvdXNWb3RlKCRqQ2xpY2tlZCwgZGF0YS5MYXN0Vm90ZVR5cGVJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmluZFZvdGVDbGlja3MoJGpDbGlja2VkLnBhcmVudCgpKTsgLy8gcmUtZW5hYmxlIHZvdGluZy4uXG4gICAgcmVhbHRpbWUucGF1c2VRdWVzdGlvbk5vdGlmaWNhdGlvbnMoZmFsc2UpO1xuICAgIHVwZGF0ZVZvdGVCdXR0b25UaXRsZXMoJGpDbGlja2VkKTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0UHJldmlvdXNWb3RlKCRqQ2xpY2tlZDogSlF1ZXJ5LCB2b3RlVHlwZUlkOiBWb3RlVHlwZUlkKSB7XG4gICAgY29uc3QgakRpdiA9IGdldFZvdGluZ0NvbnRhaW5lcigkakNsaWNrZWQpO1xuXG4gICAgaWYgKHZvdGVUeXBlSWQgPT09IFZvdGVUeXBlSWQudXBNb2QpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoakRpdi5maW5kKCcuanMtdm90ZS11cC1idG4nKSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh2b3RlVHlwZUlkID09PSBWb3RlVHlwZUlkLmRvd25Nb2QpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoakRpdi5maW5kKCcuanMtdm90ZS1kb3duLWJ0bicpLCB0cnVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZvbGxvd1VJKCRmb2xsb3dCdG46IEpRdWVyeSwgaXNRdWVzdGlvbjogYm9vbGVhbiwgaXNGb2xsb3dpbmc6IGJvb2xlYW4pIHtcbiAgICBpZiAoISRmb2xsb3dCdG4gfHwgISRmb2xsb3dCdG4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJGZvbGxvd0J0bi5hdHRyKCdhcmlhLXByZXNzZWQnLCBpc0ZvbGxvd2luZyA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgIGNvbnN0IHRpdGxlID0gaXNGb2xsb3dpbmdcbiAgICAgICAgPyBpc1F1ZXN0aW9uID8gX3MoXCJVbmZvbGxvdyB0aGlzIHF1ZXN0aW9uIHRvIHN0b3AgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnNcIikgOiBfcyhcIlVuZm9sbG93IHRoaXMgYW5zd2VyIHRvIHN0b3AgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnNcIilcbiAgICAgICAgOiBpc1F1ZXN0aW9uID8gX3MoXCJGb2xsb3cgdGhpcyBxdWVzdGlvbiB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnNcIikgOiBfcyhcIkZvbGxvdyB0aGlzIGFuc3dlciB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnNcIik7XG4gICAgc2V0VG9vbHRpcFRleHQoJGZvbGxvd0J0biwgdGl0bGUpO1xuXG4gICAgLy8gZGF0YS1ncHMtdHJhY2sgdXBkYXRlIGl0ZW0gVHlwZVxuICAgIGNvbnN0IGN1cnJlbnRHcHNUcmFjayA9ICRmb2xsb3dCdG4uZGF0YSgnZ3BzLXRyYWNrJyk7XG4gICAgY29uc3QgbmV3VHJhY2tJdGVtVHlwZSA9IGlzRm9sbG93aW5nID8gMTUgOiAxNDsgLy8gY29ycmVzcG9uZHMgdG8gUG9zdENsaWNrVHlwZSBlbnVtIG1lbWJlcnMsIHVuZm9sbG93OiAxNSwgZm9sbG93OiAxNFxuICAgIGNvbnN0IG5ld0dwc1RyYWNrID0gY3VycmVudEdwc1RyYWNrLnJlcGxhY2UoL2l0ZW06WyBdP1tcXGRdKy8sIFwiaXRlbTogXCIgKyBuZXdUcmFja0l0ZW1UeXBlKTtcbiAgICAkZm9sbG93QnRuLmRhdGEoJ2dwcy10cmFjaycsIG5ld0dwc1RyYWNrKTtcblxuICAgICRmb2xsb3dCdG4uaHRtbChpc0ZvbGxvd2luZyA/IF9zKFwiJH5wb3N0JEZvbGxvd2luZ1wiKSA6IF9zKFwiRm9sbG93XCIpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29sbGVjdGlvbkZvbGxvd1VJKCRmb2xsb3dCdG46IEpRdWVyeSwgaXNDb2xsZWN0aXZlQ29sbGVjdGlvbjogYm9vbGVhbiwgaXNGb2xsb3dpbmc6IGJvb2xlYW4pIHtcbiAgICBpZiAoISRmb2xsb3dCdG4gfHwgISRmb2xsb3dCdG4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzQ29sbGVjdGl2ZUNvbGxlY3Rpb24pIHtcbiAgICAgICAgJGZvbGxvd0J0bi5hdHRyKCdhcmlhLXByZXNzZWQnLCBpc0ZvbGxvd2luZyA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGlzRm9sbG93aW5nXG4gICAgICAgICAgICA/IF9zKFwiVW5mb2xsb3cgdGhpcyBjb2xsZWN0aW9uIHRvIHN0b3AgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnNcIilcbiAgICAgICAgICAgIDogX3MoXCJGb2xsb3cgdGhpcyBjb2xsZWN0aW9uIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgbmV3IGFkZGl0aW9ucywgZWRpdHMgYW5kIGNvbW1lbnRzLlwiKVxuICAgICAgICBzZXRUb29sdGlwVGV4dCgkZm9sbG93QnRuLCB0aXRsZSk7XG5cbiAgICAgICAgJGZvbGxvd0J0bi5odG1sKGlzRm9sbG93aW5nID8gX3MoXCIkfnBvc3QkRm9sbG93aW5nXCIpIDogX3MoXCJGb2xsb3dcIikpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9sbG93KCRmb2xsb3dCdG46IEpRdWVyeSkge1xuXG4gICAgJGZvbGxvd0J0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIGNvbnN0IGlzUXVlc3Rpb24gPSAkZm9sbG93QnRuLmhhc0NsYXNzKCdqcy1mb2xsb3ctcXVlc3Rpb24nKTtcbiAgICBjb25zdCBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uID0gJGZvbGxvd0J0bi5oYXNDbGFzcygnanMtZm9sbG93LWNvbGxlY3RpdmUtY29sbGVjdGlvbicpO1xuICAgIGNvbnN0IHBvc3RJZCA9IHBhcnNlSW50KCRmb2xsb3dCdG4uY2xvc2VzdCgnLmpzLXBvc3QtbWVudScpLmRhdGEoJ3Bvc3QtaWQnKSk7XG5cbiAgICBjb25zdCBvcmlnaW5hbElzRm9sbG93aW5nID0gJGZvbGxvd0J0bi5hdHRyKCdhcmlhLXByZXNzZWQnKSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IG5ld0lzRm9sbG93aW5nID0gIW9yaWdpbmFsSXNGb2xsb3dpbmc7XG5cbiAgICBpZiAoaXNDb2xsZWN0aXZlQ29sbGVjdGlvbikge1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uRm9sbG93VUkoJGZvbGxvd0J0biwgaXNDb2xsZWN0aXZlQ29sbGVjdGlvbiwgbmV3SXNGb2xsb3dpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUZvbGxvd1VJKCRmb2xsb3dCdG4sIGlzUXVlc3Rpb24sIG5ld0lzRm9sbG93aW5nKTtcbiAgICB9XG4gICBcbiAgICBzdWJtaXQoe1xuICAgICAgICAkdGFyZ2V0OiAkZm9sbG93QnRuLFxuICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgdm90ZVR5cGVJZDogVm90ZVR5cGVJZC5mb2xsb3csXG4gICAgICAgIHVuZG86IG9yaWdpbmFsSXNGb2xsb3dpbmcsIC8vIGlmIGl0IGlzIGN1cnJlbnRseSBmb2xsb3dpbmcsIHRoYXQgbWVhbnMgdGhhdCB3ZSBub3cgaGF2ZSB0byB1bmRvIHRoZSB2b3RlXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgkY2xpY2tlZDogSlF1ZXJ5LCBwaWQ6IG51bWJlciwgZGF0YTogVm90ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb2xsZWN0aXZlQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb2xsZWN0aW9uRm9sbG93VUkoJGZvbGxvd0J0biwgaXNDb2xsZWN0aXZlQ29sbGVjdGlvbiwgbmV3SXNGb2xsb3dpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvbGxvd1VJKCRmb2xsb3dCdG4sIGlzUXVlc3Rpb24sIG5ld0lzRm9sbG93aW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhLk1lc3NhZ2UsIHsgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZvbGxvd1BvcG92ZXJFeGlzdHMgPSAkKFwiI2RpdkZvbGxvd2luZ0NvbmZpcm0tXCIgKyBwb3N0SWQpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvbGxvd1BvcG92ZXJFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZGF0YS5NZXNzYWdlKS5pbnNlcnRBZnRlcigkZm9sbG93QnRuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd1BvcG92ZXJFeGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IHRoZXNlIGFyZSBzZXQgcHJvcGVybHksIHNpbmNlIG90aGVyIGNvZGUgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgLy8gbWVzc2VzIHdpdGggdGhpcyBmb3IgcmVtb3ZpbmcgdGhlIG5ldyBmZWF0dXJlIHBvcG92ZXJcbiAgICAgICAgICAgICAgICAgICAgJGZvbGxvd0J0bi5hdHRyKFwiYXJpYS1jb250cm9sc1wiLCBcImRpdkZvbGxvd2luZ0NvbmZpcm0tXCIgKyBwb3N0SWQpO1xuICAgICAgICAgICAgICAgICAgICAkZm9sbG93QnRuLmF0dHIoXCJkYXRhLWNvbnRyb2xsZXJcIiwgXCJzLXBvcG92ZXIgcy10b29sdGlwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3SXNGb2xsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBzdGFydGVkIGZvbGxvd2luZywgc2hvdyB0aGUgcG9wb3ZlclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sbG93UG9wb3ZlckV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRvYXN0cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU3RhY2tzUG9wb3ZlcigkZm9sbG93QnRuLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IGZpbmQgdGhlIHBvcG92ZXIgY29udHJvbGxlciBmb3IgYW55IHJlYXNvbiwgc3RpbGwgc2hvdyBhIGNvbmZpcm1hdGlvbiB3aXRoIHRvYXN0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1F1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlKF9tKFwiWW914oCZcmUgbm93IGZvbGxvd2luZyB0aGlzIHF1ZXN0aW9uXCIpLCB7IHRyYW5zaWVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDb2xsZWN0aXZlQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJbmZvTWVzc2FnZShfbShcIllvdeKAmXJlIG5vdyBmb2xsb3dpbmcgdGhpcyBjb2xsZWN0aW9uXCIpLCB7IHRyYW5zaWVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlKF9tKFwiWW914oCZcmUgbm93IGZvbGxvd2luZyB0aGlzIGFuc3dlclwiKSwgeyB0cmFuc2llbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IHVuZm9sbG93ZWQsIHNob3cgbWVzc2FnZSBhdCB0b3Agb2Ygc2NyZWVuIGNvbmZpcm1pbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJbmZvTWVzc2FnZShfbShcIllvdeKAmXJlIG5vIGxvbmdlciBmb2xsb3dpbmcgdGhpcyBxdWVzdGlvblwiKSwgeyB0cmFuc2llbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDb2xsZWN0aXZlQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlKF9tKFwiWW914oCZcmUgbm8gbG9uZ2VyIGZvbGxvd2luZyB0aGlzIGNvbGxlY3Rpb25cIiksIHsgdHJhbnNpZW50OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlKF9tKFwiWW914oCZcmUgbm8gbG9uZ2VyIGZvbGxvd2luZyB0aGlzIGFuc3dlclwiKSwgeyB0cmFuc2llbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGxvd1BvcG92ZXJFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwb3BvdmVyIHdhcyBvcGVuIChmb3IgZXhhbXBsZSwgdXNlciBjbGlja2VkIHRoZSBwb3BvdmVyIHVuZm9sbG93IGJ1dHRvbikgdGhlbiBoaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTdGFja3NQb3BvdmVyKCRmb2xsb3dCdG4sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRmb2xsb3dCdG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaXNDb2xsZWN0aXZlQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25Gb2xsb3dVSSgkZm9sbG93QnRuLCBpc0NvbGxlY3RpdmVDb2xsZWN0aW9uLCBuZXdJc0ZvbGxvd2luZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUZvbGxvd1VJKCRmb2xsb3dCdG4sIGlzUXVlc3Rpb24sIG5ld0lzRm9sbG93aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRmb2xsb3dCdG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYm9va21hcmsoJGJvb2ttYXJrQnRuOiBKUXVlcnkpIHtcblxuICAgIGlmICgkYm9va21hcmtCdG4uZGF0YSgnbG9hZGluZycpKSB7IHJldHVybjsgfSAvLyBwcmV2ZW50IGZhc3QgZG91YmxlLWNsaWNraW5nIG9mIHRoZSB2b3RlIGNvbnRyb2xcblxuICAgICRib29rbWFya0J0bi5kYXRhKCdsb2FkaW5nJywgdHJ1ZSk7XG5cbiAgICBjb25zdCBwb3N0SWQgPSBnZXRQb3N0SWQoJGJvb2ttYXJrQnRuKTtcbiAgICBjb25zdCAkYm9va21hcmtDb3VudCA9IGdldFZvdGluZ0NvbnRhaW5lcigkYm9va21hcmtCdG4pLmZpbmQoJy5qcy1ib29rbWFyay1jb3VudCcpO1xuICAgIGNvbnN0ICRib29rbWFya0FjdGl2ZSA9IGdldFZvdGluZ0NvbnRhaW5lcigkYm9va21hcmtCdG4pLmZpbmQoJy5qcy1ib29rbWFyay1zZWxlY3RlZCcpO1xuICAgIGNvbnN0ICRib29rbWFya0luYWN0aXZlID0gZ2V0Vm90aW5nQ29udGFpbmVyKCRib29rbWFya0J0bikuZmluZCgnLmpzLWJvb2ttYXJrLXVuc2VsZWN0ZWQnKTtcblxuICAgIGNvbnN0IG9yaWdpbmFsVmFsdWUgPSBpc1NlbGVjdGVkKCRib29rbWFya0J0bik7XG4gICAgY29uc3Qgb3JpZ2luYWxDb3VudCA9ICRib29rbWFya0NvdW50LmRhdGEoJ3ZhbHVlJykgfHwgMDtcblxuICAgIGNvbnN0IG5ld1ZhbHVlID0gIW9yaWdpbmFsVmFsdWU7XG4gICAgY29uc3QgbmV3Q291bnQgPSBuZXdWYWx1ZSA/IG9yaWdpbmFsQ291bnQgKyAxIDogb3JpZ2luYWxDb3VudCAtIDE7XG5cbiAgICAvLyBtYWtlIHRoaXMgYSBmdW5jdGlvbiwgc28gaWYgdGhlcmUncyBhIGZhaWx1cmUgZHVyaW5nIHN1Ym1pc3Npb24sIHdlIGNhbiByb2xsIGJhY2sgdGhlIFVJXG4gICAgY29uc3QgdXBkYXRlVUkgPSBmdW5jdGlvbiAodmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHNldFNlbGVjdGVkKCRib29rbWFya0J0biwgdmFsdWUpO1xuICAgICAgICAkYm9va21hcmtCdG4uYXR0cignYXJpYS1sYWJlbCcsIGNvdW50ID8gX3MoJ0Jvb2ttYXJrJykgKyAnKCcgKyBjb3VudCArICcpJyA6IF9zKCdCb29rbWFyaycpKTtcbiAgICAgICAgdXBkYXRlQm9va21hcmtCdXR0b25UaXRsZXMoJGJvb2ttYXJrQnRuKTtcbiAgICAgICAgJGJvb2ttYXJrQ291bnQuZGF0YSgndmFsdWUnLCBjb3VudCkudGV4dChjb3VudCkudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScsIGNvdW50ID09PSAwKTtcbiAgICAgICAgJGJvb2ttYXJrQWN0aXZlLnRvZ2dsZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgJGJvb2ttYXJrSW5hY3RpdmUudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIH07XG5cbiAgICB1cGRhdGVVSShuZXdWYWx1ZSwgbmV3Q291bnQpO1xuXG4gICAgc3VibWl0KHtcbiAgICAgICAgJHRhcmdldDogJGJvb2ttYXJrQnRuLFxuICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgdm90ZVR5cGVJZDogVm90ZVR5cGVJZC5ib29rbWFyayxcbiAgICAgICAgdW5kbzogb3JpZ2luYWxWYWx1ZSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGNsaWNrZWQ6IEpRdWVyeSwgcGlkOiBudW1iZXIsIGRhdGE6IFZvdGVSZXN1bHQpIHtcbiAgICAgICAgICAgICRib29rbWFya0J0bi5kYXRhKCdsb2FkaW5nJywgZmFsc2UpO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVVJKG9yaWdpbmFsVmFsdWUsIG9yaWdpbmFsQ291bnQpO1xuICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YS5NZXNzYWdlLCB7IHVzZVJhd0h0bWw6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0ZhbmN5RGVsZXRpb25Qcm9tcHQoJGJ1dHRvbjogSlF1ZXJ5LCBwb3N0SWQ6IG51bWJlciwgY2FsbGJhY2s6IFZvdGVSZXN1bHRDYWxsYmFjaywgb3B0aW9uYWxGb3JtRGF0YTogRm9ybURhdGEsIGhhc0FjdGl2ZVZvdGU6IGJvb2xlYW4pIHtcblxuICAgIGxvYWRNb2RhbChgL3Bvc3RzLyR7cG9zdElkfS9mYW5jeS1kZWxldGlvbi1wcm9tcHRgLCB7IHJldHVybkVsZW1lbnRzOiAkYnV0dG9uIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgkbW9kYWwpIHtcbiAgICAgICAgICAgICRtb2RhbC5maW5kKCdhOmxpbmsnKS5hdHRyKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG5cbiAgICAgICAgICAgICRtb2RhbC5maW5kKCcuanMtb2stYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN1Ym1pdCh7XG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQ6ICRidXR0b24sXG4gICAgICAgICAgICAgICAgICAgIHBvc3RJZDogcG9zdElkLFxuICAgICAgICAgICAgICAgICAgICB2b3RlVHlwZUlkOiBWb3RlVHlwZUlkLmRlbGV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogb3B0aW9uYWxGb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgdW5kbzogaGFzQWN0aXZlVm90ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGRlbGV0aW9uKCRqQ2xpY2tlZDogSlF1ZXJ5LCBvcHRpb25hbENhbGxiYWNrPzogVm90ZVJlc3VsdENhbGxiYWNrLCBvcHRpb25hbEZvcm1EYXRhPzogRm9ybURhdGEpOiB2b2lkIHtcbiAgICBjb25zdCBwb3N0SWQgPSBwYXJzZUludCgkakNsaWNrZWQuY2xvc2VzdCgnLmpzLXBvc3QtbWVudScpLmF0dHIoJ2RhdGEtcG9zdC1pZCcpKTtcbiAgICBjb25zdCBwb3N0VHlwZUlkID0gcGFyc2VJbnQoJGpDbGlja2VkLmNsb3Nlc3QoJy5qcy1wb3N0LW1lbnUnKS5hdHRyKCdkYXRhLXBvc3QtdHlwZS1pZCcpKTtcbiAgICBjb25zdCBpc0RlbGV0ZWQgPSAkakNsaWNrZWQuZGF0YSgnaXMtZGVsZXRlZCcpO1xuICAgIGNvbnN0IHByb21wdCA9ICRqQ2xpY2tlZC5kYXRhKCdwcm9tcHQnKTtcbiAgICBjb25zdCBoYXNBY3RpdmVWb3RlID0gJGpDbGlja2VkLmRhdGEoJ2hhcy1hY3RpdmUtdm90ZScpO1xuICAgIGNvbnN0IGhhc0RlbGV0ZWRWb3RlID0gJGpDbGlja2VkLmRhdGEoJ2hhcy1kZWxldGVkLXZvdGUnKTtcblxuICAgIGNvbnN0IGZhbmN5ID0gIWlzRGVsZXRlZCA/ICEhJGpDbGlja2VkLmRhdGEoJ2ZhbmN5LWRlbGV0ZScpIDogZmFsc2U7XG5cbiAgICBjb25zdCBjYWxsYmFjayA9IG9wdGlvbmFsQ2FsbGJhY2sgfHwgZGVsZXRpb25DYWxsYmFjaztcblxuICAgIGlmIChoYXNEZWxldGVkVm90ZSAmJiBoYXNBY3RpdmVWb3RlKSB7XG4gICAgICAgIHN1Ym1pdCh7XG4gICAgICAgICAgICAkdGFyZ2V0OiAkakNsaWNrZWQsXG4gICAgICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgICAgIHZvdGVUeXBlSWQ6IChpc0RlbGV0ZWQgPyBWb3RlVHlwZUlkLnVuZGVsZXRpb24gOiBWb3RlVHlwZUlkLmRlbGV0aW9uKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZGF0YTogb3B0aW9uYWxGb3JtRGF0YSxcbiAgICAgICAgICAgIHVuZG86IGhhc0FjdGl2ZVZvdGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocG9zdFR5cGVJZCA9PT0gUG9zdFR5cGVJZC5BcnRpY2xlICYmICFpc0RlbGV0ZWQpIHtcbiAgICAgICAgU3RhY2tzLnNob3dNb2RhbCgkakNsaWNrZWQuY2xvc2VzdCgnLmpzLXBvc3QtbWVudScpLmZpbmQoJy5qcy1kZWxldGUtYXJ0aWNsZS1tb2RhbCcpWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZmFuY3kpIHtcbiAgICAgICAgICAgIHNob3dGYW5jeURlbGV0aW9uUHJvbXB0KCRqQ2xpY2tlZCwgcG9zdElkLCBjYWxsYmFjaywgb3B0aW9uYWxGb3JtRGF0YSwgaGFzQWN0aXZlVm90ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlybShwcm9tcHQpKSB7XG4gICAgICAgICAgICAvLyBIQUNLOiByZWFsdGltZSBkZWxldGlvbiBicm9hZGNhc3QgZG9lc24ndCBzZW5kIGRvd24gdGhlIGFjY291bnQgaWQgdGhhdCBkaWQgaXRcbiAgICAgICAgICAgIHJlYWx0aW1lLnBhdXNlUXVlc3Rpb25Ob3RpZmljYXRpb25zKHRydWUpO1xuXG4gICAgICAgICAgICBzdWJtaXQoe1xuICAgICAgICAgICAgICAgICR0YXJnZXQ6ICRqQ2xpY2tlZCxcbiAgICAgICAgICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgICAgICAgICB2b3RlVHlwZUlkOiAoaXNEZWxldGVkID8gVm90ZVR5cGVJZC51bmRlbGV0aW9uIDogVm90ZVR5cGVJZC5kZWxldGlvbiksXG4gICAgICAgICAgICAgICAgc3VjY2VzczogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW9uYWxGb3JtRGF0YSxcbiAgICAgICAgICAgICAgICB1bmRvOiBoYXNBY3RpdmVWb3RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVsZXRpb25DYWxsYmFjaygkakNsaWNrZWQ6IEpRdWVyeSwgcG9zdElkOiBudW1iZXIsIGRhdGE/OiBWb3RlUmVzdWx0KSB7XG4gICAgY29uc3Qgd2FzRGVsZXRlZDogYm9vbGVhbiA9ICRqQ2xpY2tlZC5kYXRhKCdpcy1kZWxldGVkJyk7XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLlN1Y2Nlc3MpIHtcbiAgICAgICAgaWYgKGRhdGEuTmV3U2NvcmUgPCAwKSB7XG4gICAgICAgICAgICAvLyBPbiBhIHN0YXRlIGNoYW5nZSwgcmVsb2FkcyB0aGUgcGFnZSB0byBtYWtlIHN1cmUgYWxsIHN0eWxlcyBjb21wbHkgd2l0aCB0aGUgbmV3IHN0YXRlXG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gc3RhdGUgY2hhbmdlLCByZWxvYWRzIG9ubHkgdGhlIERlbGV0ZSBMaW5rIGluZm9ybWF0aW9uXG4gICAgICAgICAgICBjb25zdCB1cmwgPSAnL3Bvc3RzLycgKyBwb3N0SWQgKyAnL2RlbGV0ZS1saW5rJztcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGVsZXRlTGlua0luZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zdElzRGVsZXRlZCA9ICRqQ2xpY2tlZC5kYXRhKCdpcy1kZWxldGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaGVzIGRlbGV0ZSBsaW5rIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICRqQ2xpY2tlZC5odG1sKGRlbGV0ZUxpbmtJbmZvLlRleHQpO1xuICAgICAgICAgICAgICAgICAgICAkakNsaWNrZWQuYXR0cigndGl0bGUnLCBkZWxldGVMaW5rSW5mby5Ub29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgJGpDbGlja2VkLmRhdGEoJ2ZhbmN5LWRlbGV0ZScsIGRlbGV0ZUxpbmtJbmZvLlNob3dGYW5jeURlbGV0ZVByb21wdCk7XG4gICAgICAgICAgICAgICAgICAgICRqQ2xpY2tlZC5kYXRhKCdwcm9tcHQnLCBkZWxldGVMaW5rSW5mby5Qcm9tcHQpO1xuICAgICAgICAgICAgICAgICAgICAkakNsaWNrZWQuZGF0YSgnaGFzLWFjdGl2ZS12b3RlJywgZGVsZXRlTGlua0luZm8uSGFzQWN0aXZlVm90ZSk7XG4gICAgICAgICAgICAgICAgICAgICRqQ2xpY2tlZC5kYXRhKCdoYXMtZGVsZXRlZC12b3RlJywgZGVsZXRlTGlua0luZm8uSGFzRGVsZXRlZFZvdGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpZ3VyZXMgb3V0IHdoaWNoIG9wZXJhdGlvbiB3YXMgZXhlY3V0ZWQgYW5kIGRpc3BsYXlzIGFwcHJvcHJpYXRlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZm9NZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zdElzRGVsZXRlZCAmJiBkZWxldGVMaW5rSW5mby5IYXNBY3RpdmVWb3RlKSB7IC8vIFZvdGUgZm9yIFVuZGVsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9NZXNzYWdlID0gX3MoJ1lvdXIgdW5kZWxldGUgdm90ZSBoYXMgYmVlbiByZWNvcmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFwb3N0SXNEZWxldGVkICYmIGRlbGV0ZUxpbmtJbmZvLkhhc0FjdGl2ZVZvdGUpIHsgLy8gVm90ZSBmb3IgRGVsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9NZXNzYWdlID0gX3MoJ1lvdXIgZGVsZXRlIHZvdGUgaGFzIGJlZW4gcmVjb3JkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3N0SXNEZWxldGVkICYmICFkZWxldGVMaW5rSW5mby5IYXNBY3RpdmVWb3RlKSB7IC8vIFJldHJhY3Qgdm90ZSBmb3IgVW5kZWxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb01lc3NhZ2UgPSBfcygnWW91ciB1bmRlbGV0ZSB2b3RlIGhhcyBiZWVuIHJldHJhY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFwb3N0SXNEZWxldGVkICYmICFkZWxldGVMaW5rSW5mby5IYXNBY3RpdmVWb3RlKSB7IC8vIFJldHJhY3Qgdm90ZSBmb3IgRGVsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9NZXNzYWdlID0gX3MoJ1lvdXIgZGVsZXRlIHZvdGUgaGFzIGJlZW4gcmV0cmFjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzaG93SW5mb01lc3NhZ2UoaW5mb01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gd2F5IHRvIHJlY292ZXIsIHJlbG9hZCB0aGUgcGFnZVxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoXCIuanMtcG9zdC1ub3RpY2UtZGVsZXRlLXBvc3RbZGF0YS1wb3N0LWlkPVwiICsgcG9zdElkICsgXCJdXCIpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbXNnID0gKGRhdGEgJiYgZGF0YS5NZXNzYWdlKSA/IGRhdGEuTWVzc2FnZSA6IHdhc0RlbGV0ZWQgPyBfcygnQSBwcm9ibGVtIG9jY3VycmVkIGR1cmluZyB1bmRlbGV0aW9uJykgOiBfcygnQSBwcm9ibGVtIG9jY3VycmVkIGR1cmluZyBkZWxldGlvbicpO1xuICAgICAgICBzaG93RXJyb3JNZXNzYWdlKG1zZywge3VzZVJhd0h0bWw6IHRydWV9KTsgLy8gZGF0YS5NZXNzYWdlIGNhbiBpbmNsdWRlIGh0bWwsIG5lZWQgdG8gYWxsb3cgZm9yIGl0IHdpdGggdXNlUmF3SHRtbFxuICAgIH1cblxuICAgIC8vIEhBQ0s6IHJlYWx0aW1lIGRlbGV0aW9uIGJyb2FkY2FzdCBkb2Vzbid0IHNlbmQgZG93biB0aGUgYWNjb3VudCBpZCB0aGF0IGRpZCBpdFxuICAgIHJlYWx0aW1lLnBhdXNlUXVlc3Rpb25Ob3RpZmljYXRpb25zKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWNjZXB0QW5zd2VyX2NsaWNrKCkge1xuXG4gICAgY29uc3QgJGNsaWNrZWQgPSAkKHRoaXMpLFxuICAgICAgICBwb3N0SWQgPSBnZXRQb3N0SWQoJGNsaWNrZWQpLFxuICAgICAgICAkbGlua3MgPSBnZXRBY2NlcHRlZEFuc3dlckxpbmtzKCksXG4gICAgICAgICRjaGVja21hcmtDb3BpZXMgPSBnZXRDaGVja21hcmtDb3BpZXMoKTtcblxuXG4gICAgaWYgKCRjbGlja2VkLmlzKCc6d29ya2luZycpICYmICEkY2xpY2tlZC5oYXNDbGFzcygnanMtYWNjZXB0LWFuc3dlci1idG4nKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgJHNwaW5uZXIgPSAkKCc8ZGl2IGNsYXNzPVwiZmxleC0taXRlbSBhcy1jZW50ZXJcIiAvPicpLmFkZFN0YWNrc1NwaW5uZXIoJ3NtJykuYXBwZW5kVG8oZ2V0Vm90aW5nQ29udGFpbmVyKCRjbGlja2VkKSk7XG5cbiAgICAkbGlua3Mud29ya2luZyh0cnVlKTtcblxuICAgIHN1Ym1pdCh7XG4gICAgICAgICR0YXJnZXQ6ICRjbGlja2VkLFxuICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgdm90ZVR5cGVJZDogVm90ZVR5cGVJZC5hY2NlcHRlZEJ5T3duZXIsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgkaWdub3JlLCBwb3N0SWQsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBvbGQgYWNjZXB0ZWQgYW5zd2VyIGNoZWNrc1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkKCRsaW5rcywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2VydmVyIHNlbmRzIGRvd24gd2hpY2ggdm90ZSB0eXBlIGlkIHdhcyBzdWNjZXNzZnVsLCBlaXRoZXIgYWNjZXB0IG9yIHVuZG9cbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoZGF0YS5NZXNzYWdlLCAxMCkgPT0gVm90ZVR5cGVJZC5hY2NlcHRlZEJ5T3duZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoJGNsaWNrZWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgkY2hlY2ttYXJrQ29waWVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkY2hlY2ttYXJrQ29waWVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy51c2VyLmlzTW9kZXJhdG9yICYmIGRhdGEuSGFzQWNjZXB0ZWRCeU1vZFJpZ2h0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyIHNlbnQgYmFjayBhIHJlYXNvbiB0aGF0IGl0IGJsb2NrZWQgdGhpcyB2b3RlIC0gaW5mb3JtIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIG1lc3NhZ2UgaXMgdGhhdCBpdCdzIHRvbyBlYXJseSB0byBhY2NlcHQgdG8gdGhlIGFuc3dlciwgZmFkZSBpdCBhd2F5IGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShkYXRhLk1lc3NhZ2UsIHsgdHJhbnNpZW50OiBkYXRhLlRyYW5zaWVudCwgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNwaW5uZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAkbGlua3Mud29ya2luZyhmYWxzZSkudHJpZ2dlcigndXBkYXRlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWNjZXB0QW5zd2VyX3VwZGF0ZSgpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgdmVyYiA9IGlzU2VsZWN0ZWQoJHRoaXMpID8gJ3VuYWNjZXB0JyA6ICdhY2NlcHQnO1xuXG4gICAgc2V0VG9vbHRpcFRleHQoJHRoaXMsICR0aGlzLmRhdGEoJ3RpdGxlLScgKyB2ZXJiKSwgdm90ZUNvbnRhaW5lclRvb2x0aXBPcHRpb25zKTtcbiAgICBjb25zdCBsYWJlbCA9ICR0aGlzLmRhdGEoJ3ZlcmItJyArIHZlcmIpO1xuICAgIGlmIChsYWJlbCkge1xuICAgICAgICAkdGhpcy50ZXh0KGxhYmVsKTtcbiAgICB9XG59XG5cbmxldCBsb2FkaW5nVm90ZXMgPSBmYWxzZTtcblxuZnVuY3Rpb24gZmV0Y2hWb3RlQ291bnRzKCRzY29yZUVsOiBKUXVlcnkpIHtcbiAgICBpZiAobG9hZGluZ1ZvdGVzKSByZXR1cm47XG5cbiAgICBsb2FkaW5nVm90ZXMgPSB0cnVlO1xuXG4gICAgY29uc3QgcG9zdElkID0gZ2V0UG9zdElkKCRzY29yZUVsKTtcbiAgICAkc2NvcmVFbC5hZGRTdGFja3NTcGlubmVyKCdzbScsICdmYy1ibGFjay0zMDAnKTtcblxuICAgIGlmIChzaG91bGRTaW11bGF0ZVZvdGluZygkc2NvcmVFbCkpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGpEaXYgPSBnZXRWb3RpbmdDb250YWluZXIoJHNjb3JlRWwpO1xuICAgICAgICAgICAgY29uc3QgalVwID0gakRpdi5maW5kKCcuanMtdm90ZS11cC1idG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGpEb3duID0gakRpdi5maW5kKCcuanMtdm90ZS1kb3duLWJ0bicpO1xuICAgICAgICAgICAgY29uc3QgZG93bnZvdGVkID0gaXNTZWxlY3RlZChqRG93bik7XG4gICAgICAgICAgICBjb25zdCB1cHZvdGVkID0gaXNTZWxlY3RlZChqVXApO1xuICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBnZXRNb2RTY29yZSgkc2NvcmVFbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGdldEpzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID49IDAgJiYgZG93bnZvdGVkKSByZXR1cm4geyB1cDogc2NvcmUgKyAxLCBkb3duOiAtMSB9O1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA8PSAwICYmIHVwdm90ZWQpIHJldHVybiB7IHVwOiAxLCBkb3duOiBzY29yZSAtIDEgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcmUgPiAwID8geyB1cDogc2NvcmUsIGRvd246IDAgfSA6IHsgdXA6IDAsIGRvd246IHNjb3JlIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFwcGx5Vm90ZUNvdW50cygkc2NvcmVFbCwgZ2V0SnNvbigpKTtcblxuICAgICAgICAgICAgbG9hZGluZ1ZvdGVzID0gZmFsc2U7XG4gICAgICAgIH0sIDIwMCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICB1cmw6IGAvcG9zdHMvJHtwb3N0SWR9L3ZvdGUtY291bnRzYCxcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgcmVtb3ZlTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIGFwcGx5Vm90ZUNvdW50cygkc2NvcmVFbCwganNvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzOkpRdWVyeVhIUikge1xuICAgICAgICAgICAgJHNjb3JlRWwucmVtb3ZlU3Bpbm5lcigpO1xuICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZSgocmVzLnJlc3BvbnNlVGV4dCAmJiByZXMucmVzcG9uc2VUZXh0Lmxlbmd0aCA8IDEwMCA/IHJlcy5yZXNwb25zZVRleHQgOiBfcygnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHZvdGUgY291bnQgZmV0Y2gnKSksIHsgdHJhbnNpZW50OiByZXMuc3RhdHVzID09IDQwOSwgdXNlUmF3SHRtbDogdHJ1ZSB9KTsgLy8gZmFkZSBhd2F5IHRocm90dGxlIGVycm9yc1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9hZGluZ1ZvdGVzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwbHlWb3RlQ291bnRzKCRzY29yZTogSlF1ZXJ5LCBqc29uKSB7XG4gICAgY29uc3QgaHRtbCA9XG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmMtZ3JlZW4tNTAwXCI+JyArIGpzb24udXAgKyAnPC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidm90ZS1jb3VudC1zZXBhcmF0b3JcIj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJmYy1yZWQtNTAwXCI+JyArIGpzb24uZG93biArICc8L2Rpdj4nO1xuXG4gICAgY29uc3QgdXBDb3VudCA9IE1hdGguYWJzKCtqc29uLnVwKTtcbiAgICBjb25zdCBkb3duQ291bnQgPSBNYXRoLmFicygranNvbi5kb3duKTtcblxuICAgIGNvbnN0IGxhYmVsID0gX3MoJyN1cENvdW50IyB1cCAvICNkb3duQ291bnQjIGRvd24nLCB7IHVwQ291bnQ6IHVwQ291bnQsIGRvd25Db3VudDogZG93bkNvdW50IH0pO1xuICAgIGNvbnN0IHRvb2x0aXAgPSBfcygnVGhpcyAkcG9zdFR5cGUkIGhhcyByZWNlaXZlZCAjdXBDb3VudCMgdXB2b3RlcyBhbmQgI2Rvd25Db3VudCMgZG93bnZvdGVzLicsIHsgdXBDb3VudDogdXBDb3VudCwgZG93bkNvdW50OiBkb3duQ291bnQsIHBvc3RUeXBlOiBnZXRMb2NhbGl6ZWRQb3N0VHlwZSgkc2NvcmUpIH0pO1xuXG4gICAgJHNjb3JlXG4gICAgICAgIC5odG1sKGh0bWwpXG4gICAgICAgIC5kYXRhKCd2YWx1ZScsIE1hdGguYWJzKCtqc29uLnVwKSAtIE1hdGguYWJzKCtqc29uLmRvd24pKVxuICAgICAgICAub2ZmKCdrZXlwcmVzcyBjbGljaycpXG4gICAgICAgIC5kYXRhKCdib3VuZCcsIGZhbHNlKVxuICAgICAgICAuZGF0YSgnaGFkLXNwbGl0JywgdHJ1ZSlcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjLXBvaW50ZXInKVxuICAgICAgICAucmVtb3ZlQXR0cigncm9sZScpXG4gICAgICAgIC5hdHRyKCdhcmlhLWxhYmVsJywgbGFiZWwpO1xuXG4gICAgc2V0VG9vbHRpcFRleHQoJHNjb3JlLCB0b29sdGlwLCB2b3RlQ29udGFpbmVyVG9vbHRpcE9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBiaW5kTG9nZ2VkSW4odm90ZXNDYXN0PzogQ2FzdFZvdGVbXSkge1xuXG4gICAgdm90ZV9pbml0KHZvdGVzQ2FzdCk7XG5cbiAgICBnZXRQcm90ZWN0TGlua3MoKS51bmJpbmQoXCJjbGlja1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCIvcXVlc3Rpb24vcHJvdGVjdFwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdpZCc6ICQodGhpcykuY2xvc2VzdCgnLmpzLXBvc3QtbWVudScpLmF0dHIoJ2RhdGEtcG9zdC1pZCcpLFxuICAgICAgICAgICAgICAgICdma2V5Jzogb3B0aW9ucy51c2VyLmZrZXlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7IGxvY2F0aW9uLnJlbG9hZCgpOyB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZ2V0VW5wcm90ZWN0TGlua3MoKS51bmJpbmQoXCJjbGlja1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCIvcXVlc3Rpb24vdW5wcm90ZWN0XCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ2lkJzogJCh0aGlzKS5jbG9zZXN0KCcuanMtcG9zdC1tZW51JykuYXR0cignZGF0YS1wb3N0LWlkJyksXG4gICAgICAgICAgICAgICAgJ2ZrZXknOiBvcHRpb25zLnVzZXIuZmtleVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgbG9jYXRpb24ucmVsb2FkKCk7IH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpbml0Vm90ZVRvQ2xvc2VBbmRGbGFnKCk7XG5cbiAgICBib29rbWFya19pbml0KCk7XG4gICAgcmVhY3Rpb25faW5pdCgpO1xuICAgIGZvbGxvd19pbml0KCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbih7XG4gICAgICAgIC8vIERvbid0IHNob3cgdG9vbHRpcHMgaW4gYSB2b3RpbmcgY29udGFpbmVyIGlmIGl0IGNvbnRhaW5zIGFuIGFjdGl2ZSBwb3BvdmVyLlxuICAgICAgICAncy10b29sdGlwOnNob3cnOiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXMoJy5zLXBvcG92ZXIuaXMtdmlzaWJsZTpub3QoLnMtcG9wb3Zlcl9fdG9vbHRpcCknKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBNYWtlIGFsbCB2b3RpbmcgdG9vbHRpcHMgd214MlxuICAgICAgICAncy10b29sdGlwOnNob3duJzogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgY29uc3QgcG9wb3ZlcklkID0gJChldnQudGFyZ2V0KS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICAgICAgICAkKCcjJyArIHBvcG92ZXJJZCkuYWRkQ2xhc3MoJ3dteDInKTtcbiAgICAgICAgfVxuICAgIH0sICcuanMtdm90aW5nLWNvbnRhaW5lcicpO1xufVxuXG5sZXQgcmVhY3Rpb25faW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZWFjdGlvbl9pbml0ID0gZnVuY3Rpb24gKCkgeyB9O1xuXG4gICAgbGV0IHRlbXBsYXRlTG9hZGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGxvYWRUZW1wbGF0ZSgpIHtcblxuICAgICAgICBpZiAoIXRlbXBsYXRlTG9hZGVyKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUxvYWRlciA9XG4gICAgICAgICAgICAgICAgJC5hamF4KCcvcG9zdHMvcG9wb3Zlci9yZWFjdGlvbnMnLCB7IGRhdGFUeXBlOiAndGV4dCcgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVMb2FkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0dlbmVyaWNFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGVtcGxhdGVMb2FkZXI7XG4gICAgfVxuXG4gICAgU3RhY2tzLmFkZENvbnRyb2xsZXIoJ3JlYWN0aW9ucycsIHtcbiAgICAgICAgdGFyZ2V0czogWydidXR0b24nLCAndG9nZ2xlJywgJ2NvdW50JywgJ29uYm9hcmRpbmcnLCAnbGlzdCddLFxuXG4gICAgICAgIGNvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc09uYm9hcmRpbmdUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVN0YWNrc1BvcG92ZXIoJCh0aGlzLm9uYm9hcmRpbmdUYXJnZXQpLCA2MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlzbWlzc09uYm9hcmRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNPbmJvYXJkaW5nVGFyZ2V0KSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdG9nZ2xlU3RhY2tzUG9wb3ZlcigkKHRoaXMub25ib2FyZGluZ1RhcmdldCksIGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbmJvYXJkaW5nRGlzbWlzc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzT25ib2FyZGluZ1RhcmdldCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgdG9nZ2xlVXNlckZsYWdzKFVzZXJGbGFncy5EaXNtaXNzUG9zdFJlYWN0aW9uSW50cm9Qb3BvdmVyLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBmaXhlcyBhIGJ1ZyB3aGVyZSB0aGUgcmVhY3Rpb24gcG9wb3ZlciBlbGVtZW50IHdvdWxkIGJlIHRvbyBuYXJyb3cgd2hlbiBvbmJvYXJkaW5nIHdhcyBwcmVzZW50IG9uIHRoZSBwYWdlLlxuICAgICAgICAgICAgJCh0aGlzLm9uYm9hcmRpbmdUYXJnZXQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCdwcy1yZWxhdGl2ZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyeVRvZ2dsZTogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgLy8gVGhpcyByZXBsaWNhdGVzIGxvZ2ljIGZyb20gdW5hZG9ybmVkQnV0dG9uQ2xpY2suIFdlIGRvbid0IHdhbnQgdGhlIHZvdGluZyBidXR0b25zIHRvIGdldCBmb2N1c2VkIG9uIG1vdXNlIGNsaWNrIGJ1dCB3ZVxuICAgICAgICAgICAgLy8gZG9uJ3Qgd2FudCB0aGVtIHRvIGxvc2UgdGhlaXIgZm9jdXMgb24ga2V5Ym9hcmQgY2xpY2suXG4gICAgICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdrZXlwcmVzcycgJiYgKGV2dC5rZXlDb2RlID09PSBLRVlfQ09ERS5TUEFDRSB8fCBldnQua2V5Q29kZSA9PT0gS0VZX0NPREUuRU5URVIpKSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUoZXZ0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICBldnQuY3VycmVudFRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGUoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIChldnQpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyeVN0YXJ0V29yaygpKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxlciBzdXBwb3J0cyBtdWx0aXBsZSB2b3RlIHR5cGUgaWRzLCBnZXQgaXQgZnJvbSB0aGUgYnV0dG9uLiAgT3RoZXJ3aXNlLCB1c2UgdGhhbmsgeW91LlxuICAgICAgICAgICAgY29uc3QgJHRhcmdldCA9ICQoZXZ0LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgY29uc3Qgdm90ZVR5cGVJZCA9IHRoaXMuYWxsb3dzTXVsdGlwbGUgPyArJHRhcmdldC5hdHRyKCdkYXRhLXZvdGUtaWQnKSA6IFZvdGVUeXBlSWQudGhhbmtZb3U7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZGluZyA9IHRoaXMudG9nZ2xlVm90ZVR5cGVJZCh2b3RlVHlwZUlkKTtcblxuICAgICAgICAgICAgc3VibWl0KHtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0OiAkdGFyZ2V0LFxuICAgICAgICAgICAgICAgIHBvc3RJZDogdGhpcy5wb3N0SWQsXG4gICAgICAgICAgICAgICAgdm90ZVR5cGVJZDogdm90ZVR5cGVJZCxcbiAgICAgICAgICAgICAgICB1bmRvOiAhYWRkaW5nLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRoaXMuaGFuZGxlVm90ZVJlc3BvbnNlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgZXJyb3I6IHRoaXMuYWJvcnRXb3JrLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHRoaXMuY29tcGxldGVXb3JrLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWRQb3BvdmVyOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGlkID0gJ3JlYWN0aW9ucy1wb3BvdmVyLScgKyB0aGlzLnBvc3RJZDtcbiAgICAgICAgICAgIGNvbnN0ICRidXR0b24gPSB0aGlzLiRidG47XG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHBvcG92ZXJQbGFjZW1lbnQgPSB0aGlzLmlzRm9vdGVyID8gJ3RvcC1zdGFydCcgOiAncmlnaHQnO1xuXG4gICAgICAgICAgICBsb2FkVGVtcGxhdGUoKS5kb25lKGZ1bmN0aW9uIChodG1sKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHVzZXIgd2lsbCB0cnkgbG9hZGluZyB0aGUgcG9wb3ZlciBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgICAgICAvLyBSZWplY3QgaWYgd2UndmUgaGFuZGxlZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgaWYgKCQoJyMnICsgaWQpLmxlbmd0aCA+IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICAkKGh0bWwpLmF0dHIoJ2lkJywgaWQpLmluc2VydEFmdGVyKCRidXR0b24pO1xuICAgICAgICAgICAgICAgICRidXR0b24uYXR0cih7XG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWNvbnRyb2xzJzogaWQsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLWNvbnRyb2xsZXInOiAncy1wb3BvdmVyICcgKyAkYnV0dG9uLmF0dHIoJ2RhdGEtY29udHJvbGxlcicpLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YS1hY3Rpb24nOiAncy1wb3BvdmVyI3RvZ2dsZSAnICsgJGJ1dHRvbi5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YS1zLXBvcG92ZXItcGxhY2VtZW50JzogcG9wb3ZlclBsYWNlbWVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIudXBkYXRlVUkoKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVTdGFja3NQb3BvdmVyKCRidXR0b24sIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvd1ZvdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkLmFqYXgoYC9wb3N0cy9tb2RhbC9yZWFjdGlvbnMvJHt0aGlzLnBvc3RJZH1gKVxuICAgICAgICAgICAgICAgIC50aGVuKHRoaXMuX3Nob3dWb3Rlcy5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIC5mYWlsKHNob3dHZW5lcmljRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfc2hvd1ZvdGVzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHNob3dJbmZvTWVzc2FnZShkYXRhLk1lc3NhZ2UsIHsgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5Nb2RhbEh0bWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkbW9kYWwgPSBzaG93TW9kYWwoJChkYXRhLk1vZGFsSHRtbCkuZWxlbWVudE5vZGVzT25seSgpLCB7IHJldHVybkVsZW1lbnRzOiAkKHRoaXMuY291bnRUYXJnZXQpIH0pO1xuICAgICAgICAgICAgICAgIGdwcy5iaW5kVHJhY2tDbGlja3MoJG1vZGFsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLnN0YXRlRnJvbURhdGEoZGF0YSk7XG4gICAgICAgICAgICBpZiAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0ICRlbCgpIHsgcmV0dXJuICQodGhpcy5lbGVtZW50KTsgfSxcbiAgICAgICAgZ2V0ICRidG4oKSB7IHJldHVybiAkKHRoaXMuYnV0dG9uVGFyZ2V0KTsgfSxcbiAgICAgICAgZ2V0IHBvc3RJZCgpIHsgcmV0dXJuICtnZXRQb3N0SWQodGhpcy4kZWwpOyB9LFxuICAgICAgICAvLyBJbmZlciB0aGUgYmVoYXZpb3IgZnJvbSB0aGUgYnV0dG9uJ3MgcHJvcGVydGllcy5cbiAgICAgICAgZ2V0IGFsbG93c011bHRpcGxlKCkgeyByZXR1cm4gdGhpcy4kYnRuLmF0dHIoJ2FyaWEtaGFzcG9wdXAnKSA9PT0gJ3RydWUnOyB9LFxuICAgICAgICBnZXQgaXNGb290ZXIoKSB7IHJldHVybiB0aGlzLiRidG4uaGFzQ2xhc3MoJ2pzLXJlYWN0aW9ucy1mb290ZXItYnV0dG9uJyk7IH0sXG5cbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgY29uc3Qgdm90ZXNDYXN0ID0gSlNPTi5wYXJzZSh0aGlzLiRlbC5hdHRyKCdkYXRhLXZvdGVzLWNhc3QnKSB8fCAnW10nKTtcbiAgICAgICAgICAgIGNvbnN0IHZvdGVDb3VudHMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMubGlzdFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2b3RlQ291bnRzWytlbC5kYXRhc2V0LnZvdGVJZF0gPSArZWwuZGF0YXNldC52b3RlQ291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh2b3Rlc0Nhc3QpIHsgdm90ZXNDYXN0LnNvcnQoKTsgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2b3Rlc0Nhc3Q6IHZvdGVzQ2FzdCxcbiAgICAgICAgICAgICAgICBjb3VudDogK3RoaXMuJGVsLmF0dHIoJ2RhdGEtY291bnQnKSxcbiAgICAgICAgICAgICAgICB2b3RlQ291bnRzOiB2b3RlQ291bnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldCBzdGF0ZSh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoe1xuICAgICAgICAgICAgICAgICdkYXRhLXZvdGVzLWNhc3QnOiBKU09OLnN0cmluZ2lmeSh2YWwudm90ZXNDYXN0KSxcbiAgICAgICAgICAgICAgICAnZGF0YS1jb3VudCc6IHZhbC5jb3VudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxpc3RUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm90ZUNvdW50cyA9IHZhbC52b3RlQ291bnRzWytlbC5kYXRhc2V0LnZvdGVJZF0gfHwgMDtcbiAgICAgICAgICAgICAgICAkKGVsKS5hdHRyKCdkYXRhLXZvdGUtY291bnQnLCB2b3RlQ291bnRzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJ5U3RhcnRXb3JrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JrRGF0YSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHRoaXMud29ya0RhdGEgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWJvcnRXb3JrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMud29ya0RhdGEpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy53b3JrRGF0YTtcbiAgICAgICAgICAgIHRoaXMud29ya0RhdGEgPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbXBsZXRlV29yazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy53b3JrRGF0YSA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlVm90ZVR5cGVJZDogZnVuY3Rpb24gKHZvdGVUeXBlSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGxldCByZW1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoKGluZGV4ID0gc3RhdGUudm90ZXNDYXN0LmluZGV4T2Yodm90ZVR5cGVJZCkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZvdGVzQ2FzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNwZWNpZmljVm90ZUNvdW50ID0gc3RhdGUudm90ZUNvdW50c1t2b3RlVHlwZUlkXSB8fCAwO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jb3VudC0tO1xuICAgICAgICAgICAgICAgIHNwZWNpZmljVm90ZUNvdW50ID0gTWF0aC5tYXgoMCwgc3BlY2lmaWNWb3RlQ291bnQgLSAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudm90ZXNDYXN0LnB1c2godm90ZVR5cGVJZCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuY291bnQrKztcbiAgICAgICAgICAgICAgICBzcGVjaWZpY1ZvdGVDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudm90ZUNvdW50c1t2b3RlVHlwZUlkXSA9IHNwZWNpZmljVm90ZUNvdW50O1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuICFyZW1vdmVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0YXRlRnJvbURhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBjb3VudDogZGF0YS5OZXdTY29yZSxcbiAgICAgICAgICAgICAgICB2b3Rlc0Nhc3Q6IGRhdGEuU2VsZWN0ZWRWb3RlVHlwZUlkcyxcbiAgICAgICAgICAgICAgICB2b3RlQ291bnRzOiBkYXRhLlZvdGVDb3VudHNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIG5ld1N0YXRlLmNvdW50ID09PSAnbnVtYmVyJyAmJiBBcnJheS5pc0FycmF5KG5ld1N0YXRlLnZvdGVzQ2FzdCkpID8gbmV3U3RhdGUgOiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhbmRsZVZvdGVSZXNwb25zZTogZnVuY3Rpb24gKCR0YXJnZXQ6IEpRdWVyeSwgcG9zdElkOiBudW1iZXIsIGRhdGE6IFZvdGVSZXN1bHQpIHtcblxuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGRhdGEuU3VjY2VzcztcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLk1lc3NhZ2U7XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHRoaXMuc3RhdGVGcm9tRGF0YShkYXRhKTtcblxuICAgICAgICAgICAgaWYgKG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2Uga25vdyB0aGUgbmV3IHNjb3JlIGFuZCB0aGUgc2VsZWN0ZWQgdm90ZSB0eXBlcywgdXBkYXRlIHRoZSBVSSB0byBtYXRjaFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmYWlsZWQgYW5kIHdlIGRvbid0IGtub3cgdGhlIG5ldyBzY29yZSwgcmV2ZXJ0IGJhY2sgdG8gdGhlIG9sZCBzdGF0ZS5cbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0V29yaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBhc3N1bWUgdGhlIHNjb3JlIHdlIHJlbmRlcmVkIHdhcyBjb3JyZWN0IGVub3VnaC5cblxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgJiYgdGhpcy5hbGxvd3NNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZVN0YWNrc1BvcG92ZXIodGhpcy4kYnRuLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0luZm9NZXNzYWdlKG1lc3NhZ2UsIHsgdHJhbnNpZW50OiBkYXRhLlRyYW5zaWVudCwgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBzaG93SW5mb01lc3NhZ2UobWVzc2FnZSwgeyB0cmFuc2llbnQ6IHRydWUsIHVzZVJhd0h0bWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShtZXNzYWdlLCB7IHRyYW5zaWVudDogdHJ1ZSwgdXNlUmF3SHRtbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlVUk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gc3RhdGUuY291bnQ7XG4gICAgICAgICAgICBjb25zdCB2b3Rlc0Nhc3QgPSBzdGF0ZS52b3Rlc0Nhc3Q7XG4gICAgICAgICAgICBjb25zdCBoYXNWb3RlZCA9IHZvdGVzQ2FzdC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgY29uc3QgaGF2ZU90aGVyc1ZvdGVkID0gY291bnQgPiB2b3Rlc0Nhc3QubGVuZ3RoO1xuXG4gICAgICAgICAgICBsZXQgJGNvdW50OiBKUXVlcnk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNGb290ZXIpIHtcblxuICAgICAgICAgICAgICAgICRjb3VudCA9ICQodGhpcy5jb3VudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgY2xhc3NlcyBhcmUgYWxzbyBhcHBsaWVkIGluIFJlYWN0aW9ucy5jc2h0bWwgYW5kIG5lZWQgdG8gYmUgdXBkYXRlZCBpbiBib3RoIGxvY2F0aW9ucy5cbiAgICAgICAgICAgICAgICAkY291bnRcbiAgICAgICAgICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKCdkLW5vbmUnLCBjb3VudCA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2ZjLXllbGxvdy01MDAnLCBoYXNWb3RlZClcbiAgICAgICAgICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKCdmYy1ibGFjay0zMDAnLCAhaGFzVm90ZWQpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGNvdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kYnRuXG4gICAgICAgICAgICAgICAgLmZpbmQoJ3N2ZycpLnRvZ2dsZUNsYXNzKCduYXRpdmUnLCAhdGhpcy5pc0Zvb3RlciAmJiBoYXNWb3RlZCk7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkYnV0dG9uID0gJChidXR0b24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZvdGVUeXBlSWQgPSArJGJ1dHRvbi5hdHRyKCdkYXRhLXZvdGUtaWQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHZvdGVzQ2FzdC5pbmRleE9mKHZvdGVUeXBlSWQpICE9PSAtMTtcblxuICAgICAgICAgICAgICAgICRidXR0b25cbiAgICAgICAgICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKCdpcy1zZWxlY3RlZCBkOmJnLXdoaXRlIGJjLWJsYWNrLTIyNScsIHNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1wcmVzc2VkJywgc2VsZWN0ZWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGb290ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbi5maW5kKCdzdmcnKS50b2dnbGVDbGFzcygnbmF0aXZlJywgc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICBjb25zdCBwb3N0VHlwZSA9IGdldExvY2FsaXplZFBvc3RUeXBlKHRoaXMuJGJ0bik7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd3NNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBIdG1sKHRoaXMuJGJ0biwgaGFzVm90ZWRcbiAgICAgICAgICAgICAgICAgICAgPyBfbSgnWW91IHJlYWN0ZWQgKip0aGFua3MqKiAoY2xpY2sgdG8gdW5kbykuJylcbiAgICAgICAgICAgICAgICAgICAgOiBfbSgnU2F5ICoqdGhhbmtzKiogZm9yIHRoaXMgJHBvc3RUeXBlJC4nLCB7IHBvc3RUeXBlOiBwb3N0VHlwZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgdm90ZUNvbnRhaW5lclRvb2x0aXBPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGlmICgkY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcEh0bWwoJGNvdW50LCBoYXNWb3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBoYXZlT3RoZXJzVm90ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9tKCdZb3UgYW5kICNfX2NvdW50IyBvdGhlcnMgcmVhY3RlZCB3aXRoICoqdGhhbmtzKiouJywgeyBfX2NvdW50OiBjb3VudCAtIDEgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9tKCdZb3UgcmVhY3RlZCB3aXRoICoqdGhhbmtzKiouJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogX20oJyNfX2NvdW50IyBvdGhlcnMgcmVhY3RlZCB3aXRoICoqdGhhbmtzKiouJywgeyBfX2NvdW50OiBjb3VudCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVDb250YWluZXJUb29sdGlwT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcFRleHQodGhpcy4kYnRuLCBfcygnQ2xpY2sgdG8gYWRkIGEgcmVhY3Rpb24nKSwgcmVhY3Rpb25Db250YWluZXJUb29sdGlwT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGlzdFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2b3RlVHlwZUlkID0gKyRidXR0b24uYXR0cignZGF0YS12b3RlLWlkJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhY3Rpb25Db3VudCA9ICskYnV0dG9uLmF0dHIoJ2RhdGEtdm90ZS1jb3VudCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWN0aW9uTmFtZSA9ICRidXR0b24uYXR0cignZGF0YS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB2b3Rlc0Nhc3QuaW5kZXhPZih2b3RlVHlwZUlkKSAhPT0gLTE7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzT3RoZXJWb3RlcnMgPSByZWFjdGlvbkNvdW50ID4gKHNlbGVjdGVkID8gMSA6IDApO1xuXG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5maW5kKCcuanMtcmVhY3Rpb24tY291bnQnKS50ZXh0KHJlYWN0aW9uQ291bnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcChidXR0b24pO1xuXG4gICAgICAgICAgICAgICAgJGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2JnLWJsYWNrLTE1MCBkOmJnLXdoaXRlIGJjLWJsYWNrLTIyNScsIHNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2JnLXdoaXRlIGQ6YmctYmxhY2stMTAwJywgIXNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScsICFzZWxlY3RlZCAmJiAhaGFzT3RoZXJWb3RlcnMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLXByZXNzZWQnOiBzZWxlY3RlZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBfcygnJHJlYWN0aW9uTmFtZSQgKCNyZWFjdGlvbkNvdW50IyB0aW1lcyknLCB7IHJlYWN0aW9uTmFtZTogcmVhY3Rpb25OYW1lLCByZWFjdGlvbkNvdW50OiByZWFjdGlvbkNvdW50IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtY29udHJvbGxlcic6ICdzLXRvb2x0aXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtYWN0aW9uJzogJ3JlYWN0aW9ucyN0b2dnbGUgcy10b29sdGlwOnNob3ctPnJlYWN0aW9ucyNsb2FkQW5kVXBkYXRlVG9vbHRpcCdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgLy8gdXBvbiBkZXBsb3kgb2YgbmV3IGZvb3RlciBVSSwgaWYgdGhlcmUgYXJlIHJlYWN0aW9ucyBsZWZ0b3ZlciBmcm9tIGJlZm9yZSwgdGhlbiB0aGUgJ2FkZCBhIHJlYWN0aW9uJyBwcm9tcHQgd29uJ3Qgc2hvdztcbiAgICAgICAgICAgIC8vIHRoaXMgZml4ZXMgdGhpcyBieSBzdW1taW5nIHRoZSBuZXcgcmVhY3Rpb25zIGFuZCBjaGVja2luZyB0aGF0IGJlZm9yZSBzaG93L2hpZGluZyB0aGUgcHJvbXB0XG4gICAgICAgICAgICBjb25zdCBoYXNSZWFjdGlvbnMgPSArdGhpcy4kZWwuYXR0cignZGF0YS1jb3VudCcpID4gMDtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy1hZGQtcmVhY3Rpb24tbGFiZWwnKS50b2dnbGVDbGFzcygnZC1ub25lJywgaGFzUmVhY3Rpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICBsb2FkQW5kVXBkYXRlVG9vbHRpcDogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICBjb25zdCB2b3RlVHlwZUlkID0gKyQoYnV0dG9uKS5hdHRyKCdkYXRhLXZvdGUtaWQnKTtcbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVUb29sdGlwKGJ1dHRvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICAkLmFqYXgoYC9wb3N0cy90b29sdGlwL3JlYWN0aW9ucy8ke2dldFBvc3RJZCgkKGJ1dHRvbikpfS8ke3ZvdGVUeXBlSWR9YClcbiAgICAgICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoYnV0dG9uKS5kYXRhKCd0b29sdGlwLXBheWxvYWQnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlVG9vbHRpcChidXR0b24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVUb29sdGlwOiBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgICAgICBjb25zdCB2b3Rlc0Nhc3QgPSB0aGlzLnN0YXRlLnZvdGVzQ2FzdDtcbiAgICAgICAgICAgIGNvbnN0ICRidXR0b24gPSAkKGJ1dHRvbik7XG5cbiAgICAgICAgICAgIGNvbnN0IHZvdGVUeXBlSWQgPSArJGJ1dHRvbi5hdHRyKCdkYXRhLXZvdGUtaWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdm90ZXNDYXN0LmluZGV4T2Yodm90ZVR5cGVJZCkgIT09IC0xO1xuICAgICAgICAgICAgY29uc3QgcmVhY3Rpb25Db3VudCA9ICskYnV0dG9uLmF0dHIoJ2RhdGEtdm90ZS1jb3VudCcpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgJiYgcmVhY3Rpb25Db3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBIdG1sKCRidXR0b24sICc8ZGl2IGNsYXNzPVwidGEtbGVmdCBmcy1jYXB0aW9uIHcxMjggcy10b29sdGlwXCI+PHAgY2xhc3M9XCJmcy1ib2R5MSBtYjZcIj4nXG4gICAgICAgICAgICAgICAgICAgICsgX20oXCJSZWFjdGVkIHdpdGggKiokcmVhY3Rpb24kKipcIiwgeyByZWFjdGlvbjogJChidXR0b24pLmF0dHIoJ2RhdGEtbmFtZScpIH0pXG4gICAgICAgICAgICAgICAgICAgICsgJzwvcD48c3BhbiBjbGFzcz1cImZzLWNhcHRpb24gcHkyIG0wXCI+JyArIF9zKCdZb3UnKSArICc8L3NwYW4+PC9kaXY+JywgcmVhY3Rpb25Db250YWluZXJUb29sdGlwT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gJGJ1dHRvbi5kYXRhKCd0b29sdGlwLXBheWxvYWQnKTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkICYmIHBheWxvYWQuVm90ZXJVc2Vycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZvdGVyVXNlcnMgPSBwYXlsb2FkLlZvdGVyVXNlcnM7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm90ZXJVc2Vyc0h0bWwgPSB2b3RlclVzZXJzLm1hcChmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxwIGNsYXNzPVwiZnMtY2FwdGlvbiBweTIgbTBcIj4nICsgJCgnPGRpdi8+JykudGV4dCh1c2VyKS5odG1sKCkgKyAnPC9wPidcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sU3RhcnRCb2R5ID0gJzxkaXYgY2xhc3M9XCJ0YS1sZWZ0IGZzLWNhcHRpb24gdzEyOCBzLXRvb2x0aXBcIj48cCBjbGFzcz1cImZzLWJvZHkxIG1iNlwiPicgKyBfbShcIlJlYWN0ZWQgd2l0aCAqKiRyZWFjdGlvbiQqKlwiLCB7IHJlYWN0aW9uOiAkKGJ1dHRvbikuYXR0cignZGF0YS1uYW1lJykgfSlcbiAgICAgICAgICAgICAgICAgICAgKyAnPC9wPicgKyB2b3RlclVzZXJzSHRtbDtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sU2VsZlZvdGVyID0gc2VsZWN0ZWQgPyAnPHAgY2xhc3M9XCJmcy1jYXB0aW9uIHB5MiBtMFwiPicgKyBfcygnWW91JykgKyAnPC9wPicgOiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJMZWZ0b3ZlciA9IHJlYWN0aW9uQ291bnQgLSAoc2VsZWN0ZWQgPyB2b3RlclVzZXJzLmxlbmd0aCArIDEgOiB2b3RlclVzZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdG92ZXJUZXh0ID0gXCIrIFwiICsgbnVtYmVyTGVmdG92ZXIgKyAnICcgKyBfcygnbW9yZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxMZWZ0b3ZlciA9IG51bWJlckxlZnRvdmVyID4gMCA/ICc8cCBjbGFzcz1cImZzLWNhcHRpb24gZnctYm9sZCBwdDIgbTBcIj4nICsgbGVmdG92ZXJUZXh0ICsgJzwvcD4nIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbEVuZFRhZyA9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb21iaW5lZCA9IGh0bWxTdGFydEJvZHkgKyBodG1sU2VsZlZvdGVyICsgaHRtbExlZnRvdmVyICsgaHRtbEVuZFRhZztcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwSHRtbCgkYnV0dG9uLCBodG1sQ29tYmluZWQsIHJlYWN0aW9uQ29udGFpbmVyVG9vbHRpcE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRvb2x0aXBUZXh0KCRidXR0b24sIF9zKFwiTG9hZGluZy4uLlwiKSwgcmVhY3Rpb25Db250YWluZXJUb29sdGlwT3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBJY29uQXJyb3dSaWdodEFsdFNtIH0gZnJvbSBcIkBzdGFja292ZXJmbG93L3N0YWNrcy1pY29ucy9pY29uc1wiO1xuaW1wb3J0IHsgc2hvd0NvbmZpcm1Nb2RhbCB9IGZyb20gXCIuLi8uLi9QYXJ0aWFsSlMvZnVsbC1jb21tb24vOTlfaGVscGVycy5tb2RcIjtcbmltcG9ydCB7IGNsb3NlUG9wdXBzLCBsb2FkTW9kYWwsIHJlbW92ZVNwaW5uZXIsIHNob3dUb2FzdCwgc3BsaXRPbkxhc3QgfSBmcm9tIFwiLi4vLi4vU2hhcmVkL2hlbHBlcnMubW9kXCJcbmltcG9ydCBvcHRpb25zIGZyb20gXCIuLi8uLi9TaGFyZWQvb3B0aW9ucy5tb2RcIlxuaW1wb3J0IHNldHRpbmdzIGZyb20gXCIuLi8uLi9TaGFyZWQvc2V0dGluZ3MubW9kXCJcbmltcG9ydCB7IGNyZWF0ZVN2Z0VsZW1lbnQgfSBmcm9tIFwiLi4vLi4vU2hhcmVkL3N2Zy11dGlscy5tb2RcIjtcbmltcG9ydCBzdHlsZUNvZGUgZnJvbSBcIi4uL2Z1bGwtY29tbW9uLzA1X1N0eWxlQ29kZS5tb2RcIjtcbmltcG9ydCB7IGxvYWRBbGwgfSBmcm9tIFwiLi4vZnVsbC1jb21tb24vMTJfQ29tbWVudHMubW9kXCJcblxuXG52YXIgU0lURV9TUEVDSUZJQ19PVEhFUl9JRCA9IDM7XG52YXIgREFUQV9MT0FERURfVElNRVNUQU1QID0gJ2xvYWRlZC10aW1lc3RhbXAnO1xuXG5cbnZhciBfb3B0aW9uczogU3RhY2tFeGNoYW5nZVZvdGVDbG9zaW5nQW5kRmxhZ2dpbmdPcHRpb25zO1xudmFyIGNsb3NlX292ZXJyaWRlOiAoZmxhZ1BvcHVwOiBKUXVlcnksIHNlbGY6IEpRdWVyeSkgPT4gdm9pZDsgLy8gaWYgc2V0LCBjbGlja3Mgb24gXCJpdCBkb2Vzbid0IGJlbG9uZyBoZXJlXCIgd2lsbCBiZSBmb3J3YXJkZWQgdG8gaXQgaW5zdGVhZCBvZiBmbGFnX3Nob3dDbG9zZURpYWxvZzsgdXNlZCBpbiBtb2JpbGVcblxudmFyIF9wb3N0SWQ6IHN0cmluZyxcbiAgICBfcG9zdE1lbnVMaW5rOiBKUXVlcnksIC8vIGNvdWxkIGJlIGNsb3NlIG9yIGZsYWcsIGRlcGVuZGluZyBvbiB3aGljaCB3YXMgY2xpY2tlZFxuICAgIF9jbG9zZVBvcHVwOiBKUXVlcnksXG4gICAgX2ZsYWdQb3B1cDogSlF1ZXJ5LFxuICAgIF9sYXN0U3VibWl0dGVkT3RoZXJUZXh0OiBzdHJpbmc7XG5cbmZ1bmN0aW9uIHJlc2V0UHJpdmF0ZUZpZWxkcygpIHtcbiAgICBfcG9zdElkID0gX3Bvc3RNZW51TGluayA9IF9jbG9zZVBvcHVwID0gX2ZsYWdQb3B1cCA9IF9sYXN0U3VibWl0dGVkT3RoZXJUZXh0ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKSB7XG4gICAgaWYgKF9mbGFnUG9wdXApIHsgY2xvc2VQb3B1cHMoX2ZsYWdQb3B1cCk7IH1cbiAgICBpZiAoX2Nsb3NlUG9wdXApIHsgY2xvc2VQb3B1cHMoX2Nsb3NlUG9wdXApOyB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNsb3NlT3JSZW9wZW4oYnlwYXNzUmVvcGVuQ29uZmlybWF0aW9uOiBib29sZWFuKTogdm9pZCB7XG4gICAgdmFyIGlzQ2xvc2VkID0gX3Bvc3RNZW51TGluay5kYXRhKCdpcy1jbG9zZWQnKTtcbiAgICBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgcmVvcGVuX2NsaWNrKF9wb3N0TWVudUxpbmsuZGF0YSgnaGFzLWFjdGl2ZS12b3RlJyksIGJ5cGFzc1Jlb3BlbkNvbmZpcm1hdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbG9zZV9sb2FkUG9wdXAodHJ1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZSgkY2xpY2tlZDogSlF1ZXJ5LCBieXBhc3NSZW9wZW5Db25maXJtYXRpb246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBzdGFydCBhIG5ldyBjbG9zZSBjbGljayBhbGwgZnJlc2ggYW5kIGNsZWFuXG4gICAgY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKTtcbiAgICByZXNldFByaXZhdGVGaWVsZHMoKTtcblxuICAgIC8vIFRoZSBjbG9zZSBidXR0b24gY2FuIGxpdmUgb3V0c2lkZSBvZiBhIHBvc3QgbWVudSwgc28gY2hlY2sgaWYgaXQgaGFzIGEgcG9zdCBJRCBiZWZvcmUgY2hlY2tpbmcgdGhlIHBhcmVudCBwb3N0IG1lbnUuXG4gICAgX3Bvc3RJZCA9IGdldFBvc3RJZCgkY2xpY2tlZCk7XG4gICAgX3Bvc3RNZW51TGluayA9ICRjbGlja2VkO1xuXG4gICAgLy8gaWYgd2UgbmVlZCB0byBpbmplY3QgdGhlIGludGVyc3RpdGlhbCBtb2RhbCwgZG8gdGhpcyBub3cuIG5vdGUgdGhhdCBpdCdzIG5vdCBuZWVkZWQgaW4gdGhlIGZsYWcgcGF0aCwgc2luY2Ugd2Ugb25seSBzaG93IGl0IHRvIHBlb3BsZSB3aG8gY2FuIFZ0Q1xuICAgIHZhciBzaG93SW50ZXJzdGl0aWFsID0gX3Bvc3RNZW51TGluay5kYXRhKFwic2hvdy1pbnRlcnN0aXRpYWxcIikgPT09IHRydWU7XG4gICAgaWYgKHNob3dJbnRlcnN0aXRpYWwpIHtcbiAgICAgICAgbG9hZE1vZGFsKCcvcXVlc3Rpb25zL2Nsb3NlLXJlb3Blbi1leHBsYW5hdGlvbi1tb2RhbCcpXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoJG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgX3Bvc3RNZW51TGluay5kYXRhKCdzaG93LWludGVyc3RpdGlhbCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAkbW9kYWwub24oJ3BvcHVwQ2xvc2luZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2xvc2VPclJlb3BlbihieXBhc3NSZW9wZW5Db25maXJtYXRpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHNob3dUb2FzdChlcnJvciwgeyB0eXBlOiAnZGFuZ2VyJyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaGFuZGxlQ2xvc2VPclJlb3BlbihieXBhc3NSZW9wZW5Db25maXJtYXRpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dGYW5jeVJlb3BlbkNvbmZpcm1hdGlvbihjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIC8vIHdvcmthcm91bmQgc28gd2VicGFjayB3aWxsIHBhcnNlIG9wdGlvbnMgaW1wb3J0XG4gICAgdmFyIG9wdGlvbnNMb2NhbCA9IG9wdGlvbnNcbiAgICBzaG93Q29uZmlybU1vZGFsKHtcbiAgICAgICAgdGl0bGU6IF9zKCdOb21pbmF0ZSB0aGlzIHF1ZXN0aW9uIGZvciByZW9wZW5pbmc/JyksXG4gICAgICAgIGJvZHlIdG1sOiBfbShcIlZvdGUgdG8gcmVvcGVuIHF1ZXN0aW9ucyB0aGF0IGhhdmUgYmVlbiBpbXByb3ZlZCBvciBzaG91bGRuXFx1MjAxOXQgaGF2ZSBiZWVuIGNsb3NlZCBvbiAkc2l0ZU5hbWUkLiAkc3RhcnRMaW5rJExlYXJuIG1vcmUkZW5kTGluayQgYWJvdXQgcmVvcGVuaW5nIHF1ZXN0aW9ucy5cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzaXRlTmFtZTogb3B0aW9uc0xvY2FsLnNpdGUubmFtZSxcbiAgICAgICAgICAgICAgICBzdGFydExpbms6ICc8YSBocmVmPVwiL2hlbHAvcmVvcGVuLXF1ZXN0aW9uc1wiIHRhcmdldD1cIl9ibGFua1wiPicsXG4gICAgICAgICAgICAgICAgZW5kTGluazogJzwvYT4nXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgYnV0dG9uTGFiZWw6IF9zKFwiVm90ZSB0byByZW9wZW5cIilcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb25maXJtZWQpIHtcbiAgICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyB3aWxsIHJldHVybiB0aGUgYWpheCBkZWZlcnJlZCBvYmplY3QsIHNvIG1vcmUgLmRvbmUgaGFuZGxlcnMgY2FuIGJlIGFkZGVkXG5mdW5jdGlvbiBjbG9zZV9sb2FkUG9wdXAoZmFkZUluUG9wdXA6IGJvb2xlYW4pOiBKUXVlcnlQcm9taXNlPEpRdWVyeT4ge1xuXG4gICAgdmFyICRwb3B1cENvbnRhaW5lciA9IGdldFBvcHVwQ29udGFpbmVyKF9wb3N0TWVudUxpbmspO1xuXG4gICAgdmFyIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7XG4gICAgICAgIGxvYWRlZFRpbWVzdGFtcDogX3Bvc3RNZW51TGluay5kYXRhKERBVEFfTE9BREVEX1RJTUVTVEFNUClcbiAgICB9O1xuXG4gICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLnJldmlld1Rhc2tJZEdldHRlcilcbiAgICAgICAgZGF0YS5yZXZpZXdUYXNrSWQgPSBfb3B0aW9ucy5yZXZpZXdUYXNrSWRHZXR0ZXIoKTtcblxuICAgIHZhciByZXN1bHQgPSBfcG9zdE1lbnVMaW5rLmxvYWRQb3B1cCh7XG4gICAgICAgIHVybDogJy9mbGFncy9xdWVzdGlvbnMve3F1ZXN0aW9uSWR9L2Nsb3NlL3BvcHVwJy5mb3JtYXRVbmljb3JuKHsgcXVlc3Rpb25JZDogX3Bvc3RJZCB9KSxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZG9udFNob3c6IHRydWUsXG4gICAgICAgIHRhcmdldDogJHBvcHVwQ29udGFpbmVyXG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbiAoJHBvcHVwOiBKUXVlcnkpIHtcbiAgICAgICAgX2Nsb3NlUG9wdXAgPSAkcG9wdXA7XG4gICAgICAgIF9jbG9zZVBvcHVwLmFwcGVuZFRvKCRwb3B1cENvbnRhaW5lcik7XG5cbiAgICAgICAgY2xvc2VfaW5pdFBvcHVwKCk7XG5cbiAgICAgICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLmNsb3NlU2hvd1BvcHVwKSB7XG4gICAgICAgICAgICBfb3B0aW9ucy5jbG9zZVNob3dQb3B1cChfY2xvc2VQb3B1cCwgX3Bvc3RNZW51TGluayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmFkZUluUG9wdXApIHtcbiAgICAgICAgICAgIF9jbG9zZVBvcHVwLmNlbnRlcigpLmZhZGVJbignZmFzdCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjbG9zZV9pbml0UG9wdXAoKTogdm9pZCB7XG4gICAgLy8gcmVtb3ZlIHRoZSBwb3B1cHMgd2hlbiBjbGlja2luZyAoeCksIGBwb3B1cENsb3NlYCBpcyBndWFyYW50ZWVkIHRvIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIHBvcHVwLlxuICAgIF9jbG9zZVBvcHVwLm9uKCdwb3B1cENsb3NlJywgZnVuY3Rpb24gKCkgeyBjbG9zZUV4aXN0aW5nRGlhbG9ncygpOyB9KTtcblxuICAgIC8vIGEgc2VsZWN0ZWQgcmFkaW8gc2hvdWxkIGVuYWJsZSBzdWJtaXQgYW5kIGFkZCBhIGJvcmRlciBhcm91bmQgaXRzIHBhcmVudCA8bGk+OyBjb3VsZCBhbHNvIHNob3cgYSBzdWItcGFuZVxuICAgIF9jbG9zZVBvcHVwLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dJykuY2xvc2VzdCgnbGknKS5iaW5kKCdzaG93LWFjdGlvbicsIGZ1bmN0aW9uKCkgeyBjbG9zZV9vbkFueVJhZGlvQ2xpY2soJCh0aGlzKSk7IH0pO1xuXG4gICAgJCgnI2Nsb3NlLXF1ZXN0aW9uLWZvcm0nKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjbG9zZV9zdWJtaXRDbG9zZSgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHRoaXMgd2lsbCBiZSBhbiBhamF4IHN1Ym1pdFxuICAgIH0pO1xuXG4gICAgJCgnLmpzLXJldHJhY3QtY2xvc2Utdm90ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xvc2VfcmV0cmFjdENsb3NlVm90ZSgkKHRoaXMpKTtcbiAgICB9KTtcblxuICAgIC8vIGxpbmtzIGluIGRlc2NyaXB0aW9ucyBzaG91bGQgb3BlbiBpbiBhIG5ldyB0YWJcbiAgICAkKCcuYWN0aW9uLWxpc3QgYScpLmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcblxuICAgIGNsb3NlSW5pdER1cGxpY2F0ZVN1YlBhbmUoKTtcbiAgICBjbG9zZV9pbml0U2l0ZVNwZWNpZmljU3ViUGFuZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VJbml0RHVwbGljYXRlU3ViUGFuZSgpOiB2b2lkIHtcbiAgICB2YXIgc3ViUGFuZSA9ICQoJy5jbG9zZS1hcy1kdXBsaWNhdGUtcGFuZScpLFxuICAgICAgICB0eHQgPSBzdWJQYW5lLmZpbmQoJy5qcy1kdXBsaWNhdGUtc2VhcmNoLWZpZWxkJyk7XG5cbiAgICBzdWJQYW5lXG4gICAgICAgIC5vbignc2hvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHR4dC5mb2N1cygpO1xuICAgICAgICAgICAgJCgnI2Nsb3NlLXF1ZXN0aW9uLWZvcm0gLmpzLXBvcHVwLXN1Ym1pdCcpLmVuYWJsZSgkKCcjb3JpZ2luYWwtcXVlc3Rpb24taWQnKS52YWwoKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hZGRDbGFzcygnaGFuZGxlcy1zdWJtaXQtYnV0dG9uLWVuYWJsaW5nJyk7XG5cbiAgICB0eHQudHlwZVdhdGNoKHtcbiAgICAgICAgaGlnaGxpZ2h0OiBmYWxzZSxcbiAgICAgICAgd2FpdDogNzUwLFxuICAgICAgICBjYXB0dXJlTGVuZ3RoOiAtMSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsb3NlX3NlYXJjaEZvck9yaWdpbmFsKHR4dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gdG9kbzogbWFrZSBzaXRlLXNwZWNpZmljIGxpbmtzIG9wZW4gaW4gbmV3IHRhYlxuXG5mdW5jdGlvbiBjbG9zZV9pbml0U2l0ZVNwZWNpZmljU3ViUGFuZSgpOiB2b2lkIHtcbiAgICB2YXIgdHh0ID0gX2Nsb3NlUG9wdXAuZmluZCgnW25hbWU9c2l0ZVNwZWNpZmljT3RoZXJUZXh0XScpLFxuICAgICAgICBwYXJlbnQgPSB0eHQuY2xvc2VzdCgnbGknKSxcbiAgICAgICAgb3RoZXJSYWRpbyA9IHBhcmVudC5maW5kKCdbbmFtZT1zaXRlU3BlY2lmaWNDbG9zZVJlYXNvbklkXScpLFxuICAgICAgICBpbml0aWFsVmFsdWUgPSAkLnRyaW0odHh0LnZhbCgpKSxcbiAgICAgICAgZW5zdXJlTm90SW5pdGlhbFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICQudHJpbSh0eHQudmFsKCkpICE9PSBpbml0aWFsVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGlzVmFsaWQgPSBmdW5jdGlvbiAoaXNWYWxpZDogYm9vbGVhbikge1xuICAgICAgICAgICAgdmFyIGN1c3RvbVZhbGlkID0gaXNWYWxpZCAmJiBlbnN1cmVOb3RJbml0aWFsVmFsdWUoKTtcbiAgICAgICAgICAgIGlmICh0eHQuaXMoXCI6Zm9jdXNcIikpIHtcbiAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cC5maW5kKCcuanMtcG9wdXAtc3VibWl0JykuZW5hYmxlKGN1c3RvbVZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgIHR4dC5jaGFyQ291bnRlcih7XG4gICAgICAgIHRhcmdldDogcGFyZW50LmZpbmQoJy50ZXh0LWNvdW50ZXInKSxcbiAgICAgICAgbWluOiAzMCxcbiAgICAgICAgbWF4OiA1MDAsXG4gICAgICAgIHNldElzVmFsaWQ6IGlzVmFsaWRcbiAgICB9KTtcblxuICAgIG90aGVyUmFkaW8uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgLy8gVGltZW91dCBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgdGV4dCBmaWVsZCBpc24ndCBpbW1lZGlhdGVseSBmb2N1c2FibGUgaW4gcy1leHBhbmRhYmxlXG4gICAgICAgICAgICB0eHQuZm9jdXMoKTtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0eHQudmFsKCk7XG4gICAgICAgICAgICB0eHQudmFsKCcnKS52YWwodmFsKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyB0aGlzIGhhcHBlbnMgb24gbW9iaWxlIC0gZW5zdXJlIHRoYXQgdGhlIHJhZGlvIGlzIHNlbGVjdGVkIHdoZW4gZm9jdXNpbmcgdGhlIFwib3RoZXJcIiB0ZXh0YXJlYVxuICAgIHR4dC5mb2N1cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghb3RoZXJSYWRpby5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgb3RoZXJSYWRpby5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZV9vbkFueVJhZGlvQ2xpY2sobGk6IEpRdWVyeSk6IHZvaWQge1xuICAgIHZhciByYWRpbyA9IGxpLmZpbmQoJ2lucHV0OnJhZGlvJyk7XG5cbiAgICAvLyBkbyB3ZSBuZWVkIHRvIGRpc3BsYXkgYSBzdWItcGFuZSB0aGF0J3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBzZWxlY3RlZCByYWRpbyB2YWx1ZT9cbiAgICB2YXIgc3ViUGFuZSA9IF9jbG9zZVBvcHVwLmZpbmQoJy5wb3B1cC1zdWJwYW5lJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYmUgZXhwbGljaXQuLi4gc29tZSBkYXkgd2UnbGwgaGF2ZSB0byBsb2NhbGl6ZSBzdWJwYW5lIHRpdGxlcyA6KFxuICAgICAgICB2YXIgbmFtZSA9IHJhZGlvLmRhdGEoJ3N1YnBhbmUtbmFtZScpO1xuICAgICAgICByZXR1cm4gbmFtZSAmJiBuYW1lID09ICQodGhpcykuZGF0YSgnc3VicGFuZS1uYW1lJyk7XG4gICAgfSk7XG5cbiAgICB2YXIgc3VibWl0QnV0dG9uID0gX2Nsb3NlUG9wdXAuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpO1xuXG4gICAgaWYgKHN1YlBhbmUubGVuZ3RoKSB7XG4gICAgICAgIGNsb3NlX3Nob3dQYW5lKHN1YlBhbmUsICQoJy5wb3B1cC1hY3RpdmUtcGFuZScpLCB0cnVlKTtcblxuICAgICAgICAvLyBzb21lIHN1YiBwYW5lcyBoYXZlIHRoZWlyIG93biBlbmFibGUvZGlzYWJsZSBsb2dpYywgd2hpY2ggc2hvdWxkIGJlIGhvb2tlZCB1cCBvbiBhIFwic2hvd1wiIGV2ZW50XG4gICAgICAgIGlmICghc3ViUGFuZS5oYXNDbGFzcygnaGFuZGxlcy1zdWJtaXQtYnV0dG9uLWVuYWJsaW5nJykpIHtcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5lbmFibGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlX3Nob3dQYW5lKHBhbmVUb1Nob3c6IEpRdWVyeSwgcGFuZVRvSGlkZTogSlF1ZXJ5LCBhZGRCcmVhZGNydW1iOiBib29sZWFuKSB7XG4gICAgLy8gaGlkZSBhbnkgYWN0aXZlIHBhbmU7IHN1cHBvcnRzIGp1bXBpbmcgbW9yZSB0aGFuIG9uZSBsZXZlbCBiYWNrIGZyb20gYSBicmVhZGNydW1iXG4gICAgX2Nsb3NlUG9wdXAuZmluZCgnLnBvcHVwLWFjdGl2ZS1wYW5lJykucmVtb3ZlQ2xhc3MoJ3BvcHVwLWFjdGl2ZS1wYW5lJykuaGlkZSgpO1xuICAgIF9jbG9zZVBvcHVwLmZpbmQoJy5wb3B1cC10aXRsZScpLmh0bWwocGFuZVRvU2hvdy5kYXRhKCd0aXRsZScpKTtcblxuICAgIGlmIChhZGRCcmVhZGNydW1iKSB7XG4gICAgICAgIHZhciBicmVhZGNydW1iVGV4dCA9IHBhbmVUb0hpZGUuZGF0YSgnYnJlYWRjcnVtYicpIHx8IHBhbmVUb0hpZGUuZGF0YSgndGl0bGUnKTtcblxuICAgICAgICBjbG9zZV9wdXNoVGl0bGVCcmVhZGNydW1iKGJyZWFkY3J1bWJUZXh0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbG9zZV9zaG93UGFuZShwYW5lVG9IaWRlLCBwYW5lVG9TaG93LCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNsb3NlX2NsZWFyU2VsZWN0aW9uKHBhbmVUb1Nob3cpO1xuXG4gICAgaWYgKHBhbmVUb0hpZGUuZGF0YSgnY2xlYXItaW5wdXQtc2VsZWN0b3InKSkge1xuICAgICAgICBwYW5lVG9IaWRlLmZpbmQocGFuZVRvSGlkZS5kYXRhKCdjbGVhci1pbnB1dC1zZWxlY3RvcicpKS52YWwoJycpO1xuICAgICAgICB2YXIgc3VibWl0QnV0dG9uID0gX2Nsb3NlUG9wdXAuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpO1xuICAgICAgICBzdWJtaXRCdXR0b24uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICBwYW5lVG9TaG93XG4gICAgICAgIC5hZGRDbGFzcygncG9wdXAtYWN0aXZlLXBhbmUnKVxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93JylcbiAgICAgICAgLmFzeW5jTG9hZCh7XG4gICAgICAgICAgICBjYWxsYmFjazogY2xvc2VBZnRlckxvYWRMaXN0T3JpZ2luYWxzXG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZV9jbGVhclNlbGVjdGlvbihwYW5lOiBKUXVlcnkpIHtcbiAgICBwYW5lLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG4gICAgcGFuZS5maW5kKCdsaS5hY3Rpb24tc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnYWN0aW9uLXNlbGVjdGVkJyk7XG4gICAgX2Nsb3NlUG9wdXAuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpLmRpc2FibGUoKTtcbn1cblxuZnVuY3Rpb24gY2xvc2VfcHVzaFRpdGxlQnJlYWRjcnVtYih0ZXh0OiBzdHJpbmcsIGZuUmVzdG9yZUhpZGRlblBhbmU6ICgpID0+IHZvaWQpIHtcblxuICAgIHZhciAkY3J1bWJzID0gX2Nsb3NlUG9wdXAuZmluZCgnLmpzLWJyZWFkY3J1bWJzJyk7XG4gICAgdmFyICRjYW5jZWxCdG4gPSBfY2xvc2VQb3B1cC5maW5kKCcuanMtcG9wdXAtY2FuY2VsJyk7XG4gICAgdmFyICRiYWNrQnRuID0gX2Nsb3NlUG9wdXAuZmluZCgnLmpzLXBvcHVwLWJhY2snKTtcblxuICAgIHZhciAkbmV3Q3J1bWIgPSAkKCc8ZGl2IGNsYXNzPVwicy1icmVhZGNydW1icy0taXRlbVwiIC8+JykuYXBwZW5kVG8oJGNydW1icyk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVVSSgpIHtcbiAgICAgICAgdmFyIGhhc0NydW1icyA9ICRjcnVtYnMuZmluZCgnLnMtYnJlYWRjcnVtYnMtLWl0ZW0nKS5sZW5ndGggPiAwO1xuICAgICAgICAkY3J1bWJzLmFkZCgkYmFja0J0bikudG9nZ2xlQ2xhc3MoJ2Qtbm9uZScsICFoYXNDcnVtYnMpO1xuICAgICAgICAkY2FuY2VsQnRuLnRvZ2dsZUNsYXNzKCdkLW5vbmUnLCBoYXNDcnVtYnMpO1xuXG4gICAgICAgICRjcnVtYnMuZmluZCgnLnMtYnJlYWRjcnVtYnMtLWRpdmlkZXInKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdkLW5vbmUnKVxuICAgICAgICAgICAgLmxhc3QoKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgfVxuXG4gICAgJGJhY2tCdG4ub2ZmKCdjbGljaycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGNydW1icy5maW5kKCcucy1icmVhZGNydW1icy0tbGluaycpLmxhc3QoKS5jbGljaygpO1xuICAgIH0pO1xuXG4gICAgJCgnPHNwYW4gY2xhc3M9XCJzLWJyZWFkY3J1bWJzLS1saW5rIGMtcG9pbnRlclwiIHRhYmluZGV4PVwiMFwiIHJvbGU9XCJidXR0b25cIj4nKS50ZXh0KHRleHQpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgY3J1bWIgYW5kIGFueSBhZnRlciBpdFxuICAgICAgICAkbmV3Q3J1bWIubmV4dEFsbCgpLmFkZEJhY2soKS5yZW1vdmUoKTtcbiAgICAgICAgdXBkYXRlVUkoKTtcbiAgICAgICAgZm5SZXN0b3JlSGlkZGVuUGFuZSgpO1xuICAgIH0pLmFwcGVuZFRvKCRuZXdDcnVtYik7XG5cbiAgICBjcmVhdGVTdmdFbGVtZW50KEljb25BcnJvd1JpZ2h0QWx0U20pLmFkZENsYXNzKCdzLWJyZWFkY3J1bWJzLS1kaXZpZGVyJykuYXBwZW5kVG8oJG5ld0NydW1iKTtcbiAgICB1cGRhdGVVSSgpO1xufVxuXG5mdW5jdGlvbiBjbG9zZV9wdXNoRmxhZ2dpbmdCcmVhZGNydW1iKCkge1xuICAgIGNsb3NlX3B1c2hUaXRsZUJyZWFkY3J1bWIoX3MoXCJGbGFnZ2luZ1wiKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBfY2xvc2VQb3B1cC5wb3NpdGlvbigpO1xuXG4gICAgICAgIF9mbGFnUG9wdXAuY3NzKHsgdG9wOiBsb2NhdGlvbi50b3AsIGxlZnQ6IGxvY2F0aW9uLmxlZnQgfSk7XG5cbiAgICAgICAgX2Nsb3NlUG9wdXAuaGlkZSgpO1xuICAgICAgICBfZmxhZ1BvcHVwLmZhZGVJbignZmFzdCcpO1xuXG4gICAgICAgIC8vIGlmIHdlIGNvbWUgYmFjayBmcm9tIGZsYWdnaW5nLCBzdGFydCBhdCB0aGUgbWFpbiBjbG9zZSBwYW5lXG4gICAgICAgIGNsb3NlX3Nob3dQYW5lKF9jbG9zZVBvcHVwLmZpbmQoJyNwYW5lLW1haW4nKSwgX2Nsb3NlUG9wdXAuZmluZCgnLnBvcHVwLWFjdGl2ZS1wYW5lJyksIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWZ0ZXJMb2FkTGlzdE9yaWdpbmFscyhjb250YWluZXI6IEpRdWVyeSk6IHZvaWQge1xuICAgIHZhciBsaXN0ID0gY29udGFpbmVyLmZpbmQoJy5saXN0LW9yaWdpbmFscycpO1xuXG4gICAgaWYgKGxpc3QuY2hpbGRyZW4oKS5sZW5ndGggPT0gMCkge1xuICAgICAgICBsaXN0LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxpc3Quc2hvdygpO1xuXG4gICAgLy8gZmV0Y2hpbmcgYSBsaXN0IGFsd2F5cyBvdmVyd3JpdGVzIHRoZSBicmVhZGNydW1iIHRyYWlsXG4gICAgY2xvc2VfdXBkYXRlRHVwbGljYXRlTmF2aWdhdGlvbihsaXN0LCB0cnVlKTtcblxuICAgIHN0eWxlQ29kZSgpO1xuXG4gICAgLy8gY2xpY2tpbmcgb24gYSBpdGVtIHdpbGwgbG9hZCB0aGUgcG9zdCBpbnRvIHRoZSBwcmV2aWV3XG4gICAgbGlzdC5maW5kKCcuaXRlbScpXG4gICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcykuZmluZCgnIC5wb3N0LWxpbmsgPiBhJykuYWRkU3Bpbm5lcih7ICdwYWRkaW5nLWxlZnQnOiAnM3B4JyB9KSxcbiAgICAgICAgICAgICAgICB0eHQgPSAkKGxpbmspLmNsb3Nlc3QoJy5jbG9zZS1hcy1kdXBsaWNhdGUtcGFuZScpLmZpbmQoJy5qcy1kdXBsaWNhdGUtc2VhcmNoLWZpZWxkJykudmFsKGxpbmsuYXR0cignaHJlZicpKTtcbiAgICAgICAgICAgIGNsb3NlX3NlYXJjaEZvck9yaWdpbmFsKHR4dCwgbGluayk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC5ob3ZlcihmdW5jdGlvbiAoKSB7ICQodGhpcykudG9nZ2xlQ2xhc3MoJ2hvdmVyJyk7IH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZV9zZWFyY2hGb3JPcmlnaW5hbCh0eHQ6IEpRdWVyeSwgbGluaz86IEpRdWVyeSkge1xuICAgIHZhciBwYW5lID0gdHh0LmNsb3Nlc3QoJy5wb3B1cC1zdWJwYW5lJyksXG4gICAgICAgIHByZXZpZXcgPSBwYW5lLmZpbmQoJy5wcmV2aWV3JyksXG4gICAgICAgIGxpc3RDb250YWluZXIgPSBwYW5lLmZpbmQoJy5saXN0LWNvbnRhaW5lcicpLFxuICAgICAgICBlcnJvcnMgPSBwYW5lLmZpbmQoJy5zZWFyY2gtZXJyb3JzJykuZW1wdHkoKSxcbiAgICAgICAgaGlkZGVuID0gJCgnI29yaWdpbmFsLXF1ZXN0aW9uLWlkJyksXG4gICAgICAgIHN1Ym1pdCA9IHBhbmUuY2xvc2VzdCgnI3BvcHVwLWNsb3NlLXF1ZXN0aW9uJykuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpO1xuXG4gICAgc3VibWl0LmRpc2FibGUoKTsgLy8gbmV3IHNlYXJjaGVzIHNob3VsZCBkaXNhYmxlIHN1Ym1pdFxuICAgIHByZXZpZXcuaHRtbCgnJykuaGlkZSgpOyAvLyBhbmQgY2xlYXIgcHJldmlvdXMgcmVzdWx0c1xuXG4gICAgaWYgKCQudHJpbSh0eHQudmFsKCkpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGluayB3aWxsIGJlIHBhc3NlZCBpbiB3aGVuIHdlIGNsaWNrIGEgcXVlc3Rpb24gdGl0bGVcbiAgICBpZiAoIWxpbmspIHtcbiAgICAgICAgcGFuZS5maW5kKCcuc2VhcmNoLXNwaW5uZXInKS5hZGRTcGlubmVyKCk7XG4gICAgfVxuICAgIHZhciBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuICAgICAgICBxOiB0eHQudmFsKClcbiAgICB9O1xuICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5yZXZpZXdUYXNrSWRHZXR0ZXIpIGRhdGEucmV2aWV3VGFza0lkID0gX29wdGlvbnMucmV2aWV3VGFza0lkR2V0dGVyKCk7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHVybDogJy9wb3N0cy9wb3B1cC9jbG9zZS9zZWFyY2gtb3JpZ2luYWxzLycgKyAkKCcjcG9wdXAtY2xvc2UtcXVlc3Rpb24nKS5kYXRhKCdxdWVzdGlvbmlkJyksXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGRhdGFUeXBlOiAnaHRtbCdcbiAgICB9KS5kb25lKGZ1bmN0aW9uIChodG1sKSB7XG5cbiAgICAgICAgdmFyIGRpdiA9ICQoaHRtbCkuZWxlbWVudE5vZGVzT25seSgpLm1hdGhqYXgoKTtcblxuICAgICAgICAvLyB1c2VyIGVudGVyZWQgYSBxdWVzdGlvbiB1cmwgb3IgaWQ7IHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBsaWdodHdlaWdodCBxdWVzdGlvbnMvc2hvdyBiYWNrXG4gICAgICAgIGlmIChkaXYuaGFzQ2xhc3MoJ3Nob3ctb3JpZ2luYWwnKSkge1xuICAgICAgICAgICAgbGlzdENvbnRhaW5lci5oaWRlKCk7XG4gICAgICAgICAgICBjbG9zZV91cGRhdGVEdXBsaWNhdGVOYXZpZ2F0aW9uKGRpdik7XG5cbiAgICAgICAgICAgIHByZXZpZXcuZW1wdHkoKS5hcHBlbmQoZGl2KS5zaG93KCk7XG5cbiAgICAgICAgICAgIGRpdi5maW5kKCcucXVlc3Rpb24gLnNob3ctdGl0bGUgYScpLmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcblxuICAgICAgICAgICAgLy8gcHJldmVudCBtYWdpYyBwb3B1cHMgb24gdGFnc1xuICAgICAgICAgICAgZGl2LmZpbmQoJy5wb3N0LXRhZycpLmFkZENsYXNzKCd1c2VyLXRhZycpO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSB2YWxpZGF0ZWQgb3JpZ2luYWwgaWQgZm9yIHVzZSBieSBzdWJtaXQgbGF0ZXJcbiAgICAgICAgICAgIGhpZGRlbi52YWwoZGl2LmZpbmQoJy5xdWVzdGlvbicpLmRhdGEoJ3F1ZXN0aW9uaWQnKSk7XG4gICAgICAgICAgICBzdWJtaXQuZW5hYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGl2Lmhhc0NsYXNzKCdsaXN0LW9yaWdpbmFscycpKSB7XG5cbiAgICAgICAgICAgIC8vIHNlYXJjaCByZXN1bHRzIGluIGEgbGlzdFxuICAgICAgICAgICAgbGlzdENvbnRhaW5lci5lbXB0eSgpLmFwcGVuZChkaXYpLnNob3coKTtcbiAgICAgICAgICAgIGNsb3NlQWZ0ZXJMb2FkTGlzdE9yaWdpbmFscyhsaXN0Q29udGFpbmVyKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgX3MoXCJ0aGVzZSBhcmUgbm90IHRoZSByZXN1bHRzIHlvdSB3ZXJlIGxvb2tpbmcgZm9yXCIpO1xuICAgICAgICB9XG5cbiAgICB9KS5mYWlsKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIG1zZyA9IHJlcy5yZXNwb25zZVRleHQgJiYgcmVzLnJlc3BvbnNlVGV4dC5sZW5ndGggPCAxMDAgPyByZXMucmVzcG9uc2VUZXh0IDogX3MoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzZWFyY2hpbmc7IHBsZWFzZSB0cnkgYWdhaW5cIik7XG4gICAgICAgIGVycm9ycy50ZXh0KG1zZyk7XG4gICAgICAgIHN1Ym1pdC5kaXNhYmxlKCk7XG4gICAgICAgIGhpZGRlbi52YWwoJycpO1xuXG4gICAgICAgIHBhbmUuZmluZCgnLm5hdmktY29udGFpbmVyIC5pbnN0cnVjdGlvbnMnKS5yZW1vdmUoKTtcblxuICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNwaW5uZXJzIHdlcmUgYWRkZWQgbmVhciB0aGUgY29udGV4dCB0aGF0IGNhbGxlZCB0aGlzIG1ldGhvZCwgaS5lLiB1bmRlciBzZWFyY2ggYm94IG9yIG5leHQgdG8gYSBjbGlja2VkIGxpc3QgbGlua1xuICAgICAgICByZW1vdmVTcGlubmVyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlX3VwZGF0ZUR1cGxpY2F0ZU5hdmlnYXRpb24oaGFzTmF2aURpdjogSlF1ZXJ5LCBlbXB0eT86IGJvb2xlYW4pIHtcbiAgICB2YXIgJHBhbmUgPSAkKCcuY2xvc2UtYXMtZHVwbGljYXRlLXBhbmUnKTsgLy8gVGhpcyBpcyBub3QgYWx3YXlzIGluIGEgY2xvc2UgZGlhbG9nLlxuICAgIHZhciBjb250YWluZXIgPSAkcGFuZS5maW5kKCcub3JpZ2luYWwtZGlzcGxheSAubmF2aS1jb250YWluZXInKSxcbiAgICAgICAgbmF2aSA9IGhhc05hdmlEaXYuZmluZCgnLm5hdmknKSxcbiAgICAgICAgdHh0ID0gJHBhbmUuZmluZCgnLmpzLWR1cGxpY2F0ZS1zZWFyY2gtZmllbGQnKTtcblxuICAgIGlmIChlbXB0eSkge1xuICAgICAgICAvLyB3ZSdsbCBlbXB0eSB3aGVuIGdldHRpbmcgYSBuZXcgbGlzdCBvZiBxdWVzdGlvbnNcbiAgICAgICAgY29udGFpbmVyLmVtcHR5KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyB3ZSBoYXZlIGEgbGlzdCBhbmQgYXJlIGNsaWNraW5nIGEgcXVlc3Rpb24gdG8gcHJldmlldywgc28gd2UgbmVlZCBhIHdheSB0byBnZXQgYmFjayB0byB0aGUgbGlzdFxuICAgICAgICB2YXIgbGlzdE5hdiA9IGNvbnRhaW5lci5maW5kKCcubmF2aScpO1xuXG4gICAgICAgIGlmIChsaXN0TmF2Lmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbmNob3Igd2lsbCBoYXZlIHRoZSB0ZXh0IG9uIGl0XG4gICAgICAgIGxpc3ROYXYuZW1wdHkoKTtcblxuICAgICAgICAvLyBtYWtlIGEgbGluayBiYWNrIHRvIHRoZSBsaXN0XG4gICAgICAgICQoJzxhPicpXG4gICAgICAgICAgICAudGV4dChsaXN0TmF2LmRhdGEoJ2FiYnInKSlcbiAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGlzdE5hdlxuICAgICAgICAgICAgICAgICAgICAuaHRtbChsaXN0TmF2LmRhdGEoJ3RleHQnKSlcbiAgICAgICAgICAgICAgICAgICAgLnNpYmxpbmdzKCkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2libGluZ3MoJy5wcmV2aWV3JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zaWJsaW5ncygnLmxpc3QtY29udGFpbmVyJykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgJCgnI29yaWdpbmFsLXF1ZXN0aW9uLWlkJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAkKCcjcG9wdXAtY2xvc2UtcXVlc3Rpb24nKS5maW5kKCcuanMtcG9wdXAtc3VibWl0JykuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgICQoJy5jbG9zZS1hcy1kdXBsaWNhdGUtcGFuZScpLmZpbmQoJy5zZWFyY2gtZXJyb3JzJykuZW1wdHkoKTtcblxuICAgICAgICAgICAgICAgIC8vIHdlIHNhdmVkIHRoZSBwcmV2aW91cyBzZWFyY2ggdGV4dDsgcmVzdG9yZSBpdFxuICAgICAgICAgICAgICAgIHR4dC52YWwobGlzdE5hdi5kYXRhKCdzZWFyY2gtdGV4dCcpKS5mb2N1cygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hcHBlbmRUbyhsaXN0TmF2KTtcbiAgICB9XG5cbiAgICBuYXZpXG4gICAgICAgIC5kYXRhKCdzZWFyY2gtdGV4dCcsIHR4dC52YWwoKSlcbiAgICAgICAgLnRleHQobmF2aS5kYXRhKCd0ZXh0JykpXG4gICAgICAgIC5wcmVwZW5kVG8oY29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gY2xvc2Vfc3VibWl0Q2xvc2UoKSB7XG4gICAgdmFyIHN1Ym1pdEJ1dHRvbiA9IF9jbG9zZVBvcHVwLmZpbmQoJy5qcy1wb3B1cC1zdWJtaXQnKTtcblxuICAgIC8vIGNoZWNrIHRoaXMgLSBkdXBsaWNhdGUgdGV4dGJveCBtYWtlcyBlbnRlciBzdWJtaXQgcmVnYXJkbGVzc1xuICAgIGlmIChzdWJtaXRCdXR0b24uYXR0cignZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgJCgnLnJlbWFpbmluZy12b3RlcycpLmFkZFNwaW5uZXIoeyAncG9zaXRpb24nOiAnYWJzb2x1dGUnLCAnbWFyZ2luJzogJzE4cHggMCAwIDNweCcgfSk7XG4gICAgc3VibWl0QnV0dG9uLmRpc2FibGUoKTtcblxuICAgIHZhciBnZXRTZWxlY3RlZFJhZGlvID0gZnVuY3Rpb24gKHBhbmU6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBfY2xvc2VQb3B1cC5maW5kKHBhbmUgKyAnIGlucHV0W3R5cGU9cmFkaW9dW25hbWU9XCInICsgbmFtZSArICdcIl06Y2hlY2tlZCcpO1xuICAgIH07XG5cbiAgICBpZiAoX29wdGlvbnMgJiYgX29wdGlvbnMuY2xvc2VTdWJtaXR0aW5nICYmIF9vcHRpb25zLmNsb3NlU3VibWl0dGluZygpID09PSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGNsb3NlRXhpc3RpbmdEaWFsb2dzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgIHVybDogJy9mbGFncy9xdWVzdGlvbnMve3F1ZXN0aW9uSWR9L2Nsb3NlL2FkZCcuZm9ybWF0VW5pY29ybih7IHF1ZXN0aW9uSWQ6IF9wb3N0SWQgfSksXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZrZXk6IG9wdGlvbnMudXNlci5ma2V5LFxuICAgICAgICAgICAgY2xvc2VSZWFzb25JZDogZ2V0U2VsZWN0ZWRSYWRpbygnI3BhbmUtbWFpbicsICdjbG9zZVJlYXNvbklkJykudmFsKCksXG4gICAgICAgICAgICBkdXBsaWNhdGVPZlF1ZXN0aW9uSWQ6ICQoJyNvcmlnaW5hbC1xdWVzdGlvbi1pZCcpLnZhbCgpLFxuICAgICAgICAgICAgc2l0ZVNwZWNpZmljQ2xvc2VSZWFzb25JZDogZ2V0U2VsZWN0ZWRSYWRpbygnLnNpdGUtc3BlY2lmaWMtcGFuZScsICdzaXRlU3BlY2lmaWNDbG9zZVJlYXNvbklkJykudmFsKCksXG4gICAgICAgICAgICBiZWxvbmdzT25CYXNlSG9zdEFkZHJlc3M6IGdldFNlbGVjdGVkUmFkaW8oJy5taWdyYXRpb24tcGFuZScsICdiZWxvbmdzT25CYXNlSG9zdEFkZHJlc3MnKS52YWwoKSwgLy8gTWlncmF0ZUFueXdoZXJlIGFsc28gdXNlcyB0aGlzIGlucHV0IG5hbWVcbiAgICAgICAgICAgIHNpdGVTcGVjaWZpY090aGVyVGV4dDogX2Nsb3NlUG9wdXAuZmluZCgnW25hbWU9c2l0ZVNwZWNpZmljT3RoZXJUZXh0XScpLnZhbCgpLFxuICAgICAgICAgICAgc2l0ZVNwZWNpZmljT3RoZXJDb21tZW50SWQ6IGdldFNlbGVjdGVkUmFkaW8oJy5zaXRlLXNwZWNpZmljLXBhbmUnLCAnc2l0ZVNwZWNpZmljQ2xvc2VSZWFzb25JZCcpLmRhdGEoJ290aGVyLWNvbW1lbnQtaWQnKSxcbiAgICAgICAgICAgIG9yaWdpbmFsU2l0ZVNwZWNpZmljT3RoZXJUZXh0OiBfY2xvc2VQb3B1cC5maW5kKCdbbmFtZT1cIm9yaWdpbmFsU2l0ZVNwZWNpZmljT3RoZXJUZXh0XCJdJykudmFsKClcbiAgICAgICAgfVxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgY2xvc2Vfc3VibWl0Q29tcGxldGUoanNvbik7XG4gICAgfVxuICAgICkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dFcnJvcihfcG9zdE1lbnVMaW5rLCBfcygnQW4gZXJyb3Igb2NjdXJyZWQ7IHBsZWFzZSB0cnkgYWdhaW4nKSk7XG4gICAgfVxuICAgICkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcmVvcGVuX2NsaWNrKGhhc0FjdGl2ZVZvdGU6IGJvb2xlYW4sIGJ5cGFzc1Jlb3BlbkNvbmZpcm1hdGlvbjogYm9vbGVhbikge1xuXG4gICAgaWYgKF9wb3N0TWVudUxpbmsuaGFzQ2xhc3MoJ2lzLWxvYWRpbmcnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhhc0FjdGl2ZVZvdGUpIHtcbiAgICAgICAgc2hvd0NvbmZpcm1Nb2RhbCh7XG4gICAgICAgICAgICB0aXRsZTogX3MoJ1JldHJhY3QgeW91ciByZW9wZW4gdm90ZT8nKSxcbiAgICAgICAgICAgIGJvZHlIdG1sOiBfbShcIllvdSBoYXZlIGFscmVhZHkgdm90ZWQgdG8gcmVvcGVuIHRoaXMgcXVlc3Rpb24uIERvIHlvdSB3YW50IHRvIHJldHJhY3QgeW91ciB2b3RlPyBJZiB5b3UgcmV0cmFjdCwgeW91IHdvblxcdTIwMTl0IGJlIGFibGUgdG8gdm90ZSB0byByZW9wZW4gdGhpcyBxdWVzdGlvbiBhZ2Fpbi5cIiksXG4gICAgICAgICAgICBidXR0b25MYWJlbDogX3MoXCJSZXRyYWN0IHJlb3BlbiB2b3RlXCIpXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbmZpcm1lZCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgIHJlb3Blbl9zdWJtaXQoJ3JldHJhY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChieXBhc3NSZW9wZW5Db25maXJtYXRpb24pIHtcbiAgICAgICAgcmVvcGVuX3N1Ym1pdCgnYWRkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2hvd0ZhbmN5UmVvcGVuQ29uZmlybWF0aW9uKGZ1bmN0aW9uICgpIHsgcmVvcGVuX3N1Ym1pdCgnYWRkJykgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW9wZW5fc3VibWl0KGFjdGlvbjogc3RyaW5nKSB7XG5cbiAgICBfcG9zdE1lbnVMaW5rLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgIHVybDogJy9mbGFncy9xdWVzdGlvbnMve3F1ZXN0aW9uSWR9L3Jlb3Blbi97YWN0aW9ufScuZm9ybWF0VW5pY29ybih7IHF1ZXN0aW9uSWQ6IF9wb3N0SWQsIGFjdGlvbjogYWN0aW9uIH0pLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBkYXRhOiB7IGZrZXk6IG9wdGlvbnMudXNlci5ma2V5IH1cbiAgICB9KS5kb25lKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIGlmIChqc29uLlN1Y2Nlc3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF9wb3N0TWVudUxpbmsuZGF0YSgnaGFzLWFjdGl2ZS12b3RlJywgYWN0aW9uID09PSAnYWRkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2Vfc3VibWl0Q29tcGxldGUoanNvbik7XG4gICAgfVxuICAgICkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dFcnJvcihfcG9zdE1lbnVMaW5rLCBfcygnQW4gZXJyb3Igb2NjdXJyZWQ7IHBsZWFzZSB0cnkgYWdhaW4nKSk7XG4gICAgfVxuICAgICkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3Bvc3RNZW51TGluay5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZV9zdWJtaXRDb21wbGV0ZShqc29uOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgLy8gYWRkIHNvbWUgaGVscGVyIHByb3BlcnRpZXMgYmFzZWQgb24gaG93IHRoZSBzZXJ2ZXIgaW50ZXJwcmV0ZWQgb3VyIHN1Ym1pc3Npb25cbiAgICBqc29uLmlzQ2xvc2UgPSBqc29uLkZsYWdUeXBlID09ICdRdWVzdGlvbkNsb3NlJztcbiAgICBqc29uLmlzUmVjb21tZW5kQ2xvc2UgPSBqc29uLkZsYWdUeXBlID09ICdRdWVzdGlvblJlY29tbWVuZENsb3NlJztcbiAgICBqc29uLmlzUmVvcGVuID0ganNvbi5GbGFnVHlwZSA9PSAnUXVlc3Rpb25SZW9wZW4nO1xuICAgIGpzb24udmVyYiA9IGpzb24uaXNSZWNvbW1lbmRDbG9zZSA/ICdmbGFnJyA6IGpzb24uaXNSZW9wZW4gPyAncmVvcGVuJyA6ICdjbG9zZSc7XG5cbiAgICB2YXIgY2xvc2VMaW5rID0gX3Bvc3RNZW51TGluaztcblxuICAgIC8vIHRoZSB1c2VyIG9yaWdpbmFsbHkgY2xpY2tlZCBcImZsYWdcIiwgdGhlbiBcIml0IGRvZXNuJ3QgYmVsb25nIGhlcmVcIjsgdGhlIHNlcnZlciByZWNvcmRlZCBhIHJlZ3VsYXIgY2xvc2Ugdm90ZVxuICAgIGlmIChqc29uLmlzQ2xvc2UgJiYgX3Bvc3RNZW51TGluay5pcygnW2NsYXNzKj1cImZsYWctcG9zdC1cIl0nKSkge1xuICAgICAgICAvLyBzaG91bGQgYWxzbyBmaW5kIGlkPVwibW9iaWxlLWNsb3NlLXF1ZXN0aW9uLS4uLlwiXG4gICAgICAgIGNsb3NlTGluayA9IF9wb3N0TWVudUxpbmsucGFyZW50KCkuZmluZChcImFbY2xhc3MqPSdjbG9zZS1xdWVzdGlvbiddXCIpO1xuICAgIH1cblxuICAgIGlmIChqc29uLlN1Y2Nlc3MpIHtcbiAgICAgICAgY2xvc2Vfc3VibWl0U3VjY2Vzcyhqc29uLCBjbG9zZUxpbmspO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xvc2Vfc3VibWl0UmVqZWN0ZWQoanNvbiwgY2xvc2VMaW5rKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlX3N1Ym1pdFN1Y2Nlc3MoanNvbjogUmVjb3JkPHN0cmluZywgYW55PiwgY2xvc2VMaW5rOiBKUXVlcnkpIHtcbiAgICAvLyBkb24ndCBkbyBhbnl0aGluZzsgb3VyIGNhbGxiYWNrIGFscmVhZHkgdG9vayBvdmVyXG4gICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLmNsb3NlQ2FsbGJhY2sgJiYgX29wdGlvbnMuY2xvc2VDYWxsYmFjayhjbG9zZUxpbmssIGpzb24sIGpzb24uaXNSZWNvbW1lbmRDbG9zZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGZ1bmN0aW9uIHRvIHJlZnJlc2ggd2l0aG91dCBhIHJlZGlyZWN0IChpLmUuIHByZXZlbnQgbmF2aWdhdGlvbiB0byBhIG1pZ3JhdGVkIHF1ZXN0aW9uKVxuICAgIHZhciBmblJlZnJlc2hQcmV2ZW50TmF2aWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhyZWYgPSBzcGxpdE9uTGFzdCh3aW5kb3cubG9jYXRpb24uaHJlZiwnIycpWzBdLCAvLyByZW1vdmUgIywgaWYgcHJlc2VudFxuICAgICAgICAgICAgcGFyYW0gPSAnbm9yZWRpcmVjdD0xJztcbiAgICAgICAgaWYgKGhyZWYuaW5kZXhPZihwYXJhbSkgPCAwKSB7IGhyZWYgKz0gKGhyZWYuaW5kZXhPZignPycpIDwgMCA/ICc/JyA6ICcmJykgKyAnbm9yZWRpcmVjdD0xJzsgfVxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgfTtcblxuICAgIC8vIGEgY2xvc2Ugb3IgcmVvcGVuIHZvdGUgYWN0dWFsbHkgY2hhbmdlZCB0aGUgcXVlc3Rpb24gc3RhdGVcbiAgICBpZiAoanNvbi5SZXN1bHRDaGFuZ2VkU3RhdGUpIHtcbiAgICAgICAgZm5SZWZyZXNoUHJldmVudE5hdmlnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHdoZW4gdm90aW5nIHRvIGNsb3NlIGFzIDEpIGR1cGUgb3IgMikgc2l0ZS1zcGVjaWZpYyAtPiBvdGhlciwgYSBjb21tZW50IGlzIGFkZGVkOyBmZXRjaCBjb21tZW50cyBzbyB0aGUgdm90ZXIgY2FuIHNlZSBpdFxuICAgIGlmICgoanNvbi5DbG9zZVJlYXNvbiA9PSAnRHVwbGljYXRlJyB8fCBqc29uLlNpdGVTcGVjaWZpY0Nsb3NlUmVhc29uSWQgPT0gU0lURV9TUEVDSUZJQ19PVEhFUl9JRClcbiAgICAgICAgJiYgY2xvc2VMaW5rLmNsb3Nlc3QoJy5tb2QtcG9zdC1oZWFkZXInKS5sZW5ndGggPT0gMCkgeyAvLyBkb24ndCBmZXRjaCB3aGVuIGEgbW9kIGp1c3QgZGlkIGl0IG9uIHRoZSBtb2QgcXVldWVcbiAgICAgICAgbG9hZEFsbChjbG9zZUxpbmspO1xuICAgIH1cblxuICAgIGlmIChqc29uLlRvb2x0aXApIHtcbiAgICAgICAgY2xvc2VMaW5rLmF0dHIoJ3RpdGxlJywganNvbi5Ub29sdGlwKTtcbiAgICB9XG5cbiAgICBpZiAoanNvbi5NZXNzYWdlKSB7XG4gICAgICAgIGNsb3NlX3VwZGF0ZUNsb3NlTGlua0NvdW50KGpzb24sIGNsb3NlTGluayk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhbGwgZWxzZSBmYWlscywgcmVmcmVzaFxuICAgIGZuUmVmcmVzaFByZXZlbnROYXZpZ2F0aW9uKCk7XG59XG5cbi8qKlxuICogVEhJUyBJUyBVU0VEIElOIFRIRSBcIkZJUlNUIFBPU1RTXCIgUkVWSUVXIFFVRVVFXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZV91cGRhdGVDbG9zZUxpbmtDb3VudChqc29uOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjbG9zZUxpbms6IEpRdWVyeSk6IHZvaWQge1xuXG4gICAgaWYgKGpzb24uTWVzc2FnZSkge1xuICAgICAgICBzaG93VG9hc3QoanNvbi5NZXNzYWdlLCB7IHVzZVJhd0h0bWw6IHRydWUsIHRyYW5zaWVudDoganNvbi5NZXNzYWdlLmxlbmd0aCA8IDE1MCB9KTtcbiAgICB9XG5cbiAgICAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgZXhpc3RpbmcgY291bnQgZm9yIGNsb3NlIGFuZCByZW9wZW4gdm90ZXNcbiAgICBpZiAoIWpzb24uaXNSZWNvbW1lbmRDbG9zZSkge1xuXG4gICAgICAgIC8vIC5Db3VudCBpcyByZXR1cm5lZCBmcm9tIHZvdGUgKG9yIGZsYWcpIHRvIGNsb3NlIGFjdGlvbnMsIGNsb3NlTGluayBjb3VsZCBiZSB0aGUgXCJmbGFnXCIgbGluaywgbWFrZSBzdXJlIHRvIGdyYWIgdGhlIFwiY2xvc2VcIiBsaW5rXG4gICAgICAgIGNsb3NlTGluayA9IGNsb3NlTGluay5jbG9zZXN0KCcuanMtcG9zdC1tZW51JykuZmluZCgnLmpzLWNsb3NlLXF1ZXN0aW9uLWxpbmsnKTtcbiAgICAgICAgdmFyIGNvdW50U3BhbiA9IGNsb3NlTGluay5maW5kKCcuZXhpc3RpbmctZmxhZy1jb3VudCcpO1xuXG4gICAgICAgIGlmIChqc29uLkNvdW50ID4gMCkge1xuICAgICAgICAgICAgLy8gZmlyc3Qgdm90ZXMgd2lsbCBuZWVkIHRvIGFkZCB0aGUgc3BhbiAoY2FuJ3QgYWx3YXlzIHB1dCBpdCB0aGVyZSwgc2luY2Ugd2UgdXNlIGNzcyB0byBhZGQgdGhlIHBhcmVudGhlc2lzKVxuICAgICAgICAgICAgaWYgKGNvdW50U3Bhbi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGNsb3NlTGluay50ZXh0KGNsb3NlTGluay50ZXh0KCkgKyAnICcpOyAvLyBhZGQgd2hpdGVzcGFjZSBmcm9tIHJhem9yIGhlbHBlciBvciBjc3NcbiAgICAgICAgICAgICAgICBjb3VudFNwYW4gPSAkKCc8c3BhbiBjbGFzcz1cImV4aXN0aW5nLWZsYWctY291bnRcIj4nKS5hcHBlbmRUbyhjbG9zZUxpbmspO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb3VudFNwYW4udGV4dChqc29uLkNvdW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChqc29uLkNvdW50ID09PSAwICYmIGNvdW50U3Bhbikge1xuICAgICAgICAgICAgY291bnRTcGFuLnJlbW92ZSgpO1xuICAgICAgICAgICAgY2xvc2VMaW5rLmF0dHIoXCJ0aXRsZVwiLCBfcyhcIllvdSByZXRyYWN0ZWQgeW91ciBjbG9zZSB2b3RlIGZvciB0aGlzIHF1ZXN0aW9uXCIpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xvc2Vfc3VibWl0UmVqZWN0ZWQoanNvbjogUmVjb3JkPHN0cmluZywgYW55PiwgY2xvc2VMaW5rOiBKUXVlcnkpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0ganNvbi5NZXNzYWdlO1xuXG4gICAgaWYgKCFlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgc3dpdGNoIChqc29uLnZlcmIpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ZsYWcnOlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IF9zKCdBIHByb2JsZW0gb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZmxhZycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVvcGVuJzpcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBfcygnQSBwcm9ibGVtIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJlb3BlbicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IF9zKCdBIHByb2JsZW0gb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gY2xvc2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRvbid0IGRvIGFueXRoaW5nOyBvdXIgY2FsbGJhY2sgYWxyZWFkeSB0b29rIG92ZXJcbiAgICBpZiAoX29wdGlvbnMgJiYgX29wdGlvbnMuY2xvc2VFcnJvckNhbGxiYWNrICYmIF9vcHRpb25zLmNsb3NlRXJyb3JDYWxsYmFjayhlcnJvck1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzaG93RXJyb3IoY2xvc2VMaW5rLCBlcnJvck1lc3NhZ2UsIHRydWUpO1xuXG4gICAgaWYgKGpzb24uUmVmcmVzaENsaWVudCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgbG9jYXRpb24ucmVsb2FkKCk7IH0sIDI1MDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VfcmV0cmFjdENsb3NlVm90ZShidXR0b246IEpRdWVyeSkge1xuICAgIGlmIChidXR0b24uaXMoJzpkaXNhYmxlZCcpIHx8ICFjb25maXJtKF9zKCdBcmUgeW91IHN1cmU/IElmIHlvdSByZXRyYWN0LCB5b3Ugd29uXFx1MjAxOXQgYmUgYWJsZSB0byB2b3RlIHRvIGNsb3NlIHRoaXMgcXVlc3Rpb24gYWdhaW4uJykpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidXR0b24uZGlzYWJsZSgpLmFkZFNwaW5uZXJCZWZvcmUoeyAncG9zaXRpb24nOiAnYWJzb2x1dGUnLCAnbWFyZ2luJzogJzE4cHggMCAwIC0yNXB4JyB9KTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgdXJsOiAnL2ZsYWdzL3F1ZXN0aW9ucy97cXVlc3Rpb25JZH0vY2xvc2UvcmV0cmFjdCcuZm9ybWF0VW5pY29ybih7IHF1ZXN0aW9uSWQ6IF9wb3N0SWQgfSksXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIGRhdGE6IHsgZmtleTogb3B0aW9ucy51c2VyLmZrZXkgfVxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgY2xvc2VfdXBkYXRlQ2xvc2VMaW5rQ291bnQoanNvbiwgX3Bvc3RNZW51TGluayk7XG4gICAgfVxuICAgICkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dFcnJvcihfcG9zdE1lbnVMaW5rLCBfcygnQW4gZXJyb3Igb2NjdXJyZWQ7IHBsZWFzZSB0cnkgYWdhaW4nKSk7XG4gICAgfVxuICAgICkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZmxhZygkY2xpY2tlZDogSlF1ZXJ5KSB7XG5cbiAgICAvLyBzdGFydCBhIG5ldyBmbGFnIGNsaWNrIGFsbCBmcmVzaCBhbmQgY2xlYW5cbiAgICBjbG9zZUV4aXN0aW5nRGlhbG9ncygpO1xuICAgIHJlc2V0UHJpdmF0ZUZpZWxkcygpO1xuXG4gICAgX3Bvc3RJZCA9IGdldFBvc3RJZCgkY2xpY2tlZCk7XG4gICAgX3Bvc3RNZW51TGluayA9ICRjbGlja2VkO1xuICAgIHZhciAkcG9wdXBDb250YWluZXIgPSBnZXRQb3B1cENvbnRhaW5lcigkY2xpY2tlZCk7XG5cbiAgICB2YXIgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAgICAgbG9hZGVkVGltZXN0YW1wOiAkY2xpY2tlZC5kYXRhKERBVEFfTE9BREVEX1RJTUVTVEFNUClcbiAgICB9O1xuXG4gICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLnJldmlld1Rhc2tJZEdldHRlcilcbiAgICAgICAgZGF0YS5yZXZpZXdUYXNrSWQgPSBfb3B0aW9ucy5yZXZpZXdUYXNrSWRHZXR0ZXIoKTtcblxuICAgICRjbGlja2VkLmxvYWRQb3B1cCh7XG4gICAgICAgIHVybDogJy9mbGFncy9wb3N0cy97cG9zdElkfS9wb3B1cCcuZm9ybWF0VW5pY29ybih7IHBvc3RJZDogX3Bvc3RJZCB9KSxcbiAgICAgICAgbG9hZGVkOiBmbGFnX2xvYWRlZCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgaGlkZURlc2NyaXB0aW9uczogZmFsc2UsXG4gICAgICAgIHRhcmdldDogJHBvcHVwQ29udGFpbmVyLFxuICAgICAgICBzdWJmb3JtU2hvdzogZmxhZ19zdWJmb3JtU2hvdyxcbiAgICAgICAgZG9udFNob3c6IEJvb2xlYW4oX29wdGlvbnMgJiYgX29wdGlvbnMuZmxhZ1Nob3dQb3B1cClcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGZsYWdfbG9hZGVkKHBvcHVwOiBKUXVlcnkpIHtcbiAgICBfZmxhZ1BvcHVwID0gcG9wdXA7XG5cbiAgICBmbGFnX2luaXRBdHRlbnRpb25TdWJmb3JtKCk7XG5cbiAgICAvLyByZW1vdmUgdGhlIHBvcHVwcyB3aGVuIGNsaWNraW5nICh4KSwgYHBvcHVwQ2xvc2VgIGlzIGd1YXJhbnRlZWQgdG8gb25seSBiZSBjYWxsZWQgb25jZSBwZXIgcG9wdXAuXG4gICAgX2ZsYWdQb3B1cC5vbigncG9wdXBDbG9zZScsIGZ1bmN0aW9uICgpIHsgY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKTsgfSk7XG5cbiAgICBfZmxhZ1BvcHVwLmZpbmQoJy5qcy1mbGFnLWxvYWQtY2xvc2UnKS51bmJpbmQoJ2NsaWNrJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2xvc2Vfb3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGNsb3NlX292ZXJyaWRlKF9mbGFnUG9wdXAsICQodGhpcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmxhZ19zaG93Q2xvc2VEaWFsb2coJCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciAkZm9ybSA9IF9mbGFnUG9wdXAuZmluZCgnZm9ybScpO1xuICAgIHZhciByZXRyYWN0RmxhZ1R5cGUgPSBzZXR0aW5ncy5mbGFncy5hbGxvd1JldHJhY3RpbmdGbGFncyA/ICRmb3JtLmF0dHIoXCJkYXRhLXNob3dyZXRyYWN0XCIpIDogbnVsbDtcblxuICAgICRmb3JtLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHJhY3RGbGFnVHlwZSA/IGZsYWdfcmV0cmFjdChyZXRyYWN0RmxhZ1R5cGUpIDogZmxhZ19zdWJtaXQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgYSB1c2VyIGhhcyBhbHJlYWR5IGZsYWdnZWQgZm9yIGEgc3BlY2lmaWMgcmVhc29uLCB3ZSdsbCBkaXNhYmxlIGNob29zaW5nIHRoZSBzYW1lIHJlYXNvblxuICAgIGZsYWdfZGlzYWJsZUFjdGlvbnMoKTtcblxuICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5mbGFnU2hvd1BvcHVwKSB7XG4gICAgICAgIF9vcHRpb25zLmZsYWdTaG93UG9wdXAocG9wdXAsIF9wb3N0TWVudUxpbmspO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGZsYWdfZGlzYWJsZUFjdGlvbnMoKSB7XG4gICAgX2ZsYWdQb3B1cC5maW5kKCcuYWN0aW9uLWxpc3QgPiAuZGlzYWJsZWQtYWN0aW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsaSA9ICQodGhpcyk7XG4gICAgICAgIGxpLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgbGkuZmluZCgnLmFjdGlvbi1uYW1lJykuYWRkQ2xhc3MoJ2Rpc2FibGVkLWJ1dHRvbicpO1xuICAgIH0pO1xufVxuXG52YXIgZmxhZ19pbml0QXR0ZW50aW9uU3ViZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3VibWl0ID0gX2ZsYWdQb3B1cC5maW5kKCcuanMtcG9wdXAtc3VibWl0JyksXG4gICAgICAgIHR4dCA9IF9mbGFnUG9wdXAuZmluZCgndGV4dGFyZWFbbmFtZT1cIm90aGVyVGV4dFwiXScpLFxuICAgICAgICBwbGFnaWFyaXplZFNyYyA9IF9mbGFnUG9wdXAuZmluZCgnaW5wdXRbbmFtZT1cInBsYWdpYXJpemVkU291cmNlXCJdJyksXG4gICAgICAgIHBsYWdpYXJpemVkVHh0ID0gX2ZsYWdQb3B1cC5maW5kKCd0ZXh0YXJlYVtuYW1lPVwicGxhZ2lhcml6ZWRFeHBsYW5hdGlvblwiXScpLFxuICAgICAgICBvdGhlclJhZGlvID0gX2ZsYWdQb3B1cC5maW5kKCdpbnB1dFt2YWx1ZT1cIlBvc3RPdGhlclwiXScpLFxuICAgICAgICBwbGFnaWFyaXNtUmFkaW8gPSBfZmxhZ1BvcHVwLmZpbmQoJ2lucHV0W3ZhbHVlPVwiUGxhZ2lhcml6ZWRDb250ZW50XCJdJyk7XG5cbiAgICBjb25zdCBpc1ZhbGlkUGxhZ2lhcml6ZWRTcmMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwbGFnaWFyaXplZFNyYy52YWwoKS5sZW5ndGggPj0gMTA7XG4gICAgfTtcbiAgICBjb25zdCBpc1ZhbGlkUGxhZ2lhcml6ZWRUeHQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHBsYWdpYXJpemVkVHh0LnZhbCgpLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA+PSAxMCAmJiBsZW5ndGggPD0gNTAwO1xuICAgIH07XG5cbiAgICBwbGFnaWFyaXplZFNyY1xuICAgICAgICAub24oJ2tleWRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBzdWJtaXQuZW5hYmxlKGlzVmFsaWRQbGFnaWFyaXplZFNyYygpICYmIGlzVmFsaWRQbGFnaWFyaXplZFR4dCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICBwbGFnaWFyaXplZFR4dFxuICAgICAgICAuY2hhckNvdW50ZXIoe1xuICAgICAgICAgICAgbWluOiAxMCxcbiAgICAgICAgICAgIG1heDogNTAwLFxuICAgICAgICAgICAgc2V0SXNWYWxpZDogKGlzVmFsaWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGxhZ2lhcmlzbVJhZGlvLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdC5lbmFibGUoaXNWYWxpZCAmJiBpc1ZhbGlkUGxhZ2lhcml6ZWRTcmMoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICB0eHRcbiAgICAgICAgLmZvY3VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghb3RoZXJSYWRpby5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgIG90aGVyUmFkaW8uYXR0cignY2hlY2tlZCcsICdjaGVja2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jaGFyQ291bnRlcih7IG1pbjogMTAsIG1heDogNTAwLCBzZXRJc1ZhbGlkOlxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJSYWRpby5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXQuZW5hYmxlKGlzVmFsaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICBvdGhlclJhZGlvLmNsaWNrKGZ1bmN0aW9uICgpIHsgdHh0LmZvY3VzKCk7IH0pO1xufTtcblxudmFyIGZsYWdfc3ViZm9ybVNob3cgPSBmdW5jdGlvbiAoc3ViZm9ybTogSlF1ZXJ5KSB7XG4gICAgaWYgKCFzdWJmb3JtLmlzKCcubW9kLWF0dGVudGlvbi1zdWJmb3JtJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvdGhlclRleHQgPSBzdWJmb3JtLmZpbmQoJ3RleHRhcmVhW25hbWU9XCJvdGhlclRleHRcIl0nKTtcblxuICAgIC8vIGlmIHRoZSB0ZXh0YXJlYSB3YXMgcHJldmlvdXNseSBzZWxlY3RlZCwgZm9jdXMgaXQgYWdhaW4gd2hlbiBzaG93aW5nIHRoZSBzdWJmb3JtXG4gICAgaWYgKHN1YmZvcm0uZmluZCgnaW5wdXRbdmFsdWU9XCJQb3N0T3RoZXJcIl06Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3RoZXJUZXh0LmZvY3VzKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN1YmZvcm0uZmluZCgnaW5wdXQ6cmFkaW86Y2hlY2tlZCcpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHN1YmZvcm0uY2xvc2VzdCgnLnBvcHVwJykuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpLmRpc2FibGUoKTtcbiAgICB9XG59O1xuXG52YXIgZmxhZ19zaG93Q2xvc2VEaWFsb2cgPSBmdW5jdGlvbiAocmFkaW9Mb2FkQ2xvc2UpIHtcbiAgICB2YXIgbG9jYXRpb24gPSBfZmxhZ1BvcHVwLnBvc2l0aW9uKCk7XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBfZmxhZ1BvcHVwLmZhZGVPdXQoJ2Zhc3QnKS5wcm9taXNlKCk7XG5cbiAgICAvLyBvbmx5IGxvYWQgY2xvc2UgcG9wdXAgb25jZVxuICAgIGlmICghX2Nsb3NlUG9wdXApIHtcbiAgICAgICAgcmFkaW9Mb2FkQ2xvc2Uuc2libGluZ3MoJy5hY3Rpb24tbmFtZScpLmFkZFNwaW5uZXIoeyAnbWFyZ2luJzogJzAgNXB4JyB9KTtcbiAgICAgICAgZGVmZXJyZWQgPSBjbG9zZV9sb2FkUG9wdXAoLypmYWRlSW5Qb3B1cCovZmFsc2UpO1xuICAgIH1cblxuICAgIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0aGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgZHVwZSBVSSBpcyBjbGlja2VkLCBlbHNlIGJyZWFkY3J1bWIgb3JkZXIgaXMgaW5jb3JyZWN0XG4gICAgICAgIGNsb3NlX3B1c2hGbGFnZ2luZ0JyZWFkY3J1bWIoKTtcblxuICAgICAgICAvLyB0YWtlIHRoZSB1c2VyIGRpcmVjdGx5IHRvIHRoZSBkdXBlIFVJIGlmIHJlcXVlc3RlZFxuICAgICAgICBpZiAocmFkaW9Mb2FkQ2xvc2UuaXMoJy5qcy1mbGFnLWxvYWQtY2xvc2UtZHVwbGljYXRlJykpIHtcbiAgICAgICAgICAgIF9jbG9zZVBvcHVwLmZpbmQoJ2lucHV0W3ZhbHVlPUR1cGxpY2F0ZV0nKS5jbGljaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2Nsb3NlUG9wdXAuY3NzKHsgdG9wOiBsb2NhdGlvbi50b3AsIGxlZnQ6IGxvY2F0aW9uLmxlZnQgfSk7XG5cbiAgICAgICAgX2Nsb3NlUG9wdXAuZmFkZUluKCdmYXN0Jyk7XG4gICAgfSk7XG5cbiAgICAvLyBtYWtlIHRoZSB1c2VyIGNsaWNrIHNvbWV0aGluZyBhZ2FpbiB0byBzdWJtaXRcbiAgICBfZmxhZ1BvcHVwLmZpbmQoJy5qcy1wb3B1cC1zdWJtaXQnKS5kaXNhYmxlKCk7XG5cbiAgICAvLyBpZiB3ZSBnbyBiYWNrIHRvIHRoZSBmbGFnIHBvcHVwLCBubyByYWRpb3Mgc2hvdWxkIGJlIHNlbGVjdGVkIG9yIGhpZ2hsaWdodGVkXG4gICAgcmFkaW9Mb2FkQ2xvc2UucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgIF9mbGFnUG9wdXAuZmluZCgnLmFjdGlvbi1saXN0IGxpJykudHJpZ2dlcignaGlkZS1hY3Rpb24nKTtcbn07XG5cbnZhciBmbGFnX3JldHJhY3QgPSBmdW5jdGlvbiAoZmxhZ1R5cGUpIHtcbiAgICBmbGFnX3NlbmRmbGFnKCcvZmxhZ3MvcG9zdHMve3Bvc3RJZH0vcmV0cmFjdC97ZmxhZ1R5cGV9JywgZmxhZ1R5cGUsICcnKTtcbn1cblxudmFyIGZsYWdfc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvdGhlclRleHRBcmVhID0gX2ZsYWdQb3B1cC5maW5kKCd0ZXh0YXJlYVtuYW1lPVwib3RoZXJUZXh0XCJdJyk7XG5cbiAgICB2YXIgYWZ0ZXJTdWJtaXQgPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAvLyByZXR1cm4gdHJ1ZSBpZiBubyBmdXJ0aGVyIGNhbGxiYWNrcyBzaG91bGQgYmUgZXhlY3V0ZWQgKGlmIHRoZSBmbGFnIHdhcyB1bnN1Y2Nlc3NmdWwsIGdpdmUgdGhlIHVzZXIgYW5vdGhlciBjaGFuY2UhKVxuXG4gICAgICAgIGlmICghanNvbi5TdWNjZXNzKSB7XG4gICAgICAgICAgICBpZiAoanNvbi5PdXRjb21lID09PSAxKSB7IC8vIHNlZTogRmxhZy5GbGFnQWN0aW9uUmVzdWx0Lk91dGNvbWVzOiAxID09IFdhcm4sIDIgPT0gRXJyb3JcbiAgICAgICAgICAgICAgICBzaG93V2FybmluZyhvdGhlclRleHRBcmVhLCBqc29uLk1lc3NhZ2UsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoX2ZsYWdQb3B1cC5maW5kKCcucG9wdXAtYWN0aW9ucycpLCBqc29uLk1lc3NhZ2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZUV4aXN0aW5nRGlhbG9ncygpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIGZsYWdUeXBlID0gX2ZsYWdQb3B1cC5maW5kKCdpbnB1dFtuYW1lPVwidG9wLWZvcm1cIl06Y2hlY2tlZCcpLnZhbCgpLFxuICAgICAgICBvdGhlclRleHQgPSAnJyxcbiAgICAgICAgZXh0cmFEYXRhID0gbnVsbDtcblxuICAgIGlmIChmbGFnVHlwZSA9PSAnUG9zdE90aGVyJykge1xuICAgICAgICBvdGhlclRleHQgPSBvdGhlclRleHRBcmVhLnZhbCgpO1xuICAgIH0gZWxzZSBpZiAoZmxhZ1R5cGUgPT0gJ1BsYWdpYXJpemVkQ29udGVudCcpIHtcbiAgICAgICAgb3RoZXJUZXh0ID0gX2ZsYWdQb3B1cC5maW5kKCd0ZXh0YXJlYVtuYW1lPVwicGxhZ2lhcml6ZWRFeHBsYW5hdGlvblwiXScpLnZhbCgpO1xuICAgICAgICBleHRyYURhdGEgPSB7XG4gICAgICAgICAgICBwbGFnaWFyaXplZFNvdXJjZTogX2ZsYWdQb3B1cC5maW5kKCdpbnB1dFtuYW1lPVwicGxhZ2lhcml6ZWRTb3VyY2VcIl0nKS52YWwoKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgb3ZlcnJpZGVXYXJuaW5nID0gX2xhc3RTdWJtaXR0ZWRPdGhlclRleHQgPT09IG90aGVyVGV4dDtcbiAgICBfbGFzdFN1Ym1pdHRlZE90aGVyVGV4dCA9IG90aGVyVGV4dDtcblxuICAgIGlmIChfb3B0aW9ucyAmJiBfb3B0aW9ucy5mbGFnU3VibWl0dGluZyAmJiBfb3B0aW9ucy5mbGFnU3VibWl0dGluZygpID09PSBmYWxzZSkge1xuICAgICAgICBjbG9zZUV4aXN0aW5nRGlhbG9ncygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmxhZ19zZW5kZmxhZygnL2ZsYWdzL3Bvc3RzL3twb3N0SWR9L2FkZC97ZmxhZ1R5cGV9JywgZmxhZ1R5cGUsIG90aGVyVGV4dCwgb3ZlcnJpZGVXYXJuaW5nLCBhZnRlclN1Ym1pdCwgZXh0cmFEYXRhKTtcbn07XG5cbnZhciBmbGFnX3NlbmRmbGFnID0gZnVuY3Rpb24gKHVybFN0dWI6IHN0cmluZywgZmxhZ1R5cGUsIG90aGVyVGV4dDogc3RyaW5nLCBvdmVycmlkZVdhcm5pbmc/OiBib29sZWFuLCBhZnRlclN1Ym1pdENhbGxiYWNrPzogKGFyZzA6IE9iamVjdCkgPT4gYm9vbGVhbiwgZXh0cmFEYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIF9mbGFnUG9wdXAuZmluZCgnLmpzLXBvcHVwLXN1Ym1pdCcpLmRpc2FibGUoKS5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICB1cmw6IHVybFN0dWIuZm9ybWF0VW5pY29ybih7IHBvc3RJZDogX3Bvc3RJZCwgZmxhZ1R5cGU6IGZsYWdUeXBlIH0pLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBkYXRhOiB7IGZrZXk6IG9wdGlvbnMudXNlci5ma2V5LCBvdGhlclRleHQ6IG90aGVyVGV4dCwgY3VzdG9tRGF0YTogSlNPTi5zdHJpbmdpZnkoZXh0cmFEYXRhKSwgb3ZlcnJpZGVXYXJuaW5nOiBvdmVycmlkZVdhcm5pbmcgfVxuICAgIH0pXG4gICAgLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghYWZ0ZXJTdWJtaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgY2xvc2VFeGlzdGluZ0RpYWxvZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICBfZmxhZ1BvcHVwLmZpbmQoJy5qcy1wb3B1cC1zdWJtaXQnKS5lbmFibGUoKS5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xuICAgIH0pXG4gICAgLmRvbmUoZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgaWYgKGFmdGVyU3VibWl0Q2FsbGJhY2sgJiYgYWZ0ZXJTdWJtaXRDYWxsYmFjayhqc29uKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9vcHRpb25zICYmIF9vcHRpb25zLmZsYWdDYWxsYmFjayAmJiBfb3B0aW9ucy5mbGFnQ2FsbGJhY2soX3Bvc3RNZW51TGluaywganNvbikpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nOyBvdXIgY2FsbGJhY2sgYWxyZWFkeSB0b29rIG92ZXJcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvbi5SZXN1bHRDaGFuZ2VkU3RhdGUpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGpzb24uTWVzc2FnZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKF9wb3N0TWVudUxpbmssIGpzb24uTWVzc2FnZSwganNvbi5TdWNjZXNzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgbXNnID0gcmVzLnJlc3BvbnNlVGV4dCAmJiByZXMucmVzcG9uc2VUZXh0Lmxlbmd0aCA8IDEwMCA/IHJlcy5yZXNwb25zZVRleHQgOiBfcygnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGZsYWdnaW5nJyk7XG4gICAgICAgIHNob3dFcnJvcihfZmxhZ1BvcHVwLmZpbmQoJy5wb3B1cC1hY3Rpb25zJyksIG1zZywgdHJ1ZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcigkc291cmNlOiBKUXVlcnksIG1lc3NhZ2U6IHN0cmluZywgaXNJbmZvcm1hdGlvbmFsPzogYm9vbGVhbiwgdXNlUmF3SHRtbDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgc2hvd1RvYXN0KG1lc3NhZ2UsIHsgdHlwZTogaXNJbmZvcm1hdGlvbmFsID8gJ2luZm8nIDogJ2RhbmdlcicsICRzb3VyY2U6ICRzb3VyY2UsIHVzZVJhd0h0bWw6IHVzZVJhd0h0bWwgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dXYXJuaW5nKCRzb3VyY2U6IEpRdWVyeSwgbWVzc2FnZTogc3RyaW5nLCB1c2VSYXdIdG1sOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBzaG93VG9hc3QobWVzc2FnZSwgeyB0eXBlOiAnd2FybmluZycsICRzb3VyY2U6ICRzb3VyY2UsIHVzZVJhd0h0bWw6IHVzZVJhd0h0bWwgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFBvc3RJZCgkY2xpY2tlZDogSlF1ZXJ5KSB7XG4gICAgcmV0dXJuICRjbGlja2VkLmF0dHIoJ2RhdGEtcG9zdC1pZCcpIHx8ICRjbGlja2VkLmNsb3Nlc3QoJy5qcy1wb3N0LW1lbnUnKS5hdHRyKCdkYXRhLXBvc3QtaWQnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9wdXBDb250YWluZXIoJGNsaWNrZWQ6IEpRdWVyeSkge1xuICAgIC8vIEJ1dHRvbiBpcyBpbiBtZW51IHJlbmRlcmVkIGJlbG93IHBvc3RzLlxuICAgIHZhciAkcG9zdE1lbnVQb3B1cENvbnRhaW5lciA9ICRjbGlja2VkLmNsb3Nlc3QoJy5qcy1wb3N0LW1lbnUnKS5maW5kKCcuanMtbWVudS1wb3B1cC1jb250YWluZXInKTtcbiAgICBpZiAoJHBvc3RNZW51UG9wdXBDb250YWluZXIubGVuZ3RoID4gMCkgeyByZXR1cm4gJHBvc3RNZW51UG9wdXBDb250YWluZXI7IH1cblxuICAgIC8vIEJ1dHRvbiBpcyBpbiBmbGFnIG9uIGFkbWluIGRhc2hib2FyZC5cbiAgICB2YXIgJGZsYWdCYXJDbG9zZUNvbnRhaW5lciA9ICRjbGlja2VkLmNsb3Nlc3QoJy5qcy1wb3N0LWZsYWctYmFyJykuc2libGluZ3MoJy5qcy1wb3N0LWZsYWctY2xvc2UtY29udGFpbmVyJyk7XG4gICAgaWYgKCRmbGFnQmFyQ2xvc2VDb250YWluZXIubGVuZ3RoID4gMCkgeyByZXR1cm4gJGZsYWdCYXJDbG9zZUNvbnRhaW5lcjsgfVxuXG4gICAgLy8gT29mLCB3ZSBnaXZlIHVwLiAgUHV0IGl0IGluIHRoZSBidXR0b24ncyBwYXJlbnQgZWxlbWVudC5cbiAgICByZXR1cm4gJGNsaWNrZWQucGFyZW50KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Vm90ZVRvQ2xvc2VBbmRGbGFnKG9wdGlvbnM/OiBTdGFja0V4Y2hhbmdlVm90ZUNsb3NpbmdBbmRGbGFnZ2luZ09wdGlvbnMpIHtcblxuICAgIGlmICghX29wdGlvbnMpIHtcbiAgICAgICAgX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIHZhciBjbG9zZVNlbGVjdG9yID0gJy5qcy1jbG9zZS1xdWVzdGlvbi1saW5rJyxcbiAgICAgICAgb25DbG9zZUNsaWNrID0gZnVuY3Rpb24gKGU6IEpRdWVyeU1vdXNlRXZlbnRPYmplY3QsIGJ5cGFzc1Jlb3BlbkNvbmZpcm1hdGlvbjogYm9vbGVhbikge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY2xvc2UoJCh0aGlzKSwgISFieXBhc3NSZW9wZW5Db25maXJtYXRpb24pO1xuICAgICAgICB9O1xuICAgICQoJ2JvZHknKS5vZmYoJ2NsaWNrJywgY2xvc2VTZWxlY3Rvcikub24oJ2NsaWNrJywgY2xvc2VTZWxlY3Rvciwgb25DbG9zZUNsaWNrKTtcblxuICAgIHZhciBmbGFnU2VsZWN0b3IgPSAnLmpzLWZsYWctcG9zdC1saW5rJyxcbiAgICAgICAgb25GbGFnQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZmxhZygkKHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICAkKCdib2R5Jykub2ZmKCdjbGljaycsIGZsYWdTZWxlY3Rvcikub24oJ2NsaWNrJywgZmxhZ1NlbGVjdG9yLCBvbkZsYWdDbGljayk7XG5cbiAgICAvLyBIQUNLOiBhZGQgd2hlbiBlYWNoIGxpbmsgd2FzIGxvYWRlZCBpbnRvIHRoZSBwYWdlLCBzbyB3ZSBjYW4gbGV0IHRoZSBzZXJ2ZXIga25vdyBob3cgc3RhbGUgdGhlIGNvbnRlbnQgaXNcbiAgICAvLyAgICAgICBhbmQgdGhlIHNlcnZlciBjYW4gcmVzcG9uZCB3aXRoIHVwZGF0ZWQgc3RhdHVzZXMgd2hlbiBjbG9zaW5nL2ZsYWdnaW5nXG4gICAgdmFyIG1zU2luY2VFcG9jaCA9IERhdGUubm93KCk7XG4gICAgJChjbG9zZVNlbGVjdG9yKS5hZGQoZmxhZ1NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlID0gJCh0aGlzKTtcbiAgICAgICAgaWYgKCEkZS5kYXRhKERBVEFfTE9BREVEX1RJTUVTVEFNUCkpICRlLmRhdGEoREFUQV9MT0FERURfVElNRVNUQU1QLCBtc1NpbmNlRXBvY2gpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBzZXRUb29sdGlwVGV4dCB9IGZyb20gXCIuL3N0dWIubW9kXCI7XG5pbXBvcnQgeyBzaG93VG9hc3QsIGxvYWRNb2RhbCwgcmVtb3ZlUGFyYW1ldGVyRnJvbVF1ZXJ5U3RyaW5nLCBnZXRUZXh0RnJvbUh0bWxTdHJpbmcsIGhpZGVUb2FzdHMgfSBmcm9tIFwiLi4vU2hhcmVkL2hlbHBlcnMubW9kXCI7XG5pbXBvcnQgb3B0aW9ucyBmcm9tIFwiLi4vU2hhcmVkL29wdGlvbnMubW9kXCI7XG5pbXBvcnQgKiBhcyBncHMgZnJvbSBcIi4vZnVsbC1jb21tb24vMjBfQW5hbHl0aWNzLm1vZFwiXG5pbXBvcnQgeyBoaWRlUG9wb3ZlciB9IGZyb20gJ0BzdGFja292ZXJmbG93L3N0YWNrcyc7XG5cbmZ1bmN0aW9uIHRvZ2dsZVNlbGVjdFN0YXRlKCRidG46IEpRdWVyeSwgc2hvdWxkU2VsZWN0OiBib29sZWFuLCB0b29sVGlwVGV4dD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChzaG91bGRTZWxlY3QpIHtcbiAgICAgICAgJGJ0bi5hdHRyKCdhcmlhLXByZXNzZWQnLCAndHJ1ZScpO1xuICAgICAgICAkYnRuLmZpbmQoJy5qcy1zYXZlcy1idG4tc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICRidG4uZmluZCgnLmpzLXNhdmVzLWJ0bi11bnNlbGVjdGVkJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICRidG4uYXR0cignYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG4gICAgICAgICRidG4uZmluZCgnLmpzLXNhdmVzLWJ0bi1zZWxlY3RlZCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgJGJ0bi5maW5kKCcuanMtc2F2ZXMtYnRuLXVuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgfVxuXG4gICAgaWYgKHRvb2xUaXBUZXh0KSB7XG4gICAgICAgIHNldFRvb2x0aXBUZXh0KCRidG4sIHRvb2xUaXBUZXh0KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluaXRTYXZlc0J1dHRvbnMoKTogdm9pZCB7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1zYXZlcy1idG4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0ICRzYXZlc0J0biA9ICQodGhpcyk7XG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSAkc2F2ZXNCdG4uYXR0cignYXJpYS1wcmVzc2VkJyk7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICRzYXZlc0J0bi5kYXRhKCdwb3N0LWlkJyk7XG5cbiAgICAgICAgc3VibWl0U2F2ZShwb3N0SWQsIGlzU2VsZWN0ZWQgPT09ICd0cnVlJywgJCh0aGlzKSwgKE5leHRUb29sdGlwOiBzdHJpbmcpID0+IHRvZ2dsZVNlbGVjdFN0YXRlKCRzYXZlc0J0biwgaXNTZWxlY3RlZCA9PT0gJ2ZhbHNlJyA/IHRydWUgOiBmYWxzZSwgTmV4dFRvb2x0aXApKTtcbiAgICAgICAgc2VuZFBvc3RDbGlja0V2ZW50KCRzYXZlc0J0bik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRNYW5hZ2VTYXZlTW9kYWwoKTogdm9pZCB7XG4gICAgY29uc3QgdXJsID0gJy9wb3N0cy9zYXZlL21hbmFnZS1zYXZlJztcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLmpzLXNhdmUtbWFuYWdlLXNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZU9wdGlvbiA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIGNvbnN0ICR0ZXh0Ym94ID0gJCgnI3NhdmUtbWFuYWdlLWFkZC1saXN0LXRleHRib3gnKTtcbiAgICAgICAgaWYgKGNyZWF0ZU9wdGlvbiA9PT0gXCJjcmVhdGVcIikge1xuICAgICAgICAgICAgJHRleHRib3gucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgJHRleHRib3guZmluZCgnaW5wdXQnKS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEkdGV4dGJveC5oYXNDbGFzcygnZC1ub25lJykpIHtcbiAgICAgICAgICAgICAgICAkdGV4dGJveC5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCAnLmpzLXNhdmUtbWFuYWdlLWZvcm0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0ICRpbnB1dEJveCA9ICQodGhpcykuZmluZCgnI3NhdmUtbWFuYWdlLWFkZC1saXN0LXRleHRib3gnKTtcbiAgICAgICAgY29uc3QgJGlucHV0RmllbGQgPSAkaW5wdXRCb3guZmluZCgnaW5wdXQnKTtcbiAgICAgICAgY29uc3QgJHNlbGVjdEZpZWxkID0gJCh0aGlzKS5maW5kKCcuanMtc2F2ZS1tYW5hZ2Utc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpO1xuXG4gICAgICAgIHN1Ym1pdFNhdmVNb2RhbCgkKCcjc2F2ZS1tYW5hZ2UtbW9kYWwnKSwgdXJsLCAkaW5wdXRGaWVsZCwgJHNlbGVjdEZpZWxkLCB0cnVlLCAobmV3TGlzdElkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCAkbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJyNzYXZlLW1hbmFnZS1tb2RhbCcpO1xuXG4gICAgICAgICAgICBpZiAoJG1vZGFsLmxlbmd0aCA+IDAgJiYgJG1vZGFsLmRhdGEoJ2lzTW92ZXRvJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSAkbW9kYWwuZGF0YSgndXNlcklkJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zdElkID0gJG1vZGFsLmRhdGEoJ3Bvc3RJZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTGlzdElkID0gJHNlbGVjdEZpZWxkLmRhdGEoJ2xpc3RJZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTGlzdE5hbWUgPSAkc2VsZWN0RmllbGQuZGF0YSgnbGlzdE5hbWUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHVzZXIgaGFzIGlucHV0IGEgbmV3IGxpc3QgbmFtZVxuICAgICAgICAgICAgICAgIGlmICgkaW5wdXRGaWVsZC5sZW5ndGggPiAwICYmICRpbnB1dEZpZWxkLnZhbCgpLmxlbmd0aCA+IDAgJiYgISRpbnB1dEJveC5oYXNDbGFzcygnZC1ub25lJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdE5hbWUgPSBnZXRUZXh0RnJvbUh0bWxTdHJpbmcoJGlucHV0RmllbGQudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3TGlzdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRMaXN0TmFtZShuZXdMaXN0SWQudG9TdHJpbmcoKSwgbGlzdE5hbWUsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnLmpzLXNhdmVzLWxpc3RzLXBvc3RzJykuZGF0YSgnaXNBbGwnKSA9PT0gJ1RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2F2ZWRJbihuZXdMaXN0SWQudG9TdHJpbmcoKSwgbGlzdE5hbWUsIHBvc3RJZCwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUG9zdCgkbW9kYWwuZGF0YSgncG9zdElkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3aGVuIHVzZXIgaXMgb24gXCJGb3IgbGF0ZXJcIiBwYWdlLCBhbmQgdHJ5IHRvIG1vdmUgc29tZXRoaW5nIHRvIGZvciBsYXRlciwgcmV0dXJuXG4gICAgICAgICAgICAgICAgaWYgKCQoJy5qcy1zYXZlcy1saXN0cy1wb3N0cycpLmRhdGEoJ2lzRm9ybGF0ZXInKSA9PT0gJ1RydWUnICYmICRzZWxlY3RGaWVsZC52YWwoKSA9PT0gJ2Zvci1sYXRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVzZXIgaGFzIGNoYW5nZWQgc2VsZWN0IG1lbnUgdG8gYSBuZXcgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMaXN0SWQgIT09ICRtb2RhbC5kYXRhKCdsaXN0SWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHVzZXIgaXMgb24gXCJBbGwgc2F2ZXNcIiBwYWdlLCBkbyBub3QgcmVtb3ZlIHBvc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5qcy1zYXZlcy1saXN0cy1wb3N0cycpLmRhdGEoJ2lzQWxsJykgPT09ICdUcnVlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2F2ZWRJbihzZWxlY3RlZExpc3RJZCwgc2VsZWN0ZWRMaXN0TmFtZSwgcG9zdElkLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUG9zdCgkbW9kYWwuZGF0YSgncG9zdElkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdExpc3RBY3Rpb25Nb2RhbCgpOiB2b2lkIHtcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLW9wZW4tbGlzdC1tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG1vZGFsSWQgPSAnJztcbiAgICAgICAgY29uc3QgYWN0aW9uID0gJCh0aGlzKS5kYXRhKCdtb2RhbEFjdGlvbicpO1xuICAgICAgICBpZiAoYWN0aW9uID09ICdDcmVhdGUnKSB7XG4gICAgICAgICAgICBtb2RhbElkID0gJ2NyZWF0ZS1saXN0LW1vZGFsJztcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ0VkaXQnKSB7XG4gICAgICAgICAgICBtb2RhbElkID0gJ2VkaXQtbGlzdC1tb2RhbCc7XG4gICAgICAgIH1cbiAgICAgICAgU3RhY2tzLnNob3dNb2RhbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbElkKSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbigncy1tb2RhbDpzaG93bicsICcuanMtbGlzdC1hY3Rpb24tbW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0ICRpbnB1dCA9ICQodGhpcykuZmluZCgnLmpzLWxpc3QtbmFtZS1pbnB1dCcpO1xuICAgICAgICBjb25zdCBtb2RhbEFjdGlvbiA9ICQodGhpcykuZGF0YSgnbW9kYWxBY3Rpb24nKTtcbiAgICAgICAgaWYgKCRpbnB1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW5kZXIgbGlzdCBuYW1lIGFmdGVyIG1vZGFsIG9wZW5zLCBzbyB0aGUgY3Vyc29yIGZvY3VzZXMgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBuYW1lXG4gICAgICAgIGlmIChtb2RhbEFjdGlvbiA9PSBcIkVkaXRcIikge1xuICAgICAgICAgICAgJGlucHV0LnZhbCgkKHRoaXMpLmRhdGEoJ2xpc3ROYW1lJykpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJy5qcy1zYXZlLWVkaXQtbGlzdC1mb3JtJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCAkbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1saXN0LWFjdGlvbi1tb2RhbCcpO1xuICAgICAgICBjb25zdCBsaXN0SWQgPSAkbW9kYWwuZGF0YSgnbGlzdElkJyk7XG4gICAgICAgIGNvbnN0IG1vZGFsVHlwZSA9ICRtb2RhbC5kYXRhKCdtb2RhbEFjdGlvbicpO1xuICAgICAgICBjb25zdCB1c2VySWQgPSAkbW9kYWwuZGF0YSgndXNlcklkJyk7XG4gICAgICAgIGNvbnN0IHVybCA9IGAvdXNlcnMvc2F2ZXMvJHt1c2VySWR9LyR7bW9kYWxUeXBlLnRvTG93ZXJDYXNlKCl9LWxpc3RgO1xuICAgICAgICBjb25zdCAkaW5wdXRGaWVsZCA9ICQodGhpcykuZmluZCgnLmpzLWxpc3QtbmFtZS1pbnB1dCcpO1xuICAgICAgICBzdWJtaXRTYXZlTW9kYWwoJG1vZGFsLCB1cmwsICRpbnB1dEZpZWxkLCBudWxsLCB0cnVlLCAobmV3TGlzdElkKSA9PiB7XG4gICAgICAgICAgICBpZiAobW9kYWxUeXBlID09PSAnQ3JlYXRlJykge1xuICAgICAgICAgICAgICAgIGFkZExpc3ROYW1lKG5ld0xpc3RJZC50b1N0cmluZygpLCBnZXRUZXh0RnJvbUh0bWxTdHJpbmcoJGlucHV0RmllbGQudmFsKCkpLCB1c2VySWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RhbFR5cGUgPT09ICdFZGl0Jykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxpc3ROYW1lKGxpc3RJZCwgZ2V0VGV4dEZyb21IdG1sU3RyaW5nKCRpbnB1dEZpZWxkLnZhbCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oJ3MtbW9kYWw6aGlkZGVuJywgJy5qcy1saXN0LWFjdGlvbi1tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgJG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcuanMtbGlzdC1hY3Rpb24tbW9kYWwnKTtcbiAgICAgICAgY29uc3QgbW9kYWxBY3Rpb24gPSAkbW9kYWwuZGF0YSgnbW9kYWxBY3Rpb24nKTtcbiAgICAgICAgY29uc3QgJGlucHV0ID0gJCh0aGlzKS5maW5kKCcuanMtbGlzdC1uYW1lLWlucHV0Jyk7XG5cbiAgICAgICAgLy8gY2xlYW4gdXAgdXNlciBpbnB1dCBmb3IgbmV4dCB0aW1lIHRoZSBtb2RhbCBvcGVuc1xuICAgICAgICBpZiAobW9kYWxBY3Rpb24gPT0gJ0NyZWF0ZScpIHtcbiAgICAgICAgICAgICRpbnB1dC52YWwoJycpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGFsQWN0aW9uID09ICdFZGl0Jykge1xuICAgICAgICAgICAgJGlucHV0LnZhbCgkKHRoaXMpLmRhdGEoJ2xpc3ROYW1lJykpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBmb3IgZGlzcGxheWluZyB0b2FzdCBtZXNzYWdlIGFmdGVyIHN1Y2Nlc3NmdWxseSBkZWxldGUgYSBsaXN0IGFuZCBnZXQgcmVkaXJlY3RlZCB0byBcImFsbCBzYXZlc1wiXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCB1c2VySWQgPSBvcHRpb25zLnVzZXIudXNlcklkO1xuXG4gICAgICAgIC8vIGlmIG5vdCBzYXZlcyBwYWdlLCBkbyBub3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKCQoJy5qcy1zYXZlcy1wYWdlJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gYC91c2Vycy9zYXZlcy8ke3VzZXJJZH0vdW5kZWxldGUtbGlzdGA7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcblxuICAgICAgICBpZiAocXVlcnlTdHJpbmcuaGFzKCdkZWxldGVkTGlzdCcpICYmIHF1ZXJ5U3RyaW5nLmhhcygnbGlzdE5hbWUnKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdElkID0gcXVlcnlTdHJpbmcuZ2V0KCdkZWxldGVkTGlzdCcpO1xuICAgICAgICAgICAgY29uc3QgbGlzdE5hbWUgPSBxdWVyeVN0cmluZy5nZXQoJ2xpc3ROYW1lJyk7XG4gICAgICAgICAgICByZW1vdmVQYXJhbWV0ZXJGcm9tUXVlcnlTdHJpbmcoJ2RlbGV0ZWRMaXN0Jyk7XG4gICAgICAgICAgICByZW1vdmVQYXJhbWV0ZXJGcm9tUXVlcnlTdHJpbmcoJ2xpc3ROYW1lJyk7XG5cbiAgICAgICAgICAgIHNob3dUb2FzdChfbSgnJGxpc3ROYW1lJCBoYXMgYmVlbiBkZWxldGVkIGZyb20geW91ciBsaXN0cy4nLCB7IGxpc3ROYW1lIH0pLCB7XG4gICAgICAgICAgICAgICAgdXNlUmF3SHRtbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbENvbnRlbnRzOiAkKCc8c3Bhbj4nKS50ZXh0KF9zKCdVbmRvJykpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFVuZGVsZXRlTGlzdChyZXF1ZXN0VXJsLCBsaXN0SWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdWNjZXNzXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXNhdmVzLWRlbGV0ZS1saXN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdWJtaXREZWxldGVMaXN0KCQodGhpcykpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZW5kUG9zdENsaWNrRXZlbnQoJHNhdmVzQnRuKSB7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9ICRzYXZlc0J0bi5hdHRyKCdhcmlhLXByZXNzZWQnKTtcbiAgICBjb25zdCBhbHJlYWR5U2F2ZWQgPSBpc1NlbGVjdGVkID09PSAndHJ1ZSc7XG4gICAgY29uc3QgcG9zdFR5cGVJZCA9ICRzYXZlc0J0bi5kYXRhKCdwb3N0LXR5cGUtaWQnKTtcbiAgICBjb25zdCBwcml2aWxlZ2UgPSAkc2F2ZXNCdG4uZGF0YSgndXNlci1wcml2aWxlZ2UtZm9yLXBvc3QtY2xpY2snKTtcblxuICAgIGdwcy50cmFjaygncG9zdC5jbGljaycsIHtcbiAgICAgICAgaXRlbTogKGFscmVhZHlTYXZlZCA/IC8qUG9zdENsaWNrVHlwZS5VbnNhdmUqLyAxOSA6IC8qUG9zdENsaWNrVHlwZS5TYXZlKi8gMTgpLFxuICAgICAgICBwcml2OiBwcml2aWxlZ2UsXG4gICAgICAgIHBvc3RfdHlwZTogcG9zdFR5cGVJZFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZW5kRmF2b3JpdGVzUG9wdXBTaG93RXZlbnQoKSB7XG4gICAgZ3BzLnRyYWNrKCdmYXZvcml0ZV9wb3B1cC5zaG93Jywge30pO1xufVxuXG5mdW5jdGlvbiBzdWJtaXREZWxldGVMaXN0KCRkZWxldGVCdG46IEpRdWVyeSk6IHZvaWQge1xuICAgIGNvbnN0ICRtb2RhbCA9ICRkZWxldGVCdG4uY2xvc2VzdCgnI2VkaXQtbGlzdC1tb2RhbCcpO1xuICAgIGNvbnN0IGxpc3RJZCA9ICRtb2RhbC5kYXRhKCdsaXN0SWQnKTtcbiAgICBjb25zdCB1c2VySWQgPSAkbW9kYWwuZGF0YSgndXNlcklkJyk7XG4gICAgY29uc3QgbGlzdE5hbWUgPSAkbW9kYWwuZGF0YSgnbGlzdE5hbWUnKTtcbiAgICBjb25zdCBiYXNlVXJsID0gYC91c2Vycy9zYXZlcy8ke3VzZXJJZH1gO1xuICAgIGNvbnN0IGRlbGV0ZVVybCA9IGAke2Jhc2VVcmx9LyR7bGlzdElkfS9kZWxldGUtbGlzdGA7XG4gICAgY29uc3QgcmVkaXJlY3RVcmwgPSBgJHtiYXNlVXJsfS9hbGxgO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgIHVybDogZGVsZXRlVXJsLFxuICAgICAgICBkYXRhOiB7IGZrZXk6IG9wdGlvbnMudXNlci5ma2V5IH0sXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYCR7cmVkaXJlY3RVcmx9P2RlbGV0ZWRMaXN0PSR7bGlzdElkfSZsaXN0TmFtZT0ke2xpc3ROYW1lfWA7XG4gICAgICAgICAgICBTdGFja3MuaGlkZU1vZGFsKCRtb2RhbC5nZXQoMCkpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZSk7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBzdWJtaXRVbmRlbGV0ZUxpc3QodXJsOiBzdHJpbmcsIGxpc3RJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZmtleTogb3B0aW9ucy51c2VyLmZrZXksXG4gICAgICAgICAgICBsaXN0SWRcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3VzZXJzL3NhdmVzLyR7b3B0aW9ucy51c2VyLnVzZXJJZH0vJHtsaXN0SWR9YDtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGUpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL3VzZXJzL3NhdmVzLyR7b3B0aW9ucy51c2VyLnVzZXJJZH0vYWxsYDtcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGluaXRBY3Rpb25NZW51KCk6IHZvaWQge1xuICAgICQoJy5qcy11bnNhdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICQodGhpcykuZGF0YSgncG9zdC1pZCcpO1xuICAgICAgICBzdWJtaXRTYXZlKHBvc3RJZCwgdHJ1ZSwgJCh0aGlzKSwgKCkgPT4gcmVtb3ZlUG9zdChwb3N0SWQpKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1zYXZlLW1vdmV0bycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcG9zdElkID0gJCh0aGlzKS5kYXRhKCdwb3N0LWlkJyk7XG4gICAgICAgIGNvbnN0IGxpc3RJZCA9ICQodGhpcykuZGF0YSgnbGlzdC1pZCcpO1xuICAgICAgICBsb2FkTWFuYWdlU2F2ZU1vZGFsKHBvc3RJZCwgbGlzdElkLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIGluaXROb3RlQWN0aW9uQnV0dG9ucygpO1xufVxuXG5mdW5jdGlvbiBsb2FkTWFuYWdlU2F2ZU1vZGFsKHBvc3RJZDogc3RyaW5nLCBsaXN0SWQ/OiBzdHJpbmcsIGlzTW92ZVRvOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICBsb2FkTW9kYWwoYC9wb3N0cy8ke3Bvc3RJZH0vb3Blbi1zYXZlLW1vZGFsPyR7aXNNb3ZlVG8gPyAnaXNNb3ZlVG89dHJ1ZScgOiAnJ30ke2xpc3RJZCA/ICcmbGlzdElkPScgKyBsaXN0SWQgOiAnJ31gKVxuICAgIC5mYWlsKCgpID0+IHtcbiAgICAgICAgdmFyIG1lc3NhZ2VIdG1sID0gJCgnPHNwYW4+JykudGV4dChfcygnQW4gZXJyb3Igb2NjdXJyZWQnKSkuaHRtbCgpO1xuICAgICAgICBzaG93VG9hc3QobWVzc2FnZUh0bWwsIHsgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpc3ROYW1lKGxpc3RJZDogc3RyaW5nLCBsaXN0TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IHNpZGViYXJJdGVtO1xuICAgIGxldCBzaWRlYmFySXRlbU1vYmlsZTtcbiAgICBjb25zdCBsaXN0SGVhZGVyID0gJCgnLmpzLXNhdmVzLWxpc3QtaGVhZGVyJyk7XG4gICAgY29uc3Qgc2lkZWJhckl0ZW1zID0gJCgnLmpzLXNhdmVzLXNpZGViYXItaXRlbScpO1xuICAgIGNvbnN0IHNpZGViYXJJdGVtc01vYmlsZSA9ICQoJy5qcy1zYXZlcy1zaWRlYmFyLWl0ZW0tbW9iaWxlJyk7XG4gICAgY29uc3QgJGVkaXRNb2RhbCA9ICQoJyNlZGl0LWxpc3QtbW9kYWwnKTtcblxuICAgIHNpZGViYXJJdGVtcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdsaXN0SWQnKSA9PSBsaXN0SWQpIHtcbiAgICAgICAgICAgIHNpZGViYXJJdGVtID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2lkZWJhckl0ZW1zTW9iaWxlLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdsaXN0SWQnKSA9PSBsaXN0SWQpIHtcbiAgICAgICAgICAgIHNpZGViYXJJdGVtTW9iaWxlID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBsaXN0SGVhZGVyLmh0bWwobGlzdE5hbWUpO1xuICAgIHNpZGViYXJJdGVtLmZpbmQoJ2EnKS5odG1sKGxpc3ROYW1lKTtcbiAgICBzaWRlYmFySXRlbU1vYmlsZS50ZXh0KGxpc3ROYW1lKTtcbiAgICBpZiAoJGVkaXRNb2RhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICRlZGl0TW9kYWwuYXR0cignZGF0YS1saXN0LW5hbWUnLCBsaXN0TmFtZSk7XG4gICAgICAgICRlZGl0TW9kYWwuZGF0YSgnbGlzdC1uYW1lJywgbGlzdE5hbWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkTGlzdE5hbWUobGlzdElkOiBzdHJpbmcsIGxpc3ROYW1lOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbGluayA9IGAvdXNlcnMvc2F2ZXMvJHt1c2VySWR9LyR7bGlzdElkfWA7XG5cbiAgICAvLyBhZGQgdG8gZGVza3RvcCBzaWRlYmFyXG4gICAgY29uc3QgJHNpZGViYXIgPSAkKCcuanMtc2F2ZXMtc2lkZWJhci1uYXYnKTtcbiAgICBjb25zdCAkaXRlbSA9ICQoYDxsaSBjbGFzcz1cImpzLXNhdmVzLXNpZGViYXItaXRlbVwiIGRhdGEtbGlzdC1pZD1cIiR7bGlzdElkfVwiPjxhIGNsYXNzPVwicy1uYXZpZ2F0aW9uLS1pdGVtXCIgaHJlZj1cIiR7bGlua31cIj4ke2xpc3ROYW1lfTwvYT48L2xpPmApO1xuICAgICRzaWRlYmFyLmFwcGVuZCgkaXRlbSk7XG5cbiAgICAvLyBhZGQgdG8gbW9iaWxlIHNlbGVjdCBtZW51XG4gICAgY29uc3QgJG1vYmlsZVNlbGVjdCA9ICQoJy5qcy1zYXZlcy1zaWRlYmFyLW5hdi1tb2JpbGUgb3B0Z3JvdXAnKTtcbiAgICBjb25zdCAkbW9iaWxlSXRlbSA9ICQoYDxvcHRpb24gY2xhc3M9XCJqcy1zYXZlcy1zaWRlYmFyLWl0ZW0tbW9iaWxlXCIgdmFsdWU9XCIke2xpbmt9XCIgZGF0YS1saXN0LWlkPVwiJHtsaXN0SWR9XCI+JHtsaXN0TmFtZX08L29wdGlvbj5gKTtcbiAgICAkbW9iaWxlU2VsZWN0LmFwcGVuZCgkbW9iaWxlSXRlbSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNhdmVkSW4obGlzdElkOiBzdHJpbmcsIGxpc3ROYW1lOiBzdHJpbmcsIHBvc3RJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHBvc3RTdW1tYXJ5ID0gJChgLmpzLXNhdmVzLXBvc3Qtc3VtbWFyeS0ke3Bvc3RJZH1gKTtcbiAgICBjb25zdCBzYXZlZEluID0gcG9zdFN1bW1hcnkuZmluZCgnLmpzLXNhdmVkLWluJyk7XG4gICAgc2F2ZWRJbi5odG1sKGxpc3ROYW1lKTtcbiAgICBzYXZlZEluLmF0dHIoJ2hyZWYnLCBgL3VzZXJzL3NhdmVzLyR7dXNlcklkfS8ke2xpc3RJZH1gKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUG9zdChwb3N0SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHBvc3RTdW1tYXJ5ID0gJChgLmpzLXNhdmVzLXBvc3Qtc3VtbWFyeS0ke3Bvc3RJZH1gKTtcbiAgICBpZiAocG9zdFN1bW1hcnkubGVuZ3RoID4gMCkge1xuICAgICAgICBwb3N0U3VtbWFyeS5yZW1vdmUoKTtcblxuICAgICAgICAvLyBhZGp1c3Qgc2F2ZXMgY291bnQgZm9yIGN1cnJlbnQgbGlzdFxuICAgICAgICBjb25zdCBzYXZlc0NvdW50ID0gJCgnLmpzLXNhdmVzLWNvdW50Jyk7XG4gICAgICAgIHZhciBjdXJyZW50Q291bnQgPSBwYXJzZUludChzYXZlc0NvdW50LmRhdGEoJ3NhdmVzLWNvdW50JykpO1xuICAgICAgICB2YXIgbmV3Q291bnQgPSBjdXJyZW50Q291bnQgLT0gMTtcblxuICAgICAgICBzYXZlc0NvdW50Lmh0bWwoX3MoXCIjc2F2ZXNDb3VudCMgc2F2ZWQgaXRlbXNcIiwgeyBzYXZlc0NvdW50OiBuZXdDb3VudCB9KSk7XG4gICAgICAgIHNhdmVzQ291bnQuYXR0cignZGF0YS1zYXZlcy1jb3VudCcsIG5ld0NvdW50KTtcbiAgICAgICAgc2F2ZXNDb3VudC5kYXRhKCdzYXZlcy1jb3VudCcsIG5ld0NvdW50KTtcblxuICAgICAgICBpZiAobmV3Q291bnQgPT0gMCkge1xuICAgICAgICAgICAgJCgnLmpzLXNhdmVzLXBvc3QtbGlzdCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICQoJy5qcy1zYXZlcy1lbXB0eS1zdGF0ZScpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc3VibWl0U2F2ZShwb3N0SWQ6IHN0cmluZywgaXNVbmRvOiBib29sZWFuLCBzdWJtaXRCdG4/OiBKUXVlcnksIG9uU3VjY2Vzcz86IChOZXh0VG9vbHRpcDogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgdXJsID0gYC9wb3N0cy8ke3Bvc3RJZH0vc2F2ZSR7aXNVbmRvID8gJz9pc1VuZG89dHJ1ZScgOiAnJ31gO1xuXG4gICAgaWYgKHN1Ym1pdEJ0bikge1xuICAgICAgICBzdWJtaXRCdG4uYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGE6IHsgZmtleTogb3B0aW9ucy51c2VyLmZrZXkgfSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChzdWJtaXRCdG4pIHtcbiAgICAgICAgICAgICAgICBzdWJtaXRCdG4ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgeyBOZXh0VG9vbHRpcCA9IFwiXCIsIFRvYXN0TWVzc2FnZSA9IFwiXCIsIElzVW5kbyA9IGZhbHNlIH0gPSBkYXRhO1xuICAgICAgICAgICAgaWYgKG9uU3VjY2VzcylcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoTmV4dFRvb2x0aXApO1xuXG4gICAgICAgICAgICB2YXIgdG9hc3RNYW5hZ2VBY3Rpb24gPSBJc1VuZG8gPyBbXSA6IFt7XG4gICAgICAgICAgICAgICAgbGFiZWxDb250ZW50czogJCgnPHNwYW4+JykudGV4dChfcygnTWFuYWdlJykpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkTWFuYWdlU2F2ZU1vZGFsKHBvc3RJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV07XG5cbiAgICAgICAgICAgIGlmIChUb2FzdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoVG9hc3RNZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgIHVzZVJhd0h0bWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IHRvYXN0TWFuYWdlQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2hvd1RvYXN0KF9zKCdBbiBlcnJvciBvY2N1cnJlZCcpLCB7IHR5cGU6IFwiZGFuZ2VyXCIgfSk7XG4gICAgICAgICAgICBpZiAoc3VibWl0QnRuKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0QnRuLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc3VibWl0U2F2ZU1vZGFsKCRtb2RhbDogSlF1ZXJ5LCB1cmw6IHN0cmluZywgJGxpc3RJbnB1dEZpZWxkPzogSlF1ZXJ5LCAkc2VsZWN0RmllbGQ/OiBKUXVlcnksIHNob3VsZFNob3dUb2FzdDogYm9vbGVhbiA9IHRydWUsIG9uU3VjY2Vzcz86IChsaXN0SWQ6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIGxldCBwb3N0SWQ7XG4gICAgbGV0IGxpc3ROYW1lO1xuICAgIGxldCBsaXN0SWQ7XG4gICAgbGV0IHByaXZhdGVOb3RlO1xuICAgIGxldCBpc0NyZWF0aW5nO1xuXG4gICAgY29uc3QgJHN1Ym1pdEVsZW1lbnQgPSAkbW9kYWwuZmluZCgnLmpzLXNhdmUtbWFuYWdlLXN1Ym1pdCcpO1xuICAgIGNvbnN0ICRwcml2YXRlTm90ZUZpZWxkID0gJG1vZGFsLmZpbmQoJy5qcy1zYXZlLWFkZC1ub3RlJyk7XG4gICAgY29uc3QgaXNDcmVhdGluZ0xpc3RTZWxlY3RlZCA9ICRtb2RhbC5maW5kKCcuanMtc2F2ZS1tYW5hZ2Utc2VsZWN0JykudmFsKCkgPT09ICdjcmVhdGUnO1xuICAgIGNvbnN0IGlzTGlzdE5hbWVGaWVsZEZpbGxlZCA9ICRsaXN0SW5wdXRGaWVsZC52YWwoKSAmJiAkbGlzdElucHV0RmllbGQudmFsKCkubGVuZ3RoID4gMDtcblxuICAgIC8vIHdoZW4gXCJmb3IgbGF0ZXJcIiBpcyBzZWxlY3RlZCBhbmQgcHJpdmF0ZSBub3RlIGZpZWxkIGlzIGVtcHR5LCBubyBhY3Rpb24gaXMgcmVxdWlyZWRcbiAgICBpZiAoJHNlbGVjdEZpZWxkICYmICRzZWxlY3RGaWVsZC52YWwoKSA9PT0gXCJmb3ItbGF0ZXJcIiAmJiAkcHJpdmF0ZU5vdGVGaWVsZC5sZW5ndGggPiAwICYmICEkcHJpdmF0ZU5vdGVGaWVsZC52YWwoKSkge1xuICAgICAgICBTdGFja3MuaGlkZU1vZGFsKCRtb2RhbC5nZXQoMCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCRwcml2YXRlTm90ZUZpZWxkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJpdmF0ZU5vdGUgPSAkcHJpdmF0ZU5vdGVGaWVsZC52YWwoKTtcbiAgICB9XG5cbiAgICBpZiAoJHNlbGVjdEZpZWxkKSB7XG4gICAgICAgIGxpc3RJZCA9ICRzZWxlY3RGaWVsZC5kYXRhKCdsaXN0SWQnKTtcbiAgICB9IGVsc2UgaWYgKCRtb2RhbC5kYXRhKCdsaXN0LWlkJykpIHtcbiAgICAgICAgbGlzdElkID0gJG1vZGFsLmRhdGEoJ2xpc3QtaWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCB3cmFwcGVyID0gJHN1Ym1pdEVsZW1lbnQuY2xvc2VzdCgnLmpzLXNhdmUtbW9kYWwnKTtcbiAgICBpZiAod3JhcHBlci5sZW5ndGggPiAwICYmIHdyYXBwZXIuZGF0YSgncG9zdElkJykgIT09IG51bGwpIHtcbiAgICAgICAgcG9zdElkID0gd3JhcHBlci5kYXRhKCdwb3N0SWQnKTtcbiAgICB9XG5cbiAgICBpZiAoJHNlbGVjdEZpZWxkICYmICRzZWxlY3RGaWVsZC5kYXRhKCdsaXN0TmFtZScpKSB7XG4gICAgICAgIGxpc3ROYW1lID0gJHNlbGVjdEZpZWxkLmRhdGEoJ2xpc3ROYW1lJyk7XG4gICAgfSBlbHNlIGlmIChpc0NyZWF0aW5nTGlzdFNlbGVjdGVkIHx8IGlzTGlzdE5hbWVGaWVsZEZpbGxlZCkge1xuICAgICAgICBsaXN0TmFtZSA9IGdldFRleHRGcm9tSHRtbFN0cmluZygkbGlzdElucHV0RmllbGQudmFsKCkpO1xuICAgICAgICBpZiAoJG1vZGFsLmRhdGEoJ21vZGFsQWN0aW9uJykgPT0gbnVsbCkge1xuICAgICAgICAgICAgaXNDcmVhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBma2V5OiBvcHRpb25zLnVzZXIuZmtleSxcbiAgICAgICAgbGlzdE5hbWU6IGxpc3ROYW1lLFxuICAgICAgICBwb3N0SWQ6IHBvc3RJZCxcbiAgICAgICAgbGlzdElkOiBsaXN0SWQsXG4gICAgICAgIGlzQ3JlYXRpbmc6IGlzQ3JlYXRpbmcsXG4gICAgICAgIHByaXZhdGVOb3RlOiBwcml2YXRlTm90ZVxuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU2hvd1RvYXN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBUb2FzdE1lc3NhZ2UgPSBcIlwiIH0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIHNob3dUb2FzdChUb2FzdE1lc3NhZ2UsIHsgdXNlUmF3SHRtbDogdHJ1ZSwgdHlwZTogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IExpc3RJZCA9IDAgfSA9IGRhdGE7XG4gICAgICAgICAgICBTdGFja3MuaGlkZU1vZGFsKCRtb2RhbC5nZXQoMCkpO1xuICAgICAgICAgICAgb25TdWNjZXNzKExpc3RJZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93RXJyb3JNZXNzYWdlKGVycm9yOiBhbnkpOiB2b2lkIHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBjb25zdCB7IHJlc3BvbnNlSlNPTiB9ID0gZXJyb3I7XG4gICAgaWYgKHR5cGVvZiAocmVzcG9uc2VKU09OKSA9PSAnc3RyaW5nJykge1xuICAgICAgICBtZXNzYWdlID0gcmVzcG9uc2VKU09OO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIChyZXNwb25zZUpTT04pID09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHsgRXJyb3JNZXNzYWdlID0gXCJcIiB9ID0gcmVzcG9uc2VKU09OO1xuICAgICAgICBtZXNzYWdlID0gRXJyb3JNZXNzYWdlO1xuICAgIH1cblxuICAgIG1lc3NhZ2UgPSBtZXNzYWdlICYmIG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiBfcygnQW4gZXJyb3Igb2NjdXJyZWQuJyk7XG4gICAgc2hvd1RvYXN0KG1lc3NhZ2UsIHsgdHlwZTogJ2RhbmdlcicgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRMb2dpbk1vZGFsKCk6IHZvaWQge1xuICAgICQoJy5qcy1zYXZlcy1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICQodGhpcykuZGF0YSgncG9zdC1pZCcpO1xuICAgICAgICBjb25zdCAkY2xpY2tlZCA9ICQodGhpcyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogYC9wb3N0cy8ke3Bvc3RJZH0vc2F2ZS1hbm9uLW1vZGFsYCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2Uub3BlbmlkLnNob3dMb2dpbk1vZGFsKGh0bWwsIHsgcmV0dXJuRWxlbWVudHM6ICRjbGlja2VkIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZW5kRmF2b3JpdGVzUG9wdXBTaG93RXZlbnQoKTtcbiAgICB9KTtcbn1cblxuZW51bSBOb3RlU3RhdGUge1xuICAgIFZpZXdOb05vdGUsXG4gICAgVmlld05vdGUsXG4gICAgQWRkaW5nTm90ZSxcbiAgICBFZGl0aW5nTm90ZVxufVxuXG5mdW5jdGlvbiBpbml0Tm90ZUFjdGlvbkJ1dHRvbnMoKTogdm9pZCB7XG4gICAgY29uc3QgdXNlcklkID0gb3B0aW9ucy51c2VyLnVzZXJJZDtcbiAgICAkKCcuanMtc2F2ZXMtcG9zdC1zdW1tYXJ5JykuZWFjaCgoXywgZWxlbWVudCkgPT4ge1xuXG4gICAgICAgIC8vIEdldCBhbGwgdGhlIGVsZW1lbnRzIHdlIG5lZWQgdG8gaG9vayB1cFxuICAgICAgICBjb25zdCAkcG9zdFN1bW1hcnkgPSAkKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBjb250ZXh0TWVudUVsZW1lbnQgPSAkcG9zdFN1bW1hcnkuZmluZCgnW2RhdGEtY29udHJvbGxlcj1cInMtcG9wb3ZlclwiXVthcmlhLWNvbnRyb2xzfD1wb3N0LW1lbnUtc2F2ZXNdJykuZ2V0KDApO1xuICAgICAgICBjb25zdCAkYWRkQWN0aW9uQnV0dG9uID0gJHBvc3RTdW1tYXJ5LmZpbmQoJy5qcy1hZGQtcHJpdmF0ZS1ub3RlJyk7XG4gICAgICAgIGNvbnN0ICRlZGl0QWN0aW9uQnV0dG9uID0gJHBvc3RTdW1tYXJ5LmZpbmQoJy5qcy1lZGl0LXByaXZhdGUtbm90ZScpO1xuICAgICAgICBjb25zdCAkZGVsZXRlQWN0aW9uQnV0dG9uID0gJHBvc3RTdW1tYXJ5LmZpbmQoJy5qcy1kZWxldGUtcHJpdmF0ZS1ub3RlJyk7XG4gICAgICAgIGNvbnN0ICRtYXliZUFuc3dlciA9ICRwb3N0U3VtbWFyeS5maW5kKCcucy1wb3N0LXN1bW1hcnktLWFuc3dlcicpO1xuICAgICAgICBjb25zdCBzYXZlZFBvc3RJZCA9ICRtYXliZUFuc3dlci5kYXRhKCdwb3N0LWlkJykgPz8gJHBvc3RTdW1tYXJ5LmRhdGEoJ3Bvc3QtaWQnKTtcbiAgICAgICAgY29uc3QgJG5vdGVUb0VkaXQgPSAkcG9zdFN1bW1hcnkuZmluZCgnLmpzLXNhdmVkLXBvc3Qtbm90ZScpO1xuICAgICAgICBjb25zdCAkbm90ZVRvRWRpdENvbnRhaW5lciA9ICRub3RlVG9FZGl0LnBhcmVudCgpXG4gICAgICAgIGNvbnN0ICRpbmxpbmVFZGl0b3JGb3JtID0gJHBvc3RTdW1tYXJ5LmZpbmQoJy5qcy1zYXZlZC1pbmxpbmUtbm90ZS1lZGl0b3InKTtcbiAgICAgICAgY29uc3QgJGlubGluZUVkaXRvcklucHV0ID0gJGlubGluZUVkaXRvckZvcm0uZmluZCgnLmpzLXNhdmVkLWVkaXRvci1ub3RlJyk7XG4gICAgICAgIGNvbnN0ICRpbmxpbmVFZGl0b3JTYXZlQnV0dG9uID0gJGlubGluZUVkaXRvckZvcm0uZmluZCgnLmpzLXNhdmVkLWlubGluZS1ub3RlLWVkaXRvci1zYXZlJyk7XG4gICAgICAgIGNvbnN0ICRpbmxpbmVFZGl0b3JDYW5jZWxCdXR0b24gPSAkaW5saW5lRWRpdG9yRm9ybS5maW5kKCcuanMtc2F2ZWQtaW5saW5lLW5vdGUtZWRpdG9yLWNhbmNlbCcpO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFdlJ3JlIGdvaW5nIHRvIG1ha2UgYSBzdGF0ZSBtYWNoaW5lIHRoYXQgdHJhY2tzOlxuICAgICAgICAgKiAtIEFyZSB3ZSB2aWV3aW5nLCBhZGRpbmcsIG9yIGVkaXRpbmcgYSBub3RlP1xuICAgICAgICAgKiAtIElzIG5vdGUgd2UncmUgdmlld2luZyBpcyBlbXB0eT9cbiAgICAgICAgICogXG4gICAgICAgICAqICh5b3UgY2FuIHBvc3QgdGhlIGZvbGxvd2luZyBNZXJtYWlkIG1hcmt1cCBpbiBhIEdpdEh1YlxuICAgICAgICAgKiBjb21tZW50IHRvIHNlZSB0aGUgc3RhdGUgbWFjaGluZSB2aXN1YWxpemVkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBcbmBgYG1lcm1haWQgICAgICAgICBcbmZsb3djaGFydCBUQlxuICAgIFN0YXJ0KCgoU3RhcnQpKSkgLS0+IEV4aXN0c3tOb3RlIGV4aXN0cyBpbiBkYXRhYmFzZT99XG4gICAgRXhpc3RzIC0tLT58Tm90ZSBkb2VzIG5vdCBleGlzdCBpbiBkYXRhYmFzZXwgVmlld05vTm90ZVxuICAgIEV4aXN0cyAtLS0+fE5vdGUgZXhpc3RzIGluIGRhdGFiYXNlfCBWaWV3Tm90ZVxuXG4gICAgc3ViZ3JhcGggVmlld2luZyBzYXZlIHdpdGhvdXQgcHJpdmF0ZSBub3RlXG4gICAgICAgIFZpZXdOb05vdGUoKFZpZXdOb05vdGUpKVxuICAgIGVuZFxuXG4gICAgc3ViZ3JhcGggVmlld2luZyBzYXZlIHdpdGggcHJpdmF0ZSBub3RlXG4gICAgICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBWaWV3Tm90ZSgoVmlld05vdGUpKVxuICAgICAgICBEZWxldGVBamF4Vmlld2luZyAtLiBSZXF1ZXN0IGVycm9yIC4tPiBWaWV3Tm90ZVxuICAgIGVuZFxuICAgIFxuICAgIFZpZXdOb05vdGUgLS0+fEFkZCBwcml2YXRlIG5vdGUuLi58IEFkZE5vdGVcbiAgICBWaWV3Tm90ZSAtLT58RWRpdCBwcml2YXRlIG5vdGUuLi58IEVkaXROb3RlXG4gICAgQWRkTm90ZSAtLT58Q2FuY2VsIGVkaXRpbmd8IFZpZXdOb05vdGVcblxuICAgIHN1YmdyYXBoIEFkZGluZyBuZXcgcHJpdmF0ZSBub3RlXG4gICAgICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBBZGROb3RlKChBZGROb3RlKSlcbiAgICAgICAgQWRkTm90ZSAtLT58U2F2ZXwgQWRkQWpheFtbXCJQT1NUIC91c2Vycy9zYXZlcy97aWR9L2FkZC1ub3RlL1wiXV1cbiAgICAgICAgQWRkQWpheCAtLiBSZXF1ZXN0IGVycm9yIC4tPiBBZGROb3RlXG4gICAgZW5kXG5cbiAgICBzdWJncmFwaCBFZGl0aW5nIGV4aXN0aW5nIHByaXZhdGUgbm90ZVxuICAgICAgICBkaXJlY3Rpb24gQlRcbiAgICAgICAgRWRpdE5vdGUoKEVkaXROb3RlKSlcbiAgICAgICAgRWRpdE5vdGUgLS0+fFNhdmV8IEVkaXRBamF4W1tcIlBPU1QgL3VzZXJzL3NhdmVzL3tpZH0vYWRkLW5vdGUvXCJdXVxuICAgICAgICBFZGl0QWpheCAtLiBSZXF1ZXN0IGVycm9yIC4tPiBFZGl0Tm90ZVxuICAgICAgICBEZWxldGVBamF4RWRpdGluZyAtLiBSZXF1ZXN0IGVycm9yIC4tPiBFZGl0Tm90ZVxuICAgIGVuZFxuXG4gICAgRWRpdE5vdGUgLS0+fENhbmNlbCBlZGl0aW5nfCBWaWV3Tm90ZVxuICAgIEFkZEFqYXggLS4gU3VjY2VzcywgdXBkYXRlZCBzYXZlIGluIGRhdGFiYXNlIC4tPiBWaWV3Tm90ZSBcbiAgICBFZGl0QWpheCAtLiBTdWNjZXNzLCB1cGRhdGVkIHNhdmUgaW4gZGF0YWJhc2UgLi0+IFZpZXdOb3RlXG5cbiAgICBEZWxldGVBamF4Vmlld2luZyAtLiBTdWNjZXNzLCBkZWxldGVkIGZyb20gZGF0YWJhc2UgLi0+IFZpZXdOb05vdGVcbiAgICBWaWV3Tm90ZSAtLT58RGVsZXRlIHByaXZhdGUgbm90ZS4uLnwgRGVsZXRlQWpheFZpZXdpbmdbW1wiUE9TVCAvdXNlcnMvc2F2ZXMve2lkfS9kZWxldGUtbm90ZS9cIl1dXG5cbiAgICBEZWxldGVBamF4RWRpdGluZyAtLiBTdWNjZXNzLCBkZWxldGVkIGZyb20gZGF0YWJhc2UgLi0+IFZpZXdOb05vdGVcbiAgICBFZGl0Tm90ZSAtLT58RGVsZXRlIHByaXZhdGUgbm90ZS4uLnwgRGVsZXRlQWpheEVkaXRpbmdbW1wiUE9TVCAvdXNlcnMvc2F2ZXMve2lkfS9kZWxldGUtbm90ZS9cIl1dXG5gYGBcblxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB5b3UncmUgdG91Y2hpbmcgYW55IG9mIHRoaXMgY29kZSxcbiAgICAgICAgICogcGxlYXNlIGFsc28gdXBkYXRlIHRoZSBzdGF0ZSBtYWNoaW5lIGRvY3VtZW50YXRpb24gYWJvdmVcbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSBkZXBlbmRpbmcgb24gaWYgd2UgaGF2ZSBhIG5vdGUgYWxyZWFkeVxuICAgICAgICBsZXQgZ2V0U3RhdGVGcm9tQ3VycmVudE5vdGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICRub3RlVG9FZGl0LnRleHQoKS5sZW5ndGggPiAwID8gTm90ZVN0YXRlLlZpZXdOb3RlIDogTm90ZVN0YXRlLlZpZXdOb05vdGU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSBnZXRTdGF0ZUZyb21DdXJyZW50Tm90ZSgpO1xuICAgICAgICAvL2NvbnNvbGUuZGVidWcoc2F2ZWRQb3N0SWQsIE5vdGVTdGF0ZVtzdGF0ZV0pO1xuXG4gICAgICAgIC8vIEhvb2sgdXAgYWN0aW9uIGJ1dHRvbiBldmVudHMgKGluIHRoZSBjb250ZXh0IG1lbnUpXG4gICAgICAgICRhZGRBY3Rpb25CdXR0b24uY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgaGlkZVBvcG92ZXIoY29udGV4dE1lbnVFbGVtZW50KTtcbiAgICAgICAgICAgIHN0YXJ0QWRkaW5nTm90ZSgpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmRlYnVnKHNhdmVkUG9zdElkLCBOb3RlU3RhdGVbc3RhdGVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgICRlZGl0QWN0aW9uQnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGhpZGVQb3BvdmVyKGNvbnRleHRNZW51RWxlbWVudCk7XG4gICAgICAgICAgICBzdGFydEVkaXRpbmdOb3RlKCk7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9ySW5wdXQudmFsKCRub3RlVG9FZGl0LnRleHQoKSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUuZGVidWcoc2F2ZWRQb3N0SWQsIE5vdGVTdGF0ZVtzdGF0ZV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJGRlbGV0ZUFjdGlvbkJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICAgICAgICBoaWRlUG9wb3Zlcihjb250ZXh0TWVudUVsZW1lbnQpO1xuICAgICAgICAgICAgZGVsZXRlTm90ZSgkbm90ZVRvRWRpdC50ZXh0KCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIHVwIGZvcm0gYWN0aW9ucyAoaW5saW5lIG5vdGUgZWRpdG9yKVxuICAgICAgICAkaW5saW5lRWRpdG9yRm9ybS5zdWJtaXQoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2F2ZU5vdGUoJGlubGluZUVkaXRvcklucHV0LnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICRpbmxpbmVFZGl0b3JGb3JtLm9uKCdyZXNldCcsICgpID0+IHtcbiAgICAgICAgICAgIHNhdmVYSFI/LmFib3J0KCk7XG4gICAgICAgICAgICBjbG9zZUVkaXRvcigpO1xuICAgICAgICAgICAgc3RhdGUgPSBnZXRTdGF0ZUZyb21DdXJyZW50Tm90ZSgpO1xuICAgICAgICAgICAgc3RhdGUgPT0gTm90ZVN0YXRlLlZpZXdOb3RlID8gc2hvd05vdGUoKSA6IGhpZGVOb3RlKCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUuZGVidWcoc2F2ZWRQb3N0SWQsIE5vdGVTdGF0ZVtzdGF0ZV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgc3RhcnRBZGRpbmdOb3RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBOb3RlU3RhdGUuVmlld05vTm90ZSkge1xuICAgICAgICAgICAgICAgIG9wZW5FZGl0b3IoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IE5vdGVTdGF0ZS5BZGRpbmdOb3RlO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5kZWJ1ZyhzYXZlZFBvc3RJZCwgTm90ZVN0YXRlW3N0YXRlXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IF9zKFwiQ2FuJ3QgYWRkIGEgbmV3IG5vdGUgd2hlbiBhIG5vdGUgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhcnRFZGl0aW5nTm90ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gTm90ZVN0YXRlLlZpZXdOb3RlKSB7XG4gICAgICAgICAgICAgICAgb3BlbkVkaXRvcigpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gTm90ZVN0YXRlLkVkaXRpbmdOb3RlO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5kZWJ1ZyhzYXZlZFBvc3RJZCwgTm90ZVN0YXRlW3N0YXRlXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IF9zKFwiQ2Fu4oCZdCBlZGl0IG5vdGUgYmVjYXVzZSB0aGlzIHNhdmUgZG9lc27igJl0IGhhdmUgb25lLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXZlWEhSOiBKUXVlcnlYSFIgPSBudWxsO1xuICAgICAgICBsZXQgc2F2ZU5vdGUgPSBmdW5jdGlvbiAodGV4dDogc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IE5vdGVTdGF0ZS5BZGRpbmdOb3RlIHx8IHN0YXRlID09PSBOb3RlU3RhdGUuRWRpdGluZ05vdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBzZW5kIHRoZSBuZXR3b3JrIHJlcXVlc3QgdG8gc2F2ZSB0aGUgbm90ZVxuICAgICAgICAgICAgICAgIHNhdmVYSFIgPSAkLmFqYXgoJy91c2Vycy9zYXZlcy8nICsgdXNlcklkICsgJy9hZGQtbm90ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RJZDogc2F2ZWRQb3N0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlTm90ZTogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZrZXk6IG9wdGlvbnMudXNlci5ma2V5XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVhIUj8uYWJvcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2F2ZU5vdGVCdXR0b25TcGluKEJ1dHRvblN0YXRlLkxvYWRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUZvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEsIHRleHRTdGF0dXMsIF8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbm90ZSB0ZXh0IGFuZCBtYWtlIHRoZSBtZW51L3N0YXRlIHJlZmxlY3QgdGhhdCB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb3RlVGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGVGcm9tQ3VycmVudE5vdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1lbnVWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTYXZlTm90ZUJ1dHRvblNwaW4oQnV0dG9uU3RhdGUuUmVhZHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUVkaXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRFZGl0b3IoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVhIUiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZGVidWcoc2F2ZWRQb3N0SWQsIE5vdGVTdGF0ZVtzdGF0ZV0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogKGRhdGEsIHRleHRTdGF0dXMsIF8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHRleHRTdGF0dXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTYXZlTm90ZUJ1dHRvblNwaW4oQnV0dG9uU3RhdGUuUmVhZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRm9ybSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlWEhSID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5kZWJ1ZyhzYXZlZFBvc3RJZCwgTm90ZVN0YXRlW3N0YXRlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfcyhcIkNhbuKAmXQgc2F2ZSBub3RlIHdoZW4gbm90IGFkZGluZyBvciBlZGl0aW5nLlwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGVsZXRlWEhSOiBKUXVlcnlYSFIgPSBudWxsO1xuICAgICAgICBsZXQgZGVsZXRlTm90ZSA9IGZ1bmN0aW9uIChub3RlVG9EZWxldGU6IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBOb3RlU3RhdGUuVmlld05vdGUgfHwgc3RhdGUgPT09IE5vdGVTdGF0ZS5FZGl0aW5nTm90ZSkge1xuICAgICAgICAgICAgICAgIC8vIHNlbmQgdGhlIG5ldHdvcmsgcmVxdWVzdCB0byBkZWxldGUgdGhlIG5vdGVcbiAgICAgICAgICAgICAgICBkZWxldGVYSFIgPSAkLmFqYXgoJy91c2Vycy9zYXZlcy8nICsgdXNlcklkICsgJy9kZWxldGUtbm90ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RJZDogc2F2ZWRQb3N0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBma2V5OiBvcHRpb25zLnVzZXIuZmtleVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlWEhSPy5hYm9ydCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXREZWxldGVBY3Rpb25CdXR0b25TcGluKEJ1dHRvblN0YXRlLkxvYWRpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSwgdGV4dFN0YXR1cywgXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBub3RlIHRleHQgYW5kIG1ha2UgdGhlIG1lbnUvc3RhdGUgcmVmbGVjdCB0aGF0IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5vdGVUZXh0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBOb3RlU3RhdGUuVmlld05vTm90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1lbnVWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXREZWxldGVBY3Rpb25CdXR0b25TcGluKEJ1dHRvblN0YXRlLlJlYWR5KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGVkaXRvciBpZiBpdCBoYXBwZW5lZCB0byBiZSBvcGVuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUVkaXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRFZGl0b3IoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBhIHN1Y2Nlc3MgdG9hc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChfcyhcIk5vdGUgcmVtb3ZlZCBmcm9tIHNhdmUuXCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVJhd0h0bWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDb250ZW50czogJCgnPHNwYW4+JykudGV4dChfcygnVW5kbycpKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IE5vdGVTdGF0ZS5BZGRpbmdOb3RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU5vdGUobm90ZVRvRGVsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUb2FzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlWEhSID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5kZWJ1ZyhzYXZlZFBvc3RJZCwgTm90ZVN0YXRlW3N0YXRlXSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZGF0YSwgdGV4dFN0YXR1cywgXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKF9zKFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBzYXZpbmcgeW91ciBub3RlLiBUcnkgYWdhaW4gbGF0ZXIuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcih0ZXh0U3RhdHVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGVsZXRlQWN0aW9uQnV0dG9uU3BpbihCdXR0b25TdGF0ZS5SZWFkeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVhIUiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZGVidWcoc2F2ZWRQb3N0SWQsIE5vdGVTdGF0ZVtzdGF0ZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX3MoXCJDYW7igJl0IHNhdmUgbm90ZSB3aGVuIG5vdCBhZGRpbmcgb3IgZWRpdGluZy5cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc2V0RWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGlubGluZUVkaXRvckZvcm0udHJpZ2dlcigncmVzZXQnKTtcbiAgICAgICAgICAgIHNldFNhdmVOb3RlQnV0dG9uU3BpbihCdXR0b25TdGF0ZS5SZWFkeSk7XG4gICAgICAgICAgICBlbmFibGVGb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbnVtIEJ1dHRvblN0YXRlIHtcbiAgICAgICAgICAgIFJlYWR5LFxuICAgICAgICAgICAgTG9hZGluZyxcbiAgICAgICAgICAgIEVycm9yXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2V0U2F2ZU5vdGVCdXR0b25TcGluID0gZnVuY3Rpb24oc3RhdGU6IEJ1dHRvblN0YXRlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBCdXR0b25TdGF0ZS5SZWFkeToge1xuICAgICAgICAgICAgICAgICAgICAkaW5saW5lRWRpdG9yU2F2ZUJ1dHRvbi5yZW1vdmVDbGFzcyhcImlzLWxvYWRpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEJ1dHRvblN0YXRlLkxvYWRpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgJGlubGluZUVkaXRvclNhdmVCdXR0b24uYWRkQ2xhc3MoXCJpcy1sb2FkaW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXREZWxldGVBY3Rpb25CdXR0b25TcGluID0gZnVuY3Rpb24oc3RhdGU6IEJ1dHRvblN0YXRlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBCdXR0b25TdGF0ZS5SZWFkeToge1xuICAgICAgICAgICAgICAgICAgICAkZGVsZXRlQWN0aW9uQnV0dG9uLnJlbW92ZUNsYXNzKFwiaXMtbG9hZGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQnV0dG9uU3RhdGUuTG9hZGluZzoge1xuICAgICAgICAgICAgICAgICAgICAkZGVsZXRlQWN0aW9uQnV0dG9uLmFkZENsYXNzKFwiaXMtbG9hZGluZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3BlbkVkaXRvciA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgZW5hYmxlRm9ybSgpO1xuICAgICAgICAgICAgJGlubGluZUVkaXRvcklucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9yRm9ybS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICBoaWRlTm90ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVuYWJsZUZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9yRm9ybS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgJGlubGluZUVkaXRvcklucHV0LnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9yU2F2ZUJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgJGlubGluZUVkaXRvckNhbmNlbEJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsb3NlRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGlubGluZUVkaXRvckZvcm0uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgZGlzYWJsZUZvcm0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaXNhYmxlRm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRpbmxpbmVFZGl0b3JGb3JtLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICRpbmxpbmVFZGl0b3JJbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9yU2F2ZUJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAkaW5saW5lRWRpdG9yQ2FuY2VsQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG93Tm90ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRub3RlVG9FZGl0Q29udGFpbmVyLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoaWRlTm90ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRub3RlVG9FZGl0Q29udGFpbmVyLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG93RXJyb3IgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICBzaG93VG9hc3QodGV4dCwgeyB0eXBlOiBcImRhbmdlclwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHVwZGF0ZU1lbnVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBOb3RlU3RhdGUuVmlld05vdGUgfHwgc3RhdGUgPT09IE5vdGVTdGF0ZS5FZGl0aW5nTm90ZSkge1xuICAgICAgICAgICAgICAgIHNldEFkZEFjdGlvbkJ1dHRvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0RWRpdEFjdGlvbkJ1dHRvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXREZWxldGVBY3Rpb25CdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBOb3RlU3RhdGUuVmlld05vTm90ZSB8fCBzdGF0ZSA9PT0gTm90ZVN0YXRlLkFkZGluZ05vdGUpIHtcbiAgICAgICAgICAgICAgICBzZXRBZGRBY3Rpb25CdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0RWRpdEFjdGlvbkJ1dHRvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0RGVsZXRlQWN0aW9uQnV0dG9uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXRBZGRBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAodmlzaWJsZTogYm9vbGVhbikge1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAkYWRkQWN0aW9uQnV0dG9uLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAkYWRkQWN0aW9uQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRhZGRBY3Rpb25CdXR0b24uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICRhZGRBY3Rpb25CdXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNldEVkaXRBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAodmlzaWJsZTogYm9vbGVhbikge1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAkZWRpdEFjdGlvbkJ1dHRvbi5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICAgICAgJGVkaXRBY3Rpb25CdXR0b24ucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGVkaXRBY3Rpb25CdXR0b24uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICRlZGl0QWN0aW9uQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXREZWxldGVBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAodmlzaWJsZTogYm9vbGVhbikge1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAkZGVsZXRlQWN0aW9uQnV0dG9uLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAkZGVsZXRlQWN0aW9uQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRkZWxldGVBY3Rpb25CdXR0b24uYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgICRkZWxldGVBY3Rpb25CdXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHVwZGF0ZU5vdGVUZXh0ID0gZnVuY3Rpb24gKHRleHQ6IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKHRleHQgPT0gbnVsbCB8fCB0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgJG5vdGVUb0VkaXQuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAkaW5saW5lRWRpdG9ySW5wdXQuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICBoaWRlTm90ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkbm90ZVRvRWRpdC50ZXh0KHRleHQpO1xuICAgICAgICAgICAgICAgICRpbmxpbmVFZGl0b3JJbnB1dC52YWwodGV4dCk7XG4gICAgICAgICAgICAgICAgc2hvd05vdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGUgPSBnZXRTdGF0ZUZyb21DdXJyZW50Tm90ZSgpO1xuICAgICAgICB9XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZGlzbWlzc1NhdmVzTGF1bmNoUG9wb3ZlcigpOiB2b2lkIHtcbiAgICAkKCcjc2F2ZXMtbGF1bmNoLXBvcG92ZXInKS5yZW1vdmUoKTtcblxuICAgICQoJyNzYXZlcy1idG4nKS5kYXRhKCdjb250cm9sbGVyJywgJ3MtdG9vbHRpcCcpO1xuICAgICQoJyNzYXZlcy1idG4nKS5hdHRyKCdhcmlhLWNvbnRyb2xzJywgJycpO1xuXG4gICAgJC5jb29raWUoJ25vdGljZS1zbHAnLCAnMScsIHsgcGF0aDogJy8nLCBleHBpcmVzOiAzMCB9KTtcblxuICAgIGlmICghb3B0aW9ucy51c2VyLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICQucG9zdChcIi9zYXZlcy1sYXVuY2gtcG9wb3Zlci9kaXNtaXNzXCIsIHtcbiAgICAgICAgICAgIGZrZXk6IG9wdGlvbnMudXNlci5ma2V5XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdFNhdmVzTGF1bmNoUG9wb3ZlcigpOiB2b2lkIHtcbiAgICBjb25zdCBxdWVzdGlvbklkID0gJCgnLnF1ZXN0aW9uJykuZGF0YSgncXVlc3Rpb25pZCcpO1xuXG4gICAgJCgnLmpzLXNhdmVzLXBvcG92ZXItZGlzbWlzcywgLmpzLXNhdmVzLXBvcG92ZXItbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGlkZVBvcG92ZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNhdmVzLWJ0bi0ke3F1ZXN0aW9uSWR9YCkpO1xuICAgIH0pO1xuXG4gICAgJChgI3NhdmVzLWJ0bi0ke3F1ZXN0aW9uSWR9YCkub24oJ3MtcG9wb3ZlcjpoaWRkZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRpc21pc3NTYXZlc0xhdW5jaFBvcG92ZXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFNhdmVkUG9zdENsaWNrQW5hbHl0aWNzKCk6IHZvaWQge1xuICAgIHZhciBzYXZlc0xpbmtzID0gJCgnLmpzLXNhdmVzLXBvc3QtbGlzdCAucy1wb3N0LXN1bW1hcnktLWNvbnRlbnQtdGl0bGUgYSwgLmpzLXNhdmVzLXBvc3QtbGlzdCAuanMtcG9zdC1zdW1tYXJ5LWFuc3dlci1saW5rJyk7XG4gICAgc2F2ZXNMaW5rcy5jbGljaygoKSA9PiBncHMudHJhY2soJ3Byb2ZpbGVfc2F2ZWRfcG9zdC5jbGljaycpKTtcbn1cblxuLy8gVXNlZCBvblxuLy8gL3VzZXJzL3NhdmVzL3tpZH0vYWxsXG4vLyAvdXNlcnMvc2F2ZXMve2lkfS97bGlzdF9pZH1cbmV4cG9ydCBmdW5jdGlvbiBpbml0VXNlclNhdmVzKCk6IHZvaWQge1xuICAgIGluaXRTYXZlZFBvc3RDbGlja0FuYWx5dGljcygpO1xuICAgIGluaXRMaXN0QWN0aW9uTW9kYWwoKTtcbiAgICBpbml0TWFuYWdlU2F2ZU1vZGFsKCk7XG4gICAgaW5pdEFjdGlvbk1lbnUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTYXZlcygpOiB2b2lkIHtcbiAgICAvLyB3ZSBvbmx5IG5lZWQgdG8gaW5pdGlhbGl6ZSB0aGUgcG9wb3ZlciBpZiB0aGUgZWxlbWVudCBleGlzdHMgb24gcGFnZVxuICAgIGlmICgkKCcjc2F2ZXMtbGF1bmNoLXBvcG92ZXInKS5sZW5ndGggPj0gMSkge1xuICAgICAgICBpbml0U2F2ZXNMYXVuY2hQb3BvdmVyKCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnVzZXIuaXNSZWdpc3RlcmVkKSB7XG4gICAgICAgIGluaXRTYXZlc0J1dHRvbnMoKTtcbiAgICAgICAgaW5pdE1hbmFnZVNhdmVNb2RhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRMb2dpbk1vZGFsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFwiLi85OV9PdXRkYXRlZEFuc3dlcnNcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRBbm9uID0gU3RhY2tFeGNoYW5nZS5PdXRkYXRlZEFuc3dlcnMuaW5pdEFub247XG5leHBvcnQgY29uc3Qgb3Blbk1vZGFsID0gU3RhY2tFeGNoYW5nZS5PdXRkYXRlZEFuc3dlcnMub3Blbk1vZGFsO1xuZXhwb3J0IGNvbnN0IHVzZXJWb3RlZCA9IFN0YWNrRXhjaGFuZ2UuT3V0ZGF0ZWRBbnN3ZXJzLnVzZXJWb3RlZDtcbiIsImV4cG9ydCBlbnVtIFBvc3RUeXBlSWQge1xuICAgIFF1ZXN0aW9uID0gMVxuICAgICwgQW5zd2VyID0gMlxuICAgICwgV2lraSA9IDNcbiAgICAsIFRhZ1dpa2lFeGNlcnB0ID0gNFxuICAgICwgVGFnV2lraSA9IDVcbiAgICAsIE1vZGVyYXRvck5vbWluYXRpb24gPSA2XG4gICAgLCBXaWtpUGxhY2Vob2xkZXIgPSA3XG4gICAgLCBQcml2aWxlZ2VXaWtpID0gOFxuICAgICwgQXJ0aWNsZSA9IDlcbiAgICAsIEhlbHBBcnRpY2xlID0gMTBcbiAgICAvLywgVGVhbVBhZ2UgPSAxMTsgLy8gKG9sZCkgVGVhbXMgd2VyZSByZW1vdmVkLCBkbyBub3QgcmV1c2VcbiAgICAsIENvbGxlY3Rpb24gPSAxMlxuICAgICwgTW9kZXJhdG9yUXVlc3Rpb25uYWlyZVJlc3BvbnNlID0gMTNcbiAgICAsIEFubm91bmNlbWVudCA9IDE0XG4gICAgLCBDb2xsZWN0aXZlRGlzY3Vzc2lvbiA9IDE1XG4gICAgLCBDb2xsZWN0aXZlQ29sbGVjdGlvbiA9IDE3XG59XG4iLCJpbXBvcnQgXCIuLzk5X2hlbHBlcnNcIjtcblxuZXhwb3J0IGNvbnN0IHNob3dDb25maXJtTW9kYWwgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd0NvbmZpcm1Nb2RhbDtcbiIsImltcG9ydCBvcHRpb25zIGZyb20gXCIuLi8uLi9TaGFyZWQvb3B0aW9ucy5tb2RcIjtcbmltcG9ydCB7IFVzZXJGbGFncywgQWNjb3VudFByZWZlcmVuY2VGbGFncyB9IGZyb20gXCIuLi9mdWxsL2RlZmluaXRpb25zL0VudW1zLmdlbmVyYXRlZC5tb2RcIlxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlVXNlckZsYWdzKGZsYWdzOiBVc2VyRmxhZ3MsIHZhbHVlOiBib29sZWFuLCB1c2VySWQ/OiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCB1c2VyID0gb3B0aW9ucy51c2VyO1xuXG4gICAgcmV0dXJuICQucG9zdChgL3VzZXJzL3RvZ2dsZS1mbGFnLyR7ZmxhZ3N9LyR7ISF2YWx1ZX1gLCB7XG4gICAgICAgIGZrZXk6IHVzZXIuZmtleSxcbiAgICAgICAgdXNlcklkOiB1c2VySWQgfHwgdXNlci5wcm94aWVkVXNlcklkIHx8IHVzZXIudXNlcklkXG4gICAgfSkudGhlbihyZXNwb25zZSA9PiAhIXJlc3BvbnNlLmhhc0ZsYWdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUFjY291bnRQcmVmZXJlbmNlRmxhZ3MoZmxhZ3M6IEFjY291bnRQcmVmZXJlbmNlRmxhZ3MsIHZhbHVlOiBib29sZWFuLCBhY2NvdW50SWQ/OiBudW1iZXIpOiBKUXVlcnlQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCB1c2VyID0gb3B0aW9ucy51c2VyO1xuXG4gICAgcmV0dXJuICQucG9zdChgL2FjY291bnQvdG9nZ2xlLXByZWZlcmVuY2UtZmxhZ2AsIHtcbiAgICAgICAgZmtleTogdXNlci5ma2V5LFxuICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCB8fCB1c2VyLmFjY291bnRJZCxcbiAgICAgICAgZmxhZzogZmxhZ3MsXG4gICAgICAgIHN0YXR1czogdmFsdWVcbiAgICB9KS50aGVuKHJlc3BvbnNlID0+ICEhcmVzcG9uc2UuaGFzRmxhZ3MpO1xufTsiLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xuLy8gVEhJUyBGSUxFIElTIEFVVE9NQVRJQ0FMTFkgR0VORVJBVEVEICAgICAgICAgLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vLyBDaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkIG9uIG5leHQgY29tcGlsZSAgICAvL1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vIFRvIG1vZGlmeSB0aGlzIGZpbGUsIG1ha2UgY2hhbmdlcyB0bzogICAgICAgIC8vXG4vLyBfU2NyaXB0c1xcUGFydGlhbEpTXFxmdWxsXFxkZWZpbml0aW9uc1xcRW51bXMuY3MgLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG5cbiAgICAgICAgICAgIFxuLy8gU3RhY2tPdmVyZmxvdy5Nb2RlbHMuTm90aWZpY2F0aW9uRnJlcXVlbmN5VHlwZUlkXG5leHBvcnQgZW51bSBOb3RpZmljYXRpb25GcmVxdWVuY3lUeXBlSWQge1xuICAgIE5vbmUgPSAwLCBcbiAgICBGaWZ0ZWVuTWludXRlcyA9IDEsIFxuICAgIERhaWx5ID0gMlxufVxuXG5cbiAgICAgICAgICAgIFxuLy8gU3RhY2tPdmVyZmxvdy5Nb2RlbHMuQWNjb3VudFByZWZlcmVuY2VGbGFnc1xuZXhwb3J0IGVudW0gQWNjb3VudFByZWZlcmVuY2VGbGFncyB7XG4gICAgTm9uZSA9IDAsIFxuICAgIEhpZGVMZWZ0TmF2aWdhdGlvbiA9IDEsIFxuICAgIEVuYWJsZUtleWJvYXJkU2hvcnRjdXRzID0gMiwgXG4gICAgSGlkZUhvdE5ldHdvcmtRdWVzdGlvbnNTaWRlYmFyID0gOCwgXG4gICAgRGlzYWJsZU5ld3NsZXR0ZXJQZXJzb25hbGl6YXRpb24gPSAxNiwgXG4gICAgRGlzbWlzc0ZyZWVtaXVtVGVhbXNDcmVhdGlvbkNUQSA9IDMyLCBcbiAgICBVbmlmaWVkU2VhcmNoQWN0aXZlQnlEZWZhdWx0ID0gNjQsIFxuICAgIERpc21pc3NSZXZpZXdRdWV1ZU5vdGljZUNhbXBhaWduID0gMTI4LCBcbiAgICBGb3JZb3VVbnJlYWRPbmx5QnlEZWZhdWx0ID0gMjU2LCBcbiAgICBEaXNtaXNzQ29sbGVjdGl2ZXNOYXZiYXJDVEEgPSA1MTIsIFxuICAgIFNlYXJjaFRhZ05hbWVzT25seSA9IDEwMjQsIFxuICAgIEhpZGVTR1Bvc3RzT3V0c2lkZU9mU3RhZ2luZ0dyb3VuZCA9IDIwNDhcbn1cblxuXG4gICAgICAgICAgICBcbi8vIFN0YWNrT3ZlcmZsb3cuTW9kZWxzLlVzZXJGbGFnc1xuZXhwb3J0IGVudW0gVXNlckZsYWdzIHtcbiAgICBOb25lID0gMCwgXG4gICAgRGlzYWJsZVNpZGVOYXYgPSAxMDczNzQxODI0LCBcbiAgICBUZWFtR3VpZGUgPSAxLCBcbiAgICBEaXNtaXNzTWFya2Rvd25FZGl0b3JIZWxwID0gMiwgXG4gICAgSGlkZUxlZnROYXZpZ2F0aW9uID0gNCwgXG4gICAgRGlzbWlzc01lbnRpb25zQ2FsbG91dCA9IDgsIFxuICAgIERpc21pc3NRdWVzdGlvblBhZ2VQcm9kdWN0QmFubmVyID0gMTYsIFxuICAgIERpc21pc3NXZWxjb21lTW9kYWwgPSAzMiwgXG4gICAgRGlzbWlzc0Nsb3NlUmVvcGVuUHJpdmlsZWdlUG9wb3ZlciA9IDY0LCBcbiAgICBEaXNtaXNzQ2xvc2VSZW9wZW5Qcml2aWxlZ2VFeHBsYW5hdGlvbk1vZGFsID0gMTI4LCBcbiAgICBEaXNtaXNzUG9zdFJlYWN0aW9uSW50cm9Qb3BvdmVyID0gMjU2LCBcbiAgICBEaXNtaXNzRm9sbG93UXVlc3Rpb25JbnRyb1BvcG92ZXIgPSA1MTIsIFxuICAgIERpc21pc3NDbG9zZWRFZGl0TW9kYWwgPSAxMDI0LCBcbiAgICBEaXNtaXNzTW9kYWxGb3JDb21wbGV0ZWRFZGl0T25DbG9zZWRRdWVzdGlvbiA9IDIwNDgsIFxuICAgIERpc21pc3NBZGRBZG1pbk5vdGljZSA9IDQwOTYsIFxuICAgIFNob3dSZXZpZXdRdWV1ZU5vdGljZSA9IDgxOTIsIFxuICAgIFJldmlld1F1ZXVlTm90aWNlSXNGb3JDYW1wYWlnbiA9IDE2Mzg0LCBcbiAgICBEaXNtaXNzUmV2aWV3T25ib2FyZGluZyA9IDMyNzY4LCBcbiAgICBTaG93TmV3UmV2aWV3ZXJPbmJvYXJkaW5nID0gNjU1MzYsIFxuICAgIERpc21pc3NNb2RhbEZvckZpcnN0UG9zdFF1ZXVlID0gMTMxMDcyLCBcbiAgICBEaXNtaXNzTW9kYWxGb3JMYXRlQW5zd2VyUXVldWUgPSAyNjIxNDQsIFxuICAgIERpc21pc3NNb2RhbEZvckNsb3NlVm90ZVF1ZXVlID0gNTI0Mjg4LCBcbiAgICBEaXNtaXNzTW9kYWxGb3JSZW9wZW5Wb3RlUXVldWUgPSAxMDQ4NTc2LCBcbiAgICBEaXNtaXNzTW9kYWxGb3JUcmlhZ2VRdWV1ZSA9IDIwOTcxNTIsIFxuICAgIERpc21pc3NNb2RhbEZvckhlbHBlclF1ZXVlID0gNDE5NDMwNCwgXG4gICAgRGlzbWlzc01vZGFsRm9yU3VnZ2VzdGVkRWRpdFF1ZXVlID0gODM4ODYwOCwgXG4gICAgRGlzbWlzc01vZGFsRm9yTG93UXVhbGl0eVBvc3RRdWV1ZSA9IDE2Nzc3MjE2LCBcbiAgICBEaXNtaXNzTW9kYWxGb3JGaXJzdFF1ZXN0aW9uc1F1ZXVlID0gMzM1NTQ0MzIsIFxuICAgIERpc21pc3NNb2RhbEZvckZpcnN0QW5zd2Vyc1F1ZXVlID0gNjcxMDg4NjQsIFxuICAgIERpc21pc3NNb2RhbEZvckNvbnRlbnRIZWFsdGhRdWV1ZSA9IDEzNDIxNzcyOCwgXG4gICAgSXNTaGFyZUZlZWRiYWNrRGVmYXVsdFNlbGYgPSAyNjg0MzU0NTYsIFxuICAgIERpc21pc3NOZXdTdGFnaW5nR3JvdW5kUmV2aWV3ZXJOb3RpY2UgPSA1MzY4NzA5MTIsIFxuICAgIERpc21pc3NOZXdTdGFnaW5nR3JvdW5kQXV0aG9yTm90aWNlID0gMTA3Mzc0MTgyNCwgXG4gICAgQ29sbGVjdGl2ZXNFeHBsb3JlZEZlYXR1cmVzID0gLTIxNDc0ODM2NDgsIFxuICAgIENvbGxlY3RpdmVzUmVhZEJ1bGxldGluID0gMSwgXG4gICAgQ29sbGVjdGl2ZXNDaGVja2VkTGVhZGVyYm9hcmQgPSAyLCBcbiAgICBDb2xsZWN0aXZlc0xlYXJuZWRBYm91dFJvbGVzID0gNCwgXG4gICAgQ29sbGVjdGl2ZXNEaXNjb3ZlcmVkUmVjQW5zd2VycyA9IDgsIFxuICAgIENvbGxlY3RpdmVzU2VlbkFsbCA9IDE2XG59XG5cblxuIiwiLy8gc2hpbSBtb2R1bGUgZm9yIGEgYnVuY2ggb2YgdGhpbmdzIHdoaWNoIGN1cnJlbnRseSBsaXZlIGluIHN0dWIuanMuXG4vLyBUaGlzIGZpbGUgaXMgcmlwZSB0byBiZSBzcGxpdCB1cFxuXG5cbi8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrIHRvIGdldCBhcm91bmQgaXNzdWVzIHdpdGggZXhlY3V0aW9uIG9yZGVyLlxuLy8gVGhpcyBmaWxlIGluaXRpYWxseSBoYWQgYSBidW5jaCBvZiByZS1leHBvcnRzIGZyb20gdGhlIFN0YWNrRXhjaGFuZ2Ugb2JqZWN0LCBsaWtlXG4vLyBgZXhwb3J0IGNvbnN0IGFkZFNwaW5uZXIgPSBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYWRkU3Bpbm5lcmAuXG4vLyBCdXQgc29tZXRpbWVzIHRoaXMgZmlsZSBnZXRzIHJ1biBiZWZvcmUgZnVsbC5qcyBpcyBsb2FkZWQsXG4vLyBzbyB0aGUgYFN0YWNrRXhjaGFuZ2UuaGVscGVyc2Agb2JqZWN0IHdvbid0IGhhdmUgYmVlbiBmdWxseSBpbml0aWFsaXNlZC5cbi8vIFNvIEknbSB1c2luZyB0aGlzIGBmd2RgIGZ1bmN0aW9uIHRvIGRlbGF5IGFjY2VzcyB0byB0aGUgYFN0YWNrRXhjaGFuZ2UuaGVscGVyc2Bcbi8vIG5hbWVzcGFjZSB1bnRpbCB0aGUgcmUtZXhwb3J0IGZ1bmN0aW9uIGlzIGNhbGxlZC5cbi8vIChHZW5lcmFsbHkgdGhpcyBoYXBwZW5zIGFmdGVyIGBzZVJlYWR5YCBmaXJlcywgc28gYWZ0ZXIgYFN0YWNrRXhjaGFuZ2UuaGVscGVyc2AgaGFzIGJlZW4gbG9hZGVkKS5cbi8vIE9uY2UgYFN0YWNrRXhjaGFuZ2UuaGVscGVyc2AgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgbW9kdWxlLCB3ZSB3b24ndCBuZWVkIHRvIGRvIHRoaXMuXG5mdW5jdGlvbiBmd2Q8VCBleHRlbmRzIEZ1bmN0aW9uPihmbjogKCkgPT4gVCk6IFQge1xuICAgIHJldHVybiA8YW55PigoLi4uYXJncykgPT4gZm4oKSguLi5hcmdzKSk7XG59XG5cbmV4cG9ydCBjb25zdCBhZGRTcGlubmVyID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5hZGRTcGlubmVyKTtcbmV4cG9ydCBjb25zdCBhZGRTdGFja3NTcGlubmVyID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5hZGRTdGFja3NTcGlubmVyKTtcbmV4cG9ydCBjb25zdCBhZGRMaWdodGJveCA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYWRkTGlnaHRib3gpO1xuZXhwb3J0IGNvbnN0IGdldExpa2VseUVycm9yTWVzc2FnZSA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZ2V0TGlrZWx5RXJyb3JNZXNzYWdlKTtcbmV4cG9ydCBjb25zdCBnZXRSZWplY3RlZE1vY2tYaHIgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmdldFJlamVjdGVkTW9ja1hocik7XG5leHBvcnQgY29uc3QgZ2V0U3Bpbm5lckltZyA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZ2V0U3Bpbm5lckltZyk7XG5leHBvcnQgY29uc3QgcmVtb3ZlTWVzc2FnZXMgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnJlbW92ZU1lc3NhZ2VzKTtcbmV4cG9ydCBjb25zdCByZW1vdmVTcGlubmVyID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVTcGlubmVyKTtcbmV4cG9ydCBjb25zdCBzaG93RXJyb3JNZXNzYWdlID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93RXJyb3JNZXNzYWdlKTtcbmV4cG9ydCBjb25zdCBzaG93SW5mb01lc3NhZ2UgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dJbmZvTWVzc2FnZSk7XG5leHBvcnQgY29uc3Qgc2hvd01lc3NhZ2UgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dNZXNzYWdlKTtcbmV4cG9ydCBjb25zdCBzaG93U3VjY2Vzc01lc3NhZ2UgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dTdWNjZXNzTWVzc2FnZSk7XG5leHBvcnQgY29uc3Qgc2hvd01vZGFsID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5zaG93TW9kYWwpO1xuZXhwb3J0IGNvbnN0IGxvYWRNb2RhbCA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMubG9hZE1vZGFsKTtcbmV4cG9ydCBjb25zdCBzaG93VG9hc3QgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dUb2FzdCk7XG5leHBvcnQgY29uc3QgaGlkZVRvYXN0cyA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuaGlkZVRvYXN0cyk7XG5leHBvcnQgY29uc3Qgc3VnZ2VzdGVkVHJhbnNpZW50VGltZW91dCA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc3VnZ2VzdGVkVHJhbnNpZW50VGltZW91dCk7XG5leHBvcnQgY29uc3QgdG9nZ2xlU3RhY2tzUG9wb3ZlciA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMudG9nZ2xlU3RhY2tzUG9wb3Zlcik7XG5leHBvcnQgY29uc3QgcXVldWVTdGFja3NQb3BvdmVyID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5xdWV1ZVN0YWNrc1BvcG92ZXIpO1xuZXhwb3J0IGNvbnN0IHN1Ym1pdEZvcm1PbkVudGVyUHJlc3MgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnN1Ym1pdEZvcm1PbkVudGVyUHJlc3MpO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy51cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlcik7XG5leHBvcnQgY29uc3QgRGVsYXllZFJlYWN0aW9uID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5EZWxheWVkUmVhY3Rpb24pO1xuZXhwb3J0IGNvbnN0IGNsb3NlUG9wdXBzID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5jbG9zZVBvcHVwcyk7XG5leHBvcnQgY29uc3Qgc2hvd1N0YWNrc05vdGljZSA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuc2hvd1N0YWNrc05vdGljZSk7XG5leHBvcnQgY29uc3QgcmVtb3ZlUGFyYW1ldGVyRnJvbVF1ZXJ5U3RyaW5nID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVQYXJhbWV0ZXJGcm9tUXVlcnlTdHJpbmcpO1xuZXhwb3J0IGNvbnN0IGVuYWJsZVN1Ym1pdEJ1dHRvbiA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZW5hYmxlU3VibWl0QnV0dG9uKTtcbmV4cG9ydCBjb25zdCBkaXNhYmxlU3VibWl0QnV0dG9uID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5kaXNhYmxlU3VibWl0QnV0dG9uKTtcbmV4cG9ydCBjb25zdCBsb2FkVGlja3MgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmxvYWRUaWNrcyk7XG5leHBvcnQgY29uc3QgZW5jb2RlSGV4SHRtbEVudGl0aWVzID0gZndkKCgpID0+IFN0YWNrRXhjaGFuZ2UuaGVscGVycy5lbmNvZGVIZXhIdG1sRW50aXRpZXMpO1xuZXhwb3J0IGNvbnN0IGJpbmRPbkhhc2hDaGFuZ2VfSGlnaGxpZ2h0RGVzdGluYXRpb24gPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmJpbmRPbkhhc2hDaGFuZ2VfSGlnaGxpZ2h0RGVzdGluYXRpb24pO1xuZXhwb3J0IGNvbnN0IE1hZ2ljUG9wdXAgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLk1hZ2ljUG9wdXApO1xuZXhwb3J0IGNvbnN0IGNvcHlUZXh0VG9DbGlwYm9hcmQgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLmNvcHlUZXh0VG9DbGlwYm9hcmQpO1xuXG4vKipcbiAqIFJlbW92ZXMgZGlhY3JpdGljcyBmcm9tIGEgc3RyaW5nLCBlZy4gXCLDsMO4xJ1cIiB0byBcImRvZ1wiXG4gKiBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugc3RyaW5nIHRvIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vRGlhY3JpdGljcyA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMubm9EaWFjcml0aWNzKTtcbi8qKlxuICogSWRlbnRpZmllcyB0aGUgdGFnIHNlcGFyYXRvciB1c2VkIGJ5IGEgc3RyaW5nLCBmb3IgdXNlIHdpdGggU3RyaW5nLnByb3RvdHlwZS5zcGxpdC4gIFRoZSBsb2dpYyBjbG9zZWx5IGZvbGxvd3MgdGhlIGxvZ2ljIG9mIFRhZy5Ub0FycmF5IGJ1dCBpcyBtb3JlIGxpYmVyYWwgaW4gaXRzIGNvbmNlcHQgb2YgYSBzZXBhcmF0b3IuXG4gKiBAcGFyYW0gdGFnUXVlcnkgQSBzZXF1ZW5jZSBvZiB0YWdzIHNlcGFyYXRlZCBieSBcIitcIiwgc3BhY2UsIFwifFwiLCBcIixcIiwgb3IgXCI7XCJcbiAqL1xuZXhwb3J0IGNvbnN0IHRhZ1NlcGFyYXRvciA9IGZ3ZCgoKSA9PiBTdGFja0V4Y2hhbmdlLmhlbHBlcnMudGFnU2VwYXJhdG9yKTtcbi8qKlxuICogU3BsaXRzIGEgc2VxdWVuY2Ugb2YgdGFncyBpbnRvIGFuIGFycmF5LCByZW1vdmluZyBvciBzYW5pdGl6aW5nIGludmFsaWQgY2hhcmFjdGVycyBhbmQgaWxsZWdhbCB0YWdzLlxuICogQHBhcmFtIHRhZ3MgQSBzZXF1ZW5jZSBvZiB0YWdzIHNlcGFyYXRlZCBieSBhbnkgc3VwcG9ydGVkIHNlcGFyYXRvci5cbiAqIEBwYXJhbSBhbGxvd1dpbGRjYXJkcyBJZiB0cnVlLCB3aWxkY2FyZHMgd2lsbCBub3QgYmUgc3RyaXBwZWQgZnJvbSB0aGUgb3V0cHV0IHRhZ3MuXG4gKiBAcGFyYW0gYWxsb3dPcGVyYXRvcnMgSWYgdHJ1ZSwgdGhlIG9wZXJhdG9ycyBcIm9yXCIsIFwiYW5kXCIsIGFuZCBcIm5vdFwiIHdpbGwgbm90IGJlIHJlbW92ZWQgZnJvbSB0YWdzLiAgSXQgd2lsbCBhbHNvIG5vdCBzYW5pdGl6ZSBvdXQgZHVwbGljYXRlIGluc3RhbmNlcyBvZiB0aGUgc2FtZSB0YWcuXG4gKiBAcGFyYW0gYWxsb3dVcHBlckNhc2UgSWYgdHJ1ZSwgdXBwZXIgY2FzZSBjaGFyYWN0ZXJzIHdpbGwgbm90IGJlIGNvbnZlcnRlZCB0byBsb3dlciBjYXNlLlxuICovXG5leHBvcnQgY29uc3Qgc2FuaXRpemVBbmRTcGxpdFRhZ3MgPSBmd2QoKCkgPT4gU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNhbml0aXplQW5kU3BsaXRUYWdzKTtcblxuLyoqXG4gKiBBIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgb25jZSBvdXIgc2hhcmVkIEpTIGNvZGUgaXMgbG9hZGVkLlxuICogTW9zdGx5IHlvdSdsbCB3YW50IHRvIHdhaXQgZm9yIHRoaXMgcHJvbWlzZSBpbiB5b3VyIGVudHJ5IHBvaW50IHNjcmlwdHNcbiAqL1xuZXhwb3J0IGNvbnN0IHNlUmVhZHkgPSBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICBTdGFja0V4Y2hhbmdlLnJlYWR5KHJlc29sdmUpO1xufSk7XG5cbi8qKlxuICogUmVsb2FkcyB0aGUgY3VycmVudCBVUkwsIGxpa2UgdGhlIFJlZnJlc2ggYnV0dG9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhdGlvblJlbG9hZCgpOiB2b2lkIHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyB9XG5cbnR5cGUgRGF0ZVBpY2tlclR5cGUgPSB0eXBlb2YgaW1wb3J0KFwianF1ZXJ5LXVpL3VpL3dpZGdldHMvZGF0ZXBpY2tlci5qc1wiKTtcbmV4cG9ydCBjb25zdCBpbXBvcnRKUXVlcnlVSURhdGVwaWNrZXIgPSBhc3luYyBmdW5jdGlvbiAobG9jYWxlOiBzdHJpbmcpOiBQcm9taXNlPERhdGVQaWNrZXJUeXBlPiB7XG4gICAgaWYgKGxvY2FsZSAhPT0gJ2VuJykge1xuICAgICAgICByZXR1cm4gYXdhaXQgaW1wb3J0KGBqcXVlcnktdWkvdWkvaTE4bi9kYXRlcGlja2VyLSR7bG9jYWxlfS5qc2ApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBpbXBvcnQoXCJqcXVlcnktdWkvdWkvd2lkZ2V0cy9kYXRlcGlja2VyLmpzXCIpO1xufVxuXG4vLyBFeHRyYWN0cyB0aGUgdXNlcklkIGZyb20gYSB1c2VyIHByb2ZpbGUgdXJsXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFVzZXJJZChzZWFyY2hUZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHByb2ZpbGVVcmxSZWdleCA9IC9cXC91c2Vyc1xcLyhbXFxkXSspKFxcLy4qKT8kL2k7XG4gICAgY29uc3QgbSA9IHNlYXJjaFRleHQubWF0Y2gocHJvZmlsZVVybFJlZ2V4KTtcbiAgICByZXR1cm4gKyhtID8gbVsxXSA6IHNlYXJjaFRleHQpO1xufVxuXG4vLyBUb2dnbGVzIGJ1dHRvbiBsb2FkaW5nL2Rpc2FibGVkIHN0YXR1c1xuZXhwb3J0IGZ1bmN0aW9uIHNldEJ1dHRvbkxvYWRpbmdEaXNhYmxlZCgkYnRuOiBKUXVlcnksIGlzTG9hZGluZ0Rpc2FibGVkOiBib29sZWFuKSB7XG4gICAgJGJ0bi50b2dnbGVDbGFzcygnaXMtbG9hZGluZycsIGlzTG9hZGluZ0Rpc2FibGVkKS5wcm9wKCdkaXNhYmxlZCcsIGlzTG9hZGluZ0Rpc2FibGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbnRhaW5lcldpdGhMb2FkaW5nR3JhcGhpYygkcGFyZW50RGl2OiBKUXVlcnkpIHtcbiAgICAkcGFyZW50RGl2Lmh0bWwoYDxkaXYgY2xhc3M9XCJzLXNwaW5uZXIgcy1zcGlubmVyX19sZyBtLWF1dG8gbXkxMlwiPjxkaXYgY2xhc3M9XCJ2LXZpc2libGUtc3JcIj4ke19zKFwiTG9hZGluZ+KAplwiKX08L2Rpdj48L2Rpdj5gKTtcbiAgICAkcGFyZW50RGl2LnRvZ2dsZUNsYXNzKFwiZC1ub25lXCIsIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvVG9wT2ZFbGVtZW50KCRlbGVtVG9TY3JvbGw6IEpRdWVyeSwgaW5jbHVkZU9mZnNldEFuZE91dGVyOiBib29sZWFuLCBzY3JvbGxNczogbnVtYmVyID0gMzAwKSB7XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNzQ5ODc1LzUxXG4gICAgY29uc3Qgc2Nyb2xsWTogbnVtYmVyID0gJGVsZW1Ub1Njcm9sbFxuICAgICAgICA/ICRlbGVtVG9TY3JvbGwucG9zaXRpb24oKT8udG9wICtcbiAgICAgICAgICAgIChpbmNsdWRlT2Zmc2V0QW5kT3V0ZXIgPyAkZWxlbVRvU2Nyb2xsLm9mZnNldCgpPy50b3AgKyAkZWxlbVRvU2Nyb2xsLm91dGVySGVpZ2h0KHRydWUpIDogMClcbiAgICAgICAgOiAwO1xuICAgICQoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0pLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFlcbiAgICB9LCBzY3JvbGxNcyk7XG59XG5cbi8vIFRPRE8gdGhpcyBsaXZlcyBpbiBzdHViLmpzIC0gd2Ugc2hvdWxkIHJlbW92ZSBpdCBmcm9tIHRoZXJlIGV2ZW50dWFsbHlcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdE9uTGFzdChzdHI6IHN0cmluZywgc3BsaXRPbjogc3RyaW5nKSB7XG4gICAgLy8vIDxzdW1tYXJ5PlxuICAgIC8vLyBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhpcyBzdHJpbmcgYWZ0ZXIgaXQncyBiZWVuIHNwbGl0IGF0IHRoZSBsYXN0IG9jY3VycmVuY2Ugb2YgJ3NwbGl0T24nLlxuICAgIC8vLyBJZiAnc3BsaXRPbicgZG9lcyBub3Qgb2NjdXIsIHRoZSByZXN1bHRpbmcgYXJyYXkgd2lsbCBjb250YWluIG9ubHkgb25lIGVsZW1lbnQsIHRoaXMgc3RyaW5nLlxuICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgLy8vIDxwYXJhbSBuYW1lPVwic3BsaXRPblwiIHR5cGU9XCJTdHJpbmdcIj5hIHN0cmluZyB0byBmaW5kIGluIHRoaXMgc3RyaW5nPC9wYXJhbT5cbiAgICAvLy8gPGV4YW1wbGU+XG4gICAgLy8vIFwidGVzdFwiLnNwbGl0T25MYXN0KFwiP1wiKSAgICAgICAgID0+IFtcInRlc3RcIl1cbiAgICAvLy8gXCJ0ZXN0P21lXCIuc3BsaXRPbkxhc3QoXCI/XCIpICAgICAgPT4gW1widGVzdFwiLCBcIj9tZVwiXVxuICAgIC8vLyBcInRlc3Q/bWU/dGhlXCIuc3BsaXRPbkxhc3QoJz8nKSAgPT4gW1widGVzdD9tZVwiLCBcIj90aGVcIl1cbiAgICAvLy8gPC9leGFtcGxlPlxuXG4gICAgdmFyIGkgPSBzdHIubGFzdEluZGV4T2Yoc3BsaXRPbik7XG4gICAgcmV0dXJuIGkgPCAwID8gW3N0cl0gOiBbc3RyLnN1YnN0cmluZygwLCBpKSwgc3RyLnN1YnN0cmluZyhpKV07XG59XG5cbi8vIGV4dHJhY3QgdGV4dCBodG1sIHN0cmluZ3MsIHJlbW92ZSBodG1sIHRhZ3MgaWYgdGhlcmUgYXJlIGFueVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRGcm9tSHRtbFN0cmluZyhzdHI6IHN0cmluZykge1xuICAgcmV0dXJuICQoYDxkaXY+JHtzdHJ9PC9kaXY+YCkudGV4dCgpO1xufVxuXG4vKioqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYSBzaW5nbGUgdGltZVxuICogQHBhcmFtIGZuIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxsT25jZShmbikge1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRBcmdzIH0gZnJvbSBcIi4uL21vZHVsZXMubW9kXCI7XG5cbmNvbnN0IG9wdGlvbnMgPSBnZXRBcmdzPHsgb3B0aW9uczogU3RhY2tFeGNoYW5nZU9wdGlvbnMgfT4oX19maWxlbmFtZSkub3B0aW9ucztcbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4iLCJpbXBvcnQgeyBnZXRBcmdzIH0gZnJvbSBcIi4uL21vZHVsZXMubW9kXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGdldEFyZ3M8eyBzZXR0aW5nczogU3RhY2tFeGNoYW5nZVNldHRpbmdzIH0+KF9fZmlsZW5hbWUpLnNldHRpbmdzO1xuIiwiLyoqXG4gKiBDdXN0b20galF1ZXJ5IGVsZW1lbnQgd2l0aCBleHRlbnNpb25zIHRvIG1pbWljIHRoZSBmdW5jdGlvbmFsaXR5IG9mIGMjIFN2ZyBoZWxwZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdmdKUXVlcnlFbGVtZW50IGV4dGVuZHMgSlF1ZXJ5IHtcbiAgICBXaXRoKGNsYXNzZXM6IHN0cmluZyk6IEpRdWVyeTtcbiAgICBXaXRoQXR0ciguLi5hcmdzOiBbYXR0ck5hbWU6IHN0cmluZywgYXR0clZhbHVlOiBzdHJpbmddIHwgW2F0dHJpYnV0ZXM6IG9iamVjdF0pOiBKUXVlcnk7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBTVkcgc3RyaW5nIGludG8gYSBqUXVlcnkgZWxlbWVudCB3aXRoIGV4dGVuc2lvbnMgdG8gbWltaWMgdGhlIGMjIFN2ZyBoZWxwZXJcbiAqIEBwYXJhbSBzdmcgLSB0aGUgc3ZnIHN0cmluZyB0byB0cmFuc2Zvcm1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN2Z0VsZW1lbnQoc3ZnOiBzdHJpbmcpOiBTdmdKUXVlcnlFbGVtZW50IHtcbiAgICBjb25zdCAkc3ZnID0gJChzdmcpO1xuXG4gICAgJHN2Zy5leHRlbmQoe1xuICAgICAgICBXaXRoKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmNsb25lKCkuYWRkQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIFdpdGhBdHRyKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gJCh0aGlzKS5jbG9uZSgpO1xuICAgICAgICAgICAgY2xvbmUuYXR0cihhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfSxcbiAgICB9KVxuXG4gICAgcmV0dXJuICRzdmcgYXMgU3ZnSlF1ZXJ5RWxlbWVudDtcbn1cbiIsImltcG9ydCB0eXBlIHsgQ29tbWVudFBvc3RVaSB9IGZyb20gXCIuLi9MZWdhY3lKUy9mdWxsLWNvbW1vbi8xMl9Db21tZW50cy5tb2RcIjtcbmltcG9ydCB7IFZvdGVUeXBlSWQgfSBmcm9tIFwiLi4vX0RlY2xhcmF0aW9ucy9UeXBlSWRFbnVtc1wiO1xuaW1wb3J0IHsgY2xvc2VQb3B1cHMsIGxvYWRNb2RhbCwgcmVtb3ZlU3Bpbm5lciwgc2hvd1RvYXN0IH0gZnJvbSBcIi4uL1NoYXJlZC9oZWxwZXJzLm1vZFwiO1xuXG50eXBlIEZsYWdGb3JtU3VibWl0VHlwZSA9IFwiYWRkXCIgfCBcInJldHJhY3RcIjtcblxuaW50ZXJmYWNlIEZsYWdDb21tZW50UmVzcG9uc2Uge1xuICAgIFN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgT3V0Y29tZTogbnVtYmVyO1xuICAgIE1lc3NhZ2U6IHN0cmluZztcbiAgICBSZXN1bHRDaGFuZ2VkU3RhdGU6IGJvb2xlYW47XG4gICAgRmxhZ1R5cGU6IE51bWJlcjtcbn1cblxuaW50ZXJmYWNlIG9uU3VjY2Vzc1BhcmFtcyB7XG4gICAgcmVzcG9uc2U6IEZsYWdDb21tZW50UmVzcG9uc2U7XG4gICAgc3VibWl0VHlwZTogRmxhZ0Zvcm1TdWJtaXRUeXBlO1xufVxuXG50eXBlIG9uU3VjY2Vzc0NhbGxiYWNrID0gKHBhcmFtczogb25TdWNjZXNzUGFyYW1zKSA9PiB2b2lkO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29tbWVudFVpRmxhZygkY29tbWVudDogSlF1ZXJ5LCBjb21tZW50SWQ6IG51bWJlciwgcG9zdFVpOiBDb21tZW50UG9zdFVpKTogdm9pZCB7XG4gICAgaWYgKFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5pblJlYWRPbmx5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgJGNvbW1lbnRGbGFnID0gJGNvbW1lbnQuZmluZChcIi5qcy1jb21tZW50LWZsYWdcIik7XG5cbiAgICBjb25zdCAkcmV0dXJuRWxlbWVudHMgPSAkY29tbWVudEZsYWcuYWRkQXRFbmQoJGNvbW1lbnQubmV4dCgpLmZpbmQoJy5qcy1jb21tZW50LWZsYWcnKSkuYWRkQXRFbmQocG9zdFVpLmpDb21tZW50c0xpbmtDb250YWluZXIuZmluZCgnLmpzLWFkZC1saW5rLCAuanMtc2hvdy1saW5rJykpO1xuXG4gICAgY29uc3Qgb25TdWNjZXNzID1cbiAgICAgICAgKHBhcmFtczogb25TdWNjZXNzUGFyYW1zKSA9PiBDb21tZW50VWlVcGRhdGVGbGFnQnV0dG9ucyh7JGNvbW1lbnQsICRjb21tZW50RmxhZywgcG9zdFVpLCBjb21tZW50SWQsIC4uLnBhcmFtc30pO1xuXG4gICAgJGNvbW1lbnRGbGFnLmFkZFNwaW5uZXJBZnRlcih7ICdoZWlnaHQnOiAnNHB4J30pO1xuICAgIGxvYWRGbGFnQ29tbWVudE1vZGFsKGNvbW1lbnRJZCwgeyByZXR1cm5FbGVtZW50czogJHJldHVybkVsZW1lbnRzIH0pXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uICgkbW9kYWwpIHsgY29uZmlndXJlRmxhZ01vZGFsKHskbW9kYWwsIGNvbW1lbnRJZCwgb25TdWNjZXNzfSkgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICRjb21tZW50RmxhZy5wYXJlbnQoKS5zaG93RXJyb3JNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9KVxuICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbW92ZVNwaW5uZXIoKTtcbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIENvbW1lbnRVaVVwZGF0ZUZsYWdCdXR0b25zKHskY29tbWVudCwgJGNvbW1lbnRGbGFnLCBwb3N0VWksIGNvbW1lbnRJZCwgcmVzcG9uc2UsIHN1Ym1pdFR5cGV9OiB7JGNvbW1lbnQ6IEpRdWVyeSwgJGNvbW1lbnRGbGFnOiBKUXVlcnksIHBvc3RVaTogQ29tbWVudFBvc3RVaSwgY29tbWVudElkOiBudW1iZXJ9ICYgb25TdWNjZXNzUGFyYW1zKSB7XG4gICAgaWYgKHJlc3BvbnNlLlJlc3VsdENoYW5nZWRTdGF0ZSkgeyAvLyBmbGFnIGNhdXNlZCBhIGRlbGV0aW9uXG4gICAgICAgICRjb21tZW50LnJlbW92ZSgpO1xuICAgICAgICBwb3N0VWkuakRpdi50cmlnZ2VyKCdjb21tZW50OmRlbGV0ZWQnLCBbK2NvbW1lbnRJZF0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgQUNUSVZFX0NMQVNTID0gJ2ZjLXJlZC00MDAnO1xuICAgIGNvbnN0IElOQUNUSVZFX0NMQVNTID0gJ2ZjLWJsYWNrLTIyNSc7XG4gICAgY29uc3QgRU5BQkxFRF9DTEFTUyA9ICdjLXBvaW50ZXInO1xuICAgIGNvbnN0IHByZXNzZWQgPSBzdWJtaXRUeXBlID09PSBcImFkZFwiO1xuXG4gICAgY29uc3QgZW5hYmxlZCA9ICFwcmVzc2VkIHx8IFN0YWNrRXhjaGFuZ2Uuc2V0dGluZ3MuZmxhZ3MuYWxsb3dSZXRyYWN0aW5nQ29tbWVudEZsYWdzO1xuICAgIGNvbnN0IHRpdGxlID0gcHJlc3NlZCAmJiBlbmFibGVkXG4gICAgICAgID8gX3MoXCJZb3UgaGF2ZSBmbGFnZ2VkIHRoaXMgY29tbWVudCAoY2xpY2sgdG8gcmV2aWV3IHlvdXIgZmxhZylcIilcbiAgICAgICAgOiBwcmVzc2VkXG4gICAgICAgICAgICA/IF9zKFwiWW91IGhhdmUgYWxyZWFkeSBmbGFnZ2VkIHRoaXMgY29tbWVudFwiKVxuICAgICAgICAgICAgOiBfcyhcIkZsYWcgdGhpcyBjb21tZW50IGZvciBzZXJpb3VzIHByb2JsZW1zIG9yIG1vZGVyYXRvciBhdHRlbnRpb25cIik7XG5cbiAgICAkY29tbWVudC5maW5kKCcuY29tbWVudC12b3RpbmcnKS50b2dnbGVDbGFzcygnZC1ub25lJywgcHJlc3NlZCk7XG4gICAgJGNvbW1lbnRGbGFnXG4gICAgICAgIC50b2dnbGVDbGFzcyhBQ1RJVkVfQ0xBU1MsIHByZXNzZWQpXG4gICAgICAgIC50b2dnbGVDbGFzcyhJTkFDVElWRV9DTEFTUywgIXByZXNzZWQpXG4gICAgICAgIC50b2dnbGVDbGFzcyhFTkFCTEVEX0NMQVNTLCBlbmFibGVkKVxuICAgICAgICAuYXR0cignYXJpYS1wcmVzc2VkJywgU3RyaW5nKHByZXNzZWQpKVxuICAgICAgICAucHJvcCgnZGlzYWJsZWQnLCAhZW5hYmxlZClcbiAgICAgICAgLnByb3AoJ3RpdGxlJywgdGl0bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZsYWdDb21tZW50TW9kYWwoY29tbWVudElkOiBudW1iZXIsIG1vZGFsT3B0aW9uczogU2hvd01vZGFsT3B0aW9ucykge1xuICAgIHJldHVybiBsb2FkTW9kYWwoYC9mbGFncy9jb21tZW50cy8ke2NvbW1lbnRJZH0vcG9wdXBgLCBtb2RhbE9wdGlvbnMpO1xufVxuXG5pbnRlcmZhY2UgRmxhZ01vZGFsQ29uZmlndXJhdGlvbiB7XG4gICAgJG1vZGFsOiBKUXVlcnk7XG4gICAgY29tbWVudElkOiBudW1iZXI7XG4gICAgb25TdWNjZXNzPzogb25TdWNjZXNzQ2FsbGJhY2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVGbGFnTW9kYWwoeyRtb2RhbCwgY29tbWVudElkLCBvblN1Y2Nlc3N9OiBGbGFnTW9kYWxDb25maWd1cmF0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgJG9wdGlvbnMgPSAkbW9kYWwuZmluZCgnaW5wdXRbbmFtZT1cImNvbW1lbnQtZmxhZy10eXBlXCJdJyk7XG4gICAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9ICRtb2RhbC5maW5kKCcuanMtbW9kYWwtc3VibWl0Jyk7XG4gICAgY29uc3QgJGZvcm0gPSAkbW9kYWwuZmluZCgnZm9ybScpO1xuICAgIGNvbnN0IHN1Ym1pdFR5cGUgPSAkZm9ybS5kYXRhKFwic3VibWl0dHlwZVwiKTtcbiAgICBjb25zdCBpc0FkZCA9IHN1Ym1pdFR5cGUgPT09IFwiYWRkXCI7XG4gICAgY29uc3QgaXNSZXRyYWN0ID0gc3VibWl0VHlwZSA9PT0gXCJyZXRyYWN0XCI7XG4gICAgbGV0IGxhc3RTdWJtaXR0ZWRPdGhlclRleHQgPSBcIlwiO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlU3RhdGUoZm9jdXNUZXh0YXJlYTogYm9vbGVhbikge1xuICAgICAgICBpZiAoaXNBZGQpIHtcbiAgICAgICAgICAgIGxldCBzdWJtaXRFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICRvcHRpb25zLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRvcHRpb24gPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRjb21tZW50Q29udGFpbmVyID0gJG9wdGlvbi5jbG9zZXN0KCcuanMtY29tbWVudC1mbGFnLW9wdGlvbicpLmZpbmQoJy5qcy1yZXF1aXJlZC1jb21tZW50Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWVudCA9ICRjb21tZW50Q29udGFpbmVyLmZpbmQoJ3RleHRhcmVhJykudmFsKCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2VkID0gJG9wdGlvbi5pcygnOmNoZWNrZWQnKTtcblxuICAgICAgICAgICAgICAgICRjb21tZW50Q29udGFpbmVyLnRvZ2dsZUNsYXNzKCdkLW5vbmUnLCAhY2hlY2tlZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJlxuICAgICAgICAgICAgICAgICAgICAoJGNvbW1lbnRDb250YWluZXIubGVuZ3RoID09IDAgfHwgKGNvbW1lbnQubGVuZ3RoID49IDYgJiYgY29tbWVudC5sZW5ndGggPD0gNTAwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzVGV4dGFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRDb250YWluZXIuZmluZCgndGV4dGFyZWEnKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc3VibWl0QnV0dG9uLmVuYWJsZShzdWJtaXRFbmFibGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxpbmtzIGluIGRlc2NyaXB0aW9ucyBzaG91bGQgb3BlbiBpbiBhIG5ldyB0YWJcbiAgICAkbW9kYWwuZmluZCgnLmpzLWNvbW1lbnQtZmxhZy1vcHRpb24gYScpLmF0dHIoJ3RhcmdldCcsICdfYmxhbmsnKTtcblxuICAgIC8vIFdpcmUgdXAgc3RhdGUgbWFjaGluZSBhbmQgdGV4dCB2YWxpZGF0b3IuXG4gICAgJG1vZGFsLmZpbmQoJy5qcy1yZXF1aXJlZC1jb21tZW50JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuZmluZCgndGV4dGFyZWEnKS5jaGFyQ291bnRlcih7XG4gICAgICAgICAgICBtaW46IDYsIG1heDogNTAwLFxuICAgICAgICAgICAgc2V0SXNWYWxpZDogZnVuY3Rpb24gKCkgeyB1cGRhdGVTdGF0ZShmYWxzZSk7IH0sXG4gICAgICAgICAgICB0YXJnZXQ6ICQodGhpcykuZmluZCgnLmpzLWlucHV0LW1lc3NhZ2UnKSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgJG9wdGlvbnMuY2xpY2soZnVuY3Rpb24gKCkgeyB1cGRhdGVTdGF0ZSh0cnVlKTsgfSk7XG4gICAgdXBkYXRlU3RhdGUoZmFsc2UpO1xuXG4gICAgJGZvcm0uc3VibWl0KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCAkY2hlY2tlZEZsYWcgPSAkb3B0aW9ucy5maWx0ZXIoJzpjaGVja2VkJyk7XG5cbiAgICAgICAgY29uc3QgZmxhZ1R5cGVJZCA9ICRjaGVja2VkRmxhZy52YWwoKTtcbiAgICAgICAgY29uc3QgZmxhZ0NvbW1lbnQgPSAkY2hlY2tlZEZsYWcuY2xvc2VzdCgnLmpzLWNvbW1lbnQtZmxhZy1vcHRpb24nKS5maW5kKCcuanMtcmVxdWlyZWQtY29tbWVudCB0ZXh0YXJlYScpLnZhbCgpIHx8ICcnO1xuICAgICAgICBjb25zdCBvdmVycmlkZVdhcm5pbmcgPSBmbGFnQ29tbWVudCA9PT0gbGFzdFN1Ym1pdHRlZE90aGVyVGV4dDtcbiAgICAgICAgbGFzdFN1Ym1pdHRlZE90aGVyVGV4dCA9IGZsYWdDb21tZW50O1xuXG4gICAgICAgICRzdWJtaXRCdXR0b24uYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcblxuICAgICAgICBpZiAoaXNBZGQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYC9mbGFncy9jb21tZW50cy8ke2NvbW1lbnRJZH0vYWRkLyR7ZmxhZ1R5cGVJZH1gLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZmtleTogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSwgb3RoZXJUZXh0OiBmbGFnQ29tbWVudCwgb3ZlcnJpZGVXYXJuaW5nOiBvdmVycmlkZVdhcm5pbmcgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChqc29uOiBGbGFnQ29tbWVudFJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFqc29uLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcHRzOiBTaG93TWVzc2FnZU9wdGlvbnMgPSB7IGNsb3NlT3RoZXJzOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uT3V0Y29tZSA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnR5cGUgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdWJtaXRCdXR0b24ucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKS5wYXJlbnQoKS5zaG93RXJyb3JNZXNzYWdlKGpzb24uTWVzc2FnZSB8fCBfcygnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGZsYWdnaW5nJyksIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VQb3B1cHMoJG1vZGFsLCAnc3VibWl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChfcygnVGhhbmtzIGZvciBmbGFnZ2luZyEgV2UgdGFrZSB5b3VyIHJlcG9ydHMgc2VyaW91c2x5LicpLCB7IHR5cGU6ICdzdWNjZXNzJywgdHJhbnNpZW50VGltZW91dDogMzAwMCB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3Moe3Jlc3BvbnNlOiBqc29uLCBzdWJtaXRUeXBlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yID0gcmVzLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvciB8fCBlcnJvci5pbmRleE9mKFwiPGh0bWxcIikgPj0gMCkgLy8gPC0gWVNPRD9cbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gX3MoJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBmbGFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICRzdWJtaXRCdXR0b24ucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKS5wYXJlbnQoKS5zaG93RXJyb3JNZXNzYWdlKGVycm9yLCB7IHRyYW5zaWVudDogcmVzLnN0YXR1cyA9PSA0MDksIGNsb3NlT3RoZXJzOiBmYWxzZSB9KTsgLy8gZmFkZSBhd2F5IHRocm90dGxlIGVycm9yc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZXRyYWN0KSB7IC8vIGlzIGEgcmV2ZXJ0IGZsYWcgY2FsbFxuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGAvZmxhZ3MvY29tbWVudHMvJHtjb21tZW50SWR9L3JldHJhY3QvJHtmbGFnVHlwZUlkfWAsXG4gICAgICAgICAgICAgICAgZGF0YTogeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5LCBvdGhlclRleHQ6IGZsYWdDb21tZW50LCBvdmVycmlkZVdhcm5pbmc6IG92ZXJyaWRlV2FybmluZyB9LFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKGpzb246IEZsYWdDb21tZW50UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFqc29uLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChqc29uLk1lc3NhZ2UgfHwgX3MoJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBmbGFnZ2luZycpLCB7IHR5cGU6ICdkYW5nZXInLCAkcGFyZW50OiAkbW9kYWwgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjbG9zZVBvcHVwcygkbW9kYWwsICdzdWJtaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KF9zKCdUaGUgY29tbWVudCBmbGFnIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZXRyYWN0ZWQuJyksIHsgdHlwZTogJ3N1Y2Nlc3MnLCB0cmFuc2llbnRUaW1lb3V0OiAzMDAwIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25TdWNjZXNzKSBvblN1Y2Nlc3Moe3Jlc3BvbnNlOiBqc29uLCBzdWJtaXRUeXBlfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IHJlcy5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IgfHwgZXJyb3IuaW5kZXhPZihcIjxodG1sXCIpID49IDApIC8vIDwtIFlTT0Q/XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IF9zKCdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcmV0cmFjdGlvbiBvZiBmbGFnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbi5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpLnBhcmVudCgpLnNob3dFcnJvck1lc3NhZ2UoZXJyb3IsIHsgdHJhbnNpZW50OiByZXMuc3RhdHVzID09IDQwOSwgY2xvc2VPdGhlcnM6IGZhbHNlIH0pOyAvLyBmYWRlIGF3YXkgdGhyb3R0bGUgZXJyb3JzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRtb2RhbC5mb2N1cygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VibWl0Q29tbWVudFZvdGUoXG4gICAgY29tbWVudElkOiBudW1iZXIsXG4gICAgdm90ZVR5cGVJZDogVm90ZVR5cGVJZCxcbiAgICBhZGRpdGlvbmFsUGFyYW1zOiBhbnkgPSB7fSxcbiAgICBsb2FkZXJGbjogKG9wdGlvbnM6IEpRdWVyeUFqYXhTZXR0aW5ncykgPT4gSlF1ZXJ5WEhSID0gJC5hamF4XG4pOiBKUXVlcnlYSFIge1xuICAgIGlmIChTdGFja0V4Y2hhbmdlLm9wdGlvbnMuaW5SZWFkT25seSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGFyYW1zID0geyBcImZrZXlcIjogU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSwgLi4uYWRkaXRpb25hbFBhcmFtcyB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICB1cmw6ICcvcG9zdHMvY29tbWVudHMvJyArIGNvbW1lbnRJZCArICcvdm90ZS8nICsgdm90ZVR5cGVJZCxcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBkYXRhOiBwYXJhbXNcbiAgICB9O1xuXG4gICAgcmV0dXJuIGxvYWRlckZuKG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9zdFVuZGVsZXRlQ29tbWVudChwb3N0SWQ6IG51bWJlciwgY29tbWVudElkOiBudW1iZXIpOiBKUXVlcnlYSFIge1xuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgIHVybDogYC9hZG1pbi9wb3N0cy8ke3Bvc3RJZH0vY29tbWVudHMvJHtjb21tZW50SWR9L3VuZGVsZXRlYCxcbiAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgZGF0YTogeyBma2V5OiBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5ma2V5IH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTRUN1c3RvbUV2ZW50PFQgPSB7fT4ge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBkZXRhaWw6IFQ7XG59XG5cbi8qKlxuICogVXNlci1kZWZpbmVkIFR5cGUgR3VhcmQgY2hlY2sgZm9yIG5hdGl2ZSBjdXN0b20gZXZlbnRzLlxuICpcbiAqIFByZWZlciB0aGlzIGR1Y2stdHlwaW5nIGFwcHJvYWNoIG92ZXIgYGV2ZW50IGluc3RhbmNlb2YgLi4uYFxuICogYmVjYXVzZSBpbnN0YW5jZW9mIHJldHVybnMgZmFsc2UgYWNyb3NzIGRpZmZlcmVudCBjb250ZXh0cy5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdGhlIHNhbWUgY2xhc3MgbWF5IGJlIGRlZmluZWQgbXVsdGlwbGUgdGltZXMgYWNyb3NzXG4gKiBKUyBidW5kbGVzIHdoaWNoIGluc3RhbmNlb2YgY2hlY2tzIHJldHVybiBmYWxzZSBuZWdhdGl2ZXMgZm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTRUN1c3RvbUV2ZW50PEUgZXh0ZW5kcyBTRUN1c3RvbUV2ZW50PihvYmo6IGFueSk6IG9iaiBpcyBFIHtcbiAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGhhc0V2ZW50VHlwZSA9IHR5cGVvZiBvYmoudHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBCb29sZWFuKG9iai50eXBlKTtcbiAgICBjb25zdCBoYXNFdmVudERldGFpbCA9IEJvb2xlYW4ob2JqLmRldGFpbClcbiAgICByZXR1cm4gaGFzRXZlbnRUeXBlICYmIGhhc0V2ZW50RGV0YWlsO1xufVxuXG5leHBvcnQgY2xhc3MgU0VDb21tZW50RGVsZXRlZEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIHN0YXRpYyByZWFkb25seSB0eXBlID0gXCJjb21tZW50OmRlbGV0ZWRcIjtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkZXRhaWw6IHtjb21tZW50SWQ6IG51bWJlciwgaHRtbD86IHN0cmluZ30pIHtcbiAgICAgICAgc3VwZXIoU0VDb21tZW50RGVsZXRlZEV2ZW50LnR5cGUsIHsgYnViYmxlczogdHJ1ZSB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBub0RpYWNyaXRpY3MgfSBmcm9tIFwiLi4vU2hhcmVkL2hlbHBlcnMubW9kXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVOYW1lKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5vRGlhY3JpdGljcyhzLnJlcGxhY2UoLyAvZywgXCJcIikudG9Mb3dlckNhc2UoKSk7XG59XG4iLCIvKipcbiAqIFJldHVybnMgdGhlIGFyZ3VtZW50cyBzZXQgYnkgYSBjYWxsIHRvIGBKYXZhU2NyaXB0SGVscGVyLkFyZ3NgIG9uIHRoZSBiYWNrZW5kLlxuICogVGhpcyBmdW5jdGlvbidzIGFyZ3VtZW50IHNob3VsZCBiZSB0aGUgcmVsYXRpdmUgZmlsZSBwYXRoIHRvIHRoZSBUeXBlU2NyaXB0XG4gKiBmaWxlLlxuICogXG4gKiBUaGUgZmlsZSBwYXRoIHNob3VsZCBiZSBldmVyeXRoaW5nIF9fYWZ0ZXJfXyBgU3RhY2tPdmVyZmxvdy9fU2NyaXB0cy9gLlxuICogT3IsIHVzZSB0aGUgbWFnaWMgYF9fZmlsZW5hbWVgIHZhcmlhYmxlIHRoYXQgaXMgc2V0IGJ5IFdlYnBhY2sncyBgRGVmaW5lUGx1Z2luYC5cbiAqXG4gKiBAcGFyYW0gdHNGaWxlUGF0aCAtIFVzZSB0aGUgbWFnaWMgYF9fZmlsZW5hbWVgIHZhcmlhYmxlXG4gKiBAcmV0dXJucyBUaGUgYXJncyB3aGljaCB3ZXJlIHNldCBieSBhIGNhbGwgdG8gYEphdmFTY3JpcHRIZWxwZXIuQXJnc2Agb24gdGhlIGJhY2tlbmQuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBJbiB5b3VyIFJhem9yIGZpbGUsIGNhbGwgYEphdmFTY3JpcHRIZWxwZXIuQXJnc2A6XG4gKiBgYGBjc2hhcnBcbiAqIEBKYXZhU2NyaXB0SGVscGVyLkFyZ3MoXCJteS1tb2R1bGVcIiwgbmV3IHsgZm9vID0gMTIzLCBiYXIgPSBcImJhclwiIH0pO1xuICogYGBgXG4gKiBUaGVuLCBpbiBgbXktbW9kdWxlLnRzYDpcbiAqIGBgYHRzXG4gKiBpbnRlcmZhY2UgQXJncyB7XG4gKiAgICAgZm9vOiBudW1iZXI7XG4gKiAgICAgYmFyOiBzdHJpbmc7XG4gKiB9XG4gKiBjb25zdCBhcmdzID0gZ2V0QXJnczxBcmdzPihfX2ZpbGVuYW1lKTtcbiAqIC8vIGFyZ3MgPSB7IGZvbzogMTIzLCBiYXI6IFwiYmFyXCIgfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmdzPFQ+KHRzRmlsZVBhdGg6IHN0cmluZyk6IFQge1xuICAgIGNvbnN0IGFyZ3MgPSBnZXRBcmdzTGlzdDxUPih0c0ZpbGVQYXRoKTtcblxuICAgIGFzc2VydE5vdE1pc3NpbmcoYXJncywgdHNGaWxlUGF0aCk7XG4gICAgYXNzZXJ0Tm90TXVsdGlwbGUoYXJncywgdHNGaWxlUGF0aCk7XG5cbiAgICByZXR1cm4gYXJnc1swXTtcbn1cbi8qKlxuICogTGlrZSBnZXRBcmdzKCksIGJ1dCByZXR1cm5zIGFuIGFycmF5IG9mIGFyZ3MsXG4gKiBvbmUgZm9yIGVhY2ggSmF2YVNjcmlwdEhlbHBlci5BcmdzKCkgY2FsbC5cbiAqIFdvbid0IHRocm93IGlmIHlvdSBoYXZlIDAgb3IgPjEgSlNIZWxwZXIuQXJncyBpdGVtcy5cbiAqIChZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwgZ2V0QXJncyBpbnN0ZWFkLilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFyZ3NMaXN0PFQ+KHRzRmlsZVBhdGg6IHN0cmluZyk6IFRbXSB7XG4gICAgY29uc3QgJGVsID0gZ2V0QXJnc0VsZW1lbnQodHNGaWxlUGF0aCk7XG4gICAgcmV0dXJuICRlbC50b0FycmF5KCkubWFwKGUgPT4gSlNPTi5wYXJzZSgkKGUpLnRleHQoKSkpO1xufVxuXG5mdW5jdGlvbiBnZXRBcmdzRWxlbWVudCh0c0ZpbGVQYXRoOiBzdHJpbmcpOiBKUXVlcnkge1xuICAgIGNvbnN0IHVybCA9IHRzRmlsZVBhdGgucmVwbGFjZSgvXFwuKHR8ailzeD8vLCAnJyk7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9qc29uXCJdW2RhdGEtcm9sZT1cIm1vZHVsZS1hcmdzXCJdW2RhdGEtbW9kdWxlLW5hbWU9XCIke3VybH1cIl1gO1xuICAgIHJldHVybiAkKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm90TWlzc2luZzxUPihhcmdzOiBUW10sIG1vZHVsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBgQ291bGRuJ3QgZmluZCBhcmdzIGZvciBtb2R1bGUgXCIke21vZHVsZU5hbWV9XCIuIERpZCB5b3UgZm9yZ2V0IHRvIGNhbGwgQEphdmFTY3JpcHRIZWxwZXIuQXJncz9gXG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnROb3RNdWx0aXBsZTxUPihhcmdzOiBUW10sIG1vZHVsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgYEZvdW5kIHRvbyBtYW55IGluc3RhbmNlcyBvZiBhcmdzIGZvciBtb2R1bGUgXCIke21vZHVsZU5hbWV9XCIuIERpZCB5b3UgY2FsbCBASmF2YVNjcmlwdEhlbHBlci5BcmdzIHRvbyBtYW55IHRpbWVzP2BcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBidWlsZENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2NvbnRyb2xsZXItYnVpbGRlclwiO1xuXG5jb25zdCB7IEJhc2UgfSA9IGJ1aWxkQ29udHJvbGxlcihcInNlLWFycm93LWtleS1uYXZpZ2F0aW9uXCIpXG4gICAgLndpdGhUYXJnZXRzKFxuICAgICAgICBcIm5hdmlnYWJsZUVsZW1lbnRcIiAvLyBlYWNoIGh0bWwgZWxlbWVudCB0YWdnZWQgd2l0aCB0aGlzIHRhcmdldCB3aWwgYmUgdHJhdmVyc2libGUgd2l0aCB1cC9kb3duIGFycm93c1xuICAgIClcbiAgICAud2l0aFZhbHVlcyh7XG4gICAgICAgIGxvb3BzOiBCb29sZWFuLCAvLyBpZiBzZXQgdG8gdHJ1ZSB0aGUgbGlzdCB3aWxsIGxvb3AgZnJvbSB0b3AgdG8gYm90dG9tIGFuZCB2aWNlLWEtdmVyc2Egd2hlbiB1c2luZyBhcnJvdyBrZXlzIHRvIHRyYXZlcnNlIGl0LiBUaGlzIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIHRoZSBleGl0IG9wdGlvbnNcbiAgICB9KVxuICAgIC5idWlsZCgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJvd0tleU5hdmlnYXRpb25Db250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gICAgZGVjbGFyZSBsb29wc1ZhbHVlOiBib29sZWFuO1xuXG4gICAgY3VycmVudEluZGV4ID0gMDtcbiAgICBmb2N1c2VkSXRlbTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIG5hdmlnYWJsZUVsZW1lbnRUYXJnZXRDb25uZWN0ZWQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJmb2N1c1wiLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbGVtZW50Rm9jdXNlZC5iaW5kKHRoaXMsIGVsZW1lbnQpXG4gICAgICAgICk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5oYW5kbGVFbGVtZW50Qmx1cnJlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBuYXZpZ2FibGVFbGVtZW50VGFyZ2V0RGlzY29ubmVjdGVkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwiZm9jdXNcIixcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRWxlbWVudEZvY3VzZWQuYmluZCh0aGlzLCBlbGVtZW50KVxuICAgICAgICApO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcImJsdXJcIixcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRWxlbWVudEJsdXJyZWQuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZEl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RQcmV2aW91c0l0ZW0oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROZXh0SXRlbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0TmV4dEl0ZW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmxvb3BzVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID1cbiAgICAgICAgICAgICAgICAodGhpcy5jdXJyZW50SW5kZXggKyAxKSAlIHRoaXMubmF2aWdhYmxlRWxlbWVudFRhcmdldHMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPFxuICAgICAgICAgICAgdGhpcy5uYXZpZ2FibGVFbGVtZW50VGFyZ2V0cy5sZW5ndGggLSAxXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubmF2aWdhYmxlRWxlbWVudFRhcmdldHNbdGhpcy5jdXJyZW50SW5kZXhdLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgc2VsZWN0UHJldmlvdXNJdGVtKCkge1xuICAgICAgICBpZiAodGhpcy5sb29wc1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9XG4gICAgICAgICAgICAgICAgKHRoaXMuY3VycmVudEluZGV4IC0gMSArIHRoaXMubmF2aWdhYmxlRWxlbWVudFRhcmdldHMubGVuZ3RoKSAlXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2FibGVFbGVtZW50VGFyZ2V0cy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uYXZpZ2FibGVFbGVtZW50VGFyZ2V0c1t0aGlzLmN1cnJlbnRJbmRleF0uZm9jdXMoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVFbGVtZW50Rm9jdXNlZChlbDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGVsO1xuICAgICAgICB0aGlzLm5hdmlnYWJsZUVsZW1lbnRUYXJnZXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoZWwgPT09IGl0ZW0gJiYgdGhpcy5jdXJyZW50SW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVFbGVtZW50Qmx1cnJlZCgpIHtcbiAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcmVnaXN0ZXJDb250cm9sbGVycyB9IGZyb20gXCIuLi9zaGFyZWQvY29udHJvbGxlci1idWlsZGVyXCI7XG5pbXBvcnQgQXJyb3dLZXlOYXZpZ2F0aW9uQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9hcnJvd19rZXlfbmF2aWdhdGlvbl9jb250cm9sbGVyLm1vZFwiO1xuaW1wb3J0IENoYXJhY3RlckNvdW50ZXJDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL2NoYXJhY3Rlcl9jb3VudGVyX2NvbnRyb2xsZXJcIjtcbmltcG9ydCBEZWxheWVkUG9wb3ZlckNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvZGVsYXllZF9wb3BvdmVyX2NvbnRyb2xsZXJcIjtcbmltcG9ydCBEaXNtaXNzQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9kaXNtaXNzX2NvbnRyb2xsZXJcIjtcbmltcG9ydCBEcmFnZ2FibGVTb3J0Q29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9kcmFnZ2FibGVfc29ydF9jb250cm9sbGVyXCI7XG5pbXBvcnQgRm9sbG93UG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvZm9sbG93X3Bvc3RfY29udHJvbGxlclwiO1xuaW1wb3J0IE5hdlByZXZlbnRpb25Db250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL25hdl9wcmV2ZW50aW9uX2NvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQWxsR2VuZXJhbENvbnRyb2xsZXJzKCkge1xuICAgIHJlZ2lzdGVyQ29udHJvbGxlcnMoXG4gICAgICAgIFtcbiAgICAgICAgICAgIEFycm93S2V5TmF2aWdhdGlvbkNvbnRyb2xsZXIsXG4gICAgICAgICAgICBDaGFyYWN0ZXJDb3VudGVyQ29udHJvbGxlcixcbiAgICAgICAgICAgIERlbGF5ZWRQb3BvdmVyQ29udHJvbGxlcixcbiAgICAgICAgICAgIERpc21pc3NDb250cm9sbGVyLFxuICAgICAgICAgICAgRHJhZ2dhYmxlU29ydENvbnRyb2xsZXIsXG4gICAgICAgICAgICBOYXZQcmV2ZW50aW9uQ29udHJvbGxlcixcbiAgICAgICAgICAgIEZvbGxvd1Bvc3RDb250cm9sbGVyLFxuICAgICAgICBdLFxuICAgICAgICBcInNlLVwiXG4gICAgKTtcbn1cbiIsInR5cGUgQXJyYXlXaXRoRWxlbWVudFR5cGU8VD4gPSBBcnJheUNvbnN0cnVjdG9yICYgeyBfX0VMRU1FTlRfVFlQRTogVCB9O1xudHlwZSBPYmplY3RXaXRoU2hhcGU8VD4gPSBPYmplY3RDb25zdHJ1Y3RvciAmIHsgX19TSEFQRTogVCB9O1xuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlPZjxUPigpIHtcbiAgICByZXR1cm4gQXJyYXkgYXMgQXJyYXlXaXRoRWxlbWVudFR5cGU8VD47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RPZlNoYXBlPFQ+KCkge1xuICAgIHJldHVybiBPYmplY3QgYXMgT2JqZWN0V2l0aFNoYXBlPFQ+O1xufVxuXG5leHBvcnQgdHlwZSBWYWx1ZVByb3BlcnRpZXM8VFZhbHVlcyBleHRlbmRzIFZhbHVlc1NwZWM+ID0ge1xuICAgIFt2YWx1ZSBpbiBWYWx1ZU5hbWVzPFRWYWx1ZXM+IGFzIGAke3ZhbHVlfVZhbHVlYF06IFZhbHVlVHlwZTxcbiAgICAgICAgVFZhbHVlc1t2YWx1ZV1cbiAgICA+O1xufSAmIHtcbiAgICBbdmFsdWUgaW4gVmFsdWVOYW1lczxUVmFsdWVzPiBhcyBgaGFzJHtDYXBpdGFsaXplPHZhbHVlPn1WYWx1ZWBdOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgVmFsdWVDYWxsYmFja3M8VFZhbHVlcyBleHRlbmRzIFZhbHVlc1NwZWM+ID0ge1xuICAgIFtUVmFsdWUgaW4gVmFsdWVOYW1lczxUVmFsdWVzPiBhcyBgJHtUVmFsdWV9VmFsdWVDaGFuZ2VkYF06IChcbiAgICAgICAgbmV3VmFsdWU6IFZhbHVlVHlwZTxUVmFsdWVzW1RWYWx1ZV0+LFxuICAgICAgICBvbGRWYWx1ZTogVmFsdWVUeXBlPFRWYWx1ZXNbVFZhbHVlXT5cbiAgICApID0+IHZvaWQ7XG59O1xuXG50eXBlIFZhbHVlVHlwZUlkZW50aWZpZXIgPVxuICAgIHwgQXJyYXlDb25zdHJ1Y3RvclxuICAgIHwgQm9vbGVhbkNvbnN0cnVjdG9yXG4gICAgfCBOdW1iZXJDb25zdHJ1Y3RvclxuICAgIHwgT2JqZWN0Q29uc3RydWN0b3JcbiAgICB8IFN0cmluZ0NvbnN0cnVjdG9yO1xuXG50eXBlIFZhbHVlVHlwZUZvcklkZW50aWZpZXI8VFR5cGVJZCBleHRlbmRzIFZhbHVlVHlwZUlkZW50aWZpZXI+ID1cbiAgICBUVHlwZUlkIGV4dGVuZHMgQXJyYXlXaXRoRWxlbWVudFR5cGU8aW5mZXIgVEFycmF5RWxlbWVudD5cbiAgICAgICAgPyBUQXJyYXlFbGVtZW50W11cbiAgICAgICAgOiBUVHlwZUlkIGV4dGVuZHMgQXJyYXlDb25zdHJ1Y3RvclxuICAgICAgICA/IHVua25vd25bXVxuICAgICAgICA6IFRUeXBlSWQgZXh0ZW5kcyBCb29sZWFuQ29uc3RydWN0b3JcbiAgICAgICAgPyBib29sZWFuXG4gICAgICAgIDogVFR5cGVJZCBleHRlbmRzIE51bWJlckNvbnN0cnVjdG9yXG4gICAgICAgID8gbnVtYmVyXG4gICAgICAgIDogVFR5cGVJZCBleHRlbmRzIE9iamVjdFdpdGhTaGFwZTxpbmZlciBUPlxuICAgICAgICA/IFRcbiAgICAgICAgOiBUVHlwZUlkIGV4dGVuZHMgT2JqZWN0Q29uc3RydWN0b3JcbiAgICAgICAgPyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICAgICAgICA6IFRUeXBlSWQgZXh0ZW5kcyBTdHJpbmdDb25zdHJ1Y3RvclxuICAgICAgICA/IHN0cmluZ1xuICAgICAgICA6IG5ldmVyO1xuXG50eXBlIFZhbHVlU3BlY0l0ZW1Gb3JJZGVudGlmaWVyPFRUeXBlSWQgZXh0ZW5kcyBWYWx1ZVR5cGVJZGVudGlmaWVyPiA9XG4gICAgfCBUVHlwZUlkXG4gICAgfCB7XG4gICAgICAgICAgdHlwZTogVFR5cGVJZDtcbiAgICAgIH07XG5cbnR5cGUgVmFsdWVUeXBlPFRTcGVjSXRlbT4gPSBUU3BlY0l0ZW0gZXh0ZW5kcyBWYWx1ZVNwZWNJdGVtRm9ySWRlbnRpZmllcjxcbiAgICBpbmZlciBUU3BlY1R5cGVcbj5cbiAgICA/IFZhbHVlVHlwZUZvcklkZW50aWZpZXI8VFNwZWNUeXBlPlxuICAgIDogbmV2ZXI7XG5cbnR5cGUgVmFsdWVTcGVjSXRlbSA9XG4gICAgfCBWYWx1ZVNwZWNJdGVtRm9ySWRlbnRpZmllcjxBcnJheUNvbnN0cnVjdG9yPlxuICAgIHwgVmFsdWVTcGVjSXRlbUZvcklkZW50aWZpZXI8Qm9vbGVhbkNvbnN0cnVjdG9yPlxuICAgIHwgVmFsdWVTcGVjSXRlbUZvcklkZW50aWZpZXI8TnVtYmVyQ29uc3RydWN0b3I+XG4gICAgfCBWYWx1ZVNwZWNJdGVtRm9ySWRlbnRpZmllcjxPYmplY3RDb25zdHJ1Y3Rvcj5cbiAgICB8IFZhbHVlU3BlY0l0ZW1Gb3JJZGVudGlmaWVyPFN0cmluZ0NvbnN0cnVjdG9yPjtcblxuZXhwb3J0IHR5cGUgVmFsdWVzU3BlYyA9IFJlY29yZDxzdHJpbmcsIFZhbHVlU3BlY0l0ZW0+O1xuXG5leHBvcnQgdHlwZSBWYWx1ZVNwZWNXaXRoRGVmYXVsdHM8VFZhbHVlc1NwZWMgZXh0ZW5kcyBWYWx1ZXNTcGVjPiA9XG4gICAgVFZhbHVlc1NwZWMgJiB7XG4gICAgICAgIFt2IGluIFZhbHVlTmFtZXM8VFZhbHVlc1NwZWM+IGFzIFRWYWx1ZXNTcGVjW3ZdIGV4dGVuZHMgVmFsdWVUeXBlSWRlbnRpZmllclxuICAgICAgICAgICAgPyBuZXZlclxuICAgICAgICAgICAgOiB2XTogeyBkZWZhdWx0PzogVmFsdWVUeXBlPFRWYWx1ZXNTcGVjW3ZdPiB9O1xuICAgIH07XG5cbi8qKiBUaGlzIGlzIHRlY2huaWNhbGx5IGEgZ2xvcmlmaWVkIGBrZXlvZmAsIGJ1dCBpdCdzIG5lY2Vzc2FyeVxuICogZm9yIHRoZSBjb21waWxlciB0byBhY2NlcHQgdmFsdWVzIGluIHRoZSBgVmFsdWVQcm9wZXJ0aWVzYCBtYXBwaW5nXG4gKiB0eXBlcyBiZWNhdXNlIHNvbWV0aGluZyB0aGF0IGBleHRlbmRzIFZhbHVlU3BlY2AgY291bGQgdGhlb3JldGljYWxseVxuICogaGF2ZSBhZGRpdGlvbmFsIGtleXMuICovXG50eXBlIFZhbHVlTmFtZXM8VCBleHRlbmRzIFZhbHVlc1NwZWM+ID0gVCBleHRlbmRzIFJlY29yZDxpbmZlciBTLCBWYWx1ZVNwZWNJdGVtPlxuICAgID8gU1xuICAgIDogbmV2ZXI7XG4iLCIvLyBtYWtlIHN1cmUgd2Ugb25seSBpbXBvcnQgdGhlIHR5cGU7IHdlIGRvbid0IHdhbnQgdG8gYnVuZGxlIGFueVxuLy8gYWN0dWFsIGNvZGUgKFN0aW11bHVzIGlzIGFscmVhZHkgYXZhaWxhYmxlIG9uIHRoZSBjbGllbnQgdmlhIFN0YWNrcykuXG5pbXBvcnQgdHlwZSB7IENvbnRleHQgYXMgU3RpbXVsdXNDb250ZXh0IH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tEZWNvcmF0b3IgfSBmcm9tIFwiLi9jYWxsYmFjay1kZWNvcmF0b3IubW9kXCI7XG5pbXBvcnQge1xuICAgIENvbnRyb2xsZXJDb25zdHJ1Y3RvcldpdGhQcm9wZXJ0aWVzLFxuICAgIFN0aW11bHVzQ29udHJvbGxlckNvbnN0cnVjdG9yVHlwZSxcbn0gZnJvbSBcIi4vY29udHJvbGxlci5tb2RcIjtcbmltcG9ydCB7IE91dGxldERlZmluaXRpb24gfSBmcm9tIFwiLi9ibGVzc2luZ3Mvb3V0bGV0cy5tb2RcIjtcbmltcG9ydCB7IEVtcHR5LCBub29wIH0gZnJvbSBcIi4vdG9vbHMubW9kXCI7XG5pbXBvcnQgeyBWYWx1ZVNwZWNXaXRoRGVmYXVsdHMsIFZhbHVlc1NwZWMgfSBmcm9tIFwiLi9ibGVzc2luZ3MvdmFsdWVzLm1vZFwiO1xuXG5leHBvcnQgeyBhcnJheU9mLCBvYmplY3RPZlNoYXBlIH0gZnJvbSBcIi4vYmxlc3NpbmdzL3ZhbHVlcy5tb2RcIjtcblxuLyoqIEdpdmVuIHRoZSBpbnRlbmRlZCBuYW1lIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sbGVyIHdpbGwgYmUgcmVnaXN0ZXJlZCxcbiAqIHJldHVybiBhIGNvbnRyb2xsZXIgYnVpbGRlciBvYmplY3QuIENhbGwgYC53aXRoVGFyZ2V0c2AsIGAud2l0aFZhbHVlc2AsXG4gKiBhbmQvb3IgYC53aXRoQ2xhc3Nlc2AgdG8gZGVmaW5lIHRhcmdldHMsIHZhbHVlcywgYW5kIGNsYXNzZXMgYXMgaW50ZW5kZWRcbiAqIChzZWUgdGhlIFN0aW11bHVzIDIuMC4wIGRvY3VtZW50YXRpb24gZm9yIGRldGFpbHMpLlxuICpcbiAqIE91dGxldHMgYWxzbyB3b3JrLCBidXQgd2l0aCBhIHR3aXN0OiBZb3UgZG9uJ3QgcGFzcyBhIHN0cmluZywgYnV0IGFcbiAqIGNvbnRyb2xsZXIgY2xhc3MgdGhhdCB3YXMgY3JlYXRlZCB3aXRoIHRoaXMgYnVpbGRlciwgYW5kIHlvdSBjYW4gb25seVxuICogcGFzcyBvbmUgYXQgYSB0aW1lOlxuICpcbiAqIGBgYFxuICogLndpdGhPdXRsZXQoU29tZUNvbnRyb2xsZXIpXG4gKiAud2l0aE91dGxldChPdGhlckNvbnRyb2xsZXIpXG4gKiBgYGBcbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyByZXF1aXJlcyB0aGF0IHRoZSBjb250cm9sbGVycyB3ZXJlIHJlZ2lzdGVyZWQgdW5kZXIgdGhlXG4gKiBuYW1lcyB0aGF0IHlvdSBwYXNzZWQgdG8gYGJ1aWxkQ29udHJvbGxlcmAuIEFsbCBvdXRsZXQgcHJvcGVydGllcyB3aWxsXG4gKiBiZSB0eXBlZCB3aXRoIHRoZSBjb3JyZWN0IGluc3RhbmNlIGFuZCBlbGVtZW50IHR5cGUuXG4gKlxuICogSWYgeW91IHVzZSBgLndpdGhWYWx1ZXMoe2FycjogQXJyYXksIG9iajogT2JqZWN0fSlgLCB5b3Ugd2lsbCBub3QgaGF2ZVxuICogYW55IHR5cGluZyBpbmZvcm1hdGlvbiBmb3IgYHRoaXMuYXJyVmFsdWVgIGFuZCBgdGhpcy5vYmpWYWx1ZWAuIEluIG9yZGVyXG4gKiB0byBzYXkgXCJ0aGlzIHZhbHVlIGlzIGFuIGFycmF5IHdpdGggYSBzcGVjaWZpYyBlbGVtZW50IHR5cGVcIiBvciBcInRoaXNcbiAqIG9iamVjdCBoYXMgYSBzcGVjZmljIGludGVyZmFjdFwiLCB5b3UgY2FuIHVzZSB0aGUgYGFycmF5T2ZgIGFuZFxuICogYG9iamVjdE9mU2hhcGVgIGhlbHBlcnMgZXhwb3J0IGJ5IHRoaXMgZmlsZTpcbiAqXG4gKiBgYGBcbiAqIC53aXRoVmFsdWVzKHtcbiAqICAgYXJyOiBhcnJheU9mPG51bWJlcj4oKSwgICAgLy8gdGhpcy5hcnJWYWx1ZSBpcyBvZiB0eXBlIG51bWJlcltdXG4gKiAgIG9iajogb2JqZWN0T2ZTaGFwZTxVc2VyPigpIC8vIHRoaXMub2JqVmFsdWUgaXMgb2YgdHlwZSBVc2VyXG4gKiB9KVxuICogYGBgXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZG9lc24ndCB2YWxpZGF0ZSBhbnl0aGluZyBhdCBydW50aW1lOyBpdCdzIHlvdXIgcmVzcG9uc2liaWxpdHlcbiAqIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBkYXRhIGF0dHJpYnV0ZXMgb24gdGhlIGVsZW1lbnQgaGF2ZSBtYXRjaGluZyBjb250ZW50LlxuICpcbiAqIFlvdSBjYW4gYWxzbyBjYWxsIGAud2l0aEVsZW1lbnRUeXBlPEhUTUxGb29CYXJFbGVtZW50PigpYCB0byBzcGVjaWZ5IHRoYXRcbiAqIHlvdXIgY29udHJvbGxlcidzIGB0aGlzLmVsZW1lbnRgIHdpbGwgYmUgb2YgdGhlIGdpdmVuIHR5cGUuIE5vdGUgdGhhdCB0aGlzXG4gKiBpcyBub3QgdmFsaWRhdGVkIGF0IHJ1bnRpbWUgZWl0aGVyOyBpdCdzIHlvdXIgcmVwc29uc2liaWxpdHkgdG8gZW5zdXJlIHRoYXQgdGhpc1xuICogY29udHJvbGxlciBpcyBvbmx5IGF0dGFjaGVkIHRvIGVsZW1lbnRzIG9mIHRoZSBjb3JyZWN0IHR5cGUuIFRoaXMgbWF0Y2hlc1xuICogU3RpbXVsdXMgMyBiZWhhdmlvci5cbiAqXG4gKiBUaGUgY2FsbHMgc2hvdWxkIGJlIGNoYWluZWQgb24gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcmVzcGVjdGl2ZSBwcmVjZWRpbmdcbiAqIGNhbGwuXG4gKlxuICogQSBgLndpdGhYWVooKWAgY2FsbCBhZGRzIGFkZGl0aW9uYWwgYmxlc3NpbmdzICh0aGF0J3Mgd2hhdCBTdGltdWx1cyBjYWxscyB0aGVtKSxcbiAqIHNvIHlvdSBjYW4gY2FsbCB0aGVtIG11bHRpcGxlIHRpbWVzLiBOb3RlIHRoYXQgdGhhdCBkb2VzIG5vdCB3b3JrIHdpdGhcbiAqIGAud2l0aEVsZW1lbnRUeXBlKClgLlxuICpcbiAqIEZpbmFsbHkgY2FsbCBgLmJ1aWxkKClgIG9uIHRoZSByZXN1bHQsIHdoaWNoIHdpbGwgZ2l2ZSB5b3UgdGhlIGJhc2UgY2xhc3NcbiAqIGNvbnN0cnVjdG9yIGZyb20gd2hpY2ggeW91IGNhbiBpbmhlcml0IHRvIGJ1aWxkIHlvdXIgY29udHJvbGxlciBpbXBsZW1lbnRhdGlvbixcbiAqIGFuZCBhIGZ1bmN0aW9uIGNhbGxlZCBgc3RpbXVsdXNDYWxsYmFja2Agd2hpY2ggaXMgYSBkZWNvcmF0b3IgdGhhdCB5b3Ugc2hvdWxkXG4gKiBwdXQgYXMgYSBkZWNvcmF0b3Igb24gYW55IG5vdGlmaWNhdGlvbiBtZXRob2QgdGhhdCB5b3UgZXhwZWN0IFN0aW11bHVzIHRvIGNhbGwuXG4gKiBUaGUgZGVjb3JhdG9yIGlzIG5vdCByZXF1aXJlZCBmb3IgaXQgdG8gYmUgY2FsbGVkIChTdGltdWx1cyBkb2Vzbid0IGNhcmUpLFxuICogYnV0IGl0IGVuZm9yY2VzIGF0IGNvbXBpbGUgdGltZSB0aGF0IHRoZSBtZXRob2QgbmFtZSBpcyBhbiBhY3R1YWwgZnVuY3Rpb25cbiAqIHRoYXQgU3RpbXVsdXMgd291bGQgY2FsbCwgYW5kIHRoYXQgdGhlIHNpZ25hdHVyZSBpcyBjb3JyZWN0LlxuICpcbiAqIFRoZSBzdGF0aWMgcHJvcGVydGllcyAoYHRhcmdldHNgIGV0Yy4pIGhhdmUgYWxyZWFkeSBiZWVuIHNldCBvbiB0aGUgYEJhc2VgLFxuICogYW5kIHRoZSBtYWdpYyBwcm9wZXJ0aWVzIChgaGFzRm9vVGFyZ2V0c2AgZXRjLikgYXJlIGtub3duIHRvIHRoZSBUeXBlU2NyaXB0XG4gKiBjb21waWxlci5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHsgQmFzZSwgc3RpbXVsdXNDYWxsYmFjayB9ID0gYnVpbGRDb250cm9sbGVyKFwibXktY29udHJvbGxlclwiKVxuICogICAgIC53aXRoVGFyZ2V0cyhcImZvb1wiKVxuICogICAgIC53aXRoVmFsdWVzKHtiYXI6IHN0cmluZ30pXG4gKiAgICAgLmJ1aWxkKCk7XG4gKlxuICogY2xhc3MgTXlDb250cm9sbGVyIGV4dGVuZHMgQmFzZSB7XG4gKiAgIGNvbm5lY3QoKSB7XG4gKiAgICAgY29uc29sZS5sb2codGhpcy5mb29UYXJnZXQuaW5uZXJUZXh0LCB0aGlzLmJhclZhbHVlKTtcbiAqICAgfVxuICpcbiAqICAgQHN0aW11bHVzQ2FsbGJhY2tcbiAqICAgYmFyVmFsdWVDaGFuZ2VkKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbnRyb2xsZXI8VE5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuICAgIG5hbWU6IFROYW1lXG4pOiBDb250cm9sbGVyQnVpbGRlcjxUTmFtZSwgRWxlbWVudCwgbmV2ZXIsIEVtcHR5LCBuZXZlciwgRW1wdHk+IHtcbiAgICByZXR1cm4gYnVpbGRlcihuYW1lLCBbXSBhcyBuZXZlcltdLCB7fSwgW10gYXMgbmV2ZXJbXSwgW10gYXMgbmV2ZXJbXSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkZXI8XG4gICAgVE5hbWUgZXh0ZW5kcyBzdHJpbmcsXG4gICAgVEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LFxuICAgIFRUYXJnZXRzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG4gICAgVFZhbHVlcyBleHRlbmRzIFZhbHVlc1NwZWMgPSBFbXB0eSxcbiAgICBUQ2xhc3NlcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuICAgIFRPdXRsZXRzIGV4dGVuZHMgT3V0bGV0RGVmaW5pdGlvbiA9IEVtcHR5LFxuPihcbiAgICBuYW1lOiBUTmFtZSxcbiAgICB0YXJnZXRzOiBUVGFyZ2V0c1tdLFxuICAgIHZhbHVlczogVFZhbHVlcyxcbiAgICBjbGFzc2VzOiBUQ2xhc3Nlc1tdLFxuICAgIG91dGxldHM6IChrZXlvZiBUT3V0bGV0cylbXVxuKTogQ29udHJvbGxlckJ1aWxkZXI8VE5hbWUsIFRFbGVtZW50LCBUVGFyZ2V0cywgVFZhbHVlcywgVENsYXNzZXMsIFRPdXRsZXRzPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2l0aFRhcmdldHM6IDxUTmV3VGFyZ2V0cyBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgICAgICAuLi5uZXdUYXJnZXRzOiBUTmV3VGFyZ2V0c1tdXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIoXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBbLi4udGFyZ2V0cywgLi4ubmV3VGFyZ2V0c10sXG4gICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgb3V0bGV0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgd2l0aFZhbHVlczogPFROZXdWYWx1ZXMgZXh0ZW5kcyBWYWx1ZXNTcGVjPihcbiAgICAgICAgICAgIG5ld1ZhbHVlczogVmFsdWVTcGVjV2l0aERlZmF1bHRzPFROZXdWYWx1ZXM+XG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIoXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICB0YXJnZXRzLFxuICAgICAgICAgICAgICAgIHsgLi4udmFsdWVzLCAuLi5uZXdWYWx1ZXMgfSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgIG91dGxldHNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhDbGFzc2VzOiA8VE5ld0NsYXNzZXMgZXh0ZW5kcyBzdHJpbmc+KFxuICAgICAgICAgICAgLi4ubmV3Q2xhc3NlczogVE5ld0NsYXNzZXNbXVxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyKFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0cyxcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgWy4uLmNsYXNzZXMsIC4uLm5ld0NsYXNzZXNdLFxuICAgICAgICAgICAgICAgIG91dGxldHNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhFbGVtZW50VHlwZTogKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHB1cmUgdHlwaW5nIGNoYW5nZSwgaXQgZG9lc24ndCBtYWtlIGFueSBkaWZmZXJlbmNlIGF0IHJ1bnRpbWUuXG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlcihuYW1lLCB0YXJnZXRzLCB2YWx1ZXMsIGNsYXNzZXMsIG91dGxldHMpO1xuICAgICAgICB9LFxuICAgICAgICB3aXRoT3V0bGV0OiA8XG4gICAgICAgICAgICBUTmV3T3V0bGV0IGV4dGVuZHMgQ29udHJvbGxlckNvbnN0cnVjdG9yV2l0aFByb3BlcnRpZXM8XG4gICAgICAgICAgICAgICAgc3RyaW5nLFxuICAgICAgICAgICAgICAgIEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgc3RyaW5nLFxuICAgICAgICAgICAgICAgIEVtcHR5LFxuICAgICAgICAgICAgICAgIHN0cmluZyxcbiAgICAgICAgICAgICAgICBFbXB0eVxuICAgICAgICAgICAgPixcbiAgICAgICAgPihcbiAgICAgICAgICAgIG5ld091dGxldDogVE5ld091dGxldFxuICAgICAgICApID0+IHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyKG5hbWUsIHRhcmdldHMsIHZhbHVlcywgY2xhc3NlcywgW1xuICAgICAgICAgICAgICAgIC4uLm91dGxldHMsXG4gICAgICAgICAgICAgICAgbmV3T3V0bGV0LmNvbnRyb2xsZXJOYW1lLFxuICAgICAgICAgICAgXSkgYXMgQ29udHJvbGxlckJ1aWxkZXI8XG4gICAgICAgICAgICAgICAgVE5hbWUsXG4gICAgICAgICAgICAgICAgVEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgVFRhcmdldHMsXG4gICAgICAgICAgICAgICAgVFZhbHVlcyxcbiAgICAgICAgICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgICAgICAgICBUT3V0bGV0cyAmIHtcbiAgICAgICAgICAgICAgICAgICAgW1ROYW1lIGluIFROZXdPdXRsZXRbXCJjb250cm9sbGVyTmFtZVwiXV06IFROZXdPdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPjtcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGQ6ICgpID0+ICh7XG4gICAgICAgICAgICBCYXNlOiBjbGFzcyBleHRlbmRzIFN0aW11bHVzQ29udHJvbGxlckNvbnN0cnVjdG9yIHtcbiAgICAgICAgICAgICAgICBzdGF0aWMgY29udHJvbGxlck5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIHN0YXRpYyB0YXJnZXRzID0gdGFyZ2V0cztcbiAgICAgICAgICAgICAgICBzdGF0aWMgdmFsdWVzID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgIHN0YXRpYyBjbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICBzdGF0aWMgb3V0bGV0cyA9IG91dGxldHM7XG4gICAgICAgICAgICB9IGFzIHVua25vd24gYXMgQ29udHJvbGxlckNvbnN0cnVjdG9yV2l0aFByb3BlcnRpZXM8XG4gICAgICAgICAgICAgICAgVE5hbWUsXG4gICAgICAgICAgICAgICAgVEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgVFRhcmdldHMsXG4gICAgICAgICAgICAgICAgVFZhbHVlcyxcbiAgICAgICAgICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgICAgICAgICBUT3V0bGV0c1xuICAgICAgICAgICAgPixcbiAgICAgICAgICAgIHN0aW11bHVzQ2FsbGJhY2s6IG5vb3AgYXMgQ2FsbGJhY2tEZWNvcmF0b3I8XG4gICAgICAgICAgICAgICAgVEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgVFRhcmdldHMsXG4gICAgICAgICAgICAgICAgVFZhbHVlcyxcbiAgICAgICAgICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgICAgICAgICBUT3V0bGV0c1xuICAgICAgICAgICAgPixcbiAgICAgICAgfSksXG4gICAgfTtcbn1cblxuLy8gVGhpcyB0eXBlIGlzIHRvbyBjb21wbGV4IHRvIGluZmVyIGZyb20gYnVpbGRlcigpLCB0aGUgY29tcGlsZXJcbi8vIGRlbWFuZHMgYW4gZXhwbGljaXQgdHlwZSBhbm5vdGF0aW9uLlxudHlwZSBDb250cm9sbGVyQnVpbGRlcjxcbiAgICBUTmFtZSBleHRlbmRzIHN0cmluZyxcbiAgICBURWxlbWVudCBleHRlbmRzIEVsZW1lbnQgPSBFbGVtZW50LFxuICAgIFRUYXJnZXRzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG4gICAgVFZhbHVlcyBleHRlbmRzIFZhbHVlc1NwZWMgPSBFbXB0eSxcbiAgICBUQ2xhc3NlcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuICAgIFRPdXRsZXRzIGV4dGVuZHMgT3V0bGV0RGVmaW5pdGlvbiA9IG5ldmVyLFxuPiA9IHtcbiAgICB3aXRoVGFyZ2V0czxUTmV3VGFyZ2V0cyBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIC4uLm5ld1RhcmdldHM6IFROZXdUYXJnZXRzW11cbiAgICApOiBDb250cm9sbGVyQnVpbGRlcjxcbiAgICAgICAgVE5hbWUsXG4gICAgICAgIFRFbGVtZW50LFxuICAgICAgICBUVGFyZ2V0cyB8IFROZXdUYXJnZXRzLFxuICAgICAgICBUVmFsdWVzLFxuICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgVE91dGxldHNcbiAgICA+O1xuXG4gICAgd2l0aFZhbHVlczxUTmV3VmFsdWVzIGV4dGVuZHMgVmFsdWVzU3BlYz4oXG4gICAgICAgIG5ld1ZhbHVlczogVmFsdWVTcGVjV2l0aERlZmF1bHRzPFROZXdWYWx1ZXM+XG4gICAgKTogQ29udHJvbGxlckJ1aWxkZXI8XG4gICAgICAgIFROYW1lLFxuICAgICAgICBURWxlbWVudCxcbiAgICAgICAgVFRhcmdldHMsXG4gICAgICAgIFRWYWx1ZXMgJiBUTmV3VmFsdWVzLFxuICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgVE91dGxldHNcbiAgICA+O1xuXG4gICAgd2l0aENsYXNzZXM8VE5ld0NsYXNzZXMgZXh0ZW5kcyBzdHJpbmc+KFxuICAgICAgICAuLi5uZXdDbGFzc2VzOiBUTmV3Q2xhc3Nlc1tdXG4gICAgKTogQ29udHJvbGxlckJ1aWxkZXI8XG4gICAgICAgIFROYW1lLFxuICAgICAgICBURWxlbWVudCxcbiAgICAgICAgVFRhcmdldHMsXG4gICAgICAgIFRWYWx1ZXMsXG4gICAgICAgIFRDbGFzc2VzIHwgVE5ld0NsYXNzZXMsXG4gICAgICAgIFRPdXRsZXRzXG4gICAgPjtcblxuICAgIHdpdGhPdXRsZXQ8XG4gICAgICAgIFROZXdPdXRsZXQgZXh0ZW5kcyBDb250cm9sbGVyQ29uc3RydWN0b3JXaXRoUHJvcGVydGllczxcbiAgICAgICAgICAgIHN0cmluZyxcbiAgICAgICAgICAgIEVsZW1lbnQsXG4gICAgICAgICAgICBzdHJpbmcsXG4gICAgICAgICAgICBFbXB0eSxcbiAgICAgICAgICAgIHN0cmluZyxcbiAgICAgICAgICAgIEVtcHR5XG4gICAgICAgID4sXG4gICAgPihcbiAgICAgICAgbmV3T3V0bGV0OiBUTmV3T3V0bGV0XG4gICAgKTogQ29udHJvbGxlckJ1aWxkZXI8XG4gICAgICAgIFROYW1lLFxuICAgICAgICBURWxlbWVudCxcbiAgICAgICAgVFRhcmdldHMsXG4gICAgICAgIFRWYWx1ZXMsXG4gICAgICAgIFRDbGFzc2VzLFxuICAgICAgICBUT3V0bGV0cyAmIHtcbiAgICAgICAgICAgIFtUTmFtZSBpbiBUTmV3T3V0bGV0W1wiY29udHJvbGxlck5hbWVcIl1dOiBUTmV3T3V0bGV0O1xuICAgICAgICB9XG4gICAgPjtcblxuICAgIHdpdGhFbGVtZW50VHlwZTxUTmV3RWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KCk6IENvbnRyb2xsZXJCdWlsZGVyPFxuICAgICAgICBUTmFtZSxcbiAgICAgICAgVE5ld0VsZW1lbnQsXG4gICAgICAgIFRUYXJnZXRzLFxuICAgICAgICBUVmFsdWVzLFxuICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgVE91dGxldHNcbiAgICA+O1xuXG4gICAgYnVpbGQoKToge1xuICAgICAgICBCYXNlOiBDb250cm9sbGVyQ29uc3RydWN0b3JXaXRoUHJvcGVydGllczxcbiAgICAgICAgICAgIFROYW1lLFxuICAgICAgICAgICAgVEVsZW1lbnQsXG4gICAgICAgICAgICBUVGFyZ2V0cyxcbiAgICAgICAgICAgIFRWYWx1ZXMsXG4gICAgICAgICAgICBUQ2xhc3NlcyxcbiAgICAgICAgICAgIFRPdXRsZXRzXG4gICAgICAgID47XG4gICAgICAgIC8qKiBUaGlzIGZ1bmN0aW9uIGlzIGEgbm8tb3AsIGJ1dCBpZiB5b3UgcHV0IGl0IGFzIGEgZGVjb3JhdG9yXG4gICAgICAgICAqIG9uIGEgbWV0aG9kIHRoYXQgeW91IGV4cGVjdCBzdGltdWx1cyB0byBjYWxsLCBhbmQgaXQncyBub3QgYSB2YWxpZFxuICAgICAgICAgKiBjYWxsYmFjayBtZXRob2QsIHRoZSBjb21waWxlciB3aWxsIGVycm9yLiAqL1xuICAgICAgICBzdGltdWx1c0NhbGxiYWNrOiBDYWxsYmFja0RlY29yYXRvcjxcbiAgICAgICAgICAgIFRFbGVtZW50LFxuICAgICAgICAgICAgVFRhcmdldHMsXG4gICAgICAgICAgICBUVmFsdWVzLFxuICAgICAgICAgICAgVENsYXNzZXMsXG4gICAgICAgICAgICBUT3V0bGV0c1xuICAgICAgICA+O1xuICAgIH07XG59O1xuXG4vLyBTdGFja3MgZG9lc24ndCBjdXJyZW50IGV4cG9zZSBTdGltdWx1cywgYnV0IHdlIG5lZWQgdGhlIGNvbnRyb2xsZXJcbi8vIGNvbnN0cnVjdG9yIHRvIGluaGVyaXQgZnJvbSAoYW5kIHdlIGRvbid0IHdhbnQgdG8gaW1wb3J0IGZyb20gc3RpbXVsdXMsXG4vLyBzaW5jZSB0aGF0IHdvdWxkIGJ1bmRsZSB0aGUgd2hvbGUgdGhpbmcsIHdoaWNoIGlzIGEgd2FzdGUgYmVjYXVzZSBpdCdzXG4vLyBhbHJlYWR5IGF2YWlsYWJsZSBvbiB0aGUgY2xpZW50KS4gU28gd2UgdXNlIFN0YWNrcy5jcmVhdGVDb250cm9sbGVyKClcbi8vIHRvIGNyZWF0ZSBhIGNvbnRyb2xsZXIsIHdoaWNoIGlzIGEgc3ViY2xhc3Mgb2YgU3RhY2tzQ29udHJvbGxlciwgd2hpY2hcbi8vIGlzIGEgc3ViY2xhc3Mgb2YgdGhlIHJlYWwgc3RpbXVsdXMgY29udHJvbGxlciwgYW5kIGdyYWIgdGhlIGNvcnJlY3Rcbi8vIGNvbnRydWN0b3IgZnJvbSB0aGUgcHJvdG90eXBlIGNoYWluXG5jb25zdCBTdGltdWx1c0NvbnRyb2xsZXJDb25zdHJ1Y3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY3VzdG9tQ29uc3RydWN0b3IgPSBTdGFja3MuY3JlYXRlQ29udHJvbGxlcih7fSk7XG4gICAgY29uc3QgY3VzdG9tQ29udHJvbGxlciA9IG5ldyBjdXN0b21Db25zdHJ1Y3Rvcih7fSBhcyBTdGltdWx1c0NvbnRleHQpO1xuICAgIGNvbnN0IGN1c3RvbUNvbnRyb2xsZXJQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXN0b21Db250cm9sbGVyKTtcbiAgICBjb25zdCBzdGFja3NDb250cm9sbGVyUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VzdG9tQ29udHJvbGxlclByb3RvKTtcbiAgICBjb25zdCBzdGltdWx1c0NvbnRyb2xsZXJQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihcbiAgICAgICAgc3RhY2tzQ29udHJvbGxlclByb3RvXG4gICAgKTtcbiAgICByZXR1cm4gc3RpbXVsdXNDb250cm9sbGVyUHJvdG8uY29uc3RydWN0b3IgYXMgU3RpbXVsdXNDb250cm9sbGVyQ29uc3RydWN0b3JUeXBlO1xufSkoKTtcbiIsIi8qKiBJZiBUQ2hlY2sgaXMgYSBwcm9wZXIgc3VidHlwZSBvZiBzdHJpbmcsIHJlc29sdmVzIHRvIFRSZXN1bHQsIG90aGVyd2lzZVxuICogdG8gYW4gZW1wdHkgdHlwZS4gVGhpcyBwcmV2ZW50cyBgLmhhc0Zvb1RhcmdldGAgdG8gYmUgdmFsaWQgZm9yIGV2ZXJ5XG4gKiBwb3NzaWJsZSBzdHJpbmcgXCJGb29cIiBpZiBUVGFyZ2V0cyB3YXMgbmV2ZXIgbmFycm93ZWQuXG4gKi9cbmV4cG9ydCB0eXBlIElmQW55PFRDaGVjayBleHRlbmRzIHN0cmluZywgVFJlc3VsdD4gPSBFeGNsdWRlPFxuICAgIHN0cmluZyxcbiAgICBUQ2hlY2tcbj4gZXh0ZW5kcyBuZXZlclxuICAgID8gRW1wdHlcbiAgICA6IFRSZXN1bHQ7XG5cbmV4cG9ydCB0eXBlIEVtcHR5ID0gUmVjb3JkPG5ldmVyLCBuZXZlcj47XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IHR5cGUgQ2FtZWxpemU8UyBleHRlbmRzIHN0cmluZz4gPVxuICAgIFMgZXh0ZW5kcyBgJHtpbmZlciBTSGVhZH0tJHtpbmZlciBTVGFpbH1gXG4gICAgICAgID8gQ2FtZWxpemU8YCR7U0hlYWR9JHtDYXBpdGFsaXplPFNUYWlsPn1gPlxuICAgICAgICA6IFM7XG5cbi8qKiBUaGlzIHR5cGUgaXN0IHRydWUgaWYgYSBmdW5jdGlvbiBvZiB0eXBlIFIgaXMgYXNzaWduYWJsZSB0byBhIGZ1bmN0aW9uIG9mIHR5cGUgTC5cbiAqIEluIFR5cGVTY3JpcHQgNC43IG9yIGhpZ2hlciwgd2UgY291bGQganVzdCBzYXkgYFIgZXh0ZW5kcyBMYCwgYnV0IG9sZGVyIFRTIHZlcnNpb25zXG4gKiBkb24ndCB0YWtlIGNvbnRyYXZhcmlhbmNlIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMgaW50byBhY2NvdW50LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGlzIG9ubHkgbWFkZSBmb3Igdm9pZCBmdW5jdGlvbnMgYW5kIGRvZXNuJ3QgaGFuZGxlIHJlc3QgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IHR5cGUgSXNGdW5jdGlvbkFzc2lnbmFibGU8TCwgUj4gPSBbTCwgUl0gZXh0ZW5kcyBbXG4gICAgKC4uLmFyZ3M6IGluZmVyIFBMKSA9PiB2b2lkLFxuICAgICguLi5hcmdzOiBpbmZlciBQUikgPT4gdm9pZCxcbl1cbiAgICA/IElzUGFyYW1ldGVyTGlzdENvbXBhdGlibGU8UEwsIFBSPlxuICAgIDogZmFsc2U7XG5cbnR5cGUgSXNQYXJhbWV0ZXJMaXN0Q29tcGF0aWJsZTxcbiAgICBQTCBleHRlbmRzIHVua25vd25bXSxcbiAgICBQUiBleHRlbmRzIHVua25vd25bXSxcbj4gPSBQUiBleHRlbmRzIFtdIC8vIHJpZ2h0LWhhbmQgc2lkZSBoYXMgbm8gcGFyYW1ldGVycyAtLSB0aGF0J3MgZmluZVxuICAgID8gdHJ1ZVxuICAgIDogUEwgZXh0ZW5kcyBbaW5mZXIgUExILCAuLi5pbmZlciBQTFRdXG4gICAgPyBQUiBleHRlbmRzIFtpbmZlciBQUkgsIC4uLmluZmVyIFBSVF1cbiAgICAgICAgPyBQTEggZXh0ZW5kcyBQUkggLy8gSWYgbGVmdCBwYXJhbSBpcyBhc3NpZ25hYmxlIHRvIHJpZ2h0IHBhcmFtZXRlciAoY29udHJhdmFyaWFuY2UhKSAuLi5cbiAgICAgICAgICAgID8gSXNQYXJhbWV0ZXJMaXN0Q29tcGF0aWJsZTxQTFQsIFBSVD4gLy8gLi4uIHRoZW4gZ3JlYXQuIFJlY3Vyc2l2ZWx5IGNoZWNrIHRoZSByZW1haW5pbmcgbGlzdC5cbiAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgOiBmYWxzZVxuICAgIDogZmFsc2U7XG4iLCIvKipcbiAqIERpc3BsYXlzIGVycm9yIHJlYXNvbnMgd2hlbiB1c2VycyBjYW4ndCBlZGl0IGEgcG9zdFxuICovXG5mdW5jdGlvbiBhdHRhY2hQb3N0TWVudUVkaXRPbkVycm9yQ2xpY2tIYW5kbGVyKCkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtcG9zdC1tZW51IC5qcy1lcnJvci1jbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgJHRoaXMuY2xvc2VzdCgnLmpzLXBvc3QtbWVudScpLnNob3dFcnJvck1lc3NhZ2UoJHRoaXMuZGF0YSgnZXJyb3ItbWVzc2FnZScpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFBvc3RNZW51KCkge1xuICAgIGF0dGFjaFBvc3RNZW51RWRpdE9uRXJyb3JDbGlja0hhbmRsZXIoKTtcbn1cbiIsImltcG9ydCB7IGdldEFyZ3NMaXN0IH0gZnJvbSBcIi4uL21vZHVsZXMubW9kXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgc2l0ZUluY2x1ZGVzTG9hZGVkOiBib29sZWFuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBEb3dubG9hZCB0aGUgSlMgbW9kdWxlcyBpZGVudGlmaWVkIGJ5IHRoZSBjdXJyZW50IHNpdGUncyBKc01vZHVsZUluY2x1ZGVzIHNpdGVzZXR0aW5nXG4gKiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbG9hZCgpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgLy8gcHJldmVudCBkb3VibGUgaW5pdGlhbGlzYXRpb24gaW4gdGhlIGNhc2UgdGhhdCB0aGlzXG4gICAgLy8gbW9kdWxlIGhhcyBiZWVuIGluY2x1ZGVkIGluIG11bHRpcGxlIGVudHJ5cG9pbnRzIG9uIGEgc2luZ2xlIHBhZ2UuXG4gICAgLy8gU2hvdWxkbid0IGhhcHBlbiBhZnRlciBqcyBtb2R1bGVzIHRyYW5zaXRpb24gaXMgY29tcGxldGVcbiAgICBpZiAod2luZG93LnNpdGVJbmNsdWRlc0xvYWRlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgd2luZG93LnNpdGVJbmNsdWRlc0xvYWRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBhcmdzID0gZ2V0QXJnc0xpc3Q8eyBtb2R1bGVOYW1lOiBzdHJpbmcgfT4oX19maWxlbmFtZSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MubWFwKHggPT4ge1xuICAgICAgICAvLyBkeW5hbWljIGltcG9ydDogZG93bmxvYWQrZXhlY3V0ZSBtb2R1bGVzIGZyb20gdGhlIGN1cnJlbnQgZm9sZGVyXG4gICAgICAgIC8vIChzaXRlLWluY2x1ZGVzKSB3aG9zZSBuYW1lcyBtYXRjaCB0aGUgbW9kdWxlTmFtZSBpbiB0aGUgYXJncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2VicGFjayBwYXJzZXMgdGhlIGltcG9ydCgpIHN0YXRlbWVudCBhbmQgY3JlYXRlc1xuICAgICAgICAvLyBjaHVua3MgZm9yIGVhY2ggbW9kdWxlIG1hdGNoaW5nIHRoZSBwYXR0ZXJuIChuYW1lbHkgZmlsZXMgaW4gdGhlIGN1cnJlbnQgZm9sZGVyKS5cbiAgICAgICAgLy8gaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9hcGkvbW9kdWxlLW1ldGhvZHMvI2R5bmFtaWMtZXhwcmVzc2lvbnMtaW4taW1wb3J0XG5cbiAgICAgICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrRXhjbHVkZTogL2luZGV4LyAqL2AuLyR7eC5tb2R1bGVOYW1lfS5tb2RgKTtcbiAgICB9KSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvd1tcIlN0YWNrc1wiXTsiLCJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvd1tcImpRdWVyeVwiXTsiLCJleHBvcnQgY29uc3QgSWNvbkFjY2Vzc2liaWxpdHkgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQWNjZXNzaWJpbGl0eVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE2LjUgNWMtMi42MS43LTQuNjcgMS03LjUgMXMtNC44OS0uMy03LjUtMUwxIDdjMS44Ni41IDMgLjgzIDUgMXY5aDJ2LTZoMnY2aDJWOGMyLS4xNyAzLjE0LS41IDUtMWwtLjUtMlpNOSA1YTIgMiAwIDAgMCAyLTIgMiAyIDAgMCAwLTItMiAyIDIgMCAwIDAtMiAyYzAgMS4xLjkgMiAyIDJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFjaGlldmVtZW50cyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BY2hpZXZlbWVudHNcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNSAyVjFIM3YxSDB2NGMwIDEuNiAxLjQgMyAzIDN2MWMuNCAxLjUgMyAyLjYgNSAzdjJINXMtMSAxLjUtMSAyaDEwYzAtLjQtMS0yLTEtMmgtM3YtMmMyLS40IDQuNi0xLjUgNS0zVjljMS42LS4yIDMtMS40IDMtM1YyaC0zWk0zIDdjLS41IDAtMS0uNS0xLTFWNGgxdjNabTguNCAyLjVMOSA4IDYuNiA5LjRsMS0yLjdMNSA1aDNsMS0yLjdMMTAgNWgyLjhsLTIuMyAxLjggMSAyLjdoLS4xWk0xNiA2YzAgLjUtLjUgMS0xIDFWNGgxdjJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFjaGlldmVtZW50c0xnID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFjaGlldmVtZW50c0xnXFxcIiB3aWR0aD1cXFwiMzZcXFwiIGhlaWdodD1cXFwiMzZcXFwiICB2aWV3Qm94PVxcXCIwIDAgMzYgMzZcXFwiPjxwYXRoICBkPVxcXCJNMjkgNEg3djJIM2ExIDEgMCAwIDAtMSAxdjZhNSA1IDAgMCAwIDUgNSA4IDggMCAwIDAgOCA4aDF2M2gtM2MtMS42NiAwLTQgMS4zNC00IDN2MWgxOHYtMWMwLTEuNjYtMi4zNC0zLTQtM2gtM3YtM2gxYTggOCAwIDAgMCA4LTggNSA1IDAgMCAwIDUtNVY3YTEgMSAwIDAgMC0xLTFoLTRWNFptMyA5YTMgMyAwIDAgMS0zIDNWOGgzdjVaTTcgMTZhMyAzIDAgMCAxLTMtM1Y4aDN2OFptMTEuMzgtOC4zMyAxLjMzIDQuMDhjLjA1LjE3LjIuMjguMzguMjhoNC4yOWMuMzggMCAuNTUuNS4yMy43MmwtMy40NyAyLjUyYS40LjQgMCAwIDAtLjE0LjQ1bDEuMzIgNC4wOGEuNC40IDAgMCAxLS42MS40NWwtMy40Ny0yLjUyYS40LjQgMCAwIDAtLjQ4IDBsLTMuNDcgMi41MmEuNC40IDAgMCAxLS42MS0uNDVMMTUgMTUuNzJhLjQuNCAwIDAgMC0uMTQtLjQ1bC0zLjQ3LTIuNTJhLjQuNCAwIDAgMSAuMjMtLjcyaDQuM2EuNC40IDAgMCAwIC4zNy0uMjhsMS4zMy00LjA4YS40LjQgMCAwIDEgLjc2IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFjaGlldmVtZW50c1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFjaGlldmVtZW50c1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMTEgMlYxSDN2MUgwdjNjMCAxLjYgMS40IDMgMyAzIDAgMCAuNSAyIDMgMnYxSDRzLTEgMS41LTEgMmg4YzAtLjQtMS0yLTEtMkg4di0xYzIuNSAwIDMtMiAzLTIgMS42LS4yIDMtMS40IDMtM1YyaC0zWk0zIDZjLS41IDAtMS0uNS0xLTFWNGgxdjJabTktMWMwIC41LS41IDEtMSAxVjRoMXYxWk03IDdhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbGVydCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BbGVydFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTcuOTUgMi43MWMuNTgtLjk0IDEuNTItLjk0IDIuMSAwbDcuNjkgMTIuNThjLjU4Ljk0LjE1IDEuNzEtLjk2IDEuNzFIMS4yMkMuMSAxNy0uMzIgMTYuMjMuMjYgMTUuMjlMNy45NSAyLjcxWk04IDZ2NWgyVjZIOFptMCA3djJoMnYtMkg4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbGVydENpcmNsZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BbGVydENpcmNsZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkgMTdjLTQuMzYgMC04LTMuNjQtOC04IDAtNC4zNiAzLjY0LTggOC04IDQuMzYgMCA4IDMuNjQgOCA4IDAgNC4zNi0zLjY0IDgtOCA4Wk04IDR2NmgyVjRIOFptMCA4djJoMnYtMkg4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbGVydENpcmNsZVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFsZXJ0Q2lyY2xlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk03IDEzYy0zLjIzIDAtNi0yLjc0LTYtNiAwLTMuMjMgMi43NC02IDYtNiAzLjI3IDAgNiAyLjczIDYgNnMtMi43MyA2LTYgNlpNNiAzdjVoMlYzSDZabTAgNnYyaDJWOUg2WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbGVydFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFsZXJ0U21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk01Ljk3IDEuN2MuNTctLjk0IDEuNS0uOTMgMi4wNSAwbDUuNzMgOS41OWMuNTcuOTQuMTIgMS43MS0uOTggMS43MUgxLjIyYy0xLjEgMC0xLjU0LS43Ny0uOTctMS43MUw1Ljk3IDEuN1pNNiA0djVoMlY0SDZabTAgNnYyaDJ2LTJINlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQW5zd2VyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFuc3dlclxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE0IDE1SDNjLTEuMDkgMC0yLS45MS0yLTJWNGMwLTEuMS45LTIgMi0yaDEyYzEuMDkgMCAyIC45MSAyIDJ2MTRsLTMtM1ptLTEuMDItM0w5LjgyIDRIOC4xNGwtMy4wNiA4aDEuNjhsLjY1LTEuNzloMy4xNWwuNjkgMS43OWgxLjczWm0tMi45My0zLjEySDcuOWwxLjA2LTIuOTIgMS4wOSAyLjkyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbnN3ZXJFcyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BbnN3ZXJFc1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkuMDIgNy43M2MuNDIgMCAuNzQtLjEuOTctLjMxLjIyLS4yMS4zNC0uNS4zNC0uODhzLS4xMS0uNjctLjMzLS45Yy0uMjEtLjItLjU0LS4zMi0uOTktLjMySDcuN3YyLjQxaDEuMzNaTTMgMTVoMTFsMyAzVjRjMC0xLjA5LS45MS0yLTItMkgzYTIgMiAwIDAgMC0yIDJ2OWMwIDEuMDkuOTEgMiAyIDJabTQuNjktNS45M3YyLjk1SDYuMDNWMy45OGgyLjk4Yy45NSAwIDEuNjkuMjEgMi4yLjY0LjUyLjQyLjc3IDEuMDIuNzcgMS43OSAwIC41NS0uMTIgMS0uMzYgMS4zNy0uMjMuMzctLjU5LjY2LTEuMDcuODhsMS43NCAzLjI4di4wOEgxMC41TDkgOS4wN0g3LjY4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbnN3ZXJQdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BbnN3ZXJQdFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkuMDIgNy43M2MuNDIgMCAuNzQtLjEuOTctLjMxLjIyLS4yMS4zNC0uNS4zNC0uODhzLS4xMS0uNjctLjMzLS45Yy0uMjEtLjItLjU0LS4zMi0uOTktLjMySDcuN3YyLjQxaDEuMzNaTTMgMTVoMTFsMyAzVjRjMC0xLjA5LS45MS0yLTItMkgzYTIgMiAwIDAgMC0yIDJ2OWMwIDEuMDkuOTEgMiAyIDJabTQuNjktNS45M3YyLjk1SDYuMDNWMy45OGgyLjk4Yy45NSAwIDEuNjkuMjEgMi4yLjY0LjUyLjQyLjc3IDEuMDIuNzcgMS43OSAwIC41NS0uMTIgMS0uMzYgMS4zNy0uMjMuMzctLjU5LjY2LTEuMDcuODhsMS43NCAzLjI4di4wOEgxMC41TDkgOS4wN0g3LjY4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BbnN3ZXJSdSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BbnN3ZXJSdVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkuNzggNS45Yy0uMy0uNDQtLjczLS42Ni0xLjMtLjY2LS41NSAwLS45Ny4yMi0xLjI4LjY1LS4zLjQzLS40NSAxLjA2LS40NSAxLjl2LjRjMCAuODEuMTUgMS40NS40NSAxLjkuMy40NS43My42OCAxLjMuNjguNTYgMCAuOTgtLjIyIDEuMjgtLjY1LjMtLjQ0LjQ1LTEuMDguNDUtMS45MXYtLjRjMC0uODQtLjE1LTEuNDgtLjQ1LTEuOTFaTTMgMTVoMTFsMyAzVjRjMC0xLjA5LS45MS0yLTItMkgzYTIgMiAwIDAgMC0yIDJ2OWMwIDEuMDkuOTEgMiAyIDJabTguNS00Ljc0YTMuMTUgMy4xNSAwIDAgMS0zIDEuODcgMy4yIDMuMiAwIDAgMS0zLTEuODUgNC43MyA0LjczIDAgMCAxLS40My0yLjA1di0uNGMwLS44LjE0LTEuNDkuNDItMi4wOWEzLjE5IDMuMTkgMCAwIDEgMy0xLjg3IDMuMjQgMy4yNCAwIDAgMSAyLjk5IDEuODdjLjI5LjYuNDMgMS4zLjQzIDIuMDh2LjM2YzAgLjgtLjE0IDEuNDktLjQyIDIuMDhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFwcHJvdmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXBwcm92ZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjNUVCQTdEXFxcIiBkPVxcXCJNOSAxN0E4IDggMCAxIDAgOSAxYTggOCAwIDAgMCAwIDE2Wm0uMjUtMy40NWExIDEgMCAwIDEtLjczLjVjLS4zMiAwLS42Mi0uMDYtLjg1LS4yOWwtMy0zYTEgMSAwIDAgMSAxLjQ0LTEuMzhsMi4wNSAyIDMuNTYtNi4yOGMuMjctLjQ3Ljg5LS42NSAxLjM2LS4zOC40Ny4yNy42NS44OS4zOCAxLjM2bC00LjIxIDcuNDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFyY2hpdmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJjaGl2ZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMgMWEyIDIgMCAwIDAtMiAydjFoMTZWM2EyIDIgMCAwIDAtMi0ySDNaTTIgNWgxNHYxMGEyIDIgMCAwIDEtMiAySDRhMiAyIDAgMCAxLTItMlY1Wm00IDNhMSAxIDAgMCAwIDEgMWg0YTEgMSAwIDEgMCAwLTJIN2ExIDEgMCAwIDAtMSAxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcmNoaXZlQWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFyY2hpdmVBbHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDFhMiAyIDAgMCAwLTIgMnYxaDE2VjNhMiAyIDAgMCAwLTItMkgzWk0yIDV2MTBjMCAxLjEuOSAyIDIgMmgxMGEyIDIgMCAwIDAgMi0yVjVoLTJ2MTBINFY1SDJabTUgMmExIDEgMCAwIDAgMCAyaDRhMSAxIDAgMSAwIDAtMkg3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcmNoaXZlQWx0U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJjaGl2ZUFsdFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMCAzYzAtMS4xLjktMiAyLTJoMTBhMiAyIDAgMCAxIDIgMkgwWm0xIDF2N2MwIDEuMS45IDIgMiAyaDhhMiAyIDAgMCAwIDItMlY0aC0ydjdIM1Y0SDFabTQgMmExIDEgMCAwIDAgMCAyaDRhMSAxIDAgMCAwIDAtMkg1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcmNoaXZlU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJjaGl2ZVNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMSAzYzAtMS4xLjktMiAyLTJoOGEyIDIgMCAwIDEgMiAySDFabTExIDFIMnY3YzAgMS4xLjkgMiAyIDJoNmEyIDIgMCAwIDAgMi0yVjRaTTQuNSA2aDVhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMSAwLTFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG91YmxlRG93biA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BcnJvd0RvdWJsZURvd25cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0xNi4wMSA5LjQzLTcgNy03LTcgMS40MS0xLjQxIDUuNiA1LjU5TDE0LjYgOGwxLjQxIDEuNDJ2LjAxWm0wLTUtNyA3LTctNyAxLjQxLTEuNDEgNS42IDUuNTlMMTQuNiAzbDEuNDEgMS40MnYuMDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG91YmxlVXAgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dEb3VibGVVcFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTE2LjAxIDEzLjYyLTEuNCAxLjRMOSA5LjQ1bC01LjU5IDUuNTktMS40LTEuNDEgNy03IDcgN3YtLjAxWm0wLTUtMS40IDEuNEw5IDQuNDVsLTUuNTkgNS41OS0xLjQtMS40MSA3LTcgNyA3di0uMDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG93biA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BcnJvd0Rvd25cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xIDZoMTZsLTggOC04LThaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG93bkFsdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BcnJvd0Rvd25BbHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0xNi4wMSA3LjQzLTEuNC0xLjQxTDkgMTEuNiAzLjQyIDZsLTEuNCAxLjQyIDcgNyA3LTdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG93bkxnID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93RG93bkxnXFxcIiB3aWR0aD1cXFwiMzZcXFwiIGhlaWdodD1cXFwiMzZcXFwiICB2aWV3Qm94PVxcXCIwIDAgMzYgMzZcXFwiPjxwYXRoICBkPVxcXCJNMiAxMWgzMkwxOCAyNyAyIDExWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd0Rvd25Mb25nID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93RG93bkxvbmdcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05IDFhMSAxIDAgMCAxIDEgMXYxMS45M2wzLjM4LTIuN2ExIDEgMCAwIDEgMS4yNCAxLjU2bC01IDRhMSAxIDAgMCAxLTEuMjQgMGwtNS00YTEgMSAwIDEgMSAxLjI0LTEuNTZMOCAxMy45M1YyYTEgMSAwIDAgMSAxLTFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93RG93blNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93RG93blNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMyA1aDhMNyA5IDMgNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXJyb3dMZWZ0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93TGVmdFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEyIDE3VjFMNCA5bDggOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXJyb3dMZWZ0QWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93TGVmdEFsdFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEwLjU4IDE2IDEyIDE0LjU5IDYuNCA5IDEyIDMuNDEgMTAuNTcgMmwtNyA3IDcgN1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXJyb3dMZWZ0QWx0U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dMZWZ0QWx0U21cXFwiIHdpZHRoPVxcXCIxM1xcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxMyAxNFxcXCI+PHBhdGggIGQ9XFxcIk05LjI0IDkuMzggOCAxMC42MiA0LjM4IDcgOCAzLjM4bDEuMjQgMS4yNEw2Ljg2IDdsMi4zOCAyLjM4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd0xlZnRTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BcnJvd0xlZnRTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTkgMTFWM0w1IDdsNCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1JpZ2h0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93UmlnaHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk01IDE3VjFsOCA4LTggOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXJyb3dSaWdodEFsdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25BcnJvd1JpZ2h0QWx0XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNi40MSAyIDUgMy40MSAxMC41OSA5IDUgMTQuNTkgNi40MSAxNmw3LTctNy03WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1JpZ2h0QWx0U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dSaWdodEFsdFNtXFxcIiB3aWR0aD1cXFwiMTNcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTMgMTRcXFwiPjxwYXRoICBkPVxcXCJtNC4zOCA0LjYyIDEuMjQtMS4yNEw5LjI0IDdsLTMuNjIgMy42Mi0xLjI0LTEuMjRMNi43NiA3IDQuMzggNC42MlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXJyb3dSaWdodFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93UmlnaHRTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTUgMTFWM2w0IDQtNCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1VwID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93VXBcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xIDEyaDE2TDkgNGwtOCA4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1VwQWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93VXBBbHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0xNi4wMSAxMC42Mi0xLjQgMS40TDkgNi40NWwtNS41OSA1LjU5LTEuNC0xLjQxIDctNyA3IDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93VXBEb3duID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93VXBEb3duXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtOSAxIDcgN0gybDctN1ptMCAxNiA3LTdIMmw3IDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93VXBEb3duU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dVcERvd25TbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwibTcgMiA0IDRIM2w0LTRabTAgMTAgNC00SDNsNCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1VwTGcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dVcExnXFxcIiB3aWR0aD1cXFwiMzZcXFwiIGhlaWdodD1cXFwiMzZcXFwiICB2aWV3Qm94PVxcXCIwIDAgMzYgMzZcXFwiPjxwYXRoICBkPVxcXCJNMiAyNWgzMkwxOCA5IDIgMjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkFycm93VXBMb25nID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkFycm93VXBMb25nXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOSAxN2ExIDEgMCAwIDEtMS0xVjQuMDhsLTMuMzggMi43YTEgMSAwIDAgMS0xLjI0LTEuNTZsNS00YTEgMSAwIDAgMSAxLjI0IDBsNSA0YTEgMSAwIDEgMS0xLjI0IDEuNTZMMTAgNC4wOFYxNmExIDEgMCAwIDEtMSAxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25BcnJvd1VwU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXJyb3dVcFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMyA5aDhMNyA1IDMgOVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXN0ZXJpc2sgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQXN0ZXJpc2tcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0yLjMyIDExLjgzIDYuOTUgOSAyLjMyIDYuMTdjLS4zLS4xNS0uNDEtLjUtLjI0LS43N2wuNS0uOGEuNjUuNjUgMCAwIDEgLjg1LS4ybDQuNTUgMi45OC0uMS01LjhjMC0uMzIuMjgtLjU4LjYyLS41OGgxYy4zNCAwIC42Mi4yNi42MS41N2wtLjA5IDUuOCA0LjU1LTIuOTdjLjMtLjE2LjY4LS4wNy44NS4ybC41LjhjLjE3LjI3LjA2LjYyLS4yNC43N0wxMS4wNSA5bDQuNjMgMi44M2MuMy4xNS40MS41LjI0Ljc3bC0uNS44YS42NS42NSAwIDAgMS0uODUuMmwtNC41NS0yLjk4LjEgNS44YzAgLjMyLS4yOC41OC0uNjIuNThoLTFjLS4zNCAwLS42Mi0uMjYtLjYxLS41N2wuMDktNS44LTQuNTUgMi45N2EuNjUuNjUgMCAwIDEtLjg1LS4ybC0uNS0uOGMtLjE3LS4yNy0uMDYtLjYyLjI0LS43N1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQXN0ZXJpc2tTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Bc3Rlcmlza1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMS41MiA5LjAzIDQuOTUgNyAxLjUyIDQuOTdjLS4zLS4xNS0uNDEtLjUtLjI0LS43N2wuNS0uOGEuNjUuNjUgMCAwIDEgLjg1LS4ybDMuMzUgMi4xOC0uMS0zLjhjMC0uMzIuMjgtLjU4LjYyLS41OGgxYy4zNCAwIC42Mi4yNi42MS41N2wtLjA5IDMuOCAzLjM1LTIuMTdjLjMtLjE2LjY4LS4wNy44NS4ybC41LjhjLjE3LjI3LjA2LjYyLS4yNC43N0w5LjA1IDdsMy40MyAyLjAzYy4zLjE1LjQxLjUuMjQuNzdsLS41LjhhLjY1LjY1IDAgMCAxLS44NS4yTDguMDIgOC42MmwuMSAzLjhjMCAuMzItLjI4LjU4LS42Mi41OGgtMWMtLjM0IDAtLjYyLS4yNi0uNjEtLjU3bC4wOS0zLjgtMy4zNSAyLjE3YS42NS42NSAwIDAgMS0uODUtLjJsLS41LS44Yy0uMTctLjI3LS4wNi0uNjIuMjQtLjc3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25CYWRnZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25CYWRnZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMgNGEyIDIgMCAwIDAtMiAydjZjMCAxLjEuOSAyIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjZhMiAyIDAgMCAwLTItMkgzWm0zIDdhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25CYWRnZVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkJhZGdlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0yIDRjLS41NSAwLTEgLjUyLTEgMS4xN3Y0LjY2YzAgLjY1LjQ1IDEuMTcgMSAxLjE3aDEwYy41NSAwIDEtLjUyIDEtMS4xN1Y1LjE3QzEzIDQuNTIgMTIuNTUgNCAxMiA0SDJabTIuNSA1YTEuNSAxLjUgMCAxIDEgMC0zIDEuNSAxLjUgMCAwIDEgMCAzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25CYWxsb29uID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkJhbGxvb25cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGZpbGwtb3BhY2l0eT1cXFwiLjRcXFwiIGQ9XFxcIk0xMC4yNiAxN2gtLjJhMy42MSAzLjYxIDAgMCAxLTMuNjEtMy42MS41LjUgMCAxIDEgMSAwQTIuNjEgMi42MSAwIDAgMCAxMC4wNiAxNmguMmEyLjYxIDIuNjEgMCAwIDAgMi42MS0yLjgyIDMuNjIgMy42MiAwIDAgMSAzLjYxLTMuNC41LjUgMCAwIDEgLjUuNS41MS41MSAwIDAgMS0uNS41IDIuNjEgMi42MSAwIDAgMC0yLjYxIDIuNjFjMCAuMDctLjAyLjE0LS4wNS4yQTMuNjEgMy42MSAwIDAgMSAxMC4yNiAxN1pcXFwiLz48cGF0aCBmaWxsPVxcXCIjRjc1RDM3XFxcIiBkPVxcXCJNNi45NCAxLjIzYzIuNjkgMCA0Ljg3IDIuOCA0Ljg3IDUuNDkgMCAyLjQ4LTEuODEgNS45NS00LjIxIDYuNDguMDMuNC0uMjQuNzEtLjYzLjcxLS4zNiAwLS42OC0uMzUtLjYzLS43LTIuNDEtLjQ5LTQuMjgtNC00LjI4LTYuNDkgMC0yLjcyIDIuMTktNS40OSA0Ljg4LTUuNDlabS0uMDkgMi42MmEuNS41IDAgMSAwLS43LS43bC0yIDJhLjUuNSAwIDEgMCAuNy43bDItMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQmVsbCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25CZWxsXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTYgMTN2MUgydi0xbC43My0uNThjLjc3LS43Ny44MS0zLjU1IDEuMTktNS40MkM0LjY5IDMuMjMgOCAyIDggMmExIDEgMCAwIDEgMS0xIDEgMSAwIDAgMSAxIDFzMy4zOSAxLjIzIDQuMTYgNWMuMzggMS44OC40MiA0LjY2IDEuMTkgNS40MmwuNjYuNThIMTZabS03IDRhMiAyIDAgMCAwIDItMkg3YTIgMiAwIDAgMCAyIDJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJlbGxTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25CZWxsU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk03IDFhMSAxIDAgMCAwLTEgMUMzLjY1IDMuMTcgMy4zNyA1LjMzIDMuMTQgNy4xNSAyLjk3IDguNDIgMi44MyA5LjUzIDIgMTB2MWgxMHYtMWMtLjgzLS40Ny0uOTctMS41OC0xLjE0LTIuODVDMTAuNjMgNS4zMyAxMC4zNSAzLjE3IDggMmExIDEgMCAwIDAtMS0xWm0xIDEyYTEgMSAwIDAgMCAxLTFINWExIDEgMCAwIDAgMSAxaDJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJvbGQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQm9sZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEzIDZjMC0xLjUtMS41Ny0zLTMuNS0zSDR2MTJoNi4yNWMxLjc5IDAgMy4yNS0xLjcxIDMuMjUtMy41IDAtMS4zLS45LTIuNDgtMi0zIC44My0uNTggMS41LTEgMS41LTIuNVpNNi41IDVIOWExLjUgMS41IDAgMCAxIDAgM0g2LjVWNVptMyA4aC0zdi0zaDNhMS41IDEuNSAwIDEgMSAwIDNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJvb2sgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQm9va1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTIgM2MwLTEuMS45LTIgMi0yaDEwYTIgMiAwIDAgMSAyIDJ2OGEyIDIgMCAwIDEtMiAySDRhMSAxIDAgMSAwIDAgMmgxdi0xaDR2MWg1YTIgMiAwIDAgMCAyLTJ2MWEyIDIgMCAwIDEtMiAySDl2MmwtMi0xLTIgMXYtMkg0YTIgMiAwIDAgMS0yLTJWM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQm9va21hcmsgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQm9va21hcmtcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDE3VjNjMC0xLjEuOS0yIDItMmg4YTIgMiAwIDAgMSAyIDJ2MTRsLTYtNC02IDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJvb2ttYXJrQWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkJvb2ttYXJrQWx0XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtOSAxMC42IDQgMi42NlYzSDV2MTAuMjZsNC0yLjY2Wk0zIDE3VjNjMC0xLjEuOS0yIDItMmg4YTIgMiAwIDAgMSAyIDJ2MTRsLTYtNC02IDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJyaWVmY2FzZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25CcmllZmNhc2VcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk01IDRhMSAxIDAgMCAxIDEtMWg2YTEgMSAwIDAgMSAxIDF2MWgxYTIgMiAwIDAgMSAyIDJ2NmEyIDIgMCAwIDEtMiAySDRhMiAyIDAgMCAxLTItMlY3YzAtMS4xLjktMiAyLTJoMVY0Wm03IDBINnYxaDZWNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQnJpZWZjYXNlU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQnJpZWZjYXNlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk00IDNhMSAxIDAgMCAxIDEtMWg0YTEgMSAwIDAgMSAxIDF2MWguNWMuODMgMCAxLjUuNjcgMS41IDEuNXY1YzAgLjgzLS42NyAxLjUtMS41IDEuNWgtN0ExLjUgMS41IDAgMCAxIDIgMTAuNXYtNUMyIDQuNjcgMi42NyA0IDMuNSA0SDRWM1ptNSAxVjNINXYxaDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkJ1bGxob3JuID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkJ1bGxob3JuXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiNGN0FBNkRcXFwiIGQ9XFxcIk0xNiAxYTEgMSAwIDAgMC0xIDF2LjM4TDUuMyA2QTIgMiAwIDAgMCA0IDcuOXYyLjIyYTIgMiAwIDAgMCAxIDEuNzR2MS42NWEzLjUgMy41IDAgMCAwIDYuODcuOTVMMTUgMTUuNjNWMTZhMSAxIDAgMSAwIDIgMFYyYTEgMSAwIDAgMC0xLTFaTTYuNiAxMi40N2wzLjc2IDEuNDJhMS45IDEuOSAwIDAgMS0zLjc2LS4zOXYtMS4wM1pcXFwiLz48cGF0aCBmaWxsPVxcXCIjQzAyRDJFXFxcIiBkPVxcXCJNMiA2YTEgMSAwIDAgMC0xIDF2NGExIDEgMCAxIDAgMiAwVjdhMSAxIDAgMCAwLTEtMVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQnVsbGhvcm5TbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25CdWxsaG9yblNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoIGZpbGw9XFxcIiNGN0FBNkRcXFwiIGQ9XFxcIk0xMiAxYTEgMSAwIDAgMC0xIDF2LjQ3bC02Ljk1IDIuMkExLjUgMS41IDAgMCAwIDMgNi4xdjEuOGMwIC42NC40IDEuMiAxIDEuNDF2MS4xOWEyLjUgMi41IDAgMCAwIDQuOTcuMzlsMi4wMy42NFYxMmExIDEgMCAxIDAgMiAwVjJhMSAxIDAgMCAwLTEtMVpNNSA5LjYzbDMgLjk1YTEuNSAxLjUgMCAwIDEtMy0uMDh2LS44N1pcXFwiLz48cGF0aCBmaWxsPVxcXCIjQzAyRDJFXFxcIiBkPVxcXCJNMSA1LjVhLjUuNSAwIDAgMSAxIDB2M2EuNS41IDAgMCAxLTEgMHYtM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ2FrZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DYWtlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOSA0LjVhMS41IDEuNSAwIDAgMCAxLjI4LTIuMjdMOSAwIDcuNzIgMi4yM2MtLjE0LjIyLS4yMi40OC0uMjIuNzcgMCAuODMuNjggMS41IDEuNSAxLjVabTMuNDUgNy41LS44LS44MS0uODEuOGMtLjk4Ljk4LTIuNjkuOTgtMy42NyAwbC0uOC0uOC0uODIuOGMtLjQ5LjQ5LTEuMTQuNzYtMS44My43Ni0uNTUgMC0xLjMtLjE3LTEuNzItLjQ2VjE1YzAgMS4xLjkgMiAyIDJoMTBhMiAyIDAgMCAwIDItMnYtMi43Yy0uNDIuMjgtMS4xNy40NS0xLjcyLjQ1LS42OSAwLTEuMzQtLjI3LTEuODMtLjc2Wm0xLjMtNUgxMFY1SDh2Mkg0LjI1QzMgNyAyIDggMiA5LjI1di45YzAgLjgxLjkxIDEuNDcgMS43MiAxLjQ3LjM5IDAgLjc3LS4xNCAxLjAzLS40MmwxLjYxLTEuNiAxLjYgMS42YTEuNSAxLjUgMCAwIDAgMi4wOCAwbDEuNi0xLjYgMS42IDEuNmMuMjguMjguNjQuNDMgMS4wMy40My44MSAwIDEuNzMtLjY3IDEuNzMtMS40OHYtLjlDMTYgOC4wMSAxNSA3IDEzLjc1IDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNhbGVuZGFyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNhbGVuZGFyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTQgMmgxYTIgMiAwIDAgMSAyIDJ2MTFhMiAyIDAgMCAxLTIgMkgzYTIgMiAwIDAgMS0yLTJWNGMwLTEuMS45LTIgMi0yaDFWMGgydjJoNlYwaDJ2MlpNMyA2djloMTJWNkgzWm0yIDJoMnYySDVWOFptMCAzaDJ2Mkg1di0yWm0zIDBoMnYySDh2LTJabTMgMGgydjJoLTJ2LTJabTAtM2gydjJoLTJWOFpNOCA4aDJ2Mkg4VjhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNoYWlyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNoYWlyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTAgOGgyLjg3Yy42NiAwIDEuMTctLjQ3IDEuMTMtMS4wNGwtLjMxLTUuMDVjLS4wOC0uNS0uNTUtLjkxLTEuMTctLjkxSDUuNDVjLS41OSAwLTEuMS40LTEuMTQuOWwtLjMgNS4wNkMzLjk1IDcuNTMgNC40NiA4IDUuMTIgOEg4djFINC41NkMzLjcxIDkgMyA5LjQ2IDMgMTBzLjcxIDEgMS41NiAxSDh2Mi4xYy0uOTYuMi0xLjg4LjY3LTIuNjUgMS40MWExIDEgMCAxIDAgMS4wMy41MiA0LjY3IDQuNjcgMCAwIDEgNS4yMyAwIDEgMSAwIDEgMCAxLjA1LS41MkE1LjI2IDUuMjYgMCAwIDAgMTAgMTMuMVYxMWgzLjQ0Yy44NSAwIDEuNTYtLjQzIDEuNTYtMSAwLS41NC0uNzEtMS0xLjU2LTFIMTBWOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ2hlY2ttYXJrID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNoZWNrbWFya1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE2IDQuNDEgMTQuNTkgMyA2IDExLjU5IDIuNDEgOCAxIDkuNDFsNSA1IDEwLTEwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25DaGVja21hcmtMZyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DaGVja21hcmtMZ1xcXCIgd2lkdGg9XFxcIjM2XFxcIiBoZWlnaHQ9XFxcIjM2XFxcIiAgdmlld0JveD1cXFwiMCAwIDM2IDM2XFxcIj48cGF0aCAgZD1cXFwibTYgMTQgOCA4TDMwIDZ2OEwxNCAzMGwtOC04di04WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25DaGVja21hcmtTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DaGVja21hcmtTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTEzIDMuNDEgMTEuNTkgMiA1IDguNTkgMi40MSA2IDEgNy40MWw0IDQgOC04WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25DaGVja21hcmtWZXJpZmllZCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DaGVja21hcmtWZXJpZmllZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkuODUuOWExLjEzIDEuMTMgMCAwIDAtMS43IDBsLS41MS41OGMtLjMuMzUtLjc5LjQ4LTEuMjMuMzNsLS43Mi0uMjVhMS4xMyAxLjEzIDAgMCAwLTEuNDguODVsLS4xNS43NmMtLjA5LjQ1LS40NC44LS45LjlsLS43NS4xNGMtLjY3LjEzLTEuMDcuODMtLjg1IDEuNDhsLjI1LjcyYy4xNS40NC4wMi45Mi0uMzMgMS4yM2wtLjU4LjVhMS4xMyAxLjEzIDAgMCAwIDAgMS43MWwuNTguNWMuMzUuMy40OC44LjMzIDEuMjNsLS4yNS43MmMtLjIyLjY1LjE4IDEuMzUuODUgMS40OGwuNzYuMTVjLjQ1LjEuOC40NC45LjlsLjE0Ljc1Yy4xMy42Ny44MyAxLjA4IDEuNDguODVsLjcyLS4yNGMuNDQtLjE1LjkyLS4wMiAxLjIzLjMybC41LjU4Yy40NS41MiAxLjI2LjUyIDEuNzEgMGwuNS0uNThjLjMtLjM0LjgtLjQ3IDEuMjMtLjMybC43Mi4yNGMuNjUuMjMgMS4zNS0uMTggMS40OC0uODVsLjE1LS43NWMuMS0uNDYuNDQtLjguOS0uOWwuNzUtLjE1Yy42Ny0uMTMgMS4wOC0uODMuODUtMS40OGwtLjI0LS43MmMtLjE1LS40NC0uMDItLjkyLjMyLTEuMjJsLjU4LS41Yy41Mi0uNDYuNTItMS4yNyAwLTEuNzJsLS41OC0uNWMtLjM0LS4zLS40Ny0uNzktLjMyLTEuMjNsLjI0LS43MmExLjEzIDEuMTMgMCAwIDAtLjg1LTEuNDhsLS43NS0uMTVjLS40Ni0uMDktLjgtLjQ0LS45LS45bC0uMTUtLjc1YTEuMTMgMS4xMyAwIDAgMC0xLjQ4LS44NWwtLjcyLjI1Yy0uNDQuMTUtLjkyLjAyLTEuMjItLjMzTDkuODYuOVpNMTIuNiA1IDE0IDYuNDFsLTcgNy0zLTNMNS40MSA5IDcgMTAuNTkgMTIuNTkgNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ2hlY2ttYXJrVmVyaWZpZWRTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DaGVja21hcmtWZXJpZmllZFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNy44Mi44NGExLjE2IDEuMTYgMCAwIDAtMS42NCAwbC0uOS44OGMtLjIuMjEtLjUuMzMtLjguMzRIMy4yMmMtLjY0IDAtMS4xNS41Mi0xLjE2IDEuMTZ2MS4yNmMwIC4zLS4xMy42LS4zNC44bC0uODguOWExLjE2IDEuMTYgMCAwIDAgMCAxLjY0bC44OC45Yy4yMS4yLjMzLjUuMzQuOHYxLjI2YzAgLjY0LjUyIDEuMTUgMS4xNiAxLjE1bDEuMjYuMDFjLjMgMCAuNi4xMi44LjM0bC45Ljg4Yy40NS40NSAxLjE4LjQ1IDEuNjQgMGwuOS0uODhjLjItLjIyLjUtLjM0LjgtLjM0aDEuMjZhMS4xNiAxLjE2IDAgMCAwIDEuMTUtMS4xNmwuMDEtMS4yNmMwLS4zLjEyLS42LjM0LS44bC44OC0uOWMuNDUtLjQ2LjQ1LTEuMTkgMC0xLjY0bC0uODgtLjljLS4yMi0uMi0uMzQtLjUtLjM0LS44VjMuMjJhMS4xNyAxLjE3IDAgMCAwLTEuMTYtMS4xNkg5LjUyYy0uMyAwLS42LS4xMy0uOC0uMzRsLS45LS44OFptLTEuOSA5LjQ0TDMuMjggNy42NWwxLjI3LTEuMjdMNS45IDcuNzRsMy44MS0zLjgxTDExIDUuMmwtNS4xIDUuMDhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNsYXAgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ2xhcFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEyLjUgM2EuNS41IDAgMCAxLS41LS41di0yYS41LjUgMCAwIDEgMSAwdjJhLjUuNSAwIDAgMS0uNS41Wk0xNCA0LjVjMC0uMjguMjItLjUuNS0uNWgyYS41LjUgMCAwIDEgMCAxaC0yYS41LjUgMCAwIDEtLjUtLjVabS0uMzUtMS44NWEuNS41IDAgMCAwIC43LjdsMS41LTEuNWEuNS41IDAgMCAwLS43LS43bC0xLjUgMS41WlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNMi41OCA4LjY5Yy4zMy40NS43My44IDEuMTUgMS4wNkw1LjggNmMuMTctLjI5LjQtLjU2LjY4LS43NC40NC0uMjguOTktLjI2IDEuNC0uMDJoLjAyYy4zMi0uMDQgMS42LS4wNiAyLjczLS4wOGE0MS41IDQxLjUgMCAwIDAgMS43Ny0uMDRjLjQ5LS4wNC42OC0uMy42NS0uNzUtLjAyLS40Ni0uNDQtLjY1LS45LS42bC02Ljc2LjM2Yy0uMDUuMDEtLjEtLjA3LS4wNy0uMTFsMS4wMy0xLjM2Yy4zLS40LjE2LS45Ny0uMjEtMS4yNmEuODcuODcgMCAwIDAtMS4yNS4xM0M0LjMgMi4yNiAzLjc0IDMgMy4xOSAzLjc2Yy0xLjA4IDEuNDctMS44MyAzLjI5LS42MSA0LjkzWm0xMC4xLjQxaC0uNzVjLjExLS4yMy4xOC0uNDcuMTctLjczIDAtLjE5LS4wNi0uMzctLjE1LS41M2wuNzMuMDFjLjQxLjAzLjY4LjM1LjY4LjYgMCAuMjQtLjIzLjY2LS42OC42NVpNMTAuOSA3LjE1bDIuNi0uMDJhLjY2LjY2IDAgMCAwIC42LS43N2MtLjA4LS40MS0uNDctLjY0LS44Ny0uNjRsLTIuNjYuMDRjLjM1LjM3LjQ4LjkuMzMgMS40Wk01LjUyIDE3Yy0yLjA0IDAtMy4xNS0xLjc4LTMuNy0zLjUyYTUzLjIgNTMuMiAwIDAgMS0uNzctMi43Yy0uMTUtLjQ2LjE0LS45NC42My0xLjA3LjQ3LS4xMyAxIC4xIDEuMTUuNThsLjQ3IDEuNjNjLjAyLjA2LjExLjA2LjE0IDBsMy4wMS01LjU0Yy4yNC0uNC42LS43My45Ny0uNTQuNC4yLjQ3LjU0LjI1IDEuMDItLjA4LjE4LS4zMy42Ni0uNjMgMS4yMi0uNTEuOTYtMS4xNSAyLjE2LTEuMjYgMi40OS0uMDEuMDQtLjAzLjIxLjA4LjI5LjEuMDcuMjgtLjA2LjMtLjA5bDIuNzEtNC4xNGMuMi0uMzQuNjMtLjY2Ljk4LS40OC4zNC4xOC40Ni42LjI2LjkzTDcuMzcgMTEuMmMtLjAyLjAzLS4xNC4zMi4wNS40My4xOS4xMi40LS4wNC40Mi0uMDdMMTAuMiA4LjNjLjI3LS4zMS41MS0uNTEuOS0uMzIuMzQuMTguMzMuNjEuMDYuOTctLjQ1LjYtLjggMS4xMy0xLjE2IDEuNjQtLjQuNTgtLjggMS4xNS0xLjI4IDEuOC0uMDIuMDMtLjEzLjIzIDAgLjM3LjEyLjEzLjI3IDAgLjI3IDBsMS45LTIuM2MuMjMtLjMuNDgtLjQyLjgtLjI1LjI4LjE0LjIyLjU4LjA5LjgtLjUzLjkxLTEuMiAxLjcyLTEuODYgMi41M0M4Ljc1IDE0Ljk0IDcuNTUgMTcgNS41MiAxN1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ2xlYXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ2xlYXJcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNSA0LjQxIDEzLjU5IDMgOSA3LjU5IDQuNDEgMyAzIDQuNDEgNy41OSA5IDMgMTMuNTkgNC40MSAxNSA5IDEwLjQxIDEzLjU5IDE1IDE1IDEzLjU5IDEwLjQxIDkgMTUgNC40MVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ2xlYXJTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DbGVhclNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMTIgMy40MSAxMC41OSAyIDcgNS41OSAzLjQxIDIgMiAzLjQxIDUuNTkgNyAyIDEwLjU5IDMuNDEgMTIgNyA4LjQxIDEwLjU5IDEyIDEyIDEwLjU5IDguNDEgNyAxMiAzLjQxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25DbG9jayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DbG9ja1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkgMTdjLTQuMzYgMC04LTMuNjQtOC04IDAtNC4zNiAzLjY0LTggOC04IDQuMzYgMCA4IDMuNjQgOCA4IDAgNC4zNi0zLjY0IDgtOCA4Wm0wLTJjMy4yNyAwIDYtMi43MyA2LTZzLTIuNzMtNi02LTYtNiAyLjczLTYgNiAyLjczIDYgNiA2Wk04IDVoMS4wMUw5IDkuMzZsMy4yMiAyLjEtLjYuOTNMOCAxMFY1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Db2RlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNvZGVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk04IDQuNDEgNi41OSAzbC02IDYgNiA2TDggMTMuNTkgMy40MSA5IDggNC40MVptMiAwTDExLjQxIDNsNiA2LTYgNkwxMCAxMy41OSAxNC41OSA5IDEwIDQuNDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNvZGVTbmlwcGV0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNvZGVTbmlwcGV0XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyAyYzAtMS4xLjktMiAyLTJoMTFhMiAyIDAgMCAxIDIgMnYxMWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMlYyWm03LjA2IDIuOTFMOC42NSAzLjY0IDQuOCA3LjVsMy45NyAzLjk1IDEuMjktMS4zNi0yLjYtMi41OSAyLjYtMi41OVptMi4xNy0xLjI0LTEuMjcgMS4yNCAyLjU5IDIuNTktMi42IDIuNTkgMS4yOCAxLjI3TDE2LjEgNy41bC0zLjg2LTMuODNaXFxcIi8+PHBhdGggIGQ9XFxcIk0yIDNhMiAyIDAgMCAwLTIgMnYxMGEzIDMgMCAwIDAgMyAzaDEwYTIgMiAwIDAgMCAyLTJINGEyIDIgMCAwIDEtMi0yVjNaXFxcIiBvcGFjaXR5PVxcXCIuNFxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Db2RlYmxvY2sgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ29kZWJsb2NrXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMSAzYzAtMS4xLjktMiAyLTJoMTBsNCA0djEwYTIgMiAwIDAgMS0yIDJIM2EyIDIgMCAwIDEtMi0yVjNabTkuNzEgMi0xLjQgMS40MUwxMS44OCA5IDkuMyAxMS41OSAxMC43MSAxM2w0LTQtNC00Wm0tMiAxLjQxTDcuMzEgNWwtNCA0IDQgNCAxLjQtMS40MUw2LjEyIDlsMi42LTIuNTlaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNvZGVibG9ja0FsdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Db2RlYmxvY2tBbHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05LjI2IDYuNDEgMTAuNDkgNSAxNCA5bC0zLjUgNC0xLjI0LTEuNDFMMTEuNTMgOSA5LjI2IDYuNDFaTTcuNSA1bDEuMjQgMS40MUw2LjQ3IDlsMi4yNyAyLjU5TDcuNTEgMTMgNCA5bDMuNS00Wk0zIDFoMTBsNCA0djEwYTIgMiAwIDAgMS0yIDJIM2EyIDIgMCAwIDEtMi0yVjNjMC0xLjEuOS0yIDItMlptMCAydjEyaDEyVjUuODNMMTIuMTcgM0gzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Db2lucyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Db2luc1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNMTcgNi4yOWMwLS4yOS0uMi0uNDEtLjM2LS4yOWE2LjE1IDYuMTUgMCAwIDEtNi4yOC4wMWMtLjE2LS4xMi0uMzYuMDMtLjM2LjI5djEuMDdDMTAgOC4xNCAxMS41IDkgMTMuNSA5UzE3IDguMTQgMTcgNy4zN1Y2LjI5Wm0uMDMgNGMwLS4yOS0uMi0uNDEtLjM2LS4yOWE2LjI2IDYuMjYgMCAwIDEtNi4zMS0uMDJjLS4xNi0uMTItLjM2LjA0LS4zNi4yOXYxLjA3YzAgLjc3IDEuNTMgMS42NiAzLjUzIDEuNjYgMiAwIDMuNS0uODcgMy41LTEuNjR2LTEuMDdaTTE2LjY3IDE0Yy4xNi0uMTEuMzYgMCAuMzYuMjl2MS4wN2MwIC43Ny0xLjUgMS42NC0zLjUgMS42NFMxMCAxNi4xNSAxMCAxNS4zOHYtMS4wN2MwLS4yNS4yLS40LjM2LS4yOWE2LjEgNi4xIDAgMCAwIDYuMzEtLjAyWk04IDE0LjI5YzAtLjI5LS4yLS40LS4zNi0uMjlhNi4wNiA2LjA2IDAgMCAxLTYuMjguMDJjLS4xNi0uMTEtLjM2LjA0LS4zNi4yOXYxLjA3QzEgMTYuMTUgMi41IDE3IDQuNSAxN1M4IDE2LjE1IDggMTUuMzZ2LTEuMDdaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGQTgzNlxcXCIgZD1cXFwiTTEzLjQ5IDEuMTVjLTIgMC0zLjQ5Ljk4LTMuNDkgMS44NSAwIC44NCAxLjUgMS44NCAzLjUgMS44NFMxNyAzLjg0IDE3IDNjMC0uODctMS41MS0xLjg1LTMuNTEtMS44NVptLTkgOC4wMWMtMiAwLTMuNDkuOTctMy40OSAxLjg0IDAgLjg3IDEuNDcgMS44NyAzLjQ3IDEuODdTOCAxMS44NyA4IDExYzAtLjg3LTEuNTEtMS44NC0zLjUxLTEuODRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNvbGxlY3Rpb24gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ29sbGVjdGlvblxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTUgM2EyIDIgMCAwIDAtMiAydjdjMCAxLjEuOSAyIDIgMmgxMGEyIDIgMCAwIDAgMi0yVjVhMiAyIDAgMCAwLTItMkg1Wm0wIDIuNWMwLS4yOC4yMi0uNS41LS41aDlhLjUuNSAwIDAgMSAwIDFoLTlhLjUuNSAwIDAgMS0uNS0uNVpNNS41IDhoOWEuNS41IDAgMCAxIDAgMWgtOWEuNS41IDAgMCAxIDAtMVpNNSAxMS41YzAtLjI4LjIyLS41LjUtLjVoNmEuNS41IDAgMCAxIDAgMWgtNmEuNS41IDAgMCAxLS41LS41WlxcXCIvPjxwYXRoICBkPVxcXCJNMTUuMDkgMTVINC43NEEyLjc1IDIuNzUgMCAwIDEgMiAxMi4yM1Y0LjljLS42MS41OS0xIDEuNDItMSAyLjM0djUuNUMxIDE0LjU0IDIuNDUgMTYgNC4yNCAxNmg4LjVjLjkyIDAgMS43Ni0uMzggMi4zNS0xWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ29sdW1ucyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Db2x1bW5zXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMSAxNmg0VjJIMXYxNFptNiAwaDRWMkg3djE0Wm02IDBWMmg0djE0aC00WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Db21wdXRlciA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Db21wdXRlclxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEgNGMwLTEuMS45LTIgMi0yaDEyYTIgMiAwIDAgMSAyIDJ2N2EyIDIgMCAwIDEtMiAyaC00bDEgMnYxSDZ2LTFsMS0ySDNhMiAyIDAgMCAxLTItMlY0Wm0yIDdoMTJWNEgzdjdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkNvbmZsdWVuY2UgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ29uZmx1ZW5jZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCJ1cmwoI0NvbmZsdWVuY2VhKVxcXCIgZD1cXFwibTEuNTggMTIuNzQtLjUuODNhLjUuNSAwIDAgMCAuMTYuN2wzLjMxIDIuMDNhLjUuNSAwIDAgMCAuNy0uMTdsLjUtLjgyYzEuMy0yLjE3IDIuNjItMS45IDUtLjc3bDMuMjggMS41NmEuNTEuNTEgMCAwIDAgLjY5LS4yNWwxLjU3LTMuNTZhLjUuNSAwIDAgMC0uMjUtLjY3IDM5OSAzOTkgMCAwIDEtMy4zLTEuNTdDOC4yNiA3Ljg4IDQuNDcgOC4wMiAxLjU3IDEyLjc0WlxcXCIvPjxwYXRoIGZpbGw9XFxcInVybCgjQ29uZmx1ZW5jZWIpXFxcIiBkPVxcXCJtMTYuNDIgNC42NS41LS44M2EuNS41IDAgMCAwLS4xNi0uN0wxMy40NSAxLjFhLjUuNSAwIDAgMC0uNzMuMTZsLS40OS44MmMtMS4zIDIuMTctMi42MyAxLjktNSAuNzdMMy45NiAxLjI4YS41LjUgMCAwIDAtLjY5LjI2TDEuNyA1LjFhLjUuNSAwIDAgMCAuMjUuNjdjLjcuMzIgMi4wNy45NyAzLjMgMS41NyA0LjQ4IDIuMTcgOC4yNyAyLjAyIDExLjE3LTIuN1pcXFwiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9XFxcIkNvbmZsdWVuY2VhXFxcIiB4MT1cXFwiMTYuMlxcXCIgeDI9XFxcIjYuMTlcXFwiIHkxPVxcXCIxNy4zNFxcXCIgeTI9XFxcIjExLjU4XFxcIiBncmFkaWVudFVuaXRzPVxcXCJ1c2VyU3BhY2VPblVzZVxcXCI+PHN0b3Agc3RvcC1jb2xvcj1cXFwiIzAwNTBEM1xcXCIvPjxzdG9wIG9mZnNldD1cXFwiLjk0XFxcIiBzdG9wLWNvbG9yPVxcXCIjMDA3RkZDXFxcIi8+PHN0b3Agb2Zmc2V0PVxcXCIxXFxcIiBzdG9wLWNvbG9yPVxcXCIjMDA4MkZGXFxcIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9XFxcIkNvbmZsdWVuY2ViXFxcIiB4MT1cXFwiMS43OVxcXCIgeDI9XFxcIjExLjgxXFxcIiB5MT1cXFwiLjAyXFxcIiB5Mj1cXFwiNS43N1xcXCIgZ3JhZGllbnRVbml0cz1cXFwidXNlclNwYWNlT25Vc2VcXFwiPjxzdG9wIHN0b3AtY29sb3I9XFxcIiMwMDUwRDNcXFwiLz48c3RvcCBvZmZzZXQ9XFxcIi45NFxcXCIgc3RvcC1jb2xvcj1cXFwiIzAwN0ZGQ1xcXCIvPjxzdG9wIG9mZnNldD1cXFwiMVxcXCIgc3RvcC1jb2xvcj1cXFwiIzAwODJGRlxcXCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Db3B5ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNvcHlcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk01IDZjMC0xLjA5LjkxLTIgMi0yaDQuNUwxNSA3LjVWMTVjMCAxLjA5LS45MSAyLTIgMkg3Yy0xLjA5IDAtMi0uOTEtMi0yVjZabTYtMS4yNVY4aDMuMjVMMTEgNC43NVpcXFwiLz48cGF0aCAgZD1cXFwiTTEwIDFhMiAyIDAgMCAxIDIgMkg2YTIgMiAwIDAgMC0yIDJ2OWEyIDIgMCAwIDEtMi0yVjRhMyAzIDAgMCAxIDMtM2g1WlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ3JlZGl0Q2FyZCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25DcmVkaXRDYXJkXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyAzaDEyYTIgMiAwIDAgMSAyIDJ2OGEyIDIgMCAwIDEtMiAySDNhMiAyIDAgMCAxLTItMlY1YzAtMS4xLjktMiAyLTJabTAgNnY0aDEyVjlIM1ptMC0zaDEyVjVIM3YxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Dcm9zc2hhaXJzID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkNyb3NzaGFpcnNcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05IDEyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNlpNOSAwYTEgMSAwIDAgMC0xIDF2MS4wN0E3IDcgMCAwIDAgMi4wNyA4SDFhMSAxIDAgMSAwIDAgMmgxLjA3QTcgNyAwIDAgMCA4IDE1LjkzVjE3YTEgMSAwIDEgMCAyIDB2LTEuMDdBNyA3IDAgMCAwIDE1LjkzIDEwSDE3YTEgMSAwIDEgMCAwLTJoLTEuMDdBNyA3IDAgMCAwIDEwIDIuMDdWMWExIDEgMCAwIDAtMS0xWm01IDlBNSA1IDAgMSAxIDQgOWE1IDUgMCAwIDEgMTAgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uQ3VycmVuY3kgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uQ3VycmVuY3lcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiIzVGQkE3RFxcXCIgZD1cXFwiTTEzLjkyIDNINGMuMDctLjYuNjItMS4wNSAxLjIyLTFoNy40OGMuNi0uMDUgMS4xNS40IDEuMjIgMVptLjU3IDFjLjYtLjA1IDEuMTUuNCAxLjIyIDFIMi4yOWMuMDctLjYuNi0xLjA0IDEuMi0xaDExWk0xIDdoMTZhMS4xNCAxLjE0IDAgMCAwLTEuMjItMUgyLjIyYy0uNi0uMDUtMS4xNS40LTEuMjIgMVptMS41IDFDMS42NyA4IDEgOC42NyAxIDkuNXY1YzAgLjgzLjY3IDEuNSAxLjUgMS41aDEzYy44MyAwIDEuNS0uNjcgMS41LTEuNXYtNWMwLS44My0uNjctMS41LTEuNS0xLjVoLTEzWk01IDE1YTMgMyAwIDEgMSAwLTZoOGEzIDMgMCAxIDEgMCA2SDVaXFxcIi8+PHBhdGggZmlsbD1cXFwidmFyKC0tYmxhY2stNjAwKVxcXCIgZD1cXFwiTTkgMTMuOWExLjkgMS45IDAgMSAwIDAtMy44IDEuOSAxLjkgMCAwIDAgMCAzLjhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkRldlRvID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkRldlRvXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMTAxMDFcXFwiIGQ9XFxcIk0xNSAxYTIgMiAwIDAgMSAyIDJ2MTJhMiAyIDAgMCAxLTIgMkgzYTIgMiAwIDAgMS0yLTJWM2MwLTEuMS45LTIgMi0yaDEyWm0tMyA1LjAyaC0xLjE4bDEuNCA1LjI0Yy4zNi44NiAxLjE2IDEuMSAxLjY1LjEzbC4wNi0uMTMgMS4zOS01LjI0aC0xLjE4bC0xLjA3IDQuMTJMMTIgNi4wMlptLTEuOTYgMEg3Ljc1YS43Mi43MiAwIDAgMC0uNy42NWwtLjAxLjF2NC41M2MwIC4zNy4yOS42Ny42NS43bC4xLjAxaDIuMjV2LTEuMDdIOC4xVjkuMjZoMS4xOFY4LjE5SDguMXYtMS4xaDEuOTNWNi4wMlptLTUuMzIgMEgzdjUuOTloMS42OGMxLjMzIDAgMS43NS0xLjAzIDEuNzUtMS43MVY3LjczYzAtLjY4LS40My0xLjcxLTEuNzEtMS43MVptLjA2IDEuMTJhLjcuNyAwIDAgMSAuNDIuMTZjLjE0LjEuMjEuMjYuMjEuNDd2Mi41MmMwIC4yMS0uMDcuMzctLjIuNDdhLjcuNyAwIDAgMS0uNDMuMTZoLS42M1Y3LjE0aC42M1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRGlmZiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25EaWZmXFxcIiB3aWR0aD1cXFwiMTJcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTIgMThcXFwiPjxwYXRoICBkPVxcXCJNNSAxaDJ2NGg0djJIN3Y0SDVWN0gxVjVoNFYxWm02IDE0SDF2MmgxMHYtMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRGlzY29yZCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25EaXNjb3JkXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM1ODY1RjJcXFwiIGQ9XFxcIk0xNS4yNCAzLjE0QTE0Ljg0IDE0Ljg0IDAgMCAwIDExLjU3IDJjLS4wMiAwLS4wNCAwLS4wNS4wMy0uMTYuMjgtLjM0LjY1LS40Ni45NGExMy43IDEzLjcgMCAwIDAtNC4xMiAwYy0uMTItLjMtLjMtLjY2LS40Ni0uOTRBLjA2LjA2IDAgMCAwIDYuNDIgMmExNC44IDE0LjggMCAwIDAtMy42OSAxLjE2QTE1LjIgMTUuMiAwIDAgMCAuMSAxMy40NWExNC45MyAxNC45MyAwIDAgMCA0LjUgMi4yN2MuMDIgMCAuMDQgMCAuMDYtLjAyLjM0LS40OC42NS0uOTcuOTItMS41YS4wNi4wNiAwIDAgMC0uMDQtLjA4IDkuODMgOS44MyAwIDAgMS0xLjQtLjY3LjA2LjA2IDAgMCAxIDAtLjFsLjI3LS4yMWEuMDYuMDYgMCAwIDEgLjA2LS4wMSAxMC42NCAxMC42NCAwIDAgMCA5LjA1IDBoLjA2bC4yOC4yM2MuMDMuMDIuMDMuMDcgMCAuMS0uNDYuMjUtLjkyLjQ4LTEuNDEuNjZhLjA2LjA2IDAgMCAwLS4wMy4wOGMuMjcuNTIuNTcgMS4wMi45MSAxLjUuMDIuMDIuMDQuMDIuMDcuMDJhMTQuODggMTQuODggMCAwIDAgNC41Mi0yLjMyIDE1LjEgMTUuMSAwIDAgMC0yLjY4LTEwLjI2Wm0tOS4yMiA4LjIyYy0uOSAwLTEuNjItLjgyLTEuNjItMS44MnMuNzEtMS44MSAxLjYyLTEuODFjLjkgMCAxLjYzLjgyIDEuNjEgMS44MSAwIDEtLjcxIDEuODItMS42MSAxLjgyWm01Ljk4IDBjLS45IDAtMS42Mi0uODItMS42Mi0xLjgycy43MS0xLjgxIDEuNjItMS44MWMuOSAwIDEuNjMuODIgMS42MSAxLjgxIDAgMS0uNyAxLjgyLTEuNjEgMS44MlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRG9jdW1lbnQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRG9jdW1lbnRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDNhMiAyIDAgMCAxIDItMmg2bDQgNHYxMGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMlYzWm03LTEuNVY2aDQuNUwxMCAxLjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkRvY3VtZW50QWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkRvY3VtZW50QWx0XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNSAzYTIgMiAwIDAgMC0yIDJ2MTBjMCAxLjEuOSAyIDIgMmg3YTIgMiAwIDAgMCAyLTJWNWEyIDIgMCAwIDAtMi0ySDVabTIgM2ExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDBabS0yIDQuNWMwLS4yOC4yMi0uNS41LS41aDZhLjUuNSAwIDAgMSAwIDFoLTZhLjUuNSAwIDAgMS0uNS0uNVptLjUgMS41aDZhLjUuNSAwIDAgMSAwIDFoLTZhLjUuNSAwIDAgMSAwLTFaTTUgMTQuNWMwLS4yOC4yMi0uNS41LS41aDZhLjUuNSAwIDAgMSAwIDFoLTZhLjUuNSAwIDAgMS0uNS0uNVpcXFwiLz48cGF0aCAgZD1cXFwiTTUuOSAyaDYuMzVBMi43NSAyLjc1IDAgMCAxIDE1IDQuNzV2OS4zNWMuNjItLjYgMS0xLjQzIDEtMi4zNXYtNy41QzE2IDIuNDUgMTQuNTQgMSAxMi43NSAxaC00LjVjLS45MiAwLTEuNzUuMzgtMi4zNSAxWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRG93bmxvYWQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRG93bmxvYWRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNiA3aC00VjJhMSAxIDAgMCAwLTEtMUg3YTEgMSAwIDAgMC0xIDF2NUgybDcgNyA3LTdaTTIgMTV2MmgxNHYtMkgyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Eb3dubG9hZFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkRvd25sb2FkU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0xMi41IDVIOVYxSDV2NEgxLjVMNyAxMC41IDEyLjUgNVpNMSAxMXYyaDEydi0ySDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkRyb3Bib3ggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRHJvcGJveFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMDA2MUZGXFxcIiBkPVxcXCJNNC41NSAxLjc3LjA5IDQuNmw0LjQ2IDIuODNMOSA0LjYxbDQuNDUgMi44MyA0LjQ2LTIuODMtNC40Ni0yLjg0TDkgNC42IDQuNTUgMS43N1ptMCAxMS4zNUwuMDkgMTAuMjhsNC40Ni0yLjg0TDkgMTAuMjhsNC40NS0yLjg0IDQuNDYgMi44NC00LjQ2IDIuODRMOSAxMC4yOGwtNC40NSAyLjg0Wk05IDE2LjlsLTQuNDUtMi44NEw5IDExLjIybDQuNDUgMi44NEw5IDE2LjlaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkVsbGlwc2lzSG9yaXpvbnRhbCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25FbGxpcHNpc0hvcml6b250YWxcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zLjUgMTBhMS41IDEuNSAwIDEgMSAwLTMgMS41IDEuNSAwIDAgMSAwIDNabTUgMGExLjUgMS41IDAgMSAxIDAtMyAxLjUgMS41IDAgMCAxIDAgM1pNMTIgOC41YTEuNSAxLjUgMCAxIDAgMyAwIDEuNSAxLjUgMCAwIDAtMyAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25FbGxpcHNpc1ZlcnRpY2FsID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkVsbGlwc2lzVmVydGljYWxcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk03IDQuNWExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMFptMCA1YTEuNSAxLjUgMCAxIDEgMyAwIDEuNSAxLjUgMCAwIDEtMyAwWk04LjUgMTNhMS41IDEuNSAwIDEgMCAwIDMgMS41IDEuNSAwIDAgMCAwLTNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkV5ZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25FeWVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05LjA2IDNDNCAzIDEgOSAxIDlzMyA2IDguMDYgNkMxNCAxNSAxNyA5IDE3IDlzLTMtNi03Ljk0LTZaTTkgMTNhNCA0IDAgMSAxIDAtOCA0IDQgMCAwIDEgMCA4Wm0wLTJhMiAyIDAgMCAwIDItMiAyIDIgMCAwIDAtMi0yIDIgMiAwIDAgMC0yIDIgMiAyIDAgMCAwIDIgMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRXllT2ZmID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkV5ZU9mZlxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTUuMDIgOS40NC0yLjIyIDIuMkMxLjYzIDEwLjI1IDEgOSAxIDlzMy02IDguMDYtNmMuNzUgMCAxLjQ2LjE0IDIuMTIuMzhMOS41IDUuMDNhNC4wMSA0LjAxIDAgMCAwLTQuNDggNC40MVptMi4wMyAzLjA1QTMuOTkgMy45OSAwIDAgMCAxMyA5YzAtLjczLS4yLTEuNDEtLjU0LTJsLTEuNTEgMS41NGEyIDIgMCAwIDEtMi4zOCAyLjQybC0xLjUyIDEuNTNabTcuMTEtNy4yMkExNC44IDE0LjggMCAwIDEgMTcgOXMtMyA2LTcuOTQgNmMtMS4zMSAwLTIuNDgtLjQtMy41LTFsLTEuOTcgMkwyIDE0LjQxIDE0LjU5IDIgMTYgMy40MWwtMS44NCAxLjg2WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25FeWVPZmZTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25FeWVPZmZTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTMuNTIgNy4zOCAxLjU4IDkuMjZBMTIuMzggMTIuMzggMCAwIDEgMCA3czIuNjMtNS4xNCA3LjA1LTUuMTRjLjY2IDAgMS4yOC4xMiAxLjg2LjMyTDcuNDQgMy42YTMuNDggMy40OCAwIDAgMC0zLjkyIDMuNzhaTTUuMyA5Ljk5Yy41LjI4IDEuMS40NCAxLjcxLjQ0IDEuOTQgMCAzLjUtMS41MyAzLjUtMy40MyAwLS42Mi0uMTctMS4yMS0uNDctMS43Mkw4LjcgNi42YTEuNzMgMS43MyAwIDAgMS0yLjA4IDIuMDdMNS4yOSAxMFptNi4yMy02LjE5QTEyLjcgMTIuNyAwIDAgMSAxNCA3cy0yLjYzIDUuMTQtNi45NSA1LjE0QTYuMSA2LjEgMCAwIDEgNCAxMS4zTDIuMjcgMTNsLTEuNC0xLjM2TDExLjkgMWwxLjIzIDEuMi0xLjYgMS42WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25FeWVTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25FeWVTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTcuMDUgMkMyLjYzIDIgMCA3LjUgMCA3LjVTMi42MyAxMyA3LjA1IDEzQzExLjM4IDEzIDE0IDcuNSAxNCA3LjVTMTEuMzcgMiA3LjA1IDJaTTcgMTEuMTdBMy41OSAzLjU5IDAgMCAxIDMuNSA3LjUgMy42IDMuNiAwIDAgMSA3IDMuODNjMS45NCAwIDMuNSAxLjY1IDMuNSAzLjY3QTMuNTcgMy41NyAwIDAgMSA3IDExLjE3Wm0wLTEuODRjLjk3IDAgMS43NS0uODEgMS43NS0xLjgzUzcuOTcgNS42NyA3IDUuNjdzLTEuNzUuODEtMS43NSAxLjgzUzYuMDMgOS4zMyA3IDkuMzNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkV5ZXMgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRXllc1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjODg4XFxcIiBkPVxcXCJNOS41IDMuNDRBNC41IDQuNSAwIDAgMCAxIDUuNXY4YTQuNSA0LjUgMCAwIDAgOC41IDIuMDZBNC41IDQuNSAwIDAgMCAxOCAxMy41di04YTQuNSA0LjUgMCAwIDAtOC41LTIuMDZaTTkgNS41djhhMy41IDMuNSAwIDEgMS03IDB2LThhMy41IDMuNSAwIDEgMSA3IDBabTEgOHYtOGEzLjUgMy41IDAgMSAxIDcgMHY4YTMuNSAzLjUgMCAxIDEtNyAwWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjOEU4RThFXFxcIiBkPVxcXCJNNS41IDJBMy41IDMuNSAwIDAgMSA5IDUuNXY4YTMuNSAzLjUgMCAxIDEtNyAwdi04QTMuNSAzLjUgMCAwIDEgNS41IDJabTggMEEzLjUgMy41IDAgMCAxIDE3IDUuNXY4YTMuNSAzLjUgMCAxIDEtNyAwdi04QTMuNSAzLjUgMCAwIDEgMTMuNSAyWlxcXCIgb3BhY2l0eT1cXFwiLjFcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIiBkPVxcXCJNNC40NCAxMC40NEExLjUgMS41IDAgMCAxIDcgMTEuNXYyYTEuNSAxLjUgMCAwIDEtMyAwdi0yYzAtLjQuMTYtLjc4LjQ0LTEuMDZabTggMEExLjUgMS41IDAgMCAxIDE1IDExLjV2MmExLjUgMS41IDAgMSAxLTMgMHYtMmMwLS40LjE2LS43OC40NC0xLjA2WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlRnJvd24gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmFjZUZyb3duXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxjaXJjbGUgY3g9XFxcIjlcXFwiIGN5PVxcXCI5XFxcIiByPVxcXCI4XFxcIiBmaWxsPVxcXCIjRkZBQTNCXFxcIiBvcGFjaXR5PVxcXCIuNFxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRjk3MDBcXFwiIGQ9XFxcIk04LjQxIDE3YTEwIDEwIDAgMCAxIC4zOC0xNS43NWMuMS0uMDguMi0uMTYuMjgtLjI1YTggOCAwIDAgMC0uNjYgMTZaXFxcIiBvcGFjaXR5PVxcXCIuM1xcXCIvPjxwYXRoIGZpbGw9XFxcInZhcigtLWJsYWNrLTYwMClcXFwiIGQ9XFxcIk01LjY1IDVjLS4zNyAwLS42NC4zNS0uNjUuN3YuNTVDNSA3LjEgNS42IDcuOTcgNi41IDhjLjkxIDAgMS41Mi0uOSAxLjUtMS43NXYtLjU0YzAtLjM2LS4yNy0uNzItLjY2LS43MUg1LjY1Wm03LjIyIDYuNjRBNC43IDQuNyAwIDAgMCA5LjAyIDEwYTQuNyA0LjcgMCAwIDAtMy44NiAxLjY0Yy0uMjUuMzMtLjI0IDEuMTEgMCAxLjQzLjIyLjMyLjU5LjQyLjk2LjQyIDEuOS0uMTUgMy44LS4xNSA1LjcgMCAuMzguMDUuNzctLjExLjk4LS40LjI1LS4zLjI5LTEuMS4wNy0xLjQ1Wk0xMC42NiA1aDEuN2MuMzMgMCAuNjMuMzMuNjQuN3YuNTVjLjAyLjg1LS41OSAxLjczLTEuNSAxLjc1LS45LS4wMy0xLjUtLjktMS41LTEuNzV2LS41NGMwLS4zNi4yOC0uNzIuNjYtLjcxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlSm95ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZhY2VKb3lcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PGNpcmNsZSBjeD1cXFwiOVxcXCIgY3k9XFxcIjlcXFwiIHI9XFxcIjhcXFwiIGZpbGw9XFxcIiNGRkFBM0JcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGOTcwMFxcXCIgZD1cXFwiTTguNDEgMTdhMTAgMTAgMCAwIDEgLjM4LTE1Ljc1Yy4xLS4wOC4yLS4xNi4yOC0uMjVhOCA4IDAgMCAwLS42NiAxNlpcXFwiIG9wYWNpdHk9XFxcIi4zXFxcIi8+PHBhdGggZmlsbD1cXFwidmFyKC0tYmxhY2stNjAwKVxcXCIgZD1cXFwiTTcuMzUgOEEuNzEuNzEgMCAwIDAgOCA3LjI4di0uOUM4IDUuNSA3LjM1IDQuNiA2LjQ4IDQuNiA1LjU2IDQuNiA1IDUuNSA1IDYuMzl2Ljg5Yy0uMDIuMzYuMjkuNy42NS43MmgxLjdabTUuMDcgMmMtMi4yNy4yNi00LjU1LjI2LTYuODIgMC0uODMtLjEtMS40NS44LTEuMDkgMS41NUE1LjA2IDUuMDYgMCAwIDAgOSAxNGMxLjkyIDAgMy42LS44NyA0LjUyLTIuNDZhMS4xIDEuMSAwIDAgMC0xLjEtMS41NFptLS4wNy0yaC0xLjdhLjcxLjcxIDAgMCAxLS42NS0uNzJ2LS44OWMwLS44OS41OC0xLjc5IDEuNDgtMS43OS44NyAwIDEuNTIuOSAxLjUyIDEuNzh2LjljLjAyLjM2LS4yOS43LS42NS43MlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmFjZU1pbmRCbG93biA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GYWNlTWluZEJsb3duXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiNGRkFBM0JcXFwiIGQ9XFxcIk0xLjA2IDhhOCA4IDAgMSAwIDE1Ljg4IDBIMTZsLTEgLjUtMS0uNWgtMS41bC0xLjUuNUw5IDhsLS41LjUtMS0uNUg2bC0xIC41LS41LS41aC0xbC0uNS41TDIgOGgtLjk0WlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNMy41IDhoLjQxYTExLjUgMTEuNSAwIDAgMCAxMC4zOCA3QTggOCAwIDAgMSAxLjA2IDhIMmwxIC41LjUtLjVaXFxcIiBvcGFjaXR5PVxcXCIuM1xcXCIvPjxwYXRoIGZpbGw9XFxcInZhcigtLWJsYWNrLTYwMClcXFwiIGQ9XFxcIk02LjA3IDE0LjY4YS43LjcgMCAwIDAgLjY3LjI4YzEuNS0uMTYgMy4wMS0uMTYgNC41MSAwYS43MS43MSAwIDAgMCAuNjctLjI4LjcuNyAwIDAgMCAuMDYtLjcyQTMuMjMgMy4yMyAwIDAgMCA5IDEyLjM2YTMuMyAzLjMgMCAwIDAtMyAxLjYuNy43IDAgMCAwIC4wNy43MlpcXFwiLz48cGF0aCBmaWxsPVxcXCIjRjc1RDM3XFxcIiBkPVxcXCJNNy4zNiA0LjM3Yy4xOC4yMy40LjQyLjY4LjU1YTIuMTkgMi4xOSAwIDAgMCAxLjk1IDBjLjI2LS4xMy40OC0uMzEuNjUtLjUzLjE1LjkzLjM2IDIuMjkuMzYgMi42MSAwIC41LTQgLjUtNCAwIDAtLjMyLjIxLTEuNy4zNi0yLjYzWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRkMxNjZcXFwiIGQ9XFxcIk0xNS4zMyAyLjQzYTIuOCAyLjggMCAwIDAtMS43My0uNTNjLS4wNi0uNC0uMjgtLjc2LS42NC0xLjA1LS4zNS0uMjYtLjgtLjQ0LTEuMjctLjUtLjQ5LS4wNi0uOTggMC0xLjQyLjE2QTIuOSAyLjkgMCAwIDAgOC40LjA4Yy0uMzkuMDUtLjc1LjE3LTEuMDYuMzZBMy4wNCAzLjA0IDAgMCAwIDYuMDIuMzdjLS44LjEzLTEuNDguNi0xLjcyIDEuMi0uMTEuMjctLjEzLjU1LS4wNy44My0uNzcuMDctMS40Ny40NS0xLjguOTktLjYuOTguMjYgMi40IDEuNiAyLjYuOTcuMTQgMi4xMy0uMTUgMi42My0uNzkuMjItLjI3LjMzLS41OC4zNC0uOS4yMS4yNi41LjQ3Ljg2LjYyYTIuOTIgMi45MiAwIDAgMCAyLjI4IDBjLjM1LS4xNS42NC0uMzcuODUtLjYzLjA0LjQzLjI3LjgzLjY1IDEuMTRhMi45MyAyLjkzIDAgMCAwIDMuMDMuMjVjLjgxLS40MiAxLjQyLTEuNDIgMS4zMi0yLjE2LS4wNS0uNDEtLjI4LS44LS42Ni0xLjA5WlxcXCIgb3BhY2l0eT1cXFwiLjY3XFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGQzE2NlxcXCIgZD1cXFwiTTcuNCAyYzEuMTkgMCAyLjMtLjIgMy4yNi0uNTUuOSAxLjIgMi44OCAyLjEzIDUuMzIgMi40NEEyLjYxIDIuNjEgMCAwIDEgMTMuMSA2YTIuNjggMi42OCAwIDAgMS0xLjQ1LS41NkExLjY1IDEuNjUgMCAwIDEgMTEgNC4zYy0uMi4yNi0uNS40OC0uODUuNjNhMi45MiAyLjkyIDAgMCAxLTIuMjggMEEyLjIxIDIuMjEgMCAwIDEgNyA0LjNjMCAuMzItLjEyLjYzLS4zNC45LS41LjY0LTEuNjYuOTMtMi42Mi43OC0xLjM1LS4yLTIuMjItMS42LTEuNi0yLjZhMi4zNiAyLjM2IDAgMCAxIDEuNzktLjk4IDEuNCAxLjQgMCAwIDEgLjEtLjg4Yy45LjMgMS45NS40OCAzLjA3LjQ4WlxcXCIgb3BhY2l0eT1cXFwiLjc4XFxcIi8+PHBhdGggZmlsbD1cXFwiI0Y3NUQzN1xcXCIgZD1cXFwiTTExLjA5IDMuNDdhNy40MyA3LjQzIDAgMCAxLTUuNDMuMDVjLTEgLjI3LTIuMTcuNDQtMy40Mi40Ny0uMDYuODguNzEgMS44MyAxLjggMiAuOTYuMTQgMi4xMi0uMTUgMi42Mi0uNzkuMjItLjI3LjMzLS41OC4zNC0uOS4yMS4yNi41LjQ3Ljg2LjYyYTIuOTIgMi45MiAwIDAgMCAyLjI4IDBjLjM1LS4xNS42NC0uMzcuODUtLjYzLjA0LjQzLjI3LjgzLjY1IDEuMTRhMi45MyAyLjkzIDAgMCAwIDMuMDMuMjVjLjM1LS4xOC42Ni0uNDcuOS0uOGExMS41NyAxMS41NyAwIDAgMS00LjQ4LTEuNFpcXFwiIG9wYWNpdHk9XFxcIi41MlxcXCIvPjxjaXJjbGUgY3g9XFxcIjExXFxcIiBjeT1cXFwiMTAuNVxcXCIgcj1cXFwiMS4zNVxcXCIgZmlsbD1cXFwidmFyKC0tYmxhY2stNjAwKVxcXCIvPjxjaXJjbGUgY3g9XFxcIjdcXFwiIGN5PVxcXCIxMC41XFxcIiByPVxcXCIxLjM1XFxcIiBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIi8+PGNpcmNsZSBjeD1cXFwiMy41XFxcIiBjeT1cXFwiNi41XFxcIiByPVxcXCIuNVxcXCIgIG9wYWNpdHk9XFxcIi42XFxcIi8+PGNpcmNsZSBjeD1cXFwiMTQuNVxcXCIgY3k9XFxcIi41XFxcIiByPVxcXCIuNVxcXCIgIG9wYWNpdHk9XFxcIi42XFxcIi8+PGNpcmNsZSBjeD1cXFwiMTQuNVxcXCIgY3k9XFxcIjYuNVxcXCIgcj1cXFwiLjVcXFwiICBvcGFjaXR5PVxcXCIuNlxcXCIvPjxjaXJjbGUgY3g9XFxcIjE2LjVcXFwiIGN5PVxcXCI0LjVcXFwiIHI9XFxcIi41XFxcIiAgb3BhY2l0eT1cXFwiLjZcXFwiLz48Y2lyY2xlIGN4PVxcXCIzLjVcXFwiIGN5PVxcXCIuNVxcXCIgcj1cXFwiLjVcXFwiICBvcGFjaXR5PVxcXCIuNlxcXCIvPjxjaXJjbGUgY3g9XFxcIjEuNVxcXCIgY3k9XFxcIjMuNVxcXCIgcj1cXFwiLjVcXFwiICBvcGFjaXR5PVxcXCIuNlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlTmV1dHJhbCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GYWNlTmV1dHJhbFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48Y2lyY2xlIGN4PVxcXCI5XFxcIiBjeT1cXFwiOVxcXCIgcj1cXFwiOFxcXCIgZmlsbD1cXFwiI0ZGQUEzQlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNOC40MSAxN2ExMCAxMCAwIDAgMSAuMzgtMTUuNzVjLjEtLjA4LjItLjE2LjI4LS4yNWE4IDggMCAwIDAtLjY2IDE2WlxcXCIgb3BhY2l0eT1cXFwiLjNcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIiBkPVxcXCJNNi41IDhhMS41IDEuNSAwIDEgMCAwLTMgMS41IDEuNSAwIDAgMCAwIDNabTUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM1ptLTUuMjUgMmExLjI1IDEuMjUgMCAxIDAgMCAyLjVoNS41YTEuMjUgMS4yNSAwIDEgMCAwLTIuNWgtNS41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlU2FkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZhY2VTYWRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PGNpcmNsZSBjeD1cXFwiOVxcXCIgY3k9XFxcIjlcXFwiIHI9XFxcIjhcXFwiIGZpbGw9XFxcIiNGRkFBM0JcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGOTcwMFxcXCIgZD1cXFwiTTguNDEgMTdhMTAgMTAgMCAwIDEgLjM4LTE1Ljc1Yy4xLS4wOC4yLS4xNi4yOC0uMjVhOCA4IDAgMCAwLS42NiAxNlpcXFwiIG9wYWNpdHk9XFxcIi4zXFxcIi8+PHBhdGggZmlsbD1cXFwidmFyKC0tYmxhY2stNjAwKVxcXCIgZD1cXFwiTTYuNSA4YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzWm02LjA1IDMuMDVhNi41NiA2LjU2IDAgMCAwLTcuMSAwYy0uMzUuMjQtLjUyLjczLS40MiAxLjE2LjE1LjYuODIuOTkgMS4zOC42M2E0Ljc4IDQuNzggMCAwIDEgNS4xMiAwIC45My45MyAwIDAgMCAxLjMyLS4zNGMuMjctLjQ3LjE1LTEuMTQtLjMtMS40NVpNMTMgNi41YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlU2hvY2tlZCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GYWNlU2hvY2tlZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48Y2lyY2xlIGN4PVxcXCI5XFxcIiBjeT1cXFwiOVxcXCIgcj1cXFwiOFxcXCIgZmlsbD1cXFwiI0ZGQUEzQlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNOC40MSAxN2ExMCAxMCAwIDAgMSAuMzgtMTUuNzVjLjEtLjA4LjItLjE2LjI4LS4yNWE4IDggMCAwIDAtLjY2IDE2WlxcXCIgb3BhY2l0eT1cXFwiLjNcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIiBkPVxcXCJNNi41IDcuNTVjLjg2IDAgMS41Ni0uNyAxLjU2LTEuNTVhMS41NiAxLjU2IDAgMCAwLTMuMTIgMGMwIC44Ni43IDEuNTUgMS41NiAxLjU1Wk05IDE0LjYyQTIuNTYgMi41NiAwIDEgMCA5IDkuNWEyLjU2IDIuNTYgMCAwIDAgMCA1LjEyWk0xMy4wNiA2YTEuNTYgMS41NiAwIDAgMS0zLjEyIDAgMS41NiAxLjU2IDAgMCAxIDMuMTIgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmFjZVNtaWxlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZhY2VTbWlsZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48Y2lyY2xlIGN4PVxcXCI5XFxcIiBjeT1cXFwiOVxcXCIgcj1cXFwiOFxcXCIgZmlsbD1cXFwiI0ZGQUEzQlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNOC40MSAxN2ExMCAxMCAwIDAgMSAuMzgtMTUuNzVjLjEtLjA4LjItLjE2LjI4LS4yNWE4IDggMCAwIDAtLjY2IDE2WlxcXCIgb3BhY2l0eT1cXFwiLjNcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIiBkPVxcXCJNNi41IDhhMS41IDEuNSAwIDEgMCAwLTMgMS41IDEuNSAwIDAgMCAwIDNabTIuNiA2YTcuMzcgNy4zNyAwIDAgMS00Ljc5LTIuMDYgMS4xIDEuMSAwIDAgMSAwLTEuNTRjLjQyLS41MSAxLjE1LS41MSAxLjY3LS4xLjMxLjMgMy4yMyAyLjg4IDYuMTQgMGExLjA2IDEuMDYgMCAwIDEgMS41Ny4xIDEuMSAxLjEgMCAwIDEgMCAxLjU0QzEyLjEzIDEzLjM4IDEwLjU2IDE0IDkuMSAxNFpNMTMgNi41YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GYWNlYm9vayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GYWNlYm9va1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjNDE2N0IyXFxcIiBkPVxcXCJNMyAxYTIgMiAwIDAgMC0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjNhMiAyIDAgMCAwLTItMkgzWm02LjU1IDE2di02LjJINy40NlY4LjRoMi4wOVY2LjYxYzAtMi4wNyAxLjI2LTMuMiAzLjEtMy4yLjg4IDAgMS42NC4wNyAxLjg3LjF2Mi4xNmgtMS4yOWMtMSAwLTEuMTkuNDgtMS4xOSAxLjE4VjguNGgyLjM5bC0uMzEgMi40MmgtMi4wOFYxN2gtMi41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GZW1hbGUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmVtYWxlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNCA2YTUgNSAwIDAgMCA0IDQuOVYxM0g2djJoMnYyaDJ2LTJoMnYtMmgtMnYtMi4xQTUgNSAwIDEgMCA0IDZabTggMGEzIDMgMCAxIDEtNiAwIDMgMyAwIDAgMSA2IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZpZ21hID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZpZ21hXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiMwQUNGODNcXFwiIGQ9XFxcIk01LjUgMTdBMi41IDIuNSAwIDAgMCA4IDE0LjVWMTJINS41YTIuNSAyLjUgMCAwIDAgMCA1WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNBMjU5RkZcXFwiIGQ9XFxcIk0zIDguNUEyLjUgMi41IDAgMCAxIDUuNSA2SDh2NUg1LjVBMi41IDIuNSAwIDAgMSAzIDguNVpcXFwiLz48cGF0aCBmaWxsPVxcXCIjRjI0RTFFXFxcIiBkPVxcXCJNMyAyLjVBMi41IDIuNSAwIDAgMSA1LjUgMEg4djVINS41QTIuNSAyLjUgMCAwIDEgMyAyLjVaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGNzI2MlxcXCIgZD1cXFwiTTkgMGgyLjVhMi41IDIuNSAwIDAgMSAwIDVIOVYwWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiMxQUJDRkVcXFwiIGQ9XFxcIk0xNCA4LjVhMi41IDIuNSAwIDEgMS01IDAgMi41IDIuNSAwIDAgMSA1IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZpbHRlciA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GaWx0ZXJcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0yIDRoMTR2MkgyVjRabTIgNGgxMHYySDRWOFptOCA0SDZ2Mmg2di0yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GaXJlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZpcmVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0ZGNjcwMFxcXCIgZD1cXFwiTTEzLjE4IDljLS44LjMzLTEuNDYuNi0xLjk3IDEuM0E5LjIxIDkuMjEgMCAwIDAgMTAgMTMuODlhMTAgMTAgMCAwIDAgMS4zMi0uOCAyLjUzIDIuNTMgMCAwIDEtLjYzIDIuOTFoLjc4YTMgMyAwIDAgMCAxLjY2LS41IDQuMTUgNC4xNSAwIDAgMCAxLjI2LTEuNjFjLjQtLjk2LjQ3LTEuNy41NS0yLjczLjA1LTEuMjQtLjEtMi40OS0uNDYtMy42OGEyIDIgMCAwIDEtLjQuOTEgMi4xIDIuMSAwIDAgMS0uOS42MlpcXFwiIG9wYWNpdHk9XFxcIi42XFxcIi8+PHBhdGggZmlsbD1cXFwiI0VGMkUyRVxcXCIgZD1cXFwiTTEwLjQgMTIuMTFhNy4xIDcuMSAwIDAgMSAuNzgtMS43NmMuMy0uNDcuODEtLjggMS4zNy0xLjA4IDAgMC0uMDUtMy4yNy0xLjU1LTUuMjctMS41LTItMy4zNy0yLjc1LTQuOTUtMi42MSAwIDAgNC4xOSAyLjk0IDEuMTggNS42Ny0yLjE0IDEuOTItMy42NCAzLjgxLTMuMSA1Ljk0YTQuMTQgNC4xNCAwIDAgMCAzLjEgMyA0LjA1IDQuMDUgMCAwIDEgMS4wOC0zLjg5QzkuNDIgMTAuOTIgOCA5Ljc5IDggOS43OWMuNjcuMDIgMS4zLjI4IDEuODEuNzJhMiAyIDAgMCAxIC41OCAxLjZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZpcmVTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GaXJlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk02LjIxIDBjLjY4IDEuODQuMzQgMi44Ny0uNDMgMy42NS0uODIuODktMi4xMyAxLjU1LTMuMDMgMi44NEMxLjU1IDguMjIgMS4zMyAxMi4wMSA1LjcgMTNjLTEuODMtLjk4LTIuMjItMy44Mi0uMjUtNS41OS0uNSAxLjcyLjQ1IDIuODIgMS42MiAyLjQyIDEuMTYtLjQgMS45Mi40NSAxLjkgMS40MS0uMDIuNjYtLjI2IDEuMjItLjk1IDEuNTNBNC43MiA0LjcyIDAgMCAwIDEyIDguMDdjMC0yLjQtMi4xMS0yLjcyLTEuMDQtNC43NC0xLjI3LjExLTEuNy45Ni0xLjU4IDIuMzIuMDguOTItLjg1IDEuNTMtMS41NSAxLjEzLS41Ni0uMzUtLjU1LTEtLjA1LTEuNUM4LjgyIDQuMjIgOS4yNCAxLjgxIDYuMjEuMDFMNi4yIDBoLjAxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25GaXRuZXNzID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZpdG5lc3NcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNS41NyA5Ljg2IDE3IDguNDMgMTUuNTcgNyAxMiAxMC41NyA3LjQzIDYgMTEgMi40MyA5LjU3IDEgOC4xNCAyLjQzIDYuNzEgMSA0LjU3IDMuMTQgMy4xNCAxLjcxIDEuNzEgMy4xNGwxLjQzIDEuNDNMMSA2LjcxbDEuNDMgMS40M0wxIDkuNTcgMi40MyAxMSA2IDcuNDMgMTAuNTcgMTIgNyAxNS41NyA4LjQzIDE3bDEuNDMtMS40M0wxMS4yOSAxN2wyLjE0LTIuMTQgMS40MyAxLjQzIDEuNDMtMS40My0xLjQzLTEuNDNMMTcgMTEuMjlsLTEuNDMtMS40M1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmxhZyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GbGFnXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyAydjE0aDJ2LTZoMy42bC40IDFoNlYzSDkuNUw5IDJIM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmxhZ0dlcm1hbnkgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmxhZ0dlcm1hbnlcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xIDVjMC0xLjEuOS0yIDItMmgxMmEyIDIgMCAwIDEgMiAydjJIMVY1WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNEMDBcXFwiIGQ9XFxcIk0xIDdoMTZ2NEgxelxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRkNFMDBcXFwiIGQ9XFxcIk0xIDExaDE2djJhMiAyIDAgMCAxLTIgMkgzYTIgMiAwIDAgMS0yLTJ2LTJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZsYWdTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25GbGFnU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0yIDJ2MTBoMlY4aDIuNkw3IDloNFYzSDcuNUw3IDJIMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmxhZ1VuaXRlZEtpbmdkb20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmxhZ1VuaXRlZEtpbmdkb21cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHJlY3Qgd2lkdGg9XFxcIjE2XFxcIiBoZWlnaHQ9XFxcIjEyXFxcIiB4PVxcXCIxXFxcIiB5PVxcXCIzXFxcIiBmaWxsPVxcXCIjM0Y1MUI1XFxcIiByeD1cXFwiMlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRUZFRkVcXFwiIGQ9XFxcIk03IDUuMjggNC4wOCAzSDNhMiAyIDAgMCAwLS44OS4yTDcgN0g1LjM5TDEuMzQgMy44OGwuMDItLjAyYTIgMiAwIDAgMC0uMy42NUw0LjMxIDdIMXYxaDdWM0g3djIuMjhaTTEgMTF2LTFoN3Y1SDd2LTMuMTRMMi45IDE1YTIgMiAwIDAgMS0uOC0uMjFMNyAxMUg1LjM4bC00LjAzIDMuMTFBMiAyIDAgMCAxIDEgMTN2LS4zM0wzLjE0IDExSDFabTkgNGgxdi0yLjNsMi45NSAyLjNIMTVhMiAyIDAgMCAwIC45LS4yMkwxMSAxMWgxLjY0bDQuMDIgMy4xYy4xMy0uMTguMjMtLjQuMjgtLjYyTDEzLjcxIDExSDE3di0xaC03djVabTEtMTJ2My4xNUwxNS4xMSAzYy4yOS4wMi41NS4xLjguMjJMMTEgN2gxLjY0bDQuMDItMy4xQTIgMiAwIDAgMSAxNyA1di4zM0wxNC44NiA3SDE3djFoLTdWM2gxWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNFNTM5MzVcXFwiIGQ9XFxcIk0xMCAzSDh2NUgxdjJoN3Y1aDJ2LTVoN1Y4aC03VjNabS03Ljg5LjJhMiAyIDAgMCAwLS43NS42NmwtLjAyLjAyTDUuNCA3SDd2LS4wMkwyLjExIDMuMjFabS0uNzcgMTAuOTFhMiAyIDAgMCAwIC43Ni42OEw3IDExSDUuMzhsLTQuMDMgMy4xMVptMTUuMzItLjAxYTIgMiAwIDAgMS0uNzYuNjhMMTEgMTFoMS42NGw0LjAyIDMuMVpNMTIuNjQgN2w0LjAyLTMuMWEyIDIgMCAwIDAtLjc2LS42OEwxMSA3aDEuNjRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZsYWdVbml0ZWRTdGF0ZXMgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmxhZ1VuaXRlZFN0YXRlc1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cmVjdCB3aWR0aD1cXFwiMTZcXFwiIGhlaWdodD1cXFwiMTJcXFwiIHg9XFxcIjFcXFwiIHk9XFxcIjNcXFwiIGZpbGw9XFxcIiNGRUZFRkVcXFwiIHJ4PVxcXCIyXFxcIi8+PHBhdGggZmlsbD1cXFwiIzBCMzI3Q1xcXCIgZD1cXFwiTTEgNWMwLTEuMS45LTIgMi0yaDZ2NUgxVjVaXFxcIi8+PHBhdGggZmlsbD1cXFwicmVkXFxcIiBkPVxcXCJNMTcgNUg5djFoOFY1Wm0tMi0ySDl2MWg3LjczQTIgMiAwIDAgMCAxNSAzWm0yIDRIOXYxaDhWN1ptMCAydjFIMVY5aDE2Wm0wIDJ2MUgxdi0xaDE2Wm0tLjI3IDNhMiAyIDAgMCAwIC4yNy0uOTlWMTNIMWMwIC4zNi4xLjcuMjcgMWgxNS40NlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uRmxvYXQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRmxvYXRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0FGQUZBRlxcXCIgZD1cXFwiTTExIDZWMS4wOGMtMS4zLS4xNi0yLjctLjE2LTQgMFY2YTE0LjEgMTQuMSAwIDAgMSA0IDBaTTEuMDggN0g2YTE0LjExIDE0LjExIDAgMCAwIDAgNEgxLjA4Yy0uMTYtMS4zLS4xNi0yLjcgMC00Wm0xNS44NCAwSDEyYTE0LjEgMTQuMSAwIDAgMSAwIDRoNC45MmMuMTYtMS4zNC4xNi0yLjY3IDAtNFpNNyAxNi45MlYxMmMxLjMzLjE5IDIuNjcuMTkgNCAwdjQuOTJjLTEuMzQuMTYtMi43LjE2LTQgMFpcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PHBhdGggZmlsbD1cXFwiI0Y3NUQzN1xcXCIgZD1cXFwiTTcgNS41MWMtLjMuMTgtLjYuNC0uODUuNjRhNC40IDQuNCAwIDAgMC0uNjQuODVIMS4yNkE4IDggMCAwIDEgNyAxLjI2djQuMjVaTTEyLjQ1IDdjLS4zNC0uNi0uODUtMS4xLTEuNDUtMS40NVYxLjI2QTggOCAwIDAgMSAxNi43NCA3aC00LjI5Wm0wIDRjLS4zNC42LS44NSAxLjEtMS40NSAxLjQ1djQuMjlBOCA4IDAgMCAwIDE2Ljc0IDExaC00LjI5Wm0tNi45IDBjLjM0LjYuODUgMS4xIDEuNDUgMS40NXY0LjI5QTggOCAwIDAgMSAxLjI2IDExaDQuMjlaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkZvb2QgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRm9vZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTcgN2gxVjFoMnY2YzAgMS43LTEuMzMgMi45LTMgM3Y3SDV2LTdjLTEuNjctLjEtMy0xLjMtMy0zVjFoMnY2aDFWMWgydjZabTUgM1Y0LjJDMTIgMi44IDEzLjggMSAxNiAxdjE2aC0ydi03aC0yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Gb3VyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkZvdXJcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xMS4wMyAxMS45OGgxLjI5djEuODVoLTEuMjlWMTZIOXYtMi4xN0g0LjFMNCAxMi4xMmw0Ljc1LTcuNWgyLjI4djcuMzZabS00Ljc3IDBIOVY3LjdsLS4zOC4yNi0yLjM2IDQuMDJaTTE2LjI1IDE1YTEuMjUgMS4yNSAwIDEgMS0yLjUgMCAxLjI1IDEuMjUgMCAwIDEgMi41IDBaXFxcIiBvcGFjaXR5PVxcXCIuMlxcXCIvPjxwYXRoICBkPVxcXCJNOS4wMyAxMC45OGgxLjI5djEuODVIOS4wM1YxNUg3di0yLjE3SDIuMUwyIDExLjEybDQuNzUtOC4wM2gyLjI4VjExWm0tNC43NyAwSDdWNi42bC0uMzguMjYtMi4zNiA0LjEzWk0xNC4yNSAxNGExLjI1IDEuMjUgMCAxIDEtMi41IDAgMS4yNSAxLjI1IDAgMCAxIDIuNSAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Gb3VyTGcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uRm91ckxnXFxcIiB3aWR0aD1cXFwiMzZcXFwiIGhlaWdodD1cXFwiMzZcXFwiICB2aWV3Qm94PVxcXCIwIDAgMzYgMzZcXFwiPjxwYXRoICBkPVxcXCJNMjIgMjRoMi45OHY0SDIydjMuOTdoLTMuOTJWMjhoLTEwbC0uMi0zLjg4IDkuNy0xNS4xNUgyMlYyNFptLTkuNTItLjE1aDUuNnYtOC42NmwtLjc2LjUyLTQuODQgOC4xNFpNMzEgMzBhMiAyIDAgMSAxLTQgMCAyIDIgMCAwIDEgNCAwWlxcXCIgb3BhY2l0eT1cXFwiLjJcXFwiLz48cGF0aCAgZD1cXFwiTTE5IDIyLjA2aDNWMjZoLTN2NC4xNmgtNC4wNFYyNmgtMTBsLS4yMS0zLjY3IDkuNy0xNi4xN0gxOXYxNS45Wm0tOS42NSAwaDUuNjF2LTguODVsLS43Ny41Mi00Ljg0IDguMzNaTTI5IDI4YTIgMiAwIDEgMS00IDAgMiAyIDAgMCAxIDQgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uR2VhciA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25HZWFyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMTQuNTMgNi4zLjI4LjY3QzE3IDcuNzcgMTcgNy44NiAxNyA4LjEyVjkuOGMwIC4yNiAwIC4zNS0yLjE4IDEuMjJsLS4yNy42NmMuOTggMi4xMS45MSAyLjE4LjczIDIuMzdsLTEuMyAxLjI5aC0uMTVjLS4yIDAtLjkxLS4yNy0yLjE0LS44bC0uNjYuMjdDMTAuMjMgMTcgMTAuMTMgMTcgOS44OCAxN0g4LjJjLS4yNiAwLS4zNSAwLTEuMjEtMi4xOGwtLjY3LS4yN2MtMS44MS44NC0yLjAzLjg0LTIuMS44NGgtLjE0bC0uMTItLjEtMS4xOS0xLjJjLS4xOC0uMTgtLjI0LS4yNS43LTIuNGwtLjI4LS42NUMxIDEwLjI0IDEgMTAuMTQgMSA5Ljg4VjguMmMwLS4yNyAwLS4zNSAyLjE4LTEuMjFsLjI3LS42NmMtLjk4LTIuMTItLjkxLTIuMTktLjcyLTIuMzlsMS4yOC0xLjI4aC4xNmMuMiAwIC45MS4yOCAyLjE0LjhsLjY2LS4yN0M3Ljc3IDEgNy44NyAxIDguMTIgMUg5LjhjLjI2IDAgLjM0IDAgMS4yIDIuMThsLjY3LjI4YzEuODItLjg0IDIuMDMtLjg0IDIuMS0uODRoLjE0bC4xMi4xIDEuMiAxLjE5Yy4xOC4xOC4yNC4yNS0uNyAyLjRabS04LjQgMy45YTMuMSAzLjEgMCAxIDAgNS43My0yLjQgMy4xIDMuMSAwIDAgMC01LjcyIDIuNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uR2VhclNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkdlYXJTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwibTguMTcgMTEuNDItLjM5IDEuNTNhNi4wNyA2LjA3IDAgMCAxLTEuNTggMGwtLjM5LTEuNTNjLS4zOS0uMS0uNzUtLjI2LTEuMS0uNDZsLTEuMzUuOGMtLjQyLS4zMS0uOC0uNjktMS4xMi0xLjFsLjgtMS4zN2MtLjItLjM0LS4zNS0uNy0uNDYtMS4xTDEuMDUgNy44YTYuMDYgNi4wNiAwIDAgMSAwLTEuNTdsMS41My0uNGMuMS0uNC4yNS0uNzYuNDUtMS4xMWwtLjgtMS4zNmMuMzItLjQyLjctLjggMS4xLTEuMTFsMS4zNi44Yy4zNS0uMi43My0uMzYgMS4xMy0uNDdsLjQtMS41M2E2LjA2IDYuMDYgMCAwIDEgMS41NSAwbC40IDEuNTNjLjQuMS43OC4yNiAxLjEzLjQ3bDEuMzYtLjhjLjQxLjMxLjc4LjY4IDEuMSAxLjFsLS44IDEuMzZjLjIuMzUuMzYuNzMuNDYgMS4xM2wxLjUzLjM5YTYuMDYgNi4wNiAwIDAgMSAwIDEuNTdsLTEuNTMuMzljLS4xLjQtLjI3Ljc3LS40NyAxLjExbC44IDEuMzZjLS4zMi40Mi0uNy44LTEuMTEgMS4xMWwtMS4zNi0uOGMtLjM0LjItLjcxLjM1LTEuMS40NVpNNyA5YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uR2l0SHViID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkdpdEh1YlxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMDEwMTAxXFxcIiBkPVxcXCJNOSAxYTggOCAwIDAgMC0yLjUzIDE1LjU5Yy40LjA3LjU1LS4xNy41NS0uMzhsLS4wMS0xLjQ5Yy0yLjAxLjM3LTIuNTMtLjQ5LTIuNjktLjk0LS4wOS0uMjMtLjQ4LS45NC0uODItMS4xMy0uMjgtLjE1LS42OC0uNTItLjAxLS41My42My0uMDEgMS4wOC41OCAxLjIzLjgyLjcyIDEuMjEgMS44Ny44NyAyLjMzLjY2LjA3LS41Mi4yOC0uODcuNTEtMS4wNy0xLjc4LS4yLTMuNjQtLjg5LTMuNjQtMy45NSAwLS44Ny4zMS0xLjU5LjgyLTIuMTUtLjA4LS4yLS4zNi0xLjAyLjA4LTIuMTIgMCAwIC42Ny0uMjEgMi4yLjgyYTcuNDIgNy40MiAwIDAgMSA0IDBjMS41My0xLjA0IDIuMi0uODIgMi4yLS44Mi40NCAxLjEuMTYgMS45Mi4wOCAyLjEyLjUxLjU2LjgyIDEuMjcuODIgMi4xNSAwIDMuMDctMS44NyAzLjc1LTMuNjUgMy45NS4yOS4yNS41NC43My41NCAxLjQ4bC0uMDEgMi4yYzAgLjIxLjE1LjQ2LjU1LjM4QTguMDEgOC4wMSAwIDAgMCA5IDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkdpdExhYiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25HaXRMYWJcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0U2NTMyOFxcXCIgZD1cXFwibTE3IDEwLTEtMy0yLTZjLS4xOS0uMDcuMjEtLjA3IDAgMGwtMiA2SDZMNCAxYy0uMjEtLjA3LjE5LS4wNyAwIDBMMiA3bC0xIDNjLS4wNS0uMTcuMDQuMTEgMCAwbDggNiA4LTZjLjA1LS4xNy0uMDQuMTEgMCAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25HbG9iZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25HbG9iZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkgMUM0LjY0IDEgMSA0LjY0IDEgOWMwIDQuMzYgMy42NCA4IDggOCA0LjM2IDAgOC0zLjY0IDgtOCAwLTQuMzYtMy42NC04LTgtOFpNOCAxNS4zMmE2LjQ2IDYuNDYgMCAwIDEtNC4zLTIuNzQgNi40NiA2LjQ2IDAgMCAxLS45My01LjAxTDcgMTEuNjh2LjhjMCAuODguMTIgMS4zMiAxIDEuMzJ2MS41MlptNS43Mi0yYy0uMi0uNjYtMS0xLjMyLTEuNzItMS4zMmgtMXYtMmMwLS40NC0uNTYtMS0xLTFINlY3aDFjLjQ0IDAgMS0uNTYgMS0xVjVoMmMuODggMCAxLjQtLjcyIDEuNC0xLjZ2LS4zM2E2LjQ1IDYuNDUgMCAwIDEgMy44MyA0LjUxIDYuNDUgNi40NSAwIDAgMS0xLjUxIDUuNzN2LjAxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Hb29nbGUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uR29vZ2xlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM0Mjg1RjRcXFwiIGQ9XFxcIk0xNi41MSA4SDguOTh2M2g0LjNjLS4xOCAxLS43NCAxLjQ4LTEuNiAyLjA0djIuMDFoMi42YTcuOCA3LjggMCAwIDAgMi4zOC01Ljg4YzAtLjU3LS4wNS0uNjYtLjE1LTEuMThaXFxcIi8+PHBhdGggZmlsbD1cXFwiIzM0QTg1M1xcXCIgZD1cXFwiTTguOTggMTdjMi4xNiAwIDMuOTctLjcyIDUuMy0xLjk0bC0yLjYtMmE0LjggNC44IDAgMCAxLTcuMTgtMi41NEgxLjgzdjIuMDdBOCA4IDAgMCAwIDguOTggMTdaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZCQkMwNVxcXCIgZD1cXFwiTTQuNSAxMC41MmE0LjggNC44IDAgMCAxIDAtMy4wNFY1LjQxSDEuODNhOCA4IDAgMCAwIDAgNy4xOGwyLjY3LTIuMDdaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0VBNDMzNVxcXCIgZD1cXFwiTTguOTggNC4xOGMxLjE3IDAgMi4yMy40IDMuMDYgMS4ybDIuMy0yLjNBOCA4IDAgMCAwIDEuODMgNS40TDQuNSA3LjQ5YTQuNzcgNC43NyAwIDAgMSA0LjQ4LTMuM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uR29vZ2xlRHJpdmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uR29vZ2xlRHJpdmVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0ZDQ0Q0OFxcXCIgZD1cXFwiTTEyIDExLjUgNi41IDJIMTJsNS41IDkuNUgxMlpcXFwiLz48cGF0aCBmaWxsPVxcXCIjMEJBMjVFXFxcIiBkPVxcXCJtMy41IDE3LTMtNUw2IDJsMy4xNyA1LjQ0TDMuNSAxN1pcXFwiLz48cGF0aCBmaWxsPVxcXCIjMkE3MUU5XFxcIiBkPVxcXCJtNCAxNyAzLTVoMTAuNUwxNSAxN0g0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25HcmFiYmVyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkdyYWJiZXJcXFwiIHdpZHRoPVxcXCIyNlxcXCIgaGVpZ2h0PVxcXCI1XFxcIiAgdmlld0JveD1cXFwiMCAwIDI2IDVcXFwiPjxwYXRoICBkPVxcXCJNMCAwaDJ2MkgwVjBabTMgM2gydjJIM1YzWm02IDBoMnYySDlWM1ptNiAwaDJ2MmgtMlYzWm02IDBoMnYyaC0yVjNaTTYgMGgydjJINlYwWm02IDBoMnYyaC0yVjBabTYgMGgydjJoLTJWMFptNiAwaDJ2MmgtMlYwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25HcmFiYmVyVmVydGljYWwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uR3JhYmJlclZlcnRpY2FsXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNSAzaDJ2Mkg1VjNabTAgNWgydjJINVY4Wm01IDBoMnYyaC0yVjhabTAgNWgydjJoLTJ2LTJabTAtMTBoMnYyaC0yVjNaTTUgMTNoMnYySDV2LTJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkdyYXBoID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkdyYXBoXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyAxaDEyYzEuMDkgMCAyIC45MSAyIDJ2MTJjMCAxLjA5LS45MSAyLTIgMkgzYy0xLjA5IDAtMi0uOTEtMi0yVjNjMC0xLjEuOS0yIDItMlptMSA4djVoMlY5SDRabTQtNXYxMGgyVjRIOFptNCAzdjdoMlY3aC0yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25HcmlkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkdyaWRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDNoNXY1SDNWM1ptNyAwaDV2NWgtNVYzWm0wIDdoNXY1aC01di01Wm0tNyAwaDV2NUgzdi01WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IYW1idXJnZXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGFtYnVyZ2VyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMiAzaDE0djJIMlYzWm0wIDVoMTR2MkgyVjhabTE0IDVIMnYyaDE0di0yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IYW5kTmljZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IYW5kTmljZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMDdDXFxcIiBkPVxcXCJNOSAxNS43N1YxNWg1di43N0ExLjIzIDEuMjMgMCAwIDEgMTIuNzcgMTdoLTIuNTRBMS4yMyAxLjIzIDAgMCAxIDkgMTUuNzdaXFxcIiBvcGFjaXR5PVxcXCIuN1xcXCIvPjxwYXRoICBkPVxcXCJNNi41IDJjLjI4IDAgLjUuMjIuNS41djFhLjUuNSAwIDAgMS0xIDB2LTFjMC0uMjguMjItLjUuNS0uNVpNMiA2LjVjMC0uMjguMjItLjUuNS0uNWgxYS41LjUgMCAwIDEgMCAxaC0xYS41LjUgMCAwIDEtLjUtLjVabTEuODUtMy4zNWEuNS41IDAgMSAwLS43LjdsMSAxYS41LjUgMCAxIDAgLjctLjdsLTEtMVpcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGQzE2NlxcXCIgZD1cXFwiTTE0LjkgNy41NnYtNS43YS45NC45NCAwIDAgMC0uODgtLjljLS40NS4wMS0uODMuNDQtLjgzLjlWNS40bC0yLjYzLTQuMDVhLjk0Ljk0IDAgMCAwLTEuMTktLjRBLjg2Ljg2IDAgMCAwIDkgMi4wOGwxLjUgMi4xNWExLjQ4IDEuNDggMCAwIDAtMS4zMi4yM2wtMS4yMS45NGMtLjg2LjY2LjI2IDEuOTcgMS4wOSAxLjM3bC41My0uMzJjLjI4LS4xNi42NCAwIC44My4yNGwuODIuODZjLjIyLjIyLjM2LjUyLjQuODQuMDIuMzItLjA2Ljc3LS4yNyAxLS4yMS4yNC0uMzUuNDUtLjY4LjU5LS4yNy4xLS41Ny4xMi0uODUuMDNMNy44IDkuNjdjLjcyLTIuMjUtMS4wOC0yLjQtMS40Ni0xLjk4YTQuNSA0LjUgMCAwIDAtLjYgMi41QzUuODIgMTAuOSA5IDE0IDkgMTRoNXMxLjQ3LTMuMyAxLjUtNC41Yy4wMy0xLjItLjQyLTEuNi0uNi0xLjk0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IYW5kUG9pbnRSaWdodCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IYW5kUG9pbnRSaWdodFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNNiA3czEuNjktLjY3IDIuMjUtLjg2QzguODEgNS45NSAxMSA1IDEyLjUgNWgzYy43NSAwIDEuNS41IDEuNSAxLjVTMTYuMjUgOCAxNS41IDhoLTMuMjhhNS4yOCA1LjI4IDAgMCAxLS4zOSA1LjYxYy0uODkgMS4xLTMuNDYuOTQtNC4xMy44My0uNjYtLjEyLTEuMDQtLjI1LTEuNy0uNDRWN1pcXFwiLz48cGF0aCAgZD1cXFwiTTE2LjE1IDEuMTVhLjUuNSAwIDAgMSAuNy43bC0xIDFhLjUuNSAwIDAgMS0uNy0uN2wxLTFabS0xIDkuN2EuNS41IDAgMCAxIC43LS43bDEgMWEuNS41IDAgMCAxLS43LjdsLTEtMVptLTUuMy05LjdhLjUuNSAwIDEgMC0uNy43bDEgMWEuNS41IDAgMCAwIC43LS43bC0xLTFaXFxcIiBvcGFjaXR5PVxcXCIuNFxcXCIvPjxwYXRoIGZpbGw9XFxcIiMwN0NcXFwiIGQ9XFxcIk0yIDguNUMyIDcuNjcgMi42NyA3IDMuNSA3SDV2N0gzLjVBMS41IDEuNSAwIDAgMSAyIDEyLjV2LTRaXFxcIiBvcGFjaXR5PVxcXCIuN1xcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IYW5kUm9jayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IYW5kUm9ja1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNMTQuMTQgNy44NmMtLjUuMy0uOTcuNjYtMS4zOCAxLjEtLjI3LjI1LS4zNS43LS42Ny40OC0uMjYtLjE5LS4zNS0xLjIxLS4yOC0xLjg1LjA2LS42NC4yLTIuNDUuMjItMy4wNy4wMi0uNjEuMzgtMi4xMS0uNzEtMi4yNi0xLjA5LS4xNS0xLjI0IDEuNjQtMS4zNyAyLjUtLjEzLjg3LS40OSAyLjU0LS40OSAyLjU0YS43OS43OSAwIDAgMC0uOC0uNDRDOC4wOCA2Ljk0IDggNy40NCA4IDcuOWEuNzQuNzQgMCAwIDAtLjc0LS42Ni43OC43OCAwIDAgMC0uNzcuNjZsLTEuNC0zLjE0Yy0uMzgtMS4xNS0yLjA4LS4yNC0xLjU3Ljg5LjQ5IDEuMTguODkgMi40IDEuMiAzLjYzLjE4LjkyLjIyIDEuNTQuMzcgMi40NS4yMy43Mi40MSAxLjcxLjkxIDIuMjdoNWMuNzYtLjY2IDEuNDEtMS40MiAxLjk1LTIuMjcuNi0uOSAxLjMyLTEuNzYgMS44OC0yLjY2LjQ1LS43NC4zMS0xLjY4LS42OS0xLjIxWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiMwN0NcXFwiIGQ9XFxcIk02IDE1Ljc3VjE1aDV2Ljc3YzAgLjY3LS41NSAxLjIzLTEuMjEgMS4yM0g3LjJjLS42NSAwLTEuMi0uNTYtMS4yLTEuMjNaXFxcIiBvcGFjaXR5PVxcXCIuN1xcXCIvPjxwYXRoICBkPVxcXCJNNy41IDBjLjI4IDAgLjUuMjIuNS41djFhLjUuNSAwIDAgMS0xIDB2LTFjMC0uMjguMjItLjUuNS0uNVpNMCA4LjVjMC0uMjguMjItLjUuNS0uNWgxYS41LjUgMCAwIDEgMCAxaC0xYS41LjUgMCAwIDEtLjUtLjVaTTE2LjUgOGEuNS41IDAgMCAwIDAgMWgxYS41LjUgMCAwIDAgMC0xaC0xWk0xLjE1IDIuMTVjLjItLjIuNS0uMi43IDBsMSAxYS41LjUgMCAxIDEtLjcuN2wtMS0xYS41LjUgMCAwIDEgMC0uN1ptMTMuNy43YS41LjUgMCAwIDAtLjctLjdsLTEgMWEuNS41IDAgMCAwIC43LjdsMS0xWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSGFuZHNUb2dldGhlciA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IYW5kc1RvZ2V0aGVyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMy44NSAxLjE1YS41LjUgMCAxIDAtLjcuN2wyIDJhLjUuNSAwIDEgMCAuNy0uN2wtMi0yWk01LjUgNmgtMmEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgMC0xWm0xMCAxaC0yYS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAwIDFabS4zNS01LjE1YS41LjUgMCAwIDAtLjctLjdsLTIgMmEuNS41IDAgMCAwIC43LjdsMi0yWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNOC4yMSAxNi40OWMtLjQ0LjM3LTEuMDIuNTUtMS42LjUxSDV2LTZoMmwxLTcuNjNjMC0uMi4yMy0uMzcuNS0uMzdzLjUuMTcuNS4zN1YxNWEyLjIzIDIuMjMgMCAwIDEtLjc5IDEuNDlabTIuNTggMGMuNDQuMzcgMS4wMi41NSAxLjYuNTFIMTR2LTZoLTJsLTEtNy42M2MwLS4yLS4yMy0uMzctLjUtLjM3cy0uNS4xNy0uNS4zN1YxNWMuMDYuNTguMzQgMS4xMS43OSAxLjQ5WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiMwN0NcXFwiIGQ9XFxcIk0yLjUgMTFjLS44MyAwLTEuNS42Ny0xLjUgMS41djNjMCAuODMuNjcgMS41IDEuNSAxLjVINHYtNkgyLjVabTE0IDBIMTV2NmgxLjVjLjgzIDAgMS41LS42NyAxLjUtMS41di0zYzAtLjgzLS42Ny0xLjUtMS41LTEuNVpcXFwiIG9wYWNpdHk9XFxcIi43XFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkhhbmRzaGFrZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IYW5kc2hha2VcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0ZGQzE2NlxcXCIgZD1cXFwibTEyLjIyIDUuMjctMi40My0uMjVhLjg1Ljg1IDAgMCAwLS41OS4yMmwtMi43OSAyLjRhLjk2Ljk2IDAgMCAwLS4wNSAxLjQyYy4zNi4zNiAxLjA3LjQ4IDEuNTUuMWwyLjI3LTEuODhjLjItLjE1LjQ4LS4xNS42NS4wMy4xNy4xNS4xNy40LS4wMy41NmwtLjYyLjU0TDE0IDEwVjdsLTEuMDItMS4zMmMtLjE2LS4xNS0uNS0uNC0uNzYtLjRaTTE0IDExIDkuNCA5LjA0bC0uODUuNjhjLS44NC43MS0yLjEuNjQtMi44Ny0uMS0uNzMtLjc0LS42Ny0xLjkuMTQtMi42bDIuMi0yLTIuMzQuMjVjLS4zNC4wOC0uNTkuMjYtLjc2LjQxTDQgN3Y1bDEuOS43M2MxLjQzLjY2IDIuNzQuOTggMy44OSAxLjA2IDEuMzggMCAyLjk2LS43MSAzLjg3LTEuNzkuMi0uMjQuMzQtLjQuMzQtMVpcXFwiLz48cGF0aCBmaWxsPVxcXCIjMDdDXFxcIiBkPVxcXCJNMTggOC41YzAtLjgzLS42Ny0xLjUtMS41LTEuNUgxNXY1aDEuNWMuODMgMCAxLjUtLjY3IDEuNS0xLjV2LTJabS0xOCAwQzAgNy42Ny42NyA3IDEuNSA3SDN2NUgxLjVBMS41IDEuNSAwIDAgMSAwIDEwLjV2LTJaXFxcIiBvcGFjaXR5PVxcXCIuN1xcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IZWFkZXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGVhZGVyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTMuNjIgMTAuMDggMTIuMSA0LjY2aC0uMDZsLTEuNSA1LjQyaDMuMDhaTTUuNyAxMS4xMyA0LjUzIDcuMDJoLS4wOGwtMS4xMyA0LjExSDUuN1pNMTcuMzEgMTVoLTIuMjVsLS45NS0zLjI1aC00LjA3TDkuMDkgMTVINi44NGwtLjY5LTIuMzNIMi44N0wyLjE3IDE1SDBsMy4zLTkuNTloMi41bDIuMTcgNi4zNEwxMC44NiAzaDIuNTJsMy45NCAxMmgtLjAxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IZWFsdGggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGVhbHRoXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOSAxIDIgNHY1LjAyQzIgMTMuNjkgNy4zMSAxNyA5IDE3YzEuNjkgMCA3LTMuMzEgNy03Ljk4VjRMOSAxWm0xIDl2M0g4di0zSDVWOGgzVjVoMnYzaDN2MmgtM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSGVhcnQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGVhcnRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0Y3NUQzN1xcXCIgZD1cXFwiTTUuMjUgMmMtMS41IDAtMi4zNS41LTMuMTUgMS4zNkMuNSA1IC41IDguMiAyLjEgMTBsNiA1Ljg3Yy4yLjIuNi4yLjggMGw2LTUuODdjMS42LTEuOCAxLjYtNSAwLTYuNjRBMy44NiAzLjg2IDAgMCAwIDExLjc1IDJDMTAuMiAyIDkgMyA4LjUgMy45IDggMyA2LjUgMiA1LjI1IDJabTguNiA0Ljg1LTIgMmEuNS41IDAgMCAxLS43LS43bDItMmEuNS41IDAgMCAxIC43LjdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkhlbHAgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGVscFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkgMUM0LjY0IDEgMSA0LjY0IDEgOWMwIDQuMzYgMy42NCA4IDggOCA0LjM2IDAgOC0zLjY0IDgtOCAwLTQuMzYtMy42NC04LTgtOFptLjgxIDEyLjEzYy0uMDIuNzEtLjU1IDEuMTUtMS4yNCAxLjEzLS42Ni0uMDItMS4xNy0uNDktMS4xNS0xLjIuMDItLjcyLjU2LTEuMTggMS4yMi0xLjE2LjcuMDMgMS4yLjUxIDEuMTcgMS4yM1pNMTEuNzcgOGMtLjU5LjY2LTEuNzggMS4wOS0yLjA1IDEuOTdhNCA0IDAgMCAwLS4wOS43NWMwIC4wNS0uMDMuMTYtLjE4LjE2SDcuODhjLS4xNiAwLS4xOC0uMS0uMTgtLjE1LjA2LTEuMzUuNjYtMi4yIDEuODMtMi44OC4zOS0uMjkuNy0uNzUuNy0xLjI0LjAxLTEuMjQtMS42NC0xLjgyLTIuMzUtLjcyLS4yMS4zMy0uMTguNzMtLjE4IDEuMUg1Ljc1YzAtMS45NyAxLjAzLTMuMjYgMy4wMy0zLjI2IDEuNzUgMCAzLjQ3Ljg3IDMuNDcgMi44MyAwIC41Ny0uMiAxLjA1LS40OCAxLjQ0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25IZWxwU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSGVscFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNyAxQzMuNzQgMSAxIDMuNzcgMSA3YzAgMy4yNiAyLjc3IDYgNiA2IDMuMjcgMCA2LTIuNzMgNi02cy0yLjczLTYtNi02Wm0xLjA2IDkuMDZjLS4wMi42My0uNDggMS4wMi0xLjEgMS0uNTctLjAyLTEuMDMtLjQzLTEuMDEtMS4wNi4wMi0uNjMuNS0xLjA0IDEuMDgtMS4wMi42LjAyIDEuMDUuNDUgMS4wMyAxLjA4Wm0uNzMtMy4wNy0uNDcuM2MtLjIuMTUtLjM2LjM2LS40NC42YTMuNiAzLjYgMCAwIDAtLjA4LjY1YzAgLjA0LS4wMy4xNC0uMTYuMTRoLTEuNGMtLjE0IDAtLjE2LS4wOS0uMTYtLjEzLS4wMS0uNS4xMS0uOTkuMzYtMS40MkE0LjYgNC42IDAgMCAxIDcuNyA2LjA3Yy4xNS0uMS4yMS0uMjEuMy0uMzMuMTgtLjIuMjgtLjQ3LjI4LS43NC4wMS0uNjctLjUzLTEuMTQtMS4xOC0xLjE0LS45IDAtMS4xOC43LTEuMTggMS40Nkg0LjJjMC0xLjE3LjMxLTEuOTIuOTgtMi4zNmEzLjUgMy41IDAgMCAxIDEuODMtLjQ0Yy44OCAwIDEuNTguMTYgMi4yLjYyLjU4LjQyLjg4IDEuMDIuODggMS44MiAwIC41LS4xNy45LS40MyAxLjI0LS4xNS4yLS40NC40Ny0uODYuNzloLS4wMVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSGlzdG9yeSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IaXN0b3J5XFxcIiB3aWR0aD1cXFwiMTlcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTkgMThcXFwiPjxwYXRoICBkPVxcXCJNMyA5YTggOCAwIDEgMSAzLjczIDYuNzdMOC4yIDE0LjNBNiA2IDAgMSAwIDUgOWwzLjAxLS4wMS00IDQtNC00aDNMMyA5Wm03LTRoMS4wMUwxMSA5LjM2bDMuMjIgMi4xLS42LjkzTDEwIDEwVjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkhvbWUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSG9tZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE1IDEwdjVhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ2LTVIMGw5LTkgOSA5aC0zWm0tOCAxdjZoNHYtNkg3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Ib3Jpem9udGFsUnVsZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Ib3Jpem9udGFsUnVsZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTIgOGgxNHYySDJWOFpcXFwiLz48cGF0aCAgZD1cXFwiTTIgMmgxNHYxSDJWMlptMCAzaDE0djFIMlY1Wm0wIDdoMTR2MUgydi0xWm0wIDNoMTR2MUgydi0xWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSHVuZHJlZCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25IdW5kcmVkXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiNGNzVEMzdcXFwiIGQ9XFxcIk0xNCA4YTMgMyAwIDEgMSAzLTIuMzZBMyAzIDAgMCAxIDE0LjUzIDhIMTRabTAtNWEyIDIgMCAwIDAtMS45MiAxLjU1IDEuOSAxLjkgMCAwIDAtLjAxLjc2IDIgMiAwIDAgMCAzLjU0Ljc4IDEuOSAxLjkgMCAwIDAgLjMyLTEuNDZBMiAyIDAgMCAwIDE0IDNaTTMuNSAxNC4wOGEuNS41IDAgMCAxLS41LS41VjkuMjRsLS43Ny43NmEuNS41IDAgMCAxLS44NS0uMzYuNS41IDAgMCAxIC4xNS0uMzVsMS42Mi0xLjYxYS41MS41MSAwIDAgMSAuNTQtLjExQS41LjUgMCAwIDEgNCA4djUuNTRhLjUuNSAwIDAgMS0uNS41NFptMi45LTMuNThBMyAzIDAgMCAwIDggMTFoLjUzQTMgMyAwIDAgMCAxMSA3LjQ0YTMgMyAwIDEgMC00LjYgMy4wN1ptLjctNC4yN0EyIDIgMCAwIDEgOCA2YTIgMiAwIDAgMSAxLjkyIDIuNCAxLjkgMS45IDAgMCAxLS4zMS42OSAyIDIgMCAwIDEtMy41NC0uNzggMS45IDEuOSAwIDAgMSAuMzItMS40NiAyIDIgMCAwIDEgLjctLjYyWk02LjgxIDE1YS41MS41MSAwIDAgMS0uNDQtLjI2LjUuNSAwIDAgMSAuMjEtLjY4bDkuMTQtNC44N2EuNTEuNTEgMCAwIDEgLjc0LjQuNS41IDAgMCAxLS4yNy40OUw3LjA1IDE1YS41My41MyAwIDAgMS0uMjQgMFptMy40NC43NWMuMS4wNi4yLjEuMzIuMDlhLjUuNSAwIDAgMCAuMjQtLjA2bDQuODEtMi42NGEuNS41IDAgMCAwIC4wNy0uODMuNS41IDAgMCAwLS41Ni0uMDVsLTQuOCAyLjY1YS40OS40OSAwIDAgMC0uMDguODRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkltYWdlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkltYWdlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMSAzYzAtMS4xLjktMiAyLTJoMTJjMS4wOSAwIDIgLjkxIDIgMnYxMmMwIDEuMDktLjkxIDItMiAySDNjLTEuMDkgMC0yLS45MS0yLTJWM1ptNC41IDcuNUwyIDE1aDE0bC00LjUtNkw4IDEzLjUxIDUuNSAxMC41Wm0wLTQuNWExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSW5ib3ggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW5ib3hcXFwiIHdpZHRoPVxcXCIyMFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAyMCAxOFxcXCI+PHBhdGggIGQ9XFxcIk00LjYzIDFoMTAuNTZhMiAyIDAgMCAxIDEuOTQgMS4zNUwyMCAxMC43OVYxNWEyIDIgMCAwIDEtMiAySDJhMiAyIDAgMCAxLTItMnYtNC4yMWwyLjc4LTguNDRjLjI1LS44IDEtMS4zNiAxLjg1LTEuMzVabTguMjggMTIgMi0yaDIuOTVsLTIuNDQtNy4zMmExIDEgMCAwIDAtLjk1LS42OEg1LjM1YTEgMSAwIDAgMC0uOTUuNjhMMS45NiAxMWgyLjk1bDIgMmg2WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbmJveFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkluYm94U21cXFwiIHdpZHRoPVxcXCIxNVxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNSAxNFxcXCI+PHBhdGggIGQ9XFxcIk00IDFoN2MuODggMCAxLjY1LjYgMiAxLjM1TDE1IDh2M2EyIDIgMCAwIDEtMiAySDJhMiAyIDAgMCAxLTItMlY4bDItNS42NUMyLjMgMS42NSAzLjE1IDEgNCAxWm02IDkgMi0yaDFsLTEuNDYtNC42M2MtLjE1LS4zNS0uNTItLjY4LS45NS0uNjhINC41Yy0uNDMgMC0uOC4zLTEgLjY4TDEuOTYgOEgzbDIgMmg1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbmRlbnQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW5kZW50XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTYgNEgyVjJoMTR2MlpNOCA2djJoOFY2SDhabTggMTBIMnYtMmgxNHYyWm0tOC00aDh2LTJIOHYyWk02LjUgOSAyIDV2OGw0LjUtNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSW5kdXN0cnkgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW5kdXN0cnlcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xMCAxNnYtNEg4djRIMlY0YzAtMS4xLjktMiAyLTJoNmMxLjA5IDAgMiAuOTEgMiAydjJoMmMxLjA5IDAgMiAuOTEgMiAydjhoLTZaTTQgNHYyaDJWNEg0Wm0wIDR2MmgyVjhINFptNC00djJoMlY0SDhabTAgNHYyaDJWOEg4Wm0tNCA0djJoMnYtMkg0Wm04IDB2Mmgydi0yaC0yWm0wLTR2MmgyVjhoLTJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkluZHVzdHJ5U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW5kdXN0cnlTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTIgMmExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXYyaDNhMSAxIDAgMCAxIDEgMXY4SDJWMlptMiAxdjJoMlYzSDRabTIgM0g0djJoMlY2Wm0wIDNINHYyaDJWOVptMi0zdjJoMlY2SDhabTIgM0g4djJoMlY5WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbmZvID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkluZm9cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05IDFhOCA4IDAgMSAxIDAgMTZBOCA4IDAgMCAxIDkgMVptMSAxM1Y4SDh2NmgyWm0wLThWNEg4djJoMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uSW5mb1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkluZm9TbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTcgMWE2IDYgMCAxIDEgMCAxMkE2IDYgMCAwIDEgNyAxWm0xIDEwVjZINnY1aDJabTAtNlYzSDZ2MmgyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbnN0YWdyYW0gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW5zdGFncmFtXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcInVybCgjSW5zdGFncmFtYSlcXFwiIGQ9XFxcIk05IDFjLTIuMTcgMC0yLjQ0LjAxLTMuMy4wNWE1LjkgNS45IDAgMCAwLTEuOTQuMzcgMy45NCAzLjk0IDAgMCAwLTIuMzQgMi4zNGMtLjIuNTEtLjMzIDEuMDktLjM3IDEuOTRDMSA2LjU2IDEgNi44MyAxIDlzLjAxIDIuNDQuMDUgMy4zYy4wNC44NS4xNyAxLjQzLjM3IDEuOTRhMy45NCAzLjk0IDAgMCAwIDIuMzQgMi4zNGMuNTEuMiAxLjEuMzMgMS45NC4zNy44Ni4wNCAxLjEzLjA1IDMuMy4wNXMyLjQ0LS4wMSAzLjMtLjA1YTUuOTIgNS45MiAwIDAgMCAxLjk0LS4zNyAzLjk0IDMuOTQgMCAwIDAgMi4zNC0yLjM0Yy4yLS41MS4zMy0xLjEuMzctMS45NC4wNC0uODYuMDUtMS4xMy4wNS0zLjNzLS4wMS0yLjQ0LS4wNS0zLjNhNS45MiA1LjkyIDAgMCAwLS4zNy0xLjk0Yy0uMi0uNTMtLjQ4LS45Ny0uOTItMS40MmEzLjkgMy45IDAgMCAwLTEuNDItLjkyIDUuOSA1LjkgMCAwIDAtMS45NC0uMzdDMTEuNDQgMSAxMS4xNyAxIDkgMVptMCAxLjQyYzIuMTQgMCAyLjM5LjAzIDMuMjMuMDcuNzguMDMgMS4yLjE2IDEuNDkuMjcuMzcuMTUuNjQuMzIuOTIuNi4yOC4yOC40NS41NS42LjkyLjEuMjguMjQuNy4yNyAxLjQ5LjA0Ljg0LjA1IDEuMS4wNSAzLjIzIDAgMi4xNC0uMDEgMi4zOS0uMDUgMy4yM2E0LjUgNC41IDAgMCAxLS4yOCAxLjQ5Yy0uMTUuMzctLjMyLjY0LS42LjkyYTIuNSAyLjUgMCAwIDEtLjkyLjZjLS4yOC4xLS43MS4yNC0xLjUuMjctLjg0LjA0LTEuMDkuMDUtMy4yMy4wNS0yLjE0IDAtMi40LS4wMS0zLjI0LS4wNWE0LjUzIDQuNTMgMCAwIDEtMS40OS0uMjggMi40OCAyLjQ4IDAgMCAxLS45Mi0uNiAyLjQzIDIuNDMgMCAwIDEtLjYtLjkyIDQuNTQgNC41NCAwIDAgMS0uMjgtMS41Yy0uMDMtLjgzLS4wNC0xLjA5LS4wNC0zLjIycy4wMS0yLjQuMDQtMy4yNGMuMDQtLjc4LjE3LTEuMjEuMjgtMS40OS4xNC0uMzguMzItLjY0LjYtLjkyLjI4LS4yOC41NC0uNDYuOTItLjYuMjgtLjExLjctLjI0IDEuNDgtLjI4Ljg1LS4wMyAxLjEzLS4wNCAzLjI3LS4wNFptMCAyLjQ3YTQuMSA0LjEgMCAxIDAgMCA4LjIyIDQuMSA0LjEgMCAwIDAgMC04LjIyWm0wIDYuNzhhMi42NyAyLjY3IDAgMSAxIDAtNS4zNCAyLjY3IDIuNjcgMCAwIDEgMCA1LjM0Wm01LjIzLTYuOTRhLjk2Ljk2IDAgMSAxLTEuOTIgMCAuOTYuOTYgMCAwIDEgMS45MiAwWlxcXCIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD1cXFwiSW5zdGFncmFtYVxcXCIgeDE9XFxcIjEuNVxcXCIgeDI9XFxcIjE3XFxcIiB5MT1cXFwiMVxcXCIgeTI9XFxcIjE3XFxcIiBncmFkaWVudFVuaXRzPVxcXCJ1c2VyU3BhY2VPblVzZVxcXCI+PHN0b3Agc3RvcC1jb2xvcj1cXFwiI0VDMEQyQlxcXCIvPjxzdG9wIG9mZnNldD1cXFwiMVxcXCIgc3RvcC1jb2xvcj1cXFwiI0JGMTc5RlxcXCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbnRlcm5hdGlvbmFsID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkludGVybmF0aW9uYWxcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk01LjggMTFhMTkuODEgMTkuODEgMCAwIDEgMC00SDMuMzRhNS45OSA1Ljk5IDAgMCAwIDAgNEg1LjhabS4xMyAxSDMuOGE2LjAyIDYuMDIgMCAwIDAgMi45IDIuNTRjLS4zNS0uNy0uNi0xLjU2LS43Ny0yLjU0Wm02LjI3LTFoMi40NmE2IDYgMCAwIDAgMC00SDEyLjJhMTkuOCAxOS44IDAgMCAxIDAgNFptLS4xMyAxYTkuMjUgOS4yNSAwIDAgMS0uNzYgMi41NEE2LjAyIDYuMDIgMCAwIDAgMTQuMiAxMmgtMi4xM1pNNy4xIDExaDMuNzhhMTcuMTggMTcuMTggMCAwIDAgMC00SDcuMWExNy4xOCAxNy4xOCAwIDAgMCAwIDRabS4xNiAxYy4zNCAxLjguOTkgMyAxLjczIDNzMS4zOS0xLjIgMS43My0zSDcuMjdaTTUuOTMgNmMuMTctLjk4LjQyLTEuODUuNzYtMi41NEE2LjAyIDYuMDIgMCAwIDAgMy44IDZoMi4xM1ptNi4xNCAwaDIuMTNhNi4wMiA2LjAyIDAgMCAwLTIuOS0yLjU0Yy4zNS43LjYgMS41Ni43NyAyLjU0Wm0tNC44IDBoMy40NkMxMC40IDQuMiA5Ljc0IDMgOSAzUzcuNjEgNC4yIDcuMjcgNlpNOSAxN0E4IDggMCAxIDEgOSAxYTggOCAwIDAgMSAwIDE2WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25JbnRlcm5hdGlvbmFsU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uSW50ZXJuYXRpb25hbFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMTMgN0E2IDYgMCAxIDEgMSA3YTYgNiAwIDAgMSAxMiAwWm0tNS45OSA0LjZjLjE0LS4xNi4zLS40Ni40Ni0uOTEuMTYtLjQ2LjMtMS4wNC40LTEuNjlINi4xM2MuMDkuNjUuMjMgMS4yMy4zOSAxLjY5LjE2LjQ1LjMyLjc1LjQ2LjkxSDdaTTcuOTcgOGExNS4wNCAxNS4wNCAwIDAgMCAwLTJINi4wM2ExNS4wNCAxNS4wNCAwIDAgMCAwIDJoMS45NFptLjkgMWMtLjEyLjk2LS4zNCAxLjgtLjYxIDIuNDNBNC42MSA0LjYxIDAgMCAwIDExLjE0IDlIOC44N1ptMi42Mi0xYTQuNjEgNC42MSAwIDAgMCAwLTJIOC45N2ExNi4wOCAxNi4wOCAwIDAgMSAwIDJoMi41MlpNNS4wMyA4YTE2LjA4IDE2LjA4IDAgMCAxIDAtMkgyLjUxYTQuNjIgNC42MiAwIDAgMCAwIDJoMi41MlpNMi44NiA5YTQuNjEgNC42MSAwIDAgMCAyLjg4IDIuNDNBOS4yOSA5LjI5IDAgMCAxIDUuMTMgOUgyLjg2Wm0zLjY3LTUuNjlBOS44IDkuOCAwIDAgMCA2LjEzIDVoMS43M2E5LjA0IDkuMDQgMCAwIDAtLjM5LTEuNjkgMy4wNyAzLjA3IDAgMCAwLS40Ni0uOTFIN2MtLjE0LjE2LS4zLjQ2LS40Ni45MVpNOC44NyA1aDIuMjdhNC42MSA0LjYxIDAgMCAwLTIuODgtMi40M2MuMjcuNjQuNDkgMS40Ny42MSAyLjQzWk0yLjg2IDVoMi4yN2MuMTItLjk2LjM0LTEuOC42MS0yLjQzQTQuNjEgNC42MSAwIDAgMCAyLjg2IDVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkl0YWxpYyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25JdGFsaWNcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk03IDN2MmgyLjU4bC0zLjY2IDhIM3YyaDh2LTJIOC40MmwzLjY2LThIMTVWM0g3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25KaXJhID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkppcmFcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiIzI2ODRGRlxcXCIgZD1cXFwiTTE2LjM2IDFIOC43OGEzLjQyIDMuNDIgMCAwIDAgMy40MiAzLjQyaDEuNHYxLjM1QTMuNDIgMy40MiAwIDAgMCAxNyA5LjJWMS42NmEuNjYuNjYgMCAwIDAtLjY0LS42NlpcXFwiLz48cGF0aCBmaWxsPVxcXCJ1cmwoI0ppcmFhKVxcXCIgZD1cXFwiTTEyLjMzIDVINC43NGEzLjQyIDMuNDIgMCAwIDAgMy40MiAzLjQzaDEuNHYxLjM1YTMuNDIgMy40MiAwIDAgMCAzLjQyIDMuNDJWNS42NmEuNjYuNjYgMCAwIDAtLjY1LS42NlpcXFwiLz48cGF0aCBmaWxsPVxcXCJ1cmwoI0ppcmFiKVxcXCIgZD1cXFwiTTguMzYgOUguNzZhMy40MiAzLjQyIDAgMCAwIDMuNDQgMy40MmgxLjR2MS4zNWEzLjQyIDMuNDIgMCAwIDAgMy40MiAzLjQzVjkuNjZBLjY2LjY2IDAgMCAwIDguMzYgOVpcXFwiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9XFxcIkppcmFhXFxcIiB4MT1cXFwiMTIuODJcXFwiIHgyPVxcXCI5LjZcXFwiIHkxPVxcXCI1LjAyXFxcIiB5Mj1cXFwiOC4zNFxcXCIgZ3JhZGllbnRVbml0cz1cXFwidXNlclNwYWNlT25Vc2VcXFwiPjxzdG9wIG9mZnNldD1cXFwiLjE4XFxcIiBzdG9wLWNvbG9yPVxcXCIjMDA1MkNDXFxcIi8+PHN0b3Agb2Zmc2V0PVxcXCIxXFxcIiBzdG9wLWNvbG9yPVxcXCIjMjY4NEZGXFxcIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9XFxcIkppcmFiXFxcIiB4MT1cXFwiMzQ2LjY1XFxcIiB4Mj1cXFwiMjEwLjg0XFxcIiB5MT1cXFwiMzI3LjAzXFxcIiB5Mj1cXFwiNDYwLjE3XFxcIiBncmFkaWVudFVuaXRzPVxcXCJ1c2VyU3BhY2VPblVzZVxcXCI+PHN0b3Agb2Zmc2V0PVxcXCIuMThcXFwiIHN0b3AtY29sb3I9XFxcIiMwMDUyQ0NcXFwiLz48c3RvcCBvZmZzZXQ9XFxcIjFcXFwiIHN0b3AtY29sb3I9XFxcIiMyNjg0RkZcXFwiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uS2V5ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbktleVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE3IDUuNWE0LjUgNC41IDAgMCAxLTUuOCA0LjNMMTAgMTFIOHYySDZ2Mkg0djJIMXYtMy41bDcuMS03LjFBNC41MiA0LjUyIDAgMCAxIDEyLjUgMSA0LjUgNC41IDAgMCAxIDE3IDUuNVptLTQgMWExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uS2V5U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uS2V5U21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0xMyA0LjVhMy41IDMuNSAwIDAgMS00LjUgMy4zNkw3LjUgOUg2djJINHYySDF2LTIuNWw1LjA1LTUuMzlBMy41IDMuNSAwIDEgMSAxMyA0LjVabS0zIC44OGExLjM3IDEuMzcgMCAxIDAgMC0yLjc1IDEuMzcgMS4zNyAwIDAgMCAwIDIuNzVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkxhcHRvcCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25MYXB0b3BcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAyNCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDRjMC0xLjEuOS0yIDItMmgxNGEyIDIgMCAwIDEgMiAydjEwaDN2Mkgwdi0yaDNWNFptMTYgMEg1djloMTRWNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTGF1bmNoUGFkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxhdW5jaFBhZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRTk1MzFGXFxcIiBkPVxcXCJNMCAwaDE4djE4SDB6XFxcIi8+PHBhdGggZmlsbD1cXFwidmFyKC0td2hpdGUpXFxcIiBkPVxcXCJNMy4yNCA2LjQ4YTUuMTUgNS4xNSAwIDAgMCA1LjMyLjQ1IDUuMjUgNS4yNSAwIDAgMCAzLjIyLTQuMjVsLTEuNDQtLjFjLS4xIDEuMy0xLjA2IDIuNDUtMi4zNyAzLjA0LTEuMzEuNTktMi43OS41NS0zLjgzLS4yN2wtLjkgMS4xM1ptNi4xNiAzLjU1YTEuMDMgMS4wMyAwIDEgMCAwLTIuMDYgMS4wMyAxLjAzIDAgMCAwIDAgMi4wNlptMy44MyA0LjEyYTUuNyA1LjcgMCAwIDEgMS4zLTkuMzRsLjY3IDEuMjdhNC4yNiA0LjI2IDAgMCAwLTEgN2wtLjk3IDEuMDdabS0zLjA0IDEuMzNhNS44OCA1Ljg4IDAgMCAwLTItNC44OSA1LjQ3IDUuNDcgMCAwIDAtNS4yNy0uOThMMy4zNSAxMWE0LjAzIDQuMDMgMCAwIDEgMy45LjcgNC40NCA0LjQ0IDAgMCAxIDEuNSAzLjdsMS40NC4wOVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTGlnaHRidWxiID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxpZ2h0YnVsYlxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE1IDYuMzhBNi40OCA2LjQ4IDAgMCAwIDcuNzguMDRoLS4wMkE2LjQ5IDYuNDkgMCAwIDAgMi4wNSA1LjZhNi4zMSA2LjMxIDAgMCAwIDIuMzkgNS43NWMuNDkuMzkuNzYuOTMuNzYgMS41di4yNGMwIDEuMDcuODkgMS45IDEuOTIgMS45aDIuNzVjMS4wNCAwIDEuOTItLjgzIDEuOTItMS45di0uMmMwLS42LjI2LTEuMTUuNy0xLjQ4QTYuMzIgNi4zMiAwIDAgMCAxNSA2LjM3Wk00LjAzIDUuODVBNC40OSA0LjQ5IDAgMCAxIDggMi4wMmE0LjQ4IDQuNDggMCAwIDEgNSA0LjM2IDQuMyA0LjMgMCAwIDEtMS43MiAzLjQ0Yy0uOTguNzQtMS41IDEuOS0xLjUgMy4wOHYuMUg3LjJ2LS4xNGMwLTEuMjMtLjYtMi4zNC0xLjUzLTMuMDdhNC4zMiA0LjMyIDAgMCAxLTEuNjQtMy45NFpNMTAgMThhMSAxIDAgMCAwIDAtMkg3YTEgMSAwIDEgMCAwIDJoM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTGlnaHRidWxiQWx0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxpZ2h0YnVsYkFsdFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjOUZBNkFEXFxcIiBkPVxcXCJNOCAxNGExIDEgMCAxIDAgMCAyaDJhMSAxIDAgMSAwIDAtMkg4WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRkMxNjZcXFwiIGQ9XFxcIk04LjQ1IDIuMDNDMTEuMzggMS43NCAxNCAzLjg4IDE0IDYuNzNjMCAxLjU0LS43OCAyLjg4LTEuOTQgMy43NGgtLjAxYS45My45MyAwIDAgMC0uMzguNzd2LjE0YzAgLjk2LS44MiAxLjYyLTEuNjcgMS42Mkg4Yy0uODUgMC0xLjY3LS42Ni0xLjY3LTEuNjJ2LS4xN2ExIDEgMCAwIDAtLjQzLS43OCA0LjYgNC42IDAgMCAxLTEuODYtNC4yOCA0LjkgNC45IDAgMCAxIDQuNC00LjEyaC4wMVpNNS41IDdhLjUuNSAwIDAgMCAxIDBBMi41IDIuNSAwIDAgMSA5IDQuNWEuNS41IDAgMCAwIDAtMUEzLjUgMy41IDAgMCAwIDUuNSA3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25MaWdodGJ1bGJTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25MaWdodGJ1bGJTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTEyIDQuNzNDMTIgMS44OCA5LjM4LS4yNiA2LjQ1LjAzaC0uMDFhNC45IDQuOSAwIDAgMC00LjQgNC4xMkE0LjYgNC42IDAgMCAwIDMuOSA4LjQzYTEgMSAwIDAgMSAuNDMuNzh2LjE3YzAgLjk2LjgyIDEuNjIgMS42NyAxLjYyaDJjLjg1IDAgMS42Ni0uNjYgMS42Ni0xLjYydi0uMTRjMC0uMzEuMTUtLjYuMzktLjc3QTQuNjMgNC42MyAwIDAgMCAxMiA0LjczWk00LjAyIDQuNGMuMTUtMS4xOSAxLjIyLTIuMjIgMi42My0yLjM4QzguNTUgMS44NCAxMCAzLjIgMTAgNC43MmMwIC44NS0uNDIgMS42Mi0xLjEyIDIuMTNBMi45MyAyLjkzIDAgMCAwIDcuNjggOUg2LjMxQTMgMyAwIDAgMCA1LjEgNi44MyAyLjYgMi42IDAgMCAxIDQuMDIgNC40Wk02IDEyYTEgMSAwIDEgMCAwIDJoMmExIDEgMCAxIDAgMC0ySDZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkxpbmsgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTGlua1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTcuMjIgMTEuODNhNiA2IDAgMCAwIDEuNjIuODVsLjYxLTEuOGE0LjEgNC4xIDAgMSAxIDQuMDQtLjhsMS4yNiAxLjQyYTYgNiAwIDEgMC03LjUzLjMzWm0zLjQzLTUuNmE2IDYgMCAwIDAtMS42LS44N0w4LjQgNy4xNWE0LjEgNC4xIDAgMSAxLTQuMDUuNzNMMy4xMiA2LjQzYTYgNiAwIDEgMCA3LjUzLS4yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25MaW5rU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTGlua1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNi4wMSA2Ljc3Yy4yNy41Mi43Ljk1IDEuMjIgMS4yMkw2LjQ2IDkuNWE0LjUgNC41IDAgMSAxIDUuMjItLjgzbC0xLjItMS4yQTIuNzkgMi43OSAwIDEgMCA2IDYuNzZabS43Ni0uNzYuNzctMS41MmE0LjUgNC41IDAgMSAxLTUuMjIuODNsMS4yIDEuMmEyLjc5IDIuNzkgMCAxIDAgMy4yNS0uNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTGlua2VkSW4gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTGlua2VkSW5cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiIzExNzhCM1xcXCIgZD1cXFwiTTE1IDFhMiAyIDAgMCAxIDIgMS44NVYxNWEyIDIgMCAwIDEtMS44NSAySDNhMiAyIDAgMCAxLTItMS44NVYzYTIgMiAwIDAgMSAxLjg1LTJIMTVabS0zLjIxIDUuOGMtMS4wOSAwLTEuODMuNTYtMi4xOSAxLjEzbC0uMDYuMTFoLS4wM1Y3SDcuMjN2Ny42M0g5LjZ2LTMuNzdjMC0xIC4yLTEuOTYgMS40My0xLjk2IDEuMTYgMCAxLjIzIDEuMDQgMS4yMyAxLjl2My44M2gyLjM3di00LjE5YzAtMi4wNS0uNDQtMy42My0yLjg0LTMuNjNaTTUuNzUgN0gzLjM3djcuNjNoMi4zOFY3Wm0tMS4yLTMuOGExLjM4IDEuMzggMCAxIDAgMCAyLjc1IDEuMzggMS4zOCAwIDAgMCAwLTIuNzVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbkxvY2F0aW9uID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxvY2F0aW9uXFxcIiB3aWR0aD1cXFwiMTdcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTcgMThcXFwiPjxwYXRoICBkPVxcXCJNMiA2LjM4QzIgOS45MSA4LjEgMTcuNyA4LjEgMTcuN2MuMjIuMjkuNTguMjkuOCAwIDAgMCA2LjEtNy44IDYuMS0xMS4zMkE2LjQ0IDYuNDQgMCAwIDAgOC41IDAgNi40NCA2LjQ0IDAgMCAwIDIgNi4zOFptOS4yNS4xMmEyLjc1IDIuNzUgMCAxIDEtNS41IDAgMi43NSAyLjc1IDAgMCAxIDUuNSAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Mb2NhdGlvblNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxvY2F0aW9uU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0xMSA1di4zNmMwIDIuMjItMi45IDYuMzMtMy43NiA3LjUxYS4yOS4yOSAwIDAgMS0uNDggMEM1LjkgMTEuNyAzIDcuNTcgMyA1LjM2VjVhNCA0IDAgMSAxIDggMFpNNyA3YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTG9jayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Mb2NrXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTYgOWEyIDIgMCAwIDAtMi0yVjZBNSA1IDAgMCAwIDQgNnYxYTIgMiAwIDAgMC0yIDJ2NmMwIDEuMS45IDIgMiAyaDEwYTIgMiAwIDAgMCAyLTJWOVptLTcgNWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRabTMuMS03SDUuOVY2YTMuMSAzLjEgMCAwIDEgNi4yIDB2MVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTG9ja1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbkxvY2tTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTMuNSA1QzIuNjcgNSAyIDUuNjcgMiA2LjV2NWMwIC44My42NyAxLjUgMS41IDEuNWg3Yy44MyAwIDEuNS0uNjcgMS41LTEuNXYtNWMwLS44My0uNjctMS41LTEuNS0xLjV2LS41YTMuNSAzLjUgMCAxIDAtNyAwVjVabTEuNCAwdi0uNWEyLjEgMi4xIDAgMSAxIDQuMiAwVjVINC45Wm0zLjYgNGExLjUgMS41IDAgMSAxLTMgMCAxLjUgMS41IDAgMCAxIDMgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWFpbCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25NYWlsXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMSA2IDggNSA4LTVWNEw5IDkgMSA0YzAtMS4xLjktMiAyLTJoMTJjMS4wOSAwIDIgLjkxIDIgMnYxMGMwIDEuMDktLjkxIDItMiAySDNjLTEuMDkgMC0yLS45MS0yLTJWNlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWFpbE9wZW4gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTWFpbE9wZW5cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNi42IDQuNjVhMSAxIDAgMCAxIDAgMS43TDkgMTEgMS40IDYuMzVhMSAxIDAgMCAxIDAtMS43TDkgMGw3LjYgNC42NVpNMSA4bDggNSA4LTV2OGMwIDEuMDktLjkxIDItMiAySDNjLTEuMDkgMC0yLS45MS0yLTJWOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWFpbE9wZW5TbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25NYWlsT3BlblNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNyA5IDEuNTIgNS44N2ExIDEgMCAwIDEgMC0xLjc0TDcgMWw1LjQ4IDMuMTNhMSAxIDAgMCAxIDAgMS43NEw3IDlaTTEgNy4xNGw2IDMuNiA2LTMuNnY1LjQzYzAgLjgtLjcxIDEuNDMtMS41IDEuNDNoLTljLS43OSAwLTEuNS0uNjItMS41LTEuNDNWNy4xNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWFpbFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1haWxTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwibTcgOC43NC02LTMuNnY1LjQzYzAgLjguNzEgMS40MyAxLjUgMS40M2g5Yy43OSAwIDEuNS0uNjIgMS41LTEuNDNWNS4xNGwtNiAzLjZaTTcgN2w2LTMuNTdjMC0uOC0uNzEtMS40My0xLjUtMS40M2gtOUMxLjY4IDIgMSAyLjY0IDEgMy40M0w3IDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1hcmtkb3duID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1hcmtkb3duXFxcIiB3aWR0aD1cXFwiMjFcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMjEgMThcXFwiPjxwYXRoICBkPVxcXCJNMjEgMTRhMiAyIDAgMCAxLTIgMkgyYTIgMiAwIDAgMS0yLTJWNGMwLTEuMS45LTIgMi0yaDE3YTIgMiAwIDAgMSAyIDJ2MTBaTTQuMyAxM1Y4LjM1bDIuMiAyLjg4IDIuMi0yLjg4VjEzSDExVjVIOC43TDYuNSA3Ljg4IDQuMyA1SDJ2OGgyLjNabTE1LjItNEgxN1Y1aC0ydjRoLTIuNWwzLjUgNC41TDE5LjUgOVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWFya2Rvd25QcmV2aWV3ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1hcmtkb3duUHJldmlld1xcXCIgd2lkdGg9XFxcIjIxXFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDIxIDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMEMwRDBFXFxcIiBzdHJva2U9XFxcIiMwQzBEMEVcXFwiIGQ9XFxcIk02Ljc3IDguN2guNVY3LjA0bC4zLjQyLjQuNTguNDEtLjU4LjMtLjQydjEuNjhoMi4yN1Y1Ljc0bC4zLjQgMS45MiAyLjY1LjQuNTYuNDEtLjU2IDEuOTItMi42NC41OC0uOGgtMS44NVYzaC0yLjF2Mi4zNWgtMS41OFYzSDguOTJsLS4xNS4yMS0uOCAxLjEyLS44LTEuMTJMNy4wNCAzSDV2NS43aDEuNzdaTTEuNSAxMS41aDE4djFoLTE4di0xWm0wIDNoMTh2MWgtMTh2LTFaTS41IDRjMC0uODMuNjctMS41IDEuNS0xLjVoMTdjLjgzIDAgMS41LjY3IDEuNSAxLjV2NGMwIC44My0uNjcgMS41LTEuNSAxLjVIMkExLjUgMS41IDAgMCAxIC41IDhWNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWVkYWwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTWVkYWxcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0ZGQzE2NlxcXCIgZD1cXFwiTTkgMTdjLTIuMiAwLTQtMS41Ny00LTMuNVM2LjggMTAgOSAxMHM0IDEuNTcgNCAzLjVTMTEuMiAxNyA5IDE3Wm0wLTEuOWMxLjIxIDAgMi4xLS43OCAyLjEtMS42IDAtLjgyLS44OS0xLjYtMi4xLTEuNnMtMi4xLjc4LTIuMSAxLjZjMCAuODIuODkgMS42IDIuMSAxLjZaXFxcIi8+PHBhdGggZmlsbD1cXFwiIzNGM0YzRlxcXCIgZD1cXFwiTTYuOSA5LjQyYTUuNTMgNS41MyAwIDAgMSAzLjUtLjI0TDQuNSAxSDEuNDdhLjI1LjI1IDAgMCAwLS4yLjM5TDYuOSA5LjQyWm0yLjg4LTMuMjZMMTEuNiA4LjdoLjAxbDUuMTEtNy4zYS4yNS4yNSAwIDAgMC0uMi0uNEgxMy41TDkuNzggNi4xNlpcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1lcmdlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1lcmdlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNS40NSAzSDF2MmgzLjU1bDMuNiA0LTMuNiA0SDF2Mmg0LjQ1bDQuNS01SDEzdjNsNC00LTQtNHYzSDkuOTVsLTQuNS01WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25NZXNzYWdlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1lc3NhZ2VcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk01IDdhMSAxIDAgMCAxIDEtMWg2YTEgMSAwIDEgMSAwIDJINmExIDEgMCAwIDEtMS0xWm0xIDJhMSAxIDAgMSAwIDAgMmg0YTEgMSAwIDEgMCAwLTJINlptLTUgOVY0YzAtMS4xLjktMiAyLTJoMTJjMS4wOSAwIDIgLjkxIDIgMnY5YzAgMS4wOS0uOTEgMi0yIDJINC41TDEgMThabTIuNzYtNWgxMS4yM2EuMDYuMDYgMCAwIDAgMC0uMDFIMTVWNGEuMDYuMDYgMCAwIDAtLjAxLS4wMUgzdjkuNjVsLjc2LS42NVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWVzc2FnZUNvbXBvc2UgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTWVzc2FnZUNvbXBvc2VcXFwiIHdpZHRoPVxcXCIyMFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAyMCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0zIDEzLjY1Ljc2LS42NWg1LjUzbC0yIDJINC41TDEgMThWNGMwLTEuMS45LTIgMi0yaDExYzEuMDkgMCAyIC45MSAyIDJ2Mi4yN2wtLjAyLjAyTDE0IDguMjdWNC4wMUwzIDR2OS42NVptMTYuMjMtNC44MkwxOC4xIDcuNzFhLjUuNSAwIDAgMC0uNyAwbC0xLjIgMS4xNSAxLjg4IDEuODQgMS4xNC0xLjE2YS41LjUgMCAwIDAgMC0uNzFabS0zLjg2Ljg3TDkgMTYuMTFWMThoMS44OGw2LjM3LTYuNDMtMS44OC0xLjg4Wk01IDdhMSAxIDAgMCAxIDEtMWg1YTEgMSAwIDEgMSAwIDJINmExIDEgMCAwIDEtMS0xWm0xIDJhMSAxIDAgMSAwIDAgMmgzYTEgMSAwIDEgMCAwLTJINlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWljcm9zY29wZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25NaWNyb3Njb3BlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiNENkQ5RENcXFwiIGQ9XFxcIk0xMy41IDkuNUEzLjUgMy41IDAgMCAwIDEwIDZWNGE1LjUgNS41IDAgMCAxIDIuNiAxMC4zNWMuMjMuODcuNCAxLjY1LjQgMS42NUg4bC4yNC0xSDVhMSAxIDAgMSAxIDAtMmgzLjg0Yy4yMi0uNTcuNDUtMSAuNjYtMWgyYy4xMyAwIC4yNy4xNy40MS40M0EzLjUgMy41IDAgMCAwIDEzLjUgOS41WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiM5RkE2QURcXFwiIGQ9XFxcIk0yIDE3YTEgMSAwIDAgMSAxLTFoMTJhMSAxIDAgMCAxIDEgMUgyWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNENkQ5RENcXFwiIGQ9XFxcIk01IDRhMSAxIDAgMCAxIDEtMWgyYTEgMSAwIDAgMSAxIDF2NGExIDEgMCAwIDEtMSAxSDZhMSAxIDAgMCAxLTEtMVY0WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiM5RkE2QURcXFwiIGQ9XFxcIk02IDFoMnYySDZWMVptMCA4aDJ2Mkg2VjlaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1pY3Jvc29mdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25NaWNyb3NvZnRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiIzAwQTRFRlxcXCIgZD1cXFwiTTkgMThIMXYtOGg4djhaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0ZGQjkwMlxcXCIgZD1cXFwiTTE4IDE4aC04di04aDh2OFpcXFwiLz48cGF0aCBmaWxsPVxcXCIjRjI1QzMzXFxcIiBkPVxcXCJNOSA5SDFWMWg4djhaXFxcIi8+PHBhdGggZmlsbD1cXFwiIzdGQkEwMFxcXCIgZD1cXFwiTTE4IDloLThWMWg4djhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1pY3Jvc29mdFRlYW1zID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1pY3Jvc29mdFRlYW1zXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM1MTU4Q0NcXFwiIGQ9XFxcIk0xNS4yNSA2LjI1YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpNMTcuMiA3SDEzdjUuNWEyLjUgMi41IDAgMCAwIDUgMFY3LjhhLjguOCAwIDAgMC0uOC0uOFpcXFwiLz48cGF0aCBmaWxsPVxcXCIjN0I4MkVBXFxcIiBkPVxcXCJNMTIgMy41YTIuNSAyLjUgMCAwIDEtMiAyLjQ1VjVhMiAyIDAgMCAwLTItMmgtLjk1YTIuNSAyLjUgMCAwIDEgNC45NS41Wk05LjUgMTdhNC41IDQuNSAwIDAgMS00LjI0LTNIOGEyIDIgMCAwIDAgMi0yVjdoM2ExIDEgMCAwIDEgMSAxdjQuNUE0LjUgNC41IDAgMCAxIDkuNSAxN1pcXFwiLz48cGF0aCBmaWxsPVxcXCIjNEQ1NEJDXFxcIiBkPVxcXCJNMSA0YTEgMSAwIDAgMC0xIDF2N2ExIDEgMCAwIDAgMSAxaDdhMSAxIDAgMCAwIDEtMVY1YTEgMSAwIDAgMC0xLTFIMVptMSAyaDV2MUg1djRINFY3SDJWNlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTWlncmF0ZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25NaWdyYXRlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTQgM0g1VjFoOWEyIDIgMCAwIDEgMiAydjEyYTIgMiAwIDAgMS0yIDJINXYtMmg5VjNaTTIgMTBWOGg1VjVsNCA0LTQgNHYtM0gyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25NaWxlc3RvbmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uTWlsZXN0b25lXFxcIiB3aWR0aD1cXFwiMTdcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTcgMThcXFwiPjxwYXRoICBkPVxcXCJNOSAzSDdWMWgydjJabTQgNUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDEwbDIgMi0yIDJaTTkgNUg3djJoMlY1Wk03IDE3aDJWOUg3djhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1pbnVzID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1pbnVzXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNCA4djJoMTBWOEg0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25NaW51c1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1pbnVzU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0zIDZ2Mmg4VjZIM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uTW9kZXJhdG9yID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1vZGVyYXRvclxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTguNC43OGMuMzMtLjQzLjg3LS40MyAxLjIgMGw1LjggNy40NGMuMzMuNDMuMzMgMS4xMyAwIDEuNTZsLTUuOCA3LjQ0Yy0uMzMuNDMtLjg3LjQzLTEuMiAwTDIuNiA5Ljc4YTEuMzQgMS4zNCAwIDAgMSAwLTEuNTZMOC40Ljc4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Nb2RlcmF0b3JTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Nb2RlcmF0b3JTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTYuNTMuNzVjLjI1LS4zMy42Ny0uMzMuOTMgMGw0LjQyIDUuNjZjLjI2LjMyLjI1Ljg2IDAgMS4xOWwtNC40MiA1LjY2Yy0uMjYuMzMtLjY4LjMyLS45MyAwTDIuMSA3LjZhMS4wMiAxLjAyIDAgMCAxIDAtMS4yTDYuNTMuNzZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk1vbmV5ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk1vbmV5XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOS4yNSA4LjEzYy0xLjc2LS40Ni0yLjMzLS45My0yLjMzLTEuNjcgMC0uODUuNzktMS40NCAyLjEtMS40NCAxLjM4IDAgMS45NS45OSAyIDEuOTZoMS43MWEzLjc0IDMuNzQgMCAwIDAtMi43Mi0zLjMyTDEwIDJIOHYxLjZjLTEuNS4zMi0yLjk4IDEuMzgtMi45OCAyLjg3IDAgMS44IDEuNiAyLjY5IDMuNzYgMy4yIDEuOTQuNDcgMi4zMyAxLjE1IDIuMzMgMS44NyAwIC41NC0uMzggMS40LTIuMSAxLjQtMS42IDAtMi4yMi0xLjAzLTIuMy0xLjk0SDVjLjEgMS43IDEuNTMgMi45NiAzLjAxIDMuMjdMOCAxNmgydi0xLjcxYzEuNTEtLjI5IDMtMS4yIDMtMi43OSAwLTIuMi0yLTIuOTItMy43NS0zLjM3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Ob3RJbnRlcmVzdGVkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk5vdEludGVyZXN0ZWRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05IDE3QTggOCAwIDEgMSA5IDFhOCA4IDAgMCAxIDAgMTZabTAtMmE2IDYgMCAwIDAgNC44OS05LjQ4TDUuNTIgMTMuOUM2LjUgMTQuNTkgNy43IDE1IDkgMTVabS00Ljg5LTIuNTIgOC4zNy04LjM3YTYgNiAwIDAgMC04LjM3IDguMzdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk5vdEludGVyZXN0ZWRTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Ob3RJbnRlcmVzdGVkU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0xMyA3QTYgNiAwIDEgMSAxIDdhNiA2IDAgMCAxIDEyIDBabS0yIDBjMC0uNzQtLjItMS40NC0uNTYtMi4wM2wtNS40NyA1LjQ3QTQgNCAwIDAgMCAxMSA3Wk0zLjU2IDkuMDNsNS40Ny01LjQ3YTQgNCAwIDAgMC01LjQ4IDUuNDhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk9rdGEgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uT2t0YVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMDA3REMxXFxcIiBkPVxcXCJNOSAxN0E4IDggMCAxIDAgOSAxYTggOCAwIDAgMCAwIDE2Wm0wLTRhNCA0IDAgMSAxIDAtOCA0IDQgMCAwIDEgMCA4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25PbmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uT25lXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTEgMTZIOVY2Ljk3TDYgNy44VjUuNTZMMTAuNSA0aC41djEyWm01LjI1LTFhMS4yNSAxLjI1IDAgMSAxLTIuNSAwIDEuMjUgMS4yNSAwIDAgMSAyLjUgMFpcXFwiIG9wYWNpdHk9XFxcIi4yXFxcIi8+PHBhdGggIGQ9XFxcIk05IDE1SDdWNS45N0w0IDYuOFY0LjU2TDguNSAzSDl2MTJabTUuMjUtMWExLjI1IDEuMjUgMCAxIDEtMi41IDAgMS4yNSAxLjI1IDAgMCAxIDIuNSAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25PbmVMZyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25PbmVMZ1xcXCIgd2lkdGg9XFxcIjM2XFxcIiBoZWlnaHQ9XFxcIjM2XFxcIiAgdmlld0JveD1cXFwiMCAwIDM2IDM2XFxcIj48cGF0aCAgZD1cXFwiTTE2IDMyaDRWOGgtMWwtOSAzLjEzdjQuNWw2LTEuN1YzMlptMTEgMGEyIDIgMCAxIDAgMC00IDIgMiAwIDAgMCAwIDRaXFxcIiBvcGFjaXR5PVxcXCIuMlxcXCIvPjxwYXRoICBkPVxcXCJNMTQgMzBoNFY2aC0xTDggOS4xM3Y0LjVsNi0xLjdWMzBabTExIDBhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25PcGVuU291cmNlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk9wZW5Tb3VyY2VcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk00IDUuOTdjLS41Ny0uMTEtMS0uNjItMS0xLjIydi0xLjVDMyAyLjU2IDMuNTYgMiA0LjI1IDJoMS41QzYuNDQgMiA3IDIuNTYgNyAzLjI1VjRsMy0zdjJoMWMuNzguMDMgMS40Ni4zNSAyLjA2Ljk0LjYuNTkuOSAxLjI4Ljk0IDIuMDZ2Ni4wMmMuNTcuMTIgMSAuNjIgMSAxLjIzdjEuNWMwIC42OS0uNTYgMS4yNS0xLjI1IDEuMjVoLTEuNWMtLjY5IDAtMS4yNS0uNTYtMS4yNS0xLjI1di0xLjVjMC0uNi40My0xLjEgMS0xLjIyVjZhLjk0Ljk0IDAgMCAwLS4zMS0uNjljLS4yMS0uMi0uNDItLjI5LS43LS4zMWgtMXYyTDcgNHYuNzVjMCAuNi0uNDMgMS4xLTEgMS4yMnY2LjA2Yy41Ny4xMSAxIC42MiAxIDEuMjJ2MS41QzcgMTUuNDQgNi40NCAxNiA1Ljc1IDE2aC0xLjVDMy41NiAxNiAzIDE1LjQ0IDMgMTQuNzV2LTEuNWMwLS42LjQzLTEuMSAxLTEuMjJWNS45N1pNNiA1VjNINHYyaDJabS0yIDh2Mmgydi0ySDRabTggMHYyaDJ2LTJoLTJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbk9yZGVyZWRMaXN0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbk9yZGVyZWRMaXN0XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyA2aDFWMkgydjFoMXYzWm0uOCAySDJWN2gzdi45TDMuMiAxMEg1djFIMnYtLjlMMy44IDhaTTIgMTN2LTFoM3Y0SDJ2LTFoMnYtLjVIM3YtMWgxVjEzSDJabTUtOFYzaDl2Mkg3Wm0wIDEwaDl2LTJIN3YyWm05LTVIN1Y4aDl2MlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uT3V0ZGVudCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25PdXRkZW50XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTYgNEgyVjJoMTR2MlpNOCA2djJoOFY2SDhabTggMTBIMnYtMmgxNHYyWm0tOC00aDh2LTJIOHYyWk0xLjUgOSA2IDV2OEwxLjUgOVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGFwZXJjbGlwID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBhcGVyY2xpcFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEgOS41QzEgNi41IDMuNSA0IDYuNSA0SDEzYzIuMiAwIDQgMS44IDQgNHMtMS44IDQtNCA0SDcuNUM2LjEgMTIgNSAxMC45IDUgOS41UzYuMSA3IDcuNSA3SDEydjJINy40Yy0uNSAwLS41IDEgMCAxSDEzYTIgMiAwIDAgMCAyLTIgMiAyIDAgMCAwLTItMkg2LjVDNC42IDYgMyA3LjYgMyA5LjVTNC42IDEzIDYuNSAxM0gxMnYySDYuNUMzLjUgMTUgMSAxMi41IDEgOS41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25QZWFrID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBlYWtcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xMC41IDMuNSA4IDcuMjVsMiAyLjI1TDguNSAxMWwtMy0zLjVMMSAxNGgxNkwxMC41IDMuNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGVuY2lsID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBlbmNpbFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRjFCNjAwXFxcIiBkPVxcXCJtMiAxMy4xMyA4LjUtOC41IDIuODggMi44OC04LjUgOC41SDJ2LTIuODhaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0U4N0M4N1xcXCIgZD1cXFwibTEzLjY4IDIuMTUgMi4xNyAyLjE3Yy4yLjIuMi41MSAwIC43MUwxNC41IDYuMzlsLTIuODgtMi44OCAxLjM1LTEuMzZjLjItLjIuNTEtLjIuNzEgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGVuY2lsU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUGVuY2lsU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggZmlsbD1cXFwiI0YxQjYwMFxcXCIgZD1cXFwibTIgMTAuMTIgNi4zNy02LjQzIDEuODggMS44OEwzLjg4IDEySDJ2LTEuODhaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0U4N0M4N1xcXCIgZD1cXFwibTExLjEgMS43MSAxLjEzIDEuMTJjLjIuMi4yLjUxIDAgLjcxTDExLjEgNC43IDkuMjEgMi44NmwxLjE3LTEuMTVjLjItLjIuNTEtLjIuNzEgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGVvcGxlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBlb3BsZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE3IDE0YzAgLjQ0LS40NSAxLTEgMUg5YTEgMSAwIDAgMS0xLTFIMmMtLjU0IDAtMS0uNTYtMS0xIDAtMi42MyAzLTQgMy00cy4yMy0uNCAwLTFjLS44NC0uNjItMS4wNi0uNTktMS0zIC4wNi0yLjQyIDEuMzctMyAyLjUtM3MyLjQ0LjU4IDIuNSAzYy4wNiAyLjQxLS4xNiAyLjM4LTEgMy0uMjMuNTkgMCAxIDAgMXMxLjU1LjcxIDIuNDIgMi4wOWMuNzgtLjcyIDEuNTgtMS4xIDEuNTgtMS4xcy4yMy0uNCAwLTFjLS44NC0uNjEtMS4wNi0uNTgtMS0zIC4wNi0yLjQxIDEuMzctMyAyLjUtM3MyLjQ0LjU5IDIuNSAzYy4wNSAyLjQyLS4xNiAyLjM5LTEgMy0uMjMuNiAwIDEgMCAxczMgMS4zOCAzIDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblBlb3BsZVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBlb3BsZVNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMiAxMWMtLjUgMC0xLS41LTEtMSAwLTIgMi0zIDItM3MuMzgtLjYzIDAtMWEzLjk3IDMuOTcgMCAwIDAtLjItLjE4QzIuNDUgNS41MSAyIDUuMTIgMiA0YzAtMS4zMyAxLjE1LTIgMi0yIC44NSAwIDIgLjY3IDIgMiAwIDEuMTItLjQ0IDEuNS0uOCAxLjgyTDUgNmMtLjM4LjM4IDAgMSAwIDFzMiAxIDIgM2MwIC41LS41IDEtMSAxSDJabTYgMWMtLjUgMC0xLS41LTEtMSAwLTIgMi0zIDItM3MuMzgtLjYzIDAtMWEzLjk3IDMuOTcgMCAwIDAtLjItLjE4QzguNDUgNi41MSA4IDYuMTIgOCA1YzAtMS4zMyAxLjE1LTIgMi0yIC44NSAwIDIgLjY3IDIgMiAwIDEuMTItLjQ0IDEuNS0uOCAxLjgyQTQgNCAwIDAgMCAxMSA3Yy0uMzguMzggMCAxIDAgMXMyIDEgMiAzYzAgLjUtLjUgMS0xIDFIOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGVyc29uID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBlcnNvblxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE1IDE1YTEgMSAwIDAgMS0xIDFINGExIDEgMCAwIDEtMS0xdi0xYzAtMi42MyA0LTQgNC00cy4yMy0uNCAwLTFjLS44NC0uNjItLjk0LTEuNTktMS00IC4xNy0yLjQxIDEuODctMyAzLTNzMi44My41OSAzIDNjLS4wNiAyLjQxLS4xNiAzLjM4LTEgNC0uMjMuNTkgMCAxIDAgMXM0IDEuMzcgNCA0djFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblBob25lID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBob25lXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNSA4YzEuMTIgMi4yIDIuOCAzLjg3IDUgNWwyLTJoMmEyIDIgMCAwIDEgMiAydjEuNWMwIC44OC0uNjMgMS41LTEuNSAxLjVDNy4yIDE2IDIgMTAuOCAyIDMuNSAyIDIuNjIgMi42MyAyIDMuNSAySDVhMiAyIDAgMCAxIDIgMnYyTDUgOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGxhY2Vob2xkZXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUGxhY2Vob2xkZXJcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwidmFyKC0td2hpdGUpXFxcIiBkPVxcXCJNMCAwaDE4djE4SDB6XFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblBsYWNlaG9sZGVyTGcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUGxhY2Vob2xkZXJMZ1xcXCIgd2lkdGg9XFxcIjM2XFxcIiBoZWlnaHQ9XFxcIjM2XFxcIiAgdmlld0JveD1cXFwiMCAwIDM2IDM2XFxcIj48cGF0aCBmaWxsPVxcXCJ2YXIoLS13aGl0ZSlcXFwiIGQ9XFxcIk0wIDBoMzZ2MzZIMHpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGxhY2Vob2xkZXJTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25QbGFjZWhvbGRlclNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoIGZpbGw9XFxcInZhcigtLXdoaXRlKVxcXCIgZD1cXFwiTTAgMGgxNHYxNEgwelxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25QbGF5ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBsYXlcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDIuODdhMSAxIDAgMCAxIDEuNTUtLjgzbDkuMiA2LjEzYTEgMSAwIDAgMSAwIDEuNjZsLTkuMiA2LjEzQTEgMSAwIDAgMSAzIDE1LjEzVjIuODdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblBsdXMgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUGx1c1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEwIDJIOHY2SDJ2Mmg2djZoMnYtNmg2VjhoLTZWMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGx1c09uZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25QbHVzT25lXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM5OTY2Q0JcXFwiIGQ9XFxcIk03IDloM3YySDd2M0g1di0zSDJWOWgzVjZoMnYzWm0xMCA2aC0yVjYuMzFsLTMgLjk5VjUuNDZsNC43Ni0xLjc5SDE3VjE1WlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGNzVEMzdcXFwiIGQ9XFxcIk0yLjcgNi45NWEuNS41IDAgMCAxLS4xOS4wMy40OS40OSAwIDAgMS0uMzUtLjA5bC0xLTFhLjUuNSAwIDAgMSAuMzYtLjg1LjUuNSAwIDAgMSAuMzUuMTRsMSAuOTVhLjUxLjUxIDAgMCAxIDAgLjcxLjUuNSAwIDAgMS0uMTYuMVptNi42NSAwYS41LjUgMCAwIDAgLjIuMDNjLjEyLjAyLjI1LS4wMS4zNS0uMDlsMS0xYS41LjUgMCAwIDAtLjM2LS44NS41MS41MSAwIDAgMC0uMzUuMTRsLTEgLjk1YS41MS41MSAwIDAgMCAwIC43MWMuMDUuMDUuMS4wOC4xNi4xWm0xLjE1IDguMDNhLjUuNSAwIDAgMCAuMzYtLjE0LjUxLjUxIDAgMCAwIDAtLjdsLTEtLjk2YS41MS41MSAwIDAgMC0uNzEgMCAuNS41IDAgMCAwIDAgLjcxbDEgMWMuMS4wOC4yMi4xLjM1LjFabS05LjE4LS4wM2EuNS41IDAgMCAwIC4yLjAzYy4xMi4wMi4yNS0uMDEuMzUtLjA5bDEtMWEuNS41IDAgMCAwLS4zNi0uODUuNTEuNTEgMCAwIDAtLjM1LjE0bC0xIC45NWEuNTEuNTEgMCAwIDAgMCAuNzFjLjA1LjA1LjEuMDguMTYuMVpcXFwiIG9wYWNpdHk9XFxcIi43XFxcIi8+PHBhdGggIGQ9XFxcIk02IDVhLjUuNSAwIDEgMCAwLTEgLjUuNSAwIDAgMCAwIDFaTS41IDEwLjVhLjUuNSAwIDEgMCAwLTEgLjUuNSAwIDAgMCAwIDFaTTEyIDEwYS41LjUgMCAxIDEtMSAwIC41LjUgMCAwIDEgMSAwWm0tNiA2YS41LjUgMCAxIDAgMC0xIC41LjUgMCAwIDAgMCAxWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUGx1c1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblBsdXNTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTggMkg2djRIMnYyaDR2NGgyVjhoNFY2SDhWMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUHJvbW90ZURlbW90ZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Qcm9tb3RlRGVtb3RlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNS41IDMuNSAxIDhoM3Y0aDNWOGgzTDUuNSAzLjVaXFxcIi8+PHBhdGggIGQ9XFxcIk0xMSA2djNIOGw0LjUgNS41TDE3IDloLTNWNmgtM1pcXFwiIG9wYWNpdHk9XFxcIi41XFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblByb21vdGVkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblByb21vdGVkXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMyAxYTIgMiAwIDAgMC0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjNhMiAyIDAgMCAwLTItMkgzWm00IDRhMSAxIDAgMCAxIDEtMWg1YTEgMSAwIDAgMSAxIDF2NWExIDEgMCAxIDEtMiAwVjcuNDFMNS45MSAxMy41YTEgMSAwIDAgMS0xLjQxLTEuNDFMMTAuNTkgNkg4YTEgMSAwIDAgMS0xLTFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblByb21vdGVkU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUHJvbW90ZWRTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTIuNSAxQzEuNjcgMSAxIDEuNjcgMSAyLjV2OWMwIC44My42NyAxLjUgMS41IDEuNWg5Yy44MyAwIDEuNS0uNjcgMS41LTEuNXYtOWMwLS44My0uNjctMS41LTEuNS0xLjVoLTlaTTUgNGExIDEgMCAwIDEgMS0xaDRhMSAxIDAgMCAxIDEgMXY0YTEgMSAwIDEgMS0yIDBWNi40MUw0LjkxIDEwLjVBMSAxIDAgMCAxIDMuNSA5LjA5TDcuNTkgNUg2YTEgMSAwIDAgMS0xLTFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblF1ZXN0aW9uID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblF1ZXN0aW9uXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtNCAxNS0zIDNWNGMwLTEuMS45LTIgMi0yaDEyYzEuMDkgMCAyIC45MSAyIDJ2OWMwIDEuMDktLjkxIDItMiAySDRabTcuNzUtMy45N2MuNzItLjgzLjk4LTEuODYuOTgtMi45NCAwLTEuNjUtLjctMy4yMi0yLjMtMy44M2E0LjQxIDQuNDEgMCAwIDAtMy4wMiAwIDMuOCAzLjggMCAwIDAtMi4zMiAzLjgzYzAgMS4yOS4zNSAyLjI5IDEuMDMgM2EzLjggMy44IDAgMCAwIDIuODUgMS4wN2MuNjIgMCAxLjItLjExIDEuNzEtLjM0LjY1LjQ0IDEgLjY4IDEuMDYuNy4yMy4xMy40Ni4yMy43LjNsLjU5LTEuMTNhNS4yIDUuMiAwIDAgMS0xLjI4LS42NlptLTEuMjctLjlhNS40IDUuNCAwIDAgMC0xLjUtLjhsLS40NS45Yy4zMy4xMi42Ni4yOS45OC41LS4yLjA3LS40Mi4xMS0uNjUuMTEtLjYxIDAtMS4xMi0uMjMtMS41Mi0uNjgtLjg2LTEtLjg2LTMuMTIgMC00LjExLjgtLjkgMi4zNS0uOSAzLjE1IDAgLjkgMS4wMS44NiAzLjAzLS4wMSA0LjA4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25RdWVzdGlvbkVzID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblF1ZXN0aW9uRXNcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05LjEzIDcuODRjLjQ0IDAgLjc3LS4xIDEtLjMuMjMtLjIxLjM1LS41LjM1LS44OSAwLS40LS4xMi0uNy0uMzUtLjk1YTEuMyAxLjMgMCAwIDAtLjk2LS4zOEg3LjY1djIuNTJoMS40OFpNMSAxOGwzLTNoMTFjMS4wOSAwIDItLjkxIDItMlY0YzAtMS4wOS0uOTEtMi0yLTJIM2EyIDIgMCAwIDAtMiAydjE0Wm02LjY1LTUuOThINlYzLjk4aDMuMTNjLjYgMCAxLjE0LjExIDEuNi4zM2EyLjQ4IDIuNDggMCAwIDEgMS40MiAyLjMzYzAgLjc5LS4yNyAxLjQxLS44MSAxLjg3LS41NC40NS0xLjI4LjY4LTIuMjQuNjhINy42NXYyLjgzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25RdWVzdGlvblB0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblF1ZXN0aW9uUHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05LjEzIDcuODRjLjQ0IDAgLjc3LS4xIDEtLjMuMjMtLjIxLjM1LS41LjM1LS44OSAwLS40LS4xMi0uNy0uMzUtLjk1YTEuMyAxLjMgMCAwIDAtLjk2LS4zOEg3LjY1djIuNTJoMS40OFpNMSAxOGwzLTNoMTFjMS4wOSAwIDItLjkxIDItMlY0YzAtMS4wOS0uOTEtMi0yLTJIM2EyIDIgMCAwIDAtMiAydjE0Wm02LjY1LTUuOThINlYzLjk4aDMuMTNjLjYgMCAxLjE0LjExIDEuNi4zM2EyLjQ4IDIuNDggMCAwIDEgMS40MiAyLjMzYzAgLjc5LS4yNyAxLjQxLS44MSAxLjg3LS41NC40NS0xLjI4LjY4LTIuMjQuNjhINy42NXYyLjgzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25RdWVzdGlvblJ1ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblF1ZXN0aW9uUnVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk03LjY1IDEwLjY5aDEuNDJjLjQgMCAuNy0uMS45MS0uMjhhLjk2Ljk2IDAgMCAwIC4zMy0uNzdjMC0uNzQtLjM4LTEuMTEtMS4xNC0xLjEySDcuNjV2Mi4xN1ptMS4yMy0zLjM0Yy44My0uMDIgMS4yNS0uMzUgMS4yNS0xIDAtLjM3LS4xLS42My0uMzItLjc4LS4yLS4xNy0uNTQtLjI1LTEtLjI1SDcuNjV2Mi4wM2gxLjIzWk0xIDE4bDMtM2gxMWMxLjA5IDAgMi0uOTEgMi0yVjRjMC0xLjA5LS45MS0yLTItMkgzYTIgMiAwIDAgMC0yIDJ2MTRaTTYgMy45OGgyLjhjLjk4IDAgMS43Mi4xOSAyLjIyLjU2LjUuMzguNzYuOTIuNzYgMS42NCAwIC40LS4xLjc0LS4zIDEuMDUtLjIuMy0uNS41MS0uODUuNjUuNDEuMS43My4zMS45Ny42My4yNC4zLjM2LjcuMzYgMS4xNCAwIC43OC0uMjUgMS4zNi0uNzQgMS43Ni0uNS40LTEuMi42LTIuMS42SDZWMy45OVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUXVvdGUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUXVvdGVcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk0wIDRjMC0xLjEuOS0yIDItMmg0YTIgMiAwIDAgMSAyIDJ2OWwtMS43NSAzSDRsMS43NS0zSDJhMiAyIDAgMCAxLTItMlY0Wm05IDBjMC0xLjEuOS0yIDItMmg0YTIgMiAwIDAgMSAyIDJ2OWwtMS43NSAzSDEzbDEuNzUtM0gxMWEyIDIgMCAwIDEtMi0yVjRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJlZGFjdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25SZWRhY3RcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xMCAxaDd2NGgtN1YxWk0xIDEzaDd2NEgxdi00Wm0xNi02SDF2NGgxNlY3Wk05IDIuMjFjLS4yNC0uMzctLjU5LS43MS0xLjE1LS43MS0uODEgMC0xLjE4LjczLTEuNDIgMS4yLS4xNC4zLS40My4zLS41NyAwLS4yNC0uNDctLjYtMS4yLTEuNDItMS4ycy0xLjE4LjczLTEuNDIgMS4yYy0uMTQuMy0uNDQuMy0uNTggMC0uMjQtLjQ3LS42LTEuMi0xLjQyLTEuMnYxLjNMMSAyLjc4Yy4wOC4wNS4yMi4zMy4zMS41LjI0LjQ4LjYgMS4yMSAxLjQyIDEuMjEuODEgMCAxLjE4LS43MyAxLjQyLTEuMi4xNC0uMy40My0uMy41OCAwIC4yNC40Ny42IDEuMiAxLjQxIDEuMi44MiAwIDEuMTgtLjczIDEuNDItMS4yLjE1LS4zLjQ0LS4zLjU4IDAgLjE4LjM1LjQyLjgzLjg2IDEuMDZWMi4yMVptNi44NSAxMS4yOWMuNTYgMCAuOTEuMzQgMS4xNS43MXYyLjE1Yy0uNDQtLjIzLS42OC0uNzEtLjg2LTEuMDctLjE0LS4yOC0uNDMtLjI4LS41OCAwLS4yNC40OC0uNiAxLjIxLTEuNDIgMS4yMS0uODEgMC0xLjE3LS43My0xLjQxLTEuMi0uMTUtLjMtLjQ0LS4zLS41OCAwLS4yNC40Ny0uNiAxLjItMS40MiAxLjJzLTEuMTgtLjczLTEuNDItMS4yYTEuOTQgMS45NCAwIDAgMC0uMzEtLjUxaC4wMlYxMy41Yy44MiAwIDEuMTguNzMgMS40MiAxLjIuMTQuMy40NC4zLjU4IDAgLjI0LS40Ny42LTEuMiAxLjQyLTEuMi44MSAwIDEuMTguNzMgMS40MiAxLjIuMTQuMy40My4zLjU3IDAgLjI0LS40Ny42LTEuMiAxLjQyLTEuMlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmVkYWN0U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUmVkYWN0U21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk04IDFoNXYyLjVIOFYxWm0tNyA5aDV2Mi41SDFWMTBabTEyLTQuNUgxVjhoMTJWNS41Wk03IDEuOThhMS4wMyAxLjAzIDAgMCAwLS44Ni0uNDhjLS42MSAwLS44OC40OC0xLjA2LjgtLjEyLjItLjMzLjItLjQ0IDAtLjE4LS4zMi0uNDUtLjgtMS4wNi0uOC0uNjEgMC0uODkuNDgtMS4wNy44LS4xLjItLjMyLjItLjQzIDAtLjE4LS4zMi0uNDUtLjgtMS4wNi0uOHYuODZIMWMuMDYuMDMuMTcuMjIuMjMuMzQuMTguMzIuNDYuOCAxLjA3LjguNiAwIC44OC0uNDggMS4wNi0uOC4xMS0uMi4zMi0uMi40MyAwIC4xOC4zMi40Ni44IDEuMDcuOC42IDAgLjg4LS40OCAxLjA2LS44LjExLS4yLjMyLS4yLjQ0IDAgLjEzLjIzLjMxLjU1LjY0LjcxVjEuOThabTUuMTQgOC41MmMuNDIgMCAuNjguMjMuODYuNDh2MS40M2MtLjMzLS4xNi0uNTEtLjQ4LS42NC0uNzEtLjEyLS4yLS4zMy0uMi0uNDQgMC0uMTguMzItLjQ1LjgtMS4wNi44LS42MSAwLS44OS0uNDgtMS4wNy0uOC0uMS0uMi0uMzItLjItLjQzIDAtLjE4LjMyLS40NS44LTEuMDYuOC0uNjEgMC0uODktLjQ4LTEuMDctLjgtLjA2LS4xMi0uMTctLjMtLjIzLS4zNGguMDJ2LS44NmMuNiAwIC44OC40OCAxLjA2LjguMTEuMi4zMi4yLjQzIDAgLjE4LS4zMi40Ni0uOCAxLjA3LS44LjYgMCAuODguNDggMS4wNi44LjExLjIuMzIuMi40NCAwIC4xOC0uMzIuNDUtLjggMS4wNi0uOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmVmcmVzaCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25SZWZyZXNoXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTQuNjUgMy4zNUE4IDggMCAxIDAgMTYuNzMgMTFoLTIuMDhhNiA2IDAgMSAxLTEuNDMtNi4yMkwxMCA4aDdWMWwtMi4zNSAyLjM1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25SZWZyZXNoU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUmVmcmVzaFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMTEuMjQgMi43NiAxMyAxdjVIOGwxLjktMS45YTQuMDkgNC4wOSAwIDAgMC03IDIuOSA0LjEgNC4xIDAgMCAwIDguMDggMWgxLjk0YTYgNiAwIDEgMS0xLjY4LTUuMjRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJlbG9jYXRpb24gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUmVsb2NhdGlvblxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE1IDVoLTJWMUgyYTIgMiAwIDAgMC0yIDJ2MTFoMWEzIDMgMCAwIDAgNiAwaDRhMyAzIDAgMSAwIDYgMGgxVjlsLTMtNFpNNCAxNS41YTEuNSAxLjUgMCAxIDEgMC0zIDEuNSAxLjUgMCAwIDEgMCAzWm0xMC41LTkgMiAyLjVIMTNWNi41aDEuNVptLS41IDlhMS41IDEuNSAwIDEgMSAwLTMgMS41IDEuNSAwIDAgMSAwIDNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJlbG9jYXRpb25TbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25SZWxvY2F0aW9uU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0xMCAzSDhWMUgyQy45MSAxIDAgMS45MSAwIDN2OGguN2EyLjUgMi41IDAgMCAwIDQuNiAwaDIuNGEyLjUgMi41IDAgMCAwIDQuNiAwaC43VjdsLTMtNFptLS41IDEuNSAyIDIuNUg4VjQuNWgxLjVaTTQuMiAxMGExLjIgMS4yIDAgMSAxLTIuNCAwIDEuMiAxLjIgMCAwIDEgMi40IDBabTcgMGExLjIgMS4yIDAgMSAxLTIuNCAwIDEuMiAxLjIgMCAwIDEgMi40IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJlbW90ZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25SZW1vdGVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0xNy44NiA2LjY2LTEuNzcgMS43N2ExMCAxMCAwIDAgMC0xNC4xNCAwTC4xOCA2LjY2YTEyLjUgMTIuNSAwIDAgMSAxNy42OCAwWm0tMy41NCAzLjU0LTEuNzYgMS43N2E1IDUgMCAwIDAtNy4wNyAwTDMuNzIgMTAuMmE3LjUgNy41IDAgMCAxIDEwLjYgMFptLTMuNTMgMy41NEw5LjAyIDE1LjVsLTEuNzctMS43NmEyLjUgMi41IDAgMCAxIDMuNTQgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmVtb3RlU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUmVtb3RlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIm0xMy4zNiA0LjY0LTEuNDEgMS40MWE3IDcgMCAwIDAtOS45IDBMLjY0IDQuNjRhOSA5IDAgMCAxIDEyLjcyIDBaTTMuNDcgNy40N2E1IDUgMCAwIDEgNy4wNyAwTDkuMTIgOC44OGEzIDMgMCAwIDAtNC4yNCAwTDMuNDcgNy40N1pNNyAxMmExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJlcGx5ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblJlcGx5XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOCA1Ljg3VjJMMSA4LjYzIDggMTV2LTMuN2M0LjcyIDAgNy42NCAxLjQ4IDEwIDQuNy0uOTQtNC42LTMuMzktOS4yLTEwLTEwLjEzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25SZXBseVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblJlcGx5U21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk01IDRWMUwwIDYuNSA1IDEyVjguNDNjMy43NSAwIDYuNjMgMS4yIDguNSAzLjgyQzEyLjc1IDguNSAxMC4yNSA0Ljc1IDUgNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmVwdXRhdGlvbiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25SZXB1dGF0aW9uXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTIuMSAyLjU1QTEgMSAwIDAgMSAxMyAyaDMuNWExIDEgMCAxIDEgMCAyaC0yLjg4bC0xLjczIDMuNDVBMSAxIDAgMCAxIDExIDhINi4xN2wtMy4yNSA3Ljg4YTEgMSAwIDEgMS0xLjg0LS43NmwzLjUtOC41QTEgMSAwIDAgMSA1LjUgNmg0Ljg4bDEuNzMtMy40NVpcXFwiLz48cGF0aCAgZD1cXFwiTTEgM2ExIDEgMCAwIDEgMS0xaDZhMSAxIDAgMSAxIDAgMkgyYTEgMSAwIDAgMS0xLTFabTAgNGExIDEgMCAxIDEgMiAwIDEgMSAwIDAgMS0yIDBabTE0LTFhMSAxIDAgMSAwIDAgMmgxYTEgMSAwIDEgMCAwLTJoLTFabS04IDVhMSAxIDAgMCAxIDEtMWg4YTEgMSAwIDEgMSAwIDJIOGExIDEgMCAwIDEtMS0xWm0tMSAzYTEgMSAwIDEgMCAwIDJoMTBhMSAxIDAgMSAwIDAtMkg2WlxcXCIgb3BhY2l0eT1cXFwiLjJcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmVwdXRhdGlvblNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblJlcHV0YXRpb25TbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTkuNjcgMS41YTEgMSAwIDAgMSAuODYtLjVIMTJhMSAxIDAgMSAxIDAgMmgtLjg5TDkuNjcgNS41YTEgMSAwIDAgMS0uODcuNUg2LjYybC0zLjIzIDYuNDVhMSAxIDAgMSAxLTEuNzgtLjlsMy41LTdBMSAxIDAgMCAxIDYgNGgyLjIybDEuNDUtMi41WlxcXCIvPjxwYXRoICBkPVxcXCJNMSAyYTEgMSAwIDAgMSAxLTFoNWExIDEgMCAwIDEgMCAySDJhMSAxIDAgMCAxLTEtMVptMCAzYTEgMSAwIDEgMSAyIDAgMSAxIDAgMCAxLTIgMFptMTEtMWExIDEgMCAxIDAgMCAyIDEgMSAwIDAgMCAwLTJaTTggOGExIDEgMCAwIDEgMS0xaDNhMSAxIDAgMSAxIDAgMkg5YTEgMSAwIDAgMS0xLTFabS0xIDJhMSAxIDAgMSAwIDAgMmg1YTEgMSAwIDEgMCAwLTJIN1pcXFwiIG9wYWNpdHk9XFxcIi4yXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJldmlld1F1ZXVlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblJldmlld1F1ZXVlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMTEgMTIuNDcgNS00Ljk3VjNhMiAyIDAgMCAwLTItMkgyYTIgMiAwIDAgMC0yIDJ2MTJhMiAyIDAgMCAwIDIgMmg2LjVsLTIuNzktMi44YTEgMSAwIDAgMSAwLTEuNGwyLjEtMi4xYTEgMSAwIDAgMSAxLjQgMEwxMSAxMi40N1pNMiA3aDEwdjJIMlY3Wm0wLTRoMTJ2MkgyVjNabTAgMTB2LTJoM3YySDJabTkgNC41IDctN0wxNi41IDkgMTEgMTQuNSA4LjUgMTIgNyAxMy41bDQgNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uUmljaFRleHQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uUmljaFRleHRcXFwiIHdpZHRoPVxcXCIyMVxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAyMSAxOFxcXCI+PHBhdGggZmlsbD1cXFwiIzBDMEQwRVxcXCIgZD1cXFwiTTIgMmEyIDIgMCAwIDAtMiAydjEwYzAgMS4xLjkgMiAyIDJoMTdhMiAyIDAgMCAwIDItMlY0YTIgMiAwIDAgMC0yLTJIMlptNiAySDJ2Mmg2VjRaTTIgOGgxN3YySDJWOFptMTcgNEgydjJoMTd2LTJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJzcyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Sc3NcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zIDFhMiAyIDAgMCAwLTIgMnYxMmMwIDEuMS45IDIgMiAyaDEyYTIgMiAwIDAgMCAyLTJWM2EyIDIgMCAwIDAtMi0ySDNabTAgMS41YzYuOSAwIDEyLjUgNS42IDEyLjUgMTIuNUgxM0MxMyA5LjU1IDguNDUgNSAzIDVWMi41Wm0wIDVjNC4wOCAwIDcuNSAzLjQxIDcuNSA3LjVIOGMwLTIuNzItMi4yOC01LTUtNVY3LjVabTAgNWMxLjM2IDAgMi41IDEuMTQgMi41IDIuNUgzdi0yLjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblJ1bGVyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblJ1bGVyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiNCQUMwQzVcXFwiIGQ9XFxcIk0uNjQgMTEuNTJBMSAxIDAgMCAxIDEgMTAuMTVsMTMtNy41YTEgMSAwIDAgMSAxLjM2LjM3bDIgMy40NkExIDEgMCAwIDEgMTcgNy44NWwtLjg3LjUtMS41LTIuNi0uODcuNSAxLjUgMi42LTEuNzMgMS0xLTEuNzMtLjg2LjUgMSAxLjczLTEuNzQgMS0xLjUtMi42LS44Ni41IDEuNSAyLjYtMS43NCAxLTEtMS43My0uODYuNSAxIDEuNzMtMS43MyAxLTEuNS0yLjYtLjg3LjUgMS41IDIuNi0uODcuNWExIDEgMCAwIDEtMS4zNi0uMzdsLTItMy40NlptMTMuOTItNi44OWEuNS41IDAgMSAwLS41LS44Ni41LjUgMCAwIDAgLjUuODZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNPUyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TT1NcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0Y3NUQzN1xcXCIgZD1cXFwiTTQgMmEyIDIgMCAwIDAtMiAydjExYzAgMS4xLjkgMiAyIDJoMTFhMiAyIDAgMCAwIDItMlY0YTIgMiAwIDAgMC0yLTJINFptMiA3YTEgMSAwIDAgMSAxIDF2MmExIDEgMCAwIDEtMSAxSDVhMSAxIDAgMCAxLTEtMWgydi0ySDVhMSAxIDAgMCAxLTEtMVY3YTEgMSAwIDAgMSAxLTFoMWExIDEgMCAwIDEgMSAxSDV2MmgxWm00LTNhMSAxIDAgMCAxIDEgMXY1YTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xVjdhMSAxIDAgMCAxIDEtMWgxWm0wIDFIOXY1aDFWN1ptNC43IDIuM2ExIDEgMCAwIDEgLjMuN3YyYTEgMSAwIDAgMS0xIDFoLTFhMSAxIDAgMCAxLTEtMWgydi0yaC0xYTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAwIDEgMS0xaDFhMSAxIDAgMCAxIDEgMWgtMnYyaDFhMSAxIDAgMCAxIC43LjNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNhdmUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2F2ZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMgMWEyIDIgMCAwIDAtMiAydjEyYzAgMS4xLjkgMiAyIDJoMTJhMiAyIDAgMCAwIDItMlY3YTEgMSAwIDAgMC0uMy0uN2wtNS01QTEgMSAwIDAgMCAxMSAxSDNabTAgMmg4djNIM1YzWm02IDExYTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU2Nob29sID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNjaG9vbFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTEgNiA4LTUgOCA1djhoLTJWNy4wOUw5IDExIDEgNlptOCAxMC44MkwzIDEzVjlsNiAzLjgyIDUtMy4zMnY0bC01IDMuMzJaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNjaG9vbFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNjaG9vbFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJtMSA1IDYtNCA2IDR2NWgtMVY1LjU4TDcgOC43NSAxIDVabTYgOC00LTIuNlY3LjY5bDQgMi40NiA0LTIuNTV2Mi44TDcgMTNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNjcmVlbkZ1bGwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2NyZWVuRnVsbFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMgMWg0djJIM3Y0SDFWM2MwLTEuMS45LTIgMi0yWm04IDJWMWg0YTIgMiAwIDAgMSAyIDJ2NGgtMlYzaC00Wm0tOCA4SDF2NGMwIDEuMS45IDIgMiAyaDR2LTJIM3YtNFptMTIgMGgydjRhMiAyIDAgMCAxLTIgMmgtNHYtMmg0di00WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TY3JlZW5Ob3JtYWwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2NyZWVuTm9ybWFsXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNSA3SDFWNWg0VjFoMnY0YTIgMiAwIDAgMS0yIDJabTEyLTJ2MmgtNGEyIDIgMCAwIDEtMi0yVjFoMnY0aDRaTTUgMTdoMnYtNGEyIDIgMCAwIDAtMi0ySDF2Mmg0djRabTggMGgtMnYtNGMwLTEuMS45LTIgMi0yaDR2MmgtNHY0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TZWFyY2ggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2VhcmNoXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMTggMTYuNS01LjE0LTUuMThoLS4zNWE3IDcgMCAxIDAtMS4xOSAxLjE5di4zNUwxNi41IDE4bDEuNS0xLjVaTTEyIDdBNSA1IDAgMSAxIDIgN2E1IDUgMCAwIDEgMTAgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU2VhcmNoU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2VhcmNoU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk05Ljk2IDguNzNoLjNsMi43NSAyLjc4LTEuNSAxLjUtMi43OC0yLjczdi0uMzJhNS41IDUuNSAwIDEgMSAxLjIzLTEuMjNaTTUuNSA5YTMuNSAzLjUgMCAxIDAgMC03IDMuNSAzLjUgMCAwIDAgMCA3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TaGFyZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TaGFyZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMgMWg1djJIM3YxMmgxMnYtNWgydjVhMiAyIDAgMCAxLTIgMkgzYTIgMiAwIDAgMS0yLTJWM2MwLTEuMS45LTIgMi0yWm0xNCAwaC03djJoMy41TDYgMTAuNSA3LjUgMTIgMTUgNC41VjhoMlYxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TaGFyZUFsdCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TaGFyZUFsdFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE2IDRhMyAzIDAgMSAxLTYgMCAzIDMgMCAwIDEgNiAwWk04IDlhMyAzIDAgMSAxLTYgMCAzIDMgMCAwIDEgNiAwWm0tNC4xMi0uOTNMMTIgMy4zOGwxIDEuNzRMNC44OCA5LjhsLTEtMS43M1pNMTYgMTRhMyAzIDAgMSAxLTYgMCAzIDMgMCAwIDEgNiAwWk00Ljk0IDguMjNsOC4xMiA0LjY5LTEgMS43My04LjEyLTQuNjkgMS0xLjczWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TaGFyZVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNoYXJlU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk01IDFIM2EyIDIgMCAwIDAtMiAydjhjMCAxLjEuOSAyIDIgMmg4YTIgMiAwIDAgMCAyLTJWOWgtMnYySDNWM2gyVjFabTIgMGg2djZoLTJWNC41TDYuNSA5IDUgNy41IDkuNSAzSDdWMVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU2hpZWxkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNoaWVsZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTIgNCA3LTMgNyAzdjUuMDJDMTYgMTMuNjkgMTAuNjkgMTcgOSAxN2MtMS42OSAwLTctMy4zMS03LTcuOThWNFptNi4xNCA1LjJMNyAxMmg0TDkuODYgOS4yYS41OC41OCAwIDAgMSAuMjUtLjU5Yy41Ni0uMzYuODktLjk1Ljg5LTEuNjEgMC0xLjA5LS45NC0yLTIuMDItMkEyIDIgMCAwIDAgNyA3YzAgLjY2LjMzIDEuMjUuODkgMS42MS4yLjEzLjMuMzYuMjUuNTlaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNoaWVsZFNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNoaWVsZFNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMiAzLjI1IDcuNSAxIDEzIDMuMjNWN2MwIDMuNS00LjMgNi01LjUgNkM2LjMgMTMgMiAxMC41MiAyIDcuMDFWMy4yNVpNNi44NiA3LjYgNiAxMGgzbC0uODYtMi40Yy0uMDMtLjIuMDUtLjQuMi0uNS40MS0uMzEuNjYtMS4wMy42Ni0xLjZDOSA0LjU3IDguMyA0IDcuNDkgNCA2LjY3IDQgNiA0LjU3IDYgNS41YzAgLjU3LjI1IDEuMjkuNjcgMS42LjE1LjEuMjIuMy4xOS41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TaGllbGRYU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2hpZWxkWFNtXFxcIiB3aWR0aD1cXFwiOVxcXCIgaGVpZ2h0PVxcXCIxMFxcXCIgIHZpZXdCb3g9XFxcIjAgMCA5IDEwXFxcIj48cGF0aCBmaWxsPVxcXCJ2YXIoLS13aGl0ZSlcXFwiIGQ9XFxcIk0wIDEuODQgNC41IDAgOSAxLjg0djMuMTdDOSA3LjUzIDYuMyAxMCA0LjUgMTAgMi43IDEwIDAgNy41MyAwIDUuMDFWMS44NFpcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay00MDApXFxcIiBkPVxcXCJNMSAyLjUgNC41IDEgOCAyLjV2Mi41MUM4IDcuMzQgNS4zNCA5IDQuNSA5IDMuNjUgOSAxIDcuMzQgMSA1LjAxVjIuNVptMi45OCAzLjAyTDMuMiA3aDIuNmwtLjc4LTEuNDhhLjQuNCAwIDAgMSAuMTUtLjM4Yy4zNC0uMjQuNzMtLjcuNzMtMS4xNCAwLS43MS0uNS0xLjIzLTEuNDEtMS4yMy0uOTIgMC0xLjM5LjUyLTEuMzkgMS4yMyAwIC40NC40LjkuNzMgMS4xNC4xMi4wOC4xOC4yMy4xNS4zOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU2t1bGwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU2t1bGxcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk05Ljk1IDFoLTEuOUE2LjE3IDYuMTcgMCAwIDAgMiA3LjE3YzAgMS41OS4yNCAzLjIxLjM2IDQuOC4wMS44NS43IDEuNTUgMS41NSAxLjU1aC41MWMuMzQgMCAuNDQuMjguNDguNTVsLjE4IDEuMzljLjE2Ljg1LjcgMS41NCAxLjU0IDEuNTRoNC43NmMuODQgMCAxLjQtLjcgMS41NC0xLjU0bC4xOC0xLjM5Yy4wNC0uMjcuMTQtLjU1LjQ4LS41NWguNTFjLjg1IDAgMS41NC0uNyAxLjU1LTEuNTYuMTItMS41OC4zNi0zLjIuMzYtNC43OUE2LjE4IDYuMTggMCAwIDAgOS45NSAxWlxcXCIgb3BhY2l0eT1cXFwiLjJcXFwiLz48cGF0aCAgZD1cXFwiTTkuMTQgMUg4LjA1QTYuMTcgNi4xNyAwIDAgMCAyIDcuMTdjMCAxLjA2LjEgMi4xNC4yMSAzLjIxbC4xNSAxLjU4Yy4wMS44Ni43IDEuNTYgMS41NSAxLjU2aC41MWMuMzQgMCAuNDQuMjguNDguNTVsLjE4IDEuMzljLjE2Ljg1LjcgMS41NCAxLjU0IDEuNTRoMi41MkExMS41IDExLjUgMCAwIDEgNiA5YzAtMy4xNSAxLjItNiAzLjE0LThaXFxcIiBvcGFjaXR5PVxcXCIuM1xcXCIvPjxwYXRoIGZpbGw9XFxcInZhcigtLWJsYWNrLTYwMClcXFwiIGQ9XFxcIk0xMC4wOCAxMi4yNWEuNDEuNDEgMCAwIDAtLjgyIDBsLS4xMy42NWMtLjA1LjI2LjE0LjUuNC41aC4yOGMuMjYgMCAuNDUtLjI0LjQtLjVsLS4xMy0uNjVabS0xLjM1IDBhLjQxLjQxIDAgMCAwLS44IDBsLS4xNC42NWMtLjA1LjI2LjE0LjUuNC41aC4yN2EuNC40IDAgMCAwIC40LS41bC0uMTMtLjY1WlxcXCIvPjxjaXJjbGUgY3g9XFxcIjExLjVcXFwiIGN5PVxcXCI5LjVcXFwiIHI9XFxcIjEuNzVcXFwiIGZpbGw9XFxcInZhcigtLWJsYWNrLTYwMClcXFwiLz48Y2lyY2xlIGN4PVxcXCI2LjVcXFwiIGN5PVxcXCI5LjVcXFwiIHI9XFxcIjEuNzVcXFwiIGZpbGw9XFxcInZhcigtLWJsYWNrLTYwMClcXFwiLz48cGF0aCBmaWxsPVxcXCJ2YXIoLS1ibGFjay02MDApXFxcIiBkPVxcXCJNNy41IDE1YS41LjUgMCAwIDAtLjUuNVYxN2gxdi0xLjVhLjUuNSAwIDAgMC0uNS0uNVptMy41IDJ2LTEuNWEuNS41IDAgMCAwLTEgMFYxN2gxWm0tMS41IDB2LTEuNWEuNS41IDAgMCAwLTEgMFYxN2gxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TbGFjayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TbGFja1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRTAxRTVBXFxcIiBkPVxcXCJNNi41IDE2QTEuNSAxLjUgMCAwIDEgNSAxNC41di00YTEuNSAxLjUgMCAxIDEgMyAwdjRjMCAuODMtLjY3IDEuNS0xLjUgMS41Wm0tNC00YTEuNSAxLjUgMCAwIDEgMC0zSDR2MS41YzAgLjgzLS42NyAxLjUtMS41IDEuNVpcXFwiLz48cGF0aCBmaWxsPVxcXCIjMzZDNUYwXFxcIiBkPVxcXCJNMi41IDVoNGExLjUgMS41IDAgMSAxIDAgM2gtNGExLjUgMS41IDAgMSAxIDAtM1ptNC00QzcuMzMgMSA4IDEuNjcgOCAyLjVWNEg2LjVhMS41IDEuNSAwIDEgMSAwLTNaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0VDQjIyRVxcXCIgZD1cXFwiTTEwLjUgOWg0YTEuNSAxLjUgMCAwIDEgMCAzaC00YTEuNSAxLjUgMCAwIDEgMC0zWm0wIDdBMS41IDEuNSAwIDAgMSA5IDE0LjVWMTNoMS41YTEuNSAxLjUgMCAwIDEgMCAzWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiMyRUI2N0RcXFwiIGQ9XFxcIk0xMC41IDFjLjgzIDAgMS41LjY3IDEuNSAxLjV2NGExLjUgMS41IDAgMCAxLTMgMHYtNGMwLS44My42Ny0xLjUgMS41LTEuNVptNCA0YTEuNSAxLjUgMCAwIDEgMCAzSDEzVjYuNWMwLS44My42Ny0xLjUgMS41LTEuNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU21hcnRQaG9uZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TbWFydFBob25lXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNiAxaDZhMiAyIDAgMCAxIDIgMnYxMmEyIDIgMCAwIDEtMiAySDZhMiAyIDAgMCAxLTItMlYzYzAtMS4xLjktMiAyLTJabTAgMnYxMGg2VjNINlptMyAxMy4yYTEuMiAxLjIgMCAxIDAgMC0yLjQgMS4yIDEuMiAwIDAgMCAwIDIuNFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU21pbGV5QWRkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNtaWxleUFkZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEzIDBoMnYzaDN2MmgtM3YzaC0yVjVoLTNWM2gzVjBaTTYuNDQgMi4xNUE4IDggMCAwIDEgOCAydjJhNiA2IDAgMSAwIDYgNmgyYTggOCAwIDEgMS05LjU2LTcuODVaTTguMSAxNC4yMmE1LjUxIDUuNTEgMCAwIDEtMy43Mi0xLjYuODguODggMCAwIDEgMS4yNC0xLjI0IDMuMjQgMy4yNCAwIDAgMCA0Ljc2IDAgLjg4Ljg4IDAgMCAxIDEuMjQgMS4yNCA0LjkgNC45IDAgMCAxLTMuNTIgMS42Wk03LjI1IDhhMS4yNSAxLjI1IDAgMSAxLTIuNSAwIDEuMjUgMS4yNSAwIDAgMSAyLjUgMFpNMTAgOS4yNWExLjI1IDEuMjUgMCAxIDAgMC0yLjUgMS4yNSAxLjI1IDAgMCAwIDAgMi41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TcGVlY2hCdWJibGUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3BlZWNoQnViYmxlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtNCAxNS0zIDNWNGMwLTEuMS45LTIgMi0yaDEyYTIgMiAwIDAgMSAyIDJ2OWEyIDIgMCAwIDEtMiAySDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNwZWVjaEJ1YmJsZUVycm9yID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNwZWVjaEJ1YmJsZUVycm9yXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMSAxOCAzLTNoMTFhMiAyIDAgMCAwIDItMlY0YTIgMiAwIDAgMC0yLTJIM2EyIDIgMCAwIDAtMiAydjE0Wk04IDRoMnY1SDhWNFptMCA3aDJ2Mkg4di0yWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TcGVlY2hCdWJibGVRdWVzdGlvbiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TcGVlY2hCdWJibGVRdWVzdGlvblxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTEgMTggMy0zaDExYzEuMDkgMCAyLS45MSAyLTJWNGMwLTEuMDktLjkxLTItMi0ySDNhMiAyIDAgMCAwLTIgMnYxNFptNy45Ni00Ljk0Yy0uNTctLjAyLTEuMDMtLjQzLTEuMDEtMS4wNi4wMi0uNjMuNS0xLjA0IDEuMDgtMS4wMi42LjAyIDEuMDUuNDUgMS4wMyAxLjA4LS4wMi42My0uNDggMS4wMi0xLjEgMVptLjkyLTMuNjhhMy42IDMuNiAwIDAgMC0uMDguNjVjMCAuMDQtLjAzLjE0LS4xNi4xNGgtMS40Yy0uMTQgMC0uMTYtLjA5LS4xNi0uMTMtLjAxLS41LjExLS45OS4zNi0xLjQyLjItLjM2LjU4LS42NSAxLjA2LS45My40MS0uMjMuNzgtLjcxLjc4LTEuMiAwLS4yNy0uMDktLjUzLS4yNi0uNzQtLjIyLS4yNi0uNDYtLjQtLjkyLS40LS40NSAwLS44My4yMy0xLjAyLjUyLS4xNy4yNy0uMTYuNTUtLjE2Ljgzdi4xMUg2LjJjMC0xLjE3LjMxLTEuOTIuOTgtMi4zNmEzLjUgMy41IDAgMCAxIDEuODMtLjQ0Yy44OCAwIDEuNTguMTYgMi4yLjYyLjU4LjQyLjg4IDEuMDIuODggMS44MiAwIC41LS4xNy45LS40MyAxLjI0LS4xNS4yLS40NC40Ny0uODYuOGwtLjQ4LjNjLS4yLjE0LS4zNi4zNS0uNDQuNlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU3BlZWNoQnViYmxlUmlnaHQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3BlZWNoQnViYmxlUmlnaHRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNCAxNUgzYy0xLjA5IDAtMi0uOTEtMi0yVjRjMC0xLjEuOS0yIDItMmgxMmMxLjA5IDAgMiAuOTEgMiAydjE0bC0zLTNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNwZWVjaEJ1YmJsZVJpZ2h0U20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3BlZWNoQnViYmxlUmlnaHRTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwibTEwIDExIDMgM1Y0YTIgMiAwIDAgMC0yLTJIM2EyIDIgMCAwIDAtMiAydjVjMCAxLjEuOSAyIDIgMmg3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TcGVlY2hCdWJibGVSaWdodFN0YXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3BlZWNoQnViYmxlUmlnaHRTdGFyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMTcgMTgtMy0zSDNhMiAyIDAgMCAxLTItMlY0YzAtMS4xLjktMiAyLTJoMTJhMiAyIDAgMCAxIDIgMnYxNFpNOS40IDMuNGEuNC40IDAgMCAwLS43NSAwTDcuNTQgNi4xOWEuNC40IDAgMCAxLS4zNS4yNWwtMi45OC4yYS40LjQgMCAwIDAtLjIzLjdsMi4zIDEuOTJjLjEyLjEuMTcuMjYuMTMuNGwtLjczIDIuOWEuNC40IDAgMCAwIC42LjQ0bDIuNTMtMS41OWEuNC40IDAgMCAxIC40MyAwbDIuNTMgMS42Yy4zLjE4LjY4LS4xLjYtLjQ0bC0uNzMtMi45YS40LjQgMCAwIDEgLjEzLS40bDIuMy0xLjkyYS40LjQgMCAwIDAtLjI0LS43bC0yLjk4LS4yYS40LjQgMCAwIDEtLjM0LS4yNkw5LjM5IDMuNDFaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNwZWVjaEJ1YmJsZVJpZ2h0U3RhclNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNwZWVjaEJ1YmJsZVJpZ2h0U3RhclNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJtMTMgMTQtMy0zSDNhMiAyIDAgMCAxLTItMlY0YzAtMS4xLjktMiAyLTJoOGEyIDIgMCAwIDEgMiAydjEwWk03LjMxIDIuNzJhLjMuMyAwIDAgMC0uNTYgMGwtLjc3IDIuMDZhLjMuMyAwIDAgMS0uMjcuMmwtMi4yLjFhLjMuMyAwIDAgMC0uMTguNTNsMS43MyAxLjM3Yy4xLjA4LjEzLjIuMS4zMmwtLjU5IDIuMTJhLjMuMyAwIDAgMCAuNDYuMzNsMS44NC0xLjIyYS4zLjMgMCAwIDEgLjMzIDBsMS44MyAxLjIyYS4zLjMgMCAwIDAgLjQ2LS4zM0w4LjkgNy4zYS4zLjMgMCAwIDEgLjEtLjMybDEuNzMtMS4zN2EuMy4zIDAgMCAwLS4xOC0uNTNsLTIuMi0uMWEuMy4zIDAgMCAxLS4yNy0uMmwtLjc3LTIuMDZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblNwZWVjaEJ1YmJsZVNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblNwZWVjaEJ1YmJsZVNtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJtNCAxMS0zIDNWNGMwLTEuMS45LTIgMi0yaDhhMiAyIDAgMCAxIDIgMnY1YTIgMiAwIDAgMS0yIDJINFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU3RhY2tFeGNoYW5nZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TdGFja0V4Y2hhbmdlXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTUgMUgzYTIgMiAwIDAgMC0yIDJ2MmgxNlYzYTIgMiAwIDAgMC0yLTJaTTEgMTNjMCAxLjEuOSAyIDIgMmg4djNsMy0zaDFhMiAyIDAgMCAwIDItMnYtMkgxdjJabTE2LTdIMXY0aDE2VjZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblN0YXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3RhclxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTguNjMuOTVhLjQuNCAwIDAgMSAuNzQgMGwyLjA1IDQuOTNhLjQuNCAwIDAgMCAuMzQuMjRsNS4zMi40M2MuMzUuMDMuNS40Ny4yMi43bC00LjA1IDMuNDdhLjQuNCAwIDAgMC0uMTMuNGwxLjI0IDUuMmEuNC40IDAgMCAxLS42LjQzbC00LjU1LTIuNzlhLjQuNCAwIDAgMC0uNDIgMGwtNC41NSAyLjc5YS40LjQgMCAwIDEtLjYtLjQ0bDEuMjQtNS4xOWEuNC40IDAgMCAwLS4xMy0uNEwuNyA3LjI1YS40LjQgMCAwIDEgLjIyLS43bDUuMzItLjQzYS40LjQgMCAwIDAgLjM0LS4yNEw4LjYzLjk1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TdGFySGFsZiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25TdGFySGFsZlxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTQuMjQgMTYuNzVhLjQuNCAwIDAgMS0uNi0uNDRsMS4yNC01LjE5YS40LjQgMCAwIDAtLjEzLS40TC43IDcuMjVhLjQuNCAwIDAgMSAuMjItLjdsNS4zMi0uNDNhLjQuNCAwIDAgMCAuMzQtLjI0TDguNjMuOTVBLjQuNCAwIDAgMSA5IC43Yy4xNSAwIC4zLjA5LjM3LjI1bDIuMDUgNC45M2EuNC40IDAgMCAwIC4zNC4yNGw1LjMyLjQzYy4zNS4wMy41LjQ3LjIyLjdsLTQuMDUgMy40N2EuNC40IDAgMCAwLS4xMy40bDEuMjQgNS4yYS40LjQgMCAwIDEtLjYuNDNsLTQuNTUtMi43OWEuNC40IDAgMCAwLS40MiAwbC00LjU1IDIuNzlaTTkgMi42N1YxMi45Yy4yNSAwIC41LjA2LjczLjJsMy4zMiAyLjAzLS45LTMuNzlhMS40IDEuNCAwIDAgMSAuNDUtMS4zOGwyLjk2LTIuNTQtMy44OC0uMzFhMS40IDEuNCAwIDAgMS0xLjE4LS44Nkw5IDIuNjZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblN0YXJIYWxmU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3RhckhhbGZTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTUuMTcgNC42NSA2LjczLjc5YS4zLjMgMCAwIDEgLjU1IDBsMS41NSAzLjg2Yy4wNS4xLjE1LjE4LjI2LjE5bDQuMTUuMjhhLjMuMyAwIDAgMSAuMTcuNTNsLTMuMTkgMi42N2EuMy4zIDAgMCAwLS4xLjNsMS4wMiA0LjAzYS4zLjMgMCAwIDEtLjQ1LjMzbC0zLjUzLTIuMjFhLjMuMyAwIDAgMC0uMzIgMGwtMy41MiAyLjIxYS4zLjMgMCAwIDEtLjQ1LS4zM2wxLjAxLTQuMDNhLjMuMyAwIDAgMC0uMS0uM0wuNiA1LjY1YS4zLjMgMCAwIDEgLjE3LS41M2w0LjE2LS4yOGEuMy4zIDAgMCAwIC4yNS0uMlptMi43My4zN0w3IDIuNzh2Ni45NGMuMjQgMCAuNDguMDcuNy4ybDIuMDQgMS4yOS0uNTktMi4zNWMtLjEyLS40OC4wNS0xIC40My0xLjMxTDExLjQ0IDZsLTIuNDItLjE3YTEuMyAxLjMgMCAwIDEtMS4xMi0uOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU3RhclNtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblN0YXJTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTYuNzMuNzlhLjMuMyAwIDAgMSAuNTUgMGwxLjU1IDMuODZjLjA1LjEuMTUuMTguMjYuMTlsNC4xNS4yOGEuMy4zIDAgMCAxIC4xNy41M2wtMy4xOSAyLjY3YS4zLjMgMCAwIDAtLjEuM2wxLjAyIDQuMDNhLjMuMyAwIDAgMS0uNDUuMzNsLTMuNTMtMi4yMWEuMy4zIDAgMCAwLS4zMiAwbC0zLjUyIDIuMjFhLjMuMyAwIDAgMS0uNDUtLjMzbDEuMDEtNC4wM2EuMy4zIDAgMCAwLS4xLS4zTC42IDUuNjVhLjMuMyAwIDAgMSAuMTctLjUzbDQuMTYtLjI4YS4zLjMgMCAwIDAgLjI1LS4yTDYuNzMuOFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU3RhclZlcmlmaWVkID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblN0YXJWZXJpZmllZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTkuODYuODlhMS4xNCAxLjE0IDAgMCAwLTEuNzIgMGwtLjUuNThjLS4zLjM1LS43OS40OC0xLjIzLjMzbC0uNzItLjI1YTEuMTQgMS4xNCAwIDAgMC0xLjQ5Ljg1bC0uMTQuNzZjLS4xLjQ1LS40NS44LS45LjlsLS43Ni4xNGMtLjY3LjE0LTEuMDguODMtLjg1IDEuNDlsLjI1LjcyYy4xNS40NC4wMi45Mi0uMzMgMS4yM2wtLjU4LjVhMS4xNCAxLjE0IDAgMCAwIDAgMS43MmwuNTguNWMuMzUuMy40OC43OS4zMyAxLjIzbC0uMjUuNzJjLS4yMy42Ni4xOCAxLjM1Ljg1IDEuNDlsLjc2LjE0Yy40NS4xLjguNDUuOS45bC4xNC43NmMuMTQuNjcuODMgMS4wOCAxLjQ5Ljg1bC43Mi0uMjVjLjQ0LS4xNS45Mi0uMDIgMS4yMy4zM2wuNS41OGMuNDYuNTIgMS4yNi41MiAxLjcyIDBsLjUtLjU4Yy4zLS4zNS43OS0uNDggMS4yMy0uMzNsLjcyLjI1Yy42Ni4yMyAxLjM1LS4xOCAxLjQ5LS44NWwuMTQtLjc2Yy4xLS40NS40NS0uOC45LS45bC43Ni0uMTRjLjY3LS4xNCAxLjA4LS44My44NS0xLjQ5bC0uMjUtLjcyYy0uMTUtLjQ0LS4wMi0uOTIuMzMtMS4yM2wuNTgtLjVjLjUyLS40Ni41Mi0xLjI2IDAtMS43MmwtLjU4LS41Yy0uMzUtLjMtLjQ4LS43OS0uMzMtMS4yM2wuMjUtLjcyYTEuMTQgMS4xNCAwIDAgMC0uODUtMS40OWwtLjc2LS4xNGMtLjQ1LS4xLS44LS40NS0uOS0uOWwtLjE0LS43NmExLjE0IDEuMTQgMCAwIDAtMS40OS0uODVsLS43Mi4yNWMtLjQ0LjE1LS45Mi4wMi0xLjIzLS4zM2wtLjUtLjU4Wm0tLjQ5IDIuNjdMMTAuNiA2LjZjLjA1LjE1LjE5LjI0LjM0LjI1bDMuMjYuMjJjLjM2LjAzLjUuNDguMjMuNzFsLTIuNSAyLjFhLjQuNCAwIDAgMC0uMTQuNGwuOCAzLjE2YS40LjQgMCAwIDEtLjYuNDRMOS4yIDEyLjEzYS40LjQgMCAwIDAtLjQyIDBsLTIuNzcgMS43NGEuNC40IDAgMCAxLS42LS40NGwuOC0zLjE2YS40LjQgMCAwIDAtLjEzLS40bC0yLjUtMi4xYS40LjQgMCAwIDEgLjIyLS43bDMuMjYtLjIzYS40LjQgMCAwIDAgLjM0LS4yNWwxLjIyLTMuMDNhLjQuNCAwIDAgMSAuNzQgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uU3RhclZlcmlmaWVkU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3RhclZlcmlmaWVkU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk03LjcuNzJjLS40LS4zLS45NC0uMy0xLjM0IDBsLTEuMjYuOTJjLS4xNS4xMS0uMzIuMTgtLjUuMmwtMS41NC4yNWMtLjQ5LjA3LS44Ny40NS0uOTUuOTRsLS4yMyAxLjU1Yy0uMDMuMTgtLjEuMzUtLjIuNUwuNzQgNi4zMmMtLjMuNC0uMy45NCAwIDEuMzRsLjkyIDEuMjZjLjExLjE0LjE4LjMxLjIuNWwuMjQgMS41NGMuMDguNDkuNDYuODcuOTUuOTRsMS41NC4yNGMuMTguMDMuMzUuMS41LjJsMS4yNi45M2MuNC4zLjk0LjMgMS4zNCAwbDEuMjYtLjkyYy4xNC0uMTEuMzEtLjE4LjUtLjIxbDEuNTQtLjI0Yy40OC0uMDcuODctLjQ1Ljk0LS45NGwuMjQtMS41NWMuMDMtLjE4LjEtLjM1LjItLjVsLjkzLTEuMjVjLjMtLjQuMy0uOTQgMC0xLjM0bC0uOTMtMS4yNmMtLjEtLjE0LS4xNy0uMzEtLjItLjVsLS4yNC0xLjU0QTEuMTMgMS4xMyAwIDAgMCAxMSAyLjFsLTEuNTUtLjI0Yy0uMTgtLjAzLS4zNS0uMS0uNS0uMkw3LjcuNzFabS0uNCAxLjcyLjkgMi41Yy4wNC4xLjE1LjE5LjI3LjJsMi42NS4wOGMuMjggMCAuNC4zNi4xNy41M0w5LjIxIDcuMzhhLjMuMyAwIDAgMC0uMS4zMmwuNzQgMi41NGEuMy4zIDAgMCAxLS40Ni4zM0w3LjE5IDkuMWEuMy4zIDAgMCAwLS4zMyAwbC0yLjE5IDEuNDhhLjMuMyAwIDAgMS0uNDYtLjMzbC43NC0yLjU0YS4zLjMgMCAwIDAtLjEtLjMybC0yLjEtMS42M2EuMy4zIDAgMCAxIC4xOC0uNTNsMi42NS0uMDlhLjMuMyAwIDAgMCAuMjctLjJsLjktMi40OWEuMy4zIDAgMCAxIC41NiAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TdHJpa2V0aHJvdWdoID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblN0cmlrZXRocm91Z2hcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xMS45NiA2LjJhNC4yOCA0LjI4IDAgMCAwLTEuMTktLjdjLS4zLS4xNC0uNjEtLjI1LS45Ni0uMzRhNC4yIDQuMiAwIDAgMC0xLjA1LS4xM2MtLjY0IDAtMS4xMS4xMS0xLjQzLjM1LS4zLjIzLS40Ny41Ni0uNDcuOTkgMCAuMjQuMDYuNDUuMTcuNjJsLjAxLjAxSDQuNXYtLjI2YzAtLjYuMS0xLjE0LjMzLTEuNjEuMjItLjQ3LjUzLS44Ni45Mi0xLjE4LjQtLjMuODctLjU0IDEuNC0uN2E2LjQ0IDYuNDQgMCAwIDEgNCAuMTVjLjcuMjYgMS4zMS41NyAxLjg0LjkyTDExLjk2IDYuMlpNMyA4djJoNS4wMmwxLjEuMzJjLjM5LjExLjcxLjI0Ljk4LjM3cy40Ny4yOS42Mi40N2ExIDEgMCAwIDEgLjIyLjY1YzAgLjgyLS42NCAxLjIyLTEuOTEgMS4yMi0uNDYgMC0uOS0uMDUtMS4zNC0uMTZhNy43OSA3Ljc5IDAgMCAxLTIuMTMtLjkgMy42IDMuNiAwIDAgMS0uNTQtLjRsLTEuMDIgMmE4Ljk1IDguOTUgMCAwIDAgNSAxLjU0Yy41NyAwIDEuMTMtLjA2IDEuNjUtLjE4LjU0LS4xNCAxLS4zNCAxLjQtLjYyLjQyLS4yOC43NC0uNjQuOTgtMS4xLjI1LS40NS4zNy0xIC4zNy0xLjYzYTMuMTQgMy4xNCAwIDAgMC0uMzgtMS41OEgxNVY4SDNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblN0cm9sbGVyID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblN0cm9sbGVyXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTAgMWMtLjcgMC0xLjM3LjEyLTIgLjM0VjZoNy45MkE2IDYgMCAwIDAgMTAgMVptNiA2SDZMNSA1SDF2MmgzYzAgMS4xMi4zIDIuMTcuODQgMy4wNkEzLjUgMy41IDAgMSAwIDkgMTMuNWEzLjUgMy41IDAgMSAwIDUuNjgtMi43NEE1Ljk3IDUuOTcgMCAwIDAgMTYgN1ptLTcgNi41YzAtLjItLjAyLS40LS4wNS0uNmwuMS4wMmMtLjAzLjItLjA1LjM4LS4wNS41OFptLTIgMGExLjUgMS41IDAgMSAxLTMgMCAxLjUgMS41IDAgMCAxIDMgMFptNyAwYTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TdWJ3YXkgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3Vid2F5XFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOSAxYy00LjQyIDAtNyAuNS03IDR2Ni41QTMuNSAzLjUgMCAwIDAgNS41IDE1TDQgMTYuNXYuNWgxMHYtLjVMMTIuNSAxNWEzLjUgMy41IDAgMCAwIDMuNS0zLjVWNWMwLTMuNS0yLjU4LTQtNy00Wk01LjUgMTIuNzVhMS4yNSAxLjI1IDAgMSAxIDAtMi41IDEuMjUgMS4yNSAwIDAgMSAwIDIuNVpNOCA5SDRWNWg0djRabTQuNSAzLjc1YTEuMjUgMS4yNSAwIDEgMSAwLTIuNSAxLjI1IDEuMjUgMCAwIDEgMCAyLjVaTTE0IDloLTRWNWg0djRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblN5bmMgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3luY1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEzLjcgMTIuN0E2LjE1IDYuMTUgMCAwIDEgOSAxNC44MiA2LjA2IDYuMDYgMCAwIDEgMy4yOSAxMUgxYy45MiAzLjQ1IDQuMTUgNiA4IDYgMi41IDAgNC43My0xLjA3IDYuMjQtMi43NkwxNyAxNnYtNmgtNmwyLjcgMi43Wk0xIDJ2Nmg2TDQuMyA1LjNBNi4xNSA2LjE1IDAgMCAxIDkgMy4xOCA2LjA2IDYuMDYgMCAwIDEgMTQuNzEgN0gxN2E4LjIyIDguMjIgMCAwIDAtOC02IDguMzYgOC4zNiAwIDAgMC02LjI0IDIuNzZMMSAyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25TeW5jU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uU3luY1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNMTAuNTggOS41OEE0LjQ2IDQuNDYgMCAwIDEgNyAxMS4zNiA0LjQzIDQuNDMgMCAwIDEgMi42NyA4SDFjLjQ4IDIuODQgMi45OSA1IDYgNWE2LjEgNi4xIDAgMCAwIDQuNzUtMi4yNUwxMyAxMlY4SDlsMS41OCAxLjU4Wk0zLjQyIDQuNDJBNC40NiA0LjQ2IDAgMCAxIDcgMi42NCA0LjQzIDQuNDMgMCAwIDEgMTEuMzMgNkgxM2E2LjA2IDYuMDYgMCAwIDAtNi01IDYuMSA2LjEgMCAwIDAtNC43NSAyLjI1TDEgMnY0aDRMMy40MiA0LjQyWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25USUwgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVElMXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM4QjQxQUZcXFwiIGQ9XFxcIk0yIDRjMC0xLjEuOS0yIDItMmgxMWEyIDIgMCAwIDEgMiAydjExYTIgMiAwIDAgMS0yIDJINGEyIDIgMCAwIDEtMi0yVjRabTIuNSAyLjVjMCAuMjguMjIuNS41LjVoMXY1LjVhLjUuNSAwIDAgMCAxIDBWN2gxYS41LjUgMCAwIDAgMC0xSDVhLjUuNSAwIDAgMC0uNS41Wm01LjUgMGEuNS41IDAgMCAwLTEgMHY2YS41LjUgMCAwIDAgMSAwdi02Wm0yLjUtLjVhLjUuNSAwIDAgMC0uNS41djZjMCAuMjguMjIuNS41LjVoMmEuNS41IDAgMCAwIDAtMUgxM1Y2LjVhLjUuNSAwIDAgMC0uNS0uNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVGFibGUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGFibGVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xIDNjMC0xLjEuOS0yIDItMmgxMmEyIDIgMCAwIDEgMiAydjEyYTIgMiAwIDAgMS0yIDJIM2EyIDIgMCAwIDEtMi0yVjNabTcgNFYzSDN2NGg1Wm0wIDRWOUgzdjJoNVptNy0yaC01djJoNVY5Wm0wIDZ2LTJoLTV2Mmg1Wm0tNy0ySDN2Mmg1di0yWm03LTEwaC01djRoNVYzWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UYWNrID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblRhY2tcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm02Ljc5IDEyLjY3IDMuNTMgMy41M2E2IDYgMCAwIDAgMS4xOC02LjgzbDIuMDMtMi4wM0E0IDQgMCAwIDAgMTggNS41TDEyLjUzLjAzQTQgNCAwIDAgMCAxMC43IDQuNUw4LjY3IDYuNTRhNiA2IDAgMCAwLTYuODMgMS4xOGwzLjUzIDMuNTMtMy4xOCAzLjE4LTEuNzcgMy4xOSAzLjE4LTEuNzcgMy4xOS0zLjE4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UYWNrU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGFja1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNS4zIDEwLjMgOCAxM2MxLjA4LTEuMDggMS4zMi0zLjY3LjU4LTUuNGwxLjYtMS42OGMxLjA1LjI5IDIuNS0uMSAzLjM0LS45My4yLS4xOS4zNS0uNC40OC0uNjNMOS42NSAwQzkuNDIuMTMgOS4yLjMgOSAuNWE0LjA0IDQuMDQgMCAwIDAtLjkzIDMuNDhMNi40IDUuNjVDNC42MiA0LjggMi41MyA0LjYxIDEgNmwyLjcgMi43LTIuNSAyLjZMMCAxNGwyLjctMS4yIDIuNi0yLjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRhZGEgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGFkYVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNMTAuMzggNy40OGMtMi45LTIuOS01LjQtMy43My01LjUxLTMuMzhsLTMuOCAxMS40NWMtLjE0LjQtLjAzLjg2LjI3IDEuMTUuMy4zLjc4LjM4IDEuMTcuMjJsMTEuNDItMy4zMWMuMy0uMTUtLjY0LTMuMjItMy41NC02LjEzWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48cGF0aCBmaWxsPVxcXCIjRkY5NzAwXFxcIiBkPVxcXCJNNi44IDExLjA3YTE4LjAyIDE4LjAyIDAgMCAxLTIuOTMtMy45NmwxLTNDNS40NyA2LjE1IDYuNjUgOCA4LjI1IDkuNGEyMS43MiAyMS43MiAwIDAgMCA1LjU5IDQuMjJsLTIuODYuODNhMzEuMTkgMzEuMTkgMCAwIDEtNC4xNy0zLjM5Wk0zLjYgMTQuMmE0LjI2IDQuMjYgMCAwIDEtMS4zMy0yLjI0bC45MS0yLjc0Yy41IDEuMjcgMS4yNSAyLjQzIDIuMiAzLjQuOTUuOTUgMiAxLjgxIDMuMSAyLjU3bC0yLjU3Ljc0YTkuMDMgOS4wMyAwIDAgMS0yLjMxLTEuNzJaXFxcIiBvcGFjaXR5PVxcXCIuNlxcXCIvPjxwYXRoIGZpbGw9XFxcIiNGNzVEMzdcXFwiIGQ9XFxcIk0xNS44NSAyLjE1Yy4yLjIuMi41IDAgLjdsLTQgNGEuNS41IDAgMCAxLS43LS43bDQtNGMuMi0uMi41LS4yLjcgMFpcXFwiLz48cGF0aCBmaWxsPVxcXCIjMDdDXFxcIiBkPVxcXCJNMTAgMS41YS41LjUgMCAwIDAtMSAwdjNhLjUuNSAwIDAgMCAxIDB2LTNaTTEzLjUgOGEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgMC0xaC0zWlxcXCIvPjxwYXRoIGZpbGw9XFxcIiMwN0NcXFwiIGQ9XFxcIk03LjUgM2EuNS41IDAgMSAwIDAtMSAuNS41IDAgMCAwIDAgMVptNSAwYS41LjUgMCAxIDAgMC0xIC41LjUgMCAwIDAgMCAxWk0xNiA1LjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDAgMSAxIDBabS0uNSA1LjVhLjUuNSAwIDEgMCAwLTEgLjUuNSAwIDAgMCAwIDFaXFxcIiBvcGFjaXR5PVxcXCIuNlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UYWcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGFnXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOS44NCAxYTIgMiAwIDAgMC0xLjQxLjU4TDEuNTkgOC40M2EyIDIgMCAwIDAgMCAyLjgybDUuMTYgNS4xNmEyIDIgMCAwIDAgMi44MiAwbDYuODQtNi44NGEyIDIgMCAwIDAgLjU5LTEuNFYzYTIgMiAwIDAgMC0yLTJIOS44NFpNMTMgN2EyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRhZ1NtID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblRhZ1NtXFxcIiB3aWR0aD1cXFwiMTRcXFwiIGhlaWdodD1cXFwiMTRcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTQgMTRcXFwiPjxwYXRoICBkPVxcXCJNNy42MyAxYy0uNCAwLS43OC4xNi0xLjA2LjQ0TDEuNDQgNi41N2ExLjUgMS41IDAgMCAwIDAgMi4xMmwzLjg3IDMuODdhMS41IDEuNSAwIDAgMCAyLjEyIDBsNS4xMy01LjEzYy4yOC0uMjguNDQtLjY2LjQ0LTEuMDZWMi41YzAtLjgzLS42Ny0xLjUtMS41LTEuNUg3LjYzWk05LjUgNmExLjUgMS41IDAgMSAxIDAtMyAxLjUgMS41IDAgMCAxIDAgM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVGFncyA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25UYWdzXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNOS4yNCAxYTMgMyAwIDAgMC0yLjEyLjg4bC01LjcgNS43YTIgMiAwIDAgMC0uMzggMi4zMSAzIDMgMCAwIDEgLjY3LTEuMDFsNi02QTMgMyAwIDAgMSA5LjgzIDJIMTRhMyAzIDAgMCAxIC43OS4xQTIgMiAwIDAgMCAxMyAxSDkuMjRaXFxcIiBvcGFjaXR5PVxcXCIuNFxcXCIvPjxwYXRoICBkPVxcXCJNOS44MyAzYTIgMiAwIDAgMC0xLjQyLjU5bC02IDZhMiAyIDAgMCAwIDAgMi44Mkw2LjYgMTYuNmEyIDIgMCAwIDAgMi44MiAwbDYtNkEyIDIgMCAwIDAgMTYgOS4xN1Y1YTIgMiAwIDAgMC0yLTJIOS44M1pNMTIgOWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRhZ3NTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25UYWdzU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk02LjgzIDFhMiAyIDAgMCAwLTEuNDIuNTlsLTQuMiA0LjJhMSAxIDAgMCAwIDAgMS40MmwuMS4xLjE5LS4yMkw2IDIuNTlBMiAyIDAgMCAxIDcuNDEgMkgxMWExIDEgMCAwIDAtMS0xSDYuODNaXFxcIiBvcGFjaXR5PVxcXCIuNFxcXCIvPjxwYXRoICBkPVxcXCJNNi43IDMuM2ExIDEgMCAwIDEgLjcxLS4zSDExYTEgMSAwIDAgMSAxIDF2My41OWExIDEgMCAwIDEtLjMuN2wtNC41IDQuNWExIDEgMCAwIDEtMS40IDBMMi4yIDkuMjFhMSAxIDAgMCAxIDAtMS40Mmw0LjUtNC41Wk05IDcuMjRhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNVpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVGhlbWUgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGhlbWVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0zLjM0IDE0LjY2QTggOCAwIDEgMCAxNC42NiAzLjM0IDggOCAwIDAgMCAzLjM0IDE0LjY2Wm05LjktMS40MmE2IDYgMCAwIDEtOC40OCAwbDguNDgtOC40OGE2IDYgMCAwIDEgMCA4LjQ4WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UaHJlZSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25UaHJlZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTguMDcgOS4yM2gxLjJjLjU4IDAgMS0uMTQgMS4yOC0uNDMuMjctLjI4LjQxLS42Ni40MS0xLjE0IDAtLjQ1LS4xNC0uODEtLjQxLTEuMDdhMS41OCAxLjU4IDAgMCAwLTEuMTMtLjM4Yy0uNDMgMC0uOC4xMi0xLjA4LjM2LS4zLjIzLS40NC41NC0uNDQuOTJINS42NGMwLS42LjE2LTEuMTIuNDgtMS42LjMyLS40Ny43Ny0uODQgMS4zNC0xLjEuNTgtLjI3IDEuMjEtLjQgMS45LS40IDEuMjEgMCAyLjE1LjI5IDIuODQuODdhMi45MyAyLjkzIDAgMCAxIDEuMDIgMi4zN2MwIC41Mi0uMTYgMS0uNDggMS40NGEzLjEgMy4xIDAgMCAxLTEuMjUgMSAyLjggMi44IDAgMCAxIDEuNDMgMS4wNGMuMzIuNDYuNDggMSAuNDggMS42MmEzIDMgMCAwIDEtMS4xMSAyLjQzYy0uNzQuNjEtMS43LjkyLTIuOTIuOTItMS4xNCAwLTIuMDctLjMtMi44LS45QTIuOTQgMi45NCAwIDAgMSA1LjUgMTIuOGgyLjI2YzAgLjQzLjE2Ljc4LjQ3IDEuMDUuMzMuMjcuNzIuNCAxLjIuNC41MyAwIC45NS0uMTMgMS4yNS0uNDEuMy0uMjkuNDYtLjY3LjQ2LTEuMTQgMC0xLjEzLS42Mi0xLjctMS44Ny0xLjdoLTEuMlY5LjIzWk0xNy4yNSAxNWExLjI1IDEuMjUgMCAxIDEtMi41IDAgMS4yNSAxLjI1IDAgMCAxIDIuNSAwWlxcXCIgb3BhY2l0eT1cXFwiLjJcXFwiLz48cGF0aCAgZD1cXFwiTTYuMDcgNy44M2gxLjJjLjU4IDAgMS0uMTUgMS4yOC0uNDMuMjctLjI5LjQxLS42Ny40MS0xLjE0IDAtLjQ2LS4xNC0uODItLjQxLTEuMDdhMS41OCAxLjU4IDAgMCAwLTEuMTMtLjM5Yy0uNDMgMC0uOC4xMi0xLjA4LjM2LS4zLjI0LS40NC41NS0uNDQuOTNIMy42NGMwLS42LjE2LTEuMTMuNDgtMS42LjMyLS40Ny43Ny0uODQgMS4zNC0xLjEuNTgtLjI3IDEuMjEtLjQgMS45LS40IDEuMjEgMCAyLjE1LjI4IDIuODQuODZhMi45MyAyLjkzIDAgMCAxIDEuMDIgMi4zOCAyLjkyIDIuOTIgMCAwIDEtMS43MyAyLjYxYy42NC4yMyAxLjEyLjgxIDEuNDMgMS4yNy4zMi40Ni40OCAxIC40OCAxLjYyYTMgMyAwIDAgMS0xLjExIDIuNDNjLS43NC42MS0xLjcuOTItMi45Mi45Mi0xLjE0IDAtMi4wNy0uMy0yLjgtLjlBMi45NCAyLjk0IDAgMCAxIDMuNSAxMS44aDIuMjZjMCAuNDMuMTYuNzguNDcgMS4wNS4zMy4yNy43Mi40IDEuMi40LjUzIDAgLjk1LS4xMyAxLjI1LS40MS4zLS4yOS40Ni0uNjcuNDYtMS4xNCAwLTEuMTMtLjYyLTEuNy0xLjg3LTEuN2gtMS4yVjcuODNaTTE1LjI1IDE0YTEuMjUgMS4yNSAwIDEgMS0yLjUgMCAxLjI1IDEuMjUgMCAwIDEgMi41IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRocmVlTGcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGhyZWVMZ1xcXCIgd2lkdGg9XFxcIjM2XFxcIiBoZWlnaHQ9XFxcIjM2XFxcIiAgdmlld0JveD1cXFwiMCAwIDM2IDM2XFxcIj48cGF0aCAgZD1cXFwiTTE0LjIgMTguNTNoMi40NGMxLjE2IDAgMi4wMi0uMjggMi41OC0uODQuNTYtLjU3Ljg0LTEuMzIuODQtMi4yNSAwLS45LS4yOC0xLjYtLjg0LTIuMS0uNTUtLjUtMS4zLS43Ni0yLjI4LS43Ni0uODcgMC0xLjYuMjQtMi4yLjdhMi4yIDIuMiAwIDAgMC0uODggMS44Mkg5LjI4YzAtMS4xNi4zMy0yLjIxLjk3LTMuMTNhNi40OSA2LjQ5IDAgMCAxIDIuNzItMi4xOUE5LjM3IDkuMzcgMCAwIDEgMTYuODMgOWMyLjQ0IDAgNC4zNS41NyA1LjczIDEuN2E1LjcgNS43IDAgMCAxIDIuMDggNC42OGMwIDEuMDMtLjMzIDEuOTctLjk3IDIuODNhNi4yNCA2LjI0IDAgMCAxLTIuNTMgMS45OCA1LjY3IDUuNjcgMCAwIDEgMi45IDIuMDNjLjY0LjkuOTYgMS45Ny45NiAzLjIgMCAxLjk5LS43NSAzLjU4LTIuMjUgNC43OC0xLjQ4IDEuMi0zLjQ2IDEuOC01LjkyIDEuOC0yLjMgMC00LjE4LS41OS01LjY1LTEuNzdBNS43MiA1LjcyIDAgMCAxIDkgMjUuNTZoNC41N2MwIC44NC4zMyAxLjUzLjk3IDIuMDYuNjUuNTMgMS40Ni44IDIuNC44IDEuMSAwIDEuOTQtLjI4IDIuNTUtLjgzLjYzLS41Ny45NC0xLjMuOTQtMi4yMyAwLTIuMjQtMS4yNy0zLjM1LTMuOC0zLjM1SDE0LjJ2LTMuNDhaTTMzIDMwYTIgMiAwIDEgMS00IDAgMiAyIDAgMCAxIDQgMFpcXFwiIG9wYWNpdHk9XFxcIi4yXFxcIi8+PHBhdGggIGQ9XFxcIk0xMi4wMyAxNS42MWgyLjYxYzEuMTYgMCAyLjAyLS4yOCAyLjU4LS44NXMuODQtMS4zMi44NC0yLjI2YzAtLjkxLS4yOC0xLjYyLS44NC0yLjEzLS41NS0uNS0xLjMtLjc2LTIuMjgtLjc2LS44NyAwLTEuNi4yNC0yLjIuNzJhMi4yIDIuMiAwIDAgMC0uODggMS44Mkg3LjI4YzAtMS4xNy4zMy0yLjIzLjk3LTMuMTZhNi41IDYuNSAwIDAgMSAyLjcyLTIuMkE5LjMgOS4zIDAgMCAxIDE0LjgzIDZjMi40NCAwIDQuMzUuNTcgNS43MyAxLjcyYTUuNzcgNS43NyAwIDAgMSAyLjA4IDQuNzEgNS43MSA1LjcxIDAgMCAxLTMuNSA1LjJjMS4zLjQ1IDIuMjYgMS42IDIuOSAyLjUxLjY0LjkuOTYgMS45OC45NiAzLjIyIDAgMi0uNzUgMy42Mi0yLjI1IDQuODMtMS40OCAxLjItMy40NiAxLjgxLTUuOTIgMS44MS0yLjMgMC00LjE4LS42LTUuNjUtMS43OEE1Ljc4IDUuNzggMCAwIDEgNyAyMy41aDQuNTdjMCAuODUuMzMgMS41NC45NyAyLjA4LjY1LjU0IDEuNDYuOCAyLjQuOCAxLjEgMCAxLjk0LS4yNyAyLjU1LS44M2EyLjkgMi45IDAgMCAwIC45NC0yLjI1YzAtMi4yNS0xLjI3LTMuMzgtMy44LTMuMzhoLTIuNnYtNC4zWk0zMSAyOGEyIDIgMCAxIDEtNCAwIDIgMiAwIDAgMSA0IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRodW1ic0Rvd24gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVGh1bWJzRG93blxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMDdDXFxcIiBkPVxcXCJNMSA2LjVDMSA1LjY3IDEuNjcgNSAyLjUgNUg0djZIMi41QTEuNSAxLjUgMCAwIDEgMSA5LjV2LTNaXFxcIiBvcGFjaXR5PVxcXCIuN1xcXCIvPjxwYXRoIGZpbGw9XFxcIiNGRkMxNjZcXFwiIGQ9XFxcIk01IDQuOTV2NnMzLjk0IDUuMjggNC4yIDUuNmMuMjcuMzMuNjQuNDYuOTYuNDYuMzIgMCAuNi0uMTQuODQtLjM2LjM0LS4zMi40OC0xLjIzLjQ0LTEuOWEzLjMyIDMuMzIgMCAwIDAtLjY5LTEuOGMtLjIzLS4zMS4wNC0uNzguNDktLjcxIDAgMCAxLjcxLjMzIDIuMy4zNi41OS4wMyAyLjcxLjEyIDIuNzEtMS42OCAwLTEuOC0uOTctNC41My0xLjQtNS40NC0uNDMtLjkyLTEuMTktMi4xNS0yLjExLTIuMzhhNC44MyA0LjgzIDAgMCAwLTIuNjQuMDVMNSA0Ljk1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UaHVtYnNVcCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25UaHVtYnNVcFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjRkZDMTY2XFxcIiBkPVxcXCJNNSAxNVY5czMuOTQtNS4yOCA0LjItNS42Yy4yNy0uMzMuNjQtLjQ2Ljk2LS40Ni4zMiAwIC42LjE0Ljg0LjM2LjM0LjMyLjQ4IDEuMjMuNDQgMS44OUEzLjMyIDMuMzIgMCAwIDEgMTAuNzUgN2MtLjIzLjMxLjA0Ljc4LjQ5LjcxIDAgMCAxLjcxLS4zMyAyLjMtLjM2LjU5LS4wMyAyLjcxLS4xMyAyLjcxIDEuNjggMCAxLjgtLjk3IDQuNTItMS40IDUuNDQtLjQzLjkyLTEuMTkgMi4xNS0yLjExIDIuMzgtLjg3LjIzLTEuNzguMjEtMi42NC0uMDVMNSAxNVpcXFwiLz48cGF0aCBmaWxsPVxcXCIjMDdDXFxcIiBkPVxcXCJNMSAxMC41QzEgOS42NyAxLjY3IDkgMi41IDlINHY2SDIuNUExLjUgMS41IDAgMCAxIDEgMTMuNXYtM1pcXFwiIG9wYWNpdHk9XFxcIi43XFxcIi8+PHBhdGggIGQ9XFxcIk0xMSAuNWEuNS41IDAgMCAwLTEgMHYxYS41LjUgMCAwIDAgMSAwdi0xWk02LjE1IDIuMTVjLjItLjIuNS0uMi43IDBsMSAxYS41LjUgMCAxIDEtLjcuN2wtMS0xYS41LjUgMCAwIDEgMC0uN1ptOC43IDBjLjIuMi4yLjUgMCAuN2wtMSAxYS41LjUgMCAwIDEtLjctLjdsMS0xYy4yLS4yLjUtLjIuNyAwWlxcXCIgb3BhY2l0eT1cXFwiLjRcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVG9vbCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Ub29sXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNNC4yIDEuMzNhNC45OSA0Ljk5IDAgMCAxIDYuNDcgNi40N0wxNyAxNC4xM2wtMi44OCAyLjg4LTYuMzQtNi4zNGE0Ljk5IDQuOTkgMCAwIDEtNi40NS02LjQ1bDMuMjIgMy4yIDIuODgtMi44N0w0LjIgMS4zM1pcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVHJhc2ggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVHJhc2hcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNSAyYTEgMSAwIDAgMSAxIDF2MUgyVjNhMSAxIDAgMCAxIDEtMWgyYTEgMSAwIDAgMSAxLTFoNmExIDEgMCAwIDEgMSAxaDJabTAgM0gzdjEwYzAgMS4xLjkgMiAyIDJoOGEyIDIgMCAwIDAgMi0yVjVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblRyYXNoU20gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVHJhc2hTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTExIDJhMSAxIDAgMCAxIDEgMXYxSDJWM2ExIDEgMCAwIDEgMS0xaDJhMSAxIDAgMCAxIDEtMWgyYTEgMSAwIDAgMSAxIDFoMlptMCAzSDN2NmMwIDEuMS45IDIgMiAyaDRhMiAyIDAgMCAwIDItMlY1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UcmVuZGluZ0Rvd24gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVHJlbmRpbmdEb3duXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJtMTEgMTQgMi4yOS0yLjI5TDEwLjUgOWwtMyAzTDEgNS41IDIuNSA0bDUgNSAzLTMgNC4yMSA0LjI5TDE3IDh2NmgtNlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVHJlbmRpbmdOb25lID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblRyZW5kaW5nTm9uZVxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTUgOFY1TDEgOWw0IDR2LTNoOHYzbDQtNC00LTR2M0g1WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25UcmVuZGluZ1VwID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblRyZW5kaW5nVXBcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIm0xMSA0IDIuMjkgMi4yOUwxMC41IDlsLTMtM0wxIDEyLjUgMi41IDE0bDUtNSAzIDMgNC4yMS00LjI5TDE3IDEwVjRoLTZaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblR3aXR0ZXIgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVHdpdHRlclxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjMkFBM0VGXFxcIiBkPVxcXCJNMTcgNC4wNGMtLjU5LjI2LTEuMjIuNDQtMS44OC41MmEzLjMgMy4zIDAgMCAwIDEuNDQtMS44MmMtLjY0LjM3LTEuMzQuNjQtMi4wOS43OWEzLjI4IDMuMjggMCAwIDAtNS42IDIuOTlBOS4zIDkuMyAwIDAgMSAyLjEyIDMuMWEzLjI4IDMuMjggMCAwIDAgMS4wMiA0LjM4IDMuMjggMy4yOCAwIDAgMS0xLjQ5LS40di4wM2EzLjI5IDMuMjkgMCAwIDAgMi42NCAzLjIyIDMuMzQgMy4zNCAwIDAgMS0xLjQ4LjA2IDMuMjkgMy4yOSAwIDAgMCAzLjA3IDIuMjggNi41OCA2LjU4IDAgMCAxLTQuODUgMS4zNiA5LjMzIDkuMzMgMCAwIDAgNS4wNCAxLjQ3YzYuMDQgMCA5LjM0LTUgOS4zNC05LjMzdi0uNDJhNi42MyA2LjYzIDAgMCAwIDEuNjMtMS43TDE3IDQuMDRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblR3byA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25Ud29cXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk0xNy4yNSAxNWExLjI1IDEuMjUgMCAxIDEtMi41IDAgMS4yNSAxLjI1IDAgMCAxIDIuNSAwWm0tNC4yOSAxaC03Ljh2LTEuNTVsMy42OC0zLjkyYTkuMiA5LjIgMCAwIDAgMS4xMi0xLjQ0Yy4yNS0uNDIuMzctLjguMzctMS4xOCAwLS41LS4xMy0uOS0uMzgtMS4xOC0uMjYtLjMtLjYyLS40NC0xLjEtLjQ0LS41IDAtLjkxLjE4LTEuMi41My0uMy4zNS0uNDUuNjQtLjQ1IDEuMjFINC45NGMwLS43LjE2LTEuMTUuNDktMS43M2EzLjUgMy41IDAgMCAxIDEuNC0xLjM0Yy42MS0uMzMgMS4zLS41IDIuMDYtLjUgMS4xNyAwIDIuMDguMjkgMi43My44NWEzIDMgMCAwIDEgLjk3IDIuMzkgMy44IDMuOCAwIDAgMS0uNDMgMS43MWMtLjMuNTktLjggMS4yNy0xLjUgMi4wNGwtMi41OSAyLjczaDQuOVYxNlpcXFwiIG9wYWNpdHk9XFxcIi4yXFxcIi8+PHBhdGggIGQ9XFxcIk0xMC45NiAxNWgtNy44di0xLjU1bDMuNjgtMy45MmE5LjIgOS4yIDAgMCAwIDEuMTItMS40NGMuMjUtLjQyLjQyLS45My40Mi0xLjMgMC0uNCAwLS44OC0uMzQtMS4yNy0uMjYtLjMtLjcxLS41NC0xLjE5LS41NC0uNSAwLS45MS4xOC0xLjIuNTQtLjMuMzQtLjQ1Ljk0LS40NSAxLjUxSDIuOTRjMC0uNy4xNi0xLjU5LjQ5LTIuMTZhMy41IDMuNSAwIDAgMSAxLjQtMS4zNWMuNjEtLjMyIDEuMy0uNDkgMi4wNi0uNDkgMS4xNyAwIDIuMDcuNCAyLjcyLjk1LjY1LjU3Ljk4IDEuNjkuOTggMi43MmEzLjggMy44IDAgMCAxLS40MyAxLjcxYy0uMy41OS0uOCAxLjI3LTEuNSAyLjA0bC0yLjU5IDIuNzNoNC45VjE1Wm00LjI5LTFhMS4yNSAxLjI1IDAgMSAxLTIuNSAwIDEuMjUgMS4yNSAwIDAgMSAyLjUgMFpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVHdvTGcgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVHdvTGdcXFwiIHdpZHRoPVxcXCIzNlxcXCIgaGVpZ2h0PVxcXCIzNlxcXCIgIHZpZXdCb3g9XFxcIjAgMCAzNiAzNlxcXCI+PHBhdGggIGQ9XFxcIk0zMyAzMGEyIDIgMCAxIDEtNCAwIDIgMiAwIDAgMSA0IDBabS03IDJIMTAuNDV2LTMuMDlsNy4zNC03LjgyYzEtMS4xIDEuNzUtMi4wNiAyLjIzLTIuODguNDktLjgyLjczLTEuNi43My0yLjM0IDAtMS0uMjUtMS44LS43Ni0yLjM3YTIuNzUgMi43NSAwIDAgMC0yLjE4LS44N2MtMS4wMiAwLTEuODMuMzUtMi40MiAxLjA2LS41OC43LS44NyAxLjI3LS44NyAyLjQySDEwYzAtMS4zOS4zMy0yLjMuOTgtMy40NWE2Ljk3IDYuOTcgMCAwIDEgMi44LTIuNjggOC40NCA4LjQ0IDAgMCAxIDQuMS0uOThjMi4zNCAwIDQuMTUuNTYgNS40NCAxLjY4IDEuMyAxLjEyIDEuOTUgMi43IDEuOTUgNC43NiAwIDEuMTItLjMgMi4yNi0uODcgMy40MmExOS4wNSAxOS4wNSAwIDAgMS0zIDQuMDdsLTUuMTUgNS40NEgyNlYzMlpcXFwiIG9wYWNpdHk9XFxcIi4yXFxcIi8+PHBhdGggIGQ9XFxcIk0yMiAzMEg2di0yLjg0bDcuNzktOC4xM2MxLTEuMSAxLjc1LTIuMDcgMi4yMy0yLjlhNS43IDUuNyAwIDAgMCAuODQtMi41OWMwLS43OSAwLTEuNzYtLjY5LTIuNTZhMy4yOCAzLjI4IDAgMCAwLTIuMzYtMS4wNmMtMS4wMiAwLTEuODMuMzUtMi40MiAxLjA2LS41OC43LS44NyAxLjktLjg3IDMuMDRINmMwLTEuMzkuMzMtMy4xOS45OC00LjM0YTYuOTkgNi45OSAwIDAgMSAyLjgtMi43IDguNCA4LjQgMCAwIDEgNC4xLS45OGMyLjM0IDAgNC4xNC43OCA1LjQyIDEuOTEgMS4zIDEuMTMgMS45NyAzLjM4IDEuOTcgNS40NGE3LjcgNy43IDAgMCAxLS44NyAzLjQ0IDE5LjE1IDE5LjE1IDAgMCAxLTMgNC4xbC01LjE1IDUuNDZIMjJWMzBabTktMmEyIDIgMCAxIDEtNCAwIDIgMiAwIDAgMSA0IDBaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblVuZG8gPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVW5kb1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTMuMzUgMy4zNUE4IDggMCAxIDEgMS4yNyAxMWgyLjA4YTYgNiAwIDEgMCAxLjQzLTYuMjJMOCA4SDFWMWwyLjM1IDIuMzVaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblVuZG9TbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbmRvU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk0yLjc2IDIuNzZBNiA2IDAgMSAxIDEuMDkgOGgxLjkzQTQuMSA0LjEgMCAxIDAgNC4xIDQuMUw2IDZIMVYxbDEuNzYgMS43NlpcXFwiLz48L3N2Zz5cIjtcbmV4cG9ydCBjb25zdCBJY29uVW5mbGFnID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblVuZmxhZ1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwibTMgMTEuMTQtMyAzIDEuNDEgMS40MkwxNS41NiAxLjQgMTQuMTQgMGwtMyAzSDkuNUw5IDJIM3Y5LjE0Wk01IDE2SDMuOEw1IDE0LjhWMTZabTQtNS0uMDYtLjE0TDE1IDQuOFYxMUg5WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25VbmZsYWdTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbmZsYWdTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwibTIgMTAuODUgMi0yTDQuODUgOGw1LTUgMS44OC0xLjg4TDEwLjY3LjA2IDcuNzMgM0g3LjVMNyAySDJ2Ni43M0wuMDYgMTAuNjdsMS4wNiAxLjA2Ljg4LS44OFpNNCAxMkgyLjk3TDQgMTAuOTdWMTJabTMtMy0uMy0uNzRMMTEgMy45N1Y5SDdaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblVubG9jayA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbmxvY2tcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggIGQ9XFxcIk01LjkgNmEzLjEgMy4xIDAgMCAxIDUuNC0yLjA4Ljk1Ljk1IDAgMCAwIDEuNC0xLjI4QTQuOTkgNC45OSAwIDAgMCA0IDZ2MWEyIDIgMCAwIDAtMiAydjZjMCAxLjEuOSAyIDIgMmgxMGEyIDIgMCAwIDAgMi0yVjlhMiAyIDAgMCAwLTItMkg1LjlWNlptMS42OSA3LjQxYTIgMiAwIDEgMSAyLjgyLTIuODJBMiAyIDAgMCAxIDcuNiAxMy40WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25VbmxvY2tTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbmxvY2tTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTQuOSA0LjVhMi4xIDIuMSAwIDAgMSAzLjYtMS40Ny43LjcgMCAwIDAgMS0uOTkgMy41IDMuNSAwIDAgMC02IDIuNDZWNUMyLjY3IDUgMiA1LjY3IDIgNi41djVjMCAuODMuNjcgMS41IDEuNSAxLjVoN2MuODMgMCAxLjUtLjY3IDEuNS0xLjV2LTVjMC0uODMtLjY3LTEuNS0xLjUtMS41SDQuOXYtLjVaTTguNSA5YTEuNSAxLjUgMCAxIDEtMyAwIDEuNSAxLjUgMCAwIDEgMyAwWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25Vbm9yZGVyZWRMaXN0ID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblVub3JkZXJlZExpc3RcXFwiIHdpZHRoPVxcXCIxN1xcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNyAxOFxcXCI+PHBhdGggIGQ9XFxcIk00LjI1IDRhMS4yNSAxLjI1IDAgMSAxLTIuNSAwIDEuMjUgMS4yNSAwIDAgMSAyLjUgMFpNMTUgNUg2VjNoOXYyWm0wIDEwSDZ2LTJoOXYyWm0tOS01aDlWOEg2djJabS0xLjc1IDRhMS4yNSAxLjI1IDAgMSAxLTIuNSAwIDEuMjUgMS4yNSAwIDAgMSAyLjUgMFpNMyAxMC4yNWExLjI1IDEuMjUgMCAxIDAgMC0yLjUgMS4yNSAxLjI1IDAgMCAwIDAgMi41WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25VbnN5bmMgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVW5zeW5jXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoICBkPVxcXCJNMTcuMDQgMi4zOCAxNS42Mi45Ni45NiAxNS42MmwxLjQyIDEuNDJMMTcuMDQgMi4zOFpNOSAxYzEuNDYgMCAyLjgyLjM2IDQuMDEgMWwtMS42MyAxLjY0QTYuMyA2LjMgMCAwIDAgNC4zIDUuM0w3IDhIMVYybDEuNzYgMS43NkE4LjM2IDguMzYgMCAwIDEgOSAxWm01LjUgNS41IDEuNi0xLjZjLjQuNjUuNyAxLjM1LjkgMi4xaC0yLjI5YTUuNjkgNS42OSAwIDAgMC0uMjItLjVaTTMuMjggMTFsLjIyLjUtMS42IDEuNkE3LjgyIDcuODIgMCAwIDEgMSAxMWgyLjI5Wm0zLjM0IDMuMzdMNSAxNmE4LjQzIDguNDMgMCAwIDAgMTAuMjQtMS43NkwxNyAxNnYtNmgtNmwyLjcgMi43YTYuMyA2LjMgMCAwIDEtNy4wNiAxLjY3WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25VbnN5bmNTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbnN5bmNTbVxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiAgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48cGF0aCAgZD1cXFwiTTEyLjMuNy44IDEyLjE3bDEuMDIgMS4wMUwxMy4zIDEuNzFsLTEtMS4wMlpNNyAxM2MtLjg4IDAtMS43Mi0uMTktMi40OC0uNTJMNS44IDExLjJhNC41NCA0LjU0IDAgMCAwIDQuNzgtMS42Mkw5IDhoNHY0bC0xLjI1LTEuMjVBNi4xIDYuMSAwIDAgMSA3IDEzWm00LjMzLTdhNC4yNSA0LjI1IDAgMCAwLS4wNy0uMjZsMS4yNi0xLjI2Yy4yMy40Ny4zOS45OS40OCAxLjUyaC0xLjY3Wm0tMy4xLTMuMkw5LjUgMS41M2E2LjEzIDYuMTMgMCAwIDAtNy4yNSAxLjcyTDEgMnY0aDRMMy40MiA0LjQyYTQuNDYgNC40NiAwIDAgMSA0LjgtMS42MlpNMS40OSA5LjU0bDEuMjYtMS4yNkwyLjY3IDhIMWMuMS41NC4yNiAxLjA2LjQ5IDEuNTRaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblVudHJhc2ggPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uVW50cmFzaFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTEyLjE0IDRIMlYzYTEgMSAwIDAgMSAxLTFoMmExIDEgMCAwIDEgMS0xaDZhMSAxIDAgMCAxIDEgMWgxLjE0bDEtMSAxLjQyIDEuNDFMMi40IDE2LjU2IDEgMTUuMTRsMi0yVjVoOC4xNGwxLTFaTTE1IDYuOCA0LjggMTdIMTNhMiAyIDAgMCAwIDItMlY2LjhaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblVudHJhc2hTbSA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25VbnRyYXNoU21cXFwiIHdpZHRoPVxcXCIxNFxcXCIgaGVpZ2h0PVxcXCIxNFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCI+PHBhdGggIGQ9XFxcIk03LjY3IDRIMS45NFYzYTEgMSAwIDAgMSAxLTFoMmExIDEgMCAwIDEgMS0xaDJhMSAxIDAgMCAxIDEgMWguNzNsLjk0LS45NCAxLjA2IDEuMDYtMTAuNiAxMC42TDAgMTEuNjhsMi45NC0yLjk0VjVoMy43M2wxLTFabTQuMjMgMCAuMDQtLjAzVjRoLS4wM1ptLTEgMS03LjM5IDcuNGEyIDIgMCAwIDAgMS40My42aDRhMiAyIDAgMCAwIDItMlY1aC0uMDNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvblZLID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvblZLXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiICB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPjxwYXRoIGZpbGw9XFxcIiM1MDcyOTlcXFwiIGQ9XFxcIk04LjQ0IDE0LjkzaDEuMDRzLjMtLjA0LjQ3LS4yMmMuMTUtLjE3LjE1LS40OC4xNS0uNDhzLS4wMy0xLjQ3LjYyLTEuNjhjLjY0LS4yMiAxLjQ1IDEuNDEgMi4zMSAyLjA0LjY2LjQ4IDEuMTYuMzggMS4xNi4zOGwyLjMtLjA0czEuMjItLjA4LjY0LTEuMDhjLS4wNC0uMDgtLjMyLS43NS0xLjctMi4xLTEuNDUtMS40Mi0xLjI1LTEuMi40OS0zLjY1IDEuMDUtMS41IDEuNDgtMi40IDEuMzQtMi44LS4xMi0uMzYtLjktLjI3LS45LS4yN2wtMi42LjAycy0uMTktLjAyLS4zMy4wN2MtLjE0LjA5LS4yMi4zLS4yMi4zcy0uNDIgMS4xNi0uOTcgMi4xNGMtMS4xNiAyLjA4LTEuNjMgMi4yLTEuODEgMi4wNi0uNDMtLjMtLjMyLTEuMi0uMzItMS44NSAwLTIuMDEuMjktMy4zOC0uNTYtMy42YTQuNSA0LjUgMCAwIDAtMS4yMi0uMTMgNS4zIDUuMyAwIDAgMC0yLjE1LjI0Yy0uMy4xNS0uNTIuNS0uMzkuNTEuMTcuMDMuNTYuMTEuNzcuNDEuMjcuMzkuMjUgMS43Ny4yNSAxLjc3cy4xNiAyLjM4LS4zNSAyLjY3Yy0uMzYuMi0uODMtLjIxLTEuODctMi4xLS41My0uOTYtLjkzLTIuMDMtLjkzLTIuMDNzLS4wNy0uMi0uMjEtLjNjLS4xNi0uMTMtLjQtLjE4LS40LS4xOGwtMi40Ny4wMnMtLjM3LjAyLS41LjE5Yy0uMTIuMTQtLjAxLjQ2LS4wMS40NlMyIDEwLjUgNC4xOSAxMi45YzIuMDEgMi4yMSA0LjI5IDIuMDcgNC4yOSAyLjA3bC0uMDQtLjA0WlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25WYWNhdGlvbiA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25WYWNhdGlvblxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCBmaWxsPVxcXCIjOTE5OUExXFxcIiBkPVxcXCJtMTEuNTYgMTAuMTMtMS40MyAxLjQzTDE1LjU3IDE3IDE3IDE1LjU3bC01LjQ0LTUuNDRaXFxcIi8+PHBhdGggZmlsbD1cXFwiI0Y3QUE2RFxcXCIgZD1cXFwibTE2LjI3IDMuNjMtMi41MyAyLjUzYTkuODYgOS44NiAwIDAgMC0xMC4xLTIuNTQgOC45MyA4LjkzIDAgMCAxIDEyLjYzLjAxWm0tMTIuNjUuMDFhOC45MyA4LjkzIDAgMCAwIC4wMSAxMi42M2wyLjUzLTIuNTNhOS44NiA5Ljg2IDAgMCAxLTIuNTQtMTAuMVpcXFwiLz48cGF0aCBmaWxsPVxcXCIjRjQ4MDI0XFxcIiBkPVxcXCJNMy42MiAzLjYzaC4wMWMyLjY2LS4zNCA2LjA5IDEuMDMgOC44NSAzLjhsLTUuMDYgNS4wNUM0LjY2IDkuNyAzLjMgNi4yOSAzLjYyIDMuNjNaXFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbldhbmQgPSBcIjxzdmcgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJzdmctaWNvbiBpY29uV2FuZFxcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiAgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj48cGF0aCAgZD1cXFwiTTE0LjQyIDYuNDhjLjMtLjMuMy0uNzcgMC0xLjA2bC0xLjg0LTEuODRhLjc1Ljc1IDAgMCAwLTEuMDYgMEwuNTggMTQuNTJjLS4zLjMtLjMuNzcgMCAxLjA2bDEuODQgMS44NGMuMy4zLjc3LjMgMS4wNiAwTDE0LjQyIDYuNDhabS0yLjM3LTIuNDMgMS45IDEuOS0zIDMtMS45LTEuOSAzLTNaTTggMEg3djFINnYxaDF2MWgxVjJoMVYxSDhWMFptOSAyaC0xVjFoLTF2MWgtMXYxaDF2MWgxVjNoMVYyWm0tMiA5aDF2MWgtMXYxaC0xdi0xaC0xdi0xaDF2LTFoMXYxWlxcXCIvPjwvc3ZnPlwiO1xuZXhwb3J0IGNvbnN0IEljb25XYXZlID0gXCI8c3ZnIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwic3ZnLWljb24gaWNvbldhdmVcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwiI0ZGQzE2NlxcXCIgZD1cXFwiTTEwLjcgMTdjLTIuMyAwLTMuOS0yLjA1LTUuMDctMy41NGwtLjQ5LS42Yy0uNjctLjgtMS41OS0xLjYzLTIuNC0yLjM2QTEwLjkxIDEwLjkxIDAgMCAxIDEuMSA4Ljg3Yy0uMTYtLjI4LS4xNS0uOC4xOC0uOTYuNDQtLjIzLjk1LS4wNSAxLjMyLjI0bDMuNSAyLjc1Yy4xLjA4LjItLjA2LjEzLS4xNS0uNTctLjgtMy40Mi00Ljc3LTMuNzEtNS4xNS0uNDktLjYzLS4xNy0xLjQ1LjY4LTEuNDUuNDQgMCAuNzYuMjguOTYuNTFsMy42IDQuNDJjLjA4LjA5LjIzIDAgLjE3LS4xTDQuNDEgMi45NmMtLjY0LTEuMSAxLjEzLTIgMS43Ny0uOWwzLjggNi4xM2MuMDcuMS4yMi4wMy4xOC0uMDlBMTUzLjggMTUzLjggMCAwIDAgOC4xIDIuNTRjLS4zMS0uNjgtLjItMS4xNC4zNi0xLjQyLjUyLS4yNyAxLjE0LS4wNyAxLjQ3LjQ4bDMuNjkgOC4zYy4wMi4wNC4wNS4wNS4xLjA2YS4xLjEgMCAwIDAgLjA5LS4wN2wuNjYtMi4yOGMuMi0uNjYuOTUtMSAxLjYtLjgxLjcuMTggMS4wOS44Ni44OSAxLjUtLjMzIDEuMjctLjcgMi41Mi0xLjA5IDMuNzctLjU4IDEuODYtMS4wMyAzLjMzLTMuMTEgNC40LS43LjM1LTEuMzguNTMtMi4wNS41M1pcXFwiLz48cGF0aCAgZD1cXFwiTTE0IC4zN2EuNS41IDAgMCAwLS44OC40NWwxLjk2IDMuOWEuNS41IDAgMCAwIC45LS40NUwxNCAuMzdabS0xLjE3IDIuMTdhLjUuNSAwIDAgMC0uOTEuNDJsLjg0IDEuODdhLjUuNSAwIDEgMCAuOTEtLjQxbC0uODQtMS44OFptLTEwLjYgOS43NGEuNS41IDAgMCAxIC43LS4wMmwxLjcgMS42YS41LjUgMCAwIDEtLjcuNzJsLTEuNjgtMS42YS41LjUgMCAwIDEtLjAyLS43Wm0tMS4zOS45OGEuNS41IDAgMSAwLS42OC43M2wzLjAzIDIuODRhLjUuNSAwIDAgMCAuNjgtLjczTC44NCAxMy4yNlpcXFwiIG9wYWNpdHk9XFxcIi40XFxcIi8+PC9zdmc+XCI7XG5leHBvcnQgY29uc3QgSWNvbllhbmRleCA9IFwiPHN2ZyBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInN2Zy1pY29uIGljb25ZYW5kZXhcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+PHBhdGggZmlsbD1cXFwicmVkXFxcIiBkPVxcXCJNMTEuMjYgMi40OGgtLjkyYy0xLjM4IDAtMi43My45Mi0yLjczIDMuNTggMCAyLjU3IDEuMjMgMy40IDIuNzMgMy40aC45MlYyLjQ4Wm0tMS40MyA4LjQxTDcuMSAxNy4wMmgtMmwzLTYuNTVjLTEuNC0uNzItMi4zNC0yLjAyLTIuMzQtNC40MSAwLTMuMzYgMi4xMi01LjAzIDQuNjUtNS4wM2gyLjU3djE2aC0xLjcydi02LjE0SDkuODNaXFxcIi8+PC9zdmc+XCI7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyB0eXBlb2YgY3VycmVudCA9PSAnb2JqZWN0JyAmJiAhfmxlYWZQcm90b3R5cGVzLmluZGV4T2YoY3VycmVudCk7IGN1cnJlbnQgPSBnZXRQcm90byhjdXJyZW50KSkge1xuXHRcdE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpLmZvckVhY2goKGtleSkgPT4gKGRlZltrZXldID0gKCkgPT4gKHZhbHVlW2tleV0pKSk7XG5cdH1cblx0ZGVmWydkZWZhdWx0J10gPSAoKSA9PiAodmFsdWUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGRlZik7XG5cdHJldHVybiBucztcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIG5vdCBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRpZiAoY2h1bmtJZCA9PT0gXCJkZWZhdWx0VmVuZG9ycy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3dpZGdldHNfZGF0ZXBpY2tlcl9qc1wiKSByZXR1cm4gXCJ3ZWJwYWNrLWNodW5rcy9cIiArIGNodW5rSWQgKyBcIi5bbG9jYWxlOmI2NGIyZTNmXS5qc1wiO1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwid2VicGFjay1jaHVua3MvXCIgKyBjaHVua0lkICsgXCIuXCIgKyB7XCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImRhZmU0ZDdkZjAzYzA2Y2MwN2FmXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hZl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjAzZDExYjMzZmYxMmMwYTljM2JiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hci1EWl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjVmY2RmZDlkYzdkMDNkNjRmNWJiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hcl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjAyMmUwZjgwMGI2NTY2MTAzZmE2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1hel9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImIxYWY3YmE1YTRiZTJmMjYxNjc3XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1iZV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjM4OWM5NmEzMWYzZDQ5YTcwOTFkXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1iZ19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImE4ZmU4MDk1NjhhNmQzOGU1ZjA2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ic19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImQ4YTU0N2UzZTRlYmI4MWYyNTNlXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1jYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImRmNzYyOGUzZjBiMTViZTY4NWU3XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1jc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjcyMTA0ZjVhZDdhM2JiNjE1Y2Q3XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1jeS1HQl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImEyOTIxMzU2ODQ3ODQ5YjljYTFlXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1kYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjI0NDEyZmVmNjAwYjdjOTQ1NDdhXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1kZS1BVF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjY5NjE2ODYxMjZkY2I3YjMxM2Q0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1kZV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjk0ZTBmYjUxYzJmMmZkYjE5ZjZjXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjVjNzVmZThiZWI1MDQwYThlOTY0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lbi1BVV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjY4NmNmMDcxZGMwY2IxZmI3MTZkXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lbi1HQl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImY1NjM1NDBlNTc4ZDJiMTZmNTJiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lbi1OWl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjE5N2JhMzIzMDUyNWYwNzA5MjQ2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lb19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjU0OTBiYTZiNTk1ZWFmYWJkNjg1XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1lc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImI0YjM1NmU3OTFmNWI3MWRjNjZiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ldF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImU2MDgwZmU2YmI3ZjJiOWY4M2Y2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ldV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImJlNWIwNDUzM2FmMDg2MzE4ZTEyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjg5MWVhY2ZjMjk0ZDkzYWExNjkzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1maV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImViYTFhZWM0ZjdlNjg5NmJiZGRkXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mb19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImU3ODNmMDEzODVmNmE3MDdkMjg0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mci1DQV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImY3NDIyMzg0YjkwZmMzYmNmZTgzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mci1DSF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImFhNDUwZjg1Nzg1ODkwNGU3ZjgzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1mcl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjRiOTE4MzM3NDk0ZTcwOTQxNmJlXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1nbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImY3MjIwNDBkYjk1ZjRmMWE3MzllXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1oZV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjYyNWUyYTAzOGRjMWZiMWM2ODRmXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1oaV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImMzNmY2Njk0ZDM5MWM4MjBmNTJiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ocl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImRjNzE0M2RiMTBiZTQwYjRhNmQxXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1odV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjAxNzFjZDhiZDBlNjZhNWZiNjU4XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1oeV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjg3NmM1YjcxOWI2ZDZiMjFjYjFiXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pZF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjIxZDVkNGVjZjhhNzM1ODAxNGQ0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjQ2Y2Q3MmUyM2IzN2M3MGI1ZTUyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pdC1DSF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImJmNWUxOTg3YzRmOTc3NWRiMGRjXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1pdF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjU5MTJmMWFkYzhjNThhNTM4Y2E2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1qYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjVhY2M5ODMyNmU5NTllYTU3NGNjXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1rYV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjZhMTgwNmJjMTBhNjFkM2U3ZDEyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ra19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjc0MDRmM2ZhMzc4NGQ0YzhjNWIyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1rbV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImZiNDAyM2ViMGQ0ODFlOTU2YzY0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1rb19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImE5OTVmOGUzZTljNjcwMjkwNjZkXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1reV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjFjMjA5YjNjZTJiZWZmMGE3YWI0XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1sYl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjRmMGY2MTcwYjc1MGQxYzA0OWNhXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1sdF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjMzZWZmZjkwN2ZjZGIzOTAxYzEyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1sdl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjU3OGFlNThlOTY1MzcwYTkzNjY2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ta19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImNmMWU5ODRlNGRiM2QxMzNiYWYyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1tbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjE2NmE2MWM0MmE5M2M2MmQ5MGU2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1tc19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImM4YzI2NDc2OTQ2ZjdhN2JiMWNmXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1uYl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjNjZmRhMDc0MGViNTY3YTk4YjAxXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ubC1CRV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjUxNjBkNTI3ZTdmYmQ2NjI5OGU3XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ubF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjRkNDkyMmZjOGVkMjBhYTcwNTY4XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ubl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImQ5YmMxOTNiYmUyZWUzMWY1ZjY1XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ub19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjRiMWQ0NjQ0N2JlY2Q1NTNkMmQ5XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1wbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImM2NjMzMmEwMTA0MjJmODhjMjQ2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1wdC1CUl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImViOGJjNzNhMDAxM2IwOGYwNGRmXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1wdF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjlkZmNiZDg1YzA4MWNhNWI1MjUzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ybV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjIyOGNiNWE0ZTVjNDg1N2VlOTcwXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1yb19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjBlY2YyNzZjYzZkOGQ3NjAzNjAyXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1ydV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjQ0NDEyN2ZjZjcxMjkyM2YzNjMzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1za19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjVlZmU5OTE4MGY5ZmRhODY3M2I5XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zbF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImQ1OWM4Y2U1NzU2ZjBkMWQyY2QzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zcV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImQxNTc5Zjg5NTM4OTk2ZDNjZjMxXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zci1TUl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjg5Nzg2ZjY5Yzg3YjY2ZmNlMGIzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zcl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjBlOWY1MDNhZWQwNGQ5MjIwODFkXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci1zdl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjZhZTA3YTRiMmE1NjE5ZTJiZjE2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10YV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjM3YzJkYTFjYjUxMTY3MzUzY2FmXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10aF9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjljNzc4M2Y1OThiNGEyZTRiOTk1XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10al9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjU0ODc3ZDM4NDU5NTU1NTUwMzg1XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci10cl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjhhMWNkY2JhMTgxYTIxM2NlYjhhXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci11a19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImMzZDY4ZThiNTM4MzhlOGQ4NTIzXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci12aV9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImJiNTQ2ZmU3OTAyYzkyZGVkYjE3XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci16aC1DTl9qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcIjlhOTI4YTYyNTI5ODMyZjcwNTdhXCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci16aC1IS19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImYzNmYxOTJmOTAxMjI3MjA1ZjE2XCIsXCJub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX2kxOG5fZGF0ZXBpY2tlci16aC1UV19qcy1ub2RlX21vZHVsZXNfanF1ZXJ5LXVpX3VpX3ZlcnNpb25fanNcIjpcImEyYzU3OWExY2U3ZmViN2ZjY2UwXCIsXCJfU2NyaXB0c19zaXRlLWluY2x1ZGVzX2NoZXNzX21vZF90c1wiOlwiYTg0NmY1YjViMzcxZjQxMWUwNDJcIixcIl9TY3JpcHRzX3NpdGUtaW5jbHVkZXNfbWF0aEhpZGVVc2VyUmVwX21vZF90c1wiOlwiMGIzYTY3Zjc4OTE3OWIwZjFiZjhcIixcIl9TY3JpcHRzX3NpdGUtaW5jbHVkZXNfcG9rZXJfbW9kX3RzXCI6XCJlNzA4OTU4ZjEwMmZkNmNkZjAzZlwifVtjaHVua0lkXSArIFwiLltsb2NhbGU6YjY0YjJlM2ZdLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcInN0YWNrb3ZlcmZsb3c6XCI7XG4vLyBsb2FkU2NyaXB0IGZ1bmN0aW9uIHRvIGxvYWQgYSBzY3JpcHQgdmlhIHNjcmlwdCB0YWdcbl9fd2VicGFja19yZXF1aXJlX18ubCA9ICh1cmwsIGRvbmUsIGtleSwgY2h1bmtJZCkgPT4ge1xuXHRpZihpblByb2dyZXNzW3VybF0pIHsgaW5Qcm9ncmVzc1t1cmxdLnB1c2goZG9uZSk7IHJldHVybjsgfVxuXHR2YXIgc2NyaXB0LCBuZWVkQXR0YWNoO1xuXHRpZihrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBzID0gc2NyaXB0c1tpXTtcblx0XHRcdGlmKHMuZ2V0QXR0cmlidXRlKFwic3JjXCIpID09IHVybCB8fCBzLmdldEF0dHJpYnV0ZShcImRhdGEtd2VicGFja1wiKSA9PSBkYXRhV2VicGFja1ByZWZpeCArIGtleSkgeyBzY3JpcHQgPSBzOyBicmVhazsgfVxuXHRcdH1cblx0fVxuXHRpZighc2NyaXB0KSB7XG5cdFx0bmVlZEF0dGFjaCA9IHRydWU7XG5cdFx0c2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cblx0XHRzY3JpcHQuY2hhcnNldCA9ICd1dGYtOCc7XG5cdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG5cdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcblx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKTtcblx0XHR9XG5cdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcImRhdGEtd2VicGFja1wiLCBkYXRhV2VicGFja1ByZWZpeCArIGtleSk7XG5cblx0XHRzY3JpcHQuc3JjID0gdXJsO1xuXHR9XG5cdGluUHJvZ3Jlc3NbdXJsXSA9IFtkb25lXTtcblx0dmFyIG9uU2NyaXB0Q29tcGxldGUgPSAocHJldiwgZXZlbnQpID0+IHtcblx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG5cdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0dmFyIGRvbmVGbnMgPSBpblByb2dyZXNzW3VybF07XG5cdFx0ZGVsZXRlIGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRzY3JpcHQucGFyZW50Tm9kZSAmJiBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuXHRcdGRvbmVGbnMgJiYgZG9uZUZucy5mb3JFYWNoKChmbikgPT4gKGZuKGV2ZW50KSkpO1xuXHRcdGlmKHByZXYpIHJldHVybiBwcmV2KGV2ZW50KTtcblx0fVxuXHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQob25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHVuZGVmaW5lZCwgeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pLCAxMjAwMDApO1xuXHRzY3JpcHQub25lcnJvciA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25lcnJvcik7XG5cdHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9ubG9hZCk7XG5cdG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xufTsiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcImZ1bGxcIjogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmogPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpID8gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdIDogdW5kZWZpbmVkO1xuXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cblx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcblx0XHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IChpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XSkpO1xuXHRcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdID0gcHJvbWlzZSk7XG5cblx0XHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG5cdFx0XHRcdFx0dmFyIHVybCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKTtcblx0XHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG5cdFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG5cdFx0XHRcdFx0dmFyIGxvYWRpbmdFbmRlZCA9IChldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkpIHtcblx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcblx0XHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGFbMV0oZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmwodXJsLCBsb2FkaW5nRW5kZWQsIFwiY2h1bmstXCIgKyBjaHVua0lkLCBjaHVua0lkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtzdGFja292ZXJmbG93XCJdID0gc2VsZltcIndlYnBhY2tDaHVua3N0YWNrb3ZlcmZsb3dcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIFdlIG5lZWQgdG8gc2V0IHRoZSBwdWJsaWMgcGF0aCBhdCBydW50aW1lIGJhc2VkIG9uIHRoZSBHbG9iYWxSb290IHNpdGUgc2V0dGluZy5cbi8vIChXZSBkb24ndCBrbm93IGF0IGJ1aWxkIHRpbWUgd2hlcmUgdGhlIHN0YXRpYyBmaWxlcyB3aWxsIGJlLFxuLy8gc2luY2Ugd2UgY291bGQgYmUgZGVwbG95ZWQgb24tcHJlbWlzZS4pXG4vLyBUaGUgdmFsdWUgb2YgdGhhdCBzaXRlIHNldHRpbmcgZ2V0cyB3cml0dGVuIG91dCB0byB0aGUgZG9tIGluIE1hc3Rlci5jc2h0bWxcbi8vIChzZWUgSmF2YVNjcmlwdEhlbHBlci5QdWJsaWNQYXRoKCkpIHNvIHRoYXQgd2UgY2FuIHJlYWQgaXQgaGVyZVxuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlYnBhY2stcHVibGljLXBhdGhcIikuaW5uZXJUZXh0ICsgXCJKcy9cIjtcblxuZXhwb3J0IHsgfTtcbiIsImltcG9ydCBcIi4uL2Z1bGwtY29tbW9uXCI7XG5pbXBvcnQgXCIuLzAwX2ltcG9ydC1qc1wiO1xuaW1wb3J0IFwiLi9kZWZpbml0aW9ucy9DU2hhcnBUb1R5cGVzY3JpcHRcIjtcbmltcG9ydCBcIi4vOTlfcm9sbGJhY2tcIjtcbmltcG9ydCBcIi4vOTlfVGFnUHJlZmVyZW5jZXNcIjtcbmltcG9ydCBcIi4vOTlfVXNlckZsYWdzXCI7XG5pbXBvcnQgXCIuLi8uLi9MZWdhY3lKUy9ib3VudHkuanNcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==